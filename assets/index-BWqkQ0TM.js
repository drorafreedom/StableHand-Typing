var pC=Object.defineProperty;var mC=(s,r,n)=>r in s?pC(s,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):s[r]=n;var is=(s,r,n)=>mC(s,typeof r!="symbol"?r+"":r,n);function gC(s,r){for(var n=0;n<r.length;n++){const t=r[n];if(typeof t!="string"&&!Array.isArray(t)){for(const o in t)if(o!=="default"&&!(o in s)){const c=Object.getOwnPropertyDescriptor(t,o);c&&Object.defineProperty(s,o,c.get?c:{enumerable:!0,get:()=>t[o]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))t(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const l of c.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&t(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function t(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();var jh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vy(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Ym={exports:{}},Sc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N1;function yC(){if(N1)return Sc;N1=1;var s=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function n(t,o,c){var l=null;if(c!==void 0&&(l=""+c),o.key!==void 0&&(l=""+o.key),"key"in o){c={};for(var h in o)h!=="key"&&(c[h]=o[h])}else c=o;return o=c.ref,{$$typeof:s,type:t,key:l,ref:o!==void 0?o:null,props:c}}return Sc.Fragment=r,Sc.jsx=n,Sc.jsxs=n,Sc}var U1;function vC(){return U1||(U1=1,Ym.exports=yC()),Ym.exports}var $=vC(),Xm={exports:{}},er={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F1;function bC(){if(F1)return er;F1=1;var s=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),t=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),l=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),a=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),w=Symbol.iterator;function f(K){return K===null||typeof K!="object"?null:(K=w&&K[w]||K["@@iterator"],typeof K=="function"?K:null)}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,y={};function m(K,se,le){this.props=K,this.context=se,this.refs=y,this.updater=le||p}m.prototype.isReactComponent={},m.prototype.setState=function(K,se){if(typeof K!="object"&&typeof K!="function"&&K!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,K,se,"setState")},m.prototype.forceUpdate=function(K){this.updater.enqueueForceUpdate(this,K,"forceUpdate")};function g(){}g.prototype=m.prototype;function v(K,se,le){this.props=K,this.context=se,this.refs=y,this.updater=le||p}var S=v.prototype=new g;S.constructor=v,b(S,m.prototype),S.isPureReactComponent=!0;var j=Array.isArray,A={H:null,A:null,T:null,S:null},L=Object.prototype.hasOwnProperty;function C(K,se,le,M,G,X){return le=X.ref,{$$typeof:s,type:K,key:se,ref:le!==void 0?le:null,props:X}}function T(K,se){return C(K.type,se,void 0,void 0,void 0,K.props)}function R(K){return typeof K=="object"&&K!==null&&K.$$typeof===s}function D(K){var se={"=":"=0",":":"=2"};return"$"+K.replace(/[=:]/g,function(le){return se[le]})}var k=/\/+/g;function F(K,se){return typeof K=="object"&&K!==null&&K.key!=null?D(""+K.key):se.toString(36)}function P(){}function q(K){switch(K.status){case"fulfilled":return K.value;case"rejected":throw K.reason;default:switch(typeof K.status=="string"?K.then(P,P):(K.status="pending",K.then(function(se){K.status==="pending"&&(K.status="fulfilled",K.value=se)},function(se){K.status==="pending"&&(K.status="rejected",K.reason=se)})),K.status){case"fulfilled":return K.value;case"rejected":throw K.reason}}throw K}function z(K,se,le,M,G){var X=typeof K;(X==="undefined"||X==="boolean")&&(K=null);var ee=!1;if(K===null)ee=!0;else switch(X){case"bigint":case"string":case"number":ee=!0;break;case"object":switch(K.$$typeof){case s:case r:ee=!0;break;case _:return ee=K._init,z(ee(K._payload),se,le,M,G)}}if(ee)return G=G(K),ee=M===""?"."+F(K,0):M,j(G)?(le="",ee!=null&&(le=ee.replace(k,"$&/")+"/"),z(G,se,le,"",function(pe){return pe})):G!=null&&(R(G)&&(G=T(G,le+(G.key==null||K&&K.key===G.key?"":(""+G.key).replace(k,"$&/")+"/")+ee)),se.push(G)),1;ee=0;var ae=M===""?".":M+":";if(j(K))for(var ce=0;ce<K.length;ce++)M=K[ce],X=ae+F(M,ce),ee+=z(M,se,le,X,G);else if(ce=f(K),typeof ce=="function")for(K=ce.call(K),ce=0;!(M=K.next()).done;)M=M.value,X=ae+F(M,ce++),ee+=z(M,se,le,X,G);else if(X==="object"){if(typeof K.then=="function")return z(q(K),se,le,M,G);throw se=String(K),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys(K).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.")}return ee}function H(K,se,le){if(K==null)return K;var M=[],G=0;return z(K,M,"","",function(X){return se.call(le,X,G++)}),M}function Q(K){if(K._status===-1){var se=K._result;se=se(),se.then(function(le){(K._status===0||K._status===-1)&&(K._status=1,K._result=le)},function(le){(K._status===0||K._status===-1)&&(K._status=2,K._result=le)}),K._status===-1&&(K._status=0,K._result=se)}if(K._status===1)return K._result.default;throw K._result}var J=typeof reportError=="function"?reportError:function(K){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var se=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof K=="object"&&K!==null&&typeof K.message=="string"?String(K.message):String(K),error:K});if(!window.dispatchEvent(se))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",K);return}console.error(K)};function Z(){}return er.Children={map:H,forEach:function(K,se,le){H(K,function(){se.apply(this,arguments)},le)},count:function(K){var se=0;return H(K,function(){se++}),se},toArray:function(K){return H(K,function(se){return se})||[]},only:function(K){if(!R(K))throw Error("React.Children.only expected to receive a single React element child.");return K}},er.Component=m,er.Fragment=n,er.Profiler=o,er.PureComponent=v,er.StrictMode=t,er.Suspense=a,er.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,er.act=function(){throw Error("act(...) is not supported in production builds of React.")},er.cache=function(K){return function(){return K.apply(null,arguments)}},er.cloneElement=function(K,se,le){if(K==null)throw Error("The argument must be a React element, but you passed "+K+".");var M=b({},K.props),G=K.key,X=void 0;if(se!=null)for(ee in se.ref!==void 0&&(X=void 0),se.key!==void 0&&(G=""+se.key),se)!L.call(se,ee)||ee==="key"||ee==="__self"||ee==="__source"||ee==="ref"&&se.ref===void 0||(M[ee]=se[ee]);var ee=arguments.length-2;if(ee===1)M.children=le;else if(1<ee){for(var ae=Array(ee),ce=0;ce<ee;ce++)ae[ce]=arguments[ce+2];M.children=ae}return C(K.type,G,void 0,void 0,X,M)},er.createContext=function(K){return K={$$typeof:l,_currentValue:K,_currentValue2:K,_threadCount:0,Provider:null,Consumer:null},K.Provider=K,K.Consumer={$$typeof:c,_context:K},K},er.createElement=function(K,se,le){var M,G={},X=null;if(se!=null)for(M in se.key!==void 0&&(X=""+se.key),se)L.call(se,M)&&M!=="key"&&M!=="__self"&&M!=="__source"&&(G[M]=se[M]);var ee=arguments.length-2;if(ee===1)G.children=le;else if(1<ee){for(var ae=Array(ee),ce=0;ce<ee;ce++)ae[ce]=arguments[ce+2];G.children=ae}if(K&&K.defaultProps)for(M in ee=K.defaultProps,ee)G[M]===void 0&&(G[M]=ee[M]);return C(K,X,void 0,void 0,null,G)},er.createRef=function(){return{current:null}},er.forwardRef=function(K){return{$$typeof:h,render:K}},er.isValidElement=R,er.lazy=function(K){return{$$typeof:_,_payload:{_status:-1,_result:K},_init:Q}},er.memo=function(K,se){return{$$typeof:d,type:K,compare:se===void 0?null:se}},er.startTransition=function(K){var se=A.T,le={};A.T=le;try{var M=K(),G=A.S;G!==null&&G(le,M),typeof M=="object"&&M!==null&&typeof M.then=="function"&&M.then(Z,J)}catch(X){J(X)}finally{A.T=se}},er.unstable_useCacheRefresh=function(){return A.H.useCacheRefresh()},er.use=function(K){return A.H.use(K)},er.useActionState=function(K,se,le){return A.H.useActionState(K,se,le)},er.useCallback=function(K,se){return A.H.useCallback(K,se)},er.useContext=function(K){return A.H.useContext(K)},er.useDebugValue=function(){},er.useDeferredValue=function(K,se){return A.H.useDeferredValue(K,se)},er.useEffect=function(K,se){return A.H.useEffect(K,se)},er.useId=function(){return A.H.useId()},er.useImperativeHandle=function(K,se,le){return A.H.useImperativeHandle(K,se,le)},er.useInsertionEffect=function(K,se){return A.H.useInsertionEffect(K,se)},er.useLayoutEffect=function(K,se){return A.H.useLayoutEffect(K,se)},er.useMemo=function(K,se){return A.H.useMemo(K,se)},er.useOptimistic=function(K,se){return A.H.useOptimistic(K,se)},er.useReducer=function(K,se,le){return A.H.useReducer(K,se,le)},er.useRef=function(K){return A.H.useRef(K)},er.useState=function(K){return A.H.useState(K)},er.useSyncExternalStore=function(K,se,le){return A.H.useSyncExternalStore(K,se,le)},er.useTransition=function(){return A.H.useTransition()},er.version="19.0.0",er}var V1;function cd(){return V1||(V1=1,Xm.exports=bC()),Xm.exports}var Te=cd();const Ru=vy(Te),Og=gC({__proto__:null,default:Ru},[Te]);var $m={exports:{}},jc={},Km={exports:{}},Qm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B1;function _C(){return B1||(B1=1,function(s){function r(H,Q){var J=H.length;H.push(Q);e:for(;0<J;){var Z=J-1>>>1,K=H[Z];if(0<o(K,Q))H[Z]=Q,H[J]=K,J=Z;else break e}}function n(H){return H.length===0?null:H[0]}function t(H){if(H.length===0)return null;var Q=H[0],J=H.pop();if(J!==Q){H[0]=J;e:for(var Z=0,K=H.length,se=K>>>1;Z<se;){var le=2*(Z+1)-1,M=H[le],G=le+1,X=H[G];if(0>o(M,J))G<K&&0>o(X,M)?(H[Z]=X,H[G]=J,Z=G):(H[Z]=M,H[le]=J,Z=le);else if(G<K&&0>o(X,J))H[Z]=X,H[G]=J,Z=G;else break e}}return Q}function o(H,Q){var J=H.sortIndex-Q.sortIndex;return J!==0?J:H.id-Q.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var l=Date,h=l.now();s.unstable_now=function(){return l.now()-h}}var a=[],d=[],_=1,w=null,f=3,p=!1,b=!1,y=!1,m=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;function S(H){for(var Q=n(d);Q!==null;){if(Q.callback===null)t(d);else if(Q.startTime<=H)t(d),Q.sortIndex=Q.expirationTime,r(a,Q);else break;Q=n(d)}}function j(H){if(y=!1,S(H),!b)if(n(a)!==null)b=!0,q();else{var Q=n(d);Q!==null&&z(j,Q.startTime-H)}}var A=!1,L=-1,C=5,T=-1;function R(){return!(s.unstable_now()-T<C)}function D(){if(A){var H=s.unstable_now();T=H;var Q=!0;try{e:{b=!1,y&&(y=!1,g(L),L=-1),p=!0;var J=f;try{t:{for(S(H),w=n(a);w!==null&&!(w.expirationTime>H&&R());){var Z=w.callback;if(typeof Z=="function"){w.callback=null,f=w.priorityLevel;var K=Z(w.expirationTime<=H);if(H=s.unstable_now(),typeof K=="function"){w.callback=K,S(H),Q=!0;break t}w===n(a)&&t(a),S(H)}else t(a);w=n(a)}if(w!==null)Q=!0;else{var se=n(d);se!==null&&z(j,se.startTime-H),Q=!1}}break e}finally{w=null,f=J,p=!1}Q=void 0}}finally{Q?k():A=!1}}}var k;if(typeof v=="function")k=function(){v(D)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,P=F.port2;F.port1.onmessage=D,k=function(){P.postMessage(null)}}else k=function(){m(D,0)};function q(){A||(A=!0,k())}function z(H,Q){L=m(function(){H(s.unstable_now())},Q)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(H){H.callback=null},s.unstable_continueExecution=function(){b||p||(b=!0,q())},s.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<H?Math.floor(1e3/H):5},s.unstable_getCurrentPriorityLevel=function(){return f},s.unstable_getFirstCallbackNode=function(){return n(a)},s.unstable_next=function(H){switch(f){case 1:case 2:case 3:var Q=3;break;default:Q=f}var J=f;f=Q;try{return H()}finally{f=J}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(H,Q){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var J=f;f=H;try{return Q()}finally{f=J}},s.unstable_scheduleCallback=function(H,Q,J){var Z=s.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?Z+J:Z):J=Z,H){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=J+K,H={id:_++,callback:Q,priorityLevel:H,startTime:J,expirationTime:K,sortIndex:-1},J>Z?(H.sortIndex=J,r(d,H),n(a)===null&&H===n(d)&&(y?(g(L),L=-1):y=!0,z(j,J-Z))):(H.sortIndex=K,r(a,H),b||p||(b=!0,q())),H},s.unstable_shouldYield=R,s.unstable_wrapCallback=function(H){var Q=f;return function(){var J=f;f=Q;try{return H.apply(this,arguments)}finally{f=J}}}}(Qm)),Qm}var G1;function wC(){return G1||(G1=1,Km.exports=_C()),Km.exports}var Zm={exports:{}},os={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z1;function xC(){if(z1)return os;z1=1;var s=cd();function r(a){var d="https://react.dev/errors/"+a;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)d+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+a+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var t={d:{f:n,r:function(){throw Error(r(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(a,d,_){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:a,containerInfo:d,implementation:_}}var l=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(a,d){if(a==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return os.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=t,os.createPortal=function(a,d){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(r(299));return c(a,d,null,_)},os.flushSync=function(a){var d=l.T,_=t.p;try{if(l.T=null,t.p=2,a)return a()}finally{l.T=d,t.p=_,t.d.f()}},os.preconnect=function(a,d){typeof a=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,t.d.C(a,d))},os.prefetchDNS=function(a){typeof a=="string"&&t.d.D(a)},os.preinit=function(a,d){if(typeof a=="string"&&d&&typeof d.as=="string"){var _=d.as,w=h(_,d.crossOrigin),f=typeof d.integrity=="string"?d.integrity:void 0,p=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;_==="style"?t.d.S(a,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:w,integrity:f,fetchPriority:p}):_==="script"&&t.d.X(a,{crossOrigin:w,integrity:f,fetchPriority:p,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},os.preinitModule=function(a,d){if(typeof a=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var _=h(d.as,d.crossOrigin);t.d.M(a,{crossOrigin:_,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&t.d.M(a)},os.preload=function(a,d){if(typeof a=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var _=d.as,w=h(_,d.crossOrigin);t.d.L(a,_,{crossOrigin:w,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},os.preloadModule=function(a,d){if(typeof a=="string")if(d){var _=h(d.as,d.crossOrigin);t.d.m(a,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:_,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else t.d.m(a)},os.requestFormReset=function(a){t.d.r(a)},os.unstable_batchedUpdates=function(a,d){return a(d)},os.useFormState=function(a,d,_){return l.H.useFormState(a,d,_)},os.useFormStatus=function(){return l.H.useHostTransitionStatus()},os.version="19.0.0",os}var H1;function yx(){if(H1)return Zm.exports;H1=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(r){console.error(r)}}return s(),Zm.exports=xC(),Zm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q1;function SC(){if(q1)return jc;q1=1;var s=wC(),r=cd(),n=yx();function t(i){var u="https://react.dev/errors/"+i;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)u+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+i+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}var c=Symbol.for("react.element"),l=Symbol.for("react.transitional.element"),h=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),w=Symbol.for("react.provider"),f=Symbol.for("react.consumer"),p=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),S=Symbol.for("react.offscreen"),j=Symbol.for("react.memo_cache_sentinel"),A=Symbol.iterator;function L(i){return i===null||typeof i!="object"?null:(i=A&&i[A]||i["@@iterator"],typeof i=="function"?i:null)}var C=Symbol.for("react.client.reference");function T(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===C?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case a:return"Fragment";case h:return"Portal";case _:return"Profiler";case d:return"StrictMode";case y:return"Suspense";case m:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case p:return(i.displayName||"Context")+".Provider";case f:return(i._context.displayName||"Context")+".Consumer";case b:var u=i.render;return i=i.displayName,i||(i=u.displayName||u.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case g:return u=i.displayName||null,u!==null?u:T(i.type)||"Memo";case v:u=i._payload,i=i._init;try{return T(i(u))}catch{}}return null}var R=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=Object.assign,k,F;function P(i){if(k===void 0)try{throw Error()}catch(x){var u=x.stack.trim().match(/\n( *(at )?)/);k=u&&u[1]||"",F=-1<x.stack.indexOf(`
    at`)?" (<anonymous>)":-1<x.stack.indexOf("@")?"@unknown:0:0":""}return`
`+k+i+F}var q=!1;function z(i,u){if(!i||q)return"";q=!0;var x=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var O={DetermineComponentFrameRoot:function(){try{if(u){var pt=function(){throw Error()};if(Object.defineProperty(pt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(pt,[])}catch(rt){var Qe=rt}Reflect.construct(i,[],pt)}else{try{pt.call()}catch(rt){Qe=rt}i.call(pt.prototype)}}else{try{throw Error()}catch(rt){Qe=rt}(pt=i())&&typeof pt.catch=="function"&&pt.catch(function(){})}}catch(rt){if(rt&&Qe&&typeof rt.stack=="string")return[rt.stack,Qe.stack]}return[null,null]}};O.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var V=Object.getOwnPropertyDescriptor(O.DetermineComponentFrameRoot,"name");V&&V.configurable&&Object.defineProperty(O.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var W=O.DetermineComponentFrameRoot(),ue=W[0],be=W[1];if(ue&&be){var Ie=ue.split(`
`),ze=be.split(`
`);for(V=O=0;O<Ie.length&&!Ie[O].includes("DetermineComponentFrameRoot");)O++;for(;V<ze.length&&!ze[V].includes("DetermineComponentFrameRoot");)V++;if(O===Ie.length||V===ze.length)for(O=Ie.length-1,V=ze.length-1;1<=O&&0<=V&&Ie[O]!==ze[V];)V--;for(;1<=O&&0<=V;O--,V--)if(Ie[O]!==ze[V]){if(O!==1||V!==1)do if(O--,V--,0>V||Ie[O]!==ze[V]){var st=`
`+Ie[O].replace(" at new "," at ");return i.displayName&&st.includes("<anonymous>")&&(st=st.replace("<anonymous>",i.displayName)),st}while(1<=O&&0<=V);break}}}finally{q=!1,Error.prepareStackTrace=x}return(x=i?i.displayName||i.name:"")?P(x):""}function H(i){switch(i.tag){case 26:case 27:case 5:return P(i.type);case 16:return P("Lazy");case 13:return P("Suspense");case 19:return P("SuspenseList");case 0:case 15:return i=z(i.type,!1),i;case 11:return i=z(i.type.render,!1),i;case 1:return i=z(i.type,!0),i;default:return""}}function Q(i){try{var u="";do u+=H(i),i=i.return;while(i);return u}catch(x){return`
Error generating stack: `+x.message+`
`+x.stack}}function J(i){var u=i,x=i;if(i.alternate)for(;u.return;)u=u.return;else{i=u;do u=i,u.flags&4098&&(x=u.return),i=u.return;while(i)}return u.tag===3?x:null}function Z(i){if(i.tag===13){var u=i.memoizedState;if(u===null&&(i=i.alternate,i!==null&&(u=i.memoizedState)),u!==null)return u.dehydrated}return null}function K(i){if(J(i)!==i)throw Error(t(188))}function se(i){var u=i.alternate;if(!u){if(u=J(i),u===null)throw Error(t(188));return u!==i?null:i}for(var x=i,O=u;;){var V=x.return;if(V===null)break;var W=V.alternate;if(W===null){if(O=V.return,O!==null){x=O;continue}break}if(V.child===W.child){for(W=V.child;W;){if(W===x)return K(V),i;if(W===O)return K(V),u;W=W.sibling}throw Error(t(188))}if(x.return!==O.return)x=V,O=W;else{for(var ue=!1,be=V.child;be;){if(be===x){ue=!0,x=V,O=W;break}if(be===O){ue=!0,O=V,x=W;break}be=be.sibling}if(!ue){for(be=W.child;be;){if(be===x){ue=!0,x=W,O=V;break}if(be===O){ue=!0,O=W,x=V;break}be=be.sibling}if(!ue)throw Error(t(189))}}if(x.alternate!==O)throw Error(t(190))}if(x.tag!==3)throw Error(t(188));return x.stateNode.current===x?i:u}function le(i){var u=i.tag;if(u===5||u===26||u===27||u===6)return i;for(i=i.child;i!==null;){if(u=le(i),u!==null)return u;i=i.sibling}return null}var M=Array.isArray,G=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X={pending:!1,data:null,method:null,action:null},ee=[],ae=-1;function ce(i){return{current:i}}function pe(i){0>ae||(i.current=ee[ae],ee[ae]=null,ae--)}function ve(i,u){ae++,ee[ae]=i.current,i.current=u}var ge=ce(null),Se=ce(null),xe=ce(null),he=ce(null);function je(i,u){switch(ve(xe,u),ve(Se,i),ve(ge,null),i=u.nodeType,i){case 9:case 11:u=(u=u.documentElement)&&(u=u.namespaceURI)?h1(u):0;break;default:if(i=i===8?u.parentNode:u,u=i.tagName,i=i.namespaceURI)i=h1(i),u=f1(i,u);else switch(u){case"svg":u=1;break;case"math":u=2;break;default:u=0}}pe(ge),ve(ge,u)}function Ce(){pe(ge),pe(Se),pe(xe)}function De(i){i.memoizedState!==null&&ve(he,i);var u=ge.current,x=f1(u,i.type);u!==x&&(ve(Se,i),ve(ge,x))}function Oe(i){Se.current===i&&(pe(ge),pe(Se)),he.current===i&&(pe(he),vc._currentValue=X)}var ke=Object.prototype.hasOwnProperty,Fe=s.unstable_scheduleCallback,Je=s.unstable_cancelCallback,Ue=s.unstable_shouldYield,mt=s.unstable_requestPaint,ut=s.unstable_now,it=s.unstable_getCurrentPriorityLevel,ft=s.unstable_ImmediatePriority,lt=s.unstable_UserBlockingPriority,Le=s.unstable_NormalPriority,et=s.unstable_LowPriority,Be=s.unstable_IdlePriority,de=s.log,me=s.unstable_setDisableYieldValue,ie=null,ye=null;function Me(i){if(ye&&typeof ye.onCommitFiberRoot=="function")try{ye.onCommitFiberRoot(ie,i,void 0,(i.current.flags&128)===128)}catch{}}function Ne(i){if(typeof de=="function"&&me(i),ye&&typeof ye.setStrictMode=="function")try{ye.setStrictMode(ie,i)}catch{}}var Xe=Math.clz32?Math.clz32:vt,ct=Math.log,yt=Math.LN2;function vt(i){return i>>>=0,i===0?32:31-(ct(i)/yt|0)|0}var bt=128,Nt=4194304;function Tt(i){var u=i&42;if(u!==0)return u;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function St(i,u){var x=i.pendingLanes;if(x===0)return 0;var O=0,V=i.suspendedLanes,W=i.pingedLanes,ue=i.warmLanes;i=i.finishedLanes!==0;var be=x&134217727;return be!==0?(x=be&~V,x!==0?O=Tt(x):(W&=be,W!==0?O=Tt(W):i||(ue=be&~ue,ue!==0&&(O=Tt(ue))))):(be=x&~V,be!==0?O=Tt(be):W!==0?O=Tt(W):i||(ue=x&~ue,ue!==0&&(O=Tt(ue)))),O===0?0:u!==0&&u!==O&&!(u&V)&&(V=O&-O,ue=u&-u,V>=ue||V===32&&(ue&4194176)!==0)?u:O}function Lt(i,u){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&u)===0}function kt(i,u){switch(i){case 1:case 2:case 4:case 8:return u+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mr(){var i=bt;return bt<<=1,!(bt&4194176)&&(bt=128),i}function Wr(){var i=Nt;return Nt<<=1,!(Nt&62914560)&&(Nt=4194304),i}function Nr(i){for(var u=[],x=0;31>x;x++)u.push(i);return u}function Bt(i,u){i.pendingLanes|=u,u!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Er(i,u,x,O,V,W){var ue=i.pendingLanes;i.pendingLanes=x,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=x,i.entangledLanes&=x,i.errorRecoveryDisabledLanes&=x,i.shellSuspendCounter=0;var be=i.entanglements,Ie=i.expirationTimes,ze=i.hiddenUpdates;for(x=ue&~x;0<x;){var st=31-Xe(x),pt=1<<st;be[st]=0,Ie[st]=-1;var Qe=ze[st];if(Qe!==null)for(ze[st]=null,st=0;st<Qe.length;st++){var rt=Qe[st];rt!==null&&(rt.lane&=-536870913)}x&=~pt}O!==0&&Qt(i,O,0),W!==0&&V===0&&i.tag!==0&&(i.suspendedLanes|=W&~(ue&~u))}function Qt(i,u,x){i.pendingLanes|=u,i.suspendedLanes&=~u;var O=31-Xe(u);i.entangledLanes|=u,i.entanglements[O]=i.entanglements[O]|1073741824|x&4194218}function Vr(i,u){var x=i.entangledLanes|=u;for(i=i.entanglements;x;){var O=31-Xe(x),V=1<<O;V&u|i[O]&u&&(i[O]|=u),x&=~V}}function Zr(i){return i&=-i,2<i?8<i?i&134217727?32:268435456:8:2}function fr(){var i=G.p;return i!==0?i:(i=window.event,i===void 0?32:I1(i.type))}function Br(i,u){var x=G.p;try{return G.p=i,u()}finally{G.p=x}}var es=Math.random().toString(36).slice(2),Kr="__reactFiber$"+es,Yr="__reactProps$"+es,vs="__reactContainer$"+es,Ms="__reactEvents$"+es,Ys="__reactListeners$"+es,Ae="__reactHandles$"+es,dt="__reactResources$"+es,wt="__reactMarker$"+es;function ot(i){delete i[Kr],delete i[Yr],delete i[Ms],delete i[Ys],delete i[Ae]}function qt(i){var u=i[Kr];if(u)return u;for(var x=i.parentNode;x;){if(u=x[vs]||x[Kr]){if(x=u.alternate,u.child!==null||x!==null&&x.child!==null)for(i=g1(i);i!==null;){if(x=i[Kr])return x;i=g1(i)}return u}i=x,x=i.parentNode}return null}function tt(i){if(i=i[Kr]||i[vs]){var u=i.tag;if(u===5||u===6||u===13||u===26||u===27||u===3)return i}return null}function Zt(i){var u=i.tag;if(u===5||u===26||u===27||u===6)return i.stateNode;throw Error(t(33))}function _t(i){var u=i[dt];return u||(u=i[dt]={hoistableStyles:new Map,hoistableScripts:new Map}),u}function Pt(i){i[wt]=!0}var xt=new Set,kr={};function pr(i,u){nr(i,u),nr(i+"Capture",u)}function nr(i,u){for(kr[i]=u,i=0;i<u.length;i++)xt.add(u[i])}var gr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bs=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Rn={},ts={};function Jr(i){return ke.call(ts,i)?!0:ke.call(Rn,i)?!1:bs.test(i)?ts[i]=!0:(Rn[i]=!0,!1)}function mi(i,u,x){if(Jr(u))if(x===null)i.removeAttribute(u);else{switch(typeof x){case"undefined":case"function":case"symbol":i.removeAttribute(u);return;case"boolean":var O=u.toLowerCase().slice(0,5);if(O!=="data-"&&O!=="aria-"){i.removeAttribute(u);return}}i.setAttribute(u,""+x)}}function mn(i,u,x){if(x===null)i.removeAttribute(u);else{switch(typeof x){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(u);return}i.setAttribute(u,""+x)}}function On(i,u,x,O){if(O===null)i.removeAttribute(x);else{switch(typeof O){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(x);return}i.setAttributeNS(u,x,""+O)}}function gn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function ka(i){var u=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function Ml(i){var u=ka(i)?"checked":"value",x=Object.getOwnPropertyDescriptor(i.constructor.prototype,u),O=""+i[u];if(!i.hasOwnProperty(u)&&typeof x<"u"&&typeof x.get=="function"&&typeof x.set=="function"){var V=x.get,W=x.set;return Object.defineProperty(i,u,{configurable:!0,get:function(){return V.call(this)},set:function(ue){O=""+ue,W.call(this,ue)}}),Object.defineProperty(i,u,{enumerable:x.enumerable}),{getValue:function(){return O},setValue:function(ue){O=""+ue},stopTracking:function(){i._valueTracker=null,delete i[u]}}}}function Pi(i){i._valueTracker||(i._valueTracker=Ml(i))}function no(i){if(!i)return!1;var u=i._valueTracker;if(!u)return!0;var x=u.getValue(),O="";return i&&(O=ka(i)?i.checked?"true":"false":i.value),i=O,i!==x?(u.setValue(i),!0):!1}function so(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Xs=/[\n"\\]/g;function Xr(i){return i.replace(Xs,function(u){return"\\"+u.charCodeAt(0).toString(16)+" "})}function Di(i,u,x,O,V,W,ue,be){i.name="",ue!=null&&typeof ue!="function"&&typeof ue!="symbol"&&typeof ue!="boolean"?i.type=ue:i.removeAttribute("type"),u!=null?ue==="number"?(u===0&&i.value===""||i.value!=u)&&(i.value=""+gn(u)):i.value!==""+gn(u)&&(i.value=""+gn(u)):ue!=="submit"&&ue!=="reset"||i.removeAttribute("value"),u!=null?io(i,ue,gn(u)):x!=null?io(i,ue,gn(x)):O!=null&&i.removeAttribute("value"),V==null&&W!=null&&(i.defaultChecked=!!W),V!=null&&(i.checked=V&&typeof V!="function"&&typeof V!="symbol"),be!=null&&typeof be!="function"&&typeof be!="symbol"&&typeof be!="boolean"?i.name=""+gn(be):i.removeAttribute("name")}function gi(i,u,x,O,V,W,ue,be){if(W!=null&&typeof W!="function"&&typeof W!="symbol"&&typeof W!="boolean"&&(i.type=W),u!=null||x!=null){if(!(W!=="submit"&&W!=="reset"||u!=null))return;x=x!=null?""+gn(x):"",u=u!=null?""+gn(u):x,be||u===i.value||(i.value=u),i.defaultValue=u}O=O??V,O=typeof O!="function"&&typeof O!="symbol"&&!!O,i.checked=be?i.checked:!!O,i.defaultChecked=!!O,ue!=null&&typeof ue!="function"&&typeof ue!="symbol"&&typeof ue!="boolean"&&(i.name=ue)}function io(i,u,x){u==="number"&&so(i.ownerDocument)===i||i.defaultValue===""+x||(i.defaultValue=""+x)}function ar(i,u,x,O){if(i=i.options,u){u={};for(var V=0;V<x.length;V++)u["$"+x[V]]=!0;for(x=0;x<i.length;x++)V=u.hasOwnProperty("$"+i[x].value),i[x].selected!==V&&(i[x].selected=V),V&&O&&(i[x].defaultSelected=!0)}else{for(x=""+gn(x),u=null,V=0;V<i.length;V++){if(i[V].value===x){i[V].selected=!0,O&&(i[V].defaultSelected=!0);return}u!==null||i[V].disabled||(u=i[V])}u!==null&&(u.selected=!0)}}function $s(i,u,x){if(u!=null&&(u=""+gn(u),u!==i.value&&(i.value=u),x==null)){i.defaultValue!==u&&(i.defaultValue=u);return}i.defaultValue=x!=null?""+gn(x):""}function Ps(i,u,x,O){if(u==null){if(O!=null){if(x!=null)throw Error(t(92));if(M(O)){if(1<O.length)throw Error(t(93));O=O[0]}x=O}x==null&&(x=""),u=x}x=gn(u),i.defaultValue=x,O=i.textContent,O===x&&O!==""&&O!==null&&(i.value=O)}function en(i,u){if(u){var x=i.firstChild;if(x&&x===i.lastChild&&x.nodeType===3){x.nodeValue=u;return}}i.textContent=u}var Pl=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Wo(i,u,x){var O=u.indexOf("--")===0;x==null||typeof x=="boolean"||x===""?O?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="":O?i.setProperty(u,x):typeof x!="number"||x===0||Pl.has(u)?u==="float"?i.cssFloat=x:i[u]=(""+x).trim():i[u]=x+"px"}function yi(i,u,x){if(u!=null&&typeof u!="object")throw Error(t(62));if(i=i.style,x!=null){for(var O in x)!x.hasOwnProperty(O)||u!=null&&u.hasOwnProperty(O)||(O.indexOf("--")===0?i.setProperty(O,""):O==="float"?i.cssFloat="":i[O]="");for(var V in u)O=u[V],u.hasOwnProperty(V)&&x[V]!==O&&Wo(i,V,O)}else for(var W in u)u.hasOwnProperty(W)&&Wo(i,W,u[W])}function Yo(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ma=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ds(i){return Ma.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var _s=null;function oo(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ks=null,vi=null;function Qs(i){var u=tt(i);if(u&&(i=u.stateNode)){var x=i[Yr]||null;e:switch(i=u.stateNode,u.type){case"input":if(Di(i,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name),u=x.name,x.type==="radio"&&u!=null){for(x=i;x.parentNode;)x=x.parentNode;for(x=x.querySelectorAll('input[name="'+Xr(""+u)+'"][type="radio"]'),u=0;u<x.length;u++){var O=x[u];if(O!==i&&O.form===i.form){var V=O[Yr]||null;if(!V)throw Error(t(90));Di(O,V.value,V.defaultValue,V.defaultValue,V.checked,V.defaultChecked,V.type,V.name)}}for(u=0;u<x.length;u++)O=x[u],O.form===i.form&&no(O)}break e;case"textarea":$s(i,x.value,x.defaultValue);break e;case"select":u=x.value,u!=null&&ar(i,!!x.multiple,u,!1)}}}var Pa=!1;function Dl(i,u,x){if(Pa)return i(u,x);Pa=!0;try{var O=i(u);return O}finally{if(Pa=!1,(Ks!==null||vi!==null)&&(sh(),Ks&&(u=Ks,i=vi,vi=Ks=null,Qs(u),i)))for(u=0;u<i.length;u++)Qs(i[u])}}function ao(i,u){var x=i.stateNode;if(x===null)return null;var O=x[Yr]||null;if(O===null)return null;x=O[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(O=!O.disabled)||(i=i.type,O=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!O;break e;default:i=!1}if(i)return null;if(x&&typeof x!="function")throw Error(t(231,u,typeof x));return x}var ws=!1;if(gr)try{var Li={};Object.defineProperty(Li,"passive",{get:function(){ws=!0}}),window.addEventListener("test",Li,Li),window.removeEventListener("test",Li,Li)}catch{ws=!1}var dn=null,Ln=null,fs=null;function bi(){if(fs)return fs;var i,u=Ln,x=u.length,O,V="value"in dn?dn.value:dn.textContent,W=V.length;for(i=0;i<x&&u[i]===V[i];i++);var ue=x-i;for(O=1;O<=ue&&u[x-O]===V[W-O];O++);return fs=V.slice(i,1<O?1-O:void 0)}function yn(i){var u=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&u===13&&(i=13)):i=u,i===10&&(i=13),32<=i||i===13?i:0}function rs(){return!0}function Da(){return!1}function Ur(i){function u(x,O,V,W,ue){this._reactName=x,this._targetInst=V,this.type=O,this.nativeEvent=W,this.target=ue,this.currentTarget=null;for(var be in i)i.hasOwnProperty(be)&&(x=i[be],this[be]=x?x(W):W[be]);return this.isDefaultPrevented=(W.defaultPrevented!=null?W.defaultPrevented:W.returnValue===!1)?rs:Da,this.isPropagationStopped=Da,this}return D(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var x=this.nativeEvent;x&&(x.preventDefault?x.preventDefault():typeof x.returnValue!="unknown"&&(x.returnValue=!1),this.isDefaultPrevented=rs)},stopPropagation:function(){var x=this.nativeEvent;x&&(x.stopPropagation?x.stopPropagation():typeof x.cancelBubble!="unknown"&&(x.cancelBubble=!0),this.isPropagationStopped=rs)},persist:function(){},isPersistent:rs}),u}var lr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lo=Ur(lr),Ni=D({},lr,{view:0,detail:0}),La=Ur(Ni),uo,co,Ls,_i=D({},Ni,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jt,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ls&&(Ls&&i.type==="mousemove"?(uo=i.screenX-Ls.screenX,co=i.screenY-Ls.screenY):co=uo=0,Ls=i),uo)},movementY:function(i){return"movementY"in i?i.movementY:co}}),ps=Ur(_i),Na=D({},_i,{dataTransfer:0}),Ll=Ur(Na),Ui=D({},Ni,{relatedTarget:0}),ho=Ur(Ui),Xo=D({},lr,{animationName:0,elapsedTime:0,pseudoElement:0}),fo=Ur(Xo),Ua=D({},lr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),po=Ur(Ua),Fa=D({},lr,{data:0}),Fi=Ur(Fa),wi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Va={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ns={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xs(i){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(i):(i=Ns[i])?!!u[i]:!1}function jt(){return xs}var Nl=D({},Ni,{key:function(i){if(i.key){var u=wi[i.key]||i.key;if(u!=="Unidentified")return u}return i.type==="keypress"?(i=yn(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Va[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jt,charCode:function(i){return i.type==="keypress"?yn(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?yn(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),mo=Ur(Nl),xi=D({},_i,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ba=Ur(xi),Si=D({},Ni,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jt}),yr=Ur(Si),Ga=D({},lr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ul=Ur(Ga),ns=D({},_i,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),$o=Ur(ns),Hn=D({},lr,{newState:0,oldState:0}),Fl=Ur(Hn),Vl=[9,13,27,32],Zs=gr&&"CompositionEvent"in window,U=null;gr&&"documentMode"in document&&(U=document.documentMode);var re=gr&&"TextEvent"in window&&!U,oe=gr&&(!Zs||U&&8<U&&11>=U),we=" ",E=!1;function I(i,u){switch(i){case"keyup":return Vl.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function N(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var B=!1;function Y(i,u){switch(i){case"compositionend":return N(u);case"keypress":return u.which!==32?null:(E=!0,we);case"textInput":return i=u.data,i===we&&E?null:i;default:return null}}function te(i,u){if(B)return i==="compositionend"||!Zs&&I(i,u)?(i=bi(),fs=Ln=dn=null,B=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return oe&&u.locale!=="ko"?null:u.data;default:return null}}var ne={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fe(i){var u=i&&i.nodeName&&i.nodeName.toLowerCase();return u==="input"?!!ne[i.type]:u==="textarea"}function Ee(i,u,x,O){Ks?vi?vi.push(O):vi=[O]:Ks=O,u=uh(u,"onChange"),0<u.length&&(x=new lo("onChange","change",null,x,O),i.push({event:x,listeners:u}))}var _e=null,Pe=null;function He(i){a1(i,0)}function Ve(i){var u=Zt(i);if(no(u))return i}function Re(i,u){if(i==="change")return u}var nt=!1;if(gr){var $e;if(gr){var Ze="oninput"in document;if(!Ze){var qe=document.createElement("div");qe.setAttribute("oninput","return;"),Ze=typeof qe.oninput=="function"}$e=Ze}else $e=!1;nt=$e&&(!document.documentMode||9<document.documentMode)}function We(){_e&&(_e.detachEvent("onpropertychange",At),Pe=_e=null)}function At(i){if(i.propertyName==="value"&&Ve(Pe)){var u=[];Ee(u,Pe,i,oo(i)),Dl(He,u)}}function Wt(i,u,x){i==="focusin"?(We(),_e=u,Pe=x,_e.attachEvent("onpropertychange",At)):i==="focusout"&&We()}function Ot(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Ve(Pe)}function Mt(i,u){if(i==="click")return Ve(u)}function Jt(i,u){if(i==="input"||i==="change")return Ve(u)}function Mr(i,u){return i===u&&(i!==0||1/i===1/u)||i!==i&&u!==u}var ir=typeof Object.is=="function"?Object.is:Mr;function Gr(i,u){if(ir(i,u))return!0;if(typeof i!="object"||i===null||typeof u!="object"||u===null)return!1;var x=Object.keys(i),O=Object.keys(u);if(x.length!==O.length)return!1;for(O=0;O<x.length;O++){var V=x[O];if(!ke.call(u,V)||!ir(i[V],u[V]))return!1}return!0}function In(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function kn(i,u){var x=In(i);i=0;for(var O;x;){if(x.nodeType===3){if(O=i+x.textContent.length,i<=u&&O>=u)return{node:x,offset:u-i};i=O}e:{for(;x;){if(x.nextSibling){x=x.nextSibling;break e}x=x.parentNode}x=void 0}x=In(x)}}function Ss(i,u){return i&&u?i===u?!0:i&&i.nodeType===3?!1:u&&u.nodeType===3?Ss(i,u.parentNode):"contains"in i?i.contains(u):i.compareDocumentPosition?!!(i.compareDocumentPosition(u)&16):!1:!1}function Tr(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var u=so(i.document);u instanceof i.HTMLIFrameElement;){try{var x=typeof u.contentWindow.location.href=="string"}catch{x=!1}if(x)i=u.contentWindow;else break;u=so(i.document)}return u}function Rr(i){var u=i&&i.nodeName&&i.nodeName.toLowerCase();return u&&(u==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||u==="textarea"||i.contentEditable==="true")}function wr(i,u){var x=Tr(u);u=i.focusedElem;var O=i.selectionRange;if(x!==u&&u&&u.ownerDocument&&Ss(u.ownerDocument.documentElement,u)){if(O!==null&&Rr(u)){if(i=O.start,x=O.end,x===void 0&&(x=i),"selectionStart"in u)u.selectionStart=i,u.selectionEnd=Math.min(x,u.value.length);else if(x=(i=u.ownerDocument||document)&&i.defaultView||window,x.getSelection){x=x.getSelection();var V=u.textContent.length,W=Math.min(O.start,V);O=O.end===void 0?W:Math.min(O.end,V),!x.extend&&W>O&&(V=O,O=W,W=V),V=kn(u,W);var ue=kn(u,O);V&&ue&&(x.rangeCount!==1||x.anchorNode!==V.node||x.anchorOffset!==V.offset||x.focusNode!==ue.node||x.focusOffset!==ue.offset)&&(i=i.createRange(),i.setStart(V.node,V.offset),x.removeAllRanges(),W>O?(x.addRange(i),x.extend(ue.node,ue.offset)):(i.setEnd(ue.node,ue.offset),x.addRange(i)))}}for(i=[],x=u;x=x.parentNode;)x.nodeType===1&&i.push({element:x,left:x.scrollLeft,top:x.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<i.length;u++)x=i[u],x.element.scrollLeft=x.left,x.element.scrollTop=x.top}}var Nn=gr&&"documentMode"in document&&11>=document.documentMode,Cr=null,hn=null,xr=null,sn=!1;function Ko(i,u,x){var O=x.window===x?x.document:x.nodeType===9?x:x.ownerDocument;sn||Cr==null||Cr!==so(O)||(O=Cr,"selectionStart"in O&&Rr(O)?O={start:O.selectionStart,end:O.selectionEnd}:(O=(O.ownerDocument&&O.ownerDocument.defaultView||window).getSelection(),O={anchorNode:O.anchorNode,anchorOffset:O.anchorOffset,focusNode:O.focusNode,focusOffset:O.focusOffset}),xr&&Gr(xr,O)||(xr=O,O=uh(hn,"onSelect"),0<O.length&&(u=new lo("onSelect","select",null,u,x),i.push({event:u,listeners:O}),u.target=Cr)))}function js(i,u){var x={};return x[i.toLowerCase()]=u.toLowerCase(),x["Webkit"+i]="webkit"+u,x["Moz"+i]="moz"+u,x}var go={animationend:js("Animation","AnimationEnd"),animationiteration:js("Animation","AnimationIteration"),animationstart:js("Animation","AnimationStart"),transitionrun:js("Transition","TransitionRun"),transitionstart:js("Transition","TransitionStart"),transitioncancel:js("Transition","TransitionCancel"),transitionend:js("Transition","TransitionEnd")},up={},Wv={};gr&&(Wv=document.createElement("div").style,"AnimationEvent"in window||(delete go.animationend.animation,delete go.animationiteration.animation,delete go.animationstart.animation),"TransitionEvent"in window||delete go.transitionend.transition);function za(i){if(up[i])return up[i];if(!go[i])return i;var u=go[i],x;for(x in u)if(u.hasOwnProperty(x)&&x in Wv)return up[i]=u[x];return i}var Yv=za("animationend"),Xv=za("animationiteration"),$v=za("animationstart"),QE=za("transitionrun"),ZE=za("transitionstart"),JE=za("transitioncancel"),Kv=za("transitionend"),Qv=new Map,Zv="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function ji(i,u){Qv.set(i,u),pr(u,[i])}var Js=[],Bl=0,cp=0;function Ad(){for(var i=Bl,u=cp=Bl=0;u<i;){var x=Js[u];Js[u++]=null;var O=Js[u];Js[u++]=null;var V=Js[u];Js[u++]=null;var W=Js[u];if(Js[u++]=null,O!==null&&V!==null){var ue=O.pending;ue===null?V.next=V:(V.next=ue.next,ue.next=V),O.pending=V}W!==0&&Jv(x,V,W)}}function Rd(i,u,x,O){Js[Bl++]=i,Js[Bl++]=u,Js[Bl++]=x,Js[Bl++]=O,cp|=O,i.lanes|=O,i=i.alternate,i!==null&&(i.lanes|=O)}function dp(i,u,x,O){return Rd(i,u,x,O),Od(i)}function Qo(i,u){return Rd(i,null,null,u),Od(i)}function Jv(i,u,x){i.lanes|=x;var O=i.alternate;O!==null&&(O.lanes|=x);for(var V=!1,W=i.return;W!==null;)W.childLanes|=x,O=W.alternate,O!==null&&(O.childLanes|=x),W.tag===22&&(i=W.stateNode,i===null||i._visibility&1||(V=!0)),i=W,W=W.return;V&&u!==null&&i.tag===3&&(W=i.stateNode,V=31-Xe(x),W=W.hiddenUpdates,i=W[V],i===null?W[V]=[u]:i.push(u),u.lane=x|536870912)}function Od(i){if(50<dc)throw dc=0,ym=null,Error(t(185));for(var u=i.return;u!==null;)i=u,u=i.return;return i.tag===3?i.stateNode:null}var Gl={},e0=new WeakMap;function ei(i,u){if(typeof i=="object"&&i!==null){var x=e0.get(i);return x!==void 0?x:(u={value:i,source:u,stack:Q(u)},e0.set(i,u),u)}return{value:i,source:u,stack:Q(u)}}var zl=[],Hl=0,Id=null,kd=0,ti=[],ri=0,Ha=null,yo=1,vo="";function qa(i,u){zl[Hl++]=kd,zl[Hl++]=Id,Id=i,kd=u}function t0(i,u,x){ti[ri++]=yo,ti[ri++]=vo,ti[ri++]=Ha,Ha=i;var O=yo;i=vo;var V=32-Xe(O)-1;O&=~(1<<V),x+=1;var W=32-Xe(u)+V;if(30<W){var ue=V-V%5;W=(O&(1<<ue)-1).toString(32),O>>=ue,V-=ue,yo=1<<32-Xe(u)+V|x<<V|O,vo=W+i}else yo=1<<W|x<<V|O,vo=i}function hp(i){i.return!==null&&(qa(i,1),t0(i,1,0))}function fp(i){for(;i===Id;)Id=zl[--Hl],zl[Hl]=null,kd=zl[--Hl],zl[Hl]=null;for(;i===Ha;)Ha=ti[--ri],ti[ri]=null,vo=ti[--ri],ti[ri]=null,yo=ti[--ri],ti[ri]=null}var ms=null,qn=null,vr=!1,Ei=null,Vi=!1,pp=Error(t(519));function Wa(i){var u=Error(t(418,""));throw zu(ei(u,i)),pp}function r0(i){var u=i.stateNode,x=i.type,O=i.memoizedProps;switch(u[Kr]=i,u[Yr]=O,x){case"dialog":ur("cancel",u),ur("close",u);break;case"iframe":case"object":case"embed":ur("load",u);break;case"video":case"audio":for(x=0;x<fc.length;x++)ur(fc[x],u);break;case"source":ur("error",u);break;case"img":case"image":case"link":ur("error",u),ur("load",u);break;case"details":ur("toggle",u);break;case"input":ur("invalid",u),gi(u,O.value,O.defaultValue,O.checked,O.defaultChecked,O.type,O.name,!0),Pi(u);break;case"select":ur("invalid",u);break;case"textarea":ur("invalid",u),Ps(u,O.value,O.defaultValue,O.children),Pi(u)}x=O.children,typeof x!="string"&&typeof x!="number"&&typeof x!="bigint"||u.textContent===""+x||O.suppressHydrationWarning===!0||d1(u.textContent,x)?(O.popover!=null&&(ur("beforetoggle",u),ur("toggle",u)),O.onScroll!=null&&ur("scroll",u),O.onScrollEnd!=null&&ur("scrollend",u),O.onClick!=null&&(u.onclick=ch),u=!0):u=!1,u||Wa(i)}function n0(i){for(ms=i.return;ms;)switch(ms.tag){case 3:case 27:Vi=!0;return;case 5:case 13:Vi=!1;return;default:ms=ms.return}}function Bu(i){if(i!==ms)return!1;if(!vr)return n0(i),vr=!0,!1;var u=!1,x;if((x=i.tag!==3&&i.tag!==27)&&((x=i.tag===5)&&(x=i.type,x=!(x!=="form"&&x!=="button")||Pm(i.type,i.memoizedProps)),x=!x),x&&(u=!0),u&&qn&&Wa(i),n0(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,u=0;i;){if(i.nodeType===8)if(x=i.data,x==="/$"){if(u===0){qn=Ci(i.nextSibling);break e}u--}else x!=="$"&&x!=="$!"&&x!=="$?"||u++;i=i.nextSibling}qn=null}}else qn=ms?Ci(i.stateNode.nextSibling):null;return!0}function Gu(){qn=ms=null,vr=!1}function zu(i){Ei===null?Ei=[i]:Ei.push(i)}var Hu=Error(t(460)),s0=Error(t(474)),mp={then:function(){}};function i0(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Md(){}function o0(i,u,x){switch(x=i[x],x===void 0?i.push(u):x!==u&&(u.then(Md,Md),u=x),u.status){case"fulfilled":return u.value;case"rejected":throw i=u.reason,i===Hu?Error(t(483)):i;default:if(typeof u.status=="string")u.then(Md,Md);else{if(i=zr,i!==null&&100<i.shellSuspendCounter)throw Error(t(482));i=u,i.status="pending",i.then(function(O){if(u.status==="pending"){var V=u;V.status="fulfilled",V.value=O}},function(O){if(u.status==="pending"){var V=u;V.status="rejected",V.reason=O}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw i=u.reason,i===Hu?Error(t(483)):i}throw qu=u,Hu}}var qu=null;function a0(){if(qu===null)throw Error(t(459));var i=qu;return qu=null,i}var ql=null,Wu=0;function Pd(i){var u=Wu;return Wu+=1,ql===null&&(ql=[]),o0(ql,i,u)}function Yu(i,u){u=u.props.ref,i.ref=u!==void 0?u:null}function Dd(i,u){throw u.$$typeof===c?Error(t(525)):(i=Object.prototype.toString.call(u),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":i)))}function l0(i){var u=i._init;return u(i._payload)}function u0(i){function u(Ye,Ge){if(i){var Ke=Ye.deletions;Ke===null?(Ye.deletions=[Ge],Ye.flags|=16):Ke.push(Ge)}}function x(Ye,Ge){if(!i)return null;for(;Ge!==null;)u(Ye,Ge),Ge=Ge.sibling;return null}function O(Ye){for(var Ge=new Map;Ye!==null;)Ye.key!==null?Ge.set(Ye.key,Ye):Ge.set(Ye.index,Ye),Ye=Ye.sibling;return Ge}function V(Ye,Ge){return Ye=ua(Ye,Ge),Ye.index=0,Ye.sibling=null,Ye}function W(Ye,Ge,Ke){return Ye.index=Ke,i?(Ke=Ye.alternate,Ke!==null?(Ke=Ke.index,Ke<Ge?(Ye.flags|=33554434,Ge):Ke):(Ye.flags|=33554434,Ge)):(Ye.flags|=1048576,Ge)}function ue(Ye){return i&&Ye.alternate===null&&(Ye.flags|=33554434),Ye}function be(Ye,Ge,Ke,at){return Ge===null||Ge.tag!==6?(Ge=um(Ke,Ye.mode,at),Ge.return=Ye,Ge):(Ge=V(Ge,Ke),Ge.return=Ye,Ge)}function Ie(Ye,Ge,Ke,at){var Rt=Ke.type;return Rt===a?st(Ye,Ge,Ke.props.children,at,Ke.key):Ge!==null&&(Ge.elementType===Rt||typeof Rt=="object"&&Rt!==null&&Rt.$$typeof===v&&l0(Rt)===Ge.type)?(Ge=V(Ge,Ke.props),Yu(Ge,Ke),Ge.return=Ye,Ge):(Ge=Jd(Ke.type,Ke.key,Ke.props,null,Ye.mode,at),Yu(Ge,Ke),Ge.return=Ye,Ge)}function ze(Ye,Ge,Ke,at){return Ge===null||Ge.tag!==4||Ge.stateNode.containerInfo!==Ke.containerInfo||Ge.stateNode.implementation!==Ke.implementation?(Ge=cm(Ke,Ye.mode,at),Ge.return=Ye,Ge):(Ge=V(Ge,Ke.children||[]),Ge.return=Ye,Ge)}function st(Ye,Ge,Ke,at,Rt){return Ge===null||Ge.tag!==7?(Ge=rl(Ke,Ye.mode,at,Rt),Ge.return=Ye,Ge):(Ge=V(Ge,Ke),Ge.return=Ye,Ge)}function pt(Ye,Ge,Ke){if(typeof Ge=="string"&&Ge!==""||typeof Ge=="number"||typeof Ge=="bigint")return Ge=um(""+Ge,Ye.mode,Ke),Ge.return=Ye,Ge;if(typeof Ge=="object"&&Ge!==null){switch(Ge.$$typeof){case l:return Ke=Jd(Ge.type,Ge.key,Ge.props,null,Ye.mode,Ke),Yu(Ke,Ge),Ke.return=Ye,Ke;case h:return Ge=cm(Ge,Ye.mode,Ke),Ge.return=Ye,Ge;case v:var at=Ge._init;return Ge=at(Ge._payload),pt(Ye,Ge,Ke)}if(M(Ge)||L(Ge))return Ge=rl(Ge,Ye.mode,Ke,null),Ge.return=Ye,Ge;if(typeof Ge.then=="function")return pt(Ye,Pd(Ge),Ke);if(Ge.$$typeof===p)return pt(Ye,Kd(Ye,Ge),Ke);Dd(Ye,Ge)}return null}function Qe(Ye,Ge,Ke,at){var Rt=Ge!==null?Ge.key:null;if(typeof Ke=="string"&&Ke!==""||typeof Ke=="number"||typeof Ke=="bigint")return Rt!==null?null:be(Ye,Ge,""+Ke,at);if(typeof Ke=="object"&&Ke!==null){switch(Ke.$$typeof){case l:return Ke.key===Rt?Ie(Ye,Ge,Ke,at):null;case h:return Ke.key===Rt?ze(Ye,Ge,Ke,at):null;case v:return Rt=Ke._init,Ke=Rt(Ke._payload),Qe(Ye,Ge,Ke,at)}if(M(Ke)||L(Ke))return Rt!==null?null:st(Ye,Ge,Ke,at,null);if(typeof Ke.then=="function")return Qe(Ye,Ge,Pd(Ke),at);if(Ke.$$typeof===p)return Qe(Ye,Ge,Kd(Ye,Ke),at);Dd(Ye,Ke)}return null}function rt(Ye,Ge,Ke,at,Rt){if(typeof at=="string"&&at!==""||typeof at=="number"||typeof at=="bigint")return Ye=Ye.get(Ke)||null,be(Ge,Ye,""+at,Rt);if(typeof at=="object"&&at!==null){switch(at.$$typeof){case l:return Ye=Ye.get(at.key===null?Ke:at.key)||null,Ie(Ge,Ye,at,Rt);case h:return Ye=Ye.get(at.key===null?Ke:at.key)||null,ze(Ge,Ye,at,Rt);case v:var rr=at._init;return at=rr(at._payload),rt(Ye,Ge,Ke,at,Rt)}if(M(at)||L(at))return Ye=Ye.get(Ke)||null,st(Ge,Ye,at,Rt,null);if(typeof at.then=="function")return rt(Ye,Ge,Ke,Pd(at),Rt);if(at.$$typeof===p)return rt(Ye,Ge,Ke,Kd(Ge,at),Rt);Dd(Ge,at)}return null}function Dt(Ye,Ge,Ke,at){for(var Rt=null,rr=null,Ut=Ge,zt=Ge=0,Vn=null;Ut!==null&&zt<Ke.length;zt++){Ut.index>zt?(Vn=Ut,Ut=null):Vn=Ut.sibling;var br=Qe(Ye,Ut,Ke[zt],at);if(br===null){Ut===null&&(Ut=Vn);break}i&&Ut&&br.alternate===null&&u(Ye,Ut),Ge=W(br,Ge,zt),rr===null?Rt=br:rr.sibling=br,rr=br,Ut=Vn}if(zt===Ke.length)return x(Ye,Ut),vr&&qa(Ye,zt),Rt;if(Ut===null){for(;zt<Ke.length;zt++)Ut=pt(Ye,Ke[zt],at),Ut!==null&&(Ge=W(Ut,Ge,zt),rr===null?Rt=Ut:rr.sibling=Ut,rr=Ut);return vr&&qa(Ye,zt),Rt}for(Ut=O(Ut);zt<Ke.length;zt++)Vn=rt(Ut,Ye,zt,Ke[zt],at),Vn!==null&&(i&&Vn.alternate!==null&&Ut.delete(Vn.key===null?zt:Vn.key),Ge=W(Vn,Ge,zt),rr===null?Rt=Vn:rr.sibling=Vn,rr=Vn);return i&&Ut.forEach(function(ga){return u(Ye,ga)}),vr&&qa(Ye,zt),Rt}function Xt(Ye,Ge,Ke,at){if(Ke==null)throw Error(t(151));for(var Rt=null,rr=null,Ut=Ge,zt=Ge=0,Vn=null,br=Ke.next();Ut!==null&&!br.done;zt++,br=Ke.next()){Ut.index>zt?(Vn=Ut,Ut=null):Vn=Ut.sibling;var ga=Qe(Ye,Ut,br.value,at);if(ga===null){Ut===null&&(Ut=Vn);break}i&&Ut&&ga.alternate===null&&u(Ye,Ut),Ge=W(ga,Ge,zt),rr===null?Rt=ga:rr.sibling=ga,rr=ga,Ut=Vn}if(br.done)return x(Ye,Ut),vr&&qa(Ye,zt),Rt;if(Ut===null){for(;!br.done;zt++,br=Ke.next())br=pt(Ye,br.value,at),br!==null&&(Ge=W(br,Ge,zt),rr===null?Rt=br:rr.sibling=br,rr=br);return vr&&qa(Ye,zt),Rt}for(Ut=O(Ut);!br.done;zt++,br=Ke.next())br=rt(Ut,Ye,zt,br.value,at),br!==null&&(i&&br.alternate!==null&&Ut.delete(br.key===null?zt:br.key),Ge=W(br,Ge,zt),rr===null?Rt=br:rr.sibling=br,rr=br);return i&&Ut.forEach(function(fC){return u(Ye,fC)}),vr&&qa(Ye,zt),Rt}function ln(Ye,Ge,Ke,at){if(typeof Ke=="object"&&Ke!==null&&Ke.type===a&&Ke.key===null&&(Ke=Ke.props.children),typeof Ke=="object"&&Ke!==null){switch(Ke.$$typeof){case l:e:{for(var Rt=Ke.key;Ge!==null;){if(Ge.key===Rt){if(Rt=Ke.type,Rt===a){if(Ge.tag===7){x(Ye,Ge.sibling),at=V(Ge,Ke.props.children),at.return=Ye,Ye=at;break e}}else if(Ge.elementType===Rt||typeof Rt=="object"&&Rt!==null&&Rt.$$typeof===v&&l0(Rt)===Ge.type){x(Ye,Ge.sibling),at=V(Ge,Ke.props),Yu(at,Ke),at.return=Ye,Ye=at;break e}x(Ye,Ge);break}else u(Ye,Ge);Ge=Ge.sibling}Ke.type===a?(at=rl(Ke.props.children,Ye.mode,at,Ke.key),at.return=Ye,Ye=at):(at=Jd(Ke.type,Ke.key,Ke.props,null,Ye.mode,at),Yu(at,Ke),at.return=Ye,Ye=at)}return ue(Ye);case h:e:{for(Rt=Ke.key;Ge!==null;){if(Ge.key===Rt)if(Ge.tag===4&&Ge.stateNode.containerInfo===Ke.containerInfo&&Ge.stateNode.implementation===Ke.implementation){x(Ye,Ge.sibling),at=V(Ge,Ke.children||[]),at.return=Ye,Ye=at;break e}else{x(Ye,Ge);break}else u(Ye,Ge);Ge=Ge.sibling}at=cm(Ke,Ye.mode,at),at.return=Ye,Ye=at}return ue(Ye);case v:return Rt=Ke._init,Ke=Rt(Ke._payload),ln(Ye,Ge,Ke,at)}if(M(Ke))return Dt(Ye,Ge,Ke,at);if(L(Ke)){if(Rt=L(Ke),typeof Rt!="function")throw Error(t(150));return Ke=Rt.call(Ke),Xt(Ye,Ge,Ke,at)}if(typeof Ke.then=="function")return ln(Ye,Ge,Pd(Ke),at);if(Ke.$$typeof===p)return ln(Ye,Ge,Kd(Ye,Ke),at);Dd(Ye,Ke)}return typeof Ke=="string"&&Ke!==""||typeof Ke=="number"||typeof Ke=="bigint"?(Ke=""+Ke,Ge!==null&&Ge.tag===6?(x(Ye,Ge.sibling),at=V(Ge,Ke),at.return=Ye,Ye=at):(x(Ye,Ge),at=um(Ke,Ye.mode,at),at.return=Ye,Ye=at),ue(Ye)):x(Ye,Ge)}return function(Ye,Ge,Ke,at){try{Wu=0;var Rt=ln(Ye,Ge,Ke,at);return ql=null,Rt}catch(Ut){if(Ut===Hu)throw Ut;var rr=oi(29,Ut,null,Ye.mode);return rr.lanes=at,rr.return=Ye,rr}finally{}}}var Ya=u0(!0),c0=u0(!1),Wl=ce(null),Ld=ce(0);function d0(i,u){i=Ro,ve(Ld,i),ve(Wl,u),Ro=i|u.baseLanes}function gp(){ve(Ld,Ro),ve(Wl,Wl.current)}function yp(){Ro=Ld.current,pe(Wl),pe(Ld)}var ni=ce(null),Bi=null;function Zo(i){var u=i.alternate;ve(Mn,Mn.current&1),ve(ni,i),Bi===null&&(u===null||Wl.current!==null||u.memoizedState!==null)&&(Bi=i)}function h0(i){if(i.tag===22){if(ve(Mn,Mn.current),ve(ni,i),Bi===null){var u=i.alternate;u!==null&&u.memoizedState!==null&&(Bi=i)}}else Jo()}function Jo(){ve(Mn,Mn.current),ve(ni,ni.current)}function bo(i){pe(ni),Bi===i&&(Bi=null),pe(Mn)}var Mn=ce(0);function Nd(i){for(var u=i;u!==null;){if(u.tag===13){var x=u.memoizedState;if(x!==null&&(x=x.dehydrated,x===null||x.data==="$?"||x.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if(u.flags&128)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===i)break;for(;u.sibling===null;){if(u.return===null||u.return===i)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var eT=typeof AbortController<"u"?AbortController:function(){var i=[],u=this.signal={aborted:!1,addEventListener:function(x,O){i.push(O)}};this.abort=function(){u.aborted=!0,i.forEach(function(x){return x()})}},tT=s.unstable_scheduleCallback,rT=s.unstable_NormalPriority,Pn={$$typeof:p,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function vp(){return{controller:new eT,data:new Map,refCount:0}}function Xu(i){i.refCount--,i.refCount===0&&tT(rT,function(){i.controller.abort()})}var $u=null,bp=0,Yl=0,Xl=null;function nT(i,u){if($u===null){var x=$u=[];bp=0,Yl=Em(),Xl={status:"pending",value:void 0,then:function(O){x.push(O)}}}return bp++,u.then(f0,f0),u}function f0(){if(--bp===0&&$u!==null){Xl!==null&&(Xl.status="fulfilled");var i=$u;$u=null,Yl=0,Xl=null;for(var u=0;u<i.length;u++)(0,i[u])()}}function sT(i,u){var x=[],O={status:"pending",value:null,reason:null,then:function(V){x.push(V)}};return i.then(function(){O.status="fulfilled",O.value=u;for(var V=0;V<x.length;V++)(0,x[V])(u)},function(V){for(O.status="rejected",O.reason=V,V=0;V<x.length;V++)(0,x[V])(void 0)}),O}var p0=R.S;R.S=function(i,u){typeof u=="object"&&u!==null&&typeof u.then=="function"&&nT(i,u),p0!==null&&p0(i,u)};var Xa=ce(null);function _p(){var i=Xa.current;return i!==null?i:zr.pooledCache}function Ud(i,u){u===null?ve(Xa,Xa.current):ve(Xa,u.pool)}function m0(){var i=_p();return i===null?null:{parent:Pn._currentValue,pool:i}}var ea=0,tr=null,Pr=null,vn=null,Fd=!1,$l=!1,$a=!1,Vd=0,Ku=0,Kl=null,iT=0;function fn(){throw Error(t(321))}function wp(i,u){if(u===null)return!1;for(var x=0;x<u.length&&x<i.length;x++)if(!ir(i[x],u[x]))return!1;return!0}function xp(i,u,x,O,V,W){return ea=W,tr=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,R.H=i===null||i.memoizedState===null?Ka:ta,$a=!1,W=x(O,V),$a=!1,$l&&(W=y0(u,x,O,V)),g0(i),W}function g0(i){R.H=Gi;var u=Pr!==null&&Pr.next!==null;if(ea=0,vn=Pr=tr=null,Fd=!1,Ku=0,Kl=null,u)throw Error(t(300));i===null||Un||(i=i.dependencies,i!==null&&$d(i)&&(Un=!0))}function y0(i,u,x,O){tr=i;var V=0;do{if($l&&(Kl=null),Ku=0,$l=!1,25<=V)throw Error(t(301));if(V+=1,vn=Pr=null,i.updateQueue!=null){var W=i.updateQueue;W.lastEffect=null,W.events=null,W.stores=null,W.memoCache!=null&&(W.memoCache.index=0)}R.H=Qa,W=u(x,O)}while($l);return W}function oT(){var i=R.H,u=i.useState()[0];return u=typeof u.then=="function"?Qu(u):u,i=i.useState()[0],(Pr!==null?Pr.memoizedState:null)!==i&&(tr.flags|=1024),u}function Sp(){var i=Vd!==0;return Vd=0,i}function jp(i,u,x){u.updateQueue=i.updateQueue,u.flags&=-2053,i.lanes&=~x}function Ep(i){if(Fd){for(i=i.memoizedState;i!==null;){var u=i.queue;u!==null&&(u.pending=null),i=i.next}Fd=!1}ea=0,vn=Pr=tr=null,$l=!1,Ku=Vd=0,Kl=null}function Es(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vn===null?tr.memoizedState=vn=i:vn=vn.next=i,vn}function bn(){if(Pr===null){var i=tr.alternate;i=i!==null?i.memoizedState:null}else i=Pr.next;var u=vn===null?tr.memoizedState:vn.next;if(u!==null)vn=u,Pr=i;else{if(i===null)throw tr.alternate===null?Error(t(467)):Error(t(310));Pr=i,i={memoizedState:Pr.memoizedState,baseState:Pr.baseState,baseQueue:Pr.baseQueue,queue:Pr.queue,next:null},vn===null?tr.memoizedState=vn=i:vn=vn.next=i}return vn}var Bd;Bd=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Qu(i){var u=Ku;return Ku+=1,Kl===null&&(Kl=[]),i=o0(Kl,i,u),u=tr,(vn===null?u.memoizedState:vn.next)===null&&(u=u.alternate,R.H=u===null||u.memoizedState===null?Ka:ta),i}function Gd(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Qu(i);if(i.$$typeof===p)return ss(i)}throw Error(t(438,String(i)))}function Tp(i){var u=null,x=tr.updateQueue;if(x!==null&&(u=x.memoCache),u==null){var O=tr.alternate;O!==null&&(O=O.updateQueue,O!==null&&(O=O.memoCache,O!=null&&(u={data:O.data.map(function(V){return V.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),x===null&&(x=Bd(),tr.updateQueue=x),x.memoCache=u,x=u.data[u.index],x===void 0)for(x=u.data[u.index]=Array(i),O=0;O<i;O++)x[O]=j;return u.index++,x}function _o(i,u){return typeof u=="function"?u(i):u}function zd(i){var u=bn();return Cp(u,Pr,i)}function Cp(i,u,x){var O=i.queue;if(O===null)throw Error(t(311));O.lastRenderedReducer=x;var V=i.baseQueue,W=O.pending;if(W!==null){if(V!==null){var ue=V.next;V.next=W.next,W.next=ue}u.baseQueue=V=W,O.pending=null}if(W=i.baseState,V===null)i.memoizedState=W;else{u=V.next;var be=ue=null,Ie=null,ze=u,st=!1;do{var pt=ze.lane&-536870913;if(pt!==ze.lane?(dr&pt)===pt:(ea&pt)===pt){var Qe=ze.revertLane;if(Qe===0)Ie!==null&&(Ie=Ie.next={lane:0,revertLane:0,action:ze.action,hasEagerState:ze.hasEagerState,eagerState:ze.eagerState,next:null}),pt===Yl&&(st=!0);else if((ea&Qe)===Qe){ze=ze.next,Qe===Yl&&(st=!0);continue}else pt={lane:0,revertLane:ze.revertLane,action:ze.action,hasEagerState:ze.hasEagerState,eagerState:ze.eagerState,next:null},Ie===null?(be=Ie=pt,ue=W):Ie=Ie.next=pt,tr.lanes|=Qe,ca|=Qe;pt=ze.action,$a&&x(W,pt),W=ze.hasEagerState?ze.eagerState:x(W,pt)}else Qe={lane:pt,revertLane:ze.revertLane,action:ze.action,hasEagerState:ze.hasEagerState,eagerState:ze.eagerState,next:null},Ie===null?(be=Ie=Qe,ue=W):Ie=Ie.next=Qe,tr.lanes|=pt,ca|=pt;ze=ze.next}while(ze!==null&&ze!==u);if(Ie===null?ue=W:Ie.next=be,!ir(W,i.memoizedState)&&(Un=!0,st&&(x=Xl,x!==null)))throw x;i.memoizedState=W,i.baseState=ue,i.baseQueue=Ie,O.lastRenderedState=W}return V===null&&(O.lanes=0),[i.memoizedState,O.dispatch]}function Ap(i){var u=bn(),x=u.queue;if(x===null)throw Error(t(311));x.lastRenderedReducer=i;var O=x.dispatch,V=x.pending,W=u.memoizedState;if(V!==null){x.pending=null;var ue=V=V.next;do W=i(W,ue.action),ue=ue.next;while(ue!==V);ir(W,u.memoizedState)||(Un=!0),u.memoizedState=W,u.baseQueue===null&&(u.baseState=W),x.lastRenderedState=W}return[W,O]}function v0(i,u,x){var O=tr,V=bn(),W=vr;if(W){if(x===void 0)throw Error(t(407));x=x()}else x=u();var ue=!ir((Pr||V).memoizedState,x);if(ue&&(V.memoizedState=x,Un=!0),V=V.queue,Ip(w0.bind(null,O,V,i),[i]),V.getSnapshot!==u||ue||vn!==null&&vn.memoizedState.tag&1){if(O.flags|=2048,Ql(9,_0.bind(null,O,V,x,u),{destroy:void 0},null),zr===null)throw Error(t(349));W||ea&60||b0(O,u,x)}return x}function b0(i,u,x){i.flags|=16384,i={getSnapshot:u,value:x},u=tr.updateQueue,u===null?(u=Bd(),tr.updateQueue=u,u.stores=[i]):(x=u.stores,x===null?u.stores=[i]:x.push(i))}function _0(i,u,x,O){u.value=x,u.getSnapshot=O,x0(u)&&S0(i)}function w0(i,u,x){return x(function(){x0(u)&&S0(i)})}function x0(i){var u=i.getSnapshot;i=i.value;try{var x=u();return!ir(i,x)}catch{return!0}}function S0(i){var u=Qo(i,2);u!==null&&gs(u,i,2)}function Rp(i){var u=Es();if(typeof i=="function"){var x=i;if(i=x(),$a){Ne(!0);try{x()}finally{Ne(!1)}}}return u.memoizedState=u.baseState=i,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_o,lastRenderedState:i},u}function j0(i,u,x,O){return i.baseState=x,Cp(i,Pr,typeof O=="function"?O:_o)}function aT(i,u,x,O,V){if(Wd(i))throw Error(t(485));if(i=u.action,i!==null){var W={payload:V,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(ue){W.listeners.push(ue)}};R.T!==null?x(!0):W.isTransition=!1,O(W),x=u.pending,x===null?(W.next=u.pending=W,E0(u,W)):(W.next=x.next,u.pending=x.next=W)}}function E0(i,u){var x=u.action,O=u.payload,V=i.state;if(u.isTransition){var W=R.T,ue={};R.T=ue;try{var be=x(V,O),Ie=R.S;Ie!==null&&Ie(ue,be),T0(i,u,be)}catch(ze){Op(i,u,ze)}finally{R.T=W}}else try{W=x(V,O),T0(i,u,W)}catch(ze){Op(i,u,ze)}}function T0(i,u,x){x!==null&&typeof x=="object"&&typeof x.then=="function"?x.then(function(O){C0(i,u,O)},function(O){return Op(i,u,O)}):C0(i,u,x)}function C0(i,u,x){u.status="fulfilled",u.value=x,A0(u),i.state=x,u=i.pending,u!==null&&(x=u.next,x===u?i.pending=null:(x=x.next,u.next=x,E0(i,x)))}function Op(i,u,x){var O=i.pending;if(i.pending=null,O!==null){O=O.next;do u.status="rejected",u.reason=x,A0(u),u=u.next;while(u!==O)}i.action=null}function A0(i){i=i.listeners;for(var u=0;u<i.length;u++)(0,i[u])()}function R0(i,u){return u}function O0(i,u){if(vr){var x=zr.formState;if(x!==null){e:{var O=tr;if(vr){if(qn){t:{for(var V=qn,W=Vi;V.nodeType!==8;){if(!W){V=null;break t}if(V=Ci(V.nextSibling),V===null){V=null;break t}}W=V.data,V=W==="F!"||W==="F"?V:null}if(V){qn=Ci(V.nextSibling),O=V.data==="F!";break e}}Wa(O)}O=!1}O&&(u=x[0])}}return x=Es(),x.memoizedState=x.baseState=u,O={pending:null,lanes:0,dispatch:null,lastRenderedReducer:R0,lastRenderedState:u},x.queue=O,x=X0.bind(null,tr,O),O.dispatch=x,O=Rp(!1),W=Lp.bind(null,tr,!1,O.queue),O=Es(),V={state:u,dispatch:null,action:i,pending:null},O.queue=V,x=aT.bind(null,tr,V,W,x),V.dispatch=x,O.memoizedState=i,[u,x,!1]}function I0(i){var u=bn();return k0(u,Pr,i)}function k0(i,u,x){u=Cp(i,u,R0)[0],i=zd(_o)[0],u=typeof u=="object"&&u!==null&&typeof u.then=="function"?Qu(u):u;var O=bn(),V=O.queue,W=V.dispatch;return x!==O.memoizedState&&(tr.flags|=2048,Ql(9,lT.bind(null,V,x),{destroy:void 0},null)),[u,W,i]}function lT(i,u){i.action=u}function M0(i){var u=bn(),x=Pr;if(x!==null)return k0(u,x,i);bn(),u=u.memoizedState,x=bn();var O=x.queue.dispatch;return x.memoizedState=i,[u,O,!1]}function Ql(i,u,x,O){return i={tag:i,create:u,inst:x,deps:O,next:null},u=tr.updateQueue,u===null&&(u=Bd(),tr.updateQueue=u),x=u.lastEffect,x===null?u.lastEffect=i.next=i:(O=x.next,x.next=i,i.next=O,u.lastEffect=i),i}function P0(){return bn().memoizedState}function Hd(i,u,x,O){var V=Es();tr.flags|=i,V.memoizedState=Ql(1|u,x,{destroy:void 0},O===void 0?null:O)}function qd(i,u,x,O){var V=bn();O=O===void 0?null:O;var W=V.memoizedState.inst;Pr!==null&&O!==null&&wp(O,Pr.memoizedState.deps)?V.memoizedState=Ql(u,x,W,O):(tr.flags|=i,V.memoizedState=Ql(1|u,x,W,O))}function D0(i,u){Hd(8390656,8,i,u)}function Ip(i,u){qd(2048,8,i,u)}function L0(i,u){return qd(4,2,i,u)}function N0(i,u){return qd(4,4,i,u)}function U0(i,u){if(typeof u=="function"){i=i();var x=u(i);return function(){typeof x=="function"?x():u(null)}}if(u!=null)return i=i(),u.current=i,function(){u.current=null}}function F0(i,u,x){x=x!=null?x.concat([i]):null,qd(4,4,U0.bind(null,u,i),x)}function kp(){}function V0(i,u){var x=bn();u=u===void 0?null:u;var O=x.memoizedState;return u!==null&&wp(u,O[1])?O[0]:(x.memoizedState=[i,u],i)}function B0(i,u){var x=bn();u=u===void 0?null:u;var O=x.memoizedState;if(u!==null&&wp(u,O[1]))return O[0];if(O=i(),$a){Ne(!0);try{i()}finally{Ne(!1)}}return x.memoizedState=[O,u],O}function Mp(i,u,x){return x===void 0||ea&1073741824?i.memoizedState=u:(i.memoizedState=x,i=zb(),tr.lanes|=i,ca|=i,x)}function G0(i,u,x,O){return ir(x,u)?x:Wl.current!==null?(i=Mp(i,x,O),ir(i,u)||(Un=!0),i):ea&42?(i=zb(),tr.lanes|=i,ca|=i,u):(Un=!0,i.memoizedState=x)}function z0(i,u,x,O,V){var W=G.p;G.p=W!==0&&8>W?W:8;var ue=R.T,be={};R.T=be,Lp(i,!1,u,x);try{var Ie=V(),ze=R.S;if(ze!==null&&ze(be,Ie),Ie!==null&&typeof Ie=="object"&&typeof Ie.then=="function"){var st=sT(Ie,O);Zu(i,u,st,Bs(i))}else Zu(i,u,O,Bs(i))}catch(pt){Zu(i,u,{then:function(){},status:"rejected",reason:pt},Bs())}finally{G.p=W,R.T=ue}}function uT(){}function Pp(i,u,x,O){if(i.tag!==5)throw Error(t(476));var V=H0(i).queue;z0(i,V,u,X,x===null?uT:function(){return q0(i),x(O)})}function H0(i){var u=i.memoizedState;if(u!==null)return u;u={memoizedState:X,baseState:X,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_o,lastRenderedState:X},next:null};var x={};return u.next={memoizedState:x,baseState:x,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_o,lastRenderedState:x},next:null},i.memoizedState=u,i=i.alternate,i!==null&&(i.memoizedState=u),u}function q0(i){var u=H0(i).next.queue;Zu(i,u,{},Bs())}function Dp(){return ss(vc)}function W0(){return bn().memoizedState}function Y0(){return bn().memoizedState}function cT(i){for(var u=i.return;u!==null;){switch(u.tag){case 24:case 3:var x=Bs();i=sa(x);var O=ia(u,i,x);O!==null&&(gs(O,u,x),tc(O,u,x)),u={cache:vp()},i.payload=u;return}u=u.return}}function dT(i,u,x){var O=Bs();x={lane:O,revertLane:0,action:x,hasEagerState:!1,eagerState:null,next:null},Wd(i)?$0(u,x):(x=dp(i,u,x,O),x!==null&&(gs(x,i,O),K0(x,u,O)))}function X0(i,u,x){var O=Bs();Zu(i,u,x,O)}function Zu(i,u,x,O){var V={lane:O,revertLane:0,action:x,hasEagerState:!1,eagerState:null,next:null};if(Wd(i))$0(u,V);else{var W=i.alternate;if(i.lanes===0&&(W===null||W.lanes===0)&&(W=u.lastRenderedReducer,W!==null))try{var ue=u.lastRenderedState,be=W(ue,x);if(V.hasEagerState=!0,V.eagerState=be,ir(be,ue))return Rd(i,u,V,0),zr===null&&Ad(),!1}catch{}finally{}if(x=dp(i,u,V,O),x!==null)return gs(x,i,O),K0(x,u,O),!0}return!1}function Lp(i,u,x,O){if(O={lane:2,revertLane:Em(),action:O,hasEagerState:!1,eagerState:null,next:null},Wd(i)){if(u)throw Error(t(479))}else u=dp(i,x,O,2),u!==null&&gs(u,i,2)}function Wd(i){var u=i.alternate;return i===tr||u!==null&&u===tr}function $0(i,u){$l=Fd=!0;var x=i.pending;x===null?u.next=u:(u.next=x.next,x.next=u),i.pending=u}function K0(i,u,x){if(x&4194176){var O=u.lanes;O&=i.pendingLanes,x|=O,u.lanes=x,Vr(i,x)}}var Gi={readContext:ss,use:Gd,useCallback:fn,useContext:fn,useEffect:fn,useImperativeHandle:fn,useLayoutEffect:fn,useInsertionEffect:fn,useMemo:fn,useReducer:fn,useRef:fn,useState:fn,useDebugValue:fn,useDeferredValue:fn,useTransition:fn,useSyncExternalStore:fn,useId:fn};Gi.useCacheRefresh=fn,Gi.useMemoCache=fn,Gi.useHostTransitionStatus=fn,Gi.useFormState=fn,Gi.useActionState=fn,Gi.useOptimistic=fn;var Ka={readContext:ss,use:Gd,useCallback:function(i,u){return Es().memoizedState=[i,u===void 0?null:u],i},useContext:ss,useEffect:D0,useImperativeHandle:function(i,u,x){x=x!=null?x.concat([i]):null,Hd(4194308,4,U0.bind(null,u,i),x)},useLayoutEffect:function(i,u){return Hd(4194308,4,i,u)},useInsertionEffect:function(i,u){Hd(4,2,i,u)},useMemo:function(i,u){var x=Es();u=u===void 0?null:u;var O=i();if($a){Ne(!0);try{i()}finally{Ne(!1)}}return x.memoizedState=[O,u],O},useReducer:function(i,u,x){var O=Es();if(x!==void 0){var V=x(u);if($a){Ne(!0);try{x(u)}finally{Ne(!1)}}}else V=u;return O.memoizedState=O.baseState=V,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:V},O.queue=i,i=i.dispatch=dT.bind(null,tr,i),[O.memoizedState,i]},useRef:function(i){var u=Es();return i={current:i},u.memoizedState=i},useState:function(i){i=Rp(i);var u=i.queue,x=X0.bind(null,tr,u);return u.dispatch=x,[i.memoizedState,x]},useDebugValue:kp,useDeferredValue:function(i,u){var x=Es();return Mp(x,i,u)},useTransition:function(){var i=Rp(!1);return i=z0.bind(null,tr,i.queue,!0,!1),Es().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,u,x){var O=tr,V=Es();if(vr){if(x===void 0)throw Error(t(407));x=x()}else{if(x=u(),zr===null)throw Error(t(349));dr&60||b0(O,u,x)}V.memoizedState=x;var W={value:x,getSnapshot:u};return V.queue=W,D0(w0.bind(null,O,W,i),[i]),O.flags|=2048,Ql(9,_0.bind(null,O,W,x,u),{destroy:void 0},null),x},useId:function(){var i=Es(),u=zr.identifierPrefix;if(vr){var x=vo,O=yo;x=(O&~(1<<32-Xe(O)-1)).toString(32)+x,u=":"+u+"R"+x,x=Vd++,0<x&&(u+="H"+x.toString(32)),u+=":"}else x=iT++,u=":"+u+"r"+x.toString(32)+":";return i.memoizedState=u},useCacheRefresh:function(){return Es().memoizedState=cT.bind(null,tr)}};Ka.useMemoCache=Tp,Ka.useHostTransitionStatus=Dp,Ka.useFormState=O0,Ka.useActionState=O0,Ka.useOptimistic=function(i){var u=Es();u.memoizedState=u.baseState=i;var x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=x,u=Lp.bind(null,tr,!0,x),x.dispatch=u,[i,u]};var ta={readContext:ss,use:Gd,useCallback:V0,useContext:ss,useEffect:Ip,useImperativeHandle:F0,useInsertionEffect:L0,useLayoutEffect:N0,useMemo:B0,useReducer:zd,useRef:P0,useState:function(){return zd(_o)},useDebugValue:kp,useDeferredValue:function(i,u){var x=bn();return G0(x,Pr.memoizedState,i,u)},useTransition:function(){var i=zd(_o)[0],u=bn().memoizedState;return[typeof i=="boolean"?i:Qu(i),u]},useSyncExternalStore:v0,useId:W0};ta.useCacheRefresh=Y0,ta.useMemoCache=Tp,ta.useHostTransitionStatus=Dp,ta.useFormState=I0,ta.useActionState=I0,ta.useOptimistic=function(i,u){var x=bn();return j0(x,Pr,i,u)};var Qa={readContext:ss,use:Gd,useCallback:V0,useContext:ss,useEffect:Ip,useImperativeHandle:F0,useInsertionEffect:L0,useLayoutEffect:N0,useMemo:B0,useReducer:Ap,useRef:P0,useState:function(){return Ap(_o)},useDebugValue:kp,useDeferredValue:function(i,u){var x=bn();return Pr===null?Mp(x,i,u):G0(x,Pr.memoizedState,i,u)},useTransition:function(){var i=Ap(_o)[0],u=bn().memoizedState;return[typeof i=="boolean"?i:Qu(i),u]},useSyncExternalStore:v0,useId:W0};Qa.useCacheRefresh=Y0,Qa.useMemoCache=Tp,Qa.useHostTransitionStatus=Dp,Qa.useFormState=M0,Qa.useActionState=M0,Qa.useOptimistic=function(i,u){var x=bn();return Pr!==null?j0(x,Pr,i,u):(x.baseState=i,[i,x.queue.dispatch])};function Np(i,u,x,O){u=i.memoizedState,x=x(O,u),x=x==null?u:D({},u,x),i.memoizedState=x,i.lanes===0&&(i.updateQueue.baseState=x)}var Up={isMounted:function(i){return(i=i._reactInternals)?J(i)===i:!1},enqueueSetState:function(i,u,x){i=i._reactInternals;var O=Bs(),V=sa(O);V.payload=u,x!=null&&(V.callback=x),u=ia(i,V,O),u!==null&&(gs(u,i,O),tc(u,i,O))},enqueueReplaceState:function(i,u,x){i=i._reactInternals;var O=Bs(),V=sa(O);V.tag=1,V.payload=u,x!=null&&(V.callback=x),u=ia(i,V,O),u!==null&&(gs(u,i,O),tc(u,i,O))},enqueueForceUpdate:function(i,u){i=i._reactInternals;var x=Bs(),O=sa(x);O.tag=2,u!=null&&(O.callback=u),u=ia(i,O,x),u!==null&&(gs(u,i,x),tc(u,i,x))}};function Q0(i,u,x,O,V,W,ue){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(O,W,ue):u.prototype&&u.prototype.isPureReactComponent?!Gr(x,O)||!Gr(V,W):!0}function Z0(i,u,x,O){i=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(x,O),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(x,O),u.state!==i&&Up.enqueueReplaceState(u,u.state,null)}function Za(i,u){var x=u;if("ref"in u){x={};for(var O in u)O!=="ref"&&(x[O]=u[O])}if(i=i.defaultProps){x===u&&(x=D({},x));for(var V in i)x[V]===void 0&&(x[V]=i[V])}return x}var Yd=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function J0(i){Yd(i)}function eb(i){console.error(i)}function tb(i){Yd(i)}function Xd(i,u){try{var x=i.onUncaughtError;x(u.value,{componentStack:u.stack})}catch(O){setTimeout(function(){throw O})}}function rb(i,u,x){try{var O=i.onCaughtError;O(x.value,{componentStack:x.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(V){setTimeout(function(){throw V})}}function Fp(i,u,x){return x=sa(x),x.tag=3,x.payload={element:null},x.callback=function(){Xd(i,u)},x}function nb(i){return i=sa(i),i.tag=3,i}function sb(i,u,x,O){var V=x.type.getDerivedStateFromError;if(typeof V=="function"){var W=O.value;i.payload=function(){return V(W)},i.callback=function(){rb(u,x,O)}}var ue=x.stateNode;ue!==null&&typeof ue.componentDidCatch=="function"&&(i.callback=function(){rb(u,x,O),typeof V!="function"&&(da===null?da=new Set([this]):da.add(this));var be=O.stack;this.componentDidCatch(O.value,{componentStack:be!==null?be:""})})}function hT(i,u,x,O,V){if(x.flags|=32768,O!==null&&typeof O=="object"&&typeof O.then=="function"){if(u=x.alternate,u!==null&&ec(u,x,V,!0),x=ni.current,x!==null){switch(x.tag){case 13:return Bi===null?_m():x.alternate===null&&an===0&&(an=3),x.flags&=-257,x.flags|=65536,x.lanes=V,O===mp?x.flags|=16384:(u=x.updateQueue,u===null?x.updateQueue=new Set([O]):u.add(O),xm(i,O,V)),!1;case 22:return x.flags|=65536,O===mp?x.flags|=16384:(u=x.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([O])},x.updateQueue=u):(x=u.retryQueue,x===null?u.retryQueue=new Set([O]):x.add(O)),xm(i,O,V)),!1}throw Error(t(435,x.tag))}return xm(i,O,V),_m(),!1}if(vr)return u=ni.current,u!==null?(!(u.flags&65536)&&(u.flags|=256),u.flags|=65536,u.lanes=V,O!==pp&&(i=Error(t(422),{cause:O}),zu(ei(i,x)))):(O!==pp&&(u=Error(t(423),{cause:O}),zu(ei(u,x))),i=i.current.alternate,i.flags|=65536,V&=-V,i.lanes|=V,O=ei(O,x),V=Fp(i.stateNode,O,V),em(i,V),an!==4&&(an=2)),!1;var W=Error(t(520),{cause:O});if(W=ei(W,x),uc===null?uc=[W]:uc.push(W),an!==4&&(an=2),u===null)return!0;O=ei(O,x),x=u;do{switch(x.tag){case 3:return x.flags|=65536,i=V&-V,x.lanes|=i,i=Fp(x.stateNode,O,i),em(x,i),!1;case 1:if(u=x.type,W=x.stateNode,(x.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||W!==null&&typeof W.componentDidCatch=="function"&&(da===null||!da.has(W))))return x.flags|=65536,V&=-V,x.lanes|=V,V=nb(V),sb(V,i,x,O),em(x,V),!1}x=x.return}while(x!==null);return!1}var ib=Error(t(461)),Un=!1;function Wn(i,u,x,O){u.child=i===null?c0(u,null,x,O):Ya(u,i.child,x,O)}function ob(i,u,x,O,V){x=x.render;var W=u.ref;if("ref"in O){var ue={};for(var be in O)be!=="ref"&&(ue[be]=O[be])}else ue=O;return el(u),O=xp(i,u,x,ue,W,V),be=Sp(),i!==null&&!Un?(jp(i,u,V),wo(i,u,V)):(vr&&be&&hp(u),u.flags|=1,Wn(i,u,O,V),u.child)}function ab(i,u,x,O,V){if(i===null){var W=x.type;return typeof W=="function"&&!lm(W)&&W.defaultProps===void 0&&x.compare===null?(u.tag=15,u.type=W,lb(i,u,W,O,V)):(i=Jd(x.type,null,O,u,u.mode,V),i.ref=u.ref,i.return=u,u.child=i)}if(W=i.child,!Xp(i,V)){var ue=W.memoizedProps;if(x=x.compare,x=x!==null?x:Gr,x(ue,O)&&i.ref===u.ref)return wo(i,u,V)}return u.flags|=1,i=ua(W,O),i.ref=u.ref,i.return=u,u.child=i}function lb(i,u,x,O,V){if(i!==null){var W=i.memoizedProps;if(Gr(W,O)&&i.ref===u.ref)if(Un=!1,u.pendingProps=O=W,Xp(i,V))i.flags&131072&&(Un=!0);else return u.lanes=i.lanes,wo(i,u,V)}return Vp(i,u,x,O,V)}function ub(i,u,x){var O=u.pendingProps,V=O.children,W=(u.stateNode._pendingVisibility&2)!==0,ue=i!==null?i.memoizedState:null;if(Ju(i,u),O.mode==="hidden"||W){if(u.flags&128){if(O=ue!==null?ue.baseLanes|x:x,i!==null){for(V=u.child=i.child,W=0;V!==null;)W=W|V.lanes|V.childLanes,V=V.sibling;u.childLanes=W&~O}else u.childLanes=0,u.child=null;return cb(i,u,O,x)}if(x&536870912)u.memoizedState={baseLanes:0,cachePool:null},i!==null&&Ud(u,ue!==null?ue.cachePool:null),ue!==null?d0(u,ue):gp(),h0(u);else return u.lanes=u.childLanes=536870912,cb(i,u,ue!==null?ue.baseLanes|x:x,x)}else ue!==null?(Ud(u,ue.cachePool),d0(u,ue),Jo(),u.memoizedState=null):(i!==null&&Ud(u,null),gp(),Jo());return Wn(i,u,V,x),u.child}function cb(i,u,x,O){var V=_p();return V=V===null?null:{parent:Pn._currentValue,pool:V},u.memoizedState={baseLanes:x,cachePool:V},i!==null&&Ud(u,null),gp(),h0(u),i!==null&&ec(i,u,O,!0),null}function Ju(i,u){var x=u.ref;if(x===null)i!==null&&i.ref!==null&&(u.flags|=2097664);else{if(typeof x!="function"&&typeof x!="object")throw Error(t(284));(i===null||i.ref!==x)&&(u.flags|=2097664)}}function Vp(i,u,x,O,V){return el(u),x=xp(i,u,x,O,void 0,V),O=Sp(),i!==null&&!Un?(jp(i,u,V),wo(i,u,V)):(vr&&O&&hp(u),u.flags|=1,Wn(i,u,x,V),u.child)}function db(i,u,x,O,V,W){return el(u),u.updateQueue=null,x=y0(u,O,x,V),g0(i),O=Sp(),i!==null&&!Un?(jp(i,u,W),wo(i,u,W)):(vr&&O&&hp(u),u.flags|=1,Wn(i,u,x,W),u.child)}function hb(i,u,x,O,V){if(el(u),u.stateNode===null){var W=Gl,ue=x.contextType;typeof ue=="object"&&ue!==null&&(W=ss(ue)),W=new x(O,W),u.memoizedState=W.state!==null&&W.state!==void 0?W.state:null,W.updater=Up,u.stateNode=W,W._reactInternals=u,W=u.stateNode,W.props=O,W.state=u.memoizedState,W.refs={},Zp(u),ue=x.contextType,W.context=typeof ue=="object"&&ue!==null?ss(ue):Gl,W.state=u.memoizedState,ue=x.getDerivedStateFromProps,typeof ue=="function"&&(Np(u,x,ue,O),W.state=u.memoizedState),typeof x.getDerivedStateFromProps=="function"||typeof W.getSnapshotBeforeUpdate=="function"||typeof W.UNSAFE_componentWillMount!="function"&&typeof W.componentWillMount!="function"||(ue=W.state,typeof W.componentWillMount=="function"&&W.componentWillMount(),typeof W.UNSAFE_componentWillMount=="function"&&W.UNSAFE_componentWillMount(),ue!==W.state&&Up.enqueueReplaceState(W,W.state,null),nc(u,O,W,V),rc(),W.state=u.memoizedState),typeof W.componentDidMount=="function"&&(u.flags|=4194308),O=!0}else if(i===null){W=u.stateNode;var be=u.memoizedProps,Ie=Za(x,be);W.props=Ie;var ze=W.context,st=x.contextType;ue=Gl,typeof st=="object"&&st!==null&&(ue=ss(st));var pt=x.getDerivedStateFromProps;st=typeof pt=="function"||typeof W.getSnapshotBeforeUpdate=="function",be=u.pendingProps!==be,st||typeof W.UNSAFE_componentWillReceiveProps!="function"&&typeof W.componentWillReceiveProps!="function"||(be||ze!==ue)&&Z0(u,W,O,ue),na=!1;var Qe=u.memoizedState;W.state=Qe,nc(u,O,W,V),rc(),ze=u.memoizedState,be||Qe!==ze||na?(typeof pt=="function"&&(Np(u,x,pt,O),ze=u.memoizedState),(Ie=na||Q0(u,x,Ie,O,Qe,ze,ue))?(st||typeof W.UNSAFE_componentWillMount!="function"&&typeof W.componentWillMount!="function"||(typeof W.componentWillMount=="function"&&W.componentWillMount(),typeof W.UNSAFE_componentWillMount=="function"&&W.UNSAFE_componentWillMount()),typeof W.componentDidMount=="function"&&(u.flags|=4194308)):(typeof W.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=O,u.memoizedState=ze),W.props=O,W.state=ze,W.context=ue,O=Ie):(typeof W.componentDidMount=="function"&&(u.flags|=4194308),O=!1)}else{W=u.stateNode,Jp(i,u),ue=u.memoizedProps,st=Za(x,ue),W.props=st,pt=u.pendingProps,Qe=W.context,ze=x.contextType,Ie=Gl,typeof ze=="object"&&ze!==null&&(Ie=ss(ze)),be=x.getDerivedStateFromProps,(ze=typeof be=="function"||typeof W.getSnapshotBeforeUpdate=="function")||typeof W.UNSAFE_componentWillReceiveProps!="function"&&typeof W.componentWillReceiveProps!="function"||(ue!==pt||Qe!==Ie)&&Z0(u,W,O,Ie),na=!1,Qe=u.memoizedState,W.state=Qe,nc(u,O,W,V),rc();var rt=u.memoizedState;ue!==pt||Qe!==rt||na||i!==null&&i.dependencies!==null&&$d(i.dependencies)?(typeof be=="function"&&(Np(u,x,be,O),rt=u.memoizedState),(st=na||Q0(u,x,st,O,Qe,rt,Ie)||i!==null&&i.dependencies!==null&&$d(i.dependencies))?(ze||typeof W.UNSAFE_componentWillUpdate!="function"&&typeof W.componentWillUpdate!="function"||(typeof W.componentWillUpdate=="function"&&W.componentWillUpdate(O,rt,Ie),typeof W.UNSAFE_componentWillUpdate=="function"&&W.UNSAFE_componentWillUpdate(O,rt,Ie)),typeof W.componentDidUpdate=="function"&&(u.flags|=4),typeof W.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof W.componentDidUpdate!="function"||ue===i.memoizedProps&&Qe===i.memoizedState||(u.flags|=4),typeof W.getSnapshotBeforeUpdate!="function"||ue===i.memoizedProps&&Qe===i.memoizedState||(u.flags|=1024),u.memoizedProps=O,u.memoizedState=rt),W.props=O,W.state=rt,W.context=Ie,O=st):(typeof W.componentDidUpdate!="function"||ue===i.memoizedProps&&Qe===i.memoizedState||(u.flags|=4),typeof W.getSnapshotBeforeUpdate!="function"||ue===i.memoizedProps&&Qe===i.memoizedState||(u.flags|=1024),O=!1)}return W=O,Ju(i,u),O=(u.flags&128)!==0,W||O?(W=u.stateNode,x=O&&typeof x.getDerivedStateFromError!="function"?null:W.render(),u.flags|=1,i!==null&&O?(u.child=Ya(u,i.child,null,V),u.child=Ya(u,null,x,V)):Wn(i,u,x,V),u.memoizedState=W.state,i=u.child):i=wo(i,u,V),i}function fb(i,u,x,O){return Gu(),u.flags|=256,Wn(i,u,x,O),u.child}var Bp={dehydrated:null,treeContext:null,retryLane:0};function Gp(i){return{baseLanes:i,cachePool:m0()}}function zp(i,u,x){return i=i!==null?i.childLanes&~x:0,u&&(i|=ai),i}function pb(i,u,x){var O=u.pendingProps,V=!1,W=(u.flags&128)!==0,ue;if((ue=W)||(ue=i!==null&&i.memoizedState===null?!1:(Mn.current&2)!==0),ue&&(V=!0,u.flags&=-129),ue=(u.flags&32)!==0,u.flags&=-33,i===null){if(vr){if(V?Zo(u):Jo(),vr){var be=qn,Ie;if(Ie=be){e:{for(Ie=be,be=Vi;Ie.nodeType!==8;){if(!be){be=null;break e}if(Ie=Ci(Ie.nextSibling),Ie===null){be=null;break e}}be=Ie}be!==null?(u.memoizedState={dehydrated:be,treeContext:Ha!==null?{id:yo,overflow:vo}:null,retryLane:536870912},Ie=oi(18,null,null,0),Ie.stateNode=be,Ie.return=u,u.child=Ie,ms=u,qn=null,Ie=!0):Ie=!1}Ie||Wa(u)}if(be=u.memoizedState,be!==null&&(be=be.dehydrated,be!==null))return be.data==="$!"?u.lanes=16:u.lanes=536870912,null;bo(u)}return be=O.children,O=O.fallback,V?(Jo(),V=u.mode,be=qp({mode:"hidden",children:be},V),O=rl(O,V,x,null),be.return=u,O.return=u,be.sibling=O,u.child=be,V=u.child,V.memoizedState=Gp(x),V.childLanes=zp(i,ue,x),u.memoizedState=Bp,O):(Zo(u),Hp(u,be))}if(Ie=i.memoizedState,Ie!==null&&(be=Ie.dehydrated,be!==null)){if(W)u.flags&256?(Zo(u),u.flags&=-257,u=Wp(i,u,x)):u.memoizedState!==null?(Jo(),u.child=i.child,u.flags|=128,u=null):(Jo(),V=O.fallback,be=u.mode,O=qp({mode:"visible",children:O.children},be),V=rl(V,be,x,null),V.flags|=2,O.return=u,V.return=u,O.sibling=V,u.child=O,Ya(u,i.child,null,x),O=u.child,O.memoizedState=Gp(x),O.childLanes=zp(i,ue,x),u.memoizedState=Bp,u=V);else if(Zo(u),be.data==="$!"){if(ue=be.nextSibling&&be.nextSibling.dataset,ue)var ze=ue.dgst;ue=ze,O=Error(t(419)),O.stack="",O.digest=ue,zu({value:O,source:null,stack:null}),u=Wp(i,u,x)}else if(Un||ec(i,u,x,!1),ue=(x&i.childLanes)!==0,Un||ue){if(ue=zr,ue!==null){if(O=x&-x,O&42)O=1;else switch(O){case 2:O=1;break;case 8:O=4;break;case 32:O=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:O=64;break;case 268435456:O=134217728;break;default:O=0}if(O=O&(ue.suspendedLanes|x)?0:O,O!==0&&O!==Ie.retryLane)throw Ie.retryLane=O,Qo(i,O),gs(ue,i,O),ib}be.data==="$?"||_m(),u=Wp(i,u,x)}else be.data==="$?"?(u.flags|=128,u.child=i.child,u=CT.bind(null,i),be._reactRetry=u,u=null):(i=Ie.treeContext,qn=Ci(be.nextSibling),ms=u,vr=!0,Ei=null,Vi=!1,i!==null&&(ti[ri++]=yo,ti[ri++]=vo,ti[ri++]=Ha,yo=i.id,vo=i.overflow,Ha=u),u=Hp(u,O.children),u.flags|=4096);return u}return V?(Jo(),V=O.fallback,be=u.mode,Ie=i.child,ze=Ie.sibling,O=ua(Ie,{mode:"hidden",children:O.children}),O.subtreeFlags=Ie.subtreeFlags&31457280,ze!==null?V=ua(ze,V):(V=rl(V,be,x,null),V.flags|=2),V.return=u,O.return=u,O.sibling=V,u.child=O,O=V,V=u.child,be=i.child.memoizedState,be===null?be=Gp(x):(Ie=be.cachePool,Ie!==null?(ze=Pn._currentValue,Ie=Ie.parent!==ze?{parent:ze,pool:ze}:Ie):Ie=m0(),be={baseLanes:be.baseLanes|x,cachePool:Ie}),V.memoizedState=be,V.childLanes=zp(i,ue,x),u.memoizedState=Bp,O):(Zo(u),x=i.child,i=x.sibling,x=ua(x,{mode:"visible",children:O.children}),x.return=u,x.sibling=null,i!==null&&(ue=u.deletions,ue===null?(u.deletions=[i],u.flags|=16):ue.push(i)),u.child=x,u.memoizedState=null,x)}function Hp(i,u){return u=qp({mode:"visible",children:u},i.mode),u.return=i,i.child=u}function qp(i,u){return Vb(i,u,0,null)}function Wp(i,u,x){return Ya(u,i.child,null,x),i=Hp(u,u.pendingProps.children),i.flags|=2,u.memoizedState=null,i}function mb(i,u,x){i.lanes|=u;var O=i.alternate;O!==null&&(O.lanes|=u),Kp(i.return,u,x)}function Yp(i,u,x,O,V){var W=i.memoizedState;W===null?i.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:O,tail:x,tailMode:V}:(W.isBackwards=u,W.rendering=null,W.renderingStartTime=0,W.last=O,W.tail=x,W.tailMode=V)}function gb(i,u,x){var O=u.pendingProps,V=O.revealOrder,W=O.tail;if(Wn(i,u,O.children,x),O=Mn.current,O&2)O=O&1|2,u.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=u.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&mb(i,x,u);else if(i.tag===19)mb(i,x,u);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===u)break e;for(;i.sibling===null;){if(i.return===null||i.return===u)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}O&=1}switch(ve(Mn,O),V){case"forwards":for(x=u.child,V=null;x!==null;)i=x.alternate,i!==null&&Nd(i)===null&&(V=x),x=x.sibling;x=V,x===null?(V=u.child,u.child=null):(V=x.sibling,x.sibling=null),Yp(u,!1,V,x,W);break;case"backwards":for(x=null,V=u.child,u.child=null;V!==null;){if(i=V.alternate,i!==null&&Nd(i)===null){u.child=V;break}i=V.sibling,V.sibling=x,x=V,V=i}Yp(u,!0,x,null,W);break;case"together":Yp(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function wo(i,u,x){if(i!==null&&(u.dependencies=i.dependencies),ca|=u.lanes,!(x&u.childLanes))if(i!==null){if(ec(i,u,x,!1),(x&u.childLanes)===0)return null}else return null;if(i!==null&&u.child!==i.child)throw Error(t(153));if(u.child!==null){for(i=u.child,x=ua(i,i.pendingProps),u.child=x,x.return=u;i.sibling!==null;)i=i.sibling,x=x.sibling=ua(i,i.pendingProps),x.return=u;x.sibling=null}return u.child}function Xp(i,u){return i.lanes&u?!0:(i=i.dependencies,!!(i!==null&&$d(i)))}function fT(i,u,x){switch(u.tag){case 3:je(u,u.stateNode.containerInfo),ra(u,Pn,i.memoizedState.cache),Gu();break;case 27:case 5:De(u);break;case 4:je(u,u.stateNode.containerInfo);break;case 10:ra(u,u.type,u.memoizedProps.value);break;case 13:var O=u.memoizedState;if(O!==null)return O.dehydrated!==null?(Zo(u),u.flags|=128,null):x&u.child.childLanes?pb(i,u,x):(Zo(u),i=wo(i,u,x),i!==null?i.sibling:null);Zo(u);break;case 19:var V=(i.flags&128)!==0;if(O=(x&u.childLanes)!==0,O||(ec(i,u,x,!1),O=(x&u.childLanes)!==0),V){if(O)return gb(i,u,x);u.flags|=128}if(V=u.memoizedState,V!==null&&(V.rendering=null,V.tail=null,V.lastEffect=null),ve(Mn,Mn.current),O)break;return null;case 22:case 23:return u.lanes=0,ub(i,u,x);case 24:ra(u,Pn,i.memoizedState.cache)}return wo(i,u,x)}function yb(i,u,x){if(i!==null)if(i.memoizedProps!==u.pendingProps)Un=!0;else{if(!Xp(i,x)&&!(u.flags&128))return Un=!1,fT(i,u,x);Un=!!(i.flags&131072)}else Un=!1,vr&&u.flags&1048576&&t0(u,kd,u.index);switch(u.lanes=0,u.tag){case 16:e:{i=u.pendingProps;var O=u.elementType,V=O._init;if(O=V(O._payload),u.type=O,typeof O=="function")lm(O)?(i=Za(O,i),u.tag=1,u=hb(null,u,O,i,x)):(u.tag=0,u=Vp(null,u,O,i,x));else{if(O!=null){if(V=O.$$typeof,V===b){u.tag=11,u=ob(null,u,O,i,x);break e}else if(V===g){u.tag=14,u=ab(null,u,O,i,x);break e}}throw u=T(O)||O,Error(t(306,u,""))}}return u;case 0:return Vp(i,u,u.type,u.pendingProps,x);case 1:return O=u.type,V=Za(O,u.pendingProps),hb(i,u,O,V,x);case 3:e:{if(je(u,u.stateNode.containerInfo),i===null)throw Error(t(387));var W=u.pendingProps;V=u.memoizedState,O=V.element,Jp(i,u),nc(u,W,null,x);var ue=u.memoizedState;if(W=ue.cache,ra(u,Pn,W),W!==V.cache&&Qp(u,[Pn],x,!0),rc(),W=ue.element,V.isDehydrated)if(V={element:W,isDehydrated:!1,cache:ue.cache},u.updateQueue.baseState=V,u.memoizedState=V,u.flags&256){u=fb(i,u,W,x);break e}else if(W!==O){O=ei(Error(t(424)),u),zu(O),u=fb(i,u,W,x);break e}else for(qn=Ci(u.stateNode.containerInfo.firstChild),ms=u,vr=!0,Ei=null,Vi=!0,x=c0(u,null,W,x),u.child=x;x;)x.flags=x.flags&-3|4096,x=x.sibling;else{if(Gu(),W===O){u=wo(i,u,x);break e}Wn(i,u,W,x)}u=u.child}return u;case 26:return Ju(i,u),i===null?(x=_1(u.type,null,u.pendingProps,null))?u.memoizedState=x:vr||(x=u.type,i=u.pendingProps,O=dh(xe.current).createElement(x),O[Kr]=u,O[Yr]=i,Yn(O,x,i),Pt(O),u.stateNode=O):u.memoizedState=_1(u.type,i.memoizedProps,u.pendingProps,i.memoizedState),null;case 27:return De(u),i===null&&vr&&(O=u.stateNode=y1(u.type,u.pendingProps,xe.current),ms=u,Vi=!0,qn=Ci(O.firstChild)),O=u.pendingProps.children,i!==null||vr?Wn(i,u,O,x):u.child=Ya(u,null,O,x),Ju(i,u),u.child;case 5:return i===null&&vr&&((V=O=qn)&&(O=zT(O,u.type,u.pendingProps,Vi),O!==null?(u.stateNode=O,ms=u,qn=Ci(O.firstChild),Vi=!1,V=!0):V=!1),V||Wa(u)),De(u),V=u.type,W=u.pendingProps,ue=i!==null?i.memoizedProps:null,O=W.children,Pm(V,W)?O=null:ue!==null&&Pm(V,ue)&&(u.flags|=32),u.memoizedState!==null&&(V=xp(i,u,oT,null,null,x),vc._currentValue=V),Ju(i,u),Wn(i,u,O,x),u.child;case 6:return i===null&&vr&&((i=x=qn)&&(x=HT(x,u.pendingProps,Vi),x!==null?(u.stateNode=x,ms=u,qn=null,i=!0):i=!1),i||Wa(u)),null;case 13:return pb(i,u,x);case 4:return je(u,u.stateNode.containerInfo),O=u.pendingProps,i===null?u.child=Ya(u,null,O,x):Wn(i,u,O,x),u.child;case 11:return ob(i,u,u.type,u.pendingProps,x);case 7:return Wn(i,u,u.pendingProps,x),u.child;case 8:return Wn(i,u,u.pendingProps.children,x),u.child;case 12:return Wn(i,u,u.pendingProps.children,x),u.child;case 10:return O=u.pendingProps,ra(u,u.type,O.value),Wn(i,u,O.children,x),u.child;case 9:return V=u.type._context,O=u.pendingProps.children,el(u),V=ss(V),O=O(V),u.flags|=1,Wn(i,u,O,x),u.child;case 14:return ab(i,u,u.type,u.pendingProps,x);case 15:return lb(i,u,u.type,u.pendingProps,x);case 19:return gb(i,u,x);case 22:return ub(i,u,x);case 24:return el(u),O=ss(Pn),i===null?(V=_p(),V===null&&(V=zr,W=vp(),V.pooledCache=W,W.refCount++,W!==null&&(V.pooledCacheLanes|=x),V=W),u.memoizedState={parent:O,cache:V},Zp(u),ra(u,Pn,V)):(i.lanes&x&&(Jp(i,u),nc(u,null,null,x),rc()),V=i.memoizedState,W=u.memoizedState,V.parent!==O?(V={parent:O,cache:O},u.memoizedState=V,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=V),ra(u,Pn,O)):(O=W.cache,ra(u,Pn,O),O!==V.cache&&Qp(u,[Pn],x,!0))),Wn(i,u,u.pendingProps.children,x),u.child;case 29:throw u.pendingProps}throw Error(t(156,u.tag))}var $p=ce(null),Ja=null,xo=null;function ra(i,u,x){ve($p,u._currentValue),u._currentValue=x}function So(i){i._currentValue=$p.current,pe($p)}function Kp(i,u,x){for(;i!==null;){var O=i.alternate;if((i.childLanes&u)!==u?(i.childLanes|=u,O!==null&&(O.childLanes|=u)):O!==null&&(O.childLanes&u)!==u&&(O.childLanes|=u),i===x)break;i=i.return}}function Qp(i,u,x,O){var V=i.child;for(V!==null&&(V.return=i);V!==null;){var W=V.dependencies;if(W!==null){var ue=V.child;W=W.firstContext;e:for(;W!==null;){var be=W;W=V;for(var Ie=0;Ie<u.length;Ie++)if(be.context===u[Ie]){W.lanes|=x,be=W.alternate,be!==null&&(be.lanes|=x),Kp(W.return,x,i),O||(ue=null);break e}W=be.next}}else if(V.tag===18){if(ue=V.return,ue===null)throw Error(t(341));ue.lanes|=x,W=ue.alternate,W!==null&&(W.lanes|=x),Kp(ue,x,i),ue=null}else ue=V.child;if(ue!==null)ue.return=V;else for(ue=V;ue!==null;){if(ue===i){ue=null;break}if(V=ue.sibling,V!==null){V.return=ue.return,ue=V;break}ue=ue.return}V=ue}}function ec(i,u,x,O){i=null;for(var V=u,W=!1;V!==null;){if(!W){if(V.flags&524288)W=!0;else if(V.flags&262144)break}if(V.tag===10){var ue=V.alternate;if(ue===null)throw Error(t(387));if(ue=ue.memoizedProps,ue!==null){var be=V.type;ir(V.pendingProps.value,ue.value)||(i!==null?i.push(be):i=[be])}}else if(V===he.current){if(ue=V.alternate,ue===null)throw Error(t(387));ue.memoizedState.memoizedState!==V.memoizedState.memoizedState&&(i!==null?i.push(vc):i=[vc])}V=V.return}i!==null&&Qp(u,i,x,O),u.flags|=262144}function $d(i){for(i=i.firstContext;i!==null;){if(!ir(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function el(i){Ja=i,xo=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function ss(i){return vb(Ja,i)}function Kd(i,u){return Ja===null&&el(i),vb(i,u)}function vb(i,u){var x=u._currentValue;if(u={context:u,memoizedValue:x,next:null},xo===null){if(i===null)throw Error(t(308));xo=u,i.dependencies={lanes:0,firstContext:u},i.flags|=524288}else xo=xo.next=u;return x}var na=!1;function Zp(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Jp(i,u){i=i.updateQueue,u.updateQueue===i&&(u.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function sa(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function ia(i,u,x){var O=i.updateQueue;if(O===null)return null;if(O=O.shared,rn&2){var V=O.pending;return V===null?u.next=u:(u.next=V.next,V.next=u),O.pending=u,u=Od(i),Jv(i,null,x),u}return Rd(i,O,u,x),Od(i)}function tc(i,u,x){if(u=u.updateQueue,u!==null&&(u=u.shared,(x&4194176)!==0)){var O=u.lanes;O&=i.pendingLanes,x|=O,u.lanes=x,Vr(i,x)}}function em(i,u){var x=i.updateQueue,O=i.alternate;if(O!==null&&(O=O.updateQueue,x===O)){var V=null,W=null;if(x=x.firstBaseUpdate,x!==null){do{var ue={lane:x.lane,tag:x.tag,payload:x.payload,callback:null,next:null};W===null?V=W=ue:W=W.next=ue,x=x.next}while(x!==null);W===null?V=W=u:W=W.next=u}else V=W=u;x={baseState:O.baseState,firstBaseUpdate:V,lastBaseUpdate:W,shared:O.shared,callbacks:O.callbacks},i.updateQueue=x;return}i=x.lastBaseUpdate,i===null?x.firstBaseUpdate=u:i.next=u,x.lastBaseUpdate=u}var tm=!1;function rc(){if(tm){var i=Xl;if(i!==null)throw i}}function nc(i,u,x,O){tm=!1;var V=i.updateQueue;na=!1;var W=V.firstBaseUpdate,ue=V.lastBaseUpdate,be=V.shared.pending;if(be!==null){V.shared.pending=null;var Ie=be,ze=Ie.next;Ie.next=null,ue===null?W=ze:ue.next=ze,ue=Ie;var st=i.alternate;st!==null&&(st=st.updateQueue,be=st.lastBaseUpdate,be!==ue&&(be===null?st.firstBaseUpdate=ze:be.next=ze,st.lastBaseUpdate=Ie))}if(W!==null){var pt=V.baseState;ue=0,st=ze=Ie=null,be=W;do{var Qe=be.lane&-536870913,rt=Qe!==be.lane;if(rt?(dr&Qe)===Qe:(O&Qe)===Qe){Qe!==0&&Qe===Yl&&(tm=!0),st!==null&&(st=st.next={lane:0,tag:be.tag,payload:be.payload,callback:null,next:null});e:{var Dt=i,Xt=be;Qe=u;var ln=x;switch(Xt.tag){case 1:if(Dt=Xt.payload,typeof Dt=="function"){pt=Dt.call(ln,pt,Qe);break e}pt=Dt;break e;case 3:Dt.flags=Dt.flags&-65537|128;case 0:if(Dt=Xt.payload,Qe=typeof Dt=="function"?Dt.call(ln,pt,Qe):Dt,Qe==null)break e;pt=D({},pt,Qe);break e;case 2:na=!0}}Qe=be.callback,Qe!==null&&(i.flags|=64,rt&&(i.flags|=8192),rt=V.callbacks,rt===null?V.callbacks=[Qe]:rt.push(Qe))}else rt={lane:Qe,tag:be.tag,payload:be.payload,callback:be.callback,next:null},st===null?(ze=st=rt,Ie=pt):st=st.next=rt,ue|=Qe;if(be=be.next,be===null){if(be=V.shared.pending,be===null)break;rt=be,be=rt.next,rt.next=null,V.lastBaseUpdate=rt,V.shared.pending=null}}while(!0);st===null&&(Ie=pt),V.baseState=Ie,V.firstBaseUpdate=ze,V.lastBaseUpdate=st,W===null&&(V.shared.lanes=0),ca|=ue,i.lanes=ue,i.memoizedState=pt}}function bb(i,u){if(typeof i!="function")throw Error(t(191,i));i.call(u)}function _b(i,u){var x=i.callbacks;if(x!==null)for(i.callbacks=null,i=0;i<x.length;i++)bb(x[i],u)}function sc(i,u){try{var x=u.updateQueue,O=x!==null?x.lastEffect:null;if(O!==null){var V=O.next;x=V;do{if((x.tag&i)===i){O=void 0;var W=x.create,ue=x.inst;O=W(),ue.destroy=O}x=x.next}while(x!==V)}}catch(be){Fr(u,u.return,be)}}function oa(i,u,x){try{var O=u.updateQueue,V=O!==null?O.lastEffect:null;if(V!==null){var W=V.next;O=W;do{if((O.tag&i)===i){var ue=O.inst,be=ue.destroy;if(be!==void 0){ue.destroy=void 0,V=u;var Ie=x;try{be()}catch(ze){Fr(V,Ie,ze)}}}O=O.next}while(O!==W)}}catch(ze){Fr(u,u.return,ze)}}function wb(i){var u=i.updateQueue;if(u!==null){var x=i.stateNode;try{_b(u,x)}catch(O){Fr(i,i.return,O)}}}function xb(i,u,x){x.props=Za(i.type,i.memoizedProps),x.state=i.memoizedState;try{x.componentWillUnmount()}catch(O){Fr(i,u,O)}}function tl(i,u){try{var x=i.ref;if(x!==null){var O=i.stateNode;switch(i.tag){case 26:case 27:case 5:var V=O;break;default:V=O}typeof x=="function"?i.refCleanup=x(V):x.current=V}}catch(W){Fr(i,u,W)}}function Us(i,u){var x=i.ref,O=i.refCleanup;if(x!==null)if(typeof O=="function")try{O()}catch(V){Fr(i,u,V)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof x=="function")try{x(null)}catch(V){Fr(i,u,V)}else x.current=null}function Sb(i){var u=i.type,x=i.memoizedProps,O=i.stateNode;try{e:switch(u){case"button":case"input":case"select":case"textarea":x.autoFocus&&O.focus();break e;case"img":x.src?O.src=x.src:x.srcSet&&(O.srcset=x.srcSet)}}catch(V){Fr(i,i.return,V)}}function jb(i,u,x){try{var O=i.stateNode;UT(O,i.type,x,u),O[Yr]=u}catch(V){Fr(i,i.return,V)}}function Eb(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27||i.tag===4}function rm(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Eb(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==27&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function nm(i,u,x){var O=i.tag;if(O===5||O===6)i=i.stateNode,u?x.nodeType===8?x.parentNode.insertBefore(i,u):x.insertBefore(i,u):(x.nodeType===8?(u=x.parentNode,u.insertBefore(i,x)):(u=x,u.appendChild(i)),x=x._reactRootContainer,x!=null||u.onclick!==null||(u.onclick=ch));else if(O!==4&&O!==27&&(i=i.child,i!==null))for(nm(i,u,x),i=i.sibling;i!==null;)nm(i,u,x),i=i.sibling}function Qd(i,u,x){var O=i.tag;if(O===5||O===6)i=i.stateNode,u?x.insertBefore(i,u):x.appendChild(i);else if(O!==4&&O!==27&&(i=i.child,i!==null))for(Qd(i,u,x),i=i.sibling;i!==null;)Qd(i,u,x),i=i.sibling}var jo=!1,on=!1,sm=!1,Tb=typeof WeakSet=="function"?WeakSet:Set,Fn=null,Cb=!1;function pT(i,u){if(i=i.containerInfo,km=yh,i=Tr(i),Rr(i)){if("selectionStart"in i)var x={start:i.selectionStart,end:i.selectionEnd};else e:{x=(x=i.ownerDocument)&&x.defaultView||window;var O=x.getSelection&&x.getSelection();if(O&&O.rangeCount!==0){x=O.anchorNode;var V=O.anchorOffset,W=O.focusNode;O=O.focusOffset;try{x.nodeType,W.nodeType}catch{x=null;break e}var ue=0,be=-1,Ie=-1,ze=0,st=0,pt=i,Qe=null;t:for(;;){for(var rt;pt!==x||V!==0&&pt.nodeType!==3||(be=ue+V),pt!==W||O!==0&&pt.nodeType!==3||(Ie=ue+O),pt.nodeType===3&&(ue+=pt.nodeValue.length),(rt=pt.firstChild)!==null;)Qe=pt,pt=rt;for(;;){if(pt===i)break t;if(Qe===x&&++ze===V&&(be=ue),Qe===W&&++st===O&&(Ie=ue),(rt=pt.nextSibling)!==null)break;pt=Qe,Qe=pt.parentNode}pt=rt}x=be===-1||Ie===-1?null:{start:be,end:Ie}}else x=null}x=x||{start:0,end:0}}else x=null;for(Mm={focusedElem:i,selectionRange:x},yh=!1,Fn=u;Fn!==null;)if(u=Fn,i=u.child,(u.subtreeFlags&1028)!==0&&i!==null)i.return=u,Fn=i;else for(;Fn!==null;){switch(u=Fn,W=u.alternate,i=u.flags,u.tag){case 0:break;case 11:case 15:break;case 1:if(i&1024&&W!==null){i=void 0,x=u,V=W.memoizedProps,W=W.memoizedState,O=x.stateNode;try{var Dt=Za(x.type,V,x.elementType===x.type);i=O.getSnapshotBeforeUpdate(Dt,W),O.__reactInternalSnapshotBeforeUpdate=i}catch(Xt){Fr(x,x.return,Xt)}}break;case 3:if(i&1024){if(i=u.stateNode.containerInfo,x=i.nodeType,x===9)Nm(i);else if(x===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Nm(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(i&1024)throw Error(t(163))}if(i=u.sibling,i!==null){i.return=u.return,Fn=i;break}Fn=u.return}return Dt=Cb,Cb=!1,Dt}function Ab(i,u,x){var O=x.flags;switch(x.tag){case 0:case 11:case 15:To(i,x),O&4&&sc(5,x);break;case 1:if(To(i,x),O&4)if(i=x.stateNode,u===null)try{i.componentDidMount()}catch(be){Fr(x,x.return,be)}else{var V=Za(x.type,u.memoizedProps);u=u.memoizedState;try{i.componentDidUpdate(V,u,i.__reactInternalSnapshotBeforeUpdate)}catch(be){Fr(x,x.return,be)}}O&64&&wb(x),O&512&&tl(x,x.return);break;case 3:if(To(i,x),O&64&&(O=x.updateQueue,O!==null)){if(i=null,x.child!==null)switch(x.child.tag){case 27:case 5:i=x.child.stateNode;break;case 1:i=x.child.stateNode}try{_b(O,i)}catch(be){Fr(x,x.return,be)}}break;case 26:To(i,x),O&512&&tl(x,x.return);break;case 27:case 5:To(i,x),u===null&&O&4&&Sb(x),O&512&&tl(x,x.return);break;case 12:To(i,x);break;case 13:To(i,x),O&4&&Ib(i,x);break;case 22:if(V=x.memoizedState!==null||jo,!V){u=u!==null&&u.memoizedState!==null||on;var W=jo,ue=on;jo=V,(on=u)&&!ue?aa(i,x,(x.subtreeFlags&8772)!==0):To(i,x),jo=W,on=ue}O&512&&(x.memoizedProps.mode==="manual"?tl(x,x.return):Us(x,x.return));break;default:To(i,x)}}function Rb(i){var u=i.alternate;u!==null&&(i.alternate=null,Rb(u)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(u=i.stateNode,u!==null&&ot(u)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var _n=null,Fs=!1;function Eo(i,u,x){for(x=x.child;x!==null;)Ob(i,u,x),x=x.sibling}function Ob(i,u,x){if(ye&&typeof ye.onCommitFiberUnmount=="function")try{ye.onCommitFiberUnmount(ie,x)}catch{}switch(x.tag){case 26:on||Us(x,u),Eo(i,u,x),x.memoizedState?x.memoizedState.count--:x.stateNode&&(x=x.stateNode,x.parentNode.removeChild(x));break;case 27:on||Us(x,u);var O=_n,V=Fs;for(_n=x.stateNode,Eo(i,u,x),x=x.stateNode,u=x.attributes;u.length;)x.removeAttributeNode(u[0]);ot(x),_n=O,Fs=V;break;case 5:on||Us(x,u);case 6:V=_n;var W=Fs;if(_n=null,Eo(i,u,x),_n=V,Fs=W,_n!==null)if(Fs)try{i=_n,O=x.stateNode,i.nodeType===8?i.parentNode.removeChild(O):i.removeChild(O)}catch(ue){Fr(x,u,ue)}else try{_n.removeChild(x.stateNode)}catch(ue){Fr(x,u,ue)}break;case 18:_n!==null&&(Fs?(u=_n,x=x.stateNode,u.nodeType===8?Lm(u.parentNode,x):u.nodeType===1&&Lm(u,x),xc(u)):Lm(_n,x.stateNode));break;case 4:O=_n,V=Fs,_n=x.stateNode.containerInfo,Fs=!0,Eo(i,u,x),_n=O,Fs=V;break;case 0:case 11:case 14:case 15:on||oa(2,x,u),on||oa(4,x,u),Eo(i,u,x);break;case 1:on||(Us(x,u),O=x.stateNode,typeof O.componentWillUnmount=="function"&&xb(x,u,O)),Eo(i,u,x);break;case 21:Eo(i,u,x);break;case 22:on||Us(x,u),on=(O=on)||x.memoizedState!==null,Eo(i,u,x),on=O;break;default:Eo(i,u,x)}}function Ib(i,u){if(u.memoizedState===null&&(i=u.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{xc(i)}catch(x){Fr(u,u.return,x)}}function mT(i){switch(i.tag){case 13:case 19:var u=i.stateNode;return u===null&&(u=i.stateNode=new Tb),u;case 22:return i=i.stateNode,u=i._retryCache,u===null&&(u=i._retryCache=new Tb),u;default:throw Error(t(435,i.tag))}}function im(i,u){var x=mT(i);u.forEach(function(O){var V=AT.bind(null,i,O);x.has(O)||(x.add(O),O.then(V,V))})}function si(i,u){var x=u.deletions;if(x!==null)for(var O=0;O<x.length;O++){var V=x[O],W=i,ue=u,be=ue;e:for(;be!==null;){switch(be.tag){case 27:case 5:_n=be.stateNode,Fs=!1;break e;case 3:_n=be.stateNode.containerInfo,Fs=!0;break e;case 4:_n=be.stateNode.containerInfo,Fs=!0;break e}be=be.return}if(_n===null)throw Error(t(160));Ob(W,ue,V),_n=null,Fs=!1,W=V.alternate,W!==null&&(W.return=null),V.return=null}if(u.subtreeFlags&13878)for(u=u.child;u!==null;)kb(u,i),u=u.sibling}var Ti=null;function kb(i,u){var x=i.alternate,O=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:si(u,i),ii(i),O&4&&(oa(3,i,i.return),sc(3,i),oa(5,i,i.return));break;case 1:si(u,i),ii(i),O&512&&(on||x===null||Us(x,x.return)),O&64&&jo&&(i=i.updateQueue,i!==null&&(O=i.callbacks,O!==null&&(x=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=x===null?O:x.concat(O))));break;case 26:var V=Ti;if(si(u,i),ii(i),O&512&&(on||x===null||Us(x,x.return)),O&4){var W=x!==null?x.memoizedState:null;if(O=i.memoizedState,x===null)if(O===null)if(i.stateNode===null){e:{O=i.type,x=i.memoizedProps,V=V.ownerDocument||V;t:switch(O){case"title":W=V.getElementsByTagName("title")[0],(!W||W[wt]||W[Kr]||W.namespaceURI==="http://www.w3.org/2000/svg"||W.hasAttribute("itemprop"))&&(W=V.createElement(O),V.head.insertBefore(W,V.querySelector("head > title"))),Yn(W,O,x),W[Kr]=i,Pt(W),O=W;break e;case"link":var ue=S1("link","href",V).get(O+(x.href||""));if(ue){for(var be=0;be<ue.length;be++)if(W=ue[be],W.getAttribute("href")===(x.href==null?null:x.href)&&W.getAttribute("rel")===(x.rel==null?null:x.rel)&&W.getAttribute("title")===(x.title==null?null:x.title)&&W.getAttribute("crossorigin")===(x.crossOrigin==null?null:x.crossOrigin)){ue.splice(be,1);break t}}W=V.createElement(O),Yn(W,O,x),V.head.appendChild(W);break;case"meta":if(ue=S1("meta","content",V).get(O+(x.content||""))){for(be=0;be<ue.length;be++)if(W=ue[be],W.getAttribute("content")===(x.content==null?null:""+x.content)&&W.getAttribute("name")===(x.name==null?null:x.name)&&W.getAttribute("property")===(x.property==null?null:x.property)&&W.getAttribute("http-equiv")===(x.httpEquiv==null?null:x.httpEquiv)&&W.getAttribute("charset")===(x.charSet==null?null:x.charSet)){ue.splice(be,1);break t}}W=V.createElement(O),Yn(W,O,x),V.head.appendChild(W);break;default:throw Error(t(468,O))}W[Kr]=i,Pt(W),O=W}i.stateNode=O}else j1(V,i.type,i.stateNode);else i.stateNode=x1(V,O,i.memoizedProps);else W!==O?(W===null?x.stateNode!==null&&(x=x.stateNode,x.parentNode.removeChild(x)):W.count--,O===null?j1(V,i.type,i.stateNode):x1(V,O,i.memoizedProps)):O===null&&i.stateNode!==null&&jb(i,i.memoizedProps,x.memoizedProps)}break;case 27:if(O&4&&i.alternate===null){V=i.stateNode,W=i.memoizedProps;try{for(var Ie=V.firstChild;Ie;){var ze=Ie.nextSibling,st=Ie.nodeName;Ie[wt]||st==="HEAD"||st==="BODY"||st==="SCRIPT"||st==="STYLE"||st==="LINK"&&Ie.rel.toLowerCase()==="stylesheet"||V.removeChild(Ie),Ie=ze}for(var pt=i.type,Qe=V.attributes;Qe.length;)V.removeAttributeNode(Qe[0]);Yn(V,pt,W),V[Kr]=i,V[Yr]=W}catch(Dt){Fr(i,i.return,Dt)}}case 5:if(si(u,i),ii(i),O&512&&(on||x===null||Us(x,x.return)),i.flags&32){V=i.stateNode;try{en(V,"")}catch(Dt){Fr(i,i.return,Dt)}}O&4&&i.stateNode!=null&&(V=i.memoizedProps,jb(i,V,x!==null?x.memoizedProps:V)),O&1024&&(sm=!0);break;case 6:if(si(u,i),ii(i),O&4){if(i.stateNode===null)throw Error(t(162));O=i.memoizedProps,x=i.stateNode;try{x.nodeValue=O}catch(Dt){Fr(i,i.return,Dt)}}break;case 3:if(ph=null,V=Ti,Ti=hh(u.containerInfo),si(u,i),Ti=V,ii(i),O&4&&x!==null&&x.memoizedState.isDehydrated)try{xc(u.containerInfo)}catch(Dt){Fr(i,i.return,Dt)}sm&&(sm=!1,Mb(i));break;case 4:O=Ti,Ti=hh(i.stateNode.containerInfo),si(u,i),ii(i),Ti=O;break;case 12:si(u,i),ii(i);break;case 13:si(u,i),ii(i),i.child.flags&8192&&i.memoizedState!==null!=(x!==null&&x.memoizedState!==null)&&(pm=ut()),O&4&&(O=i.updateQueue,O!==null&&(i.updateQueue=null,im(i,O)));break;case 22:if(O&512&&(on||x===null||Us(x,x.return)),Ie=i.memoizedState!==null,ze=x!==null&&x.memoizedState!==null,st=jo,pt=on,jo=st||Ie,on=pt||ze,si(u,i),on=pt,jo=st,ii(i),u=i.stateNode,u._current=i,u._visibility&=-3,u._visibility|=u._pendingVisibility&2,O&8192&&(u._visibility=Ie?u._visibility&-2:u._visibility|1,Ie&&(u=jo||on,x===null||ze||u||Zl(i)),i.memoizedProps===null||i.memoizedProps.mode!=="manual"))e:for(x=null,u=i;;){if(u.tag===5||u.tag===26||u.tag===27){if(x===null){ze=x=u;try{if(V=ze.stateNode,Ie)W=V.style,typeof W.setProperty=="function"?W.setProperty("display","none","important"):W.display="none";else{ue=ze.stateNode,be=ze.memoizedProps.style;var rt=be!=null&&be.hasOwnProperty("display")?be.display:null;ue.style.display=rt==null||typeof rt=="boolean"?"":(""+rt).trim()}}catch(Dt){Fr(ze,ze.return,Dt)}}}else if(u.tag===6){if(x===null){ze=u;try{ze.stateNode.nodeValue=Ie?"":ze.memoizedProps}catch(Dt){Fr(ze,ze.return,Dt)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===i)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===i)break e;for(;u.sibling===null;){if(u.return===null||u.return===i)break e;x===u&&(x=null),u=u.return}x===u&&(x=null),u.sibling.return=u.return,u=u.sibling}O&4&&(O=i.updateQueue,O!==null&&(x=O.retryQueue,x!==null&&(O.retryQueue=null,im(i,x))));break;case 19:si(u,i),ii(i),O&4&&(O=i.updateQueue,O!==null&&(i.updateQueue=null,im(i,O)));break;case 21:break;default:si(u,i),ii(i)}}function ii(i){var u=i.flags;if(u&2){try{if(i.tag!==27){e:{for(var x=i.return;x!==null;){if(Eb(x)){var O=x;break e}x=x.return}throw Error(t(160))}switch(O.tag){case 27:var V=O.stateNode,W=rm(i);Qd(i,W,V);break;case 5:var ue=O.stateNode;O.flags&32&&(en(ue,""),O.flags&=-33);var be=rm(i);Qd(i,be,ue);break;case 3:case 4:var Ie=O.stateNode.containerInfo,ze=rm(i);nm(i,ze,Ie);break;default:throw Error(t(161))}}}catch(st){Fr(i,i.return,st)}i.flags&=-3}u&4096&&(i.flags&=-4097)}function Mb(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var u=i;Mb(u),u.tag===5&&u.flags&1024&&u.stateNode.reset(),i=i.sibling}}function To(i,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)Ab(i,u.alternate,u),u=u.sibling}function Zl(i){for(i=i.child;i!==null;){var u=i;switch(u.tag){case 0:case 11:case 14:case 15:oa(4,u,u.return),Zl(u);break;case 1:Us(u,u.return);var x=u.stateNode;typeof x.componentWillUnmount=="function"&&xb(u,u.return,x),Zl(u);break;case 26:case 27:case 5:Us(u,u.return),Zl(u);break;case 22:Us(u,u.return),u.memoizedState===null&&Zl(u);break;default:Zl(u)}i=i.sibling}}function aa(i,u,x){for(x=x&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var O=u.alternate,V=i,W=u,ue=W.flags;switch(W.tag){case 0:case 11:case 15:aa(V,W,x),sc(4,W);break;case 1:if(aa(V,W,x),O=W,V=O.stateNode,typeof V.componentDidMount=="function")try{V.componentDidMount()}catch(ze){Fr(O,O.return,ze)}if(O=W,V=O.updateQueue,V!==null){var be=O.stateNode;try{var Ie=V.shared.hiddenCallbacks;if(Ie!==null)for(V.shared.hiddenCallbacks=null,V=0;V<Ie.length;V++)bb(Ie[V],be)}catch(ze){Fr(O,O.return,ze)}}x&&ue&64&&wb(W),tl(W,W.return);break;case 26:case 27:case 5:aa(V,W,x),x&&O===null&&ue&4&&Sb(W),tl(W,W.return);break;case 12:aa(V,W,x);break;case 13:aa(V,W,x),x&&ue&4&&Ib(V,W);break;case 22:W.memoizedState===null&&aa(V,W,x),tl(W,W.return);break;default:aa(V,W,x)}u=u.sibling}}function om(i,u){var x=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(x=i.memoizedState.cachePool.pool),i=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(i=u.memoizedState.cachePool.pool),i!==x&&(i!=null&&i.refCount++,x!=null&&Xu(x))}function am(i,u){i=null,u.alternate!==null&&(i=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==i&&(u.refCount++,i!=null&&Xu(i))}function la(i,u,x,O){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)Pb(i,u,x,O),u=u.sibling}function Pb(i,u,x,O){var V=u.flags;switch(u.tag){case 0:case 11:case 15:la(i,u,x,O),V&2048&&sc(9,u);break;case 3:la(i,u,x,O),V&2048&&(i=null,u.alternate!==null&&(i=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==i&&(u.refCount++,i!=null&&Xu(i)));break;case 12:if(V&2048){la(i,u,x,O),i=u.stateNode;try{var W=u.memoizedProps,ue=W.id,be=W.onPostCommit;typeof be=="function"&&be(ue,u.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(Ie){Fr(u,u.return,Ie)}}else la(i,u,x,O);break;case 23:break;case 22:W=u.stateNode,u.memoizedState!==null?W._visibility&4?la(i,u,x,O):ic(i,u):W._visibility&4?la(i,u,x,O):(W._visibility|=4,Jl(i,u,x,O,(u.subtreeFlags&10256)!==0)),V&2048&&om(u.alternate,u);break;case 24:la(i,u,x,O),V&2048&&am(u.alternate,u);break;default:la(i,u,x,O)}}function Jl(i,u,x,O,V){for(V=V&&(u.subtreeFlags&10256)!==0,u=u.child;u!==null;){var W=i,ue=u,be=x,Ie=O,ze=ue.flags;switch(ue.tag){case 0:case 11:case 15:Jl(W,ue,be,Ie,V),sc(8,ue);break;case 23:break;case 22:var st=ue.stateNode;ue.memoizedState!==null?st._visibility&4?Jl(W,ue,be,Ie,V):ic(W,ue):(st._visibility|=4,Jl(W,ue,be,Ie,V)),V&&ze&2048&&om(ue.alternate,ue);break;case 24:Jl(W,ue,be,Ie,V),V&&ze&2048&&am(ue.alternate,ue);break;default:Jl(W,ue,be,Ie,V)}u=u.sibling}}function ic(i,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var x=i,O=u,V=O.flags;switch(O.tag){case 22:ic(x,O),V&2048&&om(O.alternate,O);break;case 24:ic(x,O),V&2048&&am(O.alternate,O);break;default:ic(x,O)}u=u.sibling}}var oc=8192;function eu(i){if(i.subtreeFlags&oc)for(i=i.child;i!==null;)Db(i),i=i.sibling}function Db(i){switch(i.tag){case 26:eu(i),i.flags&oc&&i.memoizedState!==null&&nC(Ti,i.memoizedState,i.memoizedProps);break;case 5:eu(i);break;case 3:case 4:var u=Ti;Ti=hh(i.stateNode.containerInfo),eu(i),Ti=u;break;case 22:i.memoizedState===null&&(u=i.alternate,u!==null&&u.memoizedState!==null?(u=oc,oc=16777216,eu(i),oc=u):eu(i));break;default:eu(i)}}function Lb(i){var u=i.alternate;if(u!==null&&(i=u.child,i!==null)){u.child=null;do u=i.sibling,i.sibling=null,i=u;while(i!==null)}}function ac(i){var u=i.deletions;if(i.flags&16){if(u!==null)for(var x=0;x<u.length;x++){var O=u[x];Fn=O,Ub(O,i)}Lb(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Nb(i),i=i.sibling}function Nb(i){switch(i.tag){case 0:case 11:case 15:ac(i),i.flags&2048&&oa(9,i,i.return);break;case 3:ac(i);break;case 12:ac(i);break;case 22:var u=i.stateNode;i.memoizedState!==null&&u._visibility&4&&(i.return===null||i.return.tag!==13)?(u._visibility&=-5,Zd(i)):ac(i);break;default:ac(i)}}function Zd(i){var u=i.deletions;if(i.flags&16){if(u!==null)for(var x=0;x<u.length;x++){var O=u[x];Fn=O,Ub(O,i)}Lb(i)}for(i=i.child;i!==null;){switch(u=i,u.tag){case 0:case 11:case 15:oa(8,u,u.return),Zd(u);break;case 22:x=u.stateNode,x._visibility&4&&(x._visibility&=-5,Zd(u));break;default:Zd(u)}i=i.sibling}}function Ub(i,u){for(;Fn!==null;){var x=Fn;switch(x.tag){case 0:case 11:case 15:oa(8,x,u);break;case 23:case 22:if(x.memoizedState!==null&&x.memoizedState.cachePool!==null){var O=x.memoizedState.cachePool.pool;O!=null&&O.refCount++}break;case 24:Xu(x.memoizedState.cache)}if(O=x.child,O!==null)O.return=x,Fn=O;else e:for(x=i;Fn!==null;){O=Fn;var V=O.sibling,W=O.return;if(Rb(O),O===x){Fn=null;break e}if(V!==null){V.return=W,Fn=V;break e}Fn=W}}}function gT(i,u,x,O){this.tag=i,this.key=x,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=O,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function oi(i,u,x,O){return new gT(i,u,x,O)}function lm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ua(i,u){var x=i.alternate;return x===null?(x=oi(i.tag,u,i.key,i.mode),x.elementType=i.elementType,x.type=i.type,x.stateNode=i.stateNode,x.alternate=i,i.alternate=x):(x.pendingProps=u,x.type=i.type,x.flags=0,x.subtreeFlags=0,x.deletions=null),x.flags=i.flags&31457280,x.childLanes=i.childLanes,x.lanes=i.lanes,x.child=i.child,x.memoizedProps=i.memoizedProps,x.memoizedState=i.memoizedState,x.updateQueue=i.updateQueue,u=i.dependencies,x.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},x.sibling=i.sibling,x.index=i.index,x.ref=i.ref,x.refCleanup=i.refCleanup,x}function Fb(i,u){i.flags&=31457282;var x=i.alternate;return x===null?(i.childLanes=0,i.lanes=u,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=x.childLanes,i.lanes=x.lanes,i.child=x.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=x.memoizedProps,i.memoizedState=x.memoizedState,i.updateQueue=x.updateQueue,i.type=x.type,u=x.dependencies,i.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),i}function Jd(i,u,x,O,V,W){var ue=0;if(O=i,typeof i=="function")lm(i)&&(ue=1);else if(typeof i=="string")ue=tC(i,x,ge.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case a:return rl(x.children,V,W,u);case d:ue=8,V|=24;break;case _:return i=oi(12,x,u,V|2),i.elementType=_,i.lanes=W,i;case y:return i=oi(13,x,u,V),i.elementType=y,i.lanes=W,i;case m:return i=oi(19,x,u,V),i.elementType=m,i.lanes=W,i;case S:return Vb(x,V,W,u);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case w:case p:ue=10;break e;case f:ue=9;break e;case b:ue=11;break e;case g:ue=14;break e;case v:ue=16,O=null;break e}ue=29,x=Error(t(130,i===null?"null":typeof i,"")),O=null}return u=oi(ue,x,u,V),u.elementType=i,u.type=O,u.lanes=W,u}function rl(i,u,x,O){return i=oi(7,i,O,u),i.lanes=x,i}function Vb(i,u,x,O){i=oi(22,i,O,u),i.elementType=S,i.lanes=x;var V={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var W=V._current;if(W===null)throw Error(t(456));if(!(V._pendingVisibility&2)){var ue=Qo(W,2);ue!==null&&(V._pendingVisibility|=2,gs(ue,W,2))}},attach:function(){var W=V._current;if(W===null)throw Error(t(456));if(V._pendingVisibility&2){var ue=Qo(W,2);ue!==null&&(V._pendingVisibility&=-3,gs(ue,W,2))}}};return i.stateNode=V,i}function um(i,u,x){return i=oi(6,i,null,u),i.lanes=x,i}function cm(i,u,x){return u=oi(4,i.children!==null?i.children:[],i.key,u),u.lanes=x,u.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},u}function Co(i){i.flags|=4}function Bb(i,u){if(u.type!=="stylesheet"||u.state.loading&4)i.flags&=-16777217;else if(i.flags|=16777216,!E1(u)){if(u=ni.current,u!==null&&((dr&4194176)===dr?Bi!==null:(dr&62914560)!==dr&&!(dr&536870912)||u!==Bi))throw qu=mp,s0;i.flags|=8192}}function eh(i,u){u!==null&&(i.flags|=4),i.flags&16384&&(u=i.tag!==22?Wr():536870912,i.lanes|=u,ru|=u)}function lc(i,u){if(!vr)switch(i.tailMode){case"hidden":u=i.tail;for(var x=null;u!==null;)u.alternate!==null&&(x=u),u=u.sibling;x===null?i.tail=null:x.sibling=null;break;case"collapsed":x=i.tail;for(var O=null;x!==null;)x.alternate!==null&&(O=x),x=x.sibling;O===null?u||i.tail===null?i.tail=null:i.tail.sibling=null:O.sibling=null}}function tn(i){var u=i.alternate!==null&&i.alternate.child===i.child,x=0,O=0;if(u)for(var V=i.child;V!==null;)x|=V.lanes|V.childLanes,O|=V.subtreeFlags&31457280,O|=V.flags&31457280,V.return=i,V=V.sibling;else for(V=i.child;V!==null;)x|=V.lanes|V.childLanes,O|=V.subtreeFlags,O|=V.flags,V.return=i,V=V.sibling;return i.subtreeFlags|=O,i.childLanes=x,u}function yT(i,u,x){var O=u.pendingProps;switch(fp(u),u.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tn(u),null;case 1:return tn(u),null;case 3:return x=u.stateNode,O=null,i!==null&&(O=i.memoizedState.cache),u.memoizedState.cache!==O&&(u.flags|=2048),So(Pn),Ce(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(i===null||i.child===null)&&(Bu(u)?Co(u):i===null||i.memoizedState.isDehydrated&&!(u.flags&256)||(u.flags|=1024,Ei!==null&&(vm(Ei),Ei=null))),tn(u),null;case 26:return x=u.memoizedState,i===null?(Co(u),x!==null?(tn(u),Bb(u,x)):(tn(u),u.flags&=-16777217)):x?x!==i.memoizedState?(Co(u),tn(u),Bb(u,x)):(tn(u),u.flags&=-16777217):(i.memoizedProps!==O&&Co(u),tn(u),u.flags&=-16777217),null;case 27:Oe(u),x=xe.current;var V=u.type;if(i!==null&&u.stateNode!=null)i.memoizedProps!==O&&Co(u);else{if(!O){if(u.stateNode===null)throw Error(t(166));return tn(u),null}i=ge.current,Bu(u)?r0(u):(i=y1(V,O,x),u.stateNode=i,Co(u))}return tn(u),null;case 5:if(Oe(u),x=u.type,i!==null&&u.stateNode!=null)i.memoizedProps!==O&&Co(u);else{if(!O){if(u.stateNode===null)throw Error(t(166));return tn(u),null}if(i=ge.current,Bu(u))r0(u);else{switch(V=dh(xe.current),i){case 1:i=V.createElementNS("http://www.w3.org/2000/svg",x);break;case 2:i=V.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;default:switch(x){case"svg":i=V.createElementNS("http://www.w3.org/2000/svg",x);break;case"math":i=V.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;case"script":i=V.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof O.is=="string"?V.createElement("select",{is:O.is}):V.createElement("select"),O.multiple?i.multiple=!0:O.size&&(i.size=O.size);break;default:i=typeof O.is=="string"?V.createElement(x,{is:O.is}):V.createElement(x)}}i[Kr]=u,i[Yr]=O;e:for(V=u.child;V!==null;){if(V.tag===5||V.tag===6)i.appendChild(V.stateNode);else if(V.tag!==4&&V.tag!==27&&V.child!==null){V.child.return=V,V=V.child;continue}if(V===u)break e;for(;V.sibling===null;){if(V.return===null||V.return===u)break e;V=V.return}V.sibling.return=V.return,V=V.sibling}u.stateNode=i;e:switch(Yn(i,x,O),x){case"button":case"input":case"select":case"textarea":i=!!O.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Co(u)}}return tn(u),u.flags&=-16777217,null;case 6:if(i&&u.stateNode!=null)i.memoizedProps!==O&&Co(u);else{if(typeof O!="string"&&u.stateNode===null)throw Error(t(166));if(i=xe.current,Bu(u)){if(i=u.stateNode,x=u.memoizedProps,O=null,V=ms,V!==null)switch(V.tag){case 27:case 5:O=V.memoizedProps}i[Kr]=u,i=!!(i.nodeValue===x||O!==null&&O.suppressHydrationWarning===!0||d1(i.nodeValue,x)),i||Wa(u)}else i=dh(i).createTextNode(O),i[Kr]=u,u.stateNode=i}return tn(u),null;case 13:if(O=u.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(V=Bu(u),O!==null&&O.dehydrated!==null){if(i===null){if(!V)throw Error(t(318));if(V=u.memoizedState,V=V!==null?V.dehydrated:null,!V)throw Error(t(317));V[Kr]=u}else Gu(),!(u.flags&128)&&(u.memoizedState=null),u.flags|=4;tn(u),V=!1}else Ei!==null&&(vm(Ei),Ei=null),V=!0;if(!V)return u.flags&256?(bo(u),u):(bo(u),null)}if(bo(u),u.flags&128)return u.lanes=x,u;if(x=O!==null,i=i!==null&&i.memoizedState!==null,x){O=u.child,V=null,O.alternate!==null&&O.alternate.memoizedState!==null&&O.alternate.memoizedState.cachePool!==null&&(V=O.alternate.memoizedState.cachePool.pool);var W=null;O.memoizedState!==null&&O.memoizedState.cachePool!==null&&(W=O.memoizedState.cachePool.pool),W!==V&&(O.flags|=2048)}return x!==i&&x&&(u.child.flags|=8192),eh(u,u.updateQueue),tn(u),null;case 4:return Ce(),i===null&&Rm(u.stateNode.containerInfo),tn(u),null;case 10:return So(u.type),tn(u),null;case 19:if(pe(Mn),V=u.memoizedState,V===null)return tn(u),null;if(O=(u.flags&128)!==0,W=V.rendering,W===null)if(O)lc(V,!1);else{if(an!==0||i!==null&&i.flags&128)for(i=u.child;i!==null;){if(W=Nd(i),W!==null){for(u.flags|=128,lc(V,!1),i=W.updateQueue,u.updateQueue=i,eh(u,i),u.subtreeFlags=0,i=x,x=u.child;x!==null;)Fb(x,i),x=x.sibling;return ve(Mn,Mn.current&1|2),u.child}i=i.sibling}V.tail!==null&&ut()>th&&(u.flags|=128,O=!0,lc(V,!1),u.lanes=4194304)}else{if(!O)if(i=Nd(W),i!==null){if(u.flags|=128,O=!0,i=i.updateQueue,u.updateQueue=i,eh(u,i),lc(V,!0),V.tail===null&&V.tailMode==="hidden"&&!W.alternate&&!vr)return tn(u),null}else 2*ut()-V.renderingStartTime>th&&x!==536870912&&(u.flags|=128,O=!0,lc(V,!1),u.lanes=4194304);V.isBackwards?(W.sibling=u.child,u.child=W):(i=V.last,i!==null?i.sibling=W:u.child=W,V.last=W)}return V.tail!==null?(u=V.tail,V.rendering=u,V.tail=u.sibling,V.renderingStartTime=ut(),u.sibling=null,i=Mn.current,ve(Mn,O?i&1|2:i&1),u):(tn(u),null);case 22:case 23:return bo(u),yp(),O=u.memoizedState!==null,i!==null?i.memoizedState!==null!==O&&(u.flags|=8192):O&&(u.flags|=8192),O?x&536870912&&!(u.flags&128)&&(tn(u),u.subtreeFlags&6&&(u.flags|=8192)):tn(u),x=u.updateQueue,x!==null&&eh(u,x.retryQueue),x=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(x=i.memoizedState.cachePool.pool),O=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(O=u.memoizedState.cachePool.pool),O!==x&&(u.flags|=2048),i!==null&&pe(Xa),null;case 24:return x=null,i!==null&&(x=i.memoizedState.cache),u.memoizedState.cache!==x&&(u.flags|=2048),So(Pn),tn(u),null;case 25:return null}throw Error(t(156,u.tag))}function vT(i,u){switch(fp(u),u.tag){case 1:return i=u.flags,i&65536?(u.flags=i&-65537|128,u):null;case 3:return So(Pn),Ce(),i=u.flags,i&65536&&!(i&128)?(u.flags=i&-65537|128,u):null;case 26:case 27:case 5:return Oe(u),null;case 13:if(bo(u),i=u.memoizedState,i!==null&&i.dehydrated!==null){if(u.alternate===null)throw Error(t(340));Gu()}return i=u.flags,i&65536?(u.flags=i&-65537|128,u):null;case 19:return pe(Mn),null;case 4:return Ce(),null;case 10:return So(u.type),null;case 22:case 23:return bo(u),yp(),i!==null&&pe(Xa),i=u.flags,i&65536?(u.flags=i&-65537|128,u):null;case 24:return So(Pn),null;case 25:return null;default:return null}}function Gb(i,u){switch(fp(u),u.tag){case 3:So(Pn),Ce();break;case 26:case 27:case 5:Oe(u);break;case 4:Ce();break;case 13:bo(u);break;case 19:pe(Mn);break;case 10:So(u.type);break;case 22:case 23:bo(u),yp(),i!==null&&pe(Xa);break;case 24:So(Pn)}}var bT={getCacheForType:function(i){var u=ss(Pn),x=u.data.get(i);return x===void 0&&(x=i(),u.data.set(i,x)),x}},_T=typeof WeakMap=="function"?WeakMap:Map,rn=0,zr=null,sr=null,dr=0,Hr=0,Vs=null,Ao=!1,tu=!1,dm=!1,Ro=0,an=0,ca=0,nl=0,hm=0,ai=0,ru=0,uc=null,zi=null,fm=!1,pm=0,th=1/0,rh=null,da=null,nh=!1,sl=null,cc=0,mm=0,gm=null,dc=0,ym=null;function Bs(){if(rn&2&&dr!==0)return dr&-dr;if(R.T!==null){var i=Yl;return i!==0?i:Em()}return fr()}function zb(){ai===0&&(ai=!(dr&536870912)||vr?mr():536870912);var i=ni.current;return i!==null&&(i.flags|=32),ai}function gs(i,u,x){(i===zr&&Hr===2||i.cancelPendingCommit!==null)&&(nu(i,0),Oo(i,dr,ai,!1)),Bt(i,x),(!(rn&2)||i!==zr)&&(i===zr&&(!(rn&2)&&(nl|=x),an===4&&Oo(i,dr,ai,!1)),Hi(i))}function Hb(i,u,x){if(rn&6)throw Error(t(327));var O=!x&&(u&60)===0&&(u&i.expiredLanes)===0||Lt(i,u),V=O?ST(i,u):wm(i,u,!0),W=O;do{if(V===0){tu&&!O&&Oo(i,u,0,!1);break}else if(V===6)Oo(i,u,0,!Ao);else{if(x=i.current.alternate,W&&!wT(x)){V=wm(i,u,!1),W=!1;continue}if(V===2){if(W=u,i.errorRecoveryDisabledLanes&W)var ue=0;else ue=i.pendingLanes&-536870913,ue=ue!==0?ue:ue&536870912?536870912:0;if(ue!==0){u=ue;e:{var be=i;V=uc;var Ie=be.current.memoizedState.isDehydrated;if(Ie&&(nu(be,ue).flags|=256),ue=wm(be,ue,!1),ue!==2){if(dm&&!Ie){be.errorRecoveryDisabledLanes|=W,nl|=W,V=4;break e}W=zi,zi=V,W!==null&&vm(W)}V=ue}if(W=!1,V!==2)continue}}if(V===1){nu(i,0),Oo(i,u,0,!0);break}e:{switch(O=i,V){case 0:case 1:throw Error(t(345));case 4:if((u&4194176)===u){Oo(O,u,ai,!Ao);break e}break;case 2:zi=null;break;case 3:case 5:break;default:throw Error(t(329))}if(O.finishedWork=x,O.finishedLanes=u,(u&62914560)===u&&(W=pm+300-ut(),10<W)){if(Oo(O,u,ai,!Ao),St(O,0)!==0)break e;O.timeoutHandle=p1(qb.bind(null,O,x,zi,rh,fm,u,ai,nl,ru,Ao,2,-0,0),W);break e}qb(O,x,zi,rh,fm,u,ai,nl,ru,Ao,0,-0,0)}}break}while(!0);Hi(i)}function vm(i){zi===null?zi=i:zi.push.apply(zi,i)}function qb(i,u,x,O,V,W,ue,be,Ie,ze,st,pt,Qe){var rt=u.subtreeFlags;if((rt&8192||(rt&16785408)===16785408)&&(yc={stylesheets:null,count:0,unsuspend:rC},Db(u),u=sC(),u!==null)){i.cancelPendingCommit=u(Zb.bind(null,i,x,O,V,ue,be,Ie,1,pt,Qe)),Oo(i,W,ue,!ze);return}Zb(i,x,O,V,ue,be,Ie,st,pt,Qe)}function wT(i){for(var u=i;;){var x=u.tag;if((x===0||x===11||x===15)&&u.flags&16384&&(x=u.updateQueue,x!==null&&(x=x.stores,x!==null)))for(var O=0;O<x.length;O++){var V=x[O],W=V.getSnapshot;V=V.value;try{if(!ir(W(),V))return!1}catch{return!1}}if(x=u.child,u.subtreeFlags&16384&&x!==null)x.return=u,u=x;else{if(u===i)break;for(;u.sibling===null;){if(u.return===null||u.return===i)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function Oo(i,u,x,O){u&=~hm,u&=~nl,i.suspendedLanes|=u,i.pingedLanes&=~u,O&&(i.warmLanes|=u),O=i.expirationTimes;for(var V=u;0<V;){var W=31-Xe(V),ue=1<<W;O[W]=-1,V&=~ue}x!==0&&Qt(i,x,u)}function sh(){return rn&6?!0:(hc(0),!1)}function bm(){if(sr!==null){if(Hr===0)var i=sr.return;else i=sr,xo=Ja=null,Ep(i),ql=null,Wu=0,i=sr;for(;i!==null;)Gb(i.alternate,i),i=i.return;sr=null}}function nu(i,u){i.finishedWork=null,i.finishedLanes=0;var x=i.timeoutHandle;x!==-1&&(i.timeoutHandle=-1,VT(x)),x=i.cancelPendingCommit,x!==null&&(i.cancelPendingCommit=null,x()),bm(),zr=i,sr=x=ua(i.current,null),dr=u,Hr=0,Vs=null,Ao=!1,tu=Lt(i,u),dm=!1,ru=ai=hm=nl=ca=an=0,zi=uc=null,fm=!1,u&8&&(u|=u&32);var O=i.entangledLanes;if(O!==0)for(i=i.entanglements,O&=u;0<O;){var V=31-Xe(O),W=1<<V;u|=i[V],O&=~W}return Ro=u,Ad(),x}function Wb(i,u){tr=null,R.H=Gi,u===Hu?(u=a0(),Hr=3):u===s0?(u=a0(),Hr=4):Hr=u===ib?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,Vs=u,sr===null&&(an=1,Xd(i,ei(u,i.current)))}function Yb(){var i=R.H;return R.H=Gi,i===null?Gi:i}function Xb(){var i=R.A;return R.A=bT,i}function _m(){an=4,Ao||(dr&4194176)!==dr&&ni.current!==null||(tu=!0),!(ca&134217727)&&!(nl&134217727)||zr===null||Oo(zr,dr,ai,!1)}function wm(i,u,x){var O=rn;rn|=2;var V=Yb(),W=Xb();(zr!==i||dr!==u)&&(rh=null,nu(i,u)),u=!1;var ue=an;e:do try{if(Hr!==0&&sr!==null){var be=sr,Ie=Vs;switch(Hr){case 8:bm(),ue=6;break e;case 3:case 2:case 6:ni.current===null&&(u=!0);var ze=Hr;if(Hr=0,Vs=null,su(i,be,Ie,ze),x&&tu){ue=0;break e}break;default:ze=Hr,Hr=0,Vs=null,su(i,be,Ie,ze)}}xT(),ue=an;break}catch(st){Wb(i,st)}while(!0);return u&&i.shellSuspendCounter++,xo=Ja=null,rn=O,R.H=V,R.A=W,sr===null&&(zr=null,dr=0,Ad()),ue}function xT(){for(;sr!==null;)$b(sr)}function ST(i,u){var x=rn;rn|=2;var O=Yb(),V=Xb();zr!==i||dr!==u?(rh=null,th=ut()+500,nu(i,u)):tu=Lt(i,u);e:do try{if(Hr!==0&&sr!==null){u=sr;var W=Vs;t:switch(Hr){case 1:Hr=0,Vs=null,su(i,u,W,1);break;case 2:if(i0(W)){Hr=0,Vs=null,Kb(u);break}u=function(){Hr===2&&zr===i&&(Hr=7),Hi(i)},W.then(u,u);break e;case 3:Hr=7;break e;case 4:Hr=5;break e;case 7:i0(W)?(Hr=0,Vs=null,Kb(u)):(Hr=0,Vs=null,su(i,u,W,7));break;case 5:var ue=null;switch(sr.tag){case 26:ue=sr.memoizedState;case 5:case 27:var be=sr;if(!ue||E1(ue)){Hr=0,Vs=null;var Ie=be.sibling;if(Ie!==null)sr=Ie;else{var ze=be.return;ze!==null?(sr=ze,ih(ze)):sr=null}break t}}Hr=0,Vs=null,su(i,u,W,5);break;case 6:Hr=0,Vs=null,su(i,u,W,6);break;case 8:bm(),an=6;break e;default:throw Error(t(462))}}jT();break}catch(st){Wb(i,st)}while(!0);return xo=Ja=null,R.H=O,R.A=V,rn=x,sr!==null?0:(zr=null,dr=0,Ad(),an)}function jT(){for(;sr!==null&&!Ue();)$b(sr)}function $b(i){var u=yb(i.alternate,i,Ro);i.memoizedProps=i.pendingProps,u===null?ih(i):sr=u}function Kb(i){var u=i,x=u.alternate;switch(u.tag){case 15:case 0:u=db(x,u,u.pendingProps,u.type,void 0,dr);break;case 11:u=db(x,u,u.pendingProps,u.type.render,u.ref,dr);break;case 5:Ep(u);default:Gb(x,u),u=sr=Fb(u,Ro),u=yb(x,u,Ro)}i.memoizedProps=i.pendingProps,u===null?ih(i):sr=u}function su(i,u,x,O){xo=Ja=null,Ep(u),ql=null,Wu=0;var V=u.return;try{if(hT(i,V,u,x,dr)){an=1,Xd(i,ei(x,i.current)),sr=null;return}}catch(W){if(V!==null)throw sr=V,W;an=1,Xd(i,ei(x,i.current)),sr=null;return}u.flags&32768?(vr||O===1?i=!0:tu||dr&536870912?i=!1:(Ao=i=!0,(O===2||O===3||O===6)&&(O=ni.current,O!==null&&O.tag===13&&(O.flags|=16384))),Qb(u,i)):ih(u)}function ih(i){var u=i;do{if(u.flags&32768){Qb(u,Ao);return}i=u.return;var x=yT(u.alternate,u,Ro);if(x!==null){sr=x;return}if(u=u.sibling,u!==null){sr=u;return}sr=u=i}while(u!==null);an===0&&(an=5)}function Qb(i,u){do{var x=vT(i.alternate,i);if(x!==null){x.flags&=32767,sr=x;return}if(x=i.return,x!==null&&(x.flags|=32768,x.subtreeFlags=0,x.deletions=null),!u&&(i=i.sibling,i!==null)){sr=i;return}sr=i=x}while(i!==null);an=6,sr=null}function Zb(i,u,x,O,V,W,ue,be,Ie,ze){var st=R.T,pt=G.p;try{G.p=2,R.T=null,ET(i,u,x,O,pt,V,W,ue,be,Ie,ze)}finally{R.T=st,G.p=pt}}function ET(i,u,x,O,V,W,ue,be){do iu();while(sl!==null);if(rn&6)throw Error(t(327));var Ie=i.finishedWork;if(O=i.finishedLanes,Ie===null)return null;if(i.finishedWork=null,i.finishedLanes=0,Ie===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0,i.cancelPendingCommit=null;var ze=Ie.lanes|Ie.childLanes;if(ze|=cp,Er(i,O,ze,W,ue,be),i===zr&&(sr=zr=null,dr=0),!(Ie.subtreeFlags&10256)&&!(Ie.flags&10256)||nh||(nh=!0,mm=ze,gm=x,RT(Le,function(){return iu(),null})),x=(Ie.flags&15990)!==0,Ie.subtreeFlags&15990||x?(x=R.T,R.T=null,W=G.p,G.p=2,ue=rn,rn|=4,pT(i,Ie),kb(Ie,i),wr(Mm,i.containerInfo),yh=!!km,Mm=km=null,i.current=Ie,Ab(i,Ie.alternate,Ie),mt(),rn=ue,G.p=W,R.T=x):i.current=Ie,nh?(nh=!1,sl=i,cc=O):Jb(i,ze),ze=i.pendingLanes,ze===0&&(da=null),Me(Ie.stateNode),Hi(i),u!==null)for(V=i.onRecoverableError,Ie=0;Ie<u.length;Ie++)ze=u[Ie],V(ze.value,{componentStack:ze.stack});return cc&3&&iu(),ze=i.pendingLanes,O&4194218&&ze&42?i===ym?dc++:(dc=0,ym=i):dc=0,hc(0),null}function Jb(i,u){(i.pooledCacheLanes&=u)===0&&(u=i.pooledCache,u!=null&&(i.pooledCache=null,Xu(u)))}function iu(){if(sl!==null){var i=sl,u=mm;mm=0;var x=Zr(cc),O=R.T,V=G.p;try{if(G.p=32>x?32:x,R.T=null,sl===null)var W=!1;else{x=gm,gm=null;var ue=sl,be=cc;if(sl=null,cc=0,rn&6)throw Error(t(331));var Ie=rn;if(rn|=4,Nb(ue.current),Pb(ue,ue.current,be,x),rn=Ie,hc(0,!1),ye&&typeof ye.onPostCommitFiberRoot=="function")try{ye.onPostCommitFiberRoot(ie,ue)}catch{}W=!0}return W}finally{G.p=V,R.T=O,Jb(i,u)}}return!1}function e1(i,u,x){u=ei(x,u),u=Fp(i.stateNode,u,2),i=ia(i,u,2),i!==null&&(Bt(i,2),Hi(i))}function Fr(i,u,x){if(i.tag===3)e1(i,i,x);else for(;u!==null;){if(u.tag===3){e1(u,i,x);break}else if(u.tag===1){var O=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof O.componentDidCatch=="function"&&(da===null||!da.has(O))){i=ei(x,i),x=nb(2),O=ia(u,x,2),O!==null&&(sb(x,O,u,i),Bt(O,2),Hi(O));break}}u=u.return}}function xm(i,u,x){var O=i.pingCache;if(O===null){O=i.pingCache=new _T;var V=new Set;O.set(u,V)}else V=O.get(u),V===void 0&&(V=new Set,O.set(u,V));V.has(x)||(dm=!0,V.add(x),i=TT.bind(null,i,u,x),u.then(i,i))}function TT(i,u,x){var O=i.pingCache;O!==null&&O.delete(u),i.pingedLanes|=i.suspendedLanes&x,i.warmLanes&=~x,zr===i&&(dr&x)===x&&(an===4||an===3&&(dr&62914560)===dr&&300>ut()-pm?!(rn&2)&&nu(i,0):hm|=x,ru===dr&&(ru=0)),Hi(i)}function t1(i,u){u===0&&(u=Wr()),i=Qo(i,u),i!==null&&(Bt(i,u),Hi(i))}function CT(i){var u=i.memoizedState,x=0;u!==null&&(x=u.retryLane),t1(i,x)}function AT(i,u){var x=0;switch(i.tag){case 13:var O=i.stateNode,V=i.memoizedState;V!==null&&(x=V.retryLane);break;case 19:O=i.stateNode;break;case 22:O=i.stateNode._retryCache;break;default:throw Error(t(314))}O!==null&&O.delete(u),t1(i,x)}function RT(i,u){return Fe(i,u)}var oh=null,ou=null,Sm=!1,ah=!1,jm=!1,il=0;function Hi(i){i!==ou&&i.next===null&&(ou===null?oh=ou=i:ou=ou.next=i),ah=!0,Sm||(Sm=!0,IT(OT))}function hc(i,u){if(!jm&&ah){jm=!0;do for(var x=!1,O=oh;O!==null;){if(i!==0){var V=O.pendingLanes;if(V===0)var W=0;else{var ue=O.suspendedLanes,be=O.pingedLanes;W=(1<<31-Xe(42|i)+1)-1,W&=V&~(ue&~be),W=W&201326677?W&201326677|1:W?W|2:0}W!==0&&(x=!0,s1(O,W))}else W=dr,W=St(O,O===zr?W:0),!(W&3)||Lt(O,W)||(x=!0,s1(O,W));O=O.next}while(x);jm=!1}}function OT(){ah=Sm=!1;var i=0;il!==0&&(FT()&&(i=il),il=0);for(var u=ut(),x=null,O=oh;O!==null;){var V=O.next,W=r1(O,u);W===0?(O.next=null,x===null?oh=V:x.next=V,V===null&&(ou=x)):(x=O,(i!==0||W&3)&&(ah=!0)),O=V}hc(i)}function r1(i,u){for(var x=i.suspendedLanes,O=i.pingedLanes,V=i.expirationTimes,W=i.pendingLanes&-62914561;0<W;){var ue=31-Xe(W),be=1<<ue,Ie=V[ue];Ie===-1?(!(be&x)||be&O)&&(V[ue]=kt(be,u)):Ie<=u&&(i.expiredLanes|=be),W&=~be}if(u=zr,x=dr,x=St(i,i===u?x:0),O=i.callbackNode,x===0||i===u&&Hr===2||i.cancelPendingCommit!==null)return O!==null&&O!==null&&Je(O),i.callbackNode=null,i.callbackPriority=0;if(!(x&3)||Lt(i,x)){if(u=x&-x,u===i.callbackPriority)return u;switch(O!==null&&Je(O),Zr(x)){case 2:case 8:x=lt;break;case 32:x=Le;break;case 268435456:x=Be;break;default:x=Le}return O=n1.bind(null,i),x=Fe(x,O),i.callbackPriority=u,i.callbackNode=x,u}return O!==null&&O!==null&&Je(O),i.callbackPriority=2,i.callbackNode=null,2}function n1(i,u){var x=i.callbackNode;if(iu()&&i.callbackNode!==x)return null;var O=dr;return O=St(i,i===zr?O:0),O===0?null:(Hb(i,O,u),r1(i,ut()),i.callbackNode!=null&&i.callbackNode===x?n1.bind(null,i):null)}function s1(i,u){if(iu())return null;Hb(i,u,!0)}function IT(i){BT(function(){rn&6?Fe(ft,i):i()})}function Em(){return il===0&&(il=mr()),il}function i1(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Ds(""+i)}function o1(i,u){var x=u.ownerDocument.createElement("input");return x.name=u.name,x.value=u.value,i.id&&x.setAttribute("form",i.id),u.parentNode.insertBefore(x,u),i=new FormData(i),x.parentNode.removeChild(x),i}function kT(i,u,x,O,V){if(u==="submit"&&x&&x.stateNode===V){var W=i1((V[Yr]||null).action),ue=O.submitter;ue&&(u=(u=ue[Yr]||null)?i1(u.formAction):ue.getAttribute("formAction"),u!==null&&(W=u,ue=null));var be=new lo("action","action",null,O,V);i.push({event:be,listeners:[{instance:null,listener:function(){if(O.defaultPrevented){if(il!==0){var Ie=ue?o1(V,ue):new FormData(V);Pp(x,{pending:!0,data:Ie,method:V.method,action:W},null,Ie)}}else typeof W=="function"&&(be.preventDefault(),Ie=ue?o1(V,ue):new FormData(V),Pp(x,{pending:!0,data:Ie,method:V.method,action:W},W,Ie))},currentTarget:V}]})}}for(var Tm=0;Tm<Zv.length;Tm++){var Cm=Zv[Tm],MT=Cm.toLowerCase(),PT=Cm[0].toUpperCase()+Cm.slice(1);ji(MT,"on"+PT)}ji(Yv,"onAnimationEnd"),ji(Xv,"onAnimationIteration"),ji($v,"onAnimationStart"),ji("dblclick","onDoubleClick"),ji("focusin","onFocus"),ji("focusout","onBlur"),ji(QE,"onTransitionRun"),ji(ZE,"onTransitionStart"),ji(JE,"onTransitionCancel"),ji(Kv,"onTransitionEnd"),nr("onMouseEnter",["mouseout","mouseover"]),nr("onMouseLeave",["mouseout","mouseover"]),nr("onPointerEnter",["pointerout","pointerover"]),nr("onPointerLeave",["pointerout","pointerover"]),pr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),pr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),pr("onBeforeInput",["compositionend","keypress","textInput","paste"]),pr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),pr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),pr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),DT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(fc));function a1(i,u){u=(u&4)!==0;for(var x=0;x<i.length;x++){var O=i[x],V=O.event;O=O.listeners;e:{var W=void 0;if(u)for(var ue=O.length-1;0<=ue;ue--){var be=O[ue],Ie=be.instance,ze=be.currentTarget;if(be=be.listener,Ie!==W&&V.isPropagationStopped())break e;W=be,V.currentTarget=ze;try{W(V)}catch(st){Yd(st)}V.currentTarget=null,W=Ie}else for(ue=0;ue<O.length;ue++){if(be=O[ue],Ie=be.instance,ze=be.currentTarget,be=be.listener,Ie!==W&&V.isPropagationStopped())break e;W=be,V.currentTarget=ze;try{W(V)}catch(st){Yd(st)}V.currentTarget=null,W=Ie}}}}function ur(i,u){var x=u[Ms];x===void 0&&(x=u[Ms]=new Set);var O=i+"__bubble";x.has(O)||(l1(u,i,2,!1),x.add(O))}function Am(i,u,x){var O=0;u&&(O|=4),l1(x,i,O,u)}var lh="_reactListening"+Math.random().toString(36).slice(2);function Rm(i){if(!i[lh]){i[lh]=!0,xt.forEach(function(x){x!=="selectionchange"&&(DT.has(x)||Am(x,!1,i),Am(x,!0,i))});var u=i.nodeType===9?i:i.ownerDocument;u===null||u[lh]||(u[lh]=!0,Am("selectionchange",!1,u))}}function l1(i,u,x,O){switch(I1(u)){case 2:var V=aC;break;case 8:V=lC;break;default:V=Gm}x=V.bind(null,u,x,i),V=void 0,!ws||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(V=!0),O?V!==void 0?i.addEventListener(u,x,{capture:!0,passive:V}):i.addEventListener(u,x,!0):V!==void 0?i.addEventListener(u,x,{passive:V}):i.addEventListener(u,x,!1)}function Om(i,u,x,O,V){var W=O;if(!(u&1)&&!(u&2)&&O!==null)e:for(;;){if(O===null)return;var ue=O.tag;if(ue===3||ue===4){var be=O.stateNode.containerInfo;if(be===V||be.nodeType===8&&be.parentNode===V)break;if(ue===4)for(ue=O.return;ue!==null;){var Ie=ue.tag;if((Ie===3||Ie===4)&&(Ie=ue.stateNode.containerInfo,Ie===V||Ie.nodeType===8&&Ie.parentNode===V))return;ue=ue.return}for(;be!==null;){if(ue=qt(be),ue===null)return;if(Ie=ue.tag,Ie===5||Ie===6||Ie===26||Ie===27){O=W=ue;continue e}be=be.parentNode}}O=O.return}Dl(function(){var ze=W,st=oo(x),pt=[];e:{var Qe=Qv.get(i);if(Qe!==void 0){var rt=lo,Dt=i;switch(i){case"keypress":if(yn(x)===0)break e;case"keydown":case"keyup":rt=mo;break;case"focusin":Dt="focus",rt=ho;break;case"focusout":Dt="blur",rt=ho;break;case"beforeblur":case"afterblur":rt=ho;break;case"click":if(x.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":rt=ps;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":rt=Ll;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":rt=yr;break;case Yv:case Xv:case $v:rt=fo;break;case Kv:rt=Ul;break;case"scroll":case"scrollend":rt=La;break;case"wheel":rt=$o;break;case"copy":case"cut":case"paste":rt=po;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":rt=Ba;break;case"toggle":case"beforetoggle":rt=Fl}var Xt=(u&4)!==0,ln=!Xt&&(i==="scroll"||i==="scrollend"),Ye=Xt?Qe!==null?Qe+"Capture":null:Qe;Xt=[];for(var Ge=ze,Ke;Ge!==null;){var at=Ge;if(Ke=at.stateNode,at=at.tag,at!==5&&at!==26&&at!==27||Ke===null||Ye===null||(at=ao(Ge,Ye),at!=null&&Xt.push(pc(Ge,at,Ke))),ln)break;Ge=Ge.return}0<Xt.length&&(Qe=new rt(Qe,Dt,null,x,st),pt.push({event:Qe,listeners:Xt}))}}if(!(u&7)){e:{if(Qe=i==="mouseover"||i==="pointerover",rt=i==="mouseout"||i==="pointerout",Qe&&x!==_s&&(Dt=x.relatedTarget||x.fromElement)&&(qt(Dt)||Dt[vs]))break e;if((rt||Qe)&&(Qe=st.window===st?st:(Qe=st.ownerDocument)?Qe.defaultView||Qe.parentWindow:window,rt?(Dt=x.relatedTarget||x.toElement,rt=ze,Dt=Dt?qt(Dt):null,Dt!==null&&(ln=J(Dt),Xt=Dt.tag,Dt!==ln||Xt!==5&&Xt!==27&&Xt!==6)&&(Dt=null)):(rt=null,Dt=ze),rt!==Dt)){if(Xt=ps,at="onMouseLeave",Ye="onMouseEnter",Ge="mouse",(i==="pointerout"||i==="pointerover")&&(Xt=Ba,at="onPointerLeave",Ye="onPointerEnter",Ge="pointer"),ln=rt==null?Qe:Zt(rt),Ke=Dt==null?Qe:Zt(Dt),Qe=new Xt(at,Ge+"leave",rt,x,st),Qe.target=ln,Qe.relatedTarget=Ke,at=null,qt(st)===ze&&(Xt=new Xt(Ye,Ge+"enter",Dt,x,st),Xt.target=Ke,Xt.relatedTarget=ln,at=Xt),ln=at,rt&&Dt)t:{for(Xt=rt,Ye=Dt,Ge=0,Ke=Xt;Ke;Ke=au(Ke))Ge++;for(Ke=0,at=Ye;at;at=au(at))Ke++;for(;0<Ge-Ke;)Xt=au(Xt),Ge--;for(;0<Ke-Ge;)Ye=au(Ye),Ke--;for(;Ge--;){if(Xt===Ye||Ye!==null&&Xt===Ye.alternate)break t;Xt=au(Xt),Ye=au(Ye)}Xt=null}else Xt=null;rt!==null&&u1(pt,Qe,rt,Xt,!1),Dt!==null&&ln!==null&&u1(pt,ln,Dt,Xt,!0)}}e:{if(Qe=ze?Zt(ze):window,rt=Qe.nodeName&&Qe.nodeName.toLowerCase(),rt==="select"||rt==="input"&&Qe.type==="file")var Rt=Re;else if(fe(Qe))if(nt)Rt=Jt;else{Rt=Ot;var rr=Wt}else rt=Qe.nodeName,!rt||rt.toLowerCase()!=="input"||Qe.type!=="checkbox"&&Qe.type!=="radio"?ze&&Yo(ze.elementType)&&(Rt=Re):Rt=Mt;if(Rt&&(Rt=Rt(i,ze))){Ee(pt,Rt,x,st);break e}rr&&rr(i,Qe,ze),i==="focusout"&&ze&&Qe.type==="number"&&ze.memoizedProps.value!=null&&io(Qe,"number",Qe.value)}switch(rr=ze?Zt(ze):window,i){case"focusin":(fe(rr)||rr.contentEditable==="true")&&(Cr=rr,hn=ze,xr=null);break;case"focusout":xr=hn=Cr=null;break;case"mousedown":sn=!0;break;case"contextmenu":case"mouseup":case"dragend":sn=!1,Ko(pt,x,st);break;case"selectionchange":if(Nn)break;case"keydown":case"keyup":Ko(pt,x,st)}var Ut;if(Zs)e:{switch(i){case"compositionstart":var zt="onCompositionStart";break e;case"compositionend":zt="onCompositionEnd";break e;case"compositionupdate":zt="onCompositionUpdate";break e}zt=void 0}else B?I(i,x)&&(zt="onCompositionEnd"):i==="keydown"&&x.keyCode===229&&(zt="onCompositionStart");zt&&(oe&&x.locale!=="ko"&&(B||zt!=="onCompositionStart"?zt==="onCompositionEnd"&&B&&(Ut=bi()):(dn=st,Ln="value"in dn?dn.value:dn.textContent,B=!0)),rr=uh(ze,zt),0<rr.length&&(zt=new Fi(zt,i,null,x,st),pt.push({event:zt,listeners:rr}),Ut?zt.data=Ut:(Ut=N(x),Ut!==null&&(zt.data=Ut)))),(Ut=re?Y(i,x):te(i,x))&&(zt=uh(ze,"onBeforeInput"),0<zt.length&&(rr=new Fi("onBeforeInput","beforeinput",null,x,st),pt.push({event:rr,listeners:zt}),rr.data=Ut)),kT(pt,i,ze,x,st)}a1(pt,u)})}function pc(i,u,x){return{instance:i,listener:u,currentTarget:x}}function uh(i,u){for(var x=u+"Capture",O=[];i!==null;){var V=i,W=V.stateNode;V=V.tag,V!==5&&V!==26&&V!==27||W===null||(V=ao(i,x),V!=null&&O.unshift(pc(i,V,W)),V=ao(i,u),V!=null&&O.push(pc(i,V,W))),i=i.return}return O}function au(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function u1(i,u,x,O,V){for(var W=u._reactName,ue=[];x!==null&&x!==O;){var be=x,Ie=be.alternate,ze=be.stateNode;if(be=be.tag,Ie!==null&&Ie===O)break;be!==5&&be!==26&&be!==27||ze===null||(Ie=ze,V?(ze=ao(x,W),ze!=null&&ue.unshift(pc(x,ze,Ie))):V||(ze=ao(x,W),ze!=null&&ue.push(pc(x,ze,Ie)))),x=x.return}ue.length!==0&&i.push({event:u,listeners:ue})}var LT=/\r\n?/g,NT=/\u0000|\uFFFD/g;function c1(i){return(typeof i=="string"?i:""+i).replace(LT,`
`).replace(NT,"")}function d1(i,u){return u=c1(u),c1(i)===u}function ch(){}function Dr(i,u,x,O,V,W){switch(x){case"children":typeof O=="string"?u==="body"||u==="textarea"&&O===""||en(i,O):(typeof O=="number"||typeof O=="bigint")&&u!=="body"&&en(i,""+O);break;case"className":mn(i,"class",O);break;case"tabIndex":mn(i,"tabindex",O);break;case"dir":case"role":case"viewBox":case"width":case"height":mn(i,x,O);break;case"style":yi(i,O,W);break;case"data":if(u!=="object"){mn(i,"data",O);break}case"src":case"href":if(O===""&&(u!=="a"||x!=="href")){i.removeAttribute(x);break}if(O==null||typeof O=="function"||typeof O=="symbol"||typeof O=="boolean"){i.removeAttribute(x);break}O=Ds(""+O),i.setAttribute(x,O);break;case"action":case"formAction":if(typeof O=="function"){i.setAttribute(x,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof W=="function"&&(x==="formAction"?(u!=="input"&&Dr(i,u,"name",V.name,V,null),Dr(i,u,"formEncType",V.formEncType,V,null),Dr(i,u,"formMethod",V.formMethod,V,null),Dr(i,u,"formTarget",V.formTarget,V,null)):(Dr(i,u,"encType",V.encType,V,null),Dr(i,u,"method",V.method,V,null),Dr(i,u,"target",V.target,V,null)));if(O==null||typeof O=="symbol"||typeof O=="boolean"){i.removeAttribute(x);break}O=Ds(""+O),i.setAttribute(x,O);break;case"onClick":O!=null&&(i.onclick=ch);break;case"onScroll":O!=null&&ur("scroll",i);break;case"onScrollEnd":O!=null&&ur("scrollend",i);break;case"dangerouslySetInnerHTML":if(O!=null){if(typeof O!="object"||!("__html"in O))throw Error(t(61));if(x=O.__html,x!=null){if(V.children!=null)throw Error(t(60));i.innerHTML=x}}break;case"multiple":i.multiple=O&&typeof O!="function"&&typeof O!="symbol";break;case"muted":i.muted=O&&typeof O!="function"&&typeof O!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(O==null||typeof O=="function"||typeof O=="boolean"||typeof O=="symbol"){i.removeAttribute("xlink:href");break}x=Ds(""+O),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",x);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":O!=null&&typeof O!="function"&&typeof O!="symbol"?i.setAttribute(x,""+O):i.removeAttribute(x);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":O&&typeof O!="function"&&typeof O!="symbol"?i.setAttribute(x,""):i.removeAttribute(x);break;case"capture":case"download":O===!0?i.setAttribute(x,""):O!==!1&&O!=null&&typeof O!="function"&&typeof O!="symbol"?i.setAttribute(x,O):i.removeAttribute(x);break;case"cols":case"rows":case"size":case"span":O!=null&&typeof O!="function"&&typeof O!="symbol"&&!isNaN(O)&&1<=O?i.setAttribute(x,O):i.removeAttribute(x);break;case"rowSpan":case"start":O==null||typeof O=="function"||typeof O=="symbol"||isNaN(O)?i.removeAttribute(x):i.setAttribute(x,O);break;case"popover":ur("beforetoggle",i),ur("toggle",i),mi(i,"popover",O);break;case"xlinkActuate":On(i,"http://www.w3.org/1999/xlink","xlink:actuate",O);break;case"xlinkArcrole":On(i,"http://www.w3.org/1999/xlink","xlink:arcrole",O);break;case"xlinkRole":On(i,"http://www.w3.org/1999/xlink","xlink:role",O);break;case"xlinkShow":On(i,"http://www.w3.org/1999/xlink","xlink:show",O);break;case"xlinkTitle":On(i,"http://www.w3.org/1999/xlink","xlink:title",O);break;case"xlinkType":On(i,"http://www.w3.org/1999/xlink","xlink:type",O);break;case"xmlBase":On(i,"http://www.w3.org/XML/1998/namespace","xml:base",O);break;case"xmlLang":On(i,"http://www.w3.org/XML/1998/namespace","xml:lang",O);break;case"xmlSpace":On(i,"http://www.w3.org/XML/1998/namespace","xml:space",O);break;case"is":mi(i,"is",O);break;case"innerText":case"textContent":break;default:(!(2<x.length)||x[0]!=="o"&&x[0]!=="O"||x[1]!=="n"&&x[1]!=="N")&&(x=Vu.get(x)||x,mi(i,x,O))}}function Im(i,u,x,O,V,W){switch(x){case"style":yi(i,O,W);break;case"dangerouslySetInnerHTML":if(O!=null){if(typeof O!="object"||!("__html"in O))throw Error(t(61));if(x=O.__html,x!=null){if(V.children!=null)throw Error(t(60));i.innerHTML=x}}break;case"children":typeof O=="string"?en(i,O):(typeof O=="number"||typeof O=="bigint")&&en(i,""+O);break;case"onScroll":O!=null&&ur("scroll",i);break;case"onScrollEnd":O!=null&&ur("scrollend",i);break;case"onClick":O!=null&&(i.onclick=ch);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!kr.hasOwnProperty(x))e:{if(x[0]==="o"&&x[1]==="n"&&(V=x.endsWith("Capture"),u=x.slice(2,V?x.length-7:void 0),W=i[Yr]||null,W=W!=null?W[x]:null,typeof W=="function"&&i.removeEventListener(u,W,V),typeof O=="function")){typeof W!="function"&&W!==null&&(x in i?i[x]=null:i.hasAttribute(x)&&i.removeAttribute(x)),i.addEventListener(u,O,V);break e}x in i?i[x]=O:O===!0?i.setAttribute(x,""):mi(i,x,O)}}}function Yn(i,u,x){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ur("error",i),ur("load",i);var O=!1,V=!1,W;for(W in x)if(x.hasOwnProperty(W)){var ue=x[W];if(ue!=null)switch(W){case"src":O=!0;break;case"srcSet":V=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(t(137,u));default:Dr(i,u,W,ue,x,null)}}V&&Dr(i,u,"srcSet",x.srcSet,x,null),O&&Dr(i,u,"src",x.src,x,null);return;case"input":ur("invalid",i);var be=W=ue=V=null,Ie=null,ze=null;for(O in x)if(x.hasOwnProperty(O)){var st=x[O];if(st!=null)switch(O){case"name":V=st;break;case"type":ue=st;break;case"checked":Ie=st;break;case"defaultChecked":ze=st;break;case"value":W=st;break;case"defaultValue":be=st;break;case"children":case"dangerouslySetInnerHTML":if(st!=null)throw Error(t(137,u));break;default:Dr(i,u,O,st,x,null)}}gi(i,W,be,Ie,ze,ue,V,!1),Pi(i);return;case"select":ur("invalid",i),O=ue=W=null;for(V in x)if(x.hasOwnProperty(V)&&(be=x[V],be!=null))switch(V){case"value":W=be;break;case"defaultValue":ue=be;break;case"multiple":O=be;default:Dr(i,u,V,be,x,null)}u=W,x=ue,i.multiple=!!O,u!=null?ar(i,!!O,u,!1):x!=null&&ar(i,!!O,x,!0);return;case"textarea":ur("invalid",i),W=V=O=null;for(ue in x)if(x.hasOwnProperty(ue)&&(be=x[ue],be!=null))switch(ue){case"value":O=be;break;case"defaultValue":V=be;break;case"children":W=be;break;case"dangerouslySetInnerHTML":if(be!=null)throw Error(t(91));break;default:Dr(i,u,ue,be,x,null)}Ps(i,O,V,W),Pi(i);return;case"option":for(Ie in x)if(x.hasOwnProperty(Ie)&&(O=x[Ie],O!=null))switch(Ie){case"selected":i.selected=O&&typeof O!="function"&&typeof O!="symbol";break;default:Dr(i,u,Ie,O,x,null)}return;case"dialog":ur("cancel",i),ur("close",i);break;case"iframe":case"object":ur("load",i);break;case"video":case"audio":for(O=0;O<fc.length;O++)ur(fc[O],i);break;case"image":ur("error",i),ur("load",i);break;case"details":ur("toggle",i);break;case"embed":case"source":case"link":ur("error",i),ur("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ze in x)if(x.hasOwnProperty(ze)&&(O=x[ze],O!=null))switch(ze){case"children":case"dangerouslySetInnerHTML":throw Error(t(137,u));default:Dr(i,u,ze,O,x,null)}return;default:if(Yo(u)){for(st in x)x.hasOwnProperty(st)&&(O=x[st],O!==void 0&&Im(i,u,st,O,x,void 0));return}}for(be in x)x.hasOwnProperty(be)&&(O=x[be],O!=null&&Dr(i,u,be,O,x,null))}function UT(i,u,x,O){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var V=null,W=null,ue=null,be=null,Ie=null,ze=null,st=null;for(rt in x){var pt=x[rt];if(x.hasOwnProperty(rt)&&pt!=null)switch(rt){case"checked":break;case"value":break;case"defaultValue":Ie=pt;default:O.hasOwnProperty(rt)||Dr(i,u,rt,null,O,pt)}}for(var Qe in O){var rt=O[Qe];if(pt=x[Qe],O.hasOwnProperty(Qe)&&(rt!=null||pt!=null))switch(Qe){case"type":W=rt;break;case"name":V=rt;break;case"checked":ze=rt;break;case"defaultChecked":st=rt;break;case"value":ue=rt;break;case"defaultValue":be=rt;break;case"children":case"dangerouslySetInnerHTML":if(rt!=null)throw Error(t(137,u));break;default:rt!==pt&&Dr(i,u,Qe,rt,O,pt)}}Di(i,ue,be,Ie,ze,st,W,V);return;case"select":rt=ue=be=Qe=null;for(W in x)if(Ie=x[W],x.hasOwnProperty(W)&&Ie!=null)switch(W){case"value":break;case"multiple":rt=Ie;default:O.hasOwnProperty(W)||Dr(i,u,W,null,O,Ie)}for(V in O)if(W=O[V],Ie=x[V],O.hasOwnProperty(V)&&(W!=null||Ie!=null))switch(V){case"value":Qe=W;break;case"defaultValue":be=W;break;case"multiple":ue=W;default:W!==Ie&&Dr(i,u,V,W,O,Ie)}u=be,x=ue,O=rt,Qe!=null?ar(i,!!x,Qe,!1):!!O!=!!x&&(u!=null?ar(i,!!x,u,!0):ar(i,!!x,x?[]:"",!1));return;case"textarea":rt=Qe=null;for(be in x)if(V=x[be],x.hasOwnProperty(be)&&V!=null&&!O.hasOwnProperty(be))switch(be){case"value":break;case"children":break;default:Dr(i,u,be,null,O,V)}for(ue in O)if(V=O[ue],W=x[ue],O.hasOwnProperty(ue)&&(V!=null||W!=null))switch(ue){case"value":Qe=V;break;case"defaultValue":rt=V;break;case"children":break;case"dangerouslySetInnerHTML":if(V!=null)throw Error(t(91));break;default:V!==W&&Dr(i,u,ue,V,O,W)}$s(i,Qe,rt);return;case"option":for(var Dt in x)if(Qe=x[Dt],x.hasOwnProperty(Dt)&&Qe!=null&&!O.hasOwnProperty(Dt))switch(Dt){case"selected":i.selected=!1;break;default:Dr(i,u,Dt,null,O,Qe)}for(Ie in O)if(Qe=O[Ie],rt=x[Ie],O.hasOwnProperty(Ie)&&Qe!==rt&&(Qe!=null||rt!=null))switch(Ie){case"selected":i.selected=Qe&&typeof Qe!="function"&&typeof Qe!="symbol";break;default:Dr(i,u,Ie,Qe,O,rt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Xt in x)Qe=x[Xt],x.hasOwnProperty(Xt)&&Qe!=null&&!O.hasOwnProperty(Xt)&&Dr(i,u,Xt,null,O,Qe);for(ze in O)if(Qe=O[ze],rt=x[ze],O.hasOwnProperty(ze)&&Qe!==rt&&(Qe!=null||rt!=null))switch(ze){case"children":case"dangerouslySetInnerHTML":if(Qe!=null)throw Error(t(137,u));break;default:Dr(i,u,ze,Qe,O,rt)}return;default:if(Yo(u)){for(var ln in x)Qe=x[ln],x.hasOwnProperty(ln)&&Qe!==void 0&&!O.hasOwnProperty(ln)&&Im(i,u,ln,void 0,O,Qe);for(st in O)Qe=O[st],rt=x[st],!O.hasOwnProperty(st)||Qe===rt||Qe===void 0&&rt===void 0||Im(i,u,st,Qe,O,rt);return}}for(var Ye in x)Qe=x[Ye],x.hasOwnProperty(Ye)&&Qe!=null&&!O.hasOwnProperty(Ye)&&Dr(i,u,Ye,null,O,Qe);for(pt in O)Qe=O[pt],rt=x[pt],!O.hasOwnProperty(pt)||Qe===rt||Qe==null&&rt==null||Dr(i,u,pt,Qe,O,rt)}var km=null,Mm=null;function dh(i){return i.nodeType===9?i:i.ownerDocument}function h1(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function f1(i,u){if(i===0)switch(u){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&u==="foreignObject"?0:i}function Pm(i,u){return i==="textarea"||i==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.children=="bigint"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var Dm=null;function FT(){var i=window.event;return i&&i.type==="popstate"?i===Dm?!1:(Dm=i,!0):(Dm=null,!1)}var p1=typeof setTimeout=="function"?setTimeout:void 0,VT=typeof clearTimeout=="function"?clearTimeout:void 0,m1=typeof Promise=="function"?Promise:void 0,BT=typeof queueMicrotask=="function"?queueMicrotask:typeof m1<"u"?function(i){return m1.resolve(null).then(i).catch(GT)}:p1;function GT(i){setTimeout(function(){throw i})}function Lm(i,u){var x=u,O=0;do{var V=x.nextSibling;if(i.removeChild(x),V&&V.nodeType===8)if(x=V.data,x==="/$"){if(O===0){i.removeChild(V),xc(u);return}O--}else x!=="$"&&x!=="$?"&&x!=="$!"||O++;x=V}while(x);xc(u)}function Nm(i){var u=i.firstChild;for(u&&u.nodeType===10&&(u=u.nextSibling);u;){var x=u;switch(u=u.nextSibling,x.nodeName){case"HTML":case"HEAD":case"BODY":Nm(x),ot(x);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(x.rel.toLowerCase()==="stylesheet")continue}i.removeChild(x)}}function zT(i,u,x,O){for(;i.nodeType===1;){var V=x;if(i.nodeName.toLowerCase()!==u.toLowerCase()){if(!O&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(O){if(!i[wt])switch(u){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(W=i.getAttribute("rel"),W==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(W!==V.rel||i.getAttribute("href")!==(V.href==null?null:V.href)||i.getAttribute("crossorigin")!==(V.crossOrigin==null?null:V.crossOrigin)||i.getAttribute("title")!==(V.title==null?null:V.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(W=i.getAttribute("src"),(W!==(V.src==null?null:V.src)||i.getAttribute("type")!==(V.type==null?null:V.type)||i.getAttribute("crossorigin")!==(V.crossOrigin==null?null:V.crossOrigin))&&W&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(u==="input"&&i.type==="hidden"){var W=V.name==null?null:""+V.name;if(V.type==="hidden"&&i.getAttribute("name")===W)return i}else return i;if(i=Ci(i.nextSibling),i===null)break}return null}function HT(i,u,x){if(u==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!x||(i=Ci(i.nextSibling),i===null))return null;return i}function Ci(i){for(;i!=null;i=i.nextSibling){var u=i.nodeType;if(u===1||u===3)break;if(u===8){if(u=i.data,u==="$"||u==="$!"||u==="$?"||u==="F!"||u==="F")break;if(u==="/$")return null}}return i}function g1(i){i=i.previousSibling;for(var u=0;i;){if(i.nodeType===8){var x=i.data;if(x==="$"||x==="$!"||x==="$?"){if(u===0)return i;u--}else x==="/$"&&u++}i=i.previousSibling}return null}function y1(i,u,x){switch(u=dh(x),i){case"html":if(i=u.documentElement,!i)throw Error(t(452));return i;case"head":if(i=u.head,!i)throw Error(t(453));return i;case"body":if(i=u.body,!i)throw Error(t(454));return i;default:throw Error(t(451))}}var li=new Map,v1=new Set;function hh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.ownerDocument}var Io=G.d;G.d={f:qT,r:WT,D:YT,C:XT,L:$T,m:KT,X:ZT,S:QT,M:JT};function qT(){var i=Io.f(),u=sh();return i||u}function WT(i){var u=tt(i);u!==null&&u.tag===5&&u.type==="form"?q0(u):Io.r(i)}var lu=typeof document>"u"?null:document;function b1(i,u,x){var O=lu;if(O&&typeof u=="string"&&u){var V=Xr(u);V='link[rel="'+i+'"][href="'+V+'"]',typeof x=="string"&&(V+='[crossorigin="'+x+'"]'),v1.has(V)||(v1.add(V),i={rel:i,crossOrigin:x,href:u},O.querySelector(V)===null&&(u=O.createElement("link"),Yn(u,"link",i),Pt(u),O.head.appendChild(u)))}}function YT(i){Io.D(i),b1("dns-prefetch",i,null)}function XT(i,u){Io.C(i,u),b1("preconnect",i,u)}function $T(i,u,x){Io.L(i,u,x);var O=lu;if(O&&i&&u){var V='link[rel="preload"][as="'+Xr(u)+'"]';u==="image"&&x&&x.imageSrcSet?(V+='[imagesrcset="'+Xr(x.imageSrcSet)+'"]',typeof x.imageSizes=="string"&&(V+='[imagesizes="'+Xr(x.imageSizes)+'"]')):V+='[href="'+Xr(i)+'"]';var W=V;switch(u){case"style":W=uu(i);break;case"script":W=cu(i)}li.has(W)||(i=D({rel:"preload",href:u==="image"&&x&&x.imageSrcSet?void 0:i,as:u},x),li.set(W,i),O.querySelector(V)!==null||u==="style"&&O.querySelector(mc(W))||u==="script"&&O.querySelector(gc(W))||(u=O.createElement("link"),Yn(u,"link",i),Pt(u),O.head.appendChild(u)))}}function KT(i,u){Io.m(i,u);var x=lu;if(x&&i){var O=u&&typeof u.as=="string"?u.as:"script",V='link[rel="modulepreload"][as="'+Xr(O)+'"][href="'+Xr(i)+'"]',W=V;switch(O){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":W=cu(i)}if(!li.has(W)&&(i=D({rel:"modulepreload",href:i},u),li.set(W,i),x.querySelector(V)===null)){switch(O){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(x.querySelector(gc(W)))return}O=x.createElement("link"),Yn(O,"link",i),Pt(O),x.head.appendChild(O)}}}function QT(i,u,x){Io.S(i,u,x);var O=lu;if(O&&i){var V=_t(O).hoistableStyles,W=uu(i);u=u||"default";var ue=V.get(W);if(!ue){var be={loading:0,preload:null};if(ue=O.querySelector(mc(W)))be.loading=5;else{i=D({rel:"stylesheet",href:i,"data-precedence":u},x),(x=li.get(W))&&Um(i,x);var Ie=ue=O.createElement("link");Pt(Ie),Yn(Ie,"link",i),Ie._p=new Promise(function(ze,st){Ie.onload=ze,Ie.onerror=st}),Ie.addEventListener("load",function(){be.loading|=1}),Ie.addEventListener("error",function(){be.loading|=2}),be.loading|=4,fh(ue,u,O)}ue={type:"stylesheet",instance:ue,count:1,state:be},V.set(W,ue)}}}function ZT(i,u){Io.X(i,u);var x=lu;if(x&&i){var O=_t(x).hoistableScripts,V=cu(i),W=O.get(V);W||(W=x.querySelector(gc(V)),W||(i=D({src:i,async:!0},u),(u=li.get(V))&&Fm(i,u),W=x.createElement("script"),Pt(W),Yn(W,"link",i),x.head.appendChild(W)),W={type:"script",instance:W,count:1,state:null},O.set(V,W))}}function JT(i,u){Io.M(i,u);var x=lu;if(x&&i){var O=_t(x).hoistableScripts,V=cu(i),W=O.get(V);W||(W=x.querySelector(gc(V)),W||(i=D({src:i,async:!0,type:"module"},u),(u=li.get(V))&&Fm(i,u),W=x.createElement("script"),Pt(W),Yn(W,"link",i),x.head.appendChild(W)),W={type:"script",instance:W,count:1,state:null},O.set(V,W))}}function _1(i,u,x,O){var V=(V=xe.current)?hh(V):null;if(!V)throw Error(t(446));switch(i){case"meta":case"title":return null;case"style":return typeof x.precedence=="string"&&typeof x.href=="string"?(u=uu(x.href),x=_t(V).hoistableStyles,O=x.get(u),O||(O={type:"style",instance:null,count:0,state:null},x.set(u,O)),O):{type:"void",instance:null,count:0,state:null};case"link":if(x.rel==="stylesheet"&&typeof x.href=="string"&&typeof x.precedence=="string"){i=uu(x.href);var W=_t(V).hoistableStyles,ue=W.get(i);if(ue||(V=V.ownerDocument||V,ue={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},W.set(i,ue),(W=V.querySelector(mc(i)))&&!W._p&&(ue.instance=W,ue.state.loading=5),li.has(i)||(x={rel:"preload",as:"style",href:x.href,crossOrigin:x.crossOrigin,integrity:x.integrity,media:x.media,hrefLang:x.hrefLang,referrerPolicy:x.referrerPolicy},li.set(i,x),W||eC(V,i,x,ue.state))),u&&O===null)throw Error(t(528,""));return ue}if(u&&O!==null)throw Error(t(529,""));return null;case"script":return u=x.async,x=x.src,typeof x=="string"&&u&&typeof u!="function"&&typeof u!="symbol"?(u=cu(x),x=_t(V).hoistableScripts,O=x.get(u),O||(O={type:"script",instance:null,count:0,state:null},x.set(u,O)),O):{type:"void",instance:null,count:0,state:null};default:throw Error(t(444,i))}}function uu(i){return'href="'+Xr(i)+'"'}function mc(i){return'link[rel="stylesheet"]['+i+"]"}function w1(i){return D({},i,{"data-precedence":i.precedence,precedence:null})}function eC(i,u,x,O){i.querySelector('link[rel="preload"][as="style"]['+u+"]")?O.loading=1:(u=i.createElement("link"),O.preload=u,u.addEventListener("load",function(){return O.loading|=1}),u.addEventListener("error",function(){return O.loading|=2}),Yn(u,"link",x),Pt(u),i.head.appendChild(u))}function cu(i){return'[src="'+Xr(i)+'"]'}function gc(i){return"script[async]"+i}function x1(i,u,x){if(u.count++,u.instance===null)switch(u.type){case"style":var O=i.querySelector('style[data-href~="'+Xr(x.href)+'"]');if(O)return u.instance=O,Pt(O),O;var V=D({},x,{"data-href":x.href,"data-precedence":x.precedence,href:null,precedence:null});return O=(i.ownerDocument||i).createElement("style"),Pt(O),Yn(O,"style",V),fh(O,x.precedence,i),u.instance=O;case"stylesheet":V=uu(x.href);var W=i.querySelector(mc(V));if(W)return u.state.loading|=4,u.instance=W,Pt(W),W;O=w1(x),(V=li.get(V))&&Um(O,V),W=(i.ownerDocument||i).createElement("link"),Pt(W);var ue=W;return ue._p=new Promise(function(be,Ie){ue.onload=be,ue.onerror=Ie}),Yn(W,"link",O),u.state.loading|=4,fh(W,x.precedence,i),u.instance=W;case"script":return W=cu(x.src),(V=i.querySelector(gc(W)))?(u.instance=V,Pt(V),V):(O=x,(V=li.get(W))&&(O=D({},x),Fm(O,V)),i=i.ownerDocument||i,V=i.createElement("script"),Pt(V),Yn(V,"link",O),i.head.appendChild(V),u.instance=V);case"void":return null;default:throw Error(t(443,u.type))}else u.type==="stylesheet"&&!(u.state.loading&4)&&(O=u.instance,u.state.loading|=4,fh(O,x.precedence,i));return u.instance}function fh(i,u,x){for(var O=x.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),V=O.length?O[O.length-1]:null,W=V,ue=0;ue<O.length;ue++){var be=O[ue];if(be.dataset.precedence===u)W=be;else if(W!==V)break}W?W.parentNode.insertBefore(i,W.nextSibling):(u=x.nodeType===9?x.head:x,u.insertBefore(i,u.firstChild))}function Um(i,u){i.crossOrigin==null&&(i.crossOrigin=u.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=u.referrerPolicy),i.title==null&&(i.title=u.title)}function Fm(i,u){i.crossOrigin==null&&(i.crossOrigin=u.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=u.referrerPolicy),i.integrity==null&&(i.integrity=u.integrity)}var ph=null;function S1(i,u,x){if(ph===null){var O=new Map,V=ph=new Map;V.set(x,O)}else V=ph,O=V.get(x),O||(O=new Map,V.set(x,O));if(O.has(i))return O;for(O.set(i,null),x=x.getElementsByTagName(i),V=0;V<x.length;V++){var W=x[V];if(!(W[wt]||W[Kr]||i==="link"&&W.getAttribute("rel")==="stylesheet")&&W.namespaceURI!=="http://www.w3.org/2000/svg"){var ue=W.getAttribute(u)||"";ue=i+ue;var be=O.get(ue);be?be.push(W):O.set(ue,[W])}}return O}function j1(i,u,x){i=i.ownerDocument||i,i.head.insertBefore(x,u==="title"?i.querySelector("head > title"):null)}function tC(i,u,x){if(x===1||u.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof u.precedence!="string"||typeof u.href!="string"||u.href==="")break;return!0;case"link":if(typeof u.rel!="string"||typeof u.href!="string"||u.href===""||u.onLoad||u.onError)break;switch(u.rel){case"stylesheet":return i=u.disabled,typeof u.precedence=="string"&&i==null;default:return!0}case"script":if(u.async&&typeof u.async!="function"&&typeof u.async!="symbol"&&!u.onLoad&&!u.onError&&u.src&&typeof u.src=="string")return!0}return!1}function E1(i){return!(i.type==="stylesheet"&&!(i.state.loading&3))}var yc=null;function rC(){}function nC(i,u,x){if(yc===null)throw Error(t(475));var O=yc;if(u.type==="stylesheet"&&(typeof x.media!="string"||matchMedia(x.media).matches!==!1)&&!(u.state.loading&4)){if(u.instance===null){var V=uu(x.href),W=i.querySelector(mc(V));if(W){i=W._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(O.count++,O=mh.bind(O),i.then(O,O)),u.state.loading|=4,u.instance=W,Pt(W);return}W=i.ownerDocument||i,x=w1(x),(V=li.get(V))&&Um(x,V),W=W.createElement("link"),Pt(W);var ue=W;ue._p=new Promise(function(be,Ie){ue.onload=be,ue.onerror=Ie}),Yn(W,"link",x),u.instance=W}O.stylesheets===null&&(O.stylesheets=new Map),O.stylesheets.set(u,i),(i=u.state.preload)&&!(u.state.loading&3)&&(O.count++,u=mh.bind(O),i.addEventListener("load",u),i.addEventListener("error",u))}}function sC(){if(yc===null)throw Error(t(475));var i=yc;return i.stylesheets&&i.count===0&&Vm(i,i.stylesheets),0<i.count?function(u){var x=setTimeout(function(){if(i.stylesheets&&Vm(i,i.stylesheets),i.unsuspend){var O=i.unsuspend;i.unsuspend=null,O()}},6e4);return i.unsuspend=u,function(){i.unsuspend=null,clearTimeout(x)}}:null}function mh(){if(this.count--,this.count===0){if(this.stylesheets)Vm(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var gh=null;function Vm(i,u){i.stylesheets=null,i.unsuspend!==null&&(i.count++,gh=new Map,u.forEach(iC,i),gh=null,mh.call(i))}function iC(i,u){if(!(u.state.loading&4)){var x=gh.get(i);if(x)var O=x.get(null);else{x=new Map,gh.set(i,x);for(var V=i.querySelectorAll("link[data-precedence],style[data-precedence]"),W=0;W<V.length;W++){var ue=V[W];(ue.nodeName==="LINK"||ue.getAttribute("media")!=="not all")&&(x.set(ue.dataset.precedence,ue),O=ue)}O&&x.set(null,O)}V=u.instance,ue=V.getAttribute("data-precedence"),W=x.get(ue)||O,W===O&&x.set(null,V),x.set(ue,V),this.count++,O=mh.bind(this),V.addEventListener("load",O),V.addEventListener("error",O),W?W.parentNode.insertBefore(V,W.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(V,i.firstChild)),u.state.loading|=4}}var vc={$$typeof:p,Provider:null,Consumer:null,_currentValue:X,_currentValue2:X,_threadCount:0};function oC(i,u,x,O,V,W,ue,be){this.tag=1,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Nr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nr(0),this.hiddenUpdates=Nr(null),this.identifierPrefix=O,this.onUncaughtError=V,this.onCaughtError=W,this.onRecoverableError=ue,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=be,this.incompleteTransitions=new Map}function T1(i,u,x,O,V,W,ue,be,Ie,ze,st,pt){return i=new oC(i,u,x,ue,be,Ie,ze,pt),u=1,W===!0&&(u|=24),W=oi(3,null,null,u),i.current=W,W.stateNode=i,u=vp(),u.refCount++,i.pooledCache=u,u.refCount++,W.memoizedState={element:O,isDehydrated:x,cache:u},Zp(W),i}function C1(i){return i?(i=Gl,i):Gl}function A1(i,u,x,O,V,W){V=C1(V),O.context===null?O.context=V:O.pendingContext=V,O=sa(u),O.payload={element:x},W=W===void 0?null:W,W!==null&&(O.callback=W),x=ia(i,O,u),x!==null&&(gs(x,i,u),tc(x,i,u))}function R1(i,u){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var x=i.retryLane;i.retryLane=x!==0&&x<u?x:u}}function Bm(i,u){R1(i,u),(i=i.alternate)&&R1(i,u)}function O1(i){if(i.tag===13){var u=Qo(i,67108864);u!==null&&gs(u,i,67108864),Bm(i,67108864)}}var yh=!0;function aC(i,u,x,O){var V=R.T;R.T=null;var W=G.p;try{G.p=2,Gm(i,u,x,O)}finally{G.p=W,R.T=V}}function lC(i,u,x,O){var V=R.T;R.T=null;var W=G.p;try{G.p=8,Gm(i,u,x,O)}finally{G.p=W,R.T=V}}function Gm(i,u,x,O){if(yh){var V=zm(O);if(V===null)Om(i,u,O,vh,x),k1(i,O);else if(cC(V,i,u,x,O))O.stopPropagation();else if(k1(i,O),u&4&&-1<uC.indexOf(i)){for(;V!==null;){var W=tt(V);if(W!==null)switch(W.tag){case 3:if(W=W.stateNode,W.current.memoizedState.isDehydrated){var ue=Tt(W.pendingLanes);if(ue!==0){var be=W;for(be.pendingLanes|=2,be.entangledLanes|=2;ue;){var Ie=1<<31-Xe(ue);be.entanglements[1]|=Ie,ue&=~Ie}Hi(W),!(rn&6)&&(th=ut()+500,hc(0))}}break;case 13:be=Qo(W,2),be!==null&&gs(be,W,2),sh(),Bm(W,2)}if(W=zm(O),W===null&&Om(i,u,O,vh,x),W===V)break;V=W}V!==null&&O.stopPropagation()}else Om(i,u,O,null,x)}}function zm(i){return i=oo(i),Hm(i)}var vh=null;function Hm(i){if(vh=null,i=qt(i),i!==null){var u=J(i);if(u===null)i=null;else{var x=u.tag;if(x===13){if(i=Z(u),i!==null)return i;i=null}else if(x===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;i=null}else u!==i&&(i=null)}}return vh=i,null}function I1(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(it()){case ft:return 2;case lt:return 8;case Le:case et:return 32;case Be:return 268435456;default:return 32}default:return 32}}var qm=!1,ha=null,fa=null,pa=null,bc=new Map,_c=new Map,ma=[],uC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function k1(i,u){switch(i){case"focusin":case"focusout":ha=null;break;case"dragenter":case"dragleave":fa=null;break;case"mouseover":case"mouseout":pa=null;break;case"pointerover":case"pointerout":bc.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":_c.delete(u.pointerId)}}function wc(i,u,x,O,V,W){return i===null||i.nativeEvent!==W?(i={blockedOn:u,domEventName:x,eventSystemFlags:O,nativeEvent:W,targetContainers:[V]},u!==null&&(u=tt(u),u!==null&&O1(u)),i):(i.eventSystemFlags|=O,u=i.targetContainers,V!==null&&u.indexOf(V)===-1&&u.push(V),i)}function cC(i,u,x,O,V){switch(u){case"focusin":return ha=wc(ha,i,u,x,O,V),!0;case"dragenter":return fa=wc(fa,i,u,x,O,V),!0;case"mouseover":return pa=wc(pa,i,u,x,O,V),!0;case"pointerover":var W=V.pointerId;return bc.set(W,wc(bc.get(W)||null,i,u,x,O,V)),!0;case"gotpointercapture":return W=V.pointerId,_c.set(W,wc(_c.get(W)||null,i,u,x,O,V)),!0}return!1}function M1(i){var u=qt(i.target);if(u!==null){var x=J(u);if(x!==null){if(u=x.tag,u===13){if(u=Z(x),u!==null){i.blockedOn=u,Br(i.priority,function(){if(x.tag===13){var O=Bs(),V=Qo(x,O);V!==null&&gs(V,x,O),Bm(x,O)}});return}}else if(u===3&&x.stateNode.current.memoizedState.isDehydrated){i.blockedOn=x.tag===3?x.stateNode.containerInfo:null;return}}}i.blockedOn=null}function bh(i){if(i.blockedOn!==null)return!1;for(var u=i.targetContainers;0<u.length;){var x=zm(i.nativeEvent);if(x===null){x=i.nativeEvent;var O=new x.constructor(x.type,x);_s=O,x.target.dispatchEvent(O),_s=null}else return u=tt(x),u!==null&&O1(u),i.blockedOn=x,!1;u.shift()}return!0}function P1(i,u,x){bh(i)&&x.delete(u)}function dC(){qm=!1,ha!==null&&bh(ha)&&(ha=null),fa!==null&&bh(fa)&&(fa=null),pa!==null&&bh(pa)&&(pa=null),bc.forEach(P1),_c.forEach(P1)}function _h(i,u){i.blockedOn===u&&(i.blockedOn=null,qm||(qm=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,dC)))}var wh=null;function D1(i){wh!==i&&(wh=i,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){wh===i&&(wh=null);for(var u=0;u<i.length;u+=3){var x=i[u],O=i[u+1],V=i[u+2];if(typeof O!="function"){if(Hm(O||x)===null)continue;break}var W=tt(x);W!==null&&(i.splice(u,3),u-=3,Pp(W,{pending:!0,data:V,method:x.method,action:O},O,V))}}))}function xc(i){function u(Ie){return _h(Ie,i)}ha!==null&&_h(ha,i),fa!==null&&_h(fa,i),pa!==null&&_h(pa,i),bc.forEach(u),_c.forEach(u);for(var x=0;x<ma.length;x++){var O=ma[x];O.blockedOn===i&&(O.blockedOn=null)}for(;0<ma.length&&(x=ma[0],x.blockedOn===null);)M1(x),x.blockedOn===null&&ma.shift();if(x=(i.ownerDocument||i).$$reactFormReplay,x!=null)for(O=0;O<x.length;O+=3){var V=x[O],W=x[O+1],ue=V[Yr]||null;if(typeof W=="function")ue||D1(x);else if(ue){var be=null;if(W&&W.hasAttribute("formAction")){if(V=W,ue=W[Yr]||null)be=ue.formAction;else if(Hm(V)!==null)continue}else be=ue.action;typeof be=="function"?x[O+1]=be:(x.splice(O,3),O-=3),D1(x)}}}function Wm(i){this._internalRoot=i}xh.prototype.render=Wm.prototype.render=function(i){var u=this._internalRoot;if(u===null)throw Error(t(409));var x=u.current,O=Bs();A1(x,O,i,u,null,null)},xh.prototype.unmount=Wm.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var u=i.containerInfo;i.tag===0&&iu(),A1(i.current,2,null,i,null,null),sh(),u[vs]=null}};function xh(i){this._internalRoot=i}xh.prototype.unstable_scheduleHydration=function(i){if(i){var u=fr();i={blockedOn:null,target:i,priority:u};for(var x=0;x<ma.length&&u!==0&&u<ma[x].priority;x++);ma.splice(x,0,i),x===0&&M1(i)}};var L1=r.version;if(L1!=="19.0.0")throw Error(t(527,L1,"19.0.0"));G.findDOMNode=function(i){var u=i._reactInternals;if(u===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=se(u),i=i!==null?le(i):null,i=i===null?null:i.stateNode,i};var hC={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:R,findFiberByHostInstance:qt,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sh.isDisabled&&Sh.supportsFiber)try{ie=Sh.inject(hC),ye=Sh}catch{}}return jc.createRoot=function(i,u){if(!o(i))throw Error(t(299));var x=!1,O="",V=J0,W=eb,ue=tb,be=null;return u!=null&&(u.unstable_strictMode===!0&&(x=!0),u.identifierPrefix!==void 0&&(O=u.identifierPrefix),u.onUncaughtError!==void 0&&(V=u.onUncaughtError),u.onCaughtError!==void 0&&(W=u.onCaughtError),u.onRecoverableError!==void 0&&(ue=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(be=u.unstable_transitionCallbacks)),u=T1(i,1,!1,null,null,x,O,V,W,ue,be,null),i[vs]=u.current,Rm(i.nodeType===8?i.parentNode:i),new Wm(u)},jc.hydrateRoot=function(i,u,x){if(!o(i))throw Error(t(299));var O=!1,V="",W=J0,ue=eb,be=tb,Ie=null,ze=null;return x!=null&&(x.unstable_strictMode===!0&&(O=!0),x.identifierPrefix!==void 0&&(V=x.identifierPrefix),x.onUncaughtError!==void 0&&(W=x.onUncaughtError),x.onCaughtError!==void 0&&(ue=x.onCaughtError),x.onRecoverableError!==void 0&&(be=x.onRecoverableError),x.unstable_transitionCallbacks!==void 0&&(Ie=x.unstable_transitionCallbacks),x.formState!==void 0&&(ze=x.formState)),u=T1(i,1,!0,u,x??null,O,V,W,ue,be,Ie,ze),u.context=C1(null),x=u.current,O=Bs(),V=sa(O),V.callback=null,ia(x,V,O),u.current.lanes=O,Bt(u,O),Hi(u),i[vs]=u.current,Rm(i),new xh(u)},jc.version="19.0.0",jc}var W1;function jC(){if(W1)return $m.exports;W1=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(r){console.error(r)}}return s(),$m.exports=SC(),$m.exports}var EC=jC(),TC=yx();/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yc(){return Yc=Object.assign?Object.assign.bind():function(s){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(s[t]=n[t])}return s},Yc.apply(this,arguments)}var ba;(function(s){s.Pop="POP",s.Push="PUSH",s.Replace="REPLACE"})(ba||(ba={}));const Y1="popstate";function CC(s){s===void 0&&(s={});function r(t,o){let{pathname:c,search:l,hash:h}=t.location;return Ig("",{pathname:c,search:l,hash:h},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(t,o){return typeof o=="string"?o:ef(o)}return RC(r,n,null,s)}function En(s,r){if(s===!1||s===null||typeof s>"u")throw new Error(r)}function vx(s,r){if(!s){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function AC(){return Math.random().toString(36).substr(2,8)}function X1(s,r){return{usr:s.state,key:s.key,idx:r}}function Ig(s,r,n,t){return n===void 0&&(n=null),Yc({pathname:typeof s=="string"?s:s.pathname,search:"",hash:""},typeof r=="string"?Ou(r):r,{state:n,key:r&&r.key||t||AC()})}function ef(s){let{pathname:r="/",search:n="",hash:t=""}=s;return n&&n!=="?"&&(r+=n.charAt(0)==="?"?n:"?"+n),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function Ou(s){let r={};if(s){let n=s.indexOf("#");n>=0&&(r.hash=s.substr(n),s=s.substr(0,n));let t=s.indexOf("?");t>=0&&(r.search=s.substr(t),s=s.substr(0,t)),s&&(r.pathname=s)}return r}function RC(s,r,n,t){t===void 0&&(t={});let{window:o=document.defaultView,v5Compat:c=!1}=t,l=o.history,h=ba.Pop,a=null,d=_();d==null&&(d=0,l.replaceState(Yc({},l.state,{idx:d}),""));function _(){return(l.state||{idx:null}).idx}function w(){h=ba.Pop;let m=_(),g=m==null?null:m-d;d=m,a&&a({action:h,location:y.location,delta:g})}function f(m,g){h=ba.Push;let v=Ig(y.location,m,g);d=_()+1;let S=X1(v,d),j=y.createHref(v);try{l.pushState(S,"",j)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;o.location.assign(j)}c&&a&&a({action:h,location:y.location,delta:1})}function p(m,g){h=ba.Replace;let v=Ig(y.location,m,g);d=_();let S=X1(v,d),j=y.createHref(v);l.replaceState(S,"",j),c&&a&&a({action:h,location:y.location,delta:0})}function b(m){let g=o.location.origin!=="null"?o.location.origin:o.location.href,v=typeof m=="string"?m:ef(m);return v=v.replace(/ $/,"%20"),En(g,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,g)}let y={get action(){return h},get location(){return s(o,l)},listen(m){if(a)throw new Error("A history only accepts one active listener");return o.addEventListener(Y1,w),a=m,()=>{o.removeEventListener(Y1,w),a=null}},createHref(m){return r(o,m)},createURL:b,encodeLocation(m){let g=b(m);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:p,go(m){return l.go(m)}};return y}var $1;(function(s){s.data="data",s.deferred="deferred",s.redirect="redirect",s.error="error"})($1||($1={}));function OC(s,r,n){return n===void 0&&(n="/"),IC(s,r,n,!1)}function IC(s,r,n,t){let o=typeof r=="string"?Ou(r):r,c=by(o.pathname||"/",n);if(c==null)return null;let l=bx(s);kC(l);let h=null;for(let a=0;h==null&&a<l.length;++a){let d=zC(c);h=BC(l[a],d,t)}return h}function bx(s,r,n,t){r===void 0&&(r=[]),n===void 0&&(n=[]),t===void 0&&(t="");let o=(c,l,h)=>{let a={relativePath:h===void 0?c.path||"":h,caseSensitive:c.caseSensitive===!0,childrenIndex:l,route:c};a.relativePath.startsWith("/")&&(En(a.relativePath.startsWith(t),'Absolute route path "'+a.relativePath+'" nested under path '+('"'+t+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),a.relativePath=a.relativePath.slice(t.length));let d=wa([t,a.relativePath]),_=n.concat(a);c.children&&c.children.length>0&&(En(c.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),bx(c.children,r,_,d)),!(c.path==null&&!c.index)&&r.push({path:d,score:FC(d,c.index),routesMeta:_})};return s.forEach((c,l)=>{var h;if(c.path===""||!((h=c.path)!=null&&h.includes("?")))o(c,l);else for(let a of _x(c.path))o(c,l,a)}),r}function _x(s){let r=s.split("/");if(r.length===0)return[];let[n,...t]=r,o=n.endsWith("?"),c=n.replace(/\?$/,"");if(t.length===0)return o?[c,""]:[c];let l=_x(t.join("/")),h=[];return h.push(...l.map(a=>a===""?c:[c,a].join("/"))),o&&h.push(...l),h.map(a=>s.startsWith("/")&&a===""?"/":a)}function kC(s){s.sort((r,n)=>r.score!==n.score?n.score-r.score:VC(r.routesMeta.map(t=>t.childrenIndex),n.routesMeta.map(t=>t.childrenIndex)))}const MC=/^:[\w-]+$/,PC=3,DC=2,LC=1,NC=10,UC=-2,K1=s=>s==="*";function FC(s,r){let n=s.split("/"),t=n.length;return n.some(K1)&&(t+=UC),r&&(t+=DC),n.filter(o=>!K1(o)).reduce((o,c)=>o+(MC.test(c)?PC:c===""?LC:NC),t)}function VC(s,r){return s.length===r.length&&s.slice(0,-1).every((t,o)=>t===r[o])?s[s.length-1]-r[r.length-1]:0}function BC(s,r,n){let{routesMeta:t}=s,o={},c="/",l=[];for(let h=0;h<t.length;++h){let a=t[h],d=h===t.length-1,_=c==="/"?r:r.slice(c.length)||"/",w=Q1({path:a.relativePath,caseSensitive:a.caseSensitive,end:d},_),f=a.route;if(!w&&d&&n&&!t[t.length-1].route.index&&(w=Q1({path:a.relativePath,caseSensitive:a.caseSensitive,end:!1},_)),!w)return null;Object.assign(o,w.params),l.push({params:o,pathname:wa([c,w.pathname]),pathnameBase:YC(wa([c,w.pathnameBase])),route:f}),w.pathnameBase!=="/"&&(c=wa([c,w.pathnameBase]))}return l}function Q1(s,r){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[n,t]=GC(s.path,s.caseSensitive,s.end),o=r.match(n);if(!o)return null;let c=o[0],l=c.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:t.reduce((d,_,w)=>{let{paramName:f,isOptional:p}=_;if(f==="*"){let y=h[w]||"";l=c.slice(0,c.length-y.length).replace(/(.)\/+$/,"$1")}const b=h[w];return p&&!b?d[f]=void 0:d[f]=(b||"").replace(/%2F/g,"/"),d},{}),pathname:c,pathnameBase:l,pattern:s}}function GC(s,r,n){r===void 0&&(r=!1),n===void 0&&(n=!0),vx(s==="*"||!s.endsWith("*")||s.endsWith("/*"),'Route path "'+s+'" will be treated as if it were '+('"'+s.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+s.replace(/\*$/,"/*")+'".'));let t=[],o="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,h,a)=>(t.push({paramName:h,isOptional:a!=null}),a?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(t.push({paramName:"*"}),o+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":s!==""&&s!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,r?void 0:"i"),t]}function zC(s){try{return s.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return vx(!1,'The URL path "'+s+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+r+").")),s}}function by(s,r){if(r==="/")return s;if(!s.toLowerCase().startsWith(r.toLowerCase()))return null;let n=r.endsWith("/")?r.length-1:r.length,t=s.charAt(n);return t&&t!=="/"?null:s.slice(n)||"/"}function HC(s,r){r===void 0&&(r="/");let{pathname:n,search:t="",hash:o=""}=typeof s=="string"?Ou(s):s;return{pathname:n?n.startsWith("/")?n:qC(n,r):r,search:XC(t),hash:$C(o)}}function qC(s,r){let n=r.replace(/\/+$/,"").split("/");return s.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Jm(s,r,n,t){return"Cannot include a '"+s+"' character in a manually specified "+("`to."+r+"` field ["+JSON.stringify(t)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function WC(s){return s.filter((r,n)=>n===0||r.route.path&&r.route.path.length>0)}function wx(s,r){let n=WC(s);return r?n.map((t,o)=>o===n.length-1?t.pathname:t.pathnameBase):n.map(t=>t.pathnameBase)}function xx(s,r,n,t){t===void 0&&(t=!1);let o;typeof s=="string"?o=Ou(s):(o=Yc({},s),En(!o.pathname||!o.pathname.includes("?"),Jm("?","pathname","search",o)),En(!o.pathname||!o.pathname.includes("#"),Jm("#","pathname","hash",o)),En(!o.search||!o.search.includes("#"),Jm("#","search","hash",o)));let c=s===""||o.pathname==="",l=c?"/":o.pathname,h;if(l==null)h=n;else{let w=r.length-1;if(!t&&l.startsWith("..")){let f=l.split("/");for(;f[0]==="..";)f.shift(),w-=1;o.pathname=f.join("/")}h=w>=0?r[w]:"/"}let a=HC(o,h),d=l&&l!=="/"&&l.endsWith("/"),_=(c||l===".")&&n.endsWith("/");return!a.pathname.endsWith("/")&&(d||_)&&(a.pathname+="/"),a}const wa=s=>s.join("/").replace(/\/\/+/g,"/"),YC=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),XC=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,$C=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function KC(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}const Sx=["post","put","patch","delete"];new Set(Sx);const QC=["get",...Sx];new Set(QC);/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xc(){return Xc=Object.assign?Object.assign.bind():function(s){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(s[t]=n[t])}return s},Xc.apply(this,arguments)}const _y=Te.createContext(null),ZC=Te.createContext(null),El=Te.createContext(null),If=Te.createContext(null),Tl=Te.createContext({outlet:null,matches:[],isDataRoute:!1}),jx=Te.createContext(null);function JC(s,r){let{relative:n}=r===void 0?{}:r;dd()||En(!1);let{basename:t,navigator:o}=Te.useContext(El),{hash:c,pathname:l,search:h}=Tx(s,{relative:n}),a=l;return t!=="/"&&(a=l==="/"?t:wa([t,l])),o.createHref({pathname:a,search:h,hash:c})}function dd(){return Te.useContext(If)!=null}function Cl(){return dd()||En(!1),Te.useContext(If).location}function Ex(s){Te.useContext(El).static||Te.useLayoutEffect(s)}function Mi(){let{isDataRoute:s}=Te.useContext(Tl);return s?hA():eA()}function eA(){dd()||En(!1);let s=Te.useContext(_y),{basename:r,future:n,navigator:t}=Te.useContext(El),{matches:o}=Te.useContext(Tl),{pathname:c}=Cl(),l=JSON.stringify(wx(o,n.v7_relativeSplatPath)),h=Te.useRef(!1);return Ex(()=>{h.current=!0}),Te.useCallback(function(d,_){if(_===void 0&&(_={}),!h.current)return;if(typeof d=="number"){t.go(d);return}let w=xx(d,JSON.parse(l),c,_.relative==="path");s==null&&r!=="/"&&(w.pathname=w.pathname==="/"?r:wa([r,w.pathname])),(_.replace?t.replace:t.push)(w,_.state,_)},[r,t,l,c,s])}function Tx(s,r){let{relative:n}=r===void 0?{}:r,{future:t}=Te.useContext(El),{matches:o}=Te.useContext(Tl),{pathname:c}=Cl(),l=JSON.stringify(wx(o,t.v7_relativeSplatPath));return Te.useMemo(()=>xx(s,JSON.parse(l),c,n==="path"),[s,l,c,n])}function tA(s,r){return rA(s,r)}function rA(s,r,n,t){dd()||En(!1);let{navigator:o}=Te.useContext(El),{matches:c}=Te.useContext(Tl),l=c[c.length-1],h=l?l.params:{};l&&l.pathname;let a=l?l.pathnameBase:"/";l&&l.route;let d=Cl(),_;if(r){var w;let m=typeof r=="string"?Ou(r):r;a==="/"||(w=m.pathname)!=null&&w.startsWith(a)||En(!1),_=m}else _=d;let f=_.pathname||"/",p=f;if(a!=="/"){let m=a.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(m.length).join("/")}let b=OC(s,{pathname:p}),y=aA(b&&b.map(m=>Object.assign({},m,{params:Object.assign({},h,m.params),pathname:wa([a,o.encodeLocation?o.encodeLocation(m.pathname).pathname:m.pathname]),pathnameBase:m.pathnameBase==="/"?a:wa([a,o.encodeLocation?o.encodeLocation(m.pathnameBase).pathname:m.pathnameBase])})),c,n,t);return r&&y?Te.createElement(If.Provider,{value:{location:Xc({pathname:"/",search:"",hash:"",state:null,key:"default"},_),navigationType:ba.Pop}},y):y}function nA(){let s=dA(),r=KC(s)?s.status+" "+s.statusText:s instanceof Error?s.message:JSON.stringify(s),n=s instanceof Error?s.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return Te.createElement(Te.Fragment,null,Te.createElement("h2",null,"Unexpected Application Error!"),Te.createElement("h3",{style:{fontStyle:"italic"}},r),n?Te.createElement("pre",{style:o},n):null,null)}const sA=Te.createElement(nA,null);class iA extends Te.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,n){return n.location!==r.location||n.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:n.error,location:n.location,revalidation:r.revalidation||n.revalidation}}componentDidCatch(r,n){console.error("React Router caught the following error during render",r,n)}render(){return this.state.error!==void 0?Te.createElement(Tl.Provider,{value:this.props.routeContext},Te.createElement(jx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function oA(s){let{routeContext:r,match:n,children:t}=s,o=Te.useContext(_y);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),Te.createElement(Tl.Provider,{value:r},t)}function aA(s,r,n,t){var o;if(r===void 0&&(r=[]),n===void 0&&(n=null),t===void 0&&(t=null),s==null){var c;if(!n)return null;if(n.errors)s=n.matches;else if((c=t)!=null&&c.v7_partialHydration&&r.length===0&&!n.initialized&&n.matches.length>0)s=n.matches;else return null}let l=s,h=(o=n)==null?void 0:o.errors;if(h!=null){let _=l.findIndex(w=>w.route.id&&(h==null?void 0:h[w.route.id])!==void 0);_>=0||En(!1),l=l.slice(0,Math.min(l.length,_+1))}let a=!1,d=-1;if(n&&t&&t.v7_partialHydration)for(let _=0;_<l.length;_++){let w=l[_];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(d=_),w.route.id){let{loaderData:f,errors:p}=n,b=w.route.loader&&f[w.route.id]===void 0&&(!p||p[w.route.id]===void 0);if(w.route.lazy||b){a=!0,d>=0?l=l.slice(0,d+1):l=[l[0]];break}}}return l.reduceRight((_,w,f)=>{let p,b=!1,y=null,m=null;n&&(p=h&&w.route.id?h[w.route.id]:void 0,y=w.route.errorElement||sA,a&&(d<0&&f===0?(b=!0,m=null):d===f&&(b=!0,m=w.route.hydrateFallbackElement||null)));let g=r.concat(l.slice(0,f+1)),v=()=>{let S;return p?S=y:b?S=m:w.route.Component?S=Te.createElement(w.route.Component,null):w.route.element?S=w.route.element:S=_,Te.createElement(oA,{match:w,routeContext:{outlet:_,matches:g,isDataRoute:n!=null},children:S})};return n&&(w.route.ErrorBoundary||w.route.errorElement||f===0)?Te.createElement(iA,{location:n.location,revalidation:n.revalidation,component:y,error:p,children:v(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):v()},null)}var Cx=function(s){return s.UseBlocker="useBlocker",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s}(Cx||{}),tf=function(s){return s.UseBlocker="useBlocker",s.UseLoaderData="useLoaderData",s.UseActionData="useActionData",s.UseRouteError="useRouteError",s.UseNavigation="useNavigation",s.UseRouteLoaderData="useRouteLoaderData",s.UseMatches="useMatches",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s.UseRouteId="useRouteId",s}(tf||{});function lA(s){let r=Te.useContext(_y);return r||En(!1),r}function uA(s){let r=Te.useContext(ZC);return r||En(!1),r}function cA(s){let r=Te.useContext(Tl);return r||En(!1),r}function Ax(s){let r=cA(),n=r.matches[r.matches.length-1];return n.route.id||En(!1),n.route.id}function dA(){var s;let r=Te.useContext(jx),n=uA(tf.UseRouteError),t=Ax(tf.UseRouteError);return r!==void 0?r:(s=n.errors)==null?void 0:s[t]}function hA(){let{router:s}=lA(Cx.UseNavigateStable),r=Ax(tf.UseNavigateStable),n=Te.useRef(!1);return Ex(()=>{n.current=!0}),Te.useCallback(function(o,c){c===void 0&&(c={}),n.current&&(typeof o=="number"?s.navigate(o):s.navigate(o,Xc({fromRouteId:r},c)))},[s,r])}const Z1={};function fA(s,r){Z1[r]||(Z1[r]=!0,console.warn(r))}const J1=(s,r,n)=>fA(s,"⚠️ React Router Future Flag Warning: "+r+". "+("You can use the `"+s+"` future flag to opt-in early. ")+("For more information, see "+n+"."));function pA(s,r){s!=null&&s.v7_startTransition||J1("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),!(s!=null&&s.v7_relativeSplatPath)&&!r&&J1("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function Qr(s){En(!1)}function mA(s){let{basename:r="/",children:n=null,location:t,navigationType:o=ba.Pop,navigator:c,static:l=!1,future:h}=s;dd()&&En(!1);let a=r.replace(/^\/*/,"/"),d=Te.useMemo(()=>({basename:a,navigator:c,static:l,future:Xc({v7_relativeSplatPath:!1},h)}),[a,h,c,l]);typeof t=="string"&&(t=Ou(t));let{pathname:_="/",search:w="",hash:f="",state:p=null,key:b="default"}=t,y=Te.useMemo(()=>{let m=by(_,a);return m==null?null:{location:{pathname:m,search:w,hash:f,state:p,key:b},navigationType:o}},[a,_,w,f,p,b,o]);return y==null?null:Te.createElement(El.Provider,{value:d},Te.createElement(If.Provider,{children:n,value:y}))}function gA(s){let{children:r,location:n}=s;return tA(kg(r),n)}new Promise(()=>{});function kg(s,r){r===void 0&&(r=[]);let n=[];return Te.Children.forEach(s,(t,o)=>{if(!Te.isValidElement(t))return;let c=[...r,o];if(t.type===Te.Fragment){n.push.apply(n,kg(t.props.children,c));return}t.type!==Qr&&En(!1),!t.props.index||!t.props.children||En(!1);let l={id:t.props.id||c.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:t.props.ErrorBoundary!=null||t.props.errorElement!=null,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(l.children=kg(t.props.children,c)),n.push(l)}),n}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mg(){return Mg=Object.assign?Object.assign.bind():function(s){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(s[t]=n[t])}return s},Mg.apply(this,arguments)}function yA(s,r){if(s==null)return{};var n={},t=Object.keys(s),o,c;for(c=0;c<t.length;c++)o=t[c],!(r.indexOf(o)>=0)&&(n[o]=s[o]);return n}function vA(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function bA(s,r){return s.button===0&&(!r||r==="_self")&&!vA(s)}const _A=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],wA="6";try{window.__reactRouterVersion=wA}catch{}const xA="startTransition",e_=Og[xA];function SA(s){let{basename:r,children:n,future:t,window:o}=s,c=Te.useRef();c.current==null&&(c.current=CC({window:o,v5Compat:!0}));let l=c.current,[h,a]=Te.useState({action:l.action,location:l.location}),{v7_startTransition:d}=t||{},_=Te.useCallback(w=>{d&&e_?e_(()=>a(w)):a(w)},[a,d]);return Te.useLayoutEffect(()=>l.listen(_),[l,_]),Te.useEffect(()=>pA(t),[t]),Te.createElement(mA,{basename:r,children:n,location:h.location,navigationType:h.action,navigator:l,future:t})}const jA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",EA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,un=Te.forwardRef(function(r,n){let{onClick:t,relative:o,reloadDocument:c,replace:l,state:h,target:a,to:d,preventScrollReset:_,viewTransition:w}=r,f=yA(r,_A),{basename:p}=Te.useContext(El),b,y=!1;if(typeof d=="string"&&EA.test(d)&&(b=d,jA))try{let S=new URL(window.location.href),j=d.startsWith("//")?new URL(S.protocol+d):new URL(d),A=by(j.pathname,p);j.origin===S.origin&&A!=null?d=A+j.search+j.hash:y=!0}catch{}let m=JC(d,{relative:o}),g=TA(d,{replace:l,state:h,target:a,preventScrollReset:_,relative:o,viewTransition:w});function v(S){t&&t(S),S.defaultPrevented||g(S)}return Te.createElement("a",Mg({},f,{href:b||m,onClick:y||c?t:v,ref:n,target:a}))});var t_;(function(s){s.UseScrollRestoration="useScrollRestoration",s.UseSubmit="useSubmit",s.UseSubmitFetcher="useSubmitFetcher",s.UseFetcher="useFetcher",s.useViewTransitionState="useViewTransitionState"})(t_||(t_={}));var r_;(function(s){s.UseFetcher="useFetcher",s.UseFetchers="useFetchers",s.UseScrollRestoration="useScrollRestoration"})(r_||(r_={}));function TA(s,r){let{target:n,replace:t,state:o,preventScrollReset:c,relative:l,viewTransition:h}=r===void 0?{}:r,a=Mi(),d=Cl(),_=Tx(s,{relative:l});return Te.useCallback(w=>{if(bA(w,n)){w.preventDefault();let f=t!==void 0?t:ef(d)===ef(_);a(s,{replace:f,state:o,preventScrollReset:c,relative:l,viewTransition:h})}},[d,a,_,t,o,n,s,c,l,h])}const CA=""+new URL("signed_stablehand_logo-B-KOcpbG.png",import.meta.url).href,Rx=({children:s})=>$.jsx("div",{className:"flex flex-col items-center justify-top min-h-screen p-0 bg-gray-100",children:$.jsx("div",{className:"w-full max-w-lg bg-white p-8 rounded-lg shadow-md border border-gray-300",children:s})}),Gn=({children:s,bgColor:r="bg-gray-100",paddingY:n="py-4",paddingX:t="px-8",marginX:o="mx-2",border:c="border border-red-700",rounded:l="rounded-lg",shadow:h="shadow-md",fullWidth:a="w-screen"})=>$.jsx("div",{className:`flex flex-col items-center justify-top min-h-screen ${a} ${r} ${n} ${t} ${o} ${l} ${h} ${c}`,style:{position:"relative",zIndex:2},children:s}),kf=({children:s})=>$.jsx("div",{className:"w-full bg-blue-100 p-8 rounded-lg shadow-md border border-blue-700",children:$.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen",children:s})}),AA=()=>{const s=Mi(),[r,n]=Te.useState(!1);return Te.useEffect(()=>{const t=setTimeout(()=>n(!0),300);return()=>clearTimeout(t)},[]),$.jsx(Gn,{bgColor:"bg-gray-100",children:$.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen p-4 bg-gray-100",children:[$.jsx("div",{className:`relative mb-3 transition-opacity duration-1000 ${r?"opacity-100":"opacity-0"}`,children:$.jsx("img",{src:CA,alt:"Welcome to StableGait, a unique therapy to relieve tremor",className:"w-100 h-100 object-cover rounded-full shadow-x3"})}),$.jsxs("div",{className:"text-center mb-6",children:[$.jsx("h1",{className:"text-5xl font-bold text-gray-800 mb-2",children:"Welcome to Stablehand"}),$.jsx("p",{className:"text-red-500 text-center",children:"A Unique Virtual Tool to Stabilize Tremor"})]}),$.jsx("div",{className:"w-full p-2 bg-white rounded-lg shadow-lg max-w-md",children:$.jsxs("div",{className:"mt-8 flex space-x-4",children:[$.jsx("button",{onClick:()=>s("/login"),className:"w-full bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg",children:"Login"}),$.jsx("button",{onClick:()=>s("/register"),className:"w-full bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded-lg",children:"Register"})]})})]})})};var n_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ox=function(s){const r=[];let n=0;for(let t=0;t<s.length;t++){let o=s.charCodeAt(t);o<128?r[n++]=o:o<2048?(r[n++]=o>>6|192,r[n++]=o&63|128):(o&64512)===55296&&t+1<s.length&&(s.charCodeAt(t+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++t)&1023),r[n++]=o>>18|240,r[n++]=o>>12&63|128,r[n++]=o>>6&63|128,r[n++]=o&63|128):(r[n++]=o>>12|224,r[n++]=o>>6&63|128,r[n++]=o&63|128)}return r},RA=function(s){const r=[];let n=0,t=0;for(;n<s.length;){const o=s[n++];if(o<128)r[t++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[n++];r[t++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[n++],l=s[n++],h=s[n++],a=((o&7)<<18|(c&63)<<12|(l&63)<<6|h&63)-65536;r[t++]=String.fromCharCode(55296+(a>>10)),r[t++]=String.fromCharCode(56320+(a&1023))}else{const c=s[n++],l=s[n++];r[t++]=String.fromCharCode((o&15)<<12|(c&63)<<6|l&63)}}return r.join("")},Ix={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,r){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=r?this.byteToCharMapWebSafe_:this.byteToCharMap_,t=[];for(let o=0;o<s.length;o+=3){const c=s[o],l=o+1<s.length,h=l?s[o+1]:0,a=o+2<s.length,d=a?s[o+2]:0,_=c>>2,w=(c&3)<<4|h>>4;let f=(h&15)<<2|d>>6,p=d&63;a||(p=64,l||(f=64)),t.push(n[_],n[w],n[f],n[p])}return t.join("")},encodeString(s,r){return this.HAS_NATIVE_SUPPORT&&!r?btoa(s):this.encodeByteArray(Ox(s),r)},decodeString(s,r){return this.HAS_NATIVE_SUPPORT&&!r?atob(s):RA(this.decodeStringToByteArray(s,r))},decodeStringToByteArray(s,r){this.init_();const n=r?this.charToByteMapWebSafe_:this.charToByteMap_,t=[];for(let o=0;o<s.length;){const c=n[s.charAt(o++)],h=o<s.length?n[s.charAt(o)]:0;++o;const d=o<s.length?n[s.charAt(o)]:64;++o;const w=o<s.length?n[s.charAt(o)]:64;if(++o,c==null||h==null||d==null||w==null)throw new OA;const f=c<<2|h>>4;if(t.push(f),d!==64){const p=h<<4&240|d>>2;if(t.push(p),w!==64){const b=d<<6&192|w;t.push(b)}}}return t},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class OA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const IA=function(s){const r=Ox(s);return Ix.encodeByteArray(r,!0)},rf=function(s){return IA(s).replace(/\./g,"")},kx=function(s){try{return Ix.decodeString(s,!0)}catch(r){console.error("base64Decode failed: ",r)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MA=()=>kA().__FIREBASE_DEFAULTS__,PA=()=>{if(typeof process>"u"||typeof n_>"u")return;const s=n_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},DA=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const r=s&&kx(s[1]);return r&&JSON.parse(r)},Mf=()=>{try{return MA()||PA()||DA()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Mx=s=>{var r,n;return(n=(r=Mf())===null||r===void 0?void 0:r.emulatorHosts)===null||n===void 0?void 0:n[s]},Px=s=>{const r=Mx(s);if(!r)return;const n=r.lastIndexOf(":");if(n<=0||n+1===r.length)throw new Error(`Invalid host ${r} with no separate hostname and port!`);const t=parseInt(r.substring(n+1),10);return r[0]==="["?[r.substring(1,n-1),t]:[r.substring(0,n),t]},Dx=()=>{var s;return(s=Mf())===null||s===void 0?void 0:s.config},Lx=s=>{var r;return(r=Mf())===null||r===void 0?void 0:r[`_${s}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((r,n)=>{this.resolve=r,this.reject=n})}wrapCallback(r){return(n,t)=>{n?this.reject(n):this.resolve(t),typeof r=="function"&&(this.promise.catch(()=>{}),r.length===1?r(n):r(n,t))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nx(s,r){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},t=r||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${t}`,aud:t,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},s);return[rf(JSON.stringify(n)),rf(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ds(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function NA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ds())}function UA(){var s;const r=(s=Mf())===null||s===void 0?void 0:s.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function FA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function wy(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function VA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function BA(){const s=ds();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function GA(){return!UA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function xy(){try{return typeof indexedDB=="object"}catch{return!1}}function Sy(){return new Promise((s,r)=>{try{let n=!0;const t="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(t);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(t),s(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var c;r(((c=o.error)===null||c===void 0?void 0:c.message)||"")}}catch(n){r(n)}})}function Ux(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zA="FirebaseError";class pi extends Error{constructor(r,n,t){super(n),this.code=r,this.customData=t,this.name=zA,Object.setPrototypeOf(this,pi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Al.prototype.create)}}class Al{constructor(r,n,t){this.service=r,this.serviceName=n,this.errors=t}create(r,...n){const t=n[0]||{},o=`${this.service}/${r}`,c=this.errors[r],l=c?HA(c,t):"Error",h=`${this.serviceName}: ${l} (${o}).`;return new pi(o,h,t)}}function HA(s,r){return s.replace(qA,(n,t)=>{const o=r[t];return o!=null?String(o):`<${t}?>`})}const qA=/\{\$([^}]+)}/g;function WA(s){for(const r in s)if(Object.prototype.hasOwnProperty.call(s,r))return!1;return!0}function $c(s,r){if(s===r)return!0;const n=Object.keys(s),t=Object.keys(r);for(const o of n){if(!t.includes(o))return!1;const c=s[o],l=r[o];if(s_(c)&&s_(l)){if(!$c(c,l))return!1}else if(c!==l)return!1}for(const o of t)if(!n.includes(o))return!1;return!0}function s_(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iu(s){const r=[];for(const[n,t]of Object.entries(s))Array.isArray(t)?t.forEach(o=>{r.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):r.push(encodeURIComponent(n)+"="+encodeURIComponent(t));return r.length?"&"+r.join("&"):""}function kc(s){const r={};return s.replace(/^\?/,"").split("&").forEach(t=>{if(t){const[o,c]=t.split("=");r[decodeURIComponent(o)]=decodeURIComponent(c)}}),r}function Mc(s){const r=s.indexOf("?");if(!r)return"";const n=s.indexOf("#",r);return s.substring(r,n>0?n:void 0)}function YA(s,r){const n=new XA(s,r);return n.subscribe.bind(n)}class XA{constructor(r,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{r(this)}).catch(t=>{this.error(t)})}next(r){this.forEachObserver(n=>{n.next(r)})}error(r){this.forEachObserver(n=>{n.error(r)}),this.close(r)}complete(){this.forEachObserver(r=>{r.complete()}),this.close()}subscribe(r,n,t){let o;if(r===void 0&&n===void 0&&t===void 0)throw new Error("Missing Observer.");$A(r,["next","error","complete"])?o=r:o={next:r,error:n,complete:t},o.next===void 0&&(o.next=eg),o.error===void 0&&(o.error=eg),o.complete===void 0&&(o.complete=eg);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(r){this.observers===void 0||this.observers[r]===void 0||(delete this.observers[r],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(r){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,r)}sendOne(r,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[r]!==void 0)try{n(this.observers[r])}catch(t){typeof console<"u"&&console.error&&console.error(t)}})}close(r){this.finalized||(this.finalized=!0,r!==void 0&&(this.finalError=r),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $A(s,r){if(typeof s!="object"||s===null)return!1;for(const n of r)if(n in s&&typeof s[n]=="function")return!0;return!1}function eg(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KA=1e3,QA=2,ZA=4*60*60*1e3,JA=.5;function i_(s,r=KA,n=QA){const t=r*Math.pow(n,s),o=Math.round(JA*t*(Math.random()-.5)*2);return Math.min(ZA,t+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qr(s){return s&&s._delegate?s._delegate:s}class hi{constructor(r,n,t){this.name=r,this.instanceFactory=n,this.type=t,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(r){return this.instantiationMode=r,this}setMultipleInstances(r){return this.multipleInstances=r,this}setServiceProps(r){return this.serviceProps=r,this}setInstanceCreatedCallback(r){return this.onInstanceCreated=r,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ol="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(r,n){this.name=r,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(r){const n=this.normalizeInstanceIdentifier(r);if(!this.instancesDeferred.has(n)){const t=new LA;if(this.instancesDeferred.set(n,t),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&t.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(r){var n;const t=this.normalizeInstanceIdentifier(r==null?void 0:r.identifier),o=(n=r==null?void 0:r.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(c){if(o)return null;throw c}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(r){if(r.name!==this.name)throw Error(`Mismatching Component ${r.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=r,!!this.shouldAutoInitialize()){if(rR(r))try{this.getOrInitializeService({instanceIdentifier:ol})}catch{}for(const[n,t]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:o});t.resolve(c)}catch{}}}}clearInstance(r=ol){this.instancesDeferred.delete(r),this.instancesOptions.delete(r),this.instances.delete(r)}async delete(){const r=Array.from(this.instances.values());await Promise.all([...r.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...r.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(r=ol){return this.instances.has(r)}getOptions(r=ol){return this.instancesOptions.get(r)||{}}initialize(r={}){const{options:n={}}=r,t=this.normalizeInstanceIdentifier(r.instanceIdentifier);if(this.isInitialized(t))throw Error(`${this.name}(${t}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:t,options:n});for(const[c,l]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(c);t===h&&l.resolve(o)}return o}onInit(r,n){var t;const o=this.normalizeInstanceIdentifier(n),c=(t=this.onInitCallbacks.get(o))!==null&&t!==void 0?t:new Set;c.add(r),this.onInitCallbacks.set(o,c);const l=this.instances.get(o);return l&&r(l,o),()=>{c.delete(r)}}invokeOnInitCallbacks(r,n){const t=this.onInitCallbacks.get(n);if(t)for(const o of t)try{o(r,n)}catch{}}getOrInitializeService({instanceIdentifier:r,options:n={}}){let t=this.instances.get(r);if(!t&&this.component&&(t=this.component.instanceFactory(this.container,{instanceIdentifier:tR(r),options:n}),this.instances.set(r,t),this.instancesOptions.set(r,n),this.invokeOnInitCallbacks(t,r),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,r,t)}catch{}return t||null}normalizeInstanceIdentifier(r=ol){return this.component?this.component.multipleInstances?r:ol:r}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function tR(s){return s===ol?void 0:s}function rR(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(r){this.name=r,this.providers=new Map}addComponent(r){const n=this.getProvider(r.name);if(n.isComponentSet())throw new Error(`Component ${r.name} has already been registered with ${this.name}`);n.setComponent(r)}addOrOverwriteComponent(r){this.getProvider(r.name).isComponentSet()&&this.providers.delete(r.name),this.addComponent(r)}getProvider(r){if(this.providers.has(r))return this.providers.get(r);const n=new eR(r,this);return this.providers.set(r,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cr;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(cr||(cr={}));const sR={debug:cr.DEBUG,verbose:cr.VERBOSE,info:cr.INFO,warn:cr.WARN,error:cr.ERROR,silent:cr.SILENT},iR=cr.INFO,oR={[cr.DEBUG]:"log",[cr.VERBOSE]:"log",[cr.INFO]:"info",[cr.WARN]:"warn",[cr.ERROR]:"error"},aR=(s,r,...n)=>{if(r<s.logLevel)return;const t=new Date().toISOString(),o=oR[r];if(o)console[o](`[${t}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${r})`)};class Pf{constructor(r){this.name=r,this._logLevel=iR,this._logHandler=aR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(r){if(!(r in cr))throw new TypeError(`Invalid value "${r}" assigned to \`logLevel\``);this._logLevel=r}setLogLevel(r){this._logLevel=typeof r=="string"?sR[r]:r}get logHandler(){return this._logHandler}set logHandler(r){if(typeof r!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=r}get userLogHandler(){return this._userLogHandler}set userLogHandler(r){this._userLogHandler=r}debug(...r){this._userLogHandler&&this._userLogHandler(this,cr.DEBUG,...r),this._logHandler(this,cr.DEBUG,...r)}log(...r){this._userLogHandler&&this._userLogHandler(this,cr.VERBOSE,...r),this._logHandler(this,cr.VERBOSE,...r)}info(...r){this._userLogHandler&&this._userLogHandler(this,cr.INFO,...r),this._logHandler(this,cr.INFO,...r)}warn(...r){this._userLogHandler&&this._userLogHandler(this,cr.WARN,...r),this._logHandler(this,cr.WARN,...r)}error(...r){this._userLogHandler&&this._userLogHandler(this,cr.ERROR,...r),this._logHandler(this,cr.ERROR,...r)}}const lR=(s,r)=>r.some(n=>s instanceof n);let o_,a_;function uR(){return o_||(o_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cR(){return a_||(a_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Fx=new WeakMap,Pg=new WeakMap,Vx=new WeakMap,tg=new WeakMap,jy=new WeakMap;function dR(s){const r=new Promise((n,t)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",l)},c=()=>{n(xa(s.result)),o()},l=()=>{t(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",l)});return r.then(n=>{n instanceof IDBCursor&&Fx.set(n,s)}).catch(()=>{}),jy.set(r,s),r}function hR(s){if(Pg.has(s))return;const r=new Promise((n,t)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",l),s.removeEventListener("abort",l)},c=()=>{n(),o()},l=()=>{t(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",l),s.addEventListener("abort",l)});Pg.set(s,r)}let Dg={get(s,r,n){if(s instanceof IDBTransaction){if(r==="done")return Pg.get(s);if(r==="objectStoreNames")return s.objectStoreNames||Vx.get(s);if(r==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return xa(s[r])},set(s,r,n){return s[r]=n,!0},has(s,r){return s instanceof IDBTransaction&&(r==="done"||r==="store")?!0:r in s}};function fR(s){Dg=s(Dg)}function pR(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(r,...n){const t=s.call(rg(this),r,...n);return Vx.set(t,r.sort?r.sort():[r]),xa(t)}:cR().includes(s)?function(...r){return s.apply(rg(this),r),xa(Fx.get(this))}:function(...r){return xa(s.apply(rg(this),r))}}function mR(s){return typeof s=="function"?pR(s):(s instanceof IDBTransaction&&hR(s),lR(s,uR())?new Proxy(s,Dg):s)}function xa(s){if(s instanceof IDBRequest)return dR(s);if(tg.has(s))return tg.get(s);const r=mR(s);return r!==s&&(tg.set(s,r),jy.set(r,s)),r}const rg=s=>jy.get(s);function Bx(s,r,{blocked:n,upgrade:t,blocking:o,terminated:c}={}){const l=indexedDB.open(s,r),h=xa(l);return t&&l.addEventListener("upgradeneeded",a=>{t(xa(l.result),a.oldVersion,a.newVersion,xa(l.transaction),a)}),n&&l.addEventListener("blocked",a=>n(a.oldVersion,a.newVersion,a)),h.then(a=>{c&&a.addEventListener("close",()=>c()),o&&a.addEventListener("versionchange",d=>o(d.oldVersion,d.newVersion,d))}).catch(()=>{}),h}const gR=["get","getKey","getAll","getAllKeys","count"],yR=["put","add","delete","clear"],ng=new Map;function l_(s,r){if(!(s instanceof IDBDatabase&&!(r in s)&&typeof r=="string"))return;if(ng.get(r))return ng.get(r);const n=r.replace(/FromIndex$/,""),t=r!==n,o=yR.includes(n);if(!(n in(t?IDBIndex:IDBObjectStore).prototype)||!(o||gR.includes(n)))return;const c=async function(l,...h){const a=this.transaction(l,o?"readwrite":"readonly");let d=a.store;return t&&(d=d.index(h.shift())),(await Promise.all([d[n](...h),o&&a.done]))[0]};return ng.set(r,c),c}fR(s=>({...s,get:(r,n,t)=>l_(r,n)||s.get(r,n,t),has:(r,n)=>!!l_(r,n)||s.has(r,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(r){this.container=r}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(bR(n)){const t=n.getImmediate();return`${t.library}/${t.version}`}else return null}).filter(n=>n).join(" ")}}function bR(s){const r=s.getComponent();return(r==null?void 0:r.type)==="VERSION"}const Lg="@firebase/app",u_="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uo=new Pf("@firebase/app"),_R="@firebase/app-compat",wR="@firebase/analytics-compat",xR="@firebase/analytics",SR="@firebase/app-check-compat",jR="@firebase/app-check",ER="@firebase/auth",TR="@firebase/auth-compat",CR="@firebase/database",AR="@firebase/data-connect",RR="@firebase/database-compat",OR="@firebase/functions",IR="@firebase/functions-compat",kR="@firebase/installations",MR="@firebase/installations-compat",PR="@firebase/messaging",DR="@firebase/messaging-compat",LR="@firebase/performance",NR="@firebase/performance-compat",UR="@firebase/remote-config",FR="@firebase/remote-config-compat",VR="@firebase/storage",BR="@firebase/storage-compat",GR="@firebase/firestore",zR="@firebase/vertexai-preview",HR="@firebase/firestore-compat",qR="firebase",WR="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ng="[DEFAULT]",YR={[Lg]:"fire-core",[_R]:"fire-core-compat",[xR]:"fire-analytics",[wR]:"fire-analytics-compat",[jR]:"fire-app-check",[SR]:"fire-app-check-compat",[ER]:"fire-auth",[TR]:"fire-auth-compat",[CR]:"fire-rtdb",[AR]:"fire-data-connect",[RR]:"fire-rtdb-compat",[OR]:"fire-fn",[IR]:"fire-fn-compat",[kR]:"fire-iid",[MR]:"fire-iid-compat",[PR]:"fire-fcm",[DR]:"fire-fcm-compat",[LR]:"fire-perf",[NR]:"fire-perf-compat",[UR]:"fire-rc",[FR]:"fire-rc-compat",[VR]:"fire-gcs",[BR]:"fire-gcs-compat",[GR]:"fire-fst",[HR]:"fire-fst-compat",[zR]:"fire-vertex","fire-js":"fire-js",[qR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kc=new Map,XR=new Map,Ug=new Map;function c_(s,r){try{s.container.addComponent(r)}catch(n){Uo.debug(`Component ${r.name} failed to register with FirebaseApp ${s.name}`,n)}}function Oi(s){const r=s.name;if(Ug.has(r))return Uo.debug(`There were multiple attempts to register component ${r}.`),!1;Ug.set(r,s);for(const n of Kc.values())c_(n,s);for(const n of XR.values())c_(n,s);return!0}function Oa(s,r){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(r)}function ci(s){return s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Sa=new Al("app","Firebase",$R);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(r,n,t){this._isDeleted=!1,this._options=Object.assign({},r),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=t,this.container.addComponent(new hi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(r){this.checkDestroyed(),this._automaticDataCollectionEnabled=r}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(r){this._isDeleted=r}checkDestroyed(){if(this.isDeleted)throw Sa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rl=WR;function Gx(s,r={}){let n=s;typeof r!="object"&&(r={name:r});const t=Object.assign({name:Ng,automaticDataCollectionEnabled:!1},r),o=t.name;if(typeof o!="string"||!o)throw Sa.create("bad-app-name",{appName:String(o)});if(n||(n=Dx()),!n)throw Sa.create("no-options");const c=Kc.get(o);if(c){if($c(n,c.options)&&$c(t,c.config))return c;throw Sa.create("duplicate-app",{appName:o})}const l=new nR(o);for(const a of Ug.values())l.addComponent(a);const h=new KR(n,t,l);return Kc.set(o,h),h}function hd(s=Ng){const r=Kc.get(s);if(!r&&s===Ng&&Dx())return Gx();if(!r)throw Sa.create("no-app",{appName:s});return r}function QR(){return Array.from(Kc.values())}function Ts(s,r,n){var t;let o=(t=YR[s])!==null&&t!==void 0?t:s;n&&(o+=`-${n}`);const c=o.match(/\s|\//),l=r.match(/\s|\//);if(c||l){const h=[`Unable to register library "${o}" with version "${r}":`];c&&h.push(`library name "${o}" contains illegal characters (whitespace or "/")`),c&&l&&h.push("and"),l&&h.push(`version name "${r}" contains illegal characters (whitespace or "/")`),Uo.warn(h.join(" "));return}Oi(new hi(`${o}-version`,()=>({library:o,version:r}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR="firebase-heartbeat-database",JR=1,Qc="firebase-heartbeat-store";let sg=null;function zx(){return sg||(sg=Bx(ZR,JR,{upgrade:(s,r)=>{switch(r){case 0:try{s.createObjectStore(Qc)}catch(n){console.warn(n)}}}}).catch(s=>{throw Sa.create("idb-open",{originalErrorMessage:s.message})})),sg}async function eO(s){try{const n=(await zx()).transaction(Qc),t=await n.objectStore(Qc).get(Hx(s));return await n.done,t}catch(r){if(r instanceof pi)Uo.warn(r.message);else{const n=Sa.create("idb-get",{originalErrorMessage:r==null?void 0:r.message});Uo.warn(n.message)}}}async function d_(s,r){try{const t=(await zx()).transaction(Qc,"readwrite");await t.objectStore(Qc).put(r,Hx(s)),await t.done}catch(n){if(n instanceof pi)Uo.warn(n.message);else{const t=Sa.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Uo.warn(t.message)}}}function Hx(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tO=1024,rO=30*24*60*60*1e3;class nO{constructor(r){this.container=r,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new iO(n),this._heartbeatsCachePromise=this._storage.read().then(t=>(this._heartbeatsCache=t,t))}async triggerHeartbeat(){var r,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=h_();return((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(l=>l.date===c)?void 0:(this._heartbeatsCache.heartbeats.push({date:c,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(l=>{const h=new Date(l.date).valueOf();return Date.now()-h<=rO}),this._storage.overwrite(this._heartbeatsCache))}catch(t){Uo.warn(t)}}async getHeartbeatsHeader(){var r;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=h_(),{heartbeatsToSend:t,unsentEntries:o}=sO(this._heartbeatsCache.heartbeats),c=rf(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return Uo.warn(n),""}}}function h_(){return new Date().toISOString().substring(0,10)}function sO(s,r=tO){const n=[];let t=s.slice();for(const o of s){const c=n.find(l=>l.agent===o.agent);if(c){if(c.dates.push(o.date),f_(n)>r){c.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),f_(n)>r){n.pop();break}t=t.slice(1)}return{heartbeatsToSend:n,unsentEntries:t}}class iO{constructor(r){this.app=r,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return xy()?Sy().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await eO(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(r){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return d_(this.app,{lastSentHeartbeatDate:(n=r.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:r.heartbeats})}else return}async add(r){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return d_(this.app,{lastSentHeartbeatDate:(n=r.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...r.heartbeats]})}else return}}function f_(s){return rf(JSON.stringify({version:2,heartbeats:s})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oO(s){Oi(new hi("platform-logger",r=>new vR(r),"PRIVATE")),Oi(new hi("heartbeat",r=>new nO(r),"PRIVATE")),Ts(Lg,u_,s),Ts(Lg,u_,"esm2017"),Ts("fire-js","")}oO("");function Ey(s,r){var n={};for(var t in s)Object.prototype.hasOwnProperty.call(s,t)&&r.indexOf(t)<0&&(n[t]=s[t]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(s);o<t.length;o++)r.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(s,t[o])&&(n[t[o]]=s[t[o]]);return n}function qx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const aO=qx,Wx=new Al("auth","Firebase",qx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nf=new Pf("@firebase/auth");function lO(s,...r){nf.logLevel<=cr.WARN&&nf.warn(`Auth (${Rl}): ${s}`,...r)}function Vh(s,...r){nf.logLevel<=cr.ERROR&&nf.error(`Auth (${Rl}): ${s}`,...r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Is(s,...r){throw Cy(s,...r)}function Cs(s,...r){return Cy(s,...r)}function Ty(s,r,n){const t=Object.assign(Object.assign({},aO()),{[r]:n});return new Al("auth","Firebase",t).create(r,{appName:s.name})}function Qi(s){return Ty(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function uO(s,r,n){const t=n;if(!(r instanceof t))throw t.name!==r.constructor.name&&Is(s,"argument-error"),Ty(s,"argument-error",`Type of ${r.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Cy(s,...r){if(typeof s!="string"){const n=r[0],t=[...r.slice(1)];return t[0]&&(t[0].appName=s.name),s._errorFactory.create(n,...t)}return Wx.create(s,...r)}function Et(s,r,...n){if(!s)throw Cy(r,...n)}function Ki(s){const r="INTERNAL ASSERTION FAILED: "+s;throw Vh(r),new Error(r)}function Fo(s,r){s||Ki(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fg(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.href)||""}function Yx(){return p_()==="http:"||p_()==="https:"}function p_(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Yx()||wy()||"connection"in navigator)?navigator.onLine:!0}function dO(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(r,n){this.shortDelay=r,this.longDelay=n,Fo(n>r,"Short delay should be less than long delay!"),this.isMobile=NA()||VA()}get(){return cO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ay(s,r){Fo(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return r?`${n}${r.startsWith("/")?r.slice(1):r}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{static initialize(r,n,t){this.fetchImpl=r,n&&(this.headersImpl=n),t&&(this.responseImpl=t)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ki("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ki("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ki("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fO=new fd(3e4,6e4);function zn(s,r){return s.tenantId&&!r.tenantId?Object.assign(Object.assign({},r),{tenantId:s.tenantId}):r}async function hs(s,r,n,t,o={}){return $x(s,o,async()=>{let c={},l={};t&&(r==="GET"?l=t:c={body:JSON.stringify(t)});const h=Iu(Object.assign({key:s.config.apiKey},l)).slice(1),a=await s._getAdditionalHeaders();a["Content-Type"]="application/json",s.languageCode&&(a["X-Firebase-Locale"]=s.languageCode);const d=Object.assign({method:r,headers:a},c);return FA()||(d.referrerPolicy="no-referrer"),Xx.fetch()(Kx(s,s.config.apiHost,n,h),d)})}async function $x(s,r,n){s._canInitEmulator=!1;const t=Object.assign(Object.assign({},hO),r);try{const o=new mO(s),c=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const l=await c.json();if("needConfirmation"in l)throw Pc(s,"account-exists-with-different-credential",l);if(c.ok&&!("errorMessage"in l))return l;{const h=c.ok?l.errorMessage:l.error.message,[a,d]=h.split(" : ");if(a==="FEDERATED_USER_ID_ALREADY_LINKED")throw Pc(s,"credential-already-in-use",l);if(a==="EMAIL_EXISTS")throw Pc(s,"email-already-in-use",l);if(a==="USER_DISABLED")throw Pc(s,"user-disabled",l);const _=t[a]||a.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw Ty(s,_,d);Is(s,_)}}catch(o){if(o instanceof pi)throw o;Is(s,"network-request-failed",{message:String(o)})}}async function Ia(s,r,n,t,o={}){const c=await hs(s,r,n,t,o);return"mfaPendingCredential"in c&&Is(s,"multi-factor-auth-required",{_serverResponse:c}),c}function Kx(s,r,n,t){const o=`${r}${n}?${t}`;return s.config.emulator?Ay(s.config,o):`${s.config.apiScheme}://${o}`}function pO(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class mO{constructor(r){this.auth=r,this.timer=null,this.promise=new Promise((n,t)=>{this.timer=setTimeout(()=>t(Cs(this.auth,"network-request-failed")),fO.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Pc(s,r,n){const t={appName:s.name};n.email&&(t.email=n.email),n.phoneNumber&&(t.phoneNumber=n.phoneNumber);const o=Cs(s,r,t);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m_(s){return s!==void 0&&s.getResponse!==void 0}function g_(s){return s!==void 0&&s.enterprise!==void 0}class gO{constructor(r){if(this.siteKey="",this.recaptchaEnforcementState=[],r.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=r.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=r.recaptchaEnforcementState}getProviderEnforcementState(r){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===r)return pO(n.enforcementState);return null}isProviderEnabled(r){return this.getProviderEnforcementState(r)==="ENFORCE"||this.getProviderEnforcementState(r)==="AUDIT"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yO(s){return(await hs(s,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function vO(s,r){return hs(s,"GET","/v2/recaptchaConfig",zn(s,r))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bO(s,r){return hs(s,"POST","/v1/accounts:delete",r)}async function Qx(s,r){return hs(s,"POST","/v1/accounts:lookup",r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vc(s){if(s)try{const r=new Date(Number(s));if(!isNaN(r.getTime()))return r.toUTCString()}catch{}}async function _O(s,r=!1){const n=qr(s),t=await n.getIdToken(r),o=Ry(t);Et(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,l=c==null?void 0:c.sign_in_provider;return{claims:o,token:t,authTime:Vc(ig(o.auth_time)),issuedAtTime:Vc(ig(o.iat)),expirationTime:Vc(ig(o.exp)),signInProvider:l||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function ig(s){return Number(s)*1e3}function Ry(s){const[r,n,t]=s.split(".");if(r===void 0||n===void 0||t===void 0)return Vh("JWT malformed, contained fewer than 3 sections"),null;try{const o=kx(n);return o?JSON.parse(o):(Vh("Failed to decode base64 JWT payload"),null)}catch(o){return Vh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function y_(s){const r=Ry(s);return Et(r,"internal-error"),Et(typeof r.exp<"u","internal-error"),Et(typeof r.iat<"u","internal-error"),Number(r.exp)-Number(r.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pl(s,r,n=!1){if(n)return r;try{return await r}catch(t){throw t instanceof pi&&wO(t)&&s.auth.currentUser===s&&await s.auth.signOut(),t}}function wO({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(r){this.user=r,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(r){var n;if(r){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(r=!1){if(!this.isRunning)return;const n=this.getInterval(r);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(r){(r==null?void 0:r.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(r,n){this.createdAt=r,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vc(this.lastLoginAt),this.creationTime=Vc(this.createdAt)}_copy(r){this.createdAt=r.createdAt,this.lastLoginAt=r.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sf(s){var r;const n=s.auth,t=await s.getIdToken(),o=await pl(s,Qx(n,{idToken:t}));Et(o==null?void 0:o.users.length,n,"internal-error");const c=o.users[0];s._notifyReloadListener(c);const l=!((r=c.providerUserInfo)===null||r===void 0)&&r.length?Zx(c.providerUserInfo):[],h=jO(s.providerData,l),a=s.isAnonymous,d=!(s.email&&c.passwordHash)&&!(h!=null&&h.length),_=a?d:!1,w={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:h,metadata:new Vg(c.createdAt,c.lastLoginAt),isAnonymous:_};Object.assign(s,w)}async function SO(s){const r=qr(s);await sf(r),await r.auth._persistUserIfCurrent(r),r.auth._notifyListenersIfCurrent(r)}function jO(s,r){return[...s.filter(t=>!r.some(o=>o.providerId===t.providerId)),...r]}function Zx(s){return s.map(r=>{var{providerId:n}=r,t=Ey(r,["providerId"]);return{providerId:n,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EO(s,r){const n=await $x(s,{},async()=>{const t=Iu({grant_type:"refresh_token",refresh_token:r}).slice(1),{tokenApiHost:o,apiKey:c}=s.config,l=Kx(s,o,"/v1/token",`key=${c}`),h=await s._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",Xx.fetch()(l,{method:"POST",headers:h,body:t})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function TO(s,r){return hs(s,"POST","/v2/accounts:revokeToken",zn(s,r))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(r){Et(r.idToken,"internal-error"),Et(typeof r.idToken<"u","internal-error"),Et(typeof r.refreshToken<"u","internal-error");const n="expiresIn"in r&&typeof r.expiresIn<"u"?Number(r.expiresIn):y_(r.idToken);this.updateTokensAndExpiration(r.idToken,r.refreshToken,n)}updateFromIdToken(r){Et(r.length!==0,"internal-error");const n=y_(r);this.updateTokensAndExpiration(r,null,n)}async getToken(r,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Et(this.refreshToken,r,"user-token-expired"),this.refreshToken?(await this.refresh(r,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(r,n){const{accessToken:t,refreshToken:o,expiresIn:c}=await EO(r,n);this.updateTokensAndExpiration(t,o,Number(c))}updateTokensAndExpiration(r,n,t){this.refreshToken=n||null,this.accessToken=r||null,this.expirationTime=Date.now()+t*1e3}static fromJSON(r,n){const{refreshToken:t,accessToken:o,expirationTime:c}=n,l=new gu;return t&&(Et(typeof t=="string","internal-error",{appName:r}),l.refreshToken=t),o&&(Et(typeof o=="string","internal-error",{appName:r}),l.accessToken=o),c&&(Et(typeof c=="number","internal-error",{appName:r}),l.expirationTime=c),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(r){this.accessToken=r.accessToken,this.refreshToken=r.refreshToken,this.expirationTime=r.expirationTime}_clone(){return Object.assign(new gu,this.toJSON())}_performRefresh(){return Ki("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ya(s,r){Et(typeof s=="string"||typeof s>"u","internal-error",{appName:r})}class Mo{constructor(r){var{uid:n,auth:t,stsTokenManager:o}=r,c=Ey(r,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new xO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=t,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new Vg(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(r){const n=await pl(this,this.stsTokenManager.getToken(this.auth,r));return Et(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(r){return _O(this,r)}reload(){return SO(this)}_assign(r){this!==r&&(Et(this.uid===r.uid,this.auth,"internal-error"),this.displayName=r.displayName,this.photoURL=r.photoURL,this.email=r.email,this.emailVerified=r.emailVerified,this.phoneNumber=r.phoneNumber,this.isAnonymous=r.isAnonymous,this.tenantId=r.tenantId,this.providerData=r.providerData.map(n=>Object.assign({},n)),this.metadata._copy(r.metadata),this.stsTokenManager._assign(r.stsTokenManager))}_clone(r){const n=new Mo(Object.assign(Object.assign({},this),{auth:r,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(r){Et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=r,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(r){this.reloadListener?this.reloadListener(r):this.reloadUserInfo=r}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(r,n=!1){let t=!1;r.idToken&&r.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(r),t=!0),n&&await sf(this),await this.auth._persistUserIfCurrent(this),t&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ci(this.auth.app))return Promise.reject(Qi(this.auth));const r=await this.getIdToken();return await pl(this,bO(this.auth,{idToken:r})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(r=>Object.assign({},r)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(r,n){var t,o,c,l,h,a,d,_;const w=(t=n.displayName)!==null&&t!==void 0?t:void 0,f=(o=n.email)!==null&&o!==void 0?o:void 0,p=(c=n.phoneNumber)!==null&&c!==void 0?c:void 0,b=(l=n.photoURL)!==null&&l!==void 0?l:void 0,y=(h=n.tenantId)!==null&&h!==void 0?h:void 0,m=(a=n._redirectEventId)!==null&&a!==void 0?a:void 0,g=(d=n.createdAt)!==null&&d!==void 0?d:void 0,v=(_=n.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:S,emailVerified:j,isAnonymous:A,providerData:L,stsTokenManager:C}=n;Et(S&&C,r,"internal-error");const T=gu.fromJSON(this.name,C);Et(typeof S=="string",r,"internal-error"),ya(w,r.name),ya(f,r.name),Et(typeof j=="boolean",r,"internal-error"),Et(typeof A=="boolean",r,"internal-error"),ya(p,r.name),ya(b,r.name),ya(y,r.name),ya(m,r.name),ya(g,r.name),ya(v,r.name);const R=new Mo({uid:S,auth:r,email:f,emailVerified:j,displayName:w,isAnonymous:A,photoURL:b,phoneNumber:p,tenantId:y,stsTokenManager:T,createdAt:g,lastLoginAt:v});return L&&Array.isArray(L)&&(R.providerData=L.map(D=>Object.assign({},D))),m&&(R._redirectEventId=m),R}static async _fromIdTokenResponse(r,n,t=!1){const o=new gu;o.updateFromServerResponse(n);const c=new Mo({uid:n.localId,auth:r,stsTokenManager:o,isAnonymous:t});return await sf(c),c}static async _fromGetAccountInfoResponse(r,n,t){const o=n.users[0];Et(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?Zx(o.providerUserInfo):[],l=!(o.email&&o.passwordHash)&&!(c!=null&&c.length),h=new gu;h.updateFromIdToken(t);const a=new Mo({uid:o.localId,auth:r,stsTokenManager:h,isAnonymous:l}),d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Vg(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(c!=null&&c.length)};return Object.assign(a,d),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_=new Map;function Po(s){Fo(s instanceof Function,"Expected a class definition");let r=v_.get(s);return r?(Fo(r instanceof s,"Instance stored in cache mismatched with class"),r):(r=new s,v_.set(s,r),r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(r,n){this.storage[r]=n}async _get(r){const n=this.storage[r];return n===void 0?null:n}async _remove(r){delete this.storage[r]}_addListener(r,n){}_removeListener(r,n){}}Jx.type="NONE";const b_=Jx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bh(s,r,n){return`firebase:${s}:${r}:${n}`}class yu{constructor(r,n,t){this.persistence=r,this.auth=n,this.userKey=t;const{config:o,name:c}=this.auth;this.fullUserKey=Bh(this.userKey,o.apiKey,c),this.fullPersistenceKey=Bh("persistence",o.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(r){return this.persistence._set(this.fullUserKey,r.toJSON())}async getCurrentUser(){const r=await this.persistence._get(this.fullUserKey);return r?Mo._fromJSON(this.auth,r):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(r){if(this.persistence===r)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=r,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(r,n,t="authUser"){if(!n.length)return new yu(Po(b_),r,t);const o=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let c=o[0]||Po(b_);const l=Bh(t,r.config.apiKey,r.name);let h=null;for(const d of n)try{const _=await d._get(l);if(_){const w=Mo._fromJSON(r,_);d!==c&&(h=w),c=d;break}}catch{}const a=o.filter(d=>d._shouldAllowMigration);return!c._shouldAllowMigration||!a.length?new yu(c,r,t):(c=a[0],h&&await c._set(l,h.toJSON()),await Promise.all(n.map(async d=>{if(d!==c)try{await d._remove(l)}catch{}})),new yu(c,r,t))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __(s){const r=s.toLowerCase();if(r.includes("opera/")||r.includes("opr/")||r.includes("opios/"))return"Opera";if(n2(r))return"IEMobile";if(r.includes("msie")||r.includes("trident/"))return"IE";if(r.includes("edge/"))return"Edge";if(e2(r))return"Firefox";if(r.includes("silk/"))return"Silk";if(i2(r))return"Blackberry";if(o2(r))return"Webos";if(t2(r))return"Safari";if((r.includes("chrome/")||r2(r))&&!r.includes("edge/"))return"Chrome";if(s2(r))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,t=s.match(n);if((t==null?void 0:t.length)===2)return t[1]}return"Other"}function e2(s=ds()){return/firefox\//i.test(s)}function t2(s=ds()){const r=s.toLowerCase();return r.includes("safari/")&&!r.includes("chrome/")&&!r.includes("crios/")&&!r.includes("android")}function r2(s=ds()){return/crios\//i.test(s)}function n2(s=ds()){return/iemobile/i.test(s)}function s2(s=ds()){return/android/i.test(s)}function i2(s=ds()){return/blackberry/i.test(s)}function o2(s=ds()){return/webos/i.test(s)}function Oy(s=ds()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function CO(s=ds()){var r;return Oy(s)&&!!(!((r=window.navigator)===null||r===void 0)&&r.standalone)}function AO(){return BA()&&document.documentMode===10}function a2(s=ds()){return Oy(s)||s2(s)||o2(s)||i2(s)||/windows phone/i.test(s)||n2(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l2(s,r=[]){let n;switch(s){case"Browser":n=__(ds());break;case"Worker":n=`${__(ds())}-${s}`;break;default:n=s}const t=r.length?r.join(","):"FirebaseCore-web";return`${n}/JsCore/${Rl}/${t}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(r){this.auth=r,this.queue=[]}pushCallback(r,n){const t=c=>new Promise((l,h)=>{try{const a=r(c);l(a)}catch(a){h(a)}});t.onAbort=n,this.queue.push(t);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(r){if(this.auth.currentUser===r)return;const n=[];try{for(const t of this.queue)await t(r),t.onAbort&&n.push(t.onAbort)}catch(t){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:t==null?void 0:t.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OO(s,r={}){return hs(s,"GET","/v2/passwordPolicy",zn(s,r))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IO=6;class kO{constructor(r){var n,t,o,c;const l=r.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=l.minPasswordLength)!==null&&n!==void 0?n:IO,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=r.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(t=r.allowedNonAlphanumericCharacters)===null||t===void 0?void 0:t.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(c=r.forceUpgradeOnSignin)!==null&&c!==void 0?c:!1,this.schemaVersion=r.schemaVersion}validatePassword(r){var n,t,o,c,l,h;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(r,a),this.validatePasswordCharacterOptions(r,a),a.isValid&&(a.isValid=(n=a.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),a.isValid&&(a.isValid=(t=a.meetsMaxPasswordLength)!==null&&t!==void 0?t:!0),a.isValid&&(a.isValid=(o=a.containsLowercaseLetter)!==null&&o!==void 0?o:!0),a.isValid&&(a.isValid=(c=a.containsUppercaseLetter)!==null&&c!==void 0?c:!0),a.isValid&&(a.isValid=(l=a.containsNumericCharacter)!==null&&l!==void 0?l:!0),a.isValid&&(a.isValid=(h=a.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),a}validatePasswordLengthOptions(r,n){const t=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;t&&(n.meetsMinPasswordLength=r.length>=t),o&&(n.meetsMaxPasswordLength=r.length<=o)}validatePasswordCharacterOptions(r,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let t;for(let o=0;o<r.length;o++)t=r.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,t>="a"&&t<="z",t>="A"&&t<="Z",t>="0"&&t<="9",this.allowedNonAlphanumericCharacters.includes(t))}updatePasswordCharacterOptionsStatuses(r,n,t,o,c){this.customStrengthOptions.containsLowercaseLetter&&(r.containsLowercaseLetter||(r.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(r.containsUppercaseLetter||(r.containsUppercaseLetter=t)),this.customStrengthOptions.containsNumericCharacter&&(r.containsNumericCharacter||(r.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(r.containsNonAlphanumericCharacter||(r.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(r,n,t,o){this.app=r,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=t,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new w_(this),this.idTokenSubscription=new w_(this),this.beforeStateQueue=new RO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Wx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=r.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(r,n){return n&&(this._popupRedirectResolver=Po(n)),this._initializationPromise=this.queue(async()=>{var t,o;if(!this._deleted&&(this.persistenceManager=await yu.create(this,r),!this._deleted)){if(!((t=this._popupRedirectResolver)===null||t===void 0)&&t._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const r=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!r)){if(this.currentUser&&r&&this.currentUser.uid===r.uid){this._currentUser._assign(r),await this.currentUser.getIdToken();return}await this._updateCurrentUser(r,!0)}}async initializeCurrentUserFromIdToken(r){try{const n=await Qx(this,{idToken:r}),t=await Mo._fromGetAccountInfoResponse(this,n,r);await this.directlySetCurrentUser(t)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(r){var n;if(ci(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(h,h))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let o=t,c=!1;if(r&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,h=o==null?void 0:o._redirectEventId,a=await this.tryRedirectSignIn(r);(!l||l===h)&&(a!=null&&a.user)&&(o=a.user,c=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(o)}catch(l){o=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Et(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(r){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,r,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(r){try{await sf(r)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(r)}useDeviceLanguage(){this.languageCode=dO()}async _delete(){this._deleted=!0}async updateCurrentUser(r){if(ci(this.app))return Promise.reject(Qi(this));const n=r?qr(r):null;return n&&Et(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(r,n=!1){if(!this._deleted)return r&&Et(this.tenantId===r.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(r),this.queue(async()=>{await this.directlySetCurrentUser(r),this.notifyAuthListeners()})}async signOut(){return ci(this.app)?Promise.reject(Qi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(r){return ci(this.app)?Promise.reject(Qi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Po(r))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(r){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(r)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const r=await OO(this),n=new kO(r);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(r){this._errorFactory=new Al("auth","Firebase",r())}onAuthStateChanged(r,n,t){return this.registerStateListener(this.authStateSubscription,r,n,t)}beforeAuthStateChanged(r,n){return this.beforeStateQueue.pushCallback(r,n)}onIdTokenChanged(r,n,t){return this.registerStateListener(this.idTokenSubscription,r,n,t)}authStateReady(){return new Promise((r,n)=>{if(this.currentUser)r();else{const t=this.onAuthStateChanged(()=>{t(),r()},n)}})}async revokeAccessToken(r){if(this.currentUser){const n=await this.currentUser.getIdToken(),t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:r,idToken:n};this.tenantId!=null&&(t.tenantId=this.tenantId),await TO(this,t)}}toJSON(){var r;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(r=this._currentUser)===null||r===void 0?void 0:r.toJSON()}}async _setRedirectUser(r,n){const t=await this.getOrInitRedirectPersistenceManager(n);return r===null?t.removeCurrentUser():t.setCurrentUser(r)}async getOrInitRedirectPersistenceManager(r){if(!this.redirectPersistenceManager){const n=r&&Po(r)||this._popupRedirectResolver;Et(n,this,"argument-error"),this.redirectPersistenceManager=await yu.create(this,[Po(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(r){var n,t;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===r?this._currentUser:((t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId)===r?this.redirectUser:null}async _persistUserIfCurrent(r){if(r===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(r))}_notifyListenersIfCurrent(r){r===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var r,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=(n=(r=this.currentUser)===null||r===void 0?void 0:r.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(r,n,t,o){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let l=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Et(h,this,"internal-error"),h.then(()=>{l||c(this.currentUser)}),typeof n=="function"){const a=r.addObserver(n,t,o);return()=>{l=!0,a()}}else{const a=r.addObserver(n);return()=>{l=!0,a()}}}async directlySetCurrentUser(r){this.currentUser&&this.currentUser!==r&&this._currentUser._stopProactiveRefresh(),r&&this.isProactiveRefreshEnabled&&r._startProactiveRefresh(),this.currentUser=r,r?await this.assertedPersistence.setCurrentUser(r):await this.assertedPersistence.removeCurrentUser()}queue(r){return this.operations=this.operations.then(r,r),this.operations}get assertedPersistence(){return Et(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(r){!r||this.frameworks.includes(r)||(this.frameworks.push(r),this.frameworks.sort(),this.clientVersion=l2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var r;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const t=await((r=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||r===void 0?void 0:r.getHeartbeatsHeader());t&&(n["X-Firebase-Client"]=t);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var r;const n=await((r=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||r===void 0?void 0:r.getToken());return n!=null&&n.error&&lO(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ws(s){return qr(s)}class w_{constructor(r){this.auth=r,this.observer=null,this.addObserver=YA(n=>this.observer=n)}get next(){return Et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function PO(s){pd=s}function Iy(s){return pd.loadJS(s)}function DO(){return pd.recaptchaV2Script}function LO(){return pd.recaptchaEnterpriseScript}function NO(){return pd.gapiScript}function u2(s){return`__${s}${Math.floor(Math.random()*1e6)}`}const UO="recaptcha-enterprise",FO="NO_RECAPTCHA";class VO{constructor(r){this.type=UO,this.auth=Ws(r)}async verify(r="verify",n=!1){async function t(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(l,h)=>{vO(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(a=>{if(a.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const d=new gO(a);return c.tenantId==null?c._agentRecaptchaConfig=d:c._tenantRecaptchaConfigs[c.tenantId]=d,l(d.siteKey)}}).catch(a=>{h(a)})})}function o(c,l,h){const a=window.grecaptcha;g_(a)?a.enterprise.ready(()=>{a.enterprise.execute(c,{action:r}).then(d=>{l(d)}).catch(()=>{l(FO)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((c,l)=>{t(this.auth).then(h=>{if(!n&&g_(window.grecaptcha))o(h,c,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let a=LO();a.length!==0&&(a+=h),Iy(a).then(()=>{o(h,c,l)}).catch(d=>{l(d)})}}).catch(h=>{l(h)})})}}async function x_(s,r,n,t=!1){const o=new VO(s);let c;try{c=await o.verify(n)}catch{c=await o.verify(n,!0)}const l=Object.assign({},r);return t?Object.assign(l,{captchaResp:c}):Object.assign(l,{captchaResponse:c}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function of(s,r,n,t){var o;if(!((o=s._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await x_(s,r,n,n==="getOobCode");return t(s,c)}else return t(s,r).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await x_(s,r,n,n==="getOobCode");return t(s,l)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BO(s,r){const n=Oa(s,"auth");if(n.isInitialized()){const o=n.getImmediate(),c=n.getOptions();if($c(c,r??{}))return o;Is(o,"already-initialized")}return n.initialize({options:r})}function GO(s,r){const n=(r==null?void 0:r.persistence)||[],t=(Array.isArray(n)?n:[n]).map(Po);r!=null&&r.errorMap&&s._updateErrorMap(r.errorMap),s._initializeWithPersistence(t,r==null?void 0:r.popupRedirectResolver)}function zO(s,r,n){const t=Ws(s);Et(t._canInitEmulator,t,"emulator-config-failed"),Et(/^https?:\/\//.test(r),t,"invalid-emulator-scheme");const o=!1,c=c2(r),{host:l,port:h}=HO(r),a=h===null?"":`:${h}`;t.config.emulator={url:`${c}//${l}${a}/`},t.settings.appVerificationDisabledForTesting=!0,t.emulatorConfig=Object.freeze({host:l,port:h,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})}),qO()}function c2(s){const r=s.indexOf(":");return r<0?"":s.substr(0,r+1)}function HO(s){const r=c2(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(r.length));if(!n)return{host:"",port:null};const t=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(t);if(o){const c=o[1];return{host:c,port:S_(t.substr(c.length+1))}}else{const[c,l]=t.split(":");return{host:c,port:S_(l)}}}function S_(s){if(!s)return null;const r=Number(s);return isNaN(r)?null:r}function qO(){function s(){const r=document.createElement("p"),n=r.style;r.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",r.classList.add("firebase-emulator-warning"),document.body.appendChild(r)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(r,n){this.providerId=r,this.signInMethod=n}toJSON(){return Ki("not implemented")}_getIdTokenResponse(r){return Ki("not implemented")}_linkToIdToken(r,n){return Ki("not implemented")}_getReauthenticationResolver(r){return Ki("not implemented")}}async function WO(s,r){return hs(s,"POST","/v1/accounts:signUp",r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YO(s,r){return Ia(s,"POST","/v1/accounts:signInWithPassword",zn(s,r))}async function d2(s,r){return hs(s,"POST","/v1/accounts:sendOobCode",zn(s,r))}async function XO(s,r){return d2(s,r)}async function $O(s,r){return d2(s,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KO(s,r){return Ia(s,"POST","/v1/accounts:signInWithEmailLink",zn(s,r))}async function QO(s,r){return Ia(s,"POST","/v1/accounts:signInWithEmailLink",zn(s,r))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc extends Df{constructor(r,n,t,o=null){super("password",t),this._email=r,this._password=n,this._tenantId=o}static _fromEmailAndPassword(r,n){return new Zc(r,n,"password")}static _fromEmailAndCode(r,n,t=null){return new Zc(r,n,"emailLink",t)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(r){const n=typeof r=="string"?JSON.parse(r):r;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(r){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return of(r,n,"signInWithPassword",YO);case"emailLink":return KO(r,{email:this._email,oobCode:this._password});default:Is(r,"internal-error")}}async _linkToIdToken(r,n){switch(this.signInMethod){case"password":const t={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return of(r,t,"signUpPassword",WO);case"emailLink":return QO(r,{idToken:n,email:this._email,oobCode:this._password});default:Is(r,"internal-error")}}_getReauthenticationResolver(r){return this._getIdTokenResponse(r)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vu(s,r){return Ia(s,"POST","/v1/accounts:signInWithIdp",zn(s,r))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZO="http://localhost";class Vo extends Df{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(r){const n=new Vo(r.providerId,r.signInMethod);return r.idToken||r.accessToken?(r.idToken&&(n.idToken=r.idToken),r.accessToken&&(n.accessToken=r.accessToken),r.nonce&&!r.pendingToken&&(n.nonce=r.nonce),r.pendingToken&&(n.pendingToken=r.pendingToken)):r.oauthToken&&r.oauthTokenSecret?(n.accessToken=r.oauthToken,n.secret=r.oauthTokenSecret):Is("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(r){const n=typeof r=="string"?JSON.parse(r):r,{providerId:t,signInMethod:o}=n,c=Ey(n,["providerId","signInMethod"]);if(!t||!o)return null;const l=new Vo(t,o);return l.idToken=c.idToken||void 0,l.accessToken=c.accessToken||void 0,l.secret=c.secret,l.nonce=c.nonce,l.pendingToken=c.pendingToken||null,l}_getIdTokenResponse(r){const n=this.buildRequest();return vu(r,n)}_linkToIdToken(r,n){const t=this.buildRequest();return t.idToken=n,vu(r,t)}_getReauthenticationResolver(r){const n=this.buildRequest();return n.autoCreate=!1,vu(r,n)}buildRequest(){const r={requestUri:ZO,returnSecureToken:!0};if(this.pendingToken)r.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),r.postBody=Iu(n)}return r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JO(s,r){return hs(s,"POST","/v1/accounts:sendVerificationCode",zn(s,r))}async function eI(s,r){return Ia(s,"POST","/v1/accounts:signInWithPhoneNumber",zn(s,r))}async function tI(s,r){const n=await Ia(s,"POST","/v1/accounts:signInWithPhoneNumber",zn(s,r));if(n.temporaryProof)throw Pc(s,"account-exists-with-different-credential",n);return n}const rI={USER_NOT_FOUND:"user-not-found"};async function nI(s,r){const n=Object.assign(Object.assign({},r),{operation:"REAUTH"});return Ia(s,"POST","/v1/accounts:signInWithPhoneNumber",zn(s,n),rI)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl extends Df{constructor(r){super("phone","phone"),this.params=r}static _fromVerification(r,n){return new dl({verificationId:r,verificationCode:n})}static _fromTokenResponse(r,n){return new dl({phoneNumber:r,temporaryProof:n})}_getIdTokenResponse(r){return eI(r,this._makeVerificationRequest())}_linkToIdToken(r,n){return tI(r,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(r){return nI(r,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:r,phoneNumber:n,verificationId:t,verificationCode:o}=this.params;return r&&n?{temporaryProof:r,phoneNumber:n}:{sessionInfo:t,code:o}}toJSON(){const r={providerId:this.providerId};return this.params.phoneNumber&&(r.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(r.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(r.verificationCode=this.params.verificationCode),this.params.verificationId&&(r.verificationId=this.params.verificationId),r}static fromJSON(r){typeof r=="string"&&(r=JSON.parse(r));const{verificationId:n,verificationCode:t,phoneNumber:o,temporaryProof:c}=r;return!t&&!n&&!o&&!c?null:new dl({verificationId:n,verificationCode:t,phoneNumber:o,temporaryProof:c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sI(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function iI(s){const r=kc(Mc(s)).link,n=r?kc(Mc(r)).deep_link_id:null,t=kc(Mc(s)).deep_link_id;return(t?kc(Mc(t)).link:null)||t||n||r||s}class ky{constructor(r){var n,t,o,c,l,h;const a=kc(Mc(r)),d=(n=a.apiKey)!==null&&n!==void 0?n:null,_=(t=a.oobCode)!==null&&t!==void 0?t:null,w=sI((o=a.mode)!==null&&o!==void 0?o:null);Et(d&&_&&w,"argument-error"),this.apiKey=d,this.operation=w,this.code=_,this.continueUrl=(c=a.continueUrl)!==null&&c!==void 0?c:null,this.languageCode=(l=a.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(h=a.tenantId)!==null&&h!==void 0?h:null}static parseLink(r){const n=iI(r);try{return new ky(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(){this.providerId=ku.PROVIDER_ID}static credential(r,n){return Zc._fromEmailAndPassword(r,n)}static credentialWithLink(r,n){const t=ky.parseLink(n);return Et(t,"argument-error"),Zc._fromEmailAndCode(r,t.code,t.tenantId)}}ku.PROVIDER_ID="password";ku.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ku.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My{constructor(r){this.providerId=r,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(r){this.defaultLanguageCode=r}setCustomParameters(r){return this.customParameters=r,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu extends My{constructor(){super(...arguments),this.scopes=[]}addScope(r){return this.scopes.includes(r)||this.scopes.push(r),this}getScopes(){return[...this.scopes]}}class Do extends Mu{static credentialFromJSON(r){const n=typeof r=="string"?JSON.parse(r):r;return Et("providerId"in n&&"signInMethod"in n,"argument-error"),Vo._fromParams(n)}credential(r){return this._credential(Object.assign(Object.assign({},r),{nonce:r.rawNonce}))}_credential(r){return Et(r.idToken||r.accessToken,"argument-error"),Vo._fromParams(Object.assign(Object.assign({},r),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(r){return Do.oauthCredentialFromTaggedObject(r)}static credentialFromError(r){return Do.oauthCredentialFromTaggedObject(r.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:r}){if(!r)return null;const{oauthIdToken:n,oauthAccessToken:t,oauthTokenSecret:o,pendingToken:c,nonce:l,providerId:h}=r;if(!t&&!o&&!n&&!c||!h)return null;try{return new Do(h)._credential({idToken:n,accessToken:t,nonce:l,pendingToken:c})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi extends Mu{constructor(){super("facebook.com")}static credential(r){return Vo._fromParams({providerId:Yi.PROVIDER_ID,signInMethod:Yi.FACEBOOK_SIGN_IN_METHOD,accessToken:r})}static credentialFromResult(r){return Yi.credentialFromTaggedObject(r)}static credentialFromError(r){return Yi.credentialFromTaggedObject(r.customData||{})}static credentialFromTaggedObject({_tokenResponse:r}){if(!r||!("oauthAccessToken"in r)||!r.oauthAccessToken)return null;try{return Yi.credential(r.oauthAccessToken)}catch{return null}}}Yi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Yi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi extends Mu{constructor(){super("google.com"),this.addScope("profile")}static credential(r,n){return Vo._fromParams({providerId:Xi.PROVIDER_ID,signInMethod:Xi.GOOGLE_SIGN_IN_METHOD,idToken:r,accessToken:n})}static credentialFromResult(r){return Xi.credentialFromTaggedObject(r)}static credentialFromError(r){return Xi.credentialFromTaggedObject(r.customData||{})}static credentialFromTaggedObject({_tokenResponse:r}){if(!r)return null;const{oauthIdToken:n,oauthAccessToken:t}=r;if(!n&&!t)return null;try{return Xi.credential(n,t)}catch{return null}}}Xi.GOOGLE_SIGN_IN_METHOD="google.com";Xi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i extends Mu{constructor(){super("github.com")}static credential(r){return Vo._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.GITHUB_SIGN_IN_METHOD,accessToken:r})}static credentialFromResult(r){return $i.credentialFromTaggedObject(r)}static credentialFromError(r){return $i.credentialFromTaggedObject(r.customData||{})}static credentialFromTaggedObject({_tokenResponse:r}){if(!r||!("oauthAccessToken"in r)||!r.oauthAccessToken)return null;try{return $i.credential(r.oauthAccessToken)}catch{return null}}}$i.GITHUB_SIGN_IN_METHOD="github.com";$i.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko extends Mu{constructor(){super("twitter.com")}static credential(r,n){return Vo._fromParams({providerId:ko.PROVIDER_ID,signInMethod:ko.TWITTER_SIGN_IN_METHOD,oauthToken:r,oauthTokenSecret:n})}static credentialFromResult(r){return ko.credentialFromTaggedObject(r)}static credentialFromError(r){return ko.credentialFromTaggedObject(r.customData||{})}static credentialFromTaggedObject({_tokenResponse:r}){if(!r)return null;const{oauthAccessToken:n,oauthTokenSecret:t}=r;if(!n||!t)return null;try{return ko.credential(n,t)}catch{return null}}}ko.TWITTER_SIGN_IN_METHOD="twitter.com";ko.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oI(s,r){return Ia(s,"POST","/v1/accounts:signUp",zn(s,r))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(r){this.user=r.user,this.providerId=r.providerId,this._tokenResponse=r._tokenResponse,this.operationType=r.operationType}static async _fromIdTokenResponse(r,n,t,o=!1){const c=await Mo._fromIdTokenResponse(r,t,o),l=j_(t);return new Bo({user:c,providerId:l,_tokenResponse:t,operationType:n})}static async _forOperation(r,n,t){await r._updateTokensIfNecessary(t,!0);const o=j_(t);return new Bo({user:r,providerId:o,_tokenResponse:t,operationType:n})}}function j_(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af extends pi{constructor(r,n,t,o){var c;super(n.code,n.message),this.operationType=t,this.user=o,Object.setPrototypeOf(this,af.prototype),this.customData={appName:r.name,tenantId:(c=r.tenantId)!==null&&c!==void 0?c:void 0,_serverResponse:n.customData._serverResponse,operationType:t}}static _fromErrorAndOperation(r,n,t,o){return new af(r,n,t,o)}}function h2(s,r,n,t){return(r==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?af._fromErrorAndOperation(s,c,r,t):c})}async function aI(s,r,n=!1){const t=await pl(s,r._linkToIdToken(s.auth,await s.getIdToken()),n);return Bo._forOperation(s,"link",t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lI(s,r,n=!1){const{auth:t}=s;if(ci(t.app))return Promise.reject(Qi(t));const o="reauthenticate";try{const c=await pl(s,h2(t,o,r,s),n);Et(c.idToken,t,"internal-error");const l=Ry(c.idToken);Et(l,t,"internal-error");const{sub:h}=l;return Et(s.uid===h,t,"user-mismatch"),Bo._forOperation(s,o,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&Is(t,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f2(s,r,n=!1){if(ci(s.app))return Promise.reject(Qi(s));const t="signIn",o=await h2(s,t,r),c=await Bo._fromIdTokenResponse(s,t,o);return n||await s._updateCurrentUser(c.user),c}async function p2(s,r){return f2(Ws(s),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(r,n){this.factorId=r,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(r,n){return"phoneInfo"in n?Py._fromServerResponse(r,n):"totpInfo"in n?Dy._fromServerResponse(r,n):Is(r,"internal-error")}}class Py extends Lf{constructor(r){super("phone",r),this.phoneNumber=r.phoneInfo}static _fromServerResponse(r,n){return new Py(n)}}class Dy extends Lf{constructor(r){super("totp",r)}static _fromServerResponse(r,n){return new Dy(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m2(s){const r=Ws(s);r._getPasswordPolicyInternal()&&await r._updatePasswordPolicy()}async function g2(s,r,n){const t=Ws(s);await of(t,{requestType:"PASSWORD_RESET",email:r,clientType:"CLIENT_TYPE_WEB"},"getOobCode",$O)}async function y2(s,r,n){if(ci(s.app))return Promise.reject(Qi(s));const t=Ws(s),l=await of(t,{returnSecureToken:!0,email:r,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",oI).catch(a=>{throw a.code==="auth/password-does-not-meet-requirements"&&m2(s),a}),h=await Bo._fromIdTokenResponse(t,"signIn",l);return await t._updateCurrentUser(h.user),h}function v2(s,r,n){return ci(s.app)?Promise.reject(Qi(s)):p2(qr(s),ku.credential(r,n)).catch(async t=>{throw t.code==="auth/password-does-not-meet-requirements"&&m2(s),t})}async function Ly(s,r){const n=qr(s),o={requestType:"VERIFY_EMAIL",idToken:await s.getIdToken()},{email:c}=await XO(n.auth,o);c!==s.email&&await s.reload()}function uI(s,r,n,t){return qr(s).onIdTokenChanged(r,n,t)}function cI(s,r,n){return qr(s).beforeAuthStateChanged(r,n)}function dI(s,r,n,t){return qr(s).onAuthStateChanged(r,n,t)}function b2(s){return qr(s).signOut()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(r,n,t){this.type=r,this.credential=n,this.user=t}static _fromIdtoken(r,n){return new al("enroll",r,n)}static _fromMfaPendingCredential(r){return new al("signin",r)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(r){var n,t;if(r!=null&&r.multiFactorSession){if(!((n=r.multiFactorSession)===null||n===void 0)&&n.pendingCredential)return al._fromMfaPendingCredential(r.multiFactorSession.pendingCredential);if(!((t=r.multiFactorSession)===null||t===void 0)&&t.idToken)return al._fromIdtoken(r.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{constructor(r,n,t){this.session=r,this.hints=n,this.signInResolver=t}static _fromError(r,n){const t=Ws(r),o=n.customData._serverResponse,c=(o.mfaInfo||[]).map(h=>Lf._fromServerResponse(t,h));Et(o.mfaPendingCredential,t,"internal-error");const l=al._fromMfaPendingCredential(o.mfaPendingCredential);return new Ny(l,c,async h=>{const a=await h._process(t,l);delete o.mfaInfo,delete o.mfaPendingCredential;const d=Object.assign(Object.assign({},o),{idToken:a.idToken,refreshToken:a.refreshToken});switch(n.operationType){case"signIn":const _=await Bo._fromIdTokenResponse(t,n.operationType,d);return await t._updateCurrentUser(_.user),_;case"reauthenticate":return Et(n.user,t,"internal-error"),Bo._forOperation(n.user,n.operationType,d);default:Is(t,"internal-error")}})}async resolveSignIn(r){const n=r;return this.signInResolver(n)}}function hI(s,r){var n;const t=qr(s),o=r;return Et(r.customData.operationType,t,"argument-error"),Et((n=o.customData._serverResponse)===null||n===void 0?void 0:n.mfaPendingCredential,t,"argument-error"),Ny._fromError(t,o)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fI(s,r){return hs(s,"POST","/v2/accounts/mfaEnrollment:start",zn(s,r))}function pI(s,r){return hs(s,"POST","/v2/accounts/mfaEnrollment:finalize",zn(s,r))}function mI(s,r){return hs(s,"POST","/v2/accounts/mfaEnrollment:withdraw",zn(s,r))}class Uy{constructor(r){this.user=r,this.enrolledFactors=[],r._onReload(n=>{n.mfaInfo&&(this.enrolledFactors=n.mfaInfo.map(t=>Lf._fromServerResponse(r.auth,t)))})}static _fromUser(r){return new Uy(r)}async getSession(){return al._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(r,n){const t=r,o=await this.getSession(),c=await pl(this.user,t._process(this.user.auth,o,n));return await this.user._updateTokensIfNecessary(c),this.user.reload()}async unenroll(r){const n=typeof r=="string"?r:r.uid,t=await this.user.getIdToken();try{const o=await pl(this.user,mI(this.user.auth,{idToken:t,mfaEnrollmentId:n}));this.enrolledFactors=this.enrolledFactors.filter(({uid:c})=>c!==n),await this.user._updateTokensIfNecessary(o),await this.user.reload()}catch(o){throw o}}}const og=new WeakMap;function ml(s){const r=qr(s);return og.has(r)||og.set(r,Uy._fromUser(r)),og.get(r)}const lf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(r,n){this.storageRetriever=r,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(lf,"1"),this.storage.removeItem(lf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(r,n){return this.storage.setItem(r,JSON.stringify(n)),Promise.resolve()}_get(r){const n=this.storage.getItem(r);return Promise.resolve(n?JSON.parse(n):null)}_remove(r){return this.storage.removeItem(r),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI=1e3,yI=10;class w2 extends _2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(r,n)=>this.onStorageEvent(r,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=a2(),this._shouldAllowMigration=!0}forAllChangedKeys(r){for(const n of Object.keys(this.listeners)){const t=this.storage.getItem(n),o=this.localCache[n];t!==o&&r(n,o,t)}}onStorageEvent(r,n=!1){if(!r.key){this.forAllChangedKeys((l,h,a)=>{this.notifyListeners(l,a)});return}const t=r.key;n?this.detachListener():this.stopPolling();const o=()=>{const l=this.storage.getItem(t);!n&&this.localCache[t]===l||this.notifyListeners(t,l)},c=this.storage.getItem(t);AO()&&c!==r.newValue&&r.newValue!==r.oldValue?setTimeout(o,yI):o()}notifyListeners(r,n){this.localCache[r]=n;const t=this.listeners[r];if(t)for(const o of Array.from(t))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((r,n,t)=>{this.onStorageEvent(new StorageEvent("storage",{key:r,oldValue:n,newValue:t}),!0)})},gI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(r,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[r]||(this.listeners[r]=new Set,this.localCache[r]=this.storage.getItem(r)),this.listeners[r].add(n)}_removeListener(r,n){this.listeners[r]&&(this.listeners[r].delete(n),this.listeners[r].size===0&&delete this.listeners[r]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(r,n){await super._set(r,n),this.localCache[r]=JSON.stringify(n)}async _get(r){const n=await super._get(r);return this.localCache[r]=JSON.stringify(n),n}async _remove(r){await super._remove(r),delete this.localCache[r]}}w2.type="LOCAL";const vI=w2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2 extends _2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(r,n){}_removeListener(r,n){}}x2.type="SESSION";const S2=x2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bI(s){return Promise.all(s.map(async r=>{try{return{fulfilled:!0,value:await r}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(r){this.eventTarget=r,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(r){const n=this.receivers.find(o=>o.isListeningto(r));if(n)return n;const t=new Nf(r);return this.receivers.push(t),t}isListeningto(r){return this.eventTarget===r}async handleEvent(r){const n=r,{eventId:t,eventType:o,data:c}=n.data,l=this.handlersMap[o];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:t,eventType:o});const h=Array.from(l).map(async d=>d(n.origin,c)),a=await bI(h);n.ports[0].postMessage({status:"done",eventId:t,eventType:o,response:a})}_subscribe(r,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[r]||(this.handlersMap[r]=new Set),this.handlersMap[r].add(n)}_unsubscribe(r,n){this.handlersMap[r]&&n&&this.handlersMap[r].delete(n),(!n||this.handlersMap[r].size===0)&&delete this.handlersMap[r],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Nf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fy(s="",r=10){let n="";for(let t=0;t<r;t++)n+=Math.floor(Math.random()*10);return s+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(r){this.target=r,this.handlers=new Set}removeMessageHandler(r){r.messageChannel&&(r.messageChannel.port1.removeEventListener("message",r.onMessage),r.messageChannel.port1.close()),this.handlers.delete(r)}async _send(r,n,t=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,l;return new Promise((h,a)=>{const d=Fy("",20);o.port1.start();const _=setTimeout(()=>{a(new Error("unsupported_event"))},t);l={messageChannel:o,onMessage(w){const f=w;if(f.data.eventId===d)switch(f.data.status){case"ack":clearTimeout(_),c=setTimeout(()=>{a(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),h(f.data.response);break;default:clearTimeout(_),clearTimeout(c),a(new Error("invalid_response"));break}}},this.handlers.add(l),o.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:r,eventId:d,data:n},[o.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xn(){return window}function wI(s){xn().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vy(){return typeof xn().WorkerGlobalScope<"u"&&typeof xn().importScripts=="function"}async function xI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function SI(){var s;return((s=navigator==null?void 0:navigator.serviceWorker)===null||s===void 0?void 0:s.controller)||null}function jI(){return Vy()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2="firebaseLocalStorageDb",EI=1,uf="firebaseLocalStorage",E2="fbase_key";class md{constructor(r){this.request=r}toPromise(){return new Promise((r,n)=>{this.request.addEventListener("success",()=>{r(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Uf(s,r){return s.transaction([uf],r?"readwrite":"readonly").objectStore(uf)}function TI(){const s=indexedDB.deleteDatabase(j2);return new md(s).toPromise()}function Bg(){const s=indexedDB.open(j2,EI);return new Promise((r,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const t=s.result;try{t.createObjectStore(uf,{keyPath:E2})}catch(o){n(o)}}),s.addEventListener("success",async()=>{const t=s.result;t.objectStoreNames.contains(uf)?r(t):(t.close(),await TI(),r(await Bg()))})})}async function E_(s,r,n){const t=Uf(s,!0).put({[E2]:r,value:n});return new md(t).toPromise()}async function CI(s,r){const n=Uf(s,!1).get(r),t=await new md(n).toPromise();return t===void 0?null:t.value}function T_(s,r){const n=Uf(s,!0).delete(r);return new md(n).toPromise()}const AI=800,RI=3;class T2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Bg(),this.db)}async _withRetries(r){let n=0;for(;;)try{const t=await this._openDb();return await r(t)}catch(t){if(n++>RI)throw t;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Vy()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Nf._getInstance(jI()),this.receiver._subscribe("keyChanged",async(r,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(r,n)=>["keyChanged"])}async initializeSender(){var r,n;if(this.activeServiceWorker=await xI(),!this.activeServiceWorker)return;this.sender=new _I(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&!((r=t[0])===null||r===void 0)&&r.fulfilled&&!((n=t[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(r){if(!(!this.sender||!this.activeServiceWorker||SI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:r},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const r=await Bg();return await E_(r,lf,"1"),await T_(r,lf),!0}catch{}return!1}async _withPendingWrite(r){this.pendingWrites++;try{await r()}finally{this.pendingWrites--}}async _set(r,n){return this._withPendingWrite(async()=>(await this._withRetries(t=>E_(t,r,n)),this.localCache[r]=n,this.notifyServiceWorker(r)))}async _get(r){const n=await this._withRetries(t=>CI(t,r));return this.localCache[r]=n,n}async _remove(r){return this._withPendingWrite(async()=>(await this._withRetries(n=>T_(n,r)),delete this.localCache[r],this.notifyServiceWorker(r)))}async _poll(){const r=await this._withRetries(o=>{const c=Uf(o,!1).getAll();return new md(c).toPromise()});if(!r)return[];if(this.pendingWrites!==0)return[];const n=[],t=new Set;if(r.length!==0)for(const{fbase_key:o,value:c}of r)t.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!t.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(r,n){this.localCache[r]=n;const t=this.listeners[r];if(t)for(const o of Array.from(t))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),AI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(r,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[r]||(this.listeners[r]=new Set,this._get(r)),this.listeners[r].add(n)}_removeListener(r,n){this.listeners[r]&&(this.listeners[r].delete(n),this.listeners[r].size===0&&delete this.listeners[r]),Object.keys(this.listeners).length===0&&this.stopPolling()}}T2.type="LOCAL";const OI=T2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function II(s,r){return hs(s,"POST","/v2/accounts/mfaSignIn:start",zn(s,r))}function kI(s,r){return hs(s,"POST","/v2/accounts/mfaSignIn:finalize",zn(s,r))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI=500,PI=6e4,Eh=1e12;class DI{constructor(r){this.auth=r,this.counter=Eh,this._widgets=new Map}render(r,n){const t=this.counter;return this._widgets.set(t,new LI(r,this.auth.name,n||{})),this.counter++,t}reset(r){var n;const t=r||Eh;(n=this._widgets.get(t))===null||n===void 0||n.delete(),this._widgets.delete(t)}getResponse(r){var n;const t=r||Eh;return((n=this._widgets.get(t))===null||n===void 0?void 0:n.getResponse())||""}async execute(r){var n;const t=r||Eh;return(n=this._widgets.get(t))===null||n===void 0||n.execute(),""}}class LI{constructor(r,n,t){this.params=t,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const o=typeof r=="string"?document.getElementById(r):r;Et(o,"argument-error",{appName:n}),this.container=o,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=NI(50);const{callback:r,"expired-callback":n}=this.params;if(r)try{r(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},PI)},MI))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function NI(s){const r=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let t=0;t<s;t++)r.push(n.charAt(Math.floor(Math.random()*n.length)));return r.join("")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ag=u2("rcb"),UI=new fd(3e4,6e4);class FI{constructor(){var r;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((r=xn().grecaptcha)===null||r===void 0)&&r.render)}load(r,n=""){return Et(VI(n),r,"argument-error"),this.shouldResolveImmediately(n)&&m_(xn().grecaptcha)?Promise.resolve(xn().grecaptcha):new Promise((t,o)=>{const c=xn().setTimeout(()=>{o(Cs(r,"network-request-failed"))},UI.get());xn()[ag]=()=>{xn().clearTimeout(c),delete xn()[ag];const h=xn().grecaptcha;if(!h||!m_(h)){o(Cs(r,"internal-error"));return}const a=h.render;h.render=(d,_)=>{const w=a(d,_);return this.counter++,w},this.hostLanguage=n,t(h)};const l=`${DO()}?${Iu({onload:ag,render:"explicit",hl:n})}`;Iy(l).catch(()=>{clearTimeout(c),o(Cs(r,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(r){var n;return!!(!((n=xn().grecaptcha)===null||n===void 0)&&n.render)&&(r===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function VI(s){return s.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(s)}class BI{async load(r){return new DI(r)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2="recaptcha",GI={theme:"light",type:"image"};class gd{constructor(r,n,t=Object.assign({},GI)){this.parameters=t,this.type=C2,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ws(r),this.isInvisible=this.parameters.size==="invisible",Et(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const o=typeof n=="string"?document.getElementById(n):n;Et(o,this.auth,"argument-error"),this.container=o,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new BI:new FI,this.validateStartingState()}async verify(){this.assertNotDestroyed();const r=await this.render(),n=this.getAssertedRecaptcha(),t=n.getResponse(r);return t||new Promise(o=>{const c=l=>{l&&(this.tokenChangeListeners.delete(c),o(l))};this.tokenChangeListeners.add(c),this.isInvisible&&n.execute(r)})}render(){try{this.assertNotDestroyed()}catch(r){return Promise.reject(r)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(r=>{throw this.renderPromise=null,r}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(r=>{this.container.removeChild(r)})}validateStartingState(){Et(!this.parameters.sitekey,this.auth,"argument-error"),Et(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Et(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(r){return n=>{if(this.tokenChangeListeners.forEach(t=>t(n)),typeof r=="function")r(n);else if(typeof r=="string"){const t=xn()[r];typeof t=="function"&&t(n)}}}assertNotDestroyed(){Et(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let r=this.container;if(!this.isInvisible){const n=document.createElement("div");r.appendChild(n),r=n}this.widgetId=this.getAssertedRecaptcha().render(r,this.parameters)}return this.widgetId}async init(){Et(Yx()&&!Vy(),this.auth,"internal-error"),await zI(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const r=await yO(this.auth);Et(r,this.auth,"internal-error"),this.parameters.sitekey=r}getAssertedRecaptcha(){return Et(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}function zI(){let s=null;return new Promise(r=>{if(document.readyState==="complete"){r();return}s=()=>r(),window.addEventListener("load",s)}).catch(r=>{throw s&&window.removeEventListener("load",s),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(r,n){this.verificationId=r,this.onConfirmation=n}confirm(r){const n=dl._fromVerification(this.verificationId,r);return this.onConfirmation(n)}}async function A2(s,r,n){if(ci(s.app))return Promise.reject(Qi(s));const t=Ws(s),o=await R2(t,r,qr(n));return new HI(o,c=>p2(t,c))}async function R2(s,r,n){var t;const o=await n.verify();try{Et(typeof o=="string",s,"argument-error"),Et(n.type===C2,s,"argument-error");let c;if(typeof r=="string"?c={phoneNumber:r}:c=r,"session"in c){const l=c.session;if("phoneNumber"in c)return Et(l.type==="enroll",s,"internal-error"),(await fI(s,{idToken:l.credential,phoneEnrollmentInfo:{phoneNumber:c.phoneNumber,recaptchaToken:o}})).phoneSessionInfo.sessionInfo;{Et(l.type==="signin",s,"internal-error");const h=((t=c.multiFactorHint)===null||t===void 0?void 0:t.uid)||c.multiFactorUid;return Et(h,s,"missing-multi-factor-info"),(await II(s,{mfaPendingCredential:l.credential,mfaEnrollmentId:h,phoneSignInInfo:{recaptchaToken:o}})).phoneResponseInfo.sessionInfo}}else{const{sessionInfo:l}=await JO(s,{phoneNumber:c.phoneNumber,recaptchaToken:o});return l}}finally{n._reset()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(r){this.providerId=As.PROVIDER_ID,this.auth=Ws(r)}verifyPhoneNumber(r,n){return R2(this.auth,r,qr(n))}static credential(r,n){return dl._fromVerification(r,n)}static credentialFromResult(r){const n=r;return As.credentialFromTaggedObject(n)}static credentialFromError(r){return As.credentialFromTaggedObject(r.customData||{})}static credentialFromTaggedObject({_tokenResponse:r}){if(!r)return null;const{phoneNumber:n,temporaryProof:t}=r;return n&&t?dl._fromTokenResponse(n,t):null}}As.PROVIDER_ID="phone";As.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O2(s,r){return r?Po(r):(Et(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By extends Df{constructor(r){super("custom","custom"),this.params=r}_getIdTokenResponse(r){return vu(r,this._buildIdpRequest())}_linkToIdToken(r,n){return vu(r,this._buildIdpRequest(n))}_getReauthenticationResolver(r){return vu(r,this._buildIdpRequest())}_buildIdpRequest(r){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return r&&(n.idToken=r),n}}function qI(s){return f2(s.auth,new By(s),s.bypassAuthState)}function WI(s){const{auth:r,user:n}=s;return Et(n,r,"internal-error"),lI(n,new By(s),s.bypassAuthState)}async function YI(s){const{auth:r,user:n}=s;return Et(n,r,"internal-error"),aI(n,new By(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(r,n,t,o,c=!1){this.auth=r,this.resolver=t,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(r,n)=>{this.pendingPromise={resolve:r,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(t){this.reject(t)}})}async onAuthEvent(r){const{urlResponse:n,sessionId:t,postBody:o,tenantId:c,error:l,type:h}=r;if(l){this.reject(l);return}const a={auth:this.auth,requestUri:n,sessionId:t,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(a))}catch(d){this.reject(d)}}onError(r){this.reject(r)}getIdpTask(r){switch(r){case"signInViaPopup":case"signInViaRedirect":return qI;case"linkViaPopup":case"linkViaRedirect":return YI;case"reauthViaPopup":case"reauthViaRedirect":return WI;default:Is(this.auth,"internal-error")}}resolve(r){Fo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(r),this.unregisterAndCleanUp()}reject(r){Fo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(r),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XI=new fd(2e3,1e4);async function yd(s,r,n){if(ci(s.app))return Promise.reject(Cs(s,"operation-not-supported-in-this-environment"));const t=Ws(s);uO(s,r,My);const o=O2(t,n);return new ll(t,"signInViaPopup",r,o).executeNotNull()}class ll extends I2{constructor(r,n,t,o,c){super(r,n,o,c),this.provider=t,this.authWindow=null,this.pollId=null,ll.currentPopupAction&&ll.currentPopupAction.cancel(),ll.currentPopupAction=this}async executeNotNull(){const r=await this.execute();return Et(r,this.auth,"internal-error"),r}async onExecution(){Fo(this.filter.length===1,"Popup operations only handle one event");const r=Fy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],r),this.authWindow.associatedEvent=r,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Cs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var r;return((r=this.authWindow)===null||r===void 0?void 0:r.associatedEvent)||null}cancel(){this.reject(Cs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ll.currentPopupAction=null}pollUserCancellation(){const r=()=>{var n,t;if(!((t=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||t===void 0)&&t.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Cs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(r,XI.get())};r()}}ll.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $I="pendingRedirect",Gh=new Map;class KI extends I2{constructor(r,n,t=!1){super(r,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,t),this.eventId=null}async execute(){let r=Gh.get(this.auth._key());if(!r){try{const t=await QI(this.resolver,this.auth)?await super.execute():null;r=()=>Promise.resolve(t)}catch(n){r=()=>Promise.reject(n)}Gh.set(this.auth._key(),r)}return this.bypassAuthState||Gh.set(this.auth._key(),()=>Promise.resolve(null)),r()}async onAuthEvent(r){if(r.type==="signInViaRedirect")return super.onAuthEvent(r);if(r.type==="unknown"){this.resolve(null);return}if(r.eventId){const n=await this.auth._redirectUserForId(r.eventId);if(n)return this.user=n,super.onAuthEvent(r);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function QI(s,r){const n=ek(r),t=JI(s);if(!await t._isAvailable())return!1;const o=await t._get(n)==="true";return await t._remove(n),o}function ZI(s,r){Gh.set(s._key(),r)}function JI(s){return Po(s._redirectPersistence)}function ek(s){return Bh($I,s.config.apiKey,s.name)}async function tk(s,r,n=!1){if(ci(s.app))return Promise.reject(Qi(s));const t=Ws(s),o=O2(t,r),l=await new KI(t,o,n).execute();return l&&!n&&(delete l.user._redirectEventId,await t._persistUserIfCurrent(l.user),await t._setRedirectUser(null,r)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rk=10*60*1e3;class nk{constructor(r){this.auth=r,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(r){this.consumers.add(r),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,r)&&(this.sendToConsumer(this.queuedRedirectEvent,r),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(r){this.consumers.delete(r)}onEvent(r){if(this.hasEventBeenHandled(r))return!1;let n=!1;return this.consumers.forEach(t=>{this.isEventForConsumer(r,t)&&(n=!0,this.sendToConsumer(r,t),this.saveEventToCache(r))}),this.hasHandledPotentialRedirect||!sk(r)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=r,n=!0)),n}sendToConsumer(r,n){var t;if(r.error&&!k2(r)){const o=((t=r.error.code)===null||t===void 0?void 0:t.split("auth/")[1])||"internal-error";n.onError(Cs(this.auth,o))}else n.onAuthEvent(r)}isEventForConsumer(r,n){const t=n.eventId===null||!!r.eventId&&r.eventId===n.eventId;return n.filter.includes(r.type)&&t}hasEventBeenHandled(r){return Date.now()-this.lastProcessedEventTime>=rk&&this.cachedEventUids.clear(),this.cachedEventUids.has(C_(r))}saveEventToCache(r){this.cachedEventUids.add(C_(r)),this.lastProcessedEventTime=Date.now()}}function C_(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(r=>r).join("-")}function k2({type:s,error:r}){return s==="unknown"&&(r==null?void 0:r.code)==="auth/no-auth-event"}function sk(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return k2(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ik(s,r={}){return hs(s,"GET","/v1/projects",r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ok=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ak=/^https?/;async function lk(s){if(s.config.emulator)return;const{authorizedDomains:r}=await ik(s);for(const n of r)try{if(uk(n))return}catch{}Is(s,"unauthorized-domain")}function uk(s){const r=Fg(),{protocol:n,hostname:t}=new URL(r);if(s.startsWith("chrome-extension://")){const l=new URL(s);return l.hostname===""&&t===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===r.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===t}if(!ak.test(n))return!1;if(ok.test(s))return t===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(t)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ck=new fd(3e4,6e4);function A_(){const s=xn().___jsl;if(s!=null&&s.H){for(const r of Object.keys(s.H))if(s.H[r].r=s.H[r].r||[],s.H[r].L=s.H[r].L||[],s.H[r].r=[...s.H[r].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function dk(s){return new Promise((r,n)=>{var t,o,c;function l(){A_(),gapi.load("gapi.iframes",{callback:()=>{r(gapi.iframes.getContext())},ontimeout:()=>{A_(),n(Cs(s,"network-request-failed"))},timeout:ck.get()})}if(!((o=(t=xn().gapi)===null||t===void 0?void 0:t.iframes)===null||o===void 0)&&o.Iframe)r(gapi.iframes.getContext());else if(!((c=xn().gapi)===null||c===void 0)&&c.load)l();else{const h=u2("iframefcb");return xn()[h]=()=>{gapi.load?l():n(Cs(s,"network-request-failed"))},Iy(`${NO()}?onload=${h}`).catch(a=>n(a))}}).catch(r=>{throw zh=null,r})}let zh=null;function hk(s){return zh=zh||dk(s),zh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fk=new fd(5e3,15e3),pk="__/auth/iframe",mk="emulator/auth/iframe",gk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yk=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vk(s){const r=s.config;Et(r.authDomain,s,"auth-domain-config-required");const n=r.emulator?Ay(r,mk):`https://${s.config.authDomain}/${pk}`,t={apiKey:r.apiKey,appName:s.name,v:Rl},o=yk.get(s.config.apiHost);o&&(t.eid=o);const c=s._getFrameworks();return c.length&&(t.fw=c.join(",")),`${n}?${Iu(t).slice(1)}`}async function bk(s){const r=await hk(s),n=xn().gapi;return Et(n,s,"internal-error"),r.open({where:document.body,url:vk(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gk,dontclear:!0},t=>new Promise(async(o,c)=>{await t.restyle({setHideOnLeave:!1});const l=Cs(s,"network-request-failed"),h=xn().setTimeout(()=>{c(l)},fk.get());function a(){xn().clearTimeout(h),o(t)}t.ping(a).then(a,()=>{c(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _k={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},wk=500,xk=600,Sk="_blank",jk="http://localhost";class R_{constructor(r){this.window=r,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Ek(s,r,n,t=wk,o=xk){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),l=Math.max((window.screen.availWidth-t)/2,0).toString();let h="";const a=Object.assign(Object.assign({},_k),{width:t.toString(),height:o.toString(),top:c,left:l}),d=ds().toLowerCase();n&&(h=r2(d)?Sk:n),e2(d)&&(r=r||jk,a.scrollbars="yes");const _=Object.entries(a).reduce((f,[p,b])=>`${f}${p}=${b},`,"");if(CO(d)&&h!=="_self")return Tk(r||"",h),new R_(null);const w=window.open(r||"",h,_);Et(w,s,"popup-blocked");try{w.focus()}catch{}return new R_(w)}function Tk(s,r){const n=document.createElement("a");n.href=s,n.target=r;const t=document.createEvent("MouseEvent");t.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ck="__/auth/handler",Ak="emulator/auth/handler",Rk=encodeURIComponent("fac");async function O_(s,r,n,t,o,c){Et(s.config.authDomain,s,"auth-domain-config-required"),Et(s.config.apiKey,s,"invalid-api-key");const l={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:t,v:Rl,eventId:o};if(r instanceof My){r.setDefaultLanguage(s.languageCode),l.providerId=r.providerId||"",WA(r.getCustomParameters())||(l.customParameters=JSON.stringify(r.getCustomParameters()));for(const[_,w]of Object.entries({}))l[_]=w}if(r instanceof Mu){const _=r.getScopes().filter(w=>w!=="");_.length>0&&(l.scopes=_.join(","))}s.tenantId&&(l.tid=s.tenantId);const h=l;for(const _ of Object.keys(h))h[_]===void 0&&delete h[_];const a=await s._getAppCheckToken(),d=a?`#${Rk}=${encodeURIComponent(a)}`:"";return`${Ok(s)}?${Iu(h).slice(1)}${d}`}function Ok({config:s}){return s.emulator?Ay(s,Ak):`https://${s.authDomain}/${Ck}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lg="webStorageSupport";class Ik{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=S2,this._completeRedirectFn=tk,this._overrideRedirectResult=ZI}async _openPopup(r,n,t,o){var c;Fo((c=this.eventManagers[r._key()])===null||c===void 0?void 0:c.manager,"_initialize() not called before _openPopup()");const l=await O_(r,n,t,Fg(),o);return Ek(r,l,Fy())}async _openRedirect(r,n,t,o){await this._originValidation(r);const c=await O_(r,n,t,Fg(),o);return wI(c),new Promise(()=>{})}_initialize(r){const n=r._key();if(this.eventManagers[n]){const{manager:o,promise:c}=this.eventManagers[n];return o?Promise.resolve(o):(Fo(c,"If manager is not set, promise should be"),c)}const t=this.initAndGetManager(r);return this.eventManagers[n]={promise:t},t.catch(()=>{delete this.eventManagers[n]}),t}async initAndGetManager(r){const n=await bk(r),t=new nk(r);return n.register("authEvent",o=>(Et(o==null?void 0:o.authEvent,r,"invalid-auth-event"),{status:t.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[r._key()]={manager:t},this.iframes[r._key()]=n,t}_isIframeWebStorageSupported(r,n){this.iframes[r._key()].send(lg,{type:lg},o=>{var c;const l=(c=o==null?void 0:o[0])===null||c===void 0?void 0:c[lg];l!==void 0&&n(!!l),Is(r,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(r){const n=r._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=lk(r)),this.originValidationPromises[n]}get _shouldInitProactively(){return a2()||t2()||Oy()}}const kk=Ik;class Mk{constructor(r){this.factorId=r}_process(r,n,t){switch(n.type){case"enroll":return this._finalizeEnroll(r,n.credential,t);case"signin":return this._finalizeSignIn(r,n.credential);default:return Ki("unexpected MultiFactorSessionType")}}}class Gy extends Mk{constructor(r){super("phone"),this.credential=r}static _fromCredential(r){return new Gy(r)}_finalizeEnroll(r,n,t){return pI(r,{idToken:n,displayName:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(r,n){return kI(r,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class Ff{constructor(){}static assertion(r){return Gy._fromCredential(r)}}Ff.FACTOR_ID="phone";var I_="@firebase/auth",k_="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(r){this.auth=r,this.internalListeners=new Map}getUid(){var r;return this.assertAuthConfigured(),((r=this.auth.currentUser)===null||r===void 0?void 0:r.uid)||null}async getToken(r){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(r)}:null}addAuthTokenListener(r){if(this.assertAuthConfigured(),this.internalListeners.has(r))return;const n=this.auth.onIdTokenChanged(t=>{r((t==null?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(r,n),this.updateProactiveRefresh()}removeAuthTokenListener(r){this.assertAuthConfigured();const n=this.internalListeners.get(r);n&&(this.internalListeners.delete(r),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dk(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Lk(s){Oi(new hi("auth",(r,{options:n})=>{const t=r.getProvider("app").getImmediate(),o=r.getProvider("heartbeat"),c=r.getProvider("app-check-internal"),{apiKey:l,authDomain:h}=t.options;Et(l&&!l.includes(":"),"invalid-api-key",{appName:t.name});const a={apiKey:l,authDomain:h,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:l2(s)},d=new MO(t,o,c,a);return GO(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((r,n,t)=>{r.getProvider("auth-internal").initialize()})),Oi(new hi("auth-internal",r=>{const n=Ws(r.getProvider("auth").getImmediate());return(t=>new Pk(t))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ts(I_,k_,Dk(s)),Ts(I_,k_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nk=5*60,Uk=Lx("authIdTokenMaxAge")||Nk;let M_=null;const Fk=s=>async r=>{const n=r&&await r.getIdTokenResult(),t=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(t&&t>Uk)return;const o=n==null?void 0:n.token;M_!==o&&(M_=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function zy(s=hd()){const r=Oa(s,"auth");if(r.isInitialized())return r.getImmediate();const n=BO(s,{popupRedirectResolver:kk,persistence:[OI,vI,S2]}),t=Lx("authTokenSyncURL");if(t&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(t,location.origin);if(location.origin===c.origin){const l=Fk(c.toString());cI(n,l,()=>l(n.currentUser)),uI(n,h=>l(h))}}const o=Mx("auth");return o&&zO(n,`http://${o}`),n}function Vk(){var s,r;return(r=(s=document.getElementsByTagName("head"))===null||s===void 0?void 0:s[0])!==null&&r!==void 0?r:document}PO({loadJS(s){return new Promise((r,n)=>{const t=document.createElement("script");t.setAttribute("src",s),t.onload=r,t.onerror=o=>{const c=Cs("internal-error");c.customData=o,n(c)},t.type="text/javascript",t.charset="UTF-8",Vk().appendChild(t)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Lk("Browser");var Bk="firebase",Gk="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ts(Bk,Gk,"app");var P_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var hl,M2;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function r(C,T){function R(){}R.prototype=T.prototype,C.D=T.prototype,C.prototype=new R,C.prototype.constructor=C,C.C=function(D,k,F){for(var P=Array(arguments.length-2),q=2;q<arguments.length;q++)P[q-2]=arguments[q];return T.prototype[k].apply(D,P)}}function n(){this.blockSize=-1}function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}r(t,n),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,T,R){R||(R=0);var D=Array(16);if(typeof T=="string")for(var k=0;16>k;++k)D[k]=T.charCodeAt(R++)|T.charCodeAt(R++)<<8|T.charCodeAt(R++)<<16|T.charCodeAt(R++)<<24;else for(k=0;16>k;++k)D[k]=T[R++]|T[R++]<<8|T[R++]<<16|T[R++]<<24;T=C.g[0],R=C.g[1],k=C.g[2];var F=C.g[3],P=T+(F^R&(k^F))+D[0]+3614090360&4294967295;T=R+(P<<7&4294967295|P>>>25),P=F+(k^T&(R^k))+D[1]+3905402710&4294967295,F=T+(P<<12&4294967295|P>>>20),P=k+(R^F&(T^R))+D[2]+606105819&4294967295,k=F+(P<<17&4294967295|P>>>15),P=R+(T^k&(F^T))+D[3]+3250441966&4294967295,R=k+(P<<22&4294967295|P>>>10),P=T+(F^R&(k^F))+D[4]+4118548399&4294967295,T=R+(P<<7&4294967295|P>>>25),P=F+(k^T&(R^k))+D[5]+1200080426&4294967295,F=T+(P<<12&4294967295|P>>>20),P=k+(R^F&(T^R))+D[6]+2821735955&4294967295,k=F+(P<<17&4294967295|P>>>15),P=R+(T^k&(F^T))+D[7]+4249261313&4294967295,R=k+(P<<22&4294967295|P>>>10),P=T+(F^R&(k^F))+D[8]+1770035416&4294967295,T=R+(P<<7&4294967295|P>>>25),P=F+(k^T&(R^k))+D[9]+2336552879&4294967295,F=T+(P<<12&4294967295|P>>>20),P=k+(R^F&(T^R))+D[10]+4294925233&4294967295,k=F+(P<<17&4294967295|P>>>15),P=R+(T^k&(F^T))+D[11]+2304563134&4294967295,R=k+(P<<22&4294967295|P>>>10),P=T+(F^R&(k^F))+D[12]+1804603682&4294967295,T=R+(P<<7&4294967295|P>>>25),P=F+(k^T&(R^k))+D[13]+4254626195&4294967295,F=T+(P<<12&4294967295|P>>>20),P=k+(R^F&(T^R))+D[14]+2792965006&4294967295,k=F+(P<<17&4294967295|P>>>15),P=R+(T^k&(F^T))+D[15]+1236535329&4294967295,R=k+(P<<22&4294967295|P>>>10),P=T+(k^F&(R^k))+D[1]+4129170786&4294967295,T=R+(P<<5&4294967295|P>>>27),P=F+(R^k&(T^R))+D[6]+3225465664&4294967295,F=T+(P<<9&4294967295|P>>>23),P=k+(T^R&(F^T))+D[11]+643717713&4294967295,k=F+(P<<14&4294967295|P>>>18),P=R+(F^T&(k^F))+D[0]+3921069994&4294967295,R=k+(P<<20&4294967295|P>>>12),P=T+(k^F&(R^k))+D[5]+3593408605&4294967295,T=R+(P<<5&4294967295|P>>>27),P=F+(R^k&(T^R))+D[10]+38016083&4294967295,F=T+(P<<9&4294967295|P>>>23),P=k+(T^R&(F^T))+D[15]+3634488961&4294967295,k=F+(P<<14&4294967295|P>>>18),P=R+(F^T&(k^F))+D[4]+3889429448&4294967295,R=k+(P<<20&4294967295|P>>>12),P=T+(k^F&(R^k))+D[9]+568446438&4294967295,T=R+(P<<5&4294967295|P>>>27),P=F+(R^k&(T^R))+D[14]+3275163606&4294967295,F=T+(P<<9&4294967295|P>>>23),P=k+(T^R&(F^T))+D[3]+4107603335&4294967295,k=F+(P<<14&4294967295|P>>>18),P=R+(F^T&(k^F))+D[8]+1163531501&4294967295,R=k+(P<<20&4294967295|P>>>12),P=T+(k^F&(R^k))+D[13]+2850285829&4294967295,T=R+(P<<5&4294967295|P>>>27),P=F+(R^k&(T^R))+D[2]+4243563512&4294967295,F=T+(P<<9&4294967295|P>>>23),P=k+(T^R&(F^T))+D[7]+1735328473&4294967295,k=F+(P<<14&4294967295|P>>>18),P=R+(F^T&(k^F))+D[12]+2368359562&4294967295,R=k+(P<<20&4294967295|P>>>12),P=T+(R^k^F)+D[5]+4294588738&4294967295,T=R+(P<<4&4294967295|P>>>28),P=F+(T^R^k)+D[8]+2272392833&4294967295,F=T+(P<<11&4294967295|P>>>21),P=k+(F^T^R)+D[11]+1839030562&4294967295,k=F+(P<<16&4294967295|P>>>16),P=R+(k^F^T)+D[14]+4259657740&4294967295,R=k+(P<<23&4294967295|P>>>9),P=T+(R^k^F)+D[1]+2763975236&4294967295,T=R+(P<<4&4294967295|P>>>28),P=F+(T^R^k)+D[4]+1272893353&4294967295,F=T+(P<<11&4294967295|P>>>21),P=k+(F^T^R)+D[7]+4139469664&4294967295,k=F+(P<<16&4294967295|P>>>16),P=R+(k^F^T)+D[10]+3200236656&4294967295,R=k+(P<<23&4294967295|P>>>9),P=T+(R^k^F)+D[13]+681279174&4294967295,T=R+(P<<4&4294967295|P>>>28),P=F+(T^R^k)+D[0]+3936430074&4294967295,F=T+(P<<11&4294967295|P>>>21),P=k+(F^T^R)+D[3]+3572445317&4294967295,k=F+(P<<16&4294967295|P>>>16),P=R+(k^F^T)+D[6]+76029189&4294967295,R=k+(P<<23&4294967295|P>>>9),P=T+(R^k^F)+D[9]+3654602809&4294967295,T=R+(P<<4&4294967295|P>>>28),P=F+(T^R^k)+D[12]+3873151461&4294967295,F=T+(P<<11&4294967295|P>>>21),P=k+(F^T^R)+D[15]+530742520&4294967295,k=F+(P<<16&4294967295|P>>>16),P=R+(k^F^T)+D[2]+3299628645&4294967295,R=k+(P<<23&4294967295|P>>>9),P=T+(k^(R|~F))+D[0]+4096336452&4294967295,T=R+(P<<6&4294967295|P>>>26),P=F+(R^(T|~k))+D[7]+1126891415&4294967295,F=T+(P<<10&4294967295|P>>>22),P=k+(T^(F|~R))+D[14]+2878612391&4294967295,k=F+(P<<15&4294967295|P>>>17),P=R+(F^(k|~T))+D[5]+4237533241&4294967295,R=k+(P<<21&4294967295|P>>>11),P=T+(k^(R|~F))+D[12]+1700485571&4294967295,T=R+(P<<6&4294967295|P>>>26),P=F+(R^(T|~k))+D[3]+2399980690&4294967295,F=T+(P<<10&4294967295|P>>>22),P=k+(T^(F|~R))+D[10]+4293915773&4294967295,k=F+(P<<15&4294967295|P>>>17),P=R+(F^(k|~T))+D[1]+2240044497&4294967295,R=k+(P<<21&4294967295|P>>>11),P=T+(k^(R|~F))+D[8]+1873313359&4294967295,T=R+(P<<6&4294967295|P>>>26),P=F+(R^(T|~k))+D[15]+4264355552&4294967295,F=T+(P<<10&4294967295|P>>>22),P=k+(T^(F|~R))+D[6]+2734768916&4294967295,k=F+(P<<15&4294967295|P>>>17),P=R+(F^(k|~T))+D[13]+1309151649&4294967295,R=k+(P<<21&4294967295|P>>>11),P=T+(k^(R|~F))+D[4]+4149444226&4294967295,T=R+(P<<6&4294967295|P>>>26),P=F+(R^(T|~k))+D[11]+3174756917&4294967295,F=T+(P<<10&4294967295|P>>>22),P=k+(T^(F|~R))+D[2]+718787259&4294967295,k=F+(P<<15&4294967295|P>>>17),P=R+(F^(k|~T))+D[9]+3951481745&4294967295,C.g[0]=C.g[0]+T&4294967295,C.g[1]=C.g[1]+(k+(P<<21&4294967295|P>>>11))&4294967295,C.g[2]=C.g[2]+k&4294967295,C.g[3]=C.g[3]+F&4294967295}t.prototype.u=function(C,T){T===void 0&&(T=C.length);for(var R=T-this.blockSize,D=this.B,k=this.h,F=0;F<T;){if(k==0)for(;F<=R;)o(this,C,F),F+=this.blockSize;if(typeof C=="string"){for(;F<T;)if(D[k++]=C.charCodeAt(F++),k==this.blockSize){o(this,D),k=0;break}}else for(;F<T;)if(D[k++]=C[F++],k==this.blockSize){o(this,D),k=0;break}}this.h=k,this.o+=T},t.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var T=1;T<C.length-8;++T)C[T]=0;var R=8*this.o;for(T=C.length-8;T<C.length;++T)C[T]=R&255,R/=256;for(this.u(C),C=Array(16),T=R=0;4>T;++T)for(var D=0;32>D;D+=8)C[R++]=this.g[T]>>>D&255;return C};function c(C,T){var R=h;return Object.prototype.hasOwnProperty.call(R,C)?R[C]:R[C]=T(C)}function l(C,T){this.h=T;for(var R=[],D=!0,k=C.length-1;0<=k;k--){var F=C[k]|0;D&&F==T||(R[k]=F,D=!1)}this.g=R}var h={};function a(C){return-128<=C&&128>C?c(C,function(T){return new l([T|0],0>T?-1:0)}):new l([C|0],0>C?-1:0)}function d(C){if(isNaN(C)||!isFinite(C))return w;if(0>C)return m(d(-C));for(var T=[],R=1,D=0;C>=R;D++)T[D]=C/R|0,R*=4294967296;return new l(T,0)}function _(C,T){if(C.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(C.charAt(0)=="-")return m(_(C.substring(1),T));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=d(Math.pow(T,8)),D=w,k=0;k<C.length;k+=8){var F=Math.min(8,C.length-k),P=parseInt(C.substring(k,k+F),T);8>F?(F=d(Math.pow(T,F)),D=D.j(F).add(d(P))):(D=D.j(R),D=D.add(d(P)))}return D}var w=a(0),f=a(1),p=a(16777216);s=l.prototype,s.m=function(){if(y(this))return-m(this).m();for(var C=0,T=1,R=0;R<this.g.length;R++){var D=this.i(R);C+=(0<=D?D:4294967296+D)*T,T*=4294967296}return C},s.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(b(this))return"0";if(y(this))return"-"+m(this).toString(C);for(var T=d(Math.pow(C,6)),R=this,D="";;){var k=j(R,T).g;R=g(R,k.j(T));var F=((0<R.g.length?R.g[0]:R.h)>>>0).toString(C);if(R=k,b(R))return F+D;for(;6>F.length;)F="0"+F;D=F+D}},s.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function b(C){if(C.h!=0)return!1;for(var T=0;T<C.g.length;T++)if(C.g[T]!=0)return!1;return!0}function y(C){return C.h==-1}s.l=function(C){return C=g(this,C),y(C)?-1:b(C)?0:1};function m(C){for(var T=C.g.length,R=[],D=0;D<T;D++)R[D]=~C.g[D];return new l(R,~C.h).add(f)}s.abs=function(){return y(this)?m(this):this},s.add=function(C){for(var T=Math.max(this.g.length,C.g.length),R=[],D=0,k=0;k<=T;k++){var F=D+(this.i(k)&65535)+(C.i(k)&65535),P=(F>>>16)+(this.i(k)>>>16)+(C.i(k)>>>16);D=P>>>16,F&=65535,P&=65535,R[k]=P<<16|F}return new l(R,R[R.length-1]&-2147483648?-1:0)};function g(C,T){return C.add(m(T))}s.j=function(C){if(b(this)||b(C))return w;if(y(this))return y(C)?m(this).j(m(C)):m(m(this).j(C));if(y(C))return m(this.j(m(C)));if(0>this.l(p)&&0>C.l(p))return d(this.m()*C.m());for(var T=this.g.length+C.g.length,R=[],D=0;D<2*T;D++)R[D]=0;for(D=0;D<this.g.length;D++)for(var k=0;k<C.g.length;k++){var F=this.i(D)>>>16,P=this.i(D)&65535,q=C.i(k)>>>16,z=C.i(k)&65535;R[2*D+2*k]+=P*z,v(R,2*D+2*k),R[2*D+2*k+1]+=F*z,v(R,2*D+2*k+1),R[2*D+2*k+1]+=P*q,v(R,2*D+2*k+1),R[2*D+2*k+2]+=F*q,v(R,2*D+2*k+2)}for(D=0;D<T;D++)R[D]=R[2*D+1]<<16|R[2*D];for(D=T;D<2*T;D++)R[D]=0;return new l(R,0)};function v(C,T){for(;(C[T]&65535)!=C[T];)C[T+1]+=C[T]>>>16,C[T]&=65535,T++}function S(C,T){this.g=C,this.h=T}function j(C,T){if(b(T))throw Error("division by zero");if(b(C))return new S(w,w);if(y(C))return T=j(m(C),T),new S(m(T.g),m(T.h));if(y(T))return T=j(C,m(T)),new S(m(T.g),T.h);if(30<C.g.length){if(y(C)||y(T))throw Error("slowDivide_ only works with positive integers.");for(var R=f,D=T;0>=D.l(C);)R=A(R),D=A(D);var k=L(R,1),F=L(D,1);for(D=L(D,2),R=L(R,2);!b(D);){var P=F.add(D);0>=P.l(C)&&(k=k.add(R),F=P),D=L(D,1),R=L(R,1)}return T=g(C,k.j(T)),new S(k,T)}for(k=w;0<=C.l(T);){for(R=Math.max(1,Math.floor(C.m()/T.m())),D=Math.ceil(Math.log(R)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),F=d(R),P=F.j(T);y(P)||0<P.l(C);)R-=D,F=d(R),P=F.j(T);b(F)&&(F=f),k=k.add(F),C=g(C,P)}return new S(k,C)}s.A=function(C){return j(this,C).h},s.and=function(C){for(var T=Math.max(this.g.length,C.g.length),R=[],D=0;D<T;D++)R[D]=this.i(D)&C.i(D);return new l(R,this.h&C.h)},s.or=function(C){for(var T=Math.max(this.g.length,C.g.length),R=[],D=0;D<T;D++)R[D]=this.i(D)|C.i(D);return new l(R,this.h|C.h)},s.xor=function(C){for(var T=Math.max(this.g.length,C.g.length),R=[],D=0;D<T;D++)R[D]=this.i(D)^C.i(D);return new l(R,this.h^C.h)};function A(C){for(var T=C.g.length+1,R=[],D=0;D<T;D++)R[D]=C.i(D)<<1|C.i(D-1)>>>31;return new l(R,C.h)}function L(C,T){var R=T>>5;T%=32;for(var D=C.g.length-R,k=[],F=0;F<D;F++)k[F]=0<T?C.i(F+R)>>>T|C.i(F+R+1)<<32-T:C.i(F+R);return new l(k,C.h)}t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,M2=t,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=d,l.fromString=_,hl=l}).apply(typeof P_<"u"?P_:typeof self<"u"?self:typeof window<"u"?window:{});var Th=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var P2,Dc,D2,Hh,Gg,L2,N2,U2;(function(){var s,r=typeof Object.defineProperties=="function"?Object.defineProperty:function(U,re,oe){return U==Array.prototype||U==Object.prototype||(U[re]=oe.value),U};function n(U){U=[typeof globalThis=="object"&&globalThis,U,typeof window=="object"&&window,typeof self=="object"&&self,typeof Th=="object"&&Th];for(var re=0;re<U.length;++re){var oe=U[re];if(oe&&oe.Math==Math)return oe}throw Error("Cannot find global object")}var t=n(this);function o(U,re){if(re)e:{var oe=t;U=U.split(".");for(var we=0;we<U.length-1;we++){var E=U[we];if(!(E in oe))break e;oe=oe[E]}U=U[U.length-1],we=oe[U],re=re(we),re!=we&&re!=null&&r(oe,U,{configurable:!0,writable:!0,value:re})}}function c(U,re){U instanceof String&&(U+="");var oe=0,we=!1,E={next:function(){if(!we&&oe<U.length){var I=oe++;return{value:re(I,U[I]),done:!1}}return we=!0,{done:!0,value:void 0}}};return E[Symbol.iterator]=function(){return E},E}o("Array.prototype.values",function(U){return U||function(){return c(this,function(re,oe){return oe})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},h=this||self;function a(U){var re=typeof U;return re=re!="object"?re:U?Array.isArray(U)?"array":re:"null",re=="array"||re=="object"&&typeof U.length=="number"}function d(U){var re=typeof U;return re=="object"&&U!=null||re=="function"}function _(U,re,oe){return U.call.apply(U.bind,arguments)}function w(U,re,oe){if(!U)throw Error();if(2<arguments.length){var we=Array.prototype.slice.call(arguments,2);return function(){var E=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(E,we),U.apply(re,E)}}return function(){return U.apply(re,arguments)}}function f(U,re,oe){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:w,f.apply(null,arguments)}function p(U,re){var oe=Array.prototype.slice.call(arguments,1);return function(){var we=oe.slice();return we.push.apply(we,arguments),U.apply(this,we)}}function b(U,re){function oe(){}oe.prototype=re.prototype,U.aa=re.prototype,U.prototype=new oe,U.prototype.constructor=U,U.Qb=function(we,E,I){for(var N=Array(arguments.length-2),B=2;B<arguments.length;B++)N[B-2]=arguments[B];return re.prototype[E].apply(we,N)}}function y(U){const re=U.length;if(0<re){const oe=Array(re);for(let we=0;we<re;we++)oe[we]=U[we];return oe}return[]}function m(U,re){for(let oe=1;oe<arguments.length;oe++){const we=arguments[oe];if(a(we)){const E=U.length||0,I=we.length||0;U.length=E+I;for(let N=0;N<I;N++)U[E+N]=we[N]}else U.push(we)}}class g{constructor(re,oe){this.i=re,this.j=oe,this.h=0,this.g=null}get(){let re;return 0<this.h?(this.h--,re=this.g,this.g=re.next,re.next=null):re=this.i(),re}}function v(U){return/^[\s\xa0]*$/.test(U)}function S(){var U=h.navigator;return U&&(U=U.userAgent)?U:""}function j(U){return j[" "](U),U}j[" "]=function(){};var A=S().indexOf("Gecko")!=-1&&!(S().toLowerCase().indexOf("webkit")!=-1&&S().indexOf("Edge")==-1)&&!(S().indexOf("Trident")!=-1||S().indexOf("MSIE")!=-1)&&S().indexOf("Edge")==-1;function L(U,re,oe){for(const we in U)re.call(oe,U[we],we,U)}function C(U,re){for(const oe in U)re.call(void 0,U[oe],oe,U)}function T(U){const re={};for(const oe in U)re[oe]=U[oe];return re}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(U,re){let oe,we;for(let E=1;E<arguments.length;E++){we=arguments[E];for(oe in we)U[oe]=we[oe];for(let I=0;I<R.length;I++)oe=R[I],Object.prototype.hasOwnProperty.call(we,oe)&&(U[oe]=we[oe])}}function k(U){var re=1;U=U.split(":");const oe=[];for(;0<re&&U.length;)oe.push(U.shift()),re--;return U.length&&oe.push(U.join(":")),oe}function F(U){h.setTimeout(()=>{throw U},0)}function P(){var U=Z;let re=null;return U.g&&(re=U.g,U.g=U.g.next,U.g||(U.h=null),re.next=null),re}class q{constructor(){this.h=this.g=null}add(re,oe){const we=z.get();we.set(re,oe),this.h?this.h.next=we:this.g=we,this.h=we}}var z=new g(()=>new H,U=>U.reset());class H{constructor(){this.next=this.g=this.h=null}set(re,oe){this.h=re,this.g=oe,this.next=null}reset(){this.next=this.g=this.h=null}}let Q,J=!1,Z=new q,K=()=>{const U=h.Promise.resolve(void 0);Q=()=>{U.then(se)}};var se=()=>{for(var U;U=P();){try{U.h.call(U.g)}catch(oe){F(oe)}var re=z;re.j(U),100>re.h&&(re.h++,U.next=re.g,re.g=U)}J=!1};function le(){this.s=this.s,this.C=this.C}le.prototype.s=!1,le.prototype.ma=function(){this.s||(this.s=!0,this.N())},le.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(U,re){this.type=U,this.g=this.target=re,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var G=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var U=!1,re=Object.defineProperty({},"passive",{get:function(){U=!0}});try{const oe=()=>{};h.addEventListener("test",oe,re),h.removeEventListener("test",oe,re)}catch{}return U}();function X(U,re){if(M.call(this,U?U.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,U){var oe=this.type=U.type,we=U.changedTouches&&U.changedTouches.length?U.changedTouches[0]:null;if(this.target=U.target||U.srcElement,this.g=re,re=U.relatedTarget){if(A){e:{try{j(re.nodeName);var E=!0;break e}catch{}E=!1}E||(re=null)}}else oe=="mouseover"?re=U.fromElement:oe=="mouseout"&&(re=U.toElement);this.relatedTarget=re,we?(this.clientX=we.clientX!==void 0?we.clientX:we.pageX,this.clientY=we.clientY!==void 0?we.clientY:we.pageY,this.screenX=we.screenX||0,this.screenY=we.screenY||0):(this.clientX=U.clientX!==void 0?U.clientX:U.pageX,this.clientY=U.clientY!==void 0?U.clientY:U.pageY,this.screenX=U.screenX||0,this.screenY=U.screenY||0),this.button=U.button,this.key=U.key||"",this.ctrlKey=U.ctrlKey,this.altKey=U.altKey,this.shiftKey=U.shiftKey,this.metaKey=U.metaKey,this.pointerId=U.pointerId||0,this.pointerType=typeof U.pointerType=="string"?U.pointerType:ee[U.pointerType]||"",this.state=U.state,this.i=U,U.defaultPrevented&&X.aa.h.call(this)}}b(X,M);var ee={2:"touch",3:"pen",4:"mouse"};X.prototype.h=function(){X.aa.h.call(this);var U=this.i;U.preventDefault?U.preventDefault():U.returnValue=!1};var ae="closure_listenable_"+(1e6*Math.random()|0),ce=0;function pe(U,re,oe,we,E){this.listener=U,this.proxy=null,this.src=re,this.type=oe,this.capture=!!we,this.ha=E,this.key=++ce,this.da=this.fa=!1}function ve(U){U.da=!0,U.listener=null,U.proxy=null,U.src=null,U.ha=null}function ge(U){this.src=U,this.g={},this.h=0}ge.prototype.add=function(U,re,oe,we,E){var I=U.toString();U=this.g[I],U||(U=this.g[I]=[],this.h++);var N=xe(U,re,we,E);return-1<N?(re=U[N],oe||(re.fa=!1)):(re=new pe(re,this.src,I,!!we,E),re.fa=oe,U.push(re)),re};function Se(U,re){var oe=re.type;if(oe in U.g){var we=U.g[oe],E=Array.prototype.indexOf.call(we,re,void 0),I;(I=0<=E)&&Array.prototype.splice.call(we,E,1),I&&(ve(re),U.g[oe].length==0&&(delete U.g[oe],U.h--))}}function xe(U,re,oe,we){for(var E=0;E<U.length;++E){var I=U[E];if(!I.da&&I.listener==re&&I.capture==!!oe&&I.ha==we)return E}return-1}var he="closure_lm_"+(1e6*Math.random()|0),je={};function Ce(U,re,oe,we,E){if(Array.isArray(re)){for(var I=0;I<re.length;I++)Ce(U,re[I],oe,we,E);return null}return oe=it(oe),U&&U[ae]?U.K(re,oe,d(we)?!!we.capture:!!we,E):De(U,re,oe,!1,we,E)}function De(U,re,oe,we,E,I){if(!re)throw Error("Invalid event type");var N=d(E)?!!E.capture:!!E,B=mt(U);if(B||(U[he]=B=new ge(U)),oe=B.add(re,oe,we,N,I),oe.proxy)return oe;if(we=Oe(),oe.proxy=we,we.src=U,we.listener=oe,U.addEventListener)G||(E=N),E===void 0&&(E=!1),U.addEventListener(re.toString(),we,E);else if(U.attachEvent)U.attachEvent(Je(re.toString()),we);else if(U.addListener&&U.removeListener)U.addListener(we);else throw Error("addEventListener and attachEvent are unavailable.");return oe}function Oe(){function U(oe){return re.call(U.src,U.listener,oe)}const re=Ue;return U}function ke(U,re,oe,we,E){if(Array.isArray(re))for(var I=0;I<re.length;I++)ke(U,re[I],oe,we,E);else we=d(we)?!!we.capture:!!we,oe=it(oe),U&&U[ae]?(U=U.i,re=String(re).toString(),re in U.g&&(I=U.g[re],oe=xe(I,oe,we,E),-1<oe&&(ve(I[oe]),Array.prototype.splice.call(I,oe,1),I.length==0&&(delete U.g[re],U.h--)))):U&&(U=mt(U))&&(re=U.g[re.toString()],U=-1,re&&(U=xe(re,oe,we,E)),(oe=-1<U?re[U]:null)&&Fe(oe))}function Fe(U){if(typeof U!="number"&&U&&!U.da){var re=U.src;if(re&&re[ae])Se(re.i,U);else{var oe=U.type,we=U.proxy;re.removeEventListener?re.removeEventListener(oe,we,U.capture):re.detachEvent?re.detachEvent(Je(oe),we):re.addListener&&re.removeListener&&re.removeListener(we),(oe=mt(re))?(Se(oe,U),oe.h==0&&(oe.src=null,re[he]=null)):ve(U)}}}function Je(U){return U in je?je[U]:je[U]="on"+U}function Ue(U,re){if(U.da)U=!0;else{re=new X(re,this);var oe=U.listener,we=U.ha||U.src;U.fa&&Fe(U),U=oe.call(we,re)}return U}function mt(U){return U=U[he],U instanceof ge?U:null}var ut="__closure_events_fn_"+(1e9*Math.random()>>>0);function it(U){return typeof U=="function"?U:(U[ut]||(U[ut]=function(re){return U.handleEvent(re)}),U[ut])}function ft(){le.call(this),this.i=new ge(this),this.M=this,this.F=null}b(ft,le),ft.prototype[ae]=!0,ft.prototype.removeEventListener=function(U,re,oe,we){ke(this,U,re,oe,we)};function lt(U,re){var oe,we=U.F;if(we)for(oe=[];we;we=we.F)oe.push(we);if(U=U.M,we=re.type||re,typeof re=="string")re=new M(re,U);else if(re instanceof M)re.target=re.target||U;else{var E=re;re=new M(we,U),D(re,E)}if(E=!0,oe)for(var I=oe.length-1;0<=I;I--){var N=re.g=oe[I];E=Le(N,we,!0,re)&&E}if(N=re.g=U,E=Le(N,we,!0,re)&&E,E=Le(N,we,!1,re)&&E,oe)for(I=0;I<oe.length;I++)N=re.g=oe[I],E=Le(N,we,!1,re)&&E}ft.prototype.N=function(){if(ft.aa.N.call(this),this.i){var U=this.i,re;for(re in U.g){for(var oe=U.g[re],we=0;we<oe.length;we++)ve(oe[we]);delete U.g[re],U.h--}}this.F=null},ft.prototype.K=function(U,re,oe,we){return this.i.add(String(U),re,!1,oe,we)},ft.prototype.L=function(U,re,oe,we){return this.i.add(String(U),re,!0,oe,we)};function Le(U,re,oe,we){if(re=U.i.g[String(re)],!re)return!0;re=re.concat();for(var E=!0,I=0;I<re.length;++I){var N=re[I];if(N&&!N.da&&N.capture==oe){var B=N.listener,Y=N.ha||N.src;N.fa&&Se(U.i,N),E=B.call(Y,we)!==!1&&E}}return E&&!we.defaultPrevented}function et(U,re,oe){if(typeof U=="function")oe&&(U=f(U,oe));else if(U&&typeof U.handleEvent=="function")U=f(U.handleEvent,U);else throw Error("Invalid listener argument");return 2147483647<Number(re)?-1:h.setTimeout(U,re||0)}function Be(U){U.g=et(()=>{U.g=null,U.i&&(U.i=!1,Be(U))},U.l);const re=U.h;U.h=null,U.m.apply(null,re)}class de extends le{constructor(re,oe){super(),this.m=re,this.l=oe,this.h=null,this.i=!1,this.g=null}j(re){this.h=arguments,this.g?this.i=!0:Be(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function me(U){le.call(this),this.h=U,this.g={}}b(me,le);var ie=[];function ye(U){L(U.g,function(re,oe){this.g.hasOwnProperty(oe)&&Fe(re)},U),U.g={}}me.prototype.N=function(){me.aa.N.call(this),ye(this)},me.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Me=h.JSON.stringify,Ne=h.JSON.parse,Xe=class{stringify(U){return h.JSON.stringify(U,void 0)}parse(U){return h.JSON.parse(U,void 0)}};function ct(){}ct.prototype.h=null;function yt(U){return U.h||(U.h=U.i())}function vt(){}var bt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Nt(){M.call(this,"d")}b(Nt,M);function Tt(){M.call(this,"c")}b(Tt,M);var St={},Lt=null;function kt(){return Lt=Lt||new ft}St.La="serverreachability";function mr(U){M.call(this,St.La,U)}b(mr,M);function Wr(U){const re=kt();lt(re,new mr(re))}St.STAT_EVENT="statevent";function Nr(U,re){M.call(this,St.STAT_EVENT,U),this.stat=re}b(Nr,M);function Bt(U){const re=kt();lt(re,new Nr(re,U))}St.Ma="timingevent";function Er(U,re){M.call(this,St.Ma,U),this.size=re}b(Er,M);function Qt(U,re){if(typeof U!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){U()},re)}function Vr(){this.g=!0}Vr.prototype.xa=function(){this.g=!1};function Zr(U,re,oe,we,E,I){U.info(function(){if(U.g)if(I)for(var N="",B=I.split("&"),Y=0;Y<B.length;Y++){var te=B[Y].split("=");if(1<te.length){var ne=te[0];te=te[1];var fe=ne.split("_");N=2<=fe.length&&fe[1]=="type"?N+(ne+"="+te+"&"):N+(ne+"=redacted&")}}else N=null;else N=I;return"XMLHTTP REQ ("+we+") [attempt "+E+"]: "+re+`
`+oe+`
`+N})}function fr(U,re,oe,we,E,I,N){U.info(function(){return"XMLHTTP RESP ("+we+") [ attempt "+E+"]: "+re+`
`+oe+`
`+I+" "+N})}function Br(U,re,oe,we){U.info(function(){return"XMLHTTP TEXT ("+re+"): "+Kr(U,oe)+(we?" "+we:"")})}function es(U,re){U.info(function(){return"TIMEOUT: "+re})}Vr.prototype.info=function(){};function Kr(U,re){if(!U.g)return re;if(!re)return null;try{var oe=JSON.parse(re);if(oe){for(U=0;U<oe.length;U++)if(Array.isArray(oe[U])){var we=oe[U];if(!(2>we.length)){var E=we[1];if(Array.isArray(E)&&!(1>E.length)){var I=E[0];if(I!="noop"&&I!="stop"&&I!="close")for(var N=1;N<E.length;N++)E[N]=""}}}}return Me(oe)}catch{return re}}var Yr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},vs={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ms;function Ys(){}b(Ys,ct),Ys.prototype.g=function(){return new XMLHttpRequest},Ys.prototype.i=function(){return{}},Ms=new Ys;function Ae(U,re,oe,we){this.j=U,this.i=re,this.l=oe,this.R=we||1,this.U=new me(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new dt}function dt(){this.i=null,this.g="",this.h=!1}var wt={},ot={};function qt(U,re,oe){U.L=1,U.v=$s(Xr(re)),U.m=oe,U.P=!0,tt(U,null)}function tt(U,re){U.F=Date.now(),Pt(U),U.A=Xr(U.v);var oe=U.A,we=U.R;Array.isArray(we)||(we=[String(we)]),vi(oe.i,"t",we),U.C=0,oe=U.j.J,U.h=new dt,U.g=Ul(U.j,oe?re:null,!U.m),0<U.O&&(U.M=new de(f(U.Y,U,U.g),U.O)),re=U.U,oe=U.g,we=U.ca;var E="readystatechange";Array.isArray(E)||(E&&(ie[0]=E.toString()),E=ie);for(var I=0;I<E.length;I++){var N=Ce(oe,E[I],we||re.handleEvent,!1,re.h||re);if(!N)break;re.g[N.key]=N}re=U.H?T(U.H):{},U.m?(U.u||(U.u="POST"),re["Content-Type"]="application/x-www-form-urlencoded",U.g.ea(U.A,U.u,U.m,re)):(U.u="GET",U.g.ea(U.A,U.u,null,re)),Wr(),Zr(U.i,U.u,U.A,U.l,U.R,U.m)}Ae.prototype.ca=function(U){U=U.target;const re=this.M;re&&ps(U)==3?re.j():this.Y(U)},Ae.prototype.Y=function(U){try{if(U==this.g)e:{const fe=ps(this.g);var re=this.g.Ba();const Ee=this.g.Z();if(!(3>fe)&&(fe!=3||this.g&&(this.h.h||this.g.oa()||Na(this.g)))){this.J||fe!=4||re==7||(re==8||0>=Ee?Wr(3):Wr(2)),kr(this);var oe=this.g.Z();this.X=oe;t:if(Zt(this)){var we=Na(this.g);U="";var E=we.length,I=ps(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){nr(this),pr(this);var N="";break t}this.h.i=new h.TextDecoder}for(re=0;re<E;re++)this.h.h=!0,U+=this.h.i.decode(we[re],{stream:!(I&&re==E-1)});we.length=0,this.h.g+=U,this.C=0,N=this.h.g}else N=this.g.oa();if(this.o=oe==200,fr(this.i,this.u,this.A,this.l,this.R,fe,oe),this.o){if(this.T&&!this.K){t:{if(this.g){var B,Y=this.g;if((B=Y.g?Y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(B)){var te=B;break t}}te=null}if(oe=te)Br(this.i,this.l,oe,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,gr(this,oe);else{this.o=!1,this.s=3,Bt(12),nr(this),pr(this);break e}}if(this.P){oe=!0;let _e;for(;!this.J&&this.C<N.length;)if(_e=_t(this,N),_e==ot){fe==4&&(this.s=4,Bt(14),oe=!1),Br(this.i,this.l,null,"[Incomplete Response]");break}else if(_e==wt){this.s=4,Bt(15),Br(this.i,this.l,N,"[Invalid Chunk]"),oe=!1;break}else Br(this.i,this.l,_e,null),gr(this,_e);if(Zt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),fe!=4||N.length!=0||this.h.h||(this.s=1,Bt(16),oe=!1),this.o=this.o&&oe,!oe)Br(this.i,this.l,N,"[Invalid Chunked Response]"),nr(this),pr(this);else if(0<N.length&&!this.W){this.W=!0;var ne=this.j;ne.g==this&&ne.ba&&!ne.M&&(ne.j.info("Great, no buffering proxy detected. Bytes received: "+N.length),jt(ne),ne.M=!0,Bt(11))}}else Br(this.i,this.l,N,null),gr(this,N);fe==4&&nr(this),this.o&&!this.J&&(fe==4?xi(this.j,this):(this.o=!1,Pt(this)))}else Ll(this.g),oe==400&&0<N.indexOf("Unknown SID")?(this.s=3,Bt(12)):(this.s=0,Bt(13)),nr(this),pr(this)}}}catch{}finally{}};function Zt(U){return U.g?U.u=="GET"&&U.L!=2&&U.j.Ca:!1}function _t(U,re){var oe=U.C,we=re.indexOf(`
`,oe);return we==-1?ot:(oe=Number(re.substring(oe,we)),isNaN(oe)?wt:(we+=1,we+oe>re.length?ot:(re=re.slice(we,we+oe),U.C=we+oe,re)))}Ae.prototype.cancel=function(){this.J=!0,nr(this)};function Pt(U){U.S=Date.now()+U.I,xt(U,U.I)}function xt(U,re){if(U.B!=null)throw Error("WatchDog timer not null");U.B=Qt(f(U.ba,U),re)}function kr(U){U.B&&(h.clearTimeout(U.B),U.B=null)}Ae.prototype.ba=function(){this.B=null;const U=Date.now();0<=U-this.S?(es(this.i,this.A),this.L!=2&&(Wr(),Bt(17)),nr(this),this.s=2,pr(this)):xt(this,this.S-U)};function pr(U){U.j.G==0||U.J||xi(U.j,U)}function nr(U){kr(U);var re=U.M;re&&typeof re.ma=="function"&&re.ma(),U.M=null,ye(U.U),U.g&&(re=U.g,U.g=null,re.abort(),re.ma())}function gr(U,re){try{var oe=U.j;if(oe.G!=0&&(oe.g==U||mi(oe.h,U))){if(!U.K&&mi(oe.h,U)&&oe.G==3){try{var we=oe.Da.g.parse(re)}catch{we=null}if(Array.isArray(we)&&we.length==3){var E=we;if(E[0]==0){e:if(!oe.u){if(oe.g)if(oe.g.F+3e3<U.F)mo(oe),fo(oe);else break e;xs(oe),Bt(18)}}else oe.za=E[1],0<oe.za-oe.T&&37500>E[2]&&oe.F&&oe.v==0&&!oe.C&&(oe.C=Qt(f(oe.Za,oe),6e3));if(1>=Jr(oe.h)&&oe.ca){try{oe.ca()}catch{}oe.ca=void 0}}else Si(oe,11)}else if((U.K||oe.g==U)&&mo(oe),!v(re))for(E=oe.Da.g.parse(re),re=0;re<E.length;re++){let te=E[re];if(oe.T=te[0],te=te[1],oe.G==2)if(te[0]=="c"){oe.K=te[1],oe.ia=te[2];const ne=te[3];ne!=null&&(oe.la=ne,oe.j.info("VER="+oe.la));const fe=te[4];fe!=null&&(oe.Aa=fe,oe.j.info("SVER="+oe.Aa));const Ee=te[5];Ee!=null&&typeof Ee=="number"&&0<Ee&&(we=1.5*Ee,oe.L=we,oe.j.info("backChannelRequestTimeoutMs_="+we)),we=oe;const _e=U.g;if(_e){const Pe=_e.g?_e.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Pe){var I=we.h;I.g||Pe.indexOf("spdy")==-1&&Pe.indexOf("quic")==-1&&Pe.indexOf("h2")==-1||(I.j=I.l,I.g=new Set,I.h&&(mn(I,I.h),I.h=null))}if(we.D){const He=_e.g?_e.g.getResponseHeader("X-HTTP-Session-Id"):null;He&&(we.ya=He,ar(we.I,we.D,He))}}oe.G=3,oe.l&&oe.l.ua(),oe.ba&&(oe.R=Date.now()-U.F,oe.j.info("Handshake RTT: "+oe.R+"ms")),we=oe;var N=U;if(we.qa=Ga(we,we.J?we.ia:null,we.W),N.K){On(we.h,N);var B=N,Y=we.L;Y&&(B.I=Y),B.B&&(kr(B),Pt(B)),we.g=N}else Ns(we);0<oe.i.length&&po(oe)}else te[0]!="stop"&&te[0]!="close"||Si(oe,7);else oe.G==3&&(te[0]=="stop"||te[0]=="close"?te[0]=="stop"?Si(oe,7):Xo(oe):te[0]!="noop"&&oe.l&&oe.l.ta(te),oe.v=0)}}Wr(4)}catch{}}var bs=class{constructor(U,re){this.g=U,this.map=re}};function Rn(U){this.l=U||10,h.PerformanceNavigationTiming?(U=h.performance.getEntriesByType("navigation"),U=0<U.length&&(U[0].nextHopProtocol=="hq"||U[0].nextHopProtocol=="h2")):U=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=U?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ts(U){return U.h?!0:U.g?U.g.size>=U.j:!1}function Jr(U){return U.h?1:U.g?U.g.size:0}function mi(U,re){return U.h?U.h==re:U.g?U.g.has(re):!1}function mn(U,re){U.g?U.g.add(re):U.h=re}function On(U,re){U.h&&U.h==re?U.h=null:U.g&&U.g.has(re)&&U.g.delete(re)}Rn.prototype.cancel=function(){if(this.i=gn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const U of this.g.values())U.cancel();this.g.clear()}};function gn(U){if(U.h!=null)return U.i.concat(U.h.D);if(U.g!=null&&U.g.size!==0){let re=U.i;for(const oe of U.g.values())re=re.concat(oe.D);return re}return y(U.i)}function ka(U){if(U.V&&typeof U.V=="function")return U.V();if(typeof Map<"u"&&U instanceof Map||typeof Set<"u"&&U instanceof Set)return Array.from(U.values());if(typeof U=="string")return U.split("");if(a(U)){for(var re=[],oe=U.length,we=0;we<oe;we++)re.push(U[we]);return re}re=[],oe=0;for(we in U)re[oe++]=U[we];return re}function Ml(U){if(U.na&&typeof U.na=="function")return U.na();if(!U.V||typeof U.V!="function"){if(typeof Map<"u"&&U instanceof Map)return Array.from(U.keys());if(!(typeof Set<"u"&&U instanceof Set)){if(a(U)||typeof U=="string"){var re=[];U=U.length;for(var oe=0;oe<U;oe++)re.push(oe);return re}re=[],oe=0;for(const we in U)re[oe++]=we;return re}}}function Pi(U,re){if(U.forEach&&typeof U.forEach=="function")U.forEach(re,void 0);else if(a(U)||typeof U=="string")Array.prototype.forEach.call(U,re,void 0);else for(var oe=Ml(U),we=ka(U),E=we.length,I=0;I<E;I++)re.call(void 0,we[I],oe&&oe[I],U)}var no=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function so(U,re){if(U){U=U.split("&");for(var oe=0;oe<U.length;oe++){var we=U[oe].indexOf("="),E=null;if(0<=we){var I=U[oe].substring(0,we);E=U[oe].substring(we+1)}else I=U[oe];re(I,E?decodeURIComponent(E.replace(/\+/g," ")):"")}}}function Xs(U){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,U instanceof Xs){this.h=U.h,Di(this,U.j),this.o=U.o,this.g=U.g,gi(this,U.s),this.l=U.l;var re=U.i,oe=new Ds;oe.i=re.i,re.g&&(oe.g=new Map(re.g),oe.h=re.h),io(this,oe),this.m=U.m}else U&&(re=String(U).match(no))?(this.h=!1,Di(this,re[1]||"",!0),this.o=Ps(re[2]||""),this.g=Ps(re[3]||"",!0),gi(this,re[4]),this.l=Ps(re[5]||"",!0),io(this,re[6]||"",!0),this.m=Ps(re[7]||"")):(this.h=!1,this.i=new Ds(null,this.h))}Xs.prototype.toString=function(){var U=[],re=this.j;re&&U.push(en(re,Wo,!0),":");var oe=this.g;return(oe||re=="file")&&(U.push("//"),(re=this.o)&&U.push(en(re,Wo,!0),"@"),U.push(encodeURIComponent(String(oe)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),oe=this.s,oe!=null&&U.push(":",String(oe))),(oe=this.l)&&(this.g&&oe.charAt(0)!="/"&&U.push("/"),U.push(en(oe,oe.charAt(0)=="/"?Yo:yi,!0))),(oe=this.i.toString())&&U.push("?",oe),(oe=this.m)&&U.push("#",en(oe,Ma)),U.join("")};function Xr(U){return new Xs(U)}function Di(U,re,oe){U.j=oe?Ps(re,!0):re,U.j&&(U.j=U.j.replace(/:$/,""))}function gi(U,re){if(re){if(re=Number(re),isNaN(re)||0>re)throw Error("Bad port number "+re);U.s=re}else U.s=null}function io(U,re,oe){re instanceof Ds?(U.i=re,Pa(U.i,U.h)):(oe||(re=en(re,Vu)),U.i=new Ds(re,U.h))}function ar(U,re,oe){U.i.set(re,oe)}function $s(U){return ar(U,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),U}function Ps(U,re){return U?re?decodeURI(U.replace(/%25/g,"%2525")):decodeURIComponent(U):""}function en(U,re,oe){return typeof U=="string"?(U=encodeURI(U).replace(re,Pl),oe&&(U=U.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),U):null}function Pl(U){return U=U.charCodeAt(0),"%"+(U>>4&15).toString(16)+(U&15).toString(16)}var Wo=/[#\/\?@]/g,yi=/[#\?:]/g,Yo=/[#\?]/g,Vu=/[#\?@]/g,Ma=/#/g;function Ds(U,re){this.h=this.g=null,this.i=U||null,this.j=!!re}function _s(U){U.g||(U.g=new Map,U.h=0,U.i&&so(U.i,function(re,oe){U.add(decodeURIComponent(re.replace(/\+/g," ")),oe)}))}s=Ds.prototype,s.add=function(U,re){_s(this),this.i=null,U=Qs(this,U);var oe=this.g.get(U);return oe||this.g.set(U,oe=[]),oe.push(re),this.h+=1,this};function oo(U,re){_s(U),re=Qs(U,re),U.g.has(re)&&(U.i=null,U.h-=U.g.get(re).length,U.g.delete(re))}function Ks(U,re){return _s(U),re=Qs(U,re),U.g.has(re)}s.forEach=function(U,re){_s(this),this.g.forEach(function(oe,we){oe.forEach(function(E){U.call(re,E,we,this)},this)},this)},s.na=function(){_s(this);const U=Array.from(this.g.values()),re=Array.from(this.g.keys()),oe=[];for(let we=0;we<re.length;we++){const E=U[we];for(let I=0;I<E.length;I++)oe.push(re[we])}return oe},s.V=function(U){_s(this);let re=[];if(typeof U=="string")Ks(this,U)&&(re=re.concat(this.g.get(Qs(this,U))));else{U=Array.from(this.g.values());for(let oe=0;oe<U.length;oe++)re=re.concat(U[oe])}return re},s.set=function(U,re){return _s(this),this.i=null,U=Qs(this,U),Ks(this,U)&&(this.h-=this.g.get(U).length),this.g.set(U,[re]),this.h+=1,this},s.get=function(U,re){return U?(U=this.V(U),0<U.length?String(U[0]):re):re};function vi(U,re,oe){oo(U,re),0<oe.length&&(U.i=null,U.g.set(Qs(U,re),y(oe)),U.h+=oe.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const U=[],re=Array.from(this.g.keys());for(var oe=0;oe<re.length;oe++){var we=re[oe];const I=encodeURIComponent(String(we)),N=this.V(we);for(we=0;we<N.length;we++){var E=I;N[we]!==""&&(E+="="+encodeURIComponent(String(N[we]))),U.push(E)}}return this.i=U.join("&")};function Qs(U,re){return re=String(re),U.j&&(re=re.toLowerCase()),re}function Pa(U,re){re&&!U.j&&(_s(U),U.i=null,U.g.forEach(function(oe,we){var E=we.toLowerCase();we!=E&&(oo(this,we),vi(this,E,oe))},U)),U.j=re}function Dl(U,re){const oe=new Vr;if(h.Image){const we=new Image;we.onload=p(ws,oe,"TestLoadImage: loaded",!0,re,we),we.onerror=p(ws,oe,"TestLoadImage: error",!1,re,we),we.onabort=p(ws,oe,"TestLoadImage: abort",!1,re,we),we.ontimeout=p(ws,oe,"TestLoadImage: timeout",!1,re,we),h.setTimeout(function(){we.ontimeout&&we.ontimeout()},1e4),we.src=U}else re(!1)}function ao(U,re){const oe=new Vr,we=new AbortController,E=setTimeout(()=>{we.abort(),ws(oe,"TestPingServer: timeout",!1,re)},1e4);fetch(U,{signal:we.signal}).then(I=>{clearTimeout(E),I.ok?ws(oe,"TestPingServer: ok",!0,re):ws(oe,"TestPingServer: server error",!1,re)}).catch(()=>{clearTimeout(E),ws(oe,"TestPingServer: error",!1,re)})}function ws(U,re,oe,we,E){try{E&&(E.onload=null,E.onerror=null,E.onabort=null,E.ontimeout=null),we(oe)}catch{}}function Li(){this.g=new Xe}function dn(U,re,oe){const we=oe||"";try{Pi(U,function(E,I){let N=E;d(E)&&(N=Me(E)),re.push(we+I+"="+encodeURIComponent(N))})}catch(E){throw re.push(we+"type="+encodeURIComponent("_badmap")),E}}function Ln(U){this.l=U.Ub||null,this.j=U.eb||!1}b(Ln,ct),Ln.prototype.g=function(){return new fs(this.l,this.j)},Ln.prototype.i=function(U){return function(){return U}}({});function fs(U,re){ft.call(this),this.D=U,this.o=re,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(fs,ft),s=fs.prototype,s.open=function(U,re){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=U,this.A=re,this.readyState=1,rs(this)},s.send=function(U){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const re={headers:this.u,method:this.B,credentials:this.m,cache:void 0};U&&(re.body=U),(this.D||h).fetch(new Request(this.A,re)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,yn(this)),this.readyState=0},s.Sa=function(U){if(this.g&&(this.l=U,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=U.headers,this.readyState=2,rs(this)),this.g&&(this.readyState=3,rs(this),this.g)))if(this.responseType==="arraybuffer")U.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in U){if(this.j=U.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;bi(this)}else U.text().then(this.Ra.bind(this),this.ga.bind(this))};function bi(U){U.j.read().then(U.Pa.bind(U)).catch(U.ga.bind(U))}s.Pa=function(U){if(this.g){if(this.o&&U.value)this.response.push(U.value);else if(!this.o){var re=U.value?U.value:new Uint8Array(0);(re=this.v.decode(re,{stream:!U.done}))&&(this.response=this.responseText+=re)}U.done?yn(this):rs(this),this.readyState==3&&bi(this)}},s.Ra=function(U){this.g&&(this.response=this.responseText=U,yn(this))},s.Qa=function(U){this.g&&(this.response=U,yn(this))},s.ga=function(){this.g&&yn(this)};function yn(U){U.readyState=4,U.l=null,U.j=null,U.v=null,rs(U)}s.setRequestHeader=function(U,re){this.u.append(U,re)},s.getResponseHeader=function(U){return this.h&&this.h.get(U.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const U=[],re=this.h.entries();for(var oe=re.next();!oe.done;)oe=oe.value,U.push(oe[0]+": "+oe[1]),oe=re.next();return U.join(`\r
`)};function rs(U){U.onreadystatechange&&U.onreadystatechange.call(U)}Object.defineProperty(fs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(U){this.m=U?"include":"same-origin"}});function Da(U){let re="";return L(U,function(oe,we){re+=we,re+=":",re+=oe,re+=`\r
`}),re}function Ur(U,re,oe){e:{for(we in oe){var we=!1;break e}we=!0}we||(oe=Da(oe),typeof U=="string"?oe!=null&&encodeURIComponent(String(oe)):ar(U,re,oe))}function lr(U){ft.call(this),this.headers=new Map,this.o=U||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(lr,ft);var lo=/^https?$/i,Ni=["POST","PUT"];s=lr.prototype,s.Ha=function(U){this.J=U},s.ea=function(U,re,oe,we){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+U);re=re?re.toUpperCase():"GET",this.D=U,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ms.g(),this.v=this.o?yt(this.o):yt(Ms),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(re,String(U),!0),this.B=!1}catch(I){La(this,I);return}if(U=oe||"",oe=new Map(this.headers),we)if(Object.getPrototypeOf(we)===Object.prototype)for(var E in we)oe.set(E,we[E]);else if(typeof we.keys=="function"&&typeof we.get=="function")for(const I of we.keys())oe.set(I,we.get(I));else throw Error("Unknown input type for opt_headers: "+String(we));we=Array.from(oe.keys()).find(I=>I.toLowerCase()=="content-type"),E=h.FormData&&U instanceof h.FormData,!(0<=Array.prototype.indexOf.call(Ni,re,void 0))||we||E||oe.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[I,N]of oe)this.g.setRequestHeader(I,N);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{_i(this),this.u=!0,this.g.send(U),this.u=!1}catch(I){La(this,I)}};function La(U,re){U.h=!1,U.g&&(U.j=!0,U.g.abort(),U.j=!1),U.l=re,U.m=5,uo(U),Ls(U)}function uo(U){U.A||(U.A=!0,lt(U,"complete"),lt(U,"error"))}s.abort=function(U){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=U||7,lt(this,"complete"),lt(this,"abort"),Ls(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ls(this,!0)),lr.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?co(this):this.bb())},s.bb=function(){co(this)};function co(U){if(U.h&&typeof l<"u"&&(!U.v[1]||ps(U)!=4||U.Z()!=2)){if(U.u&&ps(U)==4)et(U.Ea,0,U);else if(lt(U,"readystatechange"),ps(U)==4){U.h=!1;try{const N=U.Z();e:switch(N){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var re=!0;break e;default:re=!1}var oe;if(!(oe=re)){var we;if(we=N===0){var E=String(U.D).match(no)[1]||null;!E&&h.self&&h.self.location&&(E=h.self.location.protocol.slice(0,-1)),we=!lo.test(E?E.toLowerCase():"")}oe=we}if(oe)lt(U,"complete"),lt(U,"success");else{U.m=6;try{var I=2<ps(U)?U.g.statusText:""}catch{I=""}U.l=I+" ["+U.Z()+"]",uo(U)}}finally{Ls(U)}}}}function Ls(U,re){if(U.g){_i(U);const oe=U.g,we=U.v[0]?()=>{}:null;U.g=null,U.v=null,re||lt(U,"ready");try{oe.onreadystatechange=we}catch{}}}function _i(U){U.I&&(h.clearTimeout(U.I),U.I=null)}s.isActive=function(){return!!this.g};function ps(U){return U.g?U.g.readyState:0}s.Z=function(){try{return 2<ps(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(U){if(this.g){var re=this.g.responseText;return U&&re.indexOf(U)==0&&(re=re.substring(U.length)),Ne(re)}};function Na(U){try{if(!U.g)return null;if("response"in U.g)return U.g.response;switch(U.H){case"":case"text":return U.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in U.g)return U.g.mozResponseArrayBuffer}return null}catch{return null}}function Ll(U){const re={};U=(U.g&&2<=ps(U)&&U.g.getAllResponseHeaders()||"").split(`\r
`);for(let we=0;we<U.length;we++){if(v(U[we]))continue;var oe=k(U[we]);const E=oe[0];if(oe=oe[1],typeof oe!="string")continue;oe=oe.trim();const I=re[E]||[];re[E]=I,I.push(oe)}C(re,function(we){return we.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ui(U,re,oe){return oe&&oe.internalChannelParams&&oe.internalChannelParams[U]||re}function ho(U){this.Aa=0,this.i=[],this.j=new Vr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ui("failFast",!1,U),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ui("baseRetryDelayMs",5e3,U),this.cb=Ui("retryDelaySeedMs",1e4,U),this.Wa=Ui("forwardChannelMaxRetries",2,U),this.wa=Ui("forwardChannelRequestTimeoutMs",2e4,U),this.pa=U&&U.xmlHttpFactory||void 0,this.Xa=U&&U.Tb||void 0,this.Ca=U&&U.useFetchStreams||!1,this.L=void 0,this.J=U&&U.supportsCrossDomainXhr||!1,this.K="",this.h=new Rn(U&&U.concurrentRequestLimit),this.Da=new Li,this.P=U&&U.fastHandshake||!1,this.O=U&&U.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=U&&U.Rb||!1,U&&U.xa&&this.j.xa(),U&&U.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&U&&U.detectBufferingProxy||!1,this.ja=void 0,U&&U.longPollingTimeout&&0<U.longPollingTimeout&&(this.ja=U.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=ho.prototype,s.la=8,s.G=1,s.connect=function(U,re,oe,we){Bt(0),this.W=U,this.H=re||{},oe&&we!==void 0&&(this.H.OSID=oe,this.H.OAID=we),this.F=this.X,this.I=Ga(this,null,this.W),po(this)};function Xo(U){if(Ua(U),U.G==3){var re=U.U++,oe=Xr(U.I);if(ar(oe,"SID",U.K),ar(oe,"RID",re),ar(oe,"TYPE","terminate"),wi(U,oe),re=new Ae(U,U.j,re),re.L=2,re.v=$s(Xr(oe)),oe=!1,h.navigator&&h.navigator.sendBeacon)try{oe=h.navigator.sendBeacon(re.v.toString(),"")}catch{}!oe&&h.Image&&(new Image().src=re.v,oe=!0),oe||(re.g=Ul(re.j,null),re.g.ea(re.v)),re.F=Date.now(),Pt(re)}yr(U)}function fo(U){U.g&&(jt(U),U.g.cancel(),U.g=null)}function Ua(U){fo(U),U.u&&(h.clearTimeout(U.u),U.u=null),mo(U),U.h.cancel(),U.s&&(typeof U.s=="number"&&h.clearTimeout(U.s),U.s=null)}function po(U){if(!ts(U.h)&&!U.s){U.s=!0;var re=U.Ga;Q||K(),J||(Q(),J=!0),Z.add(re,U),U.B=0}}function Fa(U,re){return Jr(U.h)>=U.h.j-(U.s?1:0)?!1:U.s?(U.i=re.D.concat(U.i),!0):U.G==1||U.G==2||U.B>=(U.Va?0:U.Wa)?!1:(U.s=Qt(f(U.Ga,U,re),Ba(U,U.B)),U.B++,!0)}s.Ga=function(U){if(this.s)if(this.s=null,this.G==1){if(!U){this.U=Math.floor(1e5*Math.random()),U=this.U++;const E=new Ae(this,this.j,U);let I=this.o;if(this.S&&(I?(I=T(I),D(I,this.S)):I=this.S),this.m!==null||this.O||(E.H=I,I=null),this.P)e:{for(var re=0,oe=0;oe<this.i.length;oe++){t:{var we=this.i[oe];if("__data__"in we.map&&(we=we.map.__data__,typeof we=="string")){we=we.length;break t}we=void 0}if(we===void 0)break;if(re+=we,4096<re){re=oe;break e}if(re===4096||oe===this.i.length-1){re=oe+1;break e}}re=1e3}else re=1e3;re=Va(this,E,re),oe=Xr(this.I),ar(oe,"RID",U),ar(oe,"CVER",22),this.D&&ar(oe,"X-HTTP-Session-Id",this.D),wi(this,oe),I&&(this.O?re="headers="+encodeURIComponent(String(Da(I)))+"&"+re:this.m&&Ur(oe,this.m,I)),mn(this.h,E),this.Ua&&ar(oe,"TYPE","init"),this.P?(ar(oe,"$req",re),ar(oe,"SID","null"),E.T=!0,qt(E,oe,null)):qt(E,oe,re),this.G=2}}else this.G==3&&(U?Fi(this,U):this.i.length==0||ts(this.h)||Fi(this))};function Fi(U,re){var oe;re?oe=re.l:oe=U.U++;const we=Xr(U.I);ar(we,"SID",U.K),ar(we,"RID",oe),ar(we,"AID",U.T),wi(U,we),U.m&&U.o&&Ur(we,U.m,U.o),oe=new Ae(U,U.j,oe,U.B+1),U.m===null&&(oe.H=U.o),re&&(U.i=re.D.concat(U.i)),re=Va(U,oe,1e3),oe.I=Math.round(.5*U.wa)+Math.round(.5*U.wa*Math.random()),mn(U.h,oe),qt(oe,we,re)}function wi(U,re){U.H&&L(U.H,function(oe,we){ar(re,we,oe)}),U.l&&Pi({},function(oe,we){ar(re,we,oe)})}function Va(U,re,oe){oe=Math.min(U.i.length,oe);var we=U.l?f(U.l.Na,U.l,U):null;e:{var E=U.i;let I=-1;for(;;){const N=["count="+oe];I==-1?0<oe?(I=E[0].g,N.push("ofs="+I)):I=0:N.push("ofs="+I);let B=!0;for(let Y=0;Y<oe;Y++){let te=E[Y].g;const ne=E[Y].map;if(te-=I,0>te)I=Math.max(0,E[Y].g-100),B=!1;else try{dn(ne,N,"req"+te+"_")}catch{we&&we(ne)}}if(B){we=N.join("&");break e}}}return U=U.i.splice(0,oe),re.D=U,we}function Ns(U){if(!U.g&&!U.u){U.Y=1;var re=U.Fa;Q||K(),J||(Q(),J=!0),Z.add(re,U),U.v=0}}function xs(U){return U.g||U.u||3<=U.v?!1:(U.Y++,U.u=Qt(f(U.Fa,U),Ba(U,U.v)),U.v++,!0)}s.Fa=function(){if(this.u=null,Nl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var U=2*this.R;this.j.info("BP detection timer enabled: "+U),this.A=Qt(f(this.ab,this),U)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Bt(10),fo(this),Nl(this))};function jt(U){U.A!=null&&(h.clearTimeout(U.A),U.A=null)}function Nl(U){U.g=new Ae(U,U.j,"rpc",U.Y),U.m===null&&(U.g.H=U.o),U.g.O=0;var re=Xr(U.qa);ar(re,"RID","rpc"),ar(re,"SID",U.K),ar(re,"AID",U.T),ar(re,"CI",U.F?"0":"1"),!U.F&&U.ja&&ar(re,"TO",U.ja),ar(re,"TYPE","xmlhttp"),wi(U,re),U.m&&U.o&&Ur(re,U.m,U.o),U.L&&(U.g.I=U.L);var oe=U.g;U=U.ia,oe.L=1,oe.v=$s(Xr(re)),oe.m=null,oe.P=!0,tt(oe,U)}s.Za=function(){this.C!=null&&(this.C=null,fo(this),xs(this),Bt(19))};function mo(U){U.C!=null&&(h.clearTimeout(U.C),U.C=null)}function xi(U,re){var oe=null;if(U.g==re){mo(U),jt(U),U.g=null;var we=2}else if(mi(U.h,re))oe=re.D,On(U.h,re),we=1;else return;if(U.G!=0){if(re.o)if(we==1){oe=re.m?re.m.length:0,re=Date.now()-re.F;var E=U.B;we=kt(),lt(we,new Er(we,oe)),po(U)}else Ns(U);else if(E=re.s,E==3||E==0&&0<re.X||!(we==1&&Fa(U,re)||we==2&&xs(U)))switch(oe&&0<oe.length&&(re=U.h,re.i=re.i.concat(oe)),E){case 1:Si(U,5);break;case 4:Si(U,10);break;case 3:Si(U,6);break;default:Si(U,2)}}}function Ba(U,re){let oe=U.Ta+Math.floor(Math.random()*U.cb);return U.isActive()||(oe*=2),oe*re}function Si(U,re){if(U.j.info("Error code "+re),re==2){var oe=f(U.fb,U),we=U.Xa;const E=!we;we=new Xs(we||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Di(we,"https"),$s(we),E?Dl(we.toString(),oe):ao(we.toString(),oe)}else Bt(2);U.G=0,U.l&&U.l.sa(re),yr(U),Ua(U)}s.fb=function(U){U?(this.j.info("Successfully pinged google.com"),Bt(2)):(this.j.info("Failed to ping google.com"),Bt(1))};function yr(U){if(U.G=0,U.ka=[],U.l){const re=gn(U.h);(re.length!=0||U.i.length!=0)&&(m(U.ka,re),m(U.ka,U.i),U.h.i.length=0,y(U.i),U.i.length=0),U.l.ra()}}function Ga(U,re,oe){var we=oe instanceof Xs?Xr(oe):new Xs(oe);if(we.g!="")re&&(we.g=re+"."+we.g),gi(we,we.s);else{var E=h.location;we=E.protocol,re=re?re+"."+E.hostname:E.hostname,E=+E.port;var I=new Xs(null);we&&Di(I,we),re&&(I.g=re),E&&gi(I,E),oe&&(I.l=oe),we=I}return oe=U.D,re=U.ya,oe&&re&&ar(we,oe,re),ar(we,"VER",U.la),wi(U,we),we}function Ul(U,re,oe){if(re&&!U.J)throw Error("Can't create secondary domain capable XhrIo object.");return re=U.Ca&&!U.pa?new lr(new Ln({eb:oe})):new lr(U.pa),re.Ha(U.J),re}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function ns(){}s=ns.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function $o(){}$o.prototype.g=function(U,re){return new Hn(U,re)};function Hn(U,re){ft.call(this),this.g=new ho(re),this.l=U,this.h=re&&re.messageUrlParams||null,U=re&&re.messageHeaders||null,re&&re.clientProtocolHeaderRequired&&(U?U["X-Client-Protocol"]="webchannel":U={"X-Client-Protocol":"webchannel"}),this.g.o=U,U=re&&re.initMessageHeaders||null,re&&re.messageContentType&&(U?U["X-WebChannel-Content-Type"]=re.messageContentType:U={"X-WebChannel-Content-Type":re.messageContentType}),re&&re.va&&(U?U["X-WebChannel-Client-Profile"]=re.va:U={"X-WebChannel-Client-Profile":re.va}),this.g.S=U,(U=re&&re.Sb)&&!v(U)&&(this.g.m=U),this.v=re&&re.supportsCrossDomainXhr||!1,this.u=re&&re.sendRawJson||!1,(re=re&&re.httpSessionIdParam)&&!v(re)&&(this.g.D=re,U=this.h,U!==null&&re in U&&(U=this.h,re in U&&delete U[re])),this.j=new Zs(this)}b(Hn,ft),Hn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Hn.prototype.close=function(){Xo(this.g)},Hn.prototype.o=function(U){var re=this.g;if(typeof U=="string"){var oe={};oe.__data__=U,U=oe}else this.u&&(oe={},oe.__data__=Me(U),U=oe);re.i.push(new bs(re.Ya++,U)),re.G==3&&po(re)},Hn.prototype.N=function(){this.g.l=null,delete this.j,Xo(this.g),delete this.g,Hn.aa.N.call(this)};function Fl(U){Nt.call(this),U.__headers__&&(this.headers=U.__headers__,this.statusCode=U.__status__,delete U.__headers__,delete U.__status__);var re=U.__sm__;if(re){e:{for(const oe in re){U=oe;break e}U=void 0}(this.i=U)&&(U=this.i,re=re!==null&&U in re?re[U]:void 0),this.data=re}else this.data=U}b(Fl,Nt);function Vl(){Tt.call(this),this.status=1}b(Vl,Tt);function Zs(U){this.g=U}b(Zs,ns),Zs.prototype.ua=function(){lt(this.g,"a")},Zs.prototype.ta=function(U){lt(this.g,new Fl(U))},Zs.prototype.sa=function(U){lt(this.g,new Vl)},Zs.prototype.ra=function(){lt(this.g,"b")},$o.prototype.createWebChannel=$o.prototype.g,Hn.prototype.send=Hn.prototype.o,Hn.prototype.open=Hn.prototype.m,Hn.prototype.close=Hn.prototype.close,U2=function(){return new $o},N2=function(){return kt()},L2=St,Gg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Yr.NO_ERROR=0,Yr.TIMEOUT=8,Yr.HTTP_ERROR=6,Hh=Yr,vs.COMPLETE="complete",D2=vs,vt.EventType=bt,bt.OPEN="a",bt.CLOSE="b",bt.ERROR="c",bt.MESSAGE="d",ft.prototype.listen=ft.prototype.K,Dc=vt,lr.prototype.listenOnce=lr.prototype.L,lr.prototype.getLastError=lr.prototype.Ka,lr.prototype.getLastErrorCode=lr.prototype.Ba,lr.prototype.getStatus=lr.prototype.Z,lr.prototype.getResponseJson=lr.prototype.Oa,lr.prototype.getResponseText=lr.prototype.oa,lr.prototype.send=lr.prototype.ea,lr.prototype.setWithCredentials=lr.prototype.Ha,P2=lr}).apply(typeof Th<"u"?Th:typeof self<"u"?self:typeof window<"u"?window:{});const D_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(r){this.uid=r}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(r){return r.uid===this.uid}}us.UNAUTHENTICATED=new us(null),us.GOOGLE_CREDENTIALS=new us("google-credentials-uid"),us.FIRST_PARTY=new us("first-party-uid"),us.MOCK_USER=new us("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pu="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gl=new Pf("@firebase/firestore");function Ec(){return gl.logLevel}function It(s,...r){if(gl.logLevel<=cr.DEBUG){const n=r.map(Hy);gl.debug(`Firestore (${Pu}): ${s}`,...n)}}function Go(s,...r){if(gl.logLevel<=cr.ERROR){const n=r.map(Hy);gl.error(`Firestore (${Pu}): ${s}`,...n)}}function wu(s,...r){if(gl.logLevel<=cr.WARN){const n=r.map(Hy);gl.warn(`Firestore (${Pu}): ${s}`,...n)}}function Hy(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yt(s="Unexpected state"){const r=`FIRESTORE (${Pu}) INTERNAL ASSERTION FAILED: `+s;throw Go(r),new Error(r)}function Ir(s,r){s||Yt()}function Kt(s,r){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ht={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ct extends pi{constructor(r,n){super(r,n),this.code=r,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(){this.promise=new Promise((r,n)=>{this.resolve=r,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(r,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${r}`)}}class zk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(r,n){r.enqueueRetryable(()=>n(us.UNAUTHENTICATED))}shutdown(){}}class Hk{constructor(r){this.token=r,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(r,n){this.changeListener=n,r.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class qk{constructor(r){this.t=r,this.currentUser=us.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(r,n){Ir(this.o===void 0);let t=this.i;const o=a=>this.i!==t?(t=this.i,n(a)):Promise.resolve();let c=new Lo;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Lo,r.enqueueRetryable(()=>o(this.currentUser))};const l=()=>{const a=c;r.enqueueRetryable(async()=>{await a.promise,await o(this.currentUser)})},h=a=>{It("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=a,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(a=>h(a)),setTimeout(()=>{if(!this.auth){const a=this.t.getImmediate({optional:!0});a?h(a):(It("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Lo)}},0),l()}getToken(){const r=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(t=>this.i!==r?(It("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Ir(typeof t.accessToken=="string"),new F2(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const r=this.auth&&this.auth.getUid();return Ir(r===null||typeof r=="string"),new us(r)}}class Wk{constructor(r,n,t){this.l=r,this.h=n,this.P=t,this.type="FirstParty",this.user=us.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const r=this.T();return r&&this.I.set("Authorization",r),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Yk{constructor(r,n,t){this.l=r,this.h=n,this.P=t}getToken(){return Promise.resolve(new Wk(this.l,this.h,this.P))}start(r,n){r.enqueueRetryable(()=>n(us.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Xk{constructor(r){this.value=r,this.type="AppCheck",this.headers=new Map,r&&r.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $k{constructor(r){this.A=r,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(r,n){Ir(this.o===void 0);const t=c=>{c.error!=null&&It("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const l=c.token!==this.R;return this.R=c.token,It("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(c.token):Promise.resolve()};this.o=c=>{r.enqueueRetryable(()=>t(c))};const o=c=>{It("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>o(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?o(c):It("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const r=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(r).then(n=>n?(Ir(typeof n.token=="string"),this.R=n.token,new Xk(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kk(s){const r=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(r&&typeof r.getRandomValues=="function")r.getRandomValues(n);else for(let t=0;t<s;t++)n[t]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{static newId(){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/r.length)*r.length;let t="";for(;t.length<20;){const o=Kk(40);for(let c=0;c<o.length;++c)t.length<20&&o[c]<n&&(t+=r.charAt(o[c]%r.length))}return t}}function _r(s,r){return s<r?-1:s>r?1:0}function xu(s,r,n){return s.length===r.length&&s.every((t,o)=>n(t,r[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(r,n){if(this.seconds=r,this.nanoseconds=n,n<0)throw new Ct(ht.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ct(ht.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(r<-62135596800)throw new Ct(ht.INVALID_ARGUMENT,"Timestamp seconds out of range: "+r);if(r>=253402300800)throw new Ct(ht.INVALID_ARGUMENT,"Timestamp seconds out of range: "+r)}static now(){return Dn.fromMillis(Date.now())}static fromDate(r){return Dn.fromMillis(r.getTime())}static fromMillis(r){const n=Math.floor(r/1e3),t=Math.floor(1e6*(r-1e3*n));return new Dn(n,t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(r){return this.seconds===r.seconds?_r(this.nanoseconds,r.nanoseconds):_r(this.seconds,r.seconds)}isEqual(r){return r.seconds===this.seconds&&r.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const r=this.seconds- -62135596800;return String(r).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(r){this.timestamp=r}static fromTimestamp(r){return new $t(r)}static min(){return new $t(new Dn(0,0))}static max(){return new $t(new Dn(253402300799,999999999))}compareTo(r){return this.timestamp._compareTo(r.timestamp)}isEqual(r){return this.timestamp.isEqual(r.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(r,n,t){n===void 0?n=0:n>r.length&&Yt(),t===void 0?t=r.length-n:t>r.length-n&&Yt(),this.segments=r,this.offset=n,this.len=t}get length(){return this.len}isEqual(r){return Jc.comparator(this,r)===0}child(r){const n=this.segments.slice(this.offset,this.limit());return r instanceof Jc?r.forEach(t=>{n.push(t)}):n.push(r),this.construct(n)}limit(){return this.offset+this.length}popFirst(r){return r=r===void 0?1:r,this.construct(this.segments,this.offset+r,this.length-r)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(r){return this.segments[this.offset+r]}isEmpty(){return this.length===0}isPrefixOf(r){if(r.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==r.get(n))return!1;return!0}isImmediateParentOf(r){if(this.length+1!==r.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==r.get(n))return!1;return!0}forEach(r){for(let n=this.offset,t=this.limit();n<t;n++)r(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(r,n){const t=Math.min(r.length,n.length);for(let o=0;o<t;o++){const c=r.get(o),l=n.get(o);if(c<l)return-1;if(c>l)return 1}return r.length<n.length?-1:r.length>n.length?1:0}}class $r extends Jc{construct(r,n,t){return new $r(r,n,t)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...r){const n=[];for(const t of r){if(t.indexOf("//")>=0)throw new Ct(ht.INVALID_ARGUMENT,`Invalid segment (${t}). Paths must not contain // in them.`);n.push(...t.split("/").filter(o=>o.length>0))}return new $r(n)}static emptyPath(){return new $r([])}}const Qk=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kn extends Jc{construct(r,n,t){return new Kn(r,n,t)}static isValidIdentifier(r){return Qk.test(r)}canonicalString(){return this.toArray().map(r=>(r=r.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kn.isValidIdentifier(r)||(r="`"+r+"`"),r)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Kn(["__name__"])}static fromServerFormat(r){const n=[];let t="",o=0;const c=()=>{if(t.length===0)throw new Ct(ht.INVALID_ARGUMENT,`Invalid field path (${r}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(t),t=""};let l=!1;for(;o<r.length;){const h=r[o];if(h==="\\"){if(o+1===r.length)throw new Ct(ht.INVALID_ARGUMENT,"Path has trailing escape character: "+r);const a=r[o+1];if(a!=="\\"&&a!=="."&&a!=="`")throw new Ct(ht.INVALID_ARGUMENT,"Path has invalid escape sequence: "+r);t+=a,o+=2}else h==="`"?(l=!l,o++):h!=="."||l?(t+=h,o++):(c(),o++)}if(c(),l)throw new Ct(ht.INVALID_ARGUMENT,"Unterminated ` in path: "+r);return new Kn(n)}static emptyPath(){return new Kn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(r){this.path=r}static fromPath(r){return new Vt($r.fromString(r))}static fromName(r){return new Vt($r.fromString(r).popFirst(5))}static empty(){return new Vt($r.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(r){return this.path.length>=2&&this.path.get(this.path.length-2)===r}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(r){return r!==null&&$r.comparator(this.path,r.path)===0}toString(){return this.path.toString()}static comparator(r,n){return $r.comparator(r.path,n.path)}static isDocumentKey(r){return r.length%2==0}static fromSegments(r){return new Vt(new $r(r.slice()))}}function Zk(s,r){const n=s.toTimestamp().seconds,t=s.toTimestamp().nanoseconds+1,o=$t.fromTimestamp(t===1e9?new Dn(n+1,0):new Dn(n,t));return new Ea(o,Vt.empty(),r)}function Jk(s){return new Ea(s.readTime,s.key,-1)}class Ea{constructor(r,n,t){this.readTime=r,this.documentKey=n,this.largestBatchId=t}static min(){return new Ea($t.min(),Vt.empty(),-1)}static max(){return new Ea($t.max(),Vt.empty(),-1)}}function eM(s,r){let n=s.readTime.compareTo(r.readTime);return n!==0?n:(n=Vt.comparator(s.documentKey,r.documentKey),n!==0?n:_r(s.largestBatchId,r.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class rM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(r){this.onCommittedListeners.push(r)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(r=>r())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vd(s){if(s.code!==ht.FAILED_PRECONDITION||s.message!==tM)throw s;It("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(r){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,r(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(r){return this.next(void 0,r)}next(r,n){return this.callbackAttached&&Yt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(r,this.result):new gt((t,o)=>{this.nextCallback=c=>{this.wrapSuccess(r,c).next(t,o)},this.catchCallback=c=>{this.wrapFailure(n,c).next(t,o)}})}toPromise(){return new Promise((r,n)=>{this.next(r,n)})}wrapUserFunction(r){try{const n=r();return n instanceof gt?n:gt.resolve(n)}catch(n){return gt.reject(n)}}wrapSuccess(r,n){return r?this.wrapUserFunction(()=>r(n)):gt.resolve(n)}wrapFailure(r,n){return r?this.wrapUserFunction(()=>r(n)):gt.reject(n)}static resolve(r){return new gt((n,t)=>{n(r)})}static reject(r){return new gt((n,t)=>{t(r)})}static waitFor(r){return new gt((n,t)=>{let o=0,c=0,l=!1;r.forEach(h=>{++o,h.next(()=>{++c,l&&c===o&&n()},a=>t(a))}),l=!0,c===o&&n()})}static or(r){let n=gt.resolve(!1);for(const t of r)n=n.next(o=>o?gt.resolve(o):t());return n}static forEach(r,n){const t=[];return r.forEach((o,c)=>{t.push(n.call(this,o,c))}),this.waitFor(t)}static mapArray(r,n){return new gt((t,o)=>{const c=r.length,l=new Array(c);let h=0;for(let a=0;a<c;a++){const d=a;n(r[d]).next(_=>{l[d]=_,++h,h===c&&t(l)},_=>o(_))}})}static doWhile(r,n){return new gt((t,o)=>{const c=()=>{r()===!0?n().next(()=>{c()},o):t()};c()})}}function nM(s){const r=s.match(/Android ([\d.]+)/i),n=r?r[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function bd(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy{constructor(r,n){this.previousValue=r,n&&(n.sequenceNumberHandler=t=>this.ie(t),this.se=t=>n.writeSequenceNumber(t))}ie(r){return this.previousValue=Math.max(r,this.previousValue),this.previousValue}next(){const r=++this.previousValue;return this.se&&this.se(r),r}}qy.oe=-1;function Vf(s){return s==null}function cf(s){return s===0&&1/s==-1/0}function sM(s){return typeof s=="number"&&Number.isInteger(s)&&!cf(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L_(s){let r=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&r++;return r}function Du(s,r){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&r(n,s[n])}function B2(s){for(const r in s)if(Object.prototype.hasOwnProperty.call(s,r))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(r,n){this.comparator=r,this.root=n||Xn.EMPTY}insert(r,n){return new nn(this.comparator,this.root.insert(r,n,this.comparator).copy(null,null,Xn.BLACK,null,null))}remove(r){return new nn(this.comparator,this.root.remove(r,this.comparator).copy(null,null,Xn.BLACK,null,null))}get(r){let n=this.root;for(;!n.isEmpty();){const t=this.comparator(r,n.key);if(t===0)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}indexOf(r){let n=0,t=this.root;for(;!t.isEmpty();){const o=this.comparator(r,t.key);if(o===0)return n+t.left.size;o<0?t=t.left:(n+=t.left.size+1,t=t.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(r){return this.root.inorderTraversal(r)}forEach(r){this.inorderTraversal((n,t)=>(r(n,t),!1))}toString(){const r=[];return this.inorderTraversal((n,t)=>(r.push(`${n}:${t}`),!1)),`{${r.join(", ")}}`}reverseTraversal(r){return this.root.reverseTraversal(r)}getIterator(){return new Ch(this.root,null,this.comparator,!1)}getIteratorFrom(r){return new Ch(this.root,r,this.comparator,!1)}getReverseIterator(){return new Ch(this.root,null,this.comparator,!0)}getReverseIteratorFrom(r){return new Ch(this.root,r,this.comparator,!0)}}class Ch{constructor(r,n,t,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!r.isEmpty();)if(c=n?t(r.key,n):1,n&&o&&(c*=-1),c<0)r=this.isReverse?r.left:r.right;else{if(c===0){this.nodeStack.push(r);break}this.nodeStack.push(r),r=this.isReverse?r.right:r.left}}getNext(){let r=this.nodeStack.pop();const n={key:r.key,value:r.value};if(this.isReverse)for(r=r.left;!r.isEmpty();)this.nodeStack.push(r),r=r.right;else for(r=r.right;!r.isEmpty();)this.nodeStack.push(r),r=r.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const r=this.nodeStack[this.nodeStack.length-1];return{key:r.key,value:r.value}}}class Xn{constructor(r,n,t,o,c){this.key=r,this.value=n,this.color=t??Xn.RED,this.left=o??Xn.EMPTY,this.right=c??Xn.EMPTY,this.size=this.left.size+1+this.right.size}copy(r,n,t,o,c){return new Xn(r??this.key,n??this.value,t??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(r){return this.left.inorderTraversal(r)||r(this.key,this.value)||this.right.inorderTraversal(r)}reverseTraversal(r){return this.right.reverseTraversal(r)||r(this.key,this.value)||this.left.reverseTraversal(r)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(r,n,t){let o=this;const c=t(r,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(r,n,t),null):c===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(r,n,t)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Xn.EMPTY;let r=this;return r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.removeMin(),null),r.fixUp()}remove(r,n){let t,o=this;if(n(r,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(r,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(r,o.key)===0){if(o.right.isEmpty())return Xn.EMPTY;t=o.right.min(),o=o.copy(t.key,t.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(r,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let r=this;return r.right.isRed()&&!r.left.isRed()&&(r=r.rotateLeft()),r.left.isRed()&&r.left.left.isRed()&&(r=r.rotateRight()),r.left.isRed()&&r.right.isRed()&&(r=r.colorFlip()),r}moveRedLeft(){let r=this.colorFlip();return r.right.left.isRed()&&(r=r.copy(null,null,null,null,r.right.rotateRight()),r=r.rotateLeft(),r=r.colorFlip()),r}moveRedRight(){let r=this.colorFlip();return r.left.left.isRed()&&(r=r.rotateRight(),r=r.colorFlip()),r}rotateLeft(){const r=this.copy(null,null,Xn.RED,null,this.right.left);return this.right.copy(null,null,this.color,r,null)}rotateRight(){const r=this.copy(null,null,Xn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,r)}colorFlip(){const r=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,r,n)}checkMaxDepth(){const r=this.check();return Math.pow(2,r)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Yt();const r=this.left.check();if(r!==this.right.check())throw Yt();return r+(this.isRed()?0:1)}}Xn.EMPTY=null,Xn.RED=!0,Xn.BLACK=!1;Xn.EMPTY=new class{constructor(){this.size=0}get key(){throw Yt()}get value(){throw Yt()}get color(){throw Yt()}get left(){throw Yt()}get right(){throw Yt()}copy(r,n,t,o,c){return this}insert(r,n,t){return new Xn(r,n)}remove(r,n){return this}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(r){this.comparator=r,this.data=new nn(this.comparator)}has(r){return this.data.get(r)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(r){return this.data.indexOf(r)}forEach(r){this.data.inorderTraversal((n,t)=>(r(n),!1))}forEachInRange(r,n){const t=this.data.getIteratorFrom(r[0]);for(;t.hasNext();){const o=t.getNext();if(this.comparator(o.key,r[1])>=0)return;n(o.key)}}forEachWhile(r,n){let t;for(t=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();t.hasNext();)if(!r(t.getNext().key))return}firstAfterOrEqual(r){const n=this.data.getIteratorFrom(r);return n.hasNext()?n.getNext().key:null}getIterator(){return new N_(this.data.getIterator())}getIteratorFrom(r){return new N_(this.data.getIteratorFrom(r))}add(r){return this.copy(this.data.remove(r).insert(r,!0))}delete(r){return this.has(r)?this.copy(this.data.remove(r)):this}isEmpty(){return this.data.isEmpty()}unionWith(r){let n=this;return n.size<r.size&&(n=r,r=this),r.forEach(t=>{n=n.add(t)}),n}isEqual(r){if(!(r instanceof Zn)||this.size!==r.size)return!1;const n=this.data.getIterator(),t=r.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=t.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const r=[];return this.forEach(n=>{r.push(n)}),r}toString(){const r=[];return this.forEach(n=>r.push(n)),"SortedSet("+r.toString()+")"}copy(r){const n=new Zn(this.comparator);return n.data=r,n}}class N_{constructor(r){this.iter=r}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(r){this.fields=r,r.sort(Kn.comparator)}static empty(){return new Ai([])}unionWith(r){let n=new Zn(Kn.comparator);for(const t of this.fields)n=n.add(t);for(const t of r)n=n.add(t);return new Ai(n.toArray())}covers(r){for(const n of this.fields)if(n.isPrefixOf(r))return!0;return!1}isEqual(r){return xu(this.fields,r.fields,(n,t)=>n.isEqual(t))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(r){this.binaryString=r}static fromBase64String(r){const n=function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new G2("Invalid base64 string: "+c):c}}(r);return new Jn(n)}static fromUint8Array(r){const n=function(o){let c="";for(let l=0;l<o.length;++l)c+=String.fromCharCode(o[l]);return c}(r);return new Jn(n)}[Symbol.iterator](){let r=0;return{next:()=>r<this.binaryString.length?{value:this.binaryString.charCodeAt(r++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const t=new Uint8Array(n.length);for(let o=0;o<n.length;o++)t[o]=n.charCodeAt(o);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(r){return _r(this.binaryString,r.binaryString)}isEqual(r){return this.binaryString===r.binaryString}}Jn.EMPTY_BYTE_STRING=new Jn("");const iM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ta(s){if(Ir(!!s),typeof s=="string"){let r=0;const n=iM.exec(s);if(Ir(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),r=Number(o)}const t=new Date(s);return{seconds:Math.floor(t.getTime()/1e3),nanos:r}}return{seconds:pn(s.seconds),nanos:pn(s.nanos)}}function pn(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function yl(s){return typeof s=="string"?Jn.fromBase64String(s):Jn.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wy(s){var r,n;return((n=(((r=s==null?void 0:s.mapValue)===null||r===void 0?void 0:r.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Yy(s){const r=s.mapValue.fields.__previous_value__;return Wy(r)?Yy(r):r}function ed(s){const r=Ta(s.mapValue.fields.__local_write_time__.timestampValue);return new Dn(r.seconds,r.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{constructor(r,n,t,o,c,l,h,a,d){this.databaseId=r,this.appId=n,this.persistenceKey=t,this.host=o,this.ssl=c,this.forceLongPolling=l,this.autoDetectLongPolling=h,this.longPollingOptions=a,this.useFetchStreams=d}}class td{constructor(r,n){this.projectId=r,this.database=n||"(default)"}static empty(){return new td("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(r){return r instanceof td&&r.projectId===this.projectId&&r.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ah={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function vl(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Wy(s)?4:lM(s)?9007199254740991:aM(s)?10:11:Yt()}function ro(s,r){if(s===r)return!0;const n=vl(s);if(n!==vl(r))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===r.booleanValue;case 4:return ed(s).isEqual(ed(r));case 3:return function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const l=Ta(o.timestampValue),h=Ta(c.timestampValue);return l.seconds===h.seconds&&l.nanos===h.nanos}(s,r);case 5:return s.stringValue===r.stringValue;case 6:return function(o,c){return yl(o.bytesValue).isEqual(yl(c.bytesValue))}(s,r);case 7:return s.referenceValue===r.referenceValue;case 8:return function(o,c){return pn(o.geoPointValue.latitude)===pn(c.geoPointValue.latitude)&&pn(o.geoPointValue.longitude)===pn(c.geoPointValue.longitude)}(s,r);case 2:return function(o,c){if("integerValue"in o&&"integerValue"in c)return pn(o.integerValue)===pn(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const l=pn(o.doubleValue),h=pn(c.doubleValue);return l===h?cf(l)===cf(h):isNaN(l)&&isNaN(h)}return!1}(s,r);case 9:return xu(s.arrayValue.values||[],r.arrayValue.values||[],ro);case 10:case 11:return function(o,c){const l=o.mapValue.fields||{},h=c.mapValue.fields||{};if(L_(l)!==L_(h))return!1;for(const a in l)if(l.hasOwnProperty(a)&&(h[a]===void 0||!ro(l[a],h[a])))return!1;return!0}(s,r);default:return Yt()}}function rd(s,r){return(s.values||[]).find(n=>ro(n,r))!==void 0}function Su(s,r){if(s===r)return 0;const n=vl(s),t=vl(r);if(n!==t)return _r(n,t);switch(n){case 0:case 9007199254740991:return 0;case 1:return _r(s.booleanValue,r.booleanValue);case 2:return function(c,l){const h=pn(c.integerValue||c.doubleValue),a=pn(l.integerValue||l.doubleValue);return h<a?-1:h>a?1:h===a?0:isNaN(h)?isNaN(a)?0:-1:1}(s,r);case 3:return U_(s.timestampValue,r.timestampValue);case 4:return U_(ed(s),ed(r));case 5:return _r(s.stringValue,r.stringValue);case 6:return function(c,l){const h=yl(c),a=yl(l);return h.compareTo(a)}(s.bytesValue,r.bytesValue);case 7:return function(c,l){const h=c.split("/"),a=l.split("/");for(let d=0;d<h.length&&d<a.length;d++){const _=_r(h[d],a[d]);if(_!==0)return _}return _r(h.length,a.length)}(s.referenceValue,r.referenceValue);case 8:return function(c,l){const h=_r(pn(c.latitude),pn(l.latitude));return h!==0?h:_r(pn(c.longitude),pn(l.longitude))}(s.geoPointValue,r.geoPointValue);case 9:return F_(s.arrayValue,r.arrayValue);case 10:return function(c,l){var h,a,d,_;const w=c.fields||{},f=l.fields||{},p=(h=w.value)===null||h===void 0?void 0:h.arrayValue,b=(a=f.value)===null||a===void 0?void 0:a.arrayValue,y=_r(((d=p==null?void 0:p.values)===null||d===void 0?void 0:d.length)||0,((_=b==null?void 0:b.values)===null||_===void 0?void 0:_.length)||0);return y!==0?y:F_(p,b)}(s.mapValue,r.mapValue);case 11:return function(c,l){if(c===Ah.mapValue&&l===Ah.mapValue)return 0;if(c===Ah.mapValue)return 1;if(l===Ah.mapValue)return-1;const h=c.fields||{},a=Object.keys(h),d=l.fields||{},_=Object.keys(d);a.sort(),_.sort();for(let w=0;w<a.length&&w<_.length;++w){const f=_r(a[w],_[w]);if(f!==0)return f;const p=Su(h[a[w]],d[_[w]]);if(p!==0)return p}return _r(a.length,_.length)}(s.mapValue,r.mapValue);default:throw Yt()}}function U_(s,r){if(typeof s=="string"&&typeof r=="string"&&s.length===r.length)return _r(s,r);const n=Ta(s),t=Ta(r),o=_r(n.seconds,t.seconds);return o!==0?o:_r(n.nanos,t.nanos)}function F_(s,r){const n=s.values||[],t=r.values||[];for(let o=0;o<n.length&&o<t.length;++o){const c=Su(n[o],t[o]);if(c)return c}return _r(n.length,t.length)}function ju(s){return zg(s)}function zg(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(n){const t=Ta(n);return`time(${t.seconds},${t.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(n){return yl(n).toBase64()}(s.bytesValue):"referenceValue"in s?function(n){return Vt.fromName(n).toString()}(s.referenceValue):"geoPointValue"in s?function(n){return`geo(${n.latitude},${n.longitude})`}(s.geoPointValue):"arrayValue"in s?function(n){let t="[",o=!0;for(const c of n.values||[])o?o=!1:t+=",",t+=zg(c);return t+"]"}(s.arrayValue):"mapValue"in s?function(n){const t=Object.keys(n.fields||{}).sort();let o="{",c=!0;for(const l of t)c?c=!1:o+=",",o+=`${l}:${zg(n.fields[l])}`;return o+"}"}(s.mapValue):Yt()}function V_(s,r){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${r.path.canonicalString()}`}}function Hg(s){return!!s&&"integerValue"in s}function Xy(s){return!!s&&"arrayValue"in s}function B_(s){return!!s&&"nullValue"in s}function G_(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function qh(s){return!!s&&"mapValue"in s}function aM(s){var r,n;return((n=(((r=s==null?void 0:s.mapValue)===null||r===void 0?void 0:r.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Bc(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const r={mapValue:{fields:{}}};return Du(s.mapValue.fields,(n,t)=>r.mapValue.fields[n]=Bc(t)),r}if(s.arrayValue){const r={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)r.arrayValue.values[n]=Bc(s.arrayValue.values[n]);return r}return Object.assign({},s)}function lM(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(r){this.value=r}static empty(){return new ui({mapValue:{}})}field(r){if(r.isEmpty())return this.value;{let n=this.value;for(let t=0;t<r.length-1;++t)if(n=(n.mapValue.fields||{})[r.get(t)],!qh(n))return null;return n=(n.mapValue.fields||{})[r.lastSegment()],n||null}}set(r,n){this.getFieldsMap(r.popLast())[r.lastSegment()]=Bc(n)}setAll(r){let n=Kn.emptyPath(),t={},o=[];r.forEach((l,h)=>{if(!n.isImmediateParentOf(h)){const a=this.getFieldsMap(n);this.applyChanges(a,t,o),t={},o=[],n=h.popLast()}l?t[h.lastSegment()]=Bc(l):o.push(h.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,t,o)}delete(r){const n=this.field(r.popLast());qh(n)&&n.mapValue.fields&&delete n.mapValue.fields[r.lastSegment()]}isEqual(r){return ro(this.value,r.value)}getFieldsMap(r){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let t=0;t<r.length;++t){let o=n.mapValue.fields[r.get(t)];qh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[r.get(t)]=o),n=o}return n.mapValue.fields}applyChanges(r,n,t){Du(n,(o,c)=>r[o]=c);for(const o of t)delete r[o]}clone(){return new ui(Bc(this.value))}}function z2(s){const r=[];return Du(s.fields,(n,t)=>{const o=new Kn([n]);if(qh(t)){const c=z2(t.mapValue).fields;if(c.length===0)r.push(o);else for(const l of c)r.push(o.child(l))}else r.push(o)}),new Ai(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(r,n,t,o,c,l,h){this.key=r,this.documentType=n,this.version=t,this.readTime=o,this.createTime=c,this.data=l,this.documentState=h}static newInvalidDocument(r){return new cs(r,0,$t.min(),$t.min(),$t.min(),ui.empty(),0)}static newFoundDocument(r,n,t,o){return new cs(r,1,n,$t.min(),t,o,0)}static newNoDocument(r,n){return new cs(r,2,n,$t.min(),$t.min(),ui.empty(),0)}static newUnknownDocument(r,n){return new cs(r,3,n,$t.min(),$t.min(),ui.empty(),2)}convertToFoundDocument(r,n){return!this.createTime.isEqual($t.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=r),this.version=r,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(r){return this.version=r,this.documentType=2,this.data=ui.empty(),this.documentState=0,this}convertToUnknownDocument(r){return this.version=r,this.documentType=3,this.data=ui.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=$t.min(),this}setReadTime(r){return this.readTime=r,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(r){return r instanceof cs&&this.key.isEqual(r.key)&&this.version.isEqual(r.version)&&this.documentType===r.documentType&&this.documentState===r.documentState&&this.data.isEqual(r.data)}mutableCopy(){return new cs(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(r,n){this.position=r,this.inclusive=n}}function z_(s,r,n){let t=0;for(let o=0;o<s.position.length;o++){const c=r[o],l=s.position[o];if(c.field.isKeyField()?t=Vt.comparator(Vt.fromName(l.referenceValue),n.key):t=Su(l,n.data.field(c.field)),c.dir==="desc"&&(t*=-1),t!==0)break}return t}function H_(s,r){if(s===null)return r===null;if(r===null||s.inclusive!==r.inclusive||s.position.length!==r.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!ro(s.position[n],r.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(r,n="asc"){this.field=r,this.dir=n}}function uM(s,r){return s.dir===r.dir&&s.field.isEqual(r.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{}class jn extends H2{constructor(r,n,t){super(),this.field=r,this.op=n,this.value=t}static create(r,n,t){return r.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(r,n,t):new dM(r,n,t):n==="array-contains"?new pM(r,t):n==="in"?new mM(r,t):n==="not-in"?new gM(r,t):n==="array-contains-any"?new yM(r,t):new jn(r,n,t)}static createKeyFieldInFilter(r,n,t){return n==="in"?new hM(r,t):new fM(r,t)}matches(r){const n=r.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Su(n,this.value)):n!==null&&vl(this.value)===vl(n)&&this.matchesComparison(Su(n,this.value))}matchesComparison(r){switch(this.op){case"<":return r<0;case"<=":return r<=0;case"==":return r===0;case"!=":return r!==0;case">":return r>0;case">=":return r>=0;default:return Yt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ii extends H2{constructor(r,n){super(),this.filters=r,this.op=n,this.ae=null}static create(r,n){return new Ii(r,n)}matches(r){return q2(this)?this.filters.find(n=>!n.matches(r))===void 0:this.filters.find(n=>n.matches(r))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((r,n)=>r.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function q2(s){return s.op==="and"}function W2(s){return cM(s)&&q2(s)}function cM(s){for(const r of s.filters)if(r instanceof Ii)return!1;return!0}function qg(s){if(s instanceof jn)return s.field.canonicalString()+s.op.toString()+ju(s.value);if(W2(s))return s.filters.map(r=>qg(r)).join(",");{const r=s.filters.map(n=>qg(n)).join(",");return`${s.op}(${r})`}}function Y2(s,r){return s instanceof jn?function(t,o){return o instanceof jn&&t.op===o.op&&t.field.isEqual(o.field)&&ro(t.value,o.value)}(s,r):s instanceof Ii?function(t,o){return o instanceof Ii&&t.op===o.op&&t.filters.length===o.filters.length?t.filters.reduce((c,l,h)=>c&&Y2(l,o.filters[h]),!0):!1}(s,r):void Yt()}function X2(s){return s instanceof jn?function(n){return`${n.field.canonicalString()} ${n.op} ${ju(n.value)}`}(s):s instanceof Ii?function(n){return n.op.toString()+" {"+n.getFilters().map(X2).join(" ,")+"}"}(s):"Filter"}class dM extends jn{constructor(r,n,t){super(r,n,t),this.key=Vt.fromName(t.referenceValue)}matches(r){const n=Vt.comparator(r.key,this.key);return this.matchesComparison(n)}}class hM extends jn{constructor(r,n){super(r,"in",n),this.keys=$2("in",n)}matches(r){return this.keys.some(n=>n.isEqual(r.key))}}class fM extends jn{constructor(r,n){super(r,"not-in",n),this.keys=$2("not-in",n)}matches(r){return!this.keys.some(n=>n.isEqual(r.key))}}function $2(s,r){var n;return(((n=r.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(t=>Vt.fromName(t.referenceValue))}class pM extends jn{constructor(r,n){super(r,"array-contains",n)}matches(r){const n=r.data.field(this.field);return Xy(n)&&rd(n.arrayValue,this.value)}}class mM extends jn{constructor(r,n){super(r,"in",n)}matches(r){const n=r.data.field(this.field);return n!==null&&rd(this.value.arrayValue,n)}}class gM extends jn{constructor(r,n){super(r,"not-in",n)}matches(r){if(rd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=r.data.field(this.field);return n!==null&&!rd(this.value.arrayValue,n)}}class yM extends jn{constructor(r,n){super(r,"array-contains-any",n)}matches(r){const n=r.data.field(this.field);return!(!Xy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(t=>rd(this.value.arrayValue,t))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(r,n=null,t=[],o=[],c=null,l=null,h=null){this.path=r,this.collectionGroup=n,this.orderBy=t,this.filters=o,this.limit=c,this.startAt=l,this.endAt=h,this.ue=null}}function q_(s,r=null,n=[],t=[],o=null,c=null,l=null){return new vM(s,r,n,t,o,c,l)}function $y(s){const r=Kt(s);if(r.ue===null){let n=r.path.canonicalString();r.collectionGroup!==null&&(n+="|cg:"+r.collectionGroup),n+="|f:",n+=r.filters.map(t=>qg(t)).join(","),n+="|ob:",n+=r.orderBy.map(t=>function(c){return c.field.canonicalString()+c.dir}(t)).join(","),Vf(r.limit)||(n+="|l:",n+=r.limit),r.startAt&&(n+="|lb:",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(t=>ju(t)).join(",")),r.endAt&&(n+="|ub:",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(t=>ju(t)).join(",")),r.ue=n}return r.ue}function Ky(s,r){if(s.limit!==r.limit||s.orderBy.length!==r.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!uM(s.orderBy[n],r.orderBy[n]))return!1;if(s.filters.length!==r.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!Y2(s.filters[n],r.filters[n]))return!1;return s.collectionGroup===r.collectionGroup&&!!s.path.isEqual(r.path)&&!!H_(s.startAt,r.startAt)&&H_(s.endAt,r.endAt)}function Wg(s){return Vt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(r,n=null,t=[],o=[],c=null,l="F",h=null,a=null){this.path=r,this.collectionGroup=n,this.explicitOrderBy=t,this.filters=o,this.limit=c,this.limitType=l,this.startAt=h,this.endAt=a,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function bM(s,r,n,t,o,c,l,h){return new _d(s,r,n,t,o,c,l,h)}function Qy(s){return new _d(s)}function W_(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function K2(s){return s.collectionGroup!==null}function Gc(s){const r=Kt(s);if(r.ce===null){r.ce=[];const n=new Set;for(const c of r.explicitOrderBy)r.ce.push(c),n.add(c.field.canonicalString());const t=r.explicitOrderBy.length>0?r.explicitOrderBy[r.explicitOrderBy.length-1].dir:"asc";(function(l){let h=new Zn(Kn.comparator);return l.filters.forEach(a=>{a.getFlattenedFilters().forEach(d=>{d.isInequality()&&(h=h.add(d.field))})}),h})(r).forEach(c=>{n.has(c.canonicalString())||c.isKeyField()||r.ce.push(new hf(c,t))}),n.has(Kn.keyField().canonicalString())||r.ce.push(new hf(Kn.keyField(),t))}return r.ce}function Zi(s){const r=Kt(s);return r.le||(r.le=_M(r,Gc(s))),r.le}function _M(s,r){if(s.limitType==="F")return q_(s.path,s.collectionGroup,r,s.filters,s.limit,s.startAt,s.endAt);{r=r.map(o=>{const c=o.dir==="desc"?"asc":"desc";return new hf(o.field,c)});const n=s.endAt?new df(s.endAt.position,s.endAt.inclusive):null,t=s.startAt?new df(s.startAt.position,s.startAt.inclusive):null;return q_(s.path,s.collectionGroup,r,s.filters,s.limit,n,t)}}function Yg(s,r){const n=s.filters.concat([r]);return new _d(s.path,s.collectionGroup,s.explicitOrderBy.slice(),n,s.limit,s.limitType,s.startAt,s.endAt)}function Xg(s,r,n){return new _d(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),r,n,s.startAt,s.endAt)}function Bf(s,r){return Ky(Zi(s),Zi(r))&&s.limitType===r.limitType}function Q2(s){return`${$y(Zi(s))}|lt:${s.limitType}`}function fu(s){return`Query(target=${function(n){let t=n.path.canonicalString();return n.collectionGroup!==null&&(t+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(t+=`, filters: [${n.filters.map(o=>X2(o)).join(", ")}]`),Vf(n.limit)||(t+=", limit: "+n.limit),n.orderBy.length>0&&(t+=`, orderBy: [${n.orderBy.map(o=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(o)).join(", ")}]`),n.startAt&&(t+=", startAt: ",t+=n.startAt.inclusive?"b:":"a:",t+=n.startAt.position.map(o=>ju(o)).join(",")),n.endAt&&(t+=", endAt: ",t+=n.endAt.inclusive?"a:":"b:",t+=n.endAt.position.map(o=>ju(o)).join(",")),`Target(${t})`}(Zi(s))}; limitType=${s.limitType})`}function Gf(s,r){return r.isFoundDocument()&&function(t,o){const c=o.key.path;return t.collectionGroup!==null?o.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(c):Vt.isDocumentKey(t.path)?t.path.isEqual(c):t.path.isImmediateParentOf(c)}(s,r)&&function(t,o){for(const c of Gc(t))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0}(s,r)&&function(t,o){for(const c of t.filters)if(!c.matches(o))return!1;return!0}(s,r)&&function(t,o){return!(t.startAt&&!function(l,h,a){const d=z_(l,h,a);return l.inclusive?d<=0:d<0}(t.startAt,Gc(t),o)||t.endAt&&!function(l,h,a){const d=z_(l,h,a);return l.inclusive?d>=0:d>0}(t.endAt,Gc(t),o))}(s,r)}function wM(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function Z2(s){return(r,n)=>{let t=!1;for(const o of Gc(s)){const c=xM(o,r,n);if(c!==0)return c;t=t||o.field.isKeyField()}return 0}}function xM(s,r,n){const t=s.field.isKeyField()?Vt.comparator(r.key,n.key):function(c,l,h){const a=l.data.field(c),d=h.data.field(c);return a!==null&&d!==null?Su(a,d):Yt()}(s.field,r,n);switch(s.dir){case"asc":return t;case"desc":return-1*t;default:return Yt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(r,n){this.mapKeyFn=r,this.equalsFn=n,this.inner={},this.innerSize=0}get(r){const n=this.mapKeyFn(r),t=this.inner[n];if(t!==void 0){for(const[o,c]of t)if(this.equalsFn(o,r))return c}}has(r){return this.get(r)!==void 0}set(r,n){const t=this.mapKeyFn(r),o=this.inner[t];if(o===void 0)return this.inner[t]=[[r,n]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],r))return void(o[c]=[r,n]);o.push([r,n]),this.innerSize++}delete(r){const n=this.mapKeyFn(r),t=this.inner[n];if(t===void 0)return!1;for(let o=0;o<t.length;o++)if(this.equalsFn(t[o][0],r))return t.length===1?delete this.inner[n]:t.splice(o,1),this.innerSize--,!0;return!1}forEach(r){Du(this.inner,(n,t)=>{for(const[o,c]of t)r(o,c)})}isEmpty(){return B2(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SM=new nn(Vt.comparator);function zo(){return SM}const J2=new nn(Vt.comparator);function Lc(...s){let r=J2;for(const n of s)r=r.insert(n.key,n);return r}function eS(s){let r=J2;return s.forEach((n,t)=>r=r.insert(n,t.overlayedDocument)),r}function ul(){return zc()}function tS(){return zc()}function zc(){return new Lu(s=>s.toString(),(s,r)=>s.isEqual(r))}const jM=new nn(Vt.comparator),EM=new Zn(Vt.comparator);function or(...s){let r=EM;for(const n of s)r=r.add(n);return r}const TM=new Zn(_r);function CM(){return TM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zy(s,r){if(s.useProto3Json){if(isNaN(r))return{doubleValue:"NaN"};if(r===1/0)return{doubleValue:"Infinity"};if(r===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:cf(r)?"-0":r}}function rS(s){return{integerValue:""+s}}function AM(s,r){return sM(r)?rS(r):Zy(s,r)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(){this._=void 0}}function RM(s,r,n){return s instanceof ff?function(o,c){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Wy(c)&&(c=Yy(c)),c&&(l.fields.__previous_value__=c),{mapValue:l}}(n,r):s instanceof nd?sS(s,r):s instanceof sd?iS(s,r):function(o,c){const l=nS(o,c),h=Y_(l)+Y_(o.Pe);return Hg(l)&&Hg(o.Pe)?rS(h):Zy(o.serializer,h)}(s,r)}function OM(s,r,n){return s instanceof nd?sS(s,r):s instanceof sd?iS(s,r):n}function nS(s,r){return s instanceof pf?function(t){return Hg(t)||function(c){return!!c&&"doubleValue"in c}(t)}(r)?r:{integerValue:0}:null}class ff extends zf{}class nd extends zf{constructor(r){super(),this.elements=r}}function sS(s,r){const n=oS(r);for(const t of s.elements)n.some(o=>ro(o,t))||n.push(t);return{arrayValue:{values:n}}}class sd extends zf{constructor(r){super(),this.elements=r}}function iS(s,r){let n=oS(r);for(const t of s.elements)n=n.filter(o=>!ro(o,t));return{arrayValue:{values:n}}}class pf extends zf{constructor(r,n){super(),this.serializer=r,this.Pe=n}}function Y_(s){return pn(s.integerValue||s.doubleValue)}function oS(s){return Xy(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function IM(s,r){return s.field.isEqual(r.field)&&function(t,o){return t instanceof nd&&o instanceof nd||t instanceof sd&&o instanceof sd?xu(t.elements,o.elements,ro):t instanceof pf&&o instanceof pf?ro(t.Pe,o.Pe):t instanceof ff&&o instanceof ff}(s.transform,r.transform)}class kM{constructor(r,n){this.version=r,this.transformResults=n}}class Ji{constructor(r,n){this.updateTime=r,this.exists=n}static none(){return new Ji}static exists(r){return new Ji(void 0,r)}static updateTime(r){return new Ji(r)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(r){return this.exists===r.exists&&(this.updateTime?!!r.updateTime&&this.updateTime.isEqual(r.updateTime):!r.updateTime)}}function Wh(s,r){return s.updateTime!==void 0?r.isFoundDocument()&&r.version.isEqual(s.updateTime):s.exists===void 0||s.exists===r.isFoundDocument()}class Hf{}function aS(s,r){if(!s.hasLocalMutations||r&&r.fields.length===0)return null;if(r===null)return s.isNoDocument()?new uS(s.key,Ji.none()):new wd(s.key,s.data,Ji.none());{const n=s.data,t=ui.empty();let o=new Zn(Kn.comparator);for(let c of r.fields)if(!o.has(c)){let l=n.field(c);l===null&&c.length>1&&(c=c.popLast(),l=n.field(c)),l===null?t.delete(c):t.set(c,l),o=o.add(c)}return new Ol(s.key,t,new Ai(o.toArray()),Ji.none())}}function MM(s,r,n){s instanceof wd?function(o,c,l){const h=o.value.clone(),a=$_(o.fieldTransforms,c,l.transformResults);h.setAll(a),c.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(s,r,n):s instanceof Ol?function(o,c,l){if(!Wh(o.precondition,c))return void c.convertToUnknownDocument(l.version);const h=$_(o.fieldTransforms,c,l.transformResults),a=c.data;a.setAll(lS(o)),a.setAll(h),c.convertToFoundDocument(l.version,a).setHasCommittedMutations()}(s,r,n):function(o,c,l){c.convertToNoDocument(l.version).setHasCommittedMutations()}(0,r,n)}function Hc(s,r,n,t){return s instanceof wd?function(c,l,h,a){if(!Wh(c.precondition,l))return h;const d=c.value.clone(),_=K_(c.fieldTransforms,a,l);return d.setAll(_),l.convertToFoundDocument(l.version,d).setHasLocalMutations(),null}(s,r,n,t):s instanceof Ol?function(c,l,h,a){if(!Wh(c.precondition,l))return h;const d=K_(c.fieldTransforms,a,l),_=l.data;return _.setAll(lS(c)),_.setAll(d),l.convertToFoundDocument(l.version,_).setHasLocalMutations(),h===null?null:h.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(w=>w.field))}(s,r,n,t):function(c,l,h){return Wh(c.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):h}(s,r,n)}function PM(s,r){let n=null;for(const t of s.fieldTransforms){const o=r.data.field(t.field),c=nS(t.transform,o||null);c!=null&&(n===null&&(n=ui.empty()),n.set(t.field,c))}return n||null}function X_(s,r){return s.type===r.type&&!!s.key.isEqual(r.key)&&!!s.precondition.isEqual(r.precondition)&&!!function(t,o){return t===void 0&&o===void 0||!(!t||!o)&&xu(t,o,(c,l)=>IM(c,l))}(s.fieldTransforms,r.fieldTransforms)&&(s.type===0?s.value.isEqual(r.value):s.type!==1||s.data.isEqual(r.data)&&s.fieldMask.isEqual(r.fieldMask))}class wd extends Hf{constructor(r,n,t,o=[]){super(),this.key=r,this.value=n,this.precondition=t,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ol extends Hf{constructor(r,n,t,o,c=[]){super(),this.key=r,this.data=n,this.fieldMask=t,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function lS(s){const r=new Map;return s.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const t=s.data.field(n);r.set(n,t)}}),r}function $_(s,r,n){const t=new Map;Ir(s.length===n.length);for(let o=0;o<n.length;o++){const c=s[o],l=c.transform,h=r.data.field(c.field);t.set(c.field,OM(l,h,n[o]))}return t}function K_(s,r,n){const t=new Map;for(const o of s){const c=o.transform,l=n.data.field(o.field);t.set(o.field,RM(c,l,r))}return t}class uS extends Hf{constructor(r,n){super(),this.key=r,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class DM extends Hf{constructor(r,n){super(),this.key=r,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(r,n,t,o){this.batchId=r,this.localWriteTime=n,this.baseMutations=t,this.mutations=o}applyToRemoteDocument(r,n){const t=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(r.key)&&MM(c,r,t[o])}}applyToLocalView(r,n){for(const t of this.baseMutations)t.key.isEqual(r.key)&&(n=Hc(t,r,n,this.localWriteTime));for(const t of this.mutations)t.key.isEqual(r.key)&&(n=Hc(t,r,n,this.localWriteTime));return n}applyToLocalDocumentSet(r,n){const t=tS();return this.mutations.forEach(o=>{const c=r.get(o.key),l=c.overlayedDocument;let h=this.applyToLocalView(l,c.mutatedFields);h=n.has(o.key)?null:h;const a=aS(l,h);a!==null&&t.set(o.key,a),l.isValidDocument()||l.convertToNoDocument($t.min())}),t}keys(){return this.mutations.reduce((r,n)=>r.add(n.key),or())}isEqual(r){return this.batchId===r.batchId&&xu(this.mutations,r.mutations,(n,t)=>X_(n,t))&&xu(this.baseMutations,r.baseMutations,(n,t)=>X_(n,t))}}class Jy{constructor(r,n,t,o){this.batch=r,this.commitVersion=n,this.mutationResults=t,this.docVersions=o}static from(r,n,t){Ir(r.mutations.length===t.length);let o=function(){return jM}();const c=r.mutations;for(let l=0;l<c.length;l++)o=o.insert(c[l].key,t[l].version);return new Jy(r,n,t,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(r,n){this.largestBatchId=r,this.mutation=n}getKey(){return this.mutation.key}isEqual(r){return r!==null&&this.mutation===r.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(r,n){this.count=r,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wn,hr;function FM(s){switch(s){default:return Yt();case ht.CANCELLED:case ht.UNKNOWN:case ht.DEADLINE_EXCEEDED:case ht.RESOURCE_EXHAUSTED:case ht.INTERNAL:case ht.UNAVAILABLE:case ht.UNAUTHENTICATED:return!1;case ht.INVALID_ARGUMENT:case ht.NOT_FOUND:case ht.ALREADY_EXISTS:case ht.PERMISSION_DENIED:case ht.FAILED_PRECONDITION:case ht.ABORTED:case ht.OUT_OF_RANGE:case ht.UNIMPLEMENTED:case ht.DATA_LOSS:return!0}}function cS(s){if(s===void 0)return Go("GRPC error has no .code"),ht.UNKNOWN;switch(s){case wn.OK:return ht.OK;case wn.CANCELLED:return ht.CANCELLED;case wn.UNKNOWN:return ht.UNKNOWN;case wn.DEADLINE_EXCEEDED:return ht.DEADLINE_EXCEEDED;case wn.RESOURCE_EXHAUSTED:return ht.RESOURCE_EXHAUSTED;case wn.INTERNAL:return ht.INTERNAL;case wn.UNAVAILABLE:return ht.UNAVAILABLE;case wn.UNAUTHENTICATED:return ht.UNAUTHENTICATED;case wn.INVALID_ARGUMENT:return ht.INVALID_ARGUMENT;case wn.NOT_FOUND:return ht.NOT_FOUND;case wn.ALREADY_EXISTS:return ht.ALREADY_EXISTS;case wn.PERMISSION_DENIED:return ht.PERMISSION_DENIED;case wn.FAILED_PRECONDITION:return ht.FAILED_PRECONDITION;case wn.ABORTED:return ht.ABORTED;case wn.OUT_OF_RANGE:return ht.OUT_OF_RANGE;case wn.UNIMPLEMENTED:return ht.UNIMPLEMENTED;case wn.DATA_LOSS:return ht.DATA_LOSS;default:return Yt()}}(hr=wn||(wn={}))[hr.OK=0]="OK",hr[hr.CANCELLED=1]="CANCELLED",hr[hr.UNKNOWN=2]="UNKNOWN",hr[hr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",hr[hr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",hr[hr.NOT_FOUND=5]="NOT_FOUND",hr[hr.ALREADY_EXISTS=6]="ALREADY_EXISTS",hr[hr.PERMISSION_DENIED=7]="PERMISSION_DENIED",hr[hr.UNAUTHENTICATED=16]="UNAUTHENTICATED",hr[hr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",hr[hr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",hr[hr.ABORTED=10]="ABORTED",hr[hr.OUT_OF_RANGE=11]="OUT_OF_RANGE",hr[hr.UNIMPLEMENTED=12]="UNIMPLEMENTED",hr[hr.INTERNAL=13]="INTERNAL",hr[hr.UNAVAILABLE=14]="UNAVAILABLE",hr[hr.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BM=new hl([4294967295,4294967295],0);function Q_(s){const r=VM().encode(s),n=new M2;return n.update(r),new Uint8Array(n.digest())}function Z_(s){const r=new DataView(s.buffer),n=r.getUint32(0,!0),t=r.getUint32(4,!0),o=r.getUint32(8,!0),c=r.getUint32(12,!0);return[new hl([n,t],0),new hl([o,c],0)]}class ev{constructor(r,n,t){if(this.bitmap=r,this.padding=n,this.hashCount=t,n<0||n>=8)throw new Nc(`Invalid padding: ${n}`);if(t<0)throw new Nc(`Invalid hash count: ${t}`);if(r.length>0&&this.hashCount===0)throw new Nc(`Invalid hash count: ${t}`);if(r.length===0&&n!==0)throw new Nc(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*r.length-n,this.Te=hl.fromNumber(this.Ie)}Ee(r,n,t){let o=r.add(n.multiply(hl.fromNumber(t)));return o.compare(BM)===1&&(o=new hl([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Te).toNumber()}de(r){return(this.bitmap[Math.floor(r/8)]&1<<r%8)!=0}mightContain(r){if(this.Ie===0)return!1;const n=Q_(r),[t,o]=Z_(n);for(let c=0;c<this.hashCount;c++){const l=this.Ee(t,o,c);if(!this.de(l))return!1}return!0}static create(r,n,t){const o=r%8==0?0:8-r%8,c=new Uint8Array(Math.ceil(r/8)),l=new ev(c,o,n);return t.forEach(h=>l.insert(h)),l}insert(r){if(this.Ie===0)return;const n=Q_(r),[t,o]=Z_(n);for(let c=0;c<this.hashCount;c++){const l=this.Ee(t,o,c);this.Ae(l)}}Ae(r){const n=Math.floor(r/8),t=r%8;this.bitmap[n]|=1<<t}}class Nc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(r,n,t,o,c){this.snapshotVersion=r,this.targetChanges=n,this.targetMismatches=t,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(r,n,t){const o=new Map;return o.set(r,xd.createSynthesizedTargetChangeForCurrentChange(r,n,t)),new qf($t.min(),o,new nn(_r),zo(),or())}}class xd{constructor(r,n,t,o,c){this.resumeToken=r,this.current=n,this.addedDocuments=t,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(r,n,t){return new xd(t,n,or(),or(),or())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(r,n,t,o){this.Re=r,this.removedTargetIds=n,this.key=t,this.Ve=o}}class dS{constructor(r,n){this.targetId=r,this.me=n}}class hS{constructor(r,n,t=Jn.EMPTY_BYTE_STRING,o=null){this.state=r,this.targetIds=n,this.resumeToken=t,this.cause=o}}class J_{constructor(){this.fe=0,this.ge=tw(),this.pe=Jn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(r){r.approximateByteSize()>0&&(this.we=!0,this.pe=r)}ve(){let r=or(),n=or(),t=or();return this.ge.forEach((o,c)=>{switch(c){case 0:r=r.add(o);break;case 2:n=n.add(o);break;case 1:t=t.add(o);break;default:Yt()}}),new xd(this.pe,this.ye,r,n,t)}Ce(){this.we=!1,this.ge=tw()}Fe(r,n){this.we=!0,this.ge=this.ge.insert(r,n)}Me(r){this.we=!0,this.ge=this.ge.remove(r)}xe(){this.fe+=1}Oe(){this.fe-=1,Ir(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class GM{constructor(r){this.Le=r,this.Be=new Map,this.ke=zo(),this.qe=ew(),this.Qe=new nn(_r)}Ke(r){for(const n of r.Re)r.Ve&&r.Ve.isFoundDocument()?this.$e(n,r.Ve):this.Ue(n,r.key,r.Ve);for(const n of r.removedTargetIds)this.Ue(n,r.key,r.Ve)}We(r){this.forEachTarget(r,n=>{const t=this.Ge(n);switch(r.state){case 0:this.ze(n)&&t.De(r.resumeToken);break;case 1:t.Oe(),t.Se||t.Ce(),t.De(r.resumeToken);break;case 2:t.Oe(),t.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(t.Ne(),t.De(r.resumeToken));break;case 4:this.ze(n)&&(this.je(n),t.De(r.resumeToken));break;default:Yt()}})}forEachTarget(r,n){r.targetIds.length>0?r.targetIds.forEach(n):this.Be.forEach((t,o)=>{this.ze(o)&&n(o)})}He(r){const n=r.targetId,t=r.me.count,o=this.Je(n);if(o){const c=o.target;if(Wg(c))if(t===0){const l=new Vt(c.path);this.Ue(n,l,cs.newNoDocument(l,$t.min()))}else Ir(t===1);else{const l=this.Ye(n);if(l!==t){const h=this.Ze(r),a=h?this.Xe(h,r,l):1;if(a!==0){this.je(n);const d=a===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,d)}}}}}Ze(r){const n=r.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:t="",padding:o=0},hashCount:c=0}=n;let l,h;try{l=yl(t).toUint8Array()}catch(a){if(a instanceof G2)return wu("Decoding the base64 bloom filter in existence filter failed ("+a.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw a}try{h=new ev(l,o,c)}catch(a){return wu(a instanceof Nc?"BloomFilter error: ":"Applying bloom filter failed: ",a),null}return h.Ie===0?null:h}Xe(r,n,t){return n.me.count===t-this.nt(r,n.targetId)?0:2}nt(r,n){const t=this.Le.getRemoteKeysForTarget(n);let o=0;return t.forEach(c=>{const l=this.Le.tt(),h=`projects/${l.projectId}/databases/${l.database}/documents/${c.path.canonicalString()}`;r.mightContain(h)||(this.Ue(n,c,null),o++)}),o}rt(r){const n=new Map;this.Be.forEach((c,l)=>{const h=this.Je(l);if(h){if(c.current&&Wg(h.target)){const a=new Vt(h.target.path);this.ke.get(a)!==null||this.it(l,a)||this.Ue(l,a,cs.newNoDocument(a,r))}c.be&&(n.set(l,c.ve()),c.Ce())}});let t=or();this.qe.forEach((c,l)=>{let h=!0;l.forEachWhile(a=>{const d=this.Je(a);return!d||d.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(t=t.add(c))}),this.ke.forEach((c,l)=>l.setReadTime(r));const o=new qf(r,n,this.Qe,this.ke,t);return this.ke=zo(),this.qe=ew(),this.Qe=new nn(_r),o}$e(r,n){if(!this.ze(r))return;const t=this.it(r,n.key)?2:0;this.Ge(r).Fe(n.key,t),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(r))}Ue(r,n,t){if(!this.ze(r))return;const o=this.Ge(r);this.it(r,n)?o.Fe(n,1):o.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(r)),t&&(this.ke=this.ke.insert(n,t))}removeTarget(r){this.Be.delete(r)}Ye(r){const n=this.Ge(r).ve();return this.Le.getRemoteKeysForTarget(r).size+n.addedDocuments.size-n.removedDocuments.size}xe(r){this.Ge(r).xe()}Ge(r){let n=this.Be.get(r);return n||(n=new J_,this.Be.set(r,n)),n}st(r){let n=this.qe.get(r);return n||(n=new Zn(_r),this.qe=this.qe.insert(r,n)),n}ze(r){const n=this.Je(r)!==null;return n||It("WatchChangeAggregator","Detected inactive target",r),n}Je(r){const n=this.Be.get(r);return n&&n.Se?null:this.Le.ot(r)}je(r){this.Be.set(r,new J_),this.Le.getRemoteKeysForTarget(r).forEach(n=>{this.Ue(r,n,null)})}it(r,n){return this.Le.getRemoteKeysForTarget(r).has(n)}}function ew(){return new nn(Vt.comparator)}function tw(){return new nn(Vt.comparator)}const zM={asc:"ASCENDING",desc:"DESCENDING"},HM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qM={and:"AND",or:"OR"};class WM{constructor(r,n){this.databaseId=r,this.useProto3Json=n}}function $g(s,r){return s.useProto3Json||Vf(r)?r:{value:r}}function mf(s,r){return s.useProto3Json?`${new Date(1e3*r.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+r.nanoseconds).slice(-9)}Z`:{seconds:""+r.seconds,nanos:r.nanoseconds}}function fS(s,r){return s.useProto3Json?r.toBase64():r.toUint8Array()}function YM(s,r){return mf(s,r.toTimestamp())}function eo(s){return Ir(!!s),$t.fromTimestamp(function(n){const t=Ta(n);return new Dn(t.seconds,t.nanos)}(s))}function tv(s,r){return Kg(s,r).canonicalString()}function Kg(s,r){const n=function(o){return new $r(["projects",o.projectId,"databases",o.database])}(s).child("documents");return r===void 0?n:n.child(r)}function pS(s){const r=$r.fromString(s);return Ir(bS(r)),r}function Qg(s,r){return tv(s.databaseId,r.path)}function ug(s,r){const n=pS(r);if(n.get(1)!==s.databaseId.projectId)throw new Ct(ht.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new Ct(ht.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new Vt(gS(n))}function mS(s,r){return tv(s.databaseId,r)}function XM(s){const r=pS(s);return r.length===4?$r.emptyPath():gS(r)}function Zg(s){return new $r(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function gS(s){return Ir(s.length>4&&s.get(4)==="documents"),s.popFirst(5)}function rw(s,r,n){return{name:Qg(s,r),fields:n.value.mapValue.fields}}function $M(s,r){let n;if("targetChange"in r){r.targetChange;const t=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Yt()}(r.targetChange.targetChangeType||"NO_CHANGE"),o=r.targetChange.targetIds||[],c=function(d,_){return d.useProto3Json?(Ir(_===void 0||typeof _=="string"),Jn.fromBase64String(_||"")):(Ir(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array),Jn.fromUint8Array(_||new Uint8Array))}(s,r.targetChange.resumeToken),l=r.targetChange.cause,h=l&&function(d){const _=d.code===void 0?ht.UNKNOWN:cS(d.code);return new Ct(_,d.message||"")}(l);n=new hS(t,o,c,h||null)}else if("documentChange"in r){r.documentChange;const t=r.documentChange;t.document,t.document.name,t.document.updateTime;const o=ug(s,t.document.name),c=eo(t.document.updateTime),l=t.document.createTime?eo(t.document.createTime):$t.min(),h=new ui({mapValue:{fields:t.document.fields}}),a=cs.newFoundDocument(o,c,l,h),d=t.targetIds||[],_=t.removedTargetIds||[];n=new Yh(d,_,a.key,a)}else if("documentDelete"in r){r.documentDelete;const t=r.documentDelete;t.document;const o=ug(s,t.document),c=t.readTime?eo(t.readTime):$t.min(),l=cs.newNoDocument(o,c),h=t.removedTargetIds||[];n=new Yh([],h,l.key,l)}else if("documentRemove"in r){r.documentRemove;const t=r.documentRemove;t.document;const o=ug(s,t.document),c=t.removedTargetIds||[];n=new Yh([],c,o,null)}else{if(!("filter"in r))return Yt();{r.filter;const t=r.filter;t.targetId;const{count:o=0,unchangedNames:c}=t,l=new UM(o,c),h=t.targetId;n=new dS(h,l)}}return n}function KM(s,r){let n;if(r instanceof wd)n={update:rw(s,r.key,r.value)};else if(r instanceof uS)n={delete:Qg(s,r.key)};else if(r instanceof Ol)n={update:rw(s,r.key,r.data),updateMask:iP(r.fieldMask)};else{if(!(r instanceof DM))return Yt();n={verify:Qg(s,r.key)}}return r.fieldTransforms.length>0&&(n.updateTransforms=r.fieldTransforms.map(t=>function(c,l){const h=l.transform;if(h instanceof ff)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof nd)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof sd)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof pf)return{fieldPath:l.field.canonicalString(),increment:h.Pe};throw Yt()}(0,t))),r.precondition.isNone||(n.currentDocument=function(o,c){return c.updateTime!==void 0?{updateTime:YM(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Yt()}(s,r.precondition)),n}function QM(s,r){return s&&s.length>0?(Ir(r!==void 0),s.map(n=>function(o,c){let l=o.updateTime?eo(o.updateTime):eo(c);return l.isEqual($t.min())&&(l=eo(c)),new kM(l,o.transformResults||[])}(n,r))):[]}function ZM(s,r){return{documents:[mS(s,r.path)]}}function JM(s,r){const n={structuredQuery:{}},t=r.path;let o;r.collectionGroup!==null?(o=t,n.structuredQuery.from=[{collectionId:r.collectionGroup,allDescendants:!0}]):(o=t.popLast(),n.structuredQuery.from=[{collectionId:t.lastSegment()}]),n.parent=mS(s,o);const c=function(d){if(d.length!==0)return vS(Ii.create(d,"and"))}(r.filters);c&&(n.structuredQuery.where=c);const l=function(d){if(d.length!==0)return d.map(_=>function(f){return{field:pu(f.field),direction:rP(f.dir)}}(_))}(r.orderBy);l&&(n.structuredQuery.orderBy=l);const h=$g(s,r.limit);return h!==null&&(n.structuredQuery.limit=h),r.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(r.startAt)),r.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(r.endAt)),{_t:n,parent:o}}function eP(s){let r=XM(s.parent);const n=s.structuredQuery,t=n.from?n.from.length:0;let o=null;if(t>0){Ir(t===1);const _=n.from[0];_.allDescendants?o=_.collectionId:r=r.child(_.collectionId)}let c=[];n.where&&(c=function(w){const f=yS(w);return f instanceof Ii&&W2(f)?f.getFilters():[f]}(n.where));let l=[];n.orderBy&&(l=function(w){return w.map(f=>function(b){return new hf(mu(b.field),function(m){switch(m){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(f))}(n.orderBy));let h=null;n.limit&&(h=function(w){let f;return f=typeof w=="object"?w.value:w,Vf(f)?null:f}(n.limit));let a=null;n.startAt&&(a=function(w){const f=!!w.before,p=w.values||[];return new df(p,f)}(n.startAt));let d=null;return n.endAt&&(d=function(w){const f=!w.before,p=w.values||[];return new df(p,f)}(n.endAt)),bM(r,o,l,c,h,"F",a,d)}function tP(s,r){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Yt()}}(r.purpose);return n==null?null:{"goog-listen-tags":n}}function yS(s){return s.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const t=mu(n.unaryFilter.field);return jn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const o=mu(n.unaryFilter.field);return jn.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=mu(n.unaryFilter.field);return jn.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=mu(n.unaryFilter.field);return jn.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Yt()}}(s):s.fieldFilter!==void 0?function(n){return jn.create(mu(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Yt()}}(n.fieldFilter.op),n.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(n){return Ii.create(n.compositeFilter.filters.map(t=>yS(t)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Yt()}}(n.compositeFilter.op))}(s):Yt()}function rP(s){return zM[s]}function nP(s){return HM[s]}function sP(s){return qM[s]}function pu(s){return{fieldPath:s.canonicalString()}}function mu(s){return Kn.fromServerFormat(s.fieldPath)}function vS(s){return s instanceof jn?function(n){if(n.op==="=="){if(G_(n.value))return{unaryFilter:{field:pu(n.field),op:"IS_NAN"}};if(B_(n.value))return{unaryFilter:{field:pu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(G_(n.value))return{unaryFilter:{field:pu(n.field),op:"IS_NOT_NAN"}};if(B_(n.value))return{unaryFilter:{field:pu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:pu(n.field),op:nP(n.op),value:n.value}}}(s):s instanceof Ii?function(n){const t=n.getFilters().map(o=>vS(o));return t.length===1?t[0]:{compositeFilter:{op:sP(n.op),filters:t}}}(s):Yt()}function iP(s){const r=[];return s.fields.forEach(n=>r.push(n.canonicalString())),{fieldPaths:r}}function bS(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(r,n,t,o,c=$t.min(),l=$t.min(),h=Jn.EMPTY_BYTE_STRING,a=null){this.target=r,this.targetId=n,this.purpose=t,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=h,this.expectedCount=a}withSequenceNumber(r){return new _a(this.target,this.targetId,this.purpose,r,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(r,n){return new _a(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,r,null)}withExpectedCount(r){return new _a(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,r)}withLastLimboFreeSnapshotVersion(r){return new _a(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,r,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(r){this.ct=r}}function aP(s){const r=eP({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Xg(r,r.limit,"L"):r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(){this.un=new uP}addToCollectionParentIndex(r,n){return this.un.add(n),gt.resolve()}getCollectionParents(r,n){return gt.resolve(this.un.getEntries(n))}addFieldIndex(r,n){return gt.resolve()}deleteFieldIndex(r,n){return gt.resolve()}deleteAllFieldIndexes(r){return gt.resolve()}createTargetIndexes(r,n){return gt.resolve()}getDocumentsMatchingTarget(r,n){return gt.resolve(null)}getIndexType(r,n){return gt.resolve(0)}getFieldIndexes(r,n){return gt.resolve([])}getNextCollectionGroupToUpdate(r){return gt.resolve(null)}getMinOffset(r,n){return gt.resolve(Ea.min())}getMinOffsetFromCollectionGroup(r,n){return gt.resolve(Ea.min())}updateCollectionGroup(r,n,t){return gt.resolve()}updateIndexEntries(r,n){return gt.resolve()}}class uP{constructor(){this.index={}}add(r){const n=r.lastSegment(),t=r.popLast(),o=this.index[n]||new Zn($r.comparator),c=!o.has(t);return this.index[n]=o.add(t),c}has(r){const n=r.lastSegment(),t=r.popLast(),o=this.index[n];return o&&o.has(t)}getEntries(r){return(this.index[r]||new Zn($r.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(r){this.Ln=r}next(){return this.Ln+=2,this.Ln}static Bn(){return new Eu(0)}static kn(){return new Eu(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(){this.changes=new Lu(r=>r.toString(),(r,n)=>r.isEqual(n)),this.changesApplied=!1}addEntry(r){this.assertNotApplied(),this.changes.set(r.key,r)}removeEntry(r,n){this.assertNotApplied(),this.changes.set(r,cs.newInvalidDocument(r).setReadTime(n))}getEntry(r,n){this.assertNotApplied();const t=this.changes.get(n);return t!==void 0?gt.resolve(t):this.getFromCache(r,n)}getEntries(r,n){return this.getAllFromCache(r,n)}apply(r){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(r)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(r,n){this.overlayedDocument=r,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(r,n,t,o){this.remoteDocumentCache=r,this.mutationQueue=n,this.documentOverlayCache=t,this.indexManager=o}getDocument(r,n){let t=null;return this.documentOverlayCache.getOverlay(r,n).next(o=>(t=o,this.remoteDocumentCache.getEntry(r,n))).next(o=>(t!==null&&Hc(t.mutation,o,Ai.empty(),Dn.now()),o))}getDocuments(r,n){return this.remoteDocumentCache.getEntries(r,n).next(t=>this.getLocalViewOfDocuments(r,t,or()).next(()=>t))}getLocalViewOfDocuments(r,n,t=or()){const o=ul();return this.populateOverlays(r,o,n).next(()=>this.computeViews(r,n,o,t).next(c=>{let l=Lc();return c.forEach((h,a)=>{l=l.insert(h,a.overlayedDocument)}),l}))}getOverlayedDocuments(r,n){const t=ul();return this.populateOverlays(r,t,n).next(()=>this.computeViews(r,n,t,or()))}populateOverlays(r,n,t){const o=[];return t.forEach(c=>{n.has(c)||o.push(c)}),this.documentOverlayCache.getOverlays(r,o).next(c=>{c.forEach((l,h)=>{n.set(l,h)})})}computeViews(r,n,t,o){let c=zo();const l=zc(),h=function(){return zc()}();return n.forEach((a,d)=>{const _=t.get(d.key);o.has(d.key)&&(_===void 0||_.mutation instanceof Ol)?c=c.insert(d.key,d):_!==void 0?(l.set(d.key,_.mutation.getFieldMask()),Hc(_.mutation,d,_.mutation.getFieldMask(),Dn.now())):l.set(d.key,Ai.empty())}),this.recalculateAndSaveOverlays(r,c).next(a=>(a.forEach((d,_)=>l.set(d,_)),n.forEach((d,_)=>{var w;return h.set(d,new dP(_,(w=l.get(d))!==null&&w!==void 0?w:null))}),h))}recalculateAndSaveOverlays(r,n){const t=zc();let o=new nn((l,h)=>l-h),c=or();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(r,n).next(l=>{for(const h of l)h.keys().forEach(a=>{const d=n.get(a);if(d===null)return;let _=t.get(a)||Ai.empty();_=h.applyToLocalView(d,_),t.set(a,_);const w=(o.get(h.batchId)||or()).add(a);o=o.insert(h.batchId,w)})}).next(()=>{const l=[],h=o.getReverseIterator();for(;h.hasNext();){const a=h.getNext(),d=a.key,_=a.value,w=tS();_.forEach(f=>{if(!c.has(f)){const p=aS(n.get(f),t.get(f));p!==null&&w.set(f,p),c=c.add(f)}}),l.push(this.documentOverlayCache.saveOverlays(r,d,w))}return gt.waitFor(l)}).next(()=>t)}recalculateAndSaveOverlaysForDocumentKeys(r,n){return this.remoteDocumentCache.getEntries(r,n).next(t=>this.recalculateAndSaveOverlays(r,t))}getDocumentsMatchingQuery(r,n,t,o){return function(l){return Vt.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(r,n.path):K2(n)?this.getDocumentsMatchingCollectionGroupQuery(r,n,t,o):this.getDocumentsMatchingCollectionQuery(r,n,t,o)}getNextDocuments(r,n,t,o){return this.remoteDocumentCache.getAllFromCollectionGroup(r,n,t,o).next(c=>{const l=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(r,n,t.largestBatchId,o-c.size):gt.resolve(ul());let h=-1,a=c;return l.next(d=>gt.forEach(d,(_,w)=>(h<w.largestBatchId&&(h=w.largestBatchId),c.get(_)?gt.resolve():this.remoteDocumentCache.getEntry(r,_).next(f=>{a=a.insert(_,f)}))).next(()=>this.populateOverlays(r,d,c)).next(()=>this.computeViews(r,a,d,or())).next(_=>({batchId:h,changes:eS(_)})))})}getDocumentsMatchingDocumentQuery(r,n){return this.getDocument(r,new Vt(n)).next(t=>{let o=Lc();return t.isFoundDocument()&&(o=o.insert(t.key,t)),o})}getDocumentsMatchingCollectionGroupQuery(r,n,t,o){const c=n.collectionGroup;let l=Lc();return this.indexManager.getCollectionParents(r,c).next(h=>gt.forEach(h,a=>{const d=function(w,f){return new _d(f,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(n,a.child(c));return this.getDocumentsMatchingCollectionQuery(r,d,t,o).next(_=>{_.forEach((w,f)=>{l=l.insert(w,f)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(r,n,t,o){let c;return this.documentOverlayCache.getOverlaysForCollection(r,n.path,t.largestBatchId).next(l=>(c=l,this.remoteDocumentCache.getDocumentsMatchingQuery(r,n,t,c,o))).next(l=>{c.forEach((a,d)=>{const _=d.getKey();l.get(_)===null&&(l=l.insert(_,cs.newInvalidDocument(_)))});let h=Lc();return l.forEach((a,d)=>{const _=c.get(a);_!==void 0&&Hc(_.mutation,d,Ai.empty(),Dn.now()),Gf(n,d)&&(h=h.insert(a,d))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{constructor(r){this.serializer=r,this.hr=new Map,this.Pr=new Map}getBundleMetadata(r,n){return gt.resolve(this.hr.get(n))}saveBundleMetadata(r,n){return this.hr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:eo(o.createTime)}}(n)),gt.resolve()}getNamedQuery(r,n){return gt.resolve(this.Pr.get(n))}saveNamedQuery(r,n){return this.Pr.set(n.name,function(o){return{name:o.name,query:aP(o.bundledQuery),readTime:eo(o.readTime)}}(n)),gt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(){this.overlays=new nn(Vt.comparator),this.Ir=new Map}getOverlay(r,n){return gt.resolve(this.overlays.get(n))}getOverlays(r,n){const t=ul();return gt.forEach(n,o=>this.getOverlay(r,o).next(c=>{c!==null&&t.set(o,c)})).next(()=>t)}saveOverlays(r,n,t){return t.forEach((o,c)=>{this.ht(r,n,c)}),gt.resolve()}removeOverlaysForBatchId(r,n,t){const o=this.Ir.get(t);return o!==void 0&&(o.forEach(c=>this.overlays=this.overlays.remove(c)),this.Ir.delete(t)),gt.resolve()}getOverlaysForCollection(r,n,t){const o=ul(),c=n.length+1,l=new Vt(n.child("")),h=this.overlays.getIteratorFrom(l);for(;h.hasNext();){const a=h.getNext().value,d=a.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===c&&a.largestBatchId>t&&o.set(a.getKey(),a)}return gt.resolve(o)}getOverlaysForCollectionGroup(r,n,t,o){let c=new nn((d,_)=>d-_);const l=this.overlays.getIterator();for(;l.hasNext();){const d=l.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>t){let _=c.get(d.largestBatchId);_===null&&(_=ul(),c=c.insert(d.largestBatchId,_)),_.set(d.getKey(),d)}}const h=ul(),a=c.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach((d,_)=>h.set(d,_)),!(h.size()>=o)););return gt.resolve(h)}ht(r,n,t){const o=this.overlays.get(t.key);if(o!==null){const l=this.Ir.get(o.largestBatchId).delete(t.key);this.Ir.set(o.largestBatchId,l)}this.overlays=this.overlays.insert(t.key,new NM(n,t));let c=this.Ir.get(n);c===void 0&&(c=or(),this.Ir.set(n,c)),this.Ir.set(n,c.add(t.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(){this.sessionToken=Jn.EMPTY_BYTE_STRING}getSessionToken(r){return gt.resolve(this.sessionToken)}setSessionToken(r,n){return this.sessionToken=n,gt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv{constructor(){this.Tr=new Zn(Bn.Er),this.dr=new Zn(Bn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(r,n){const t=new Bn(r,n);this.Tr=this.Tr.add(t),this.dr=this.dr.add(t)}Rr(r,n){r.forEach(t=>this.addReference(t,n))}removeReference(r,n){this.Vr(new Bn(r,n))}mr(r,n){r.forEach(t=>this.removeReference(t,n))}gr(r){const n=new Vt(new $r([])),t=new Bn(n,r),o=new Bn(n,r+1),c=[];return this.dr.forEachInRange([t,o],l=>{this.Vr(l),c.push(l.key)}),c}pr(){this.Tr.forEach(r=>this.Vr(r))}Vr(r){this.Tr=this.Tr.delete(r),this.dr=this.dr.delete(r)}yr(r){const n=new Vt(new $r([])),t=new Bn(n,r),o=new Bn(n,r+1);let c=or();return this.dr.forEachInRange([t,o],l=>{c=c.add(l.key)}),c}containsKey(r){const n=new Bn(r,0),t=this.Tr.firstAfterOrEqual(n);return t!==null&&r.isEqual(t.key)}}class Bn{constructor(r,n){this.key=r,this.wr=n}static Er(r,n){return Vt.comparator(r.key,n.key)||_r(r.wr,n.wr)}static Ar(r,n){return _r(r.wr,n.wr)||Vt.comparator(r.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{constructor(r,n){this.indexManager=r,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Zn(Bn.Er)}checkEmpty(r){return gt.resolve(this.mutationQueue.length===0)}addMutationBatch(r,n,t,o){const c=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new LM(c,n,t,o);this.mutationQueue.push(l);for(const h of o)this.br=this.br.add(new Bn(h.key,c)),this.indexManager.addToCollectionParentIndex(r,h.key.path.popLast());return gt.resolve(l)}lookupMutationBatch(r,n){return gt.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(r,n){const t=n+1,o=this.vr(t),c=o<0?0:o;return gt.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return gt.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(r){return gt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(r,n){const t=new Bn(n,0),o=new Bn(n,Number.POSITIVE_INFINITY),c=[];return this.br.forEachInRange([t,o],l=>{const h=this.Dr(l.wr);c.push(h)}),gt.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(r,n){let t=new Zn(_r);return n.forEach(o=>{const c=new Bn(o,0),l=new Bn(o,Number.POSITIVE_INFINITY);this.br.forEachInRange([c,l],h=>{t=t.add(h.wr)})}),gt.resolve(this.Cr(t))}getAllMutationBatchesAffectingQuery(r,n){const t=n.path,o=t.length+1;let c=t;Vt.isDocumentKey(c)||(c=c.child(""));const l=new Bn(new Vt(c),0);let h=new Zn(_r);return this.br.forEachWhile(a=>{const d=a.key.path;return!!t.isPrefixOf(d)&&(d.length===o&&(h=h.add(a.wr)),!0)},l),gt.resolve(this.Cr(h))}Cr(r){const n=[];return r.forEach(t=>{const o=this.Dr(t);o!==null&&n.push(o)}),n}removeMutationBatch(r,n){Ir(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let t=this.br;return gt.forEach(n.mutations,o=>{const c=new Bn(o.key,n.batchId);return t=t.delete(c),this.referenceDelegate.markPotentiallyOrphaned(r,o.key)}).next(()=>{this.br=t})}On(r){}containsKey(r,n){const t=new Bn(n,0),o=this.br.firstAfterOrEqual(t);return gt.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(r){return this.mutationQueue.length,gt.resolve()}Fr(r,n){return this.vr(r)}vr(r){return this.mutationQueue.length===0?0:r-this.mutationQueue[0].batchId}Dr(r){const n=this.vr(r);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{constructor(r){this.Mr=r,this.docs=function(){return new nn(Vt.comparator)}(),this.size=0}setIndexManager(r){this.indexManager=r}addEntry(r,n){const t=n.key,o=this.docs.get(t),c=o?o.size:0,l=this.Mr(n);return this.docs=this.docs.insert(t,{document:n.mutableCopy(),size:l}),this.size+=l-c,this.indexManager.addToCollectionParentIndex(r,t.path.popLast())}removeEntry(r){const n=this.docs.get(r);n&&(this.docs=this.docs.remove(r),this.size-=n.size)}getEntry(r,n){const t=this.docs.get(n);return gt.resolve(t?t.document.mutableCopy():cs.newInvalidDocument(n))}getEntries(r,n){let t=zo();return n.forEach(o=>{const c=this.docs.get(o);t=t.insert(o,c?c.document.mutableCopy():cs.newInvalidDocument(o))}),gt.resolve(t)}getDocumentsMatchingQuery(r,n,t,o){let c=zo();const l=n.path,h=new Vt(l.child("")),a=this.docs.getIteratorFrom(h);for(;a.hasNext();){const{key:d,value:{document:_}}=a.getNext();if(!l.isPrefixOf(d.path))break;d.path.length>l.length+1||eM(Jk(_),t)<=0||(o.has(_.key)||Gf(n,_))&&(c=c.insert(_.key,_.mutableCopy()))}return gt.resolve(c)}getAllFromCollectionGroup(r,n,t,o){Yt()}Or(r,n){return gt.forEach(this.docs,t=>n(t))}newChangeBuffer(r){return new vP(this)}getSize(r){return gt.resolve(this.size)}}class vP extends cP{constructor(r){super(),this.cr=r}applyChanges(r){const n=[];return this.changes.forEach((t,o)=>{o.isValidDocument()?n.push(this.cr.addEntry(r,o)):this.cr.removeEntry(t)}),gt.waitFor(n)}getFromCache(r,n){return this.cr.getEntry(r,n)}getAllFromCache(r,n){return this.cr.getEntries(r,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP{constructor(r){this.persistence=r,this.Nr=new Lu(n=>$y(n),Ky),this.lastRemoteSnapshotVersion=$t.min(),this.highestTargetId=0,this.Lr=0,this.Br=new rv,this.targetCount=0,this.kr=Eu.Bn()}forEachTarget(r,n){return this.Nr.forEach((t,o)=>n(o)),gt.resolve()}getLastRemoteSnapshotVersion(r){return gt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(r){return gt.resolve(this.Lr)}allocateTargetId(r){return this.highestTargetId=this.kr.next(),gt.resolve(this.highestTargetId)}setTargetsMetadata(r,n,t){return t&&(this.lastRemoteSnapshotVersion=t),n>this.Lr&&(this.Lr=n),gt.resolve()}Kn(r){this.Nr.set(r.target,r);const n=r.targetId;n>this.highestTargetId&&(this.kr=new Eu(n),this.highestTargetId=n),r.sequenceNumber>this.Lr&&(this.Lr=r.sequenceNumber)}addTargetData(r,n){return this.Kn(n),this.targetCount+=1,gt.resolve()}updateTargetData(r,n){return this.Kn(n),gt.resolve()}removeTargetData(r,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,gt.resolve()}removeTargets(r,n,t){let o=0;const c=[];return this.Nr.forEach((l,h)=>{h.sequenceNumber<=n&&t.get(h.targetId)===null&&(this.Nr.delete(l),c.push(this.removeMatchingKeysForTargetId(r,h.targetId)),o++)}),gt.waitFor(c).next(()=>o)}getTargetCount(r){return gt.resolve(this.targetCount)}getTargetData(r,n){const t=this.Nr.get(n)||null;return gt.resolve(t)}addMatchingKeys(r,n,t){return this.Br.Rr(n,t),gt.resolve()}removeMatchingKeys(r,n,t){this.Br.mr(n,t);const o=this.persistence.referenceDelegate,c=[];return o&&n.forEach(l=>{c.push(o.markPotentiallyOrphaned(r,l))}),gt.waitFor(c)}removeMatchingKeysForTargetId(r,n){return this.Br.gr(n),gt.resolve()}getMatchingKeysForTargetId(r,n){const t=this.Br.yr(n);return gt.resolve(t)}containsKey(r,n){return gt.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{constructor(r,n){this.qr={},this.overlays={},this.Qr=new qy(0),this.Kr=!1,this.Kr=!0,this.$r=new mP,this.referenceDelegate=r(this),this.Ur=new bP(this),this.indexManager=new lP,this.remoteDocumentCache=function(o){return new yP(o)}(t=>this.referenceDelegate.Wr(t)),this.serializer=new oP(n),this.Gr=new fP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(r){return this.indexManager}getDocumentOverlayCache(r){let n=this.overlays[r.toKey()];return n||(n=new pP,this.overlays[r.toKey()]=n),n}getMutationQueue(r,n){let t=this.qr[r.toKey()];return t||(t=new gP(n,this.referenceDelegate),this.qr[r.toKey()]=t),t}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(r,n,t){It("MemoryPersistence","Starting transaction:",r);const o=new wP(this.Qr.next());return this.referenceDelegate.zr(),t(o).next(c=>this.referenceDelegate.jr(o).next(()=>c)).toPromise().then(c=>(o.raiseOnCommittedEvent(),c))}Hr(r,n){return gt.or(Object.values(this.qr).map(t=>()=>t.containsKey(r,n)))}}class wP extends rM{constructor(r){super(),this.currentSequenceNumber=r}}class nv{constructor(r){this.persistence=r,this.Jr=new rv,this.Yr=null}static Zr(r){return new nv(r)}get Xr(){if(this.Yr)return this.Yr;throw Yt()}addReference(r,n,t){return this.Jr.addReference(t,n),this.Xr.delete(t.toString()),gt.resolve()}removeReference(r,n,t){return this.Jr.removeReference(t,n),this.Xr.add(t.toString()),gt.resolve()}markPotentiallyOrphaned(r,n){return this.Xr.add(n.toString()),gt.resolve()}removeTarget(r,n){this.Jr.gr(n.targetId).forEach(o=>this.Xr.add(o.toString()));const t=this.persistence.getTargetCache();return t.getMatchingKeysForTargetId(r,n.targetId).next(o=>{o.forEach(c=>this.Xr.add(c.toString()))}).next(()=>t.removeTargetData(r,n))}zr(){this.Yr=new Set}jr(r){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return gt.forEach(this.Xr,t=>{const o=Vt.fromPath(t);return this.ei(r,o).next(c=>{c||n.removeEntry(o,$t.min())})}).next(()=>(this.Yr=null,n.apply(r)))}updateLimboDocument(r,n){return this.ei(r,n).next(t=>{t?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(r){return 0}ei(r,n){return gt.or([()=>gt.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(r,n),()=>this.persistence.Hr(r,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv{constructor(r,n,t,o){this.targetId=r,this.fromCache=n,this.$i=t,this.Ui=o}static Wi(r,n){let t=or(),o=or();for(const c of n.docChanges)switch(c.type){case 0:t=t.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new sv(r,n.fromCache,t,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(r){this._documentReadCount+=r}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return GA()?8:nM(ds())>0?6:4}()}initialize(r,n){this.Ji=r,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(r,n,t,o){const c={result:null};return this.Yi(r,n).next(l=>{c.result=l}).next(()=>{if(!c.result)return this.Zi(r,n,o,t).next(l=>{c.result=l})}).next(()=>{if(c.result)return;const l=new xP;return this.Xi(r,n,l).next(h=>{if(c.result=h,this.zi)return this.es(r,n,l,h.size)})}).next(()=>c.result)}es(r,n,t,o){return t.documentReadCount<this.ji?(Ec()<=cr.DEBUG&&It("QueryEngine","SDK will not create cache indexes for query:",fu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),gt.resolve()):(Ec()<=cr.DEBUG&&It("QueryEngine","Query:",fu(n),"scans",t.documentReadCount,"local documents and returns",o,"documents as results."),t.documentReadCount>this.Hi*o?(Ec()<=cr.DEBUG&&It("QueryEngine","The SDK decides to create cache indexes for query:",fu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(r,Zi(n))):gt.resolve())}Yi(r,n){if(W_(n))return gt.resolve(null);let t=Zi(n);return this.indexManager.getIndexType(r,t).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Xg(n,null,"F"),t=Zi(n)),this.indexManager.getDocumentsMatchingTarget(r,t).next(c=>{const l=or(...c);return this.Ji.getDocuments(r,l).next(h=>this.indexManager.getMinOffset(r,t).next(a=>{const d=this.ts(n,h);return this.ns(n,d,l,a.readTime)?this.Yi(r,Xg(n,null,"F")):this.rs(r,d,n,a)}))})))}Zi(r,n,t,o){return W_(n)||o.isEqual($t.min())?gt.resolve(null):this.Ji.getDocuments(r,t).next(c=>{const l=this.ts(n,c);return this.ns(n,l,t,o)?gt.resolve(null):(Ec()<=cr.DEBUG&&It("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),fu(n)),this.rs(r,l,n,Zk(o,-1)).next(h=>h))})}ts(r,n){let t=new Zn(Z2(r));return n.forEach((o,c)=>{Gf(r,c)&&(t=t.add(c))}),t}ns(r,n,t,o){if(r.limit===null)return!1;if(t.size!==n.size)return!0;const c=r.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Xi(r,n,t){return Ec()<=cr.DEBUG&&It("QueryEngine","Using full collection scan to execute query:",fu(n)),this.Ji.getDocumentsMatchingQuery(r,n,Ea.min(),t)}rs(r,n,t,o){return this.Ji.getDocumentsMatchingQuery(r,t,o).next(c=>(n.forEach(l=>{c=c.insert(l.key,l)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP{constructor(r,n,t,o){this.persistence=r,this.ss=n,this.serializer=o,this.os=new nn(_r),this._s=new Lu(c=>$y(c),Ky),this.us=new Map,this.cs=r.getRemoteDocumentCache(),this.Ur=r.getTargetCache(),this.Gr=r.getBundleCache(),this.ls(t)}ls(r){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(r),this.indexManager=this.persistence.getIndexManager(r),this.mutationQueue=this.persistence.getMutationQueue(r,this.indexManager),this.localDocuments=new hP(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(r){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>r.collect(n,this.os))}}function EP(s,r,n,t){return new jP(s,r,n,t)}async function _S(s,r){const n=Kt(s);return await n.persistence.runTransaction("Handle user change","readonly",t=>{let o;return n.mutationQueue.getAllMutationBatches(t).next(c=>(o=c,n.ls(r),n.mutationQueue.getAllMutationBatches(t))).next(c=>{const l=[],h=[];let a=or();for(const d of o){l.push(d.batchId);for(const _ of d.mutations)a=a.add(_.key)}for(const d of c){h.push(d.batchId);for(const _ of d.mutations)a=a.add(_.key)}return n.localDocuments.getDocuments(t,a).next(d=>({hs:d,removedBatchIds:l,addedBatchIds:h}))})})}function TP(s,r){const n=Kt(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",t=>{const o=r.batch.keys(),c=n.cs.newChangeBuffer({trackRemovals:!0});return function(h,a,d,_){const w=d.batch,f=w.keys();let p=gt.resolve();return f.forEach(b=>{p=p.next(()=>_.getEntry(a,b)).next(y=>{const m=d.docVersions.get(b);Ir(m!==null),y.version.compareTo(m)<0&&(w.applyToRemoteDocument(y,d),y.isValidDocument()&&(y.setReadTime(d.commitVersion),_.addEntry(y)))})}),p.next(()=>h.mutationQueue.removeMutationBatch(a,w))}(n,t,r,c).next(()=>c.apply(t)).next(()=>n.mutationQueue.performConsistencyCheck(t)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(t,o,r.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(t,function(h){let a=or();for(let d=0;d<h.mutationResults.length;++d)h.mutationResults[d].transformResults.length>0&&(a=a.add(h.batch.mutations[d].key));return a}(r))).next(()=>n.localDocuments.getDocuments(t,o))})}function wS(s){const r=Kt(s);return r.persistence.runTransaction("Get last remote snapshot version","readonly",n=>r.Ur.getLastRemoteSnapshotVersion(n))}function CP(s,r){const n=Kt(s),t=r.snapshotVersion;let o=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const l=n.cs.newChangeBuffer({trackRemovals:!0});o=n.os;const h=[];r.targetChanges.forEach((_,w)=>{const f=o.get(w);if(!f)return;h.push(n.Ur.removeMatchingKeys(c,_.removedDocuments,w).next(()=>n.Ur.addMatchingKeys(c,_.addedDocuments,w)));let p=f.withSequenceNumber(c.currentSequenceNumber);r.targetMismatches.get(w)!==null?p=p.withResumeToken(Jn.EMPTY_BYTE_STRING,$t.min()).withLastLimboFreeSnapshotVersion($t.min()):_.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(_.resumeToken,t)),o=o.insert(w,p),function(y,m,g){return y.resumeToken.approximateByteSize()===0||m.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0}(f,p,_)&&h.push(n.Ur.updateTargetData(c,p))});let a=zo(),d=or();if(r.documentUpdates.forEach(_=>{r.resolvedLimboDocuments.has(_)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(c,_))}),h.push(AP(c,l,r.documentUpdates).next(_=>{a=_.Ps,d=_.Is})),!t.isEqual($t.min())){const _=n.Ur.getLastRemoteSnapshotVersion(c).next(w=>n.Ur.setTargetsMetadata(c,c.currentSequenceNumber,t));h.push(_)}return gt.waitFor(h).next(()=>l.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,a,d)).next(()=>a)}).then(c=>(n.os=o,c))}function AP(s,r,n){let t=or(),o=or();return n.forEach(c=>t=t.add(c)),r.getEntries(s,t).next(c=>{let l=zo();return n.forEach((h,a)=>{const d=c.get(h);a.isFoundDocument()!==d.isFoundDocument()&&(o=o.add(h)),a.isNoDocument()&&a.version.isEqual($t.min())?(r.removeEntry(h,a.readTime),l=l.insert(h,a)):!d.isValidDocument()||a.version.compareTo(d.version)>0||a.version.compareTo(d.version)===0&&d.hasPendingWrites?(r.addEntry(a),l=l.insert(h,a)):It("LocalStore","Ignoring outdated watch update for ",h,". Current version:",d.version," Watch version:",a.version)}),{Ps:l,Is:o}})}function RP(s,r){const n=Kt(s);return n.persistence.runTransaction("Get next mutation batch","readonly",t=>(r===void 0&&(r=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(t,r)))}function OP(s,r){const n=Kt(s);return n.persistence.runTransaction("Allocate target","readwrite",t=>{let o;return n.Ur.getTargetData(t,r).next(c=>c?(o=c,gt.resolve(o)):n.Ur.allocateTargetId(t).next(l=>(o=new _a(r,l,"TargetPurposeListen",t.currentSequenceNumber),n.Ur.addTargetData(t,o).next(()=>o))))}).then(t=>{const o=n.os.get(t.targetId);return(o===null||t.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.os=n.os.insert(t.targetId,t),n._s.set(r,t.targetId)),t})}async function Jg(s,r,n){const t=Kt(s),o=t.os.get(r),c=n?"readwrite":"readwrite-primary";try{n||await t.persistence.runTransaction("Release target",c,l=>t.persistence.referenceDelegate.removeTarget(l,o))}catch(l){if(!bd(l))throw l;It("LocalStore",`Failed to update sequence numbers for target ${r}: ${l}`)}t.os=t.os.remove(r),t._s.delete(o.target)}function nw(s,r,n){const t=Kt(s);let o=$t.min(),c=or();return t.persistence.runTransaction("Execute query","readwrite",l=>function(a,d,_){const w=Kt(a),f=w._s.get(_);return f!==void 0?gt.resolve(w.os.get(f)):w.Ur.getTargetData(d,_)}(t,l,Zi(r)).next(h=>{if(h)return o=h.lastLimboFreeSnapshotVersion,t.Ur.getMatchingKeysForTargetId(l,h.targetId).next(a=>{c=a})}).next(()=>t.ss.getDocumentsMatchingQuery(l,r,n?o:$t.min(),n?c:or())).next(h=>(IP(t,wM(r),h),{documents:h,Ts:c})))}function IP(s,r,n){let t=s.us.get(r)||$t.min();n.forEach((o,c)=>{c.readTime.compareTo(t)>0&&(t=c.readTime)}),s.us.set(r,t)}class sw{constructor(){this.activeTargetIds=CM()}fs(r){this.activeTargetIds=this.activeTargetIds.add(r)}gs(r){this.activeTargetIds=this.activeTargetIds.delete(r)}Vs(){const r={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(r)}}class kP{constructor(){this.so=new sw,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(r){}updateMutationState(r,n,t){}addLocalQueryTarget(r,n=!0){return n&&this.so.fs(r),this.oo[r]||"not-current"}updateQueryState(r,n,t){this.oo[r]=n}removeLocalQueryTarget(r){this.so.gs(r)}isLocalQueryTarget(r){return this.so.activeTargetIds.has(r)}clearQueryState(r){delete this.oo[r]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(r){return this.so.activeTargetIds.has(r)}start(){return this.so=new sw,Promise.resolve()}handleUserChange(r,n,t){}setOnlineState(r){}shutdown(){}writeSequenceNumber(r){}notifyBundleLoaded(r){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MP{_o(r){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(r){this.ho.push(r)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){It("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const r of this.ho)r(0)}lo(){It("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const r of this.ho)r(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rh=null;function cg(){return Rh===null?Rh=function(){return 268435456+Math.round(2147483648*Math.random())}():Rh++,"0x"+Rh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP{constructor(r){this.Io=r.Io,this.To=r.To}Eo(r){this.Ao=r}Ro(r){this.Vo=r}mo(r){this.fo=r}onMessage(r){this.po=r}close(){this.To()}send(r){this.Io(r)}yo(){this.Ao()}wo(){this.Vo()}So(r){this.fo(r)}bo(r){this.po(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const as="WebChannelConnection";class LP extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const t=n.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),c=encodeURIComponent(this.databaseId.database);this.Do=t+"://"+n.host,this.vo=`projects/${o}/databases/${c}`,this.Co=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${c}`}get Fo(){return!1}Mo(n,t,o,c,l){const h=cg(),a=this.xo(n,t.toUriEncodedString());It("RestConnection",`Sending RPC '${n}' ${h}:`,a,o);const d={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(d,c,l),this.No(n,a,d,o).then(_=>(It("RestConnection",`Received RPC '${n}' ${h}: `,_),_),_=>{throw wu("RestConnection",`RPC '${n}' ${h} failed with error: `,_,"url: ",a,"request:",o),_})}Lo(n,t,o,c,l,h){return this.Mo(n,t,o,c,l)}Oo(n,t,o){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Pu}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((c,l)=>n[l]=c),o&&o.headers.forEach((c,l)=>n[l]=c)}xo(n,t){const o=PP[n];return`${this.Do}/v1/${t}:${o}`}terminate(){}}{constructor(r){super(r),this.forceLongPolling=r.forceLongPolling,this.autoDetectLongPolling=r.autoDetectLongPolling,this.useFetchStreams=r.useFetchStreams,this.longPollingOptions=r.longPollingOptions}No(r,n,t,o){const c=cg();return new Promise((l,h)=>{const a=new P2;a.setWithCredentials(!0),a.listenOnce(D2.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case Hh.NO_ERROR:const _=a.getResponseJson();It(as,`XHR for RPC '${r}' ${c} received:`,JSON.stringify(_)),l(_);break;case Hh.TIMEOUT:It(as,`RPC '${r}' ${c} timed out`),h(new Ct(ht.DEADLINE_EXCEEDED,"Request time out"));break;case Hh.HTTP_ERROR:const w=a.getStatus();if(It(as,`RPC '${r}' ${c} failed with status:`,w,"response text:",a.getResponseText()),w>0){let f=a.getResponseJson();Array.isArray(f)&&(f=f[0]);const p=f==null?void 0:f.error;if(p&&p.status&&p.message){const b=function(m){const g=m.toLowerCase().replace(/_/g,"-");return Object.values(ht).indexOf(g)>=0?g:ht.UNKNOWN}(p.status);h(new Ct(b,p.message))}else h(new Ct(ht.UNKNOWN,"Server responded with status "+a.getStatus()))}else h(new Ct(ht.UNAVAILABLE,"Connection failed."));break;default:Yt()}}finally{It(as,`RPC '${r}' ${c} completed.`)}});const d=JSON.stringify(o);It(as,`RPC '${r}' ${c} sending request:`,o),a.send(n,"POST",d,t,15)})}Bo(r,n,t){const o=cg(),c=[this.Do,"/","google.firestore.v1.Firestore","/",r,"/channel"],l=U2(),h=N2(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(a.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Oo(a.initMessageHeaders,n,t),a.encodeInitMessageHeaders=!0;const _=c.join("");It(as,`Creating RPC '${r}' stream ${o}: ${_}`,a);const w=l.createWebChannel(_,a);let f=!1,p=!1;const b=new DP({Io:m=>{p?It(as,`Not sending because RPC '${r}' stream ${o} is closed:`,m):(f||(It(as,`Opening RPC '${r}' stream ${o} transport.`),w.open(),f=!0),It(as,`RPC '${r}' stream ${o} sending:`,m),w.send(m))},To:()=>w.close()}),y=(m,g,v)=>{m.listen(g,S=>{try{v(S)}catch(j){setTimeout(()=>{throw j},0)}})};return y(w,Dc.EventType.OPEN,()=>{p||(It(as,`RPC '${r}' stream ${o} transport opened.`),b.yo())}),y(w,Dc.EventType.CLOSE,()=>{p||(p=!0,It(as,`RPC '${r}' stream ${o} transport closed`),b.So())}),y(w,Dc.EventType.ERROR,m=>{p||(p=!0,wu(as,`RPC '${r}' stream ${o} transport errored:`,m),b.So(new Ct(ht.UNAVAILABLE,"The operation could not be completed")))}),y(w,Dc.EventType.MESSAGE,m=>{var g;if(!p){const v=m.data[0];Ir(!!v);const S=v,j=S.error||((g=S[0])===null||g===void 0?void 0:g.error);if(j){It(as,`RPC '${r}' stream ${o} received error:`,j);const A=j.status;let L=function(R){const D=wn[R];if(D!==void 0)return cS(D)}(A),C=j.message;L===void 0&&(L=ht.INTERNAL,C="Unknown error status: "+A+" with message "+j.message),p=!0,b.So(new Ct(L,C)),w.close()}else It(as,`RPC '${r}' stream ${o} received:`,v),b.bo(v)}}),y(h,L2.STAT_EVENT,m=>{m.stat===Gg.PROXY?It(as,`RPC '${r}' stream ${o} detected buffering proxy`):m.stat===Gg.NOPROXY&&It(as,`RPC '${r}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{b.wo()},0),b}}function dg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wf(s){return new WM(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(r,n,t=1e3,o=1.5,c=6e4){this.ui=r,this.timerId=n,this.ko=t,this.qo=o,this.Qo=c,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(r){this.cancel();const n=Math.floor(this.Ko+this.zo()),t=Math.max(0,Date.now()-this.Uo),o=Math.max(0,n-t);o>0&&It("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${t} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,o,()=>(this.Uo=Date.now(),r())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(r,n,t,o,c,l,h,a){this.ui=r,this.Ho=t,this.Jo=o,this.connection=c,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=h,this.listener=a,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new xS(r,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(r){this.u_(),this.stream.send(r)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(r,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,r!==4?this.t_.reset():n&&n.code===ht.RESOURCE_EXHAUSTED?(Go(n.toString()),Go("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===ht.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=r,await this.listener.mo(n)}l_(){}auth(){this.state=1;const r=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([t,o])=>{this.Yo===n&&this.P_(t,o)},t=>{r(()=>{const o=new Ct(ht.UNKNOWN,"Fetching auth token failed: "+t.message);return this.I_(o)})})}P_(r,n){const t=this.h_(this.Yo);this.stream=this.T_(r,n),this.stream.Eo(()=>{t(()=>this.listener.Eo())}),this.stream.Ro(()=>{t(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(o=>{t(()=>this.I_(o))}),this.stream.onMessage(o=>{t(()=>++this.e_==1?this.E_(o):this.onNext(o))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(r){return It("PersistentStream",`close with error: ${r}`),this.stream=null,this.close(4,r)}h_(r){return n=>{this.ui.enqueueAndForget(()=>this.Yo===r?n():(It("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class NP extends SS{constructor(r,n,t,o,c,l){super(r,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,t,o,l),this.serializer=c}T_(r,n){return this.connection.Bo("Listen",r,n)}E_(r){return this.onNext(r)}onNext(r){this.t_.reset();const n=$M(this.serializer,r),t=function(c){if(!("targetChange"in c))return $t.min();const l=c.targetChange;return l.targetIds&&l.targetIds.length?$t.min():l.readTime?eo(l.readTime):$t.min()}(r);return this.listener.d_(n,t)}A_(r){const n={};n.database=Zg(this.serializer),n.addTarget=function(c,l){let h;const a=l.target;if(h=Wg(a)?{documents:ZM(c,a)}:{query:JM(c,a)._t},h.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){h.resumeToken=fS(c,l.resumeToken);const d=$g(c,l.expectedCount);d!==null&&(h.expectedCount=d)}else if(l.snapshotVersion.compareTo($t.min())>0){h.readTime=mf(c,l.snapshotVersion.toTimestamp());const d=$g(c,l.expectedCount);d!==null&&(h.expectedCount=d)}return h}(this.serializer,r);const t=tP(this.serializer,r);t&&(n.labels=t),this.a_(n)}R_(r){const n={};n.database=Zg(this.serializer),n.removeTarget=r,this.a_(n)}}class UP extends SS{constructor(r,n,t,o,c,l){super(r,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,t,o,l),this.serializer=c}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(r,n){return this.connection.Bo("Write",r,n)}E_(r){return Ir(!!r.streamToken),this.lastStreamToken=r.streamToken,Ir(!r.writeResults||r.writeResults.length===0),this.listener.f_()}onNext(r){Ir(!!r.streamToken),this.lastStreamToken=r.streamToken,this.t_.reset();const n=QM(r.writeResults,r.commitTime),t=eo(r.commitTime);return this.listener.g_(t,n)}p_(){const r={};r.database=Zg(this.serializer),this.a_(r)}m_(r){const n={streamToken:this.lastStreamToken,writes:r.map(t=>KM(this.serializer,t))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FP extends class{}{constructor(r,n,t,o){super(),this.authCredentials=r,this.appCheckCredentials=n,this.connection=t,this.serializer=o,this.y_=!1}w_(){if(this.y_)throw new Ct(ht.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(r,n,t,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,l])=>this.connection.Mo(r,Kg(n,t),o,c,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===ht.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Ct(ht.UNKNOWN,c.toString())})}Lo(r,n,t,o,c){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,h])=>this.connection.Lo(r,Kg(n,t),o,l,h,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ht.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ct(ht.UNKNOWN,l.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class VP{constructor(r,n){this.asyncQueue=r,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(r){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${r.toString()}`),this.C_("Offline")))}set(r){this.x_(),this.S_=0,r==="Online"&&(this.D_=!1),this.C_(r)}C_(r){r!==this.state&&(this.state=r,this.onlineStateHandler(r))}F_(r){const n=`Could not reach Cloud Firestore backend. ${r}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Go(n),this.D_=!1):It("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP{constructor(r,n,t,o,c){this.localStore=r,this.datastore=n,this.asyncQueue=t,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=c,this.k_._o(l=>{t.enqueueAndForget(async()=>{Il(this)&&(It("RemoteStore","Restarting streams for network reachability change."),await async function(a){const d=Kt(a);d.L_.add(4),await Sd(d),d.q_.set("Unknown"),d.L_.delete(4),await Yf(d)}(this))})}),this.q_=new VP(t,o)}}async function Yf(s){if(Il(s))for(const r of s.B_)await r(!0)}async function Sd(s){for(const r of s.B_)await r(!1)}function jS(s,r){const n=Kt(s);n.N_.has(r.targetId)||(n.N_.set(r.targetId,r),lv(n)?av(n):Nu(n).r_()&&ov(n,r))}function iv(s,r){const n=Kt(s),t=Nu(n);n.N_.delete(r),t.r_()&&ES(n,r),n.N_.size===0&&(t.r_()?t.o_():Il(n)&&n.q_.set("Unknown"))}function ov(s,r){if(s.Q_.xe(r.targetId),r.resumeToken.approximateByteSize()>0||r.snapshotVersion.compareTo($t.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(r.targetId).size;r=r.withExpectedCount(n)}Nu(s).A_(r)}function ES(s,r){s.Q_.xe(r),Nu(s).R_(r)}function av(s){s.Q_=new GM({getRemoteKeysForTarget:r=>s.remoteSyncer.getRemoteKeysForTarget(r),ot:r=>s.N_.get(r)||null,tt:()=>s.datastore.serializer.databaseId}),Nu(s).start(),s.q_.v_()}function lv(s){return Il(s)&&!Nu(s).n_()&&s.N_.size>0}function Il(s){return Kt(s).L_.size===0}function TS(s){s.Q_=void 0}async function GP(s){s.q_.set("Online")}async function zP(s){s.N_.forEach((r,n)=>{ov(s,r)})}async function HP(s,r){TS(s),lv(s)?(s.q_.M_(r),av(s)):s.q_.set("Unknown")}async function qP(s,r,n){if(s.q_.set("Online"),r instanceof hS&&r.state===2&&r.cause)try{await async function(o,c){const l=c.cause;for(const h of c.targetIds)o.N_.has(h)&&(await o.remoteSyncer.rejectListen(h,l),o.N_.delete(h),o.Q_.removeTarget(h))}(s,r)}catch(t){It("RemoteStore","Failed to remove targets %s: %s ",r.targetIds.join(","),t),await gf(s,t)}else if(r instanceof Yh?s.Q_.Ke(r):r instanceof dS?s.Q_.He(r):s.Q_.We(r),!n.isEqual($t.min()))try{const t=await wS(s.localStore);n.compareTo(t)>=0&&await function(c,l){const h=c.Q_.rt(l);return h.targetChanges.forEach((a,d)=>{if(a.resumeToken.approximateByteSize()>0){const _=c.N_.get(d);_&&c.N_.set(d,_.withResumeToken(a.resumeToken,l))}}),h.targetMismatches.forEach((a,d)=>{const _=c.N_.get(a);if(!_)return;c.N_.set(a,_.withResumeToken(Jn.EMPTY_BYTE_STRING,_.snapshotVersion)),ES(c,a);const w=new _a(_.target,a,d,_.sequenceNumber);ov(c,w)}),c.remoteSyncer.applyRemoteEvent(h)}(s,n)}catch(t){It("RemoteStore","Failed to raise snapshot:",t),await gf(s,t)}}async function gf(s,r,n){if(!bd(r))throw r;s.L_.add(1),await Sd(s),s.q_.set("Offline"),n||(n=()=>wS(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{It("RemoteStore","Retrying IndexedDB access"),await n(),s.L_.delete(1),await Yf(s)})}function CS(s,r){return r().catch(n=>gf(s,n,r))}async function Xf(s){const r=Kt(s),n=Ca(r);let t=r.O_.length>0?r.O_[r.O_.length-1].batchId:-1;for(;WP(r);)try{const o=await RP(r.localStore,t);if(o===null){r.O_.length===0&&n.o_();break}t=o.batchId,YP(r,o)}catch(o){await gf(r,o)}AS(r)&&RS(r)}function WP(s){return Il(s)&&s.O_.length<10}function YP(s,r){s.O_.push(r);const n=Ca(s);n.r_()&&n.V_&&n.m_(r.mutations)}function AS(s){return Il(s)&&!Ca(s).n_()&&s.O_.length>0}function RS(s){Ca(s).start()}async function XP(s){Ca(s).p_()}async function $P(s){const r=Ca(s);for(const n of s.O_)r.m_(n.mutations)}async function KP(s,r,n){const t=s.O_.shift(),o=Jy.from(t,r,n);await CS(s,()=>s.remoteSyncer.applySuccessfulWrite(o)),await Xf(s)}async function QP(s,r){r&&Ca(s).V_&&await async function(t,o){if(function(l){return FM(l)&&l!==ht.ABORTED}(o.code)){const c=t.O_.shift();Ca(t).s_(),await CS(t,()=>t.remoteSyncer.rejectFailedWrite(c.batchId,o)),await Xf(t)}}(s,r),AS(s)&&RS(s)}async function ow(s,r){const n=Kt(s);n.asyncQueue.verifyOperationInProgress(),It("RemoteStore","RemoteStore received new credentials");const t=Il(n);n.L_.add(3),await Sd(n),t&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(r),n.L_.delete(3),await Yf(n)}async function ZP(s,r){const n=Kt(s);r?(n.L_.delete(2),await Yf(n)):r||(n.L_.add(2),await Sd(n),n.q_.set("Unknown"))}function Nu(s){return s.K_||(s.K_=function(n,t,o){const c=Kt(n);return c.w_(),new NP(t,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(s.datastore,s.asyncQueue,{Eo:GP.bind(null,s),Ro:zP.bind(null,s),mo:HP.bind(null,s),d_:qP.bind(null,s)}),s.B_.push(async r=>{r?(s.K_.s_(),lv(s)?av(s):s.q_.set("Unknown")):(await s.K_.stop(),TS(s))})),s.K_}function Ca(s){return s.U_||(s.U_=function(n,t,o){const c=Kt(n);return c.w_(),new UP(t,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(s.datastore,s.asyncQueue,{Eo:()=>Promise.resolve(),Ro:XP.bind(null,s),mo:QP.bind(null,s),f_:$P.bind(null,s),g_:KP.bind(null,s)}),s.B_.push(async r=>{r?(s.U_.s_(),await Xf(s)):(await s.U_.stop(),s.O_.length>0&&(It("RemoteStore",`Stopping write stream with ${s.O_.length} pending writes`),s.O_=[]))})),s.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(r,n,t,o,c){this.asyncQueue=r,this.timerId=n,this.targetTimeMs=t,this.op=o,this.removalCallback=c,this.deferred=new Lo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(r,n,t,o,c){const l=Date.now()+t,h=new uv(r,n,l,o,c);return h.start(t),h}start(r){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),r)}skipDelay(){return this.handleDelayElapsed()}cancel(r){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ct(ht.CANCELLED,"Operation cancelled"+(r?": "+r:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(r=>this.deferred.resolve(r))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cv(s,r){if(Go("AsyncQueue",`${r}: ${s}`),bd(s))return new Ct(ht.UNAVAILABLE,`${r}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(r){this.comparator=r?(n,t)=>r(n,t)||Vt.comparator(n.key,t.key):(n,t)=>Vt.comparator(n.key,t.key),this.keyedMap=Lc(),this.sortedSet=new nn(this.comparator)}static emptySet(r){return new bu(r.comparator)}has(r){return this.keyedMap.get(r)!=null}get(r){return this.keyedMap.get(r)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(r){const n=this.keyedMap.get(r);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(r){this.sortedSet.inorderTraversal((n,t)=>(r(n),!1))}add(r){const n=this.delete(r.key);return n.copy(n.keyedMap.insert(r.key,r),n.sortedSet.insert(r,null))}delete(r){const n=this.get(r);return n?this.copy(this.keyedMap.remove(r),this.sortedSet.remove(n)):this}isEqual(r){if(!(r instanceof bu)||this.size!==r.size)return!1;const n=this.sortedSet.getIterator(),t=r.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=t.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const r=[];return this.forEach(n=>{r.push(n.toString())}),r.length===0?"DocumentSet ()":`DocumentSet (
  `+r.join(`  
`)+`
)`}copy(r,n){const t=new bu;return t.comparator=this.comparator,t.keyedMap=r,t.sortedSet=n,t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(){this.W_=new nn(Vt.comparator)}track(r){const n=r.doc.key,t=this.W_.get(n);t?r.type!==0&&t.type===3?this.W_=this.W_.insert(n,r):r.type===3&&t.type!==1?this.W_=this.W_.insert(n,{type:t.type,doc:r.doc}):r.type===2&&t.type===2?this.W_=this.W_.insert(n,{type:2,doc:r.doc}):r.type===2&&t.type===0?this.W_=this.W_.insert(n,{type:0,doc:r.doc}):r.type===1&&t.type===0?this.W_=this.W_.remove(n):r.type===1&&t.type===2?this.W_=this.W_.insert(n,{type:1,doc:t.doc}):r.type===0&&t.type===1?this.W_=this.W_.insert(n,{type:2,doc:r.doc}):Yt():this.W_=this.W_.insert(n,r)}G_(){const r=[];return this.W_.inorderTraversal((n,t)=>{r.push(t)}),r}}class Tu{constructor(r,n,t,o,c,l,h,a,d){this.query=r,this.docs=n,this.oldDocs=t,this.docChanges=o,this.mutatedKeys=c,this.fromCache=l,this.syncStateChanged=h,this.excludesMetadataChanges=a,this.hasCachedResults=d}static fromInitialDocuments(r,n,t,o,c){const l=[];return n.forEach(h=>{l.push({type:0,doc:h})}),new Tu(r,n,bu.emptySet(n),l,t,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(r){if(!(this.fromCache===r.fromCache&&this.hasCachedResults===r.hasCachedResults&&this.syncStateChanged===r.syncStateChanged&&this.mutatedKeys.isEqual(r.mutatedKeys)&&Bf(this.query,r.query)&&this.docs.isEqual(r.docs)&&this.oldDocs.isEqual(r.oldDocs)))return!1;const n=this.docChanges,t=r.docChanges;if(n.length!==t.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==t[o].type||!n[o].doc.isEqual(t[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(r=>r.J_())}}class eD{constructor(){this.queries=lw(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,t){const o=Kt(n),c=o.queries;o.queries=lw(),c.forEach((l,h)=>{for(const a of h.j_)a.onError(t)})})(this,new Ct(ht.ABORTED,"Firestore shutting down"))}}function lw(){return new Lu(s=>Q2(s),Bf)}async function OS(s,r){const n=Kt(s);let t=3;const o=r.query;let c=n.queries.get(o);c?!c.H_()&&r.J_()&&(t=2):(c=new JP,t=r.J_()?0:1);try{switch(t){case 0:c.z_=await n.onListen(o,!0);break;case 1:c.z_=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(l){const h=cv(l,`Initialization of query '${fu(r.query)}' failed`);return void r.onError(h)}n.queries.set(o,c),c.j_.push(r),r.Z_(n.onlineState),c.z_&&r.X_(c.z_)&&dv(n)}async function IS(s,r){const n=Kt(s),t=r.query;let o=3;const c=n.queries.get(t);if(c){const l=c.j_.indexOf(r);l>=0&&(c.j_.splice(l,1),c.j_.length===0?o=r.J_()?0:1:!c.H_()&&r.J_()&&(o=2))}switch(o){case 0:return n.queries.delete(t),n.onUnlisten(t,!0);case 1:return n.queries.delete(t),n.onUnlisten(t,!1);case 2:return n.onLastRemoteStoreUnlisten(t);default:return}}function tD(s,r){const n=Kt(s);let t=!1;for(const o of r){const c=o.query,l=n.queries.get(c);if(l){for(const h of l.j_)h.X_(o)&&(t=!0);l.z_=o}}t&&dv(n)}function rD(s,r,n){const t=Kt(s),o=t.queries.get(r);if(o)for(const c of o.j_)c.onError(n);t.queries.delete(r)}function dv(s){s.Y_.forEach(r=>{r.next()})}var ey,uw;(uw=ey||(ey={})).ea="default",uw.Cache="cache";class kS{constructor(r,n,t){this.query=r,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=t||{}}X_(r){if(!this.options.includeMetadataChanges){const t=[];for(const o of r.docChanges)o.type!==3&&t.push(o);r=new Tu(r.query,r.docs,r.oldDocs,t,r.mutatedKeys,r.fromCache,r.syncStateChanged,!0,r.hasCachedResults)}let n=!1;return this.na?this.ia(r)&&(this.ta.next(r),n=!0):this.sa(r,this.onlineState)&&(this.oa(r),n=!0),this.ra=r,n}onError(r){this.ta.error(r)}Z_(r){this.onlineState=r;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,r)&&(this.oa(this.ra),n=!0),n}sa(r,n){if(!r.fromCache||!this.J_())return!0;const t=n!=="Offline";return(!this.options._a||!t)&&(!r.docs.isEmpty()||r.hasCachedResults||n==="Offline")}ia(r){if(r.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==r.hasPendingWrites;return!(!r.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(r){r=Tu.fromInitialDocuments(r.query,r.docs,r.mutatedKeys,r.fromCache,r.hasCachedResults),this.na=!0,this.ta.next(r)}J_(){return this.options.source!==ey.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(r){this.key=r}}class PS{constructor(r){this.key=r}}class nD{constructor(r,n){this.query=r,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=or(),this.mutatedKeys=or(),this.Aa=Z2(r),this.Ra=new bu(this.Aa)}get Va(){return this.Ta}ma(r,n){const t=n?n.fa:new aw,o=n?n.Ra:this.Ra;let c=n?n.mutatedKeys:this.mutatedKeys,l=o,h=!1;const a=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,d=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(r.inorderTraversal((_,w)=>{const f=o.get(_),p=Gf(this.query,w)?w:null,b=!!f&&this.mutatedKeys.has(f.key),y=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let m=!1;f&&p?f.data.isEqual(p.data)?b!==y&&(t.track({type:3,doc:p}),m=!0):this.ga(f,p)||(t.track({type:2,doc:p}),m=!0,(a&&this.Aa(p,a)>0||d&&this.Aa(p,d)<0)&&(h=!0)):!f&&p?(t.track({type:0,doc:p}),m=!0):f&&!p&&(t.track({type:1,doc:f}),m=!0,(a||d)&&(h=!0)),m&&(p?(l=l.add(p),c=y?c.add(_):c.delete(_)):(l=l.delete(_),c=c.delete(_)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const _=this.query.limitType==="F"?l.last():l.first();l=l.delete(_.key),c=c.delete(_.key),t.track({type:1,doc:_})}return{Ra:l,fa:t,ns:h,mutatedKeys:c}}ga(r,n){return r.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(r,n,t,o){const c=this.Ra;this.Ra=r.Ra,this.mutatedKeys=r.mutatedKeys;const l=r.fa.G_();l.sort((_,w)=>function(p,b){const y=m=>{switch(m){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Yt()}};return y(p)-y(b)}(_.type,w.type)||this.Aa(_.doc,w.doc)),this.pa(t),o=o!=null&&o;const h=n&&!o?this.ya():[],a=this.da.size===0&&this.current&&!o?1:0,d=a!==this.Ea;return this.Ea=a,l.length!==0||d?{snapshot:new Tu(this.query,r.Ra,c,l,r.mutatedKeys,a===0,d,!1,!!t&&t.resumeToken.approximateByteSize()>0),wa:h}:{wa:h}}Z_(r){return this.current&&r==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new aw,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(r){return!this.Ta.has(r)&&!!this.Ra.has(r)&&!this.Ra.get(r).hasLocalMutations}pa(r){r&&(r.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),r.modifiedDocuments.forEach(n=>{}),r.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=r.current)}ya(){if(!this.current)return[];const r=this.da;this.da=or(),this.Ra.forEach(t=>{this.Sa(t.key)&&(this.da=this.da.add(t.key))});const n=[];return r.forEach(t=>{this.da.has(t)||n.push(new PS(t))}),this.da.forEach(t=>{r.has(t)||n.push(new MS(t))}),n}ba(r){this.Ta=r.Ts,this.da=or();const n=this.ma(r.documents);return this.applyChanges(n,!0)}Da(){return Tu.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class sD{constructor(r,n,t){this.query=r,this.targetId=n,this.view=t}}class iD{constructor(r){this.key=r,this.va=!1}}class oD{constructor(r,n,t,o,c,l){this.localStore=r,this.remoteStore=n,this.eventManager=t,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=l,this.Ca={},this.Fa=new Lu(h=>Q2(h),Bf),this.Ma=new Map,this.xa=new Set,this.Oa=new nn(Vt.comparator),this.Na=new Map,this.La=new rv,this.Ba={},this.ka=new Map,this.qa=Eu.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function aD(s,r,n=!0){const t=VS(s);let o;const c=t.Fa.get(r);return c?(t.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.Da()):o=await DS(t,r,n,!0),o}async function lD(s,r){const n=VS(s);await DS(n,r,!0,!1)}async function DS(s,r,n,t){const o=await OP(s.localStore,Zi(r)),c=o.targetId,l=s.sharedClientState.addLocalQueryTarget(c,n);let h;return t&&(h=await uD(s,r,c,l==="current",o.resumeToken)),s.isPrimaryClient&&n&&jS(s.remoteStore,o),h}async function uD(s,r,n,t,o){s.Ka=(w,f,p)=>async function(y,m,g,v){let S=m.view.ma(g);S.ns&&(S=await nw(y.localStore,m.query,!1).then(({documents:C})=>m.view.ma(C,S)));const j=v&&v.targetChanges.get(m.targetId),A=v&&v.targetMismatches.get(m.targetId)!=null,L=m.view.applyChanges(S,y.isPrimaryClient,j,A);return dw(y,m.targetId,L.wa),L.snapshot}(s,w,f,p);const c=await nw(s.localStore,r,!0),l=new nD(r,c.Ts),h=l.ma(c.documents),a=xd.createSynthesizedTargetChangeForCurrentChange(n,t&&s.onlineState!=="Offline",o),d=l.applyChanges(h,s.isPrimaryClient,a);dw(s,n,d.wa);const _=new sD(r,n,l);return s.Fa.set(r,_),s.Ma.has(n)?s.Ma.get(n).push(r):s.Ma.set(n,[r]),d.snapshot}async function cD(s,r,n){const t=Kt(s),o=t.Fa.get(r),c=t.Ma.get(o.targetId);if(c.length>1)return t.Ma.set(o.targetId,c.filter(l=>!Bf(l,r))),void t.Fa.delete(r);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(o.targetId),t.sharedClientState.isActiveQueryTarget(o.targetId)||await Jg(t.localStore,o.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(o.targetId),n&&iv(t.remoteStore,o.targetId),ty(t,o.targetId)}).catch(vd)):(ty(t,o.targetId),await Jg(t.localStore,o.targetId,!0))}async function dD(s,r){const n=Kt(s),t=n.Fa.get(r),o=n.Ma.get(t.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(t.targetId),iv(n.remoteStore,t.targetId))}async function hD(s,r,n){const t=bD(s);try{const o=await function(l,h){const a=Kt(l),d=Dn.now(),_=h.reduce((p,b)=>p.add(b.key),or());let w,f;return a.persistence.runTransaction("Locally write mutations","readwrite",p=>{let b=zo(),y=or();return a.cs.getEntries(p,_).next(m=>{b=m,b.forEach((g,v)=>{v.isValidDocument()||(y=y.add(g))})}).next(()=>a.localDocuments.getOverlayedDocuments(p,b)).next(m=>{w=m;const g=[];for(const v of h){const S=PM(v,w.get(v.key).overlayedDocument);S!=null&&g.push(new Ol(v.key,S,z2(S.value.mapValue),Ji.exists(!0)))}return a.mutationQueue.addMutationBatch(p,d,g,h)}).next(m=>{f=m;const g=m.applyToLocalDocumentSet(w,y);return a.documentOverlayCache.saveOverlays(p,m.batchId,g)})}).then(()=>({batchId:f.batchId,changes:eS(w)}))}(t.localStore,r);t.sharedClientState.addPendingMutation(o.batchId),function(l,h,a){let d=l.Ba[l.currentUser.toKey()];d||(d=new nn(_r)),d=d.insert(h,a),l.Ba[l.currentUser.toKey()]=d}(t,o.batchId,n),await jd(t,o.changes),await Xf(t.remoteStore)}catch(o){const c=cv(o,"Failed to persist write");n.reject(c)}}async function LS(s,r){const n=Kt(s);try{const t=await CP(n.localStore,r);r.targetChanges.forEach((o,c)=>{const l=n.Na.get(c);l&&(Ir(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?l.va=!0:o.modifiedDocuments.size>0?Ir(l.va):o.removedDocuments.size>0&&(Ir(l.va),l.va=!1))}),await jd(n,t,r)}catch(t){await vd(t)}}function cw(s,r,n){const t=Kt(s);if(t.isPrimaryClient&&n===0||!t.isPrimaryClient&&n===1){const o=[];t.Fa.forEach((c,l)=>{const h=l.view.Z_(r);h.snapshot&&o.push(h.snapshot)}),function(l,h){const a=Kt(l);a.onlineState=h;let d=!1;a.queries.forEach((_,w)=>{for(const f of w.j_)f.Z_(h)&&(d=!0)}),d&&dv(a)}(t.eventManager,r),o.length&&t.Ca.d_(o),t.onlineState=r,t.isPrimaryClient&&t.sharedClientState.setOnlineState(r)}}async function fD(s,r,n){const t=Kt(s);t.sharedClientState.updateQueryState(r,"rejected",n);const o=t.Na.get(r),c=o&&o.key;if(c){let l=new nn(Vt.comparator);l=l.insert(c,cs.newNoDocument(c,$t.min()));const h=or().add(c),a=new qf($t.min(),new Map,new nn(_r),l,h);await LS(t,a),t.Oa=t.Oa.remove(c),t.Na.delete(r),hv(t)}else await Jg(t.localStore,r,!1).then(()=>ty(t,r,n)).catch(vd)}async function pD(s,r){const n=Kt(s),t=r.batch.batchId;try{const o=await TP(n.localStore,r);US(n,t,null),NS(n,t),n.sharedClientState.updateMutationState(t,"acknowledged"),await jd(n,o)}catch(o){await vd(o)}}async function mD(s,r,n){const t=Kt(s);try{const o=await function(l,h){const a=Kt(l);return a.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let _;return a.mutationQueue.lookupMutationBatch(d,h).next(w=>(Ir(w!==null),_=w.keys(),a.mutationQueue.removeMutationBatch(d,w))).next(()=>a.mutationQueue.performConsistencyCheck(d)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(d,_,h)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,_)).next(()=>a.localDocuments.getDocuments(d,_))})}(t.localStore,r);US(t,r,n),NS(t,r),t.sharedClientState.updateMutationState(r,"rejected",n),await jd(t,o)}catch(o){await vd(o)}}function NS(s,r){(s.ka.get(r)||[]).forEach(n=>{n.resolve()}),s.ka.delete(r)}function US(s,r,n){const t=Kt(s);let o=t.Ba[t.currentUser.toKey()];if(o){const c=o.get(r);c&&(n?c.reject(n):c.resolve(),o=o.remove(r)),t.Ba[t.currentUser.toKey()]=o}}function ty(s,r,n=null){s.sharedClientState.removeLocalQueryTarget(r);for(const t of s.Ma.get(r))s.Fa.delete(t),n&&s.Ca.$a(t,n);s.Ma.delete(r),s.isPrimaryClient&&s.La.gr(r).forEach(t=>{s.La.containsKey(t)||FS(s,t)})}function FS(s,r){s.xa.delete(r.path.canonicalString());const n=s.Oa.get(r);n!==null&&(iv(s.remoteStore,n),s.Oa=s.Oa.remove(r),s.Na.delete(n),hv(s))}function dw(s,r,n){for(const t of n)t instanceof MS?(s.La.addReference(t.key,r),gD(s,t)):t instanceof PS?(It("SyncEngine","Document no longer in limbo: "+t.key),s.La.removeReference(t.key,r),s.La.containsKey(t.key)||FS(s,t.key)):Yt()}function gD(s,r){const n=r.key,t=n.path.canonicalString();s.Oa.get(n)||s.xa.has(t)||(It("SyncEngine","New document in limbo: "+n),s.xa.add(t),hv(s))}function hv(s){for(;s.xa.size>0&&s.Oa.size<s.maxConcurrentLimboResolutions;){const r=s.xa.values().next().value;s.xa.delete(r);const n=new Vt($r.fromString(r)),t=s.qa.next();s.Na.set(t,new iD(n)),s.Oa=s.Oa.insert(n,t),jS(s.remoteStore,new _a(Zi(Qy(n.path)),t,"TargetPurposeLimboResolution",qy.oe))}}async function jd(s,r,n){const t=Kt(s),o=[],c=[],l=[];t.Fa.isEmpty()||(t.Fa.forEach((h,a)=>{l.push(t.Ka(a,r,n).then(d=>{var _;if((d||n)&&t.isPrimaryClient){const w=d?!d.fromCache:(_=n==null?void 0:n.targetChanges.get(a.targetId))===null||_===void 0?void 0:_.current;t.sharedClientState.updateQueryState(a.targetId,w?"current":"not-current")}if(d){o.push(d);const w=sv.Wi(a.targetId,d);c.push(w)}}))}),await Promise.all(l),t.Ca.d_(o),await async function(a,d){const _=Kt(a);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>gt.forEach(d,f=>gt.forEach(f.$i,p=>_.persistence.referenceDelegate.addReference(w,f.targetId,p)).next(()=>gt.forEach(f.Ui,p=>_.persistence.referenceDelegate.removeReference(w,f.targetId,p)))))}catch(w){if(!bd(w))throw w;It("LocalStore","Failed to update sequence numbers: "+w)}for(const w of d){const f=w.targetId;if(!w.fromCache){const p=_.os.get(f),b=p.snapshotVersion,y=p.withLastLimboFreeSnapshotVersion(b);_.os=_.os.insert(f,y)}}}(t.localStore,c))}async function yD(s,r){const n=Kt(s);if(!n.currentUser.isEqual(r)){It("SyncEngine","User change. New user:",r.toKey());const t=await _S(n.localStore,r);n.currentUser=r,function(c,l){c.ka.forEach(h=>{h.forEach(a=>{a.reject(new Ct(ht.CANCELLED,l))})}),c.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(r,t.removedBatchIds,t.addedBatchIds),await jd(n,t.hs)}}function vD(s,r){const n=Kt(s),t=n.Na.get(r);if(t&&t.va)return or().add(t.key);{let o=or();const c=n.Ma.get(r);if(!c)return o;for(const l of c){const h=n.Fa.get(l);o=o.unionWith(h.view.Va)}return o}}function VS(s){const r=Kt(s);return r.remoteStore.remoteSyncer.applyRemoteEvent=LS.bind(null,r),r.remoteStore.remoteSyncer.getRemoteKeysForTarget=vD.bind(null,r),r.remoteStore.remoteSyncer.rejectListen=fD.bind(null,r),r.Ca.d_=tD.bind(null,r.eventManager),r.Ca.$a=rD.bind(null,r.eventManager),r}function bD(s){const r=Kt(s);return r.remoteStore.remoteSyncer.applySuccessfulWrite=pD.bind(null,r),r.remoteStore.remoteSyncer.rejectFailedWrite=mD.bind(null,r),r}class yf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(r){this.serializer=Wf(r.databaseInfo.databaseId),this.sharedClientState=this.Wa(r),this.persistence=this.Ga(r),await this.persistence.start(),this.localStore=this.za(r),this.gcScheduler=this.ja(r,this.localStore),this.indexBackfillerScheduler=this.Ha(r,this.localStore)}ja(r,n){return null}Ha(r,n){return null}za(r){return EP(this.persistence,new SP,r.initialUser,this.serializer)}Ga(r){return new _P(nv.Zr,this.serializer)}Wa(r){return new kP}async terminate(){var r,n;(r=this.gcScheduler)===null||r===void 0||r.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}yf.provider={build:()=>new yf};class ry{async initialize(r,n){this.localStore||(this.localStore=r.localStore,this.sharedClientState=r.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!r.synchronizeTabs),this.sharedClientState.onlineStateHandler=t=>cw(this.syncEngine,t,1),this.remoteStore.remoteSyncer.handleCredentialChange=yD.bind(null,this.syncEngine),await ZP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(r){return function(){return new eD}()}createDatastore(r){const n=Wf(r.databaseInfo.databaseId),t=function(c){return new LP(c)}(r.databaseInfo);return function(c,l,h,a){return new FP(c,l,h,a)}(r.authCredentials,r.appCheckCredentials,t,n)}createRemoteStore(r){return function(t,o,c,l,h){return new BP(t,o,c,l,h)}(this.localStore,this.datastore,r.asyncQueue,n=>cw(this.syncEngine,n,0),function(){return iw.D()?new iw:new MP}())}createSyncEngine(r,n){return function(o,c,l,h,a,d,_){const w=new oD(o,c,l,h,a,d);return _&&(w.Qa=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,r.initialUser,r.maxConcurrentLimboResolutions,n)}async terminate(){var r,n;await async function(o){const c=Kt(o);It("RemoteStore","RemoteStore shutting down."),c.L_.add(5),await Sd(c),c.k_.shutdown(),c.q_.set("Unknown")}(this.remoteStore),(r=this.datastore)===null||r===void 0||r.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}ry.provider={build:()=>new ry};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(r){this.observer=r,this.muted=!1}next(r){this.muted||this.observer.next&&this.Ya(this.observer.next,r)}error(r){this.muted||(this.observer.error?this.Ya(this.observer.error,r):Go("Uncaught Error in snapshot listener:",r.toString()))}Za(){this.muted=!0}Ya(r,n){setTimeout(()=>{this.muted||r(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(r,n,t,o,c){this.authCredentials=r,this.appCheckCredentials=n,this.asyncQueue=t,this.databaseInfo=o,this.user=us.UNAUTHENTICATED,this.clientId=V2.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(t,async l=>{It("FirestoreClient","Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(t,l=>(It("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(r){this.authCredentialListener=r}setAppCheckTokenChangeListener(r){this.appCheckCredentialListener=r}terminate(){this.asyncQueue.enterRestrictedMode();const r=new Lo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),r.resolve()}catch(n){const t=cv(n,"Failed to shutdown persistence");r.reject(t)}}),r.promise}}async function hg(s,r){s.asyncQueue.verifyOperationInProgress(),It("FirestoreClient","Initializing OfflineComponentProvider");const n=s.configuration;await r.initialize(n);let t=n.initialUser;s.setCredentialChangeListener(async o=>{t.isEqual(o)||(await _S(r.localStore,o),t=o)}),r.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=r}async function hw(s,r){s.asyncQueue.verifyOperationInProgress();const n=await wD(s);It("FirestoreClient","Initializing OnlineComponentProvider"),await r.initialize(n,s.configuration),s.setCredentialChangeListener(t=>ow(r.remoteStore,t)),s.setAppCheckTokenChangeListener((t,o)=>ow(r.remoteStore,o)),s._onlineComponents=r}async function wD(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){It("FirestoreClient","Using user provided OfflineComponentProvider");try{await hg(s,s._uninitializedComponentsProvider._offline)}catch(r){const n=r;if(!function(o){return o.name==="FirebaseError"?o.code===ht.FAILED_PRECONDITION||o.code===ht.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;wu("Error using user provided cache. Falling back to memory cache: "+n),await hg(s,new yf)}}else It("FirestoreClient","Using default OfflineComponentProvider"),await hg(s,new yf);return s._offlineComponents}async function GS(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(It("FirestoreClient","Using user provided OnlineComponentProvider"),await hw(s,s._uninitializedComponentsProvider._online)):(It("FirestoreClient","Using default OnlineComponentProvider"),await hw(s,new ry))),s._onlineComponents}function xD(s){return GS(s).then(r=>r.syncEngine)}async function zS(s){const r=await GS(s),n=r.eventManager;return n.onListen=aD.bind(null,r.syncEngine),n.onUnlisten=cD.bind(null,r.syncEngine),n.onFirstRemoteStoreListen=lD.bind(null,r.syncEngine),n.onLastRemoteStoreUnlisten=dD.bind(null,r.syncEngine),n}function SD(s,r,n={}){const t=new Lo;return s.asyncQueue.enqueueAndForget(async()=>function(c,l,h,a,d){const _=new BS({next:f=>{_.Za(),l.enqueueAndForget(()=>IS(c,w));const p=f.docs.has(h);!p&&f.fromCache?d.reject(new Ct(ht.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&f.fromCache&&a&&a.source==="server"?d.reject(new Ct(ht.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(f)},error:f=>d.reject(f)}),w=new kS(Qy(h.path),_,{includeMetadataChanges:!0,_a:!0});return OS(c,w)}(await zS(s),s.asyncQueue,r,n,t)),t.promise}function jD(s,r,n={}){const t=new Lo;return s.asyncQueue.enqueueAndForget(async()=>function(c,l,h,a,d){const _=new BS({next:f=>{_.Za(),l.enqueueAndForget(()=>IS(c,w)),f.fromCache&&a.source==="server"?d.reject(new Ct(ht.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(f)},error:f=>d.reject(f)}),w=new kS(h,_,{includeMetadataChanges:!0,_a:!0});return OS(c,w)}(await zS(s),s.asyncQueue,r,n,t)),t.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HS(s){const r={};return s.timeoutSeconds!==void 0&&(r.timeoutSeconds=s.timeoutSeconds),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qS(s,r,n){if(!n)throw new Ct(ht.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${r}.`)}function ED(s,r,n,t){if(r===!0&&t===!0)throw new Ct(ht.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function pw(s){if(!Vt.isDocumentKey(s))throw new Ct(ht.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function mw(s){if(Vt.isDocumentKey(s))throw new Ct(ht.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function $f(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const r=function(t){return t.constructor?t.constructor.name:null}(s);return r?`a custom ${r} object`:"an object"}}return typeof s=="function"?"a function":Yt()}function Aa(s,r){if("_delegate"in s&&(s=s._delegate),!(s instanceof r)){if(r.name===s.constructor.name)throw new Ct(ht.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=$f(s);throw new Ct(ht.INVALID_ARGUMENT,`Expected type '${r.name}', but it was: ${n}`)}}return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(r){var n,t;if(r.host===void 0){if(r.ssl!==void 0)throw new Ct(ht.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=r.host,this.ssl=(n=r.ssl)===null||n===void 0||n;if(this.credentials=r.credentials,this.ignoreUndefinedProperties=!!r.ignoreUndefinedProperties,this.localCache=r.localCache,r.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(r.cacheSizeBytes!==-1&&r.cacheSizeBytes<1048576)throw new Ct(ht.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=r.cacheSizeBytes}ED("experimentalForceLongPolling",r.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",r.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!r.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:r.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!r.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=HS((t=r.experimentalLongPollingOptions)!==null&&t!==void 0?t:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new Ct(ht.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new Ct(ht.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new Ct(ht.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!r.useFetchStreams}isEqual(r){return this.host===r.host&&this.ssl===r.ssl&&this.credentials===r.credentials&&this.cacheSizeBytes===r.cacheSizeBytes&&this.experimentalForceLongPolling===r.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===r.experimentalAutoDetectLongPolling&&function(t,o){return t.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,r.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===r.ignoreUndefinedProperties&&this.useFetchStreams===r.useFetchStreams}}class Kf{constructor(r,n,t,o){this._authCredentials=r,this._appCheckCredentials=n,this._databaseId=t,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gw({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ct(ht.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(r){if(this._settingsFrozen)throw new Ct(ht.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gw(r),r.credentials!==void 0&&(this._authCredentials=function(t){if(!t)return new zk;switch(t.type){case"firstParty":return new Yk(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Ct(ht.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(r.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const t=fw.get(n);t&&(It("ComponentProvider","Removing Datastore"),fw.delete(n),t.terminate())}(this),Promise.resolve()}}function TD(s,r,n,t={}){var o;const c=(s=Aa(s,Kf))._getSettings(),l=`${r}:${n}`;if(c.host!=="firestore.googleapis.com"&&c.host!==l&&wu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),s._setSettings(Object.assign(Object.assign({},c),{host:l,ssl:!1})),t.mockUserToken){let h,a;if(typeof t.mockUserToken=="string")h=t.mockUserToken,a=us.MOCK_USER;else{h=Nx(t.mockUserToken,(o=s._app)===null||o===void 0?void 0:o.options.projectId);const d=t.mockUserToken.sub||t.mockUserToken.user_id;if(!d)throw new Ct(ht.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new us(d)}s._authCredentials=new Hk(new F2(h,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(r,n,t){this.converter=n,this._query=t,this.type="query",this.firestore=r}withConverter(r){return new Uu(this.firestore,r,this._query)}}class Rs{constructor(r,n,t){this.converter=n,this._key=t,this.type="document",this.firestore=r}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ja(this.firestore,this.converter,this._key.path.popLast())}withConverter(r){return new Rs(this.firestore,r,this._key)}}class ja extends Uu{constructor(r,n,t){super(r,n,Qy(t)),this._path=t,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const r=this._path.popLast();return r.isEmpty()?null:new Rs(this.firestore,null,new Vt(r))}withConverter(r){return new ja(this.firestore,r,this._path)}}function ki(s,r,...n){if(s=qr(s),qS("collection","path",r),s instanceof Kf){const t=$r.fromString(r,...n);return mw(t),new ja(s,null,t)}{if(!(s instanceof Rs||s instanceof ja))throw new Ct(ht.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const t=s._path.child($r.fromString(r,...n));return mw(t),new ja(s.firestore,null,t)}}function di(s,r,...n){if(s=qr(s),arguments.length===1&&(r=V2.newId()),qS("doc","path",r),s instanceof Kf){const t=$r.fromString(r,...n);return pw(t),new Rs(s,null,new Vt(t))}{if(!(s instanceof Rs||s instanceof ja))throw new Ct(ht.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const t=s._path.child($r.fromString(r,...n));return pw(t),new Rs(s.firestore,s instanceof ja?s.converter:null,new Vt(t))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(r=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new xS(this,"async_queue_retry"),this.Vu=()=>{const t=dg();t&&It("AsyncQueue","Visibility state changed to "+t.visibilityState),this.t_.jo()},this.mu=r;const n=dg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(r){this.enqueue(r)}enqueueAndForgetEvenWhileRestricted(r){this.fu(),this.gu(r)}enterRestrictedMode(r){if(!this.Iu){this.Iu=!0,this.Au=r||!1;const n=dg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(r){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Lo;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(r().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(r){this.enqueueAndForget(()=>(this.Pu.push(r),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(r){if(!bd(r))throw r;It("AsyncQueue","Operation failed with retryable error: "+r)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(r){const n=this.mu.then(()=>(this.du=!0,r().catch(t=>{this.Eu=t,this.du=!1;const o=function(l){let h=l.message||"";return l.stack&&(h=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),h}(t);throw Go("INTERNAL UNHANDLED ERROR: ",o),t}).then(t=>(this.du=!1,t))));return this.mu=n,n}enqueueAfterDelay(r,n,t){this.fu(),this.Ru.indexOf(r)>-1&&(n=0);const o=uv.createAndSchedule(this,r,n,t,c=>this.yu(c));return this.Tu.push(o),o}fu(){this.Eu&&Yt()}verifyOperationInProgress(){}async wu(){let r;do r=this.mu,await r;while(r!==this.mu)}Su(r){for(const n of this.Tu)if(n.timerId===r)return!0;return!1}bu(r){return this.wu().then(()=>{this.Tu.sort((n,t)=>n.targetTimeMs-t.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),r!=="all"&&n.timerId===r)break;return this.wu()})}Du(r){this.Ru.push(r)}yu(r){const n=this.Tu.indexOf(r);this.Tu.splice(n,1)}}class Ed extends Kf{constructor(r,n,t,o){super(r,n,t,o),this.type="firestore",this._queue=new yw,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const r=this._firestoreClient.terminate();this._queue=new yw(r),this._firestoreClient=void 0,await r}}}function CD(s,r){const n=typeof s=="object"?s:hd(),t=typeof s=="string"?s:"(default)",o=Oa(n,"firestore").getImmediate({identifier:t});if(!o._initialized){const c=Px("firestore");c&&TD(o,...c)}return o}function fv(s){if(s._terminated)throw new Ct(ht.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||AD(s),s._firestoreClient}function AD(s){var r,n,t;const o=s._freezeSettings(),c=function(h,a,d,_){return new oM(h,a,d,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,HS(_.experimentalLongPollingOptions),_.useFetchStreams)}(s._databaseId,((r=s._app)===null||r===void 0?void 0:r.options.appId)||"",s._persistenceKey,o);s._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((t=o.localCache)===null||t===void 0)&&t._onlineComponentProvider)&&(s._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),s._firestoreClient=new _D(s._authCredentials,s._appCheckCredentials,s._queue,c,s._componentsProvider&&function(h){const a=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(a),_online:a}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(r){this._byteString=r}static fromBase64String(r){try{return new Cu(Jn.fromBase64String(r))}catch(n){throw new Ct(ht.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(r){return new Cu(Jn.fromUint8Array(r))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(r){return this._byteString.isEqual(r._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv{constructor(...r){for(let n=0;n<r.length;++n)if(r[n].length===0)throw new Ct(ht.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kn(r)}isEqual(r){return this._internalPath.isEqual(r._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(r){this._methodName=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(r,n){if(!isFinite(r)||r<-90||r>90)throw new Ct(ht.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+r);if(!isFinite(n)||n<-180||n>180)throw new Ct(ht.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=r,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(r){return this._lat===r._lat&&this._long===r._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(r){return _r(this._lat,r._lat)||_r(this._long,r._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(r){this._values=(r||[]).map(n=>n)}toArray(){return this._values.map(r=>r)}isEqual(r){return function(t,o){if(t.length!==o.length)return!1;for(let c=0;c<t.length;++c)if(t[c]!==o[c])return!1;return!0}(this._values,r._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RD=/^__.*__$/;class OD{constructor(r,n,t){this.data=r,this.fieldMask=n,this.fieldTransforms=t}toMutation(r,n){return this.fieldMask!==null?new Ol(r,this.data,this.fieldMask,n,this.fieldTransforms):new wd(r,this.data,n,this.fieldTransforms)}}function YS(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Yt()}}class yv{constructor(r,n,t,o,c,l){this.settings=r,this.databaseId=n,this.serializer=t,this.ignoreUndefinedProperties=o,c===void 0&&this.vu(),this.fieldTransforms=c||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(r){return new yv(Object.assign(Object.assign({},this.settings),r),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(r){var n;const t=(n=this.path)===null||n===void 0?void 0:n.child(r),o=this.Fu({path:t,xu:!1});return o.Ou(r),o}Nu(r){var n;const t=(n=this.path)===null||n===void 0?void 0:n.child(r),o=this.Fu({path:t,xu:!1});return o.vu(),o}Lu(r){return this.Fu({path:void 0,xu:!0})}Bu(r){return vf(r,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(r){return this.fieldMask.find(n=>r.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>r.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let r=0;r<this.path.length;r++)this.Ou(this.path.get(r))}Ou(r){if(r.length===0)throw this.Bu("Document fields must not be empty");if(YS(this.Cu)&&RD.test(r))throw this.Bu('Document fields cannot begin and end with "__"')}}class ID{constructor(r,n,t){this.databaseId=r,this.ignoreUndefinedProperties=n,this.serializer=t||Wf(r)}Qu(r,n,t,o=!1){return new yv({Cu:r,methodName:n,qu:t,path:Kn.emptyPath(),xu:!1,ku:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function vv(s){const r=s._freezeSettings(),n=Wf(s._databaseId);return new ID(s._databaseId,!!r.ignoreUndefinedProperties,n)}function XS(s,r,n,t,o,c={}){const l=s.Qu(c.merge||c.mergeFields?2:0,r,n,o);QS("Data must be an object, but it was:",l,t);const h=$S(t,l);let a,d;if(c.merge)a=new Ai(l.fieldMask),d=l.fieldTransforms;else if(c.mergeFields){const _=[];for(const w of c.mergeFields){const f=MD(r,w,n);if(!l.contains(f))throw new Ct(ht.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);DD(_,f)||_.push(f)}a=new Ai(_),d=l.fieldTransforms.filter(w=>a.covers(w.field))}else a=null,d=l.fieldTransforms;return new OD(new ui(h),a,d)}function kD(s,r,n,t=!1){return bv(n,s.Qu(t?4:3,r))}function bv(s,r){if(KS(s=qr(s)))return QS("Unsupported field value:",r,s),$S(s,r);if(s instanceof WS)return function(t,o){if(!YS(o.Cu))throw o.Bu(`${t._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Bu(`${t._methodName}() is not currently supported inside arrays`);const c=t._toFieldTransform(o);c&&o.fieldTransforms.push(c)}(s,r),null;if(s===void 0&&r.ignoreUndefinedProperties)return null;if(r.path&&r.fieldMask.push(r.path),s instanceof Array){if(r.settings.xu&&r.Cu!==4)throw r.Bu("Nested arrays are not supported");return function(t,o){const c=[];let l=0;for(const h of t){let a=bv(h,o.Lu(l));a==null&&(a={nullValue:"NULL_VALUE"}),c.push(a),l++}return{arrayValue:{values:c}}}(s,r)}return function(t,o){if((t=qr(t))===null)return{nullValue:"NULL_VALUE"};if(typeof t=="number")return AM(o.serializer,t);if(typeof t=="boolean")return{booleanValue:t};if(typeof t=="string")return{stringValue:t};if(t instanceof Date){const c=Dn.fromDate(t);return{timestampValue:mf(o.serializer,c)}}if(t instanceof Dn){const c=new Dn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:mf(o.serializer,c)}}if(t instanceof mv)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Cu)return{bytesValue:fS(o.serializer,t._byteString)};if(t instanceof Rs){const c=o.databaseId,l=t.firestore._databaseId;if(!l.isEqual(c))throw o.Bu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:tv(t.firestore._databaseId||o.databaseId,t._key.path)}}if(t instanceof gv)return function(l,h){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:l.toArray().map(a=>{if(typeof a!="number")throw h.Bu("VectorValues must only contain numeric values.");return Zy(h.serializer,a)})}}}}}}(t,o);throw o.Bu(`Unsupported field value: ${$f(t)}`)}(s,r)}function $S(s,r){const n={};return B2(s)?r.path&&r.path.length>0&&r.fieldMask.push(r.path):Du(s,(t,o)=>{const c=bv(o,r.Mu(t));c!=null&&(n[t]=c)}),{mapValue:{fields:n}}}function KS(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Dn||s instanceof mv||s instanceof Cu||s instanceof Rs||s instanceof WS||s instanceof gv)}function QS(s,r,n){if(!KS(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const t=$f(n);throw t==="an object"?r.Bu(s+" a custom object"):r.Bu(s+" "+t)}}function MD(s,r,n){if((r=qr(r))instanceof pv)return r._internalPath;if(typeof r=="string")return ZS(s,r);throw vf("Field path arguments must be of type string or ",s,!1,void 0,n)}const PD=new RegExp("[~\\*/\\[\\]]");function ZS(s,r,n){if(r.search(PD)>=0)throw vf(`Invalid field path (${r}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new pv(...r.split("."))._internalPath}catch{throw vf(`Invalid field path (${r}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function vf(s,r,n,t,o){const c=t&&!t.isEmpty(),l=o!==void 0;let h=`Function ${r}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let a="";return(c||l)&&(a+=" (found",c&&(a+=` in field ${t}`),l&&(a+=` in document ${o}`),a+=")"),new Ct(ht.INVALID_ARGUMENT,h+s+a)}function DD(s,r){return s.some(n=>n.isEqual(r))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(r,n,t,o,c){this._firestore=r,this._userDataWriter=n,this._key=t,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Rs(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const r=new LD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(r)}return this._userDataWriter.convertValue(this._document.data.value)}}get(r){if(this._document){const n=this._document.data.field(_v("DocumentSnapshot.get",r));if(n!==null)return this._userDataWriter.convertValue(n)}}}class LD extends JS{data(){return super.data()}}function _v(s,r){return typeof r=="string"?ZS(s,r):r instanceof pv?r._internalPath:r._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ND(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new Ct(ht.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class wv{}class UD extends wv{}function FD(s,r,...n){let t=[];r instanceof wv&&t.push(r),t=t.concat(n),function(c){const l=c.filter(a=>a instanceof xv).length,h=c.filter(a=>a instanceof Qf).length;if(l>1||l>0&&h>0)throw new Ct(ht.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(t);for(const o of t)s=o._apply(s);return s}class Qf extends UD{constructor(r,n,t){super(),this._field=r,this._op=n,this._value=t,this.type="where"}static _create(r,n,t){return new Qf(r,n,t)}_apply(r){const n=this._parse(r);return ej(r._query,n),new Uu(r.firestore,r.converter,Yg(r._query,n))}_parse(r){const n=vv(r.firestore);return function(c,l,h,a,d,_,w){let f;if(d.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new Ct(ht.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){bw(w,_);const p=[];for(const b of w)p.push(vw(a,c,b));f={arrayValue:{values:p}}}else f=vw(a,c,w)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||bw(w,_),f=kD(h,l,w,_==="in"||_==="not-in");return jn.create(d,_,f)}(r._query,"where",n,r.firestore._databaseId,this._field,this._op,this._value)}}function VD(s,r,n){const t=r,o=_v("where",s);return Qf._create(o,t,n)}class xv extends wv{constructor(r,n){super(),this.type=r,this._queryConstraints=n}static _create(r,n){return new xv(r,n)}_parse(r){const n=this._queryConstraints.map(t=>t._parse(r)).filter(t=>t.getFilters().length>0);return n.length===1?n[0]:Ii.create(n,this._getOperator())}_apply(r){const n=this._parse(r);return n.getFilters().length===0?r:(function(o,c){let l=o;const h=c.getFlattenedFilters();for(const a of h)ej(l,a),l=Yg(l,a)}(r._query,n),new Uu(r.firestore,r.converter,Yg(r._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function vw(s,r,n){if(typeof(n=qr(n))=="string"){if(n==="")throw new Ct(ht.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!K2(r)&&n.indexOf("/")!==-1)throw new Ct(ht.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const t=r.path.child($r.fromString(n));if(!Vt.isDocumentKey(t))throw new Ct(ht.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${t}' is not because it has an odd number of segments (${t.length}).`);return V_(s,new Vt(t))}if(n instanceof Rs)return V_(s,n._key);throw new Ct(ht.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${$f(n)}.`)}function bw(s,r){if(!Array.isArray(s)||s.length===0)throw new Ct(ht.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${r.toString()}' filters.`)}function ej(s,r){const n=function(o,c){for(const l of o)for(const h of l.getFlattenedFilters())if(c.indexOf(h.op)>=0)return h.op;return null}(s.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(r.op));if(n!==null)throw n===r.op?new Ct(ht.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${r.op.toString()}' filter.`):new Ct(ht.INVALID_ARGUMENT,`Invalid query. You cannot use '${r.op.toString()}' filters with '${n.toString()}' filters.`)}class BD{convertValue(r,n="none"){switch(vl(r)){case 0:return null;case 1:return r.booleanValue;case 2:return pn(r.integerValue||r.doubleValue);case 3:return this.convertTimestamp(r.timestampValue);case 4:return this.convertServerTimestamp(r,n);case 5:return r.stringValue;case 6:return this.convertBytes(yl(r.bytesValue));case 7:return this.convertReference(r.referenceValue);case 8:return this.convertGeoPoint(r.geoPointValue);case 9:return this.convertArray(r.arrayValue,n);case 11:return this.convertObject(r.mapValue,n);case 10:return this.convertVectorValue(r.mapValue);default:throw Yt()}}convertObject(r,n){return this.convertObjectMap(r.fields,n)}convertObjectMap(r,n="none"){const t={};return Du(r,(o,c)=>{t[o]=this.convertValue(c,n)}),t}convertVectorValue(r){var n,t,o;const c=(o=(t=(n=r.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||t===void 0?void 0:t.values)===null||o===void 0?void 0:o.map(l=>pn(l.doubleValue));return new gv(c)}convertGeoPoint(r){return new mv(pn(r.latitude),pn(r.longitude))}convertArray(r,n){return(r.values||[]).map(t=>this.convertValue(t,n))}convertServerTimestamp(r,n){switch(n){case"previous":const t=Yy(r);return t==null?null:this.convertValue(t,n);case"estimate":return this.convertTimestamp(ed(r));default:return null}}convertTimestamp(r){const n=Ta(r);return new Dn(n.seconds,n.nanos)}convertDocumentKey(r,n){const t=$r.fromString(r);Ir(bS(t));const o=new td(t.get(1),t.get(3)),c=new Vt(t.popFirst(5));return o.isEqual(n)||Go(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tj(s,r,n){let t;return t=s?s.toFirestore(r):r,t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(r,n){this.hasPendingWrites=r,this.fromCache=n}isEqual(r){return this.hasPendingWrites===r.hasPendingWrites&&this.fromCache===r.fromCache}}class rj extends JS{constructor(r,n,t,o,c,l){super(r,n,t,o,l),this._firestore=r,this._firestoreImpl=r,this.metadata=c}exists(){return super.exists()}data(r={}){if(this._document){if(this._converter){const n=new Xh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,r)}return this._userDataWriter.convertValue(this._document.data.value,r.serverTimestamps)}}get(r,n={}){if(this._document){const t=this._document.data.field(_v("DocumentSnapshot.get",r));if(t!==null)return this._userDataWriter.convertValue(t,n.serverTimestamps)}}}class Xh extends rj{data(r={}){return super.data(r)}}class GD{constructor(r,n,t,o){this._firestore=r,this._userDataWriter=n,this._snapshot=o,this.metadata=new Uc(o.hasPendingWrites,o.fromCache),this.query=t}get docs(){const r=[];return this.forEach(n=>r.push(n)),r}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(r,n){this._snapshot.docs.forEach(t=>{r.call(n,new Xh(this._firestore,this._userDataWriter,t.key,t,new Uc(this._snapshot.mutatedKeys.has(t.key),this._snapshot.fromCache),this.query.converter))})}docChanges(r={}){const n=!!r.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ct(ht.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,c){if(o._snapshot.oldDocs.isEmpty()){let l=0;return o._snapshot.docChanges.map(h=>{const a=new Xh(o._firestore,o._userDataWriter,h.doc.key,h.doc,new Uc(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);return h.doc,{type:"added",doc:a,oldIndex:-1,newIndex:l++}})}{let l=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(h=>c||h.type!==3).map(h=>{const a=new Xh(o._firestore,o._userDataWriter,h.doc.key,h.doc,new Uc(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);let d=-1,_=-1;return h.type!==0&&(d=l.indexOf(h.doc.key),l=l.delete(h.doc.key)),h.type!==1&&(l=l.add(h.doc),_=l.indexOf(h.doc.key)),{type:zD(h.type),doc:a,oldIndex:d,newIndex:_}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function zD(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Yt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ny(s){s=Aa(s,Rs);const r=Aa(s.firestore,Ed);return SD(fv(r),s._key).then(n=>HD(r,s,n))}class nj extends BD{constructor(r){super(),this.firestore=r}convertBytes(r){return new Cu(r)}convertReference(r){const n=this.convertDocumentKey(r,this.firestore._databaseId);return new Rs(this.firestore,null,n)}}function Sv(s){s=Aa(s,Uu);const r=Aa(s.firestore,Ed),n=fv(r),t=new nj(r);return ND(s._query),jD(n,s._query).then(o=>new GD(r,t,s,o))}function Ra(s,r,n){s=Aa(s,Rs);const t=Aa(s.firestore,Ed),o=tj(s.converter,r);return sj(t,[XS(vv(t),"setDoc",s._key,o,s.converter!==null,n).toMutation(s._key,Ji.none())])}function sy(s,r){const n=Aa(s.firestore,Ed),t=di(s),o=tj(s.converter,r);return sj(n,[XS(vv(s.firestore),"addDoc",t._key,o,s.converter!==null,{}).toMutation(t._key,Ji.exists(!1))]).then(()=>t)}function sj(s,r){return function(t,o){const c=new Lo;return t.asyncQueue.enqueueAndForget(async()=>hD(await xD(t),o,c)),c.promise}(fv(s),r)}function HD(s,r,n){const t=n.docs.get(r._key),o=new nj(s);return new rj(s,o,r._key,t,new Uc(n.hasPendingWrites,n.fromCache),r.converter)}(function(r,n=!0){(function(o){Pu=o})(Rl),Oi(new hi("firestore",(t,{instanceIdentifier:o,options:c})=>{const l=t.getProvider("app").getImmediate(),h=new Ed(new qk(t.getProvider("auth-internal")),new $k(t.getProvider("app-check-internal")),function(d,_){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Ct(ht.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new td(d.options.projectId,_)}(l,o),l);return c=Object.assign({useFetchStreams:n},c),h._setSettings(c),h},"PUBLIC").setMultipleInstances(!0)),Ts(D_,"4.7.3",r),Ts(D_,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ij="firebasestorage.googleapis.com",oj="storageBucket",qD=2*60*1e3,WD=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An extends pi{constructor(r,n,t=0){super(fg(r),`Firebase Storage: ${n} (${fg(r)})`),this.status_=t,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,An.prototype)}get status(){return this.status_}set status(r){this.status_=r}_codeEquals(r){return fg(r)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(r){this.customData.serverResponse=r,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Tn;(function(s){s.UNKNOWN="unknown",s.OBJECT_NOT_FOUND="object-not-found",s.BUCKET_NOT_FOUND="bucket-not-found",s.PROJECT_NOT_FOUND="project-not-found",s.QUOTA_EXCEEDED="quota-exceeded",s.UNAUTHENTICATED="unauthenticated",s.UNAUTHORIZED="unauthorized",s.UNAUTHORIZED_APP="unauthorized-app",s.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",s.INVALID_CHECKSUM="invalid-checksum",s.CANCELED="canceled",s.INVALID_EVENT_NAME="invalid-event-name",s.INVALID_URL="invalid-url",s.INVALID_DEFAULT_BUCKET="invalid-default-bucket",s.NO_DEFAULT_BUCKET="no-default-bucket",s.CANNOT_SLICE_BLOB="cannot-slice-blob",s.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",s.NO_DOWNLOAD_URL="no-download-url",s.INVALID_ARGUMENT="invalid-argument",s.INVALID_ARGUMENT_COUNT="invalid-argument-count",s.APP_DELETED="app-deleted",s.INVALID_ROOT_OPERATION="invalid-root-operation",s.INVALID_FORMAT="invalid-format",s.INTERNAL_ERROR="internal-error",s.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Tn||(Tn={}));function fg(s){return"storage/"+s}function jv(){const s="An unknown error occurred, please check the error payload for server response.";return new An(Tn.UNKNOWN,s)}function YD(s){return new An(Tn.QUOTA_EXCEEDED,"Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function XD(){const s="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new An(Tn.UNAUTHENTICATED,s)}function $D(){return new An(Tn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function KD(s){return new An(Tn.UNAUTHORIZED,"User does not have permission to access '"+s+"'.")}function QD(){return new An(Tn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function ZD(){return new An(Tn.CANCELED,"User canceled the upload/download.")}function JD(s){return new An(Tn.INVALID_URL,"Invalid URL '"+s+"'.")}function e3(s){return new An(Tn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+s+"'.")}function t3(){return new An(Tn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+oj+"' property when initializing the app?")}function r3(){return new An(Tn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function n3(s){return new An(Tn.UNSUPPORTED_ENVIRONMENT,`${s} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function iy(s){return new An(Tn.INVALID_ARGUMENT,s)}function aj(){return new An(Tn.APP_DELETED,"The Firebase app was deleted.")}function s3(s){return new An(Tn.INVALID_ROOT_OPERATION,"The operation '"+s+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function qc(s,r){return new An(Tn.INVALID_FORMAT,"String does not match format '"+s+"': "+r)}function Tc(s){throw new An(Tn.INTERNAL_ERROR,"Internal error: "+s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(r,n){this.bucket=r,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const r=encodeURIComponent;return"/b/"+r(this.bucket)+"/o/"+r(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(r,n){let t;try{t=Gs.makeFromUrl(r,n)}catch{return new Gs(r,"")}if(t.path==="")return t;throw e3(r)}static makeFromUrl(r,n){let t=null;const o="([A-Za-z0-9.\\-_]+)";function c(j){j.path.charAt(j.path.length-1)==="/"&&(j.path_=j.path_.slice(0,-1))}const l="(/(.*))?$",h=new RegExp("^gs://"+o+l,"i"),a={bucket:1,path:3};function d(j){j.path_=decodeURIComponent(j.path)}const _="v[A-Za-z0-9_]+",w=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",p=new RegExp(`^https?://${w}/${_}/b/${o}/o${f}`,"i"),b={bucket:1,path:3},y=n===ij?"(?:storage.googleapis.com|storage.cloud.google.com)":n,m="([^?#]*)",g=new RegExp(`^https?://${y}/${o}/${m}`,"i"),S=[{regex:h,indices:a,postModify:c},{regex:p,indices:b,postModify:d},{regex:g,indices:{bucket:1,path:2},postModify:d}];for(let j=0;j<S.length;j++){const A=S[j],L=A.regex.exec(r);if(L){const C=L[A.indices.bucket];let T=L[A.indices.path];T||(T=""),t=new Gs(C,T),A.postModify(t);break}}if(t==null)throw JD(r);return t}}class i3{constructor(r){this.promise_=Promise.reject(r)}getPromise(){return this.promise_}cancel(r=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o3(s,r,n){let t=1,o=null,c=null,l=!1,h=0;function a(){return h===2}let d=!1;function _(...m){d||(d=!0,r.apply(null,m))}function w(m){o=setTimeout(()=>{o=null,s(p,a())},m)}function f(){c&&clearTimeout(c)}function p(m,...g){if(d){f();return}if(m){f(),_.call(null,m,...g);return}if(a()||l){f(),_.call(null,m,...g);return}t<64&&(t*=2);let S;h===1?(h=2,S=0):S=(t+Math.random())*1e3,w(S)}let b=!1;function y(m){b||(b=!0,f(),!d&&(o!==null?(m||(h=2),clearTimeout(o),w(0)):m||(h=1)))}return w(0),c=setTimeout(()=>{l=!0,y(!0)},n),y}function a3(s){s(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l3(s){return s!==void 0}function u3(s){return typeof s=="object"&&!Array.isArray(s)}function lj(s){return typeof s=="string"||s instanceof String}function _w(s){return Ev()&&s instanceof Blob}function Ev(){return typeof Blob<"u"}function ww(s,r,n,t){if(t<r)throw iy(`Invalid value for '${s}'. Expected ${r} or greater.`);if(t>n)throw iy(`Invalid value for '${s}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c3(s,r,n){let t=r;return n==null&&(t=`https://${r}`),`${n}://${t}/v0${s}`}function d3(s){const r=encodeURIComponent;let n="?";for(const t in s)if(s.hasOwnProperty(t)){const o=r(t)+"="+r(s[t]);n=n+o+"&"}return n=n.slice(0,-1),n}var fl;(function(s){s[s.NO_ERROR=0]="NO_ERROR",s[s.NETWORK_ERROR=1]="NETWORK_ERROR",s[s.ABORT=2]="ABORT"})(fl||(fl={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h3(s,r){const n=s>=500&&s<600,o=[408,429].indexOf(s)!==-1,c=r.indexOf(s)!==-1;return n||o||c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f3{constructor(r,n,t,o,c,l,h,a,d,_,w,f=!0){this.url_=r,this.method_=n,this.headers_=t,this.body_=o,this.successCodes_=c,this.additionalRetryCodes_=l,this.callback_=h,this.errorCallback_=a,this.timeout_=d,this.progressCallback_=_,this.connectionFactory_=w,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,b)=>{this.resolve_=p,this.reject_=b,this.start_()})}start_(){const r=(t,o)=>{if(o){t(!1,new Oh(!1,null,!0));return}const c=this.connectionFactory_();this.pendingConnection_=c;const l=h=>{const a=h.loaded,d=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(a,d)};this.progressCallback_!==null&&c.addUploadProgressListener(l),c.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&c.removeUploadProgressListener(l),this.pendingConnection_=null;const h=c.getErrorCode()===fl.NO_ERROR,a=c.getStatus();if(!h||h3(a,this.additionalRetryCodes_)&&this.retry){const _=c.getErrorCode()===fl.ABORT;t(!1,new Oh(!1,null,_));return}const d=this.successCodes_.indexOf(a)!==-1;t(!0,new Oh(d,c))})},n=(t,o)=>{const c=this.resolve_,l=this.reject_,h=o.connection;if(o.wasSuccessCode)try{const a=this.callback_(h,h.getResponse());l3(a)?c(a):c()}catch(a){l(a)}else if(h!==null){const a=jv();a.serverResponse=h.getErrorText(),this.errorCallback_?l(this.errorCallback_(h,a)):l(a)}else if(o.canceled){const a=this.appDelete_?aj():ZD();l(a)}else{const a=QD();l(a)}};this.canceled_?n(!1,new Oh(!1,null,!0)):this.backoffId_=o3(r,n,this.timeout_)}getPromise(){return this.promise_}cancel(r){this.canceled_=!0,this.appDelete_=r||!1,this.backoffId_!==null&&a3(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Oh{constructor(r,n,t){this.wasSuccessCode=r,this.connection=n,this.canceled=!!t}}function p3(s,r){r!==null&&r.length>0&&(s.Authorization="Firebase "+r)}function m3(s,r){s["X-Firebase-Storage-Version"]="webjs/"+(r??"AppManager")}function g3(s,r){r&&(s["X-Firebase-GMPID"]=r)}function y3(s,r){r!==null&&(s["X-Firebase-AppCheck"]=r)}function v3(s,r,n,t,o,c,l=!0){const h=d3(s.urlParams),a=s.url+h,d=Object.assign({},s.headers);return g3(d,r),p3(d,n),m3(d,c),y3(d,t),new f3(a,s.method,d,s.body,s.successCodes,s.additionalRetryCodes,s.handler,s.errorHandler,s.timeout,s.progressCallback,o,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b3(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function _3(...s){const r=b3();if(r!==void 0){const n=new r;for(let t=0;t<s.length;t++)n.append(s[t]);return n.getBlob()}else{if(Ev())return new Blob(s);throw new An(Tn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function w3(s,r,n){return s.webkitSlice?s.webkitSlice(r,n):s.mozSlice?s.mozSlice(r,n):s.slice?s.slice(r,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x3(s){if(typeof atob>"u")throw n3("base-64");return atob(s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ri={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class pg{constructor(r,n){this.data=r,this.contentType=n||null}}function uj(s,r){switch(s){case Ri.RAW:return new pg(cj(r));case Ri.BASE64:case Ri.BASE64URL:return new pg(dj(s,r));case Ri.DATA_URL:return new pg(j3(r),E3(r))}throw jv()}function cj(s){const r=[];for(let n=0;n<s.length;n++){let t=s.charCodeAt(n);if(t<=127)r.push(t);else if(t<=2047)r.push(192|t>>6,128|t&63);else if((t&64512)===55296)if(!(n<s.length-1&&(s.charCodeAt(n+1)&64512)===56320))r.push(239,191,189);else{const c=t,l=s.charCodeAt(++n);t=65536|(c&1023)<<10|l&1023,r.push(240|t>>18,128|t>>12&63,128|t>>6&63,128|t&63)}else(t&64512)===56320?r.push(239,191,189):r.push(224|t>>12,128|t>>6&63,128|t&63)}return new Uint8Array(r)}function S3(s){let r;try{r=decodeURIComponent(s)}catch{throw qc(Ri.DATA_URL,"Malformed data URL.")}return cj(r)}function dj(s,r){switch(s){case Ri.BASE64:{const o=r.indexOf("-")!==-1,c=r.indexOf("_")!==-1;if(o||c)throw qc(s,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Ri.BASE64URL:{const o=r.indexOf("+")!==-1,c=r.indexOf("/")!==-1;if(o||c)throw qc(s,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");r=r.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=x3(r)}catch(o){throw o.message.includes("polyfill")?o:qc(s,"Invalid character found")}const t=new Uint8Array(n.length);for(let o=0;o<n.length;o++)t[o]=n.charCodeAt(o);return t}class hj{constructor(r){this.base64=!1,this.contentType=null;const n=r.match(/^data:([^,]+)?,/);if(n===null)throw qc(Ri.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const t=n[1]||null;t!=null&&(this.base64=T3(t,";base64"),this.contentType=this.base64?t.substring(0,t.length-7):t),this.rest=r.substring(r.indexOf(",")+1)}}function j3(s){const r=new hj(s);return r.base64?dj(Ri.BASE64,r.rest):S3(r.rest)}function E3(s){return new hj(s).contentType}function T3(s,r){return s.length>=r.length?s.substring(s.length-r.length)===r:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(r,n){let t=0,o="";_w(r)?(this.data_=r,t=r.size,o=r.type):r instanceof ArrayBuffer?(n?this.data_=new Uint8Array(r):(this.data_=new Uint8Array(r.byteLength),this.data_.set(new Uint8Array(r))),t=this.data_.length):r instanceof Uint8Array&&(n?this.data_=r:(this.data_=new Uint8Array(r.length),this.data_.set(r)),t=r.length),this.size_=t,this.type_=o}size(){return this.size_}type(){return this.type_}slice(r,n){if(_w(this.data_)){const t=this.data_,o=w3(t,r,n);return o===null?null:new va(o)}else{const t=new Uint8Array(this.data_.buffer,r,n-r);return new va(t,!0)}}static getBlob(...r){if(Ev()){const n=r.map(t=>t instanceof va?t.data_:t);return new va(_3.apply(null,n))}else{const n=r.map(l=>lj(l)?uj(Ri.RAW,l).data:l.data_);let t=0;n.forEach(l=>{t+=l.byteLength});const o=new Uint8Array(t);let c=0;return n.forEach(l=>{for(let h=0;h<l.length;h++)o[c++]=l[h]}),new va(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C3(s){let r;try{r=JSON.parse(s)}catch{return null}return u3(r)?r:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A3(s){if(s.length===0)return null;const r=s.lastIndexOf("/");return r===-1?"":s.slice(0,r)}function R3(s,r){const n=r.split("/").filter(t=>t.length>0).join("/");return s.length===0?n:s+"/"+n}function fj(s){const r=s.lastIndexOf("/",s.length-2);return r===-1?s:s.slice(r+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O3(s,r){return r}class ys{constructor(r,n,t,o){this.server=r,this.local=n||r,this.writable=!!t,this.xform=o||O3}}let Ih=null;function I3(s){return!lj(s)||s.length<2?s:fj(s)}function k3(){if(Ih)return Ih;const s=[];s.push(new ys("bucket")),s.push(new ys("generation")),s.push(new ys("metageneration")),s.push(new ys("name","fullPath",!0));function r(c,l){return I3(l)}const n=new ys("name");n.xform=r,s.push(n);function t(c,l){return l!==void 0?Number(l):l}const o=new ys("size");return o.xform=t,s.push(o),s.push(new ys("timeCreated")),s.push(new ys("updated")),s.push(new ys("md5Hash",null,!0)),s.push(new ys("cacheControl",null,!0)),s.push(new ys("contentDisposition",null,!0)),s.push(new ys("contentEncoding",null,!0)),s.push(new ys("contentLanguage",null,!0)),s.push(new ys("contentType",null,!0)),s.push(new ys("metadata","customMetadata",!0)),Ih=s,Ih}function M3(s,r){function n(){const t=s.bucket,o=s.fullPath,c=new Gs(t,o);return r._makeStorageReference(c)}Object.defineProperty(s,"ref",{get:n})}function P3(s,r,n){const t={};t.type="file";const o=n.length;for(let c=0;c<o;c++){const l=n[c];t[l.local]=l.xform(t,r[l.server])}return M3(t,s),t}function D3(s,r,n){const t=C3(r);return t===null?null:P3(s,t,n)}function L3(s,r){const n={},t=r.length;for(let o=0;o<t;o++){const c=r[o];c.writable&&(n[c.server]=s[c.local])}return JSON.stringify(n)}class N3{constructor(r,n,t,o){this.url=r,this.method=n,this.handler=t,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U3(s){if(!s)throw jv()}function F3(s,r){function n(t,o){const c=D3(s,o,r);return U3(c!==null),c}return n}function V3(s){function r(n,t){let o;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?o=$D():o=XD():n.getStatus()===402?o=YD(s.bucket):n.getStatus()===403?o=KD(s.path):o=t,o.status=n.getStatus(),o.serverResponse=t.serverResponse,o}return r}function B3(s,r){return s&&s.contentType||r&&r.type()||"application/octet-stream"}function G3(s,r,n){const t=Object.assign({},n);return t.fullPath=s.path,t.size=r.size(),t.contentType||(t.contentType=B3(null,r)),t}function z3(s,r,n,t,o){const c=r.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"};function h(){let S="";for(let j=0;j<2;j++)S=S+Math.random().toString().slice(2);return S}const a=h();l["Content-Type"]="multipart/related; boundary="+a;const d=G3(r,t,o),_=L3(d,n),w="--"+a+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+_+`\r
--`+a+`\r
Content-Type: `+d.contentType+`\r
\r
`,f=`\r
--`+a+"--",p=va.getBlob(w,t,f);if(p===null)throw r3();const b={name:d.fullPath},y=c3(c,s.host,s._protocol),m="POST",g=s.maxUploadRetryTime,v=new N3(y,m,F3(s,n),g);return v.urlParams=b,v.headers=l,v.body=p.uploadData(),v.errorHandler=V3(r),v}class H3{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=fl.NO_ERROR,this.sendPromise_=new Promise(r=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=fl.ABORT,r()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=fl.NETWORK_ERROR,r()}),this.xhr_.addEventListener("load",()=>{r()})})}send(r,n,t,o){if(this.sent_)throw Tc("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,r,!0),o!==void 0)for(const c in o)o.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,o[c].toString());return t!==void 0?this.xhr_.send(t):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Tc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Tc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Tc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Tc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(r){return this.xhr_.getResponseHeader(r)}addUploadProgressListener(r){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",r)}removeUploadProgressListener(r){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",r)}}class q3 extends H3{initXhr(){this.xhr_.responseType="text"}}function W3(){return new q3}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(r,n){this._service=r,n instanceof Gs?this._location=n:this._location=Gs.makeFromUrl(n,r.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(r,n){return new bl(r,n)}get root(){const r=new Gs(this._location.bucket,"");return this._newRef(this._service,r)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return fj(this._location.path)}get storage(){return this._service}get parent(){const r=A3(this._location.path);if(r===null)return null;const n=new Gs(this._location.bucket,r);return new bl(this._service,n)}_throwIfRoot(r){if(this._location.path==="")throw s3(r)}}function pj(s,r,n){s._throwIfRoot("uploadBytes");const t=z3(s.storage,s._location,k3(),new va(r,!0),n);return s.storage.makeRequestWithTokens(t,W3).then(o=>({metadata:o,ref:s}))}function Y3(s,r,n=Ri.RAW,t){s._throwIfRoot("uploadString");const o=uj(n,r),c=Object.assign({},t);return c.contentType==null&&o.contentType!=null&&(c.contentType=o.contentType),pj(s,o.data,c)}function X3(s,r){const n=R3(s._location.path,r),t=new Gs(s._location.bucket,n);return new bl(s.storage,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $3(s){return/^[A-Za-z]+:\/\//.test(s)}function K3(s,r){return new bl(s,r)}function mj(s,r){if(s instanceof Tv){const n=s;if(n._bucket==null)throw t3();const t=new bl(n,n._bucket);return r!=null?mj(t,r):t}else return r!==void 0?X3(s,r):s}function Q3(s,r){if(r&&$3(r)){if(s instanceof Tv)return K3(s,r);throw iy("To use ref(service, url), the first argument must be a Storage instance.")}else return mj(s,r)}function xw(s,r){const n=r==null?void 0:r[oj];return n==null?null:Gs.makeFromBucketSpec(n,s)}function Z3(s,r,n,t={}){s.host=`${r}:${n}`,s._protocol="http";const{mockUserToken:o}=t;o&&(s._overrideAuthToken=typeof o=="string"?o:Nx(o,s.app.options.projectId))}class Tv{constructor(r,n,t,o,c){this.app=r,this._authProvider=n,this._appCheckProvider=t,this._url=o,this._firebaseVersion=c,this._bucket=null,this._host=ij,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=qD,this._maxUploadRetryTime=WD,this._requests=new Set,o!=null?this._bucket=Gs.makeFromBucketSpec(o,this._host):this._bucket=xw(this._host,this.app.options)}get host(){return this._host}set host(r){this._host=r,this._url!=null?this._bucket=Gs.makeFromBucketSpec(this._url,r):this._bucket=xw(r,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(r){ww("time",0,Number.POSITIVE_INFINITY,r),this._maxUploadRetryTime=r}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(r){ww("time",0,Number.POSITIVE_INFINITY,r),this._maxOperationRetryTime=r}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const r=this._authProvider.getImmediate({optional:!0});if(r){const n=await r.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const r=this._appCheckProvider.getImmediate({optional:!0});return r?(await r.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(r=>r.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(r){return new bl(this,r)}_makeRequest(r,n,t,o,c=!0){if(this._deleted)return new i3(aj());{const l=v3(r,this._appId,t,o,n,this._firebaseVersion,c);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(r,n){const[t,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(r,n,t,o).getPromise()}}const Sw="@firebase/storage",jw="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gj="storage";function id(s,r,n){return s=qr(s),pj(s,r,n)}function yj(s,r,n,t){return s=qr(s),Y3(s,r,n,t)}function _l(s,r){return s=qr(s),Q3(s,r)}function J3(s=hd(),r){s=qr(s);const t=Oa(s,gj).getImmediate({identifier:r}),o=Px("storage");return o&&e4(t,...o),t}function e4(s,r,n,t={}){Z3(s,r,n,t)}function t4(s,{instanceIdentifier:r}){const n=s.getProvider("app").getImmediate(),t=s.getProvider("auth-internal"),o=s.getProvider("app-check-internal");return new Tv(n,t,o,r,Rl)}function r4(){Oi(new hi(gj,t4,"PUBLIC").setMultipleInstances(!0)),Ts(Sw,jw,""),Ts(Sw,jw,"esm2017")}r4();const vj="@firebase/installations",Cv="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bj=1e4,_j=`w:${Cv}`,wj="FIS_v2",n4="https://firebaseinstallations.googleapis.com/v1",s4=60*60*1e3,i4="installations",o4="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a4={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},wl=new Al(i4,o4,a4);function xj(s){return s instanceof pi&&s.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sj({projectId:s}){return`${n4}/projects/${s}/installations`}function jj(s){return{token:s.token,requestStatus:2,expiresIn:u4(s.expiresIn),creationTime:Date.now()}}async function Ej(s,r){const t=(await r.json()).error;return wl.create("request-failed",{requestName:s,serverCode:t.code,serverMessage:t.message,serverStatus:t.status})}function Tj({apiKey:s}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":s})}function l4(s,{refreshToken:r}){const n=Tj(s);return n.append("Authorization",c4(r)),n}async function Cj(s){const r=await s();return r.status>=500&&r.status<600?s():r}function u4(s){return Number(s.replace("s","000"))}function c4(s){return`${wj} ${s}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d4({appConfig:s,heartbeatServiceProvider:r},{fid:n}){const t=Sj(s),o=Tj(s),c=r.getImmediate({optional:!0});if(c){const d=await c.getHeartbeatsHeader();d&&o.append("x-firebase-client",d)}const l={fid:n,authVersion:wj,appId:s.appId,sdkVersion:_j},h={method:"POST",headers:o,body:JSON.stringify(l)},a=await Cj(()=>fetch(t,h));if(a.ok){const d=await a.json();return{fid:d.fid||n,registrationStatus:2,refreshToken:d.refreshToken,authToken:jj(d.authToken)}}else throw await Ej("Create Installation",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aj(s){return new Promise(r=>{setTimeout(r,s)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h4(s){return btoa(String.fromCharCode(...s)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f4=/^[cdef][\w-]{21}$/,oy="";function p4(){try{const s=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(s),s[0]=112+s[0]%16;const n=m4(s);return f4.test(n)?n:oy}catch{return oy}}function m4(s){return h4(s).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zf(s){return`${s.appName}!${s.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rj=new Map;function Oj(s,r){const n=Zf(s);Ij(n,r),g4(n,r)}function Ij(s,r){const n=Rj.get(s);if(n)for(const t of n)t(r)}function g4(s,r){const n=y4();n&&n.postMessage({key:s,fid:r}),v4()}let cl=null;function y4(){return!cl&&"BroadcastChannel"in self&&(cl=new BroadcastChannel("[Firebase] FID Change"),cl.onmessage=s=>{Ij(s.data.key,s.data.fid)}),cl}function v4(){Rj.size===0&&cl&&(cl.close(),cl=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b4="firebase-installations-database",_4=1,xl="firebase-installations-store";let mg=null;function Av(){return mg||(mg=Bx(b4,_4,{upgrade:(s,r)=>{switch(r){case 0:s.createObjectStore(xl)}}})),mg}async function bf(s,r){const n=Zf(s),o=(await Av()).transaction(xl,"readwrite"),c=o.objectStore(xl),l=await c.get(n);return await c.put(r,n),await o.done,(!l||l.fid!==r.fid)&&Oj(s,r.fid),r}async function kj(s){const r=Zf(s),t=(await Av()).transaction(xl,"readwrite");await t.objectStore(xl).delete(r),await t.done}async function Jf(s,r){const n=Zf(s),o=(await Av()).transaction(xl,"readwrite"),c=o.objectStore(xl),l=await c.get(n),h=r(l);return h===void 0?await c.delete(n):await c.put(h,n),await o.done,h&&(!l||l.fid!==h.fid)&&Oj(s,h.fid),h}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rv(s){let r;const n=await Jf(s.appConfig,t=>{const o=w4(t),c=x4(s,o);return r=c.registrationPromise,c.installationEntry});return n.fid===oy?{installationEntry:await r}:{installationEntry:n,registrationPromise:r}}function w4(s){const r=s||{fid:p4(),registrationStatus:0};return Mj(r)}function x4(s,r){if(r.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(wl.create("app-offline"));return{installationEntry:r,registrationPromise:o}}const n={fid:r.fid,registrationStatus:1,registrationTime:Date.now()},t=S4(s,n);return{installationEntry:n,registrationPromise:t}}else return r.registrationStatus===1?{installationEntry:r,registrationPromise:j4(s)}:{installationEntry:r}}async function S4(s,r){try{const n=await d4(s,r);return bf(s.appConfig,n)}catch(n){throw xj(n)&&n.customData.serverCode===409?await kj(s.appConfig):await bf(s.appConfig,{fid:r.fid,registrationStatus:0}),n}}async function j4(s){let r=await Ew(s.appConfig);for(;r.registrationStatus===1;)await Aj(100),r=await Ew(s.appConfig);if(r.registrationStatus===0){const{installationEntry:n,registrationPromise:t}=await Rv(s);return t||n}return r}function Ew(s){return Jf(s,r=>{if(!r)throw wl.create("installation-not-found");return Mj(r)})}function Mj(s){return E4(s)?{fid:s.fid,registrationStatus:0}:s}function E4(s){return s.registrationStatus===1&&s.registrationTime+bj<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T4({appConfig:s,heartbeatServiceProvider:r},n){const t=C4(s,n),o=l4(s,n),c=r.getImmediate({optional:!0});if(c){const d=await c.getHeartbeatsHeader();d&&o.append("x-firebase-client",d)}const l={installation:{sdkVersion:_j,appId:s.appId}},h={method:"POST",headers:o,body:JSON.stringify(l)},a=await Cj(()=>fetch(t,h));if(a.ok){const d=await a.json();return jj(d)}else throw await Ej("Generate Auth Token",a)}function C4(s,{fid:r}){return`${Sj(s)}/${r}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ov(s,r=!1){let n;const t=await Jf(s.appConfig,c=>{if(!Pj(c))throw wl.create("not-registered");const l=c.authToken;if(!r&&O4(l))return c;if(l.requestStatus===1)return n=A4(s,r),c;{if(!navigator.onLine)throw wl.create("app-offline");const h=k4(c);return n=R4(s,h),h}});return n?await n:t.authToken}async function A4(s,r){let n=await Tw(s.appConfig);for(;n.authToken.requestStatus===1;)await Aj(100),n=await Tw(s.appConfig);const t=n.authToken;return t.requestStatus===0?Ov(s,r):t}function Tw(s){return Jf(s,r=>{if(!Pj(r))throw wl.create("not-registered");const n=r.authToken;return M4(n)?Object.assign(Object.assign({},r),{authToken:{requestStatus:0}}):r})}async function R4(s,r){try{const n=await T4(s,r),t=Object.assign(Object.assign({},r),{authToken:n});return await bf(s.appConfig,t),n}catch(n){if(xj(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await kj(s.appConfig);else{const t=Object.assign(Object.assign({},r),{authToken:{requestStatus:0}});await bf(s.appConfig,t)}throw n}}function Pj(s){return s!==void 0&&s.registrationStatus===2}function O4(s){return s.requestStatus===2&&!I4(s)}function I4(s){const r=Date.now();return r<s.creationTime||s.creationTime+s.expiresIn<r+s4}function k4(s){const r={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},s),{authToken:r})}function M4(s){return s.requestStatus===1&&s.requestTime+bj<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P4(s){const r=s,{installationEntry:n,registrationPromise:t}=await Rv(r);return t?t.catch(console.error):Ov(r).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D4(s,r=!1){const n=s;return await L4(n),(await Ov(n,r)).token}async function L4(s){const{registrationPromise:r}=await Rv(s);r&&await r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N4(s){if(!s||!s.options)throw gg("App Configuration");if(!s.name)throw gg("App Name");const r=["projectId","apiKey","appId"];for(const n of r)if(!s.options[n])throw gg(n);return{appName:s.name,projectId:s.options.projectId,apiKey:s.options.apiKey,appId:s.options.appId}}function gg(s){return wl.create("missing-app-config-values",{valueName:s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dj="installations",U4="installations-internal",F4=s=>{const r=s.getProvider("app").getImmediate(),n=N4(r),t=Oa(r,"heartbeat");return{app:r,appConfig:n,heartbeatServiceProvider:t,_delete:()=>Promise.resolve()}},V4=s=>{const r=s.getProvider("app").getImmediate(),n=Oa(r,Dj).getImmediate();return{getId:()=>P4(n),getToken:o=>D4(n,o)}};function B4(){Oi(new hi(Dj,F4,"PUBLIC")),Oi(new hi(U4,V4,"PRIVATE"))}B4();Ts(vj,Cv);Ts(vj,Cv,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _f="analytics",G4="firebase_id",z4="origin",H4=60*1e3,q4="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Iv="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os=new Pf("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W4={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},zs=new Al("analytics","Analytics",W4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y4(s){if(!s.startsWith(Iv)){const r=zs.create("invalid-gtag-resource",{gtagURL:s});return Os.warn(r.message),""}return s}function Lj(s){return Promise.all(s.map(r=>r.catch(n=>n)))}function X4(s,r){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(s,r)),n}function $4(s,r){const n=X4("firebase-js-sdk-policy",{createScriptURL:Y4}),t=document.createElement("script"),o=`${Iv}?l=${s}&id=${r}`;t.src=n?n==null?void 0:n.createScriptURL(o):o,t.async=!0,document.head.appendChild(t)}function K4(s){let r=[];return Array.isArray(window[s])?r=window[s]:window[s]=r,r}async function Q4(s,r,n,t,o,c){const l=t[o];try{if(l)await r[l];else{const a=(await Lj(n)).find(d=>d.measurementId===o);a&&await r[a.appId]}}catch(h){Os.error(h)}s("config",o,c)}async function Z4(s,r,n,t,o){try{let c=[];if(o&&o.send_to){let l=o.send_to;Array.isArray(l)||(l=[l]);const h=await Lj(n);for(const a of l){const d=h.find(w=>w.measurementId===a),_=d&&r[d.appId];if(_)c.push(_);else{c=[];break}}}c.length===0&&(c=Object.values(r)),await Promise.all(c),s("event",t,o||{})}catch(c){Os.error(c)}}function J4(s,r,n,t){async function o(c,...l){try{if(c==="event"){const[h,a]=l;await Z4(s,r,n,h,a)}else if(c==="config"){const[h,a]=l;await Q4(s,r,n,t,h,a)}else if(c==="consent"){const[h,a]=l;s("consent",h,a)}else if(c==="get"){const[h,a,d]=l;s("get",h,a,d)}else if(c==="set"){const[h]=l;s("set",h)}else s(c,...l)}catch(h){Os.error(h)}}return o}function eL(s,r,n,t,o){let c=function(...l){window[t].push(arguments)};return window[o]&&typeof window[o]=="function"&&(c=window[o]),window[o]=J4(c,s,r,n),{gtagCore:c,wrappedGtag:window[o]}}function tL(s){const r=window.document.getElementsByTagName("script");for(const n of Object.values(r))if(n.src&&n.src.includes(Iv)&&n.src.includes(s))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rL=30,nL=1e3;class sL{constructor(r={},n=nL){this.throttleMetadata=r,this.intervalMillis=n}getThrottleMetadata(r){return this.throttleMetadata[r]}setThrottleMetadata(r,n){this.throttleMetadata[r]=n}deleteThrottleMetadata(r){delete this.throttleMetadata[r]}}const Nj=new sL;function iL(s){return new Headers({Accept:"application/json","x-goog-api-key":s})}async function oL(s){var r;const{appId:n,apiKey:t}=s,o={method:"GET",headers:iL(t)},c=q4.replace("{app-id}",n),l=await fetch(c,o);if(l.status!==200&&l.status!==304){let h="";try{const a=await l.json();!((r=a.error)===null||r===void 0)&&r.message&&(h=a.error.message)}catch{}throw zs.create("config-fetch-failed",{httpStatus:l.status,responseMessage:h})}return l.json()}async function aL(s,r=Nj,n){const{appId:t,apiKey:o,measurementId:c}=s.options;if(!t)throw zs.create("no-app-id");if(!o){if(c)return{measurementId:c,appId:t};throw zs.create("no-api-key")}const l=r.getThrottleMetadata(t)||{backoffCount:0,throttleEndTimeMillis:Date.now()},h=new cL;return setTimeout(async()=>{h.abort()},H4),Uj({appId:t,apiKey:o,measurementId:c},l,h,r)}async function Uj(s,{throttleEndTimeMillis:r,backoffCount:n},t,o=Nj){var c;const{appId:l,measurementId:h}=s;try{await lL(t,r)}catch(a){if(h)return Os.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${a==null?void 0:a.message}]`),{appId:l,measurementId:h};throw a}try{const a=await oL(s);return o.deleteThrottleMetadata(l),a}catch(a){const d=a;if(!uL(d)){if(o.deleteThrottleMetadata(l),h)return Os.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:l,measurementId:h};throw a}const _=Number((c=d==null?void 0:d.customData)===null||c===void 0?void 0:c.httpStatus)===503?i_(n,o.intervalMillis,rL):i_(n,o.intervalMillis),w={throttleEndTimeMillis:Date.now()+_,backoffCount:n+1};return o.setThrottleMetadata(l,w),Os.debug(`Calling attemptFetch again in ${_} millis`),Uj(s,w,t,o)}}function lL(s,r){return new Promise((n,t)=>{const o=Math.max(r-Date.now(),0),c=setTimeout(n,o);s.addEventListener(()=>{clearTimeout(c),t(zs.create("fetch-throttle",{throttleEndTimeMillis:r}))})})}function uL(s){if(!(s instanceof pi)||!s.customData)return!1;const r=Number(s.customData.httpStatus);return r===429||r===500||r===503||r===504}class cL{constructor(){this.listeners=[]}addEventListener(r){this.listeners.push(r)}abort(){this.listeners.forEach(r=>r())}}async function dL(s,r,n,t,o){if(o&&o.global){s("event",n,t);return}else{const c=await r,l=Object.assign(Object.assign({},t),{send_to:c});s("event",n,l)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hL(){if(xy())try{await Sy()}catch(s){return Os.warn(zs.create("indexeddb-unavailable",{errorInfo:s==null?void 0:s.toString()}).message),!1}else return Os.warn(zs.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function fL(s,r,n,t,o,c,l){var h;const a=aL(s);a.then(p=>{n[p.measurementId]=p.appId,s.options.measurementId&&p.measurementId!==s.options.measurementId&&Os.warn(`The measurement ID in the local Firebase config (${s.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>Os.error(p)),r.push(a);const d=hL().then(p=>{if(p)return t.getId()}),[_,w]=await Promise.all([a,d]);tL(c)||$4(c,_.measurementId),o("js",new Date);const f=(h=l==null?void 0:l.config)!==null&&h!==void 0?h:{};return f[z4]="firebase",f.update=!0,w!=null&&(f[G4]=w),o("config",_.measurementId,f),_.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL{constructor(r){this.app=r}_delete(){return delete Wc[this.app.options.appId],Promise.resolve()}}let Wc={},Cw=[];const Aw={};let yg="dataLayer",mL="gtag",Rw,Fj,Ow=!1;function gL(){const s=[];if(wy()&&s.push("This is a browser extension environment."),Ux()||s.push("Cookies are not available."),s.length>0){const r=s.map((t,o)=>`(${o+1}) ${t}`).join(" "),n=zs.create("invalid-analytics-context",{errorInfo:r});Os.warn(n.message)}}function yL(s,r,n){gL();const t=s.options.appId;if(!t)throw zs.create("no-app-id");if(!s.options.apiKey)if(s.options.measurementId)Os.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${s.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw zs.create("no-api-key");if(Wc[t]!=null)throw zs.create("already-exists",{id:t});if(!Ow){K4(yg);const{wrappedGtag:c,gtagCore:l}=eL(Wc,Cw,Aw,yg,mL);Fj=c,Rw=l,Ow=!0}return Wc[t]=fL(s,Cw,Aw,r,Rw,yg,n),new pL(s)}function vL(s=hd()){s=qr(s);const r=Oa(s,_f);return r.isInitialized()?r.getImmediate():bL(s)}function bL(s,r={}){const n=Oa(s,_f);if(n.isInitialized()){const o=n.getImmediate();if($c(r,n.getOptions()))return o;throw zs.create("already-initialized")}return n.initialize({options:r})}async function _L(){if(wy()||!Ux()||!xy())return!1;try{return await Sy()}catch{return!1}}function wL(s,r,n,t){s=qr(s),dL(Fj,Wc[s.app.options.appId],r,n,t).catch(o=>Os.error(o))}const Iw="@firebase/analytics",kw="0.10.8";function xL(){Oi(new hi(_f,(r,{options:n})=>{const t=r.getProvider("app").getImmediate(),o=r.getProvider("installations-internal").getImmediate();return yL(t,o,n)},"PUBLIC")),Oi(new hi("analytics-internal",s,"PRIVATE")),Ts(Iw,kw),Ts(Iw,kw,"esm2017");function s(r){try{const n=r.getProvider(_f).getImmediate();return{logEvent:(t,o,c)=>wL(n,t,o,c)}}catch(n){throw zs.create("interop-component-reg-failed",{reason:n})}}}xL();const SL={apiKey:"AIzaSyAnrwZY_0SAM3mYI13X3RkNuIWkJw3TnSU",authDomain:"stablehand-typing.firebaseapp.com",databaseURL:"https://stablehand-typing-default-rtdb.firebaseio.com",projectId:"stablehand-typing",storageBucket:"stablehand-typing.firebasestorage.app",messagingSenderId:"139216749479",appId:"1:139216749479:web:bceb35407bcfc06296ac82",measurementId:"G-27D34Q1X51"},ep=QR().length?hd():Gx(SL),Or=zy(ep),Qn=CD(ep),Sl=J3(ep);_L().then(s=>{s&&vL(ep)});new Xi;new $i;new Yi;new Do("yahoo.com");new Do("microsoft.com");new Do("apple.com");new Do("twitter.com");new As(Or);const ay=s=>{const r=[],n=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return!s||s.trim()===""?r.push("Email is required."):(s.includes("@")||r.push("Email must contain @"),s.includes(".")||r.push('Email must contain a domain, e.g., ".com"'),n.test(s)||r.push("Invalid email format.")),r},kv=s=>{const r=[],n=/^\+?[1-9]\d{1,14}$/;return!s||s.trim()===""?r.push("Phone number is required."):n.test(s)||r.push("Invalid phone number format. Please enter a valid phone number."),r},Lr=s=>{if(Array.isArray(s)){if(s.length===0)return["This field is required."]}else if(!s||s.trim()==="")return["This field is required."];return[]},Vj=s=>!s||s.trim()===""?["This field is required, default NA"]:[],jL=s=>{const r=[];return!s||s.trim()===""?r.push("This field is required."):/^[a-zA-Z\s]+$/.test(s)||r.push("Only alphabetic characters and spaces are allowed."),r},Bj=s=>{const r=[];return s?(s.length<8&&r.push("Password must be at least 8 characters long."),/[A-Z]/.test(s)||r.push("Password must contain at least one uppercase letter."),/[a-z]/.test(s)||r.push("Password must contain at least one lowercase letter."),/[0-9]/.test(s)||r.push("Password must contain at least one digit."),/[!@#$%^&*(),.?":{}|<>]/.test(s)||r.push("Password must contain at least one special character.")):r.push("Password is required."),r},tp=s=>s.getModifierState&&s.getModifierState("CapsLock"),Gj=s=>{const r=[],n=new Date(s);if(isNaN(n.getTime()))return r.push("Invalid Date of Birth."),r;const t=new Date;let o=t.getFullYear()-n.getFullYear();const c=t.getMonth()-n.getMonth();return(c<0||c===0&&t.getDate()<n.getDate())&&o--,(o<8||o>120)&&r.push("Date of Birth must result in an age between 8 and 120 years."),r},zj=s=>{const r=[];if(!s||s.trim()==="")r.push("This field is required.");else{const n=parseInt(s,10);(isNaN(n)||n<8||n>120)&&r.push("Age must be between 8 and 120 years.")}return r},Hj=(s,r)=>{const n=[];if(s&&r!==void 0&&r!==null){const t=new Date(s),o=new Date;let c=o.getFullYear()-t.getFullYear();const l=o.getMonth()-t.getMonth();(l<0||l===0&&o.getDate()<t.getDate())&&c--,Math.floor(r)!==c&&n.push("Age must match Date of Birth.")}return n},EL={success:"bg-green-100 border-green-400 text-green-700",error:"bg-red-100 border-red-400 text-red-700",warning:"bg-yellow-100 border-yellow-400 text-yellow-700",info:"bg-blue-100 text-blue-700"},TL=s=>["success","error","warning","info"].includes(s),CL=({message:s,type:r="info"})=>{const n=TL(r)?r:"info",t=n==="error"?"alert":"status";return $.jsx("div",{className:`border-l-4 p-2 mb-2 text-xs ${EL[n]}`,role:t,"aria-live":"polite",children:s})},Cn=Te.memo(CL),fi=({label:s,name:r,type:n,value:t,onChange:o,onKeyDown:c,placeholder:l="",errors:h=[]})=>$.jsxs("div",{className:"mb-4",children:[$.jsx("label",{htmlFor:r,className:"block text-sm font-medium text-gray-700",children:s}),$.jsx("input",{id:r,name:r,type:n,value:t,onChange:o,onKeyDown:c,placeholder:l,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"}),h.length>0&&$.jsx("div",{className:"mt-2",children:h.map((a,d)=>$.jsx(Cn,{message:a,type:"error"},d))})]}),qj=Te.forwardRef(({email:s,setEmail:r,setEmailErrors:n},t)=>{const[o,c]=Te.useState([]),[l,h]=Te.useState(!1),a=_=>{const{value:w}=_.target;r(w);const f=ay(w);n(f),c(f)},d=_=>{h(tp(_))};return Te.useImperativeHandle(t,()=>({clearLocalErrors:()=>c([])})),$.jsxs("div",{children:[$.jsx(fi,{label:"Email",type:"email",value:s,onChange:a,onKeyDown:d,errors:o,placeholder:"Enter your email"}),l&&$.jsx(Cn,{message:"Caps Lock is on",type:"warning"})]})}),Wj=Te.forwardRef(({password:s,setPassword:r,setPasswordErrors:n},t)=>{const[o,c]=Te.useState([]),[l,h]=Te.useState(!1),a=_=>{const{value:w}=_.target;r(w);const f=Bj(w);n(f),c(f)},d=_=>{h(tp(_))};return Te.useImperativeHandle(t,()=>({clearLocalErrors:()=>c([])})),$.jsxs("div",{children:[$.jsx(fi,{label:"Password",type:"password",value:s,onChange:a,onKeyDown:d,errors:o,placeholder:"Enter your password"}),l&&$.jsx(Cn,{message:"Caps Lock is on",type:"warning"})]})}),Hs=({onClick:s,children:r,className:n="",...t})=>$.jsx("button",{onClick:s,className:`px-4 py-2 text-white bg-blue-500 hover:bg-blue-600 rounded focus:outline-none focus:ring-2 focus:ring-blue-400 ${n}`,...t,children:r});function AL(){const s=Mi(),[r,n]=Te.useState(""),[t,o]=Te.useState([]),[c,l]=Te.useState(""),[h,a]=Te.useState([]),[d,_]=Te.useState(""),[w,f]=Te.useState(""),[p,b]=Te.useState(null),[y,m]=Te.useState(!1),[g,v]=Te.useState({text:"",type:"info"});Te.useEffect(()=>{window.recaptchaVerifier||(window.recaptchaVerifier=new gd(Or,"recaptcha-container",{size:"invisible"}),window.recaptchaVerifier.render().catch(console.error))},[]);async function S(A){A.preventDefault(),v({text:"",type:"info"});try{const C=(await v2(Or,r,c)).user;m(!0),v({text:"Sending enrollment SMS…",type:"info"});const T=await ml(C).getSession(),R=new As(Or),D=window.prompt("Enter phone # (+1...)")||"",k=await R.verifyPhoneNumber({phoneNumber:D,session:T},window.recaptchaVerifier);f(k)}catch(L){if(L.code==="auth/multi-factor-auth-required"){const C=hI(Or,L);b(C);const T=C.hints[0];v({text:`Code sent to …${T.phoneNumber.slice(-4)}`,type:"info"});const D=await new As(Or).verifyPhoneNumber({multiFactorHint:T,session:C.session},window.recaptchaVerifier);f(D)}else v({text:L.message||"Login failed",type:"error"})}}async function j(){if(v({text:"",type:"info"}),!!w)try{const A=As.credential(w,d),L=Ff.assertion(A);y?(await ml(Or.currentUser).enroll(L,"Phone"),v({text:"Phone linked! Redirecting…",type:"success"}),await Or.currentUser.reload()):p&&(await p.resolveSignIn(L),v({text:"MFA OK—Redirecting…",type:"success"})),setTimeout(()=>s("/stablehand-welcome"),1500)}catch(A){v({text:A.message||"Verification failed",type:"error"})}}return $.jsxs("div",{children:[!w&&$.jsxs("form",{onSubmit:S,className:"space-y-4",children:[$.jsx(qj,{email:r,setEmail:n,setEmailErrors:o,errors:t}),$.jsx(Wj,{password:c,setPassword:l,setPasswordErrors:a,errors:h}),g.text&&$.jsx(Cn,{message:g.text,type:g.type}),$.jsx(Hs,{type:"submit",className:"w-full bg-blue-600 text-white",children:y?"Link Phone":"Log In"})]}),$.jsx("div",{id:"recaptcha-container"}),w&&$.jsxs("div",{className:"mt-4 space-y-4",children:[$.jsx(fi,{label:"SMS Code",type:"text",value:d,onChange:A=>_(A.target.value),placeholder:"123456"}),g.text&&$.jsx(Cn,{message:g.text,type:g.type}),$.jsx(Hs,{onClick:j,className:"w-full bg-green-600 text-white",children:"Verify Code"})]})]})}function jl(s){"@babel/helpers - typeof";return jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},jl(s)}function RL(s,r){if(jl(s)!="object"||!s)return s;var n=s[Symbol.toPrimitive];if(n!==void 0){var t=n.call(s,r||"default");if(jl(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(s)}function Yj(s){var r=RL(s,"string");return jl(r)=="symbol"?r:r+""}function Fc(s,r,n){return(r=Yj(r))in s?Object.defineProperty(s,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[r]=n,s}function Mw(s,r){var n=Object.keys(s);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(s);r&&(t=t.filter(function(o){return Object.getOwnPropertyDescriptor(s,o).enumerable})),n.push.apply(n,t)}return n}function Gt(s){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?Mw(Object(n),!0).forEach(function(t){Fc(s,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(n)):Mw(Object(n)).forEach(function(t){Object.defineProperty(s,t,Object.getOwnPropertyDescriptor(n,t))})}return s}function OL(s){if(Array.isArray(s))return s}function IL(s,r){var n=s==null?null:typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"];if(n!=null){var t,o,c,l,h=[],a=!0,d=!1;try{if(c=(n=n.call(s)).next,r===0){if(Object(n)!==n)return;a=!1}else for(;!(a=(t=c.call(n)).done)&&(h.push(t.value),h.length!==r);a=!0);}catch(_){d=!0,o=_}finally{try{if(!a&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(d)throw o}}return h}}function ly(s,r){(r==null||r>s.length)&&(r=s.length);for(var n=0,t=Array(r);n<r;n++)t[n]=s[n];return t}function Xj(s,r){if(s){if(typeof s=="string")return ly(s,r);var n={}.toString.call(s).slice(8,-1);return n==="Object"&&s.constructor&&(n=s.constructor.name),n==="Map"||n==="Set"?Array.from(s):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ly(s,r):void 0}}function kL(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function No(s,r){return OL(s)||IL(s,r)||Xj(s,r)||kL()}function ML(s,r){if(s==null)return{};var n={};for(var t in s)if({}.hasOwnProperty.call(s,t)){if(r.includes(t))continue;n[t]=s[t]}return n}function qo(s,r){if(s==null)return{};var n,t,o=ML(s,r);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(s);for(t=0;t<c.length;t++)n=c[t],r.includes(n)||{}.propertyIsEnumerable.call(s,n)&&(o[n]=s[n])}return o}var PL=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function DL(s){var r=s.defaultInputValue,n=r===void 0?"":r,t=s.defaultMenuIsOpen,o=t===void 0?!1:t,c=s.defaultValue,l=c===void 0?null:c,h=s.inputValue,a=s.menuIsOpen,d=s.onChange,_=s.onInputChange,w=s.onMenuClose,f=s.onMenuOpen,p=s.value,b=qo(s,PL),y=Te.useState(h!==void 0?h:n),m=No(y,2),g=m[0],v=m[1],S=Te.useState(a!==void 0?a:o),j=No(S,2),A=j[0],L=j[1],C=Te.useState(p!==void 0?p:l),T=No(C,2),R=T[0],D=T[1],k=Te.useCallback(function(J,Z){typeof d=="function"&&d(J,Z),D(J)},[d]),F=Te.useCallback(function(J,Z){var K;typeof _=="function"&&(K=_(J,Z)),v(K!==void 0?K:J)},[_]),P=Te.useCallback(function(){typeof f=="function"&&f(),L(!0)},[f]),q=Te.useCallback(function(){typeof w=="function"&&w(),L(!1)},[w]),z=h!==void 0?h:g,H=a!==void 0?a:A,Q=p!==void 0?p:R;return Gt(Gt({},b),{},{inputValue:z,menuIsOpen:H,onChange:k,onInputChange:F,onMenuClose:q,onMenuOpen:P,value:Q})}function Ht(){return Ht=Object.assign?Object.assign.bind():function(s){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var t in n)({}).hasOwnProperty.call(n,t)&&(s[t]=n[t])}return s},Ht.apply(null,arguments)}function LL(s,r){if(!(s instanceof r))throw new TypeError("Cannot call a class as a function")}function Pw(s,r){for(var n=0;n<r.length;n++){var t=r[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(s,Yj(t.key),t)}}function NL(s,r,n){return r&&Pw(s.prototype,r),n&&Pw(s,n),Object.defineProperty(s,"prototype",{writable:!1}),s}function uy(s,r){return uy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,t){return n.__proto__=t,n},uy(s,r)}function UL(s,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(r&&r.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),r&&uy(s,r)}function wf(s){return wf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wf(s)}function $j(){try{var s=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($j=function(){return!!s})()}function FL(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}function VL(s,r){if(r&&(jl(r)=="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FL(s)}function BL(s){var r=$j();return function(){var n,t=wf(s);if(r){var o=wf(this).constructor;n=Reflect.construct(t,arguments,o)}else n=t.apply(this,arguments);return VL(this,n)}}function GL(s){if(Array.isArray(s))return ly(s)}function zL(s){if(typeof Symbol<"u"&&s[Symbol.iterator]!=null||s["@@iterator"]!=null)return Array.from(s)}function HL(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mv(s){return GL(s)||zL(s)||Xj(s)||HL()}var qL=!1;function WL(s){if(s.sheet)return s.sheet;for(var r=0;r<document.styleSheets.length;r++)if(document.styleSheets[r].ownerNode===s)return document.styleSheets[r]}function YL(s){var r=document.createElement("style");return r.setAttribute("data-emotion",s.key),s.nonce!==void 0&&r.setAttribute("nonce",s.nonce),r.appendChild(document.createTextNode("")),r.setAttribute("data-s",""),r}var XL=function(){function s(n){var t=this;this._insertTag=function(o){var c;t.tags.length===0?t.insertionPoint?c=t.insertionPoint.nextSibling:t.prepend?c=t.container.firstChild:c=t.before:c=t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(o,c),t.tags.push(o)},this.isSpeedy=n.speedy===void 0?!qL:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var r=s.prototype;return r.hydrate=function(t){t.forEach(this._insertTag)},r.insert=function(t){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(YL(this));var o=this.tags[this.tags.length-1];if(this.isSpeedy){var c=WL(o);try{c.insertRule(t,c.cssRules.length)}catch{}}else o.appendChild(document.createTextNode(t));this.ctr++},r.flush=function(){this.tags.forEach(function(t){var o;return(o=t.parentNode)==null?void 0:o.removeChild(t)}),this.tags=[],this.ctr=0},s}(),ls="-ms-",xf="-moz-",Sr="-webkit-",Kj="comm",Pv="rule",Dv="decl",$L="@import",Qj="@keyframes",KL="@layer",QL=Math.abs,rp=String.fromCharCode,ZL=Object.assign;function JL(s,r){return $n(s,0)^45?(((r<<2^$n(s,0))<<2^$n(s,1))<<2^$n(s,2))<<2^$n(s,3):0}function Zj(s){return s.trim()}function eN(s,r){return(s=r.exec(s))?s[0]:s}function jr(s,r,n){return s.replace(r,n)}function cy(s,r){return s.indexOf(r)}function $n(s,r){return s.charCodeAt(r)|0}function od(s,r,n){return s.slice(r,n)}function qi(s){return s.length}function Lv(s){return s.length}function kh(s,r){return r.push(s),s}function tN(s,r){return s.map(r).join("")}var np=1,Au=1,Jj=0,ks=0,Sn=0,Fu="";function sp(s,r,n,t,o,c,l){return{value:s,root:r,parent:n,type:t,props:o,children:c,line:np,column:Au,length:l,return:""}}function Cc(s,r){return ZL(sp("",null,null,"",null,null,0),s,{length:-s.length},r)}function rN(){return Sn}function nN(){return Sn=ks>0?$n(Fu,--ks):0,Au--,Sn===10&&(Au=1,np--),Sn}function qs(){return Sn=ks<Jj?$n(Fu,ks++):0,Au++,Sn===10&&(Au=1,np++),Sn}function to(){return $n(Fu,ks)}function $h(){return ks}function Td(s,r){return od(Fu,s,r)}function ad(s){switch(s){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function eE(s){return np=Au=1,Jj=qi(Fu=s),ks=0,[]}function tE(s){return Fu="",s}function Kh(s){return Zj(Td(ks-1,dy(s===91?s+2:s===40?s+1:s)))}function sN(s){for(;(Sn=to())&&Sn<33;)qs();return ad(s)>2||ad(Sn)>3?"":" "}function iN(s,r){for(;--r&&qs()&&!(Sn<48||Sn>102||Sn>57&&Sn<65||Sn>70&&Sn<97););return Td(s,$h()+(r<6&&to()==32&&qs()==32))}function dy(s){for(;qs();)switch(Sn){case s:return ks;case 34:case 39:s!==34&&s!==39&&dy(Sn);break;case 40:s===41&&dy(s);break;case 92:qs();break}return ks}function oN(s,r){for(;qs()&&s+Sn!==57;)if(s+Sn===84&&to()===47)break;return"/*"+Td(r,ks-1)+"*"+rp(s===47?s:qs())}function aN(s){for(;!ad(to());)qs();return Td(s,ks)}function lN(s){return tE(Qh("",null,null,null,[""],s=eE(s),0,[0],s))}function Qh(s,r,n,t,o,c,l,h,a){for(var d=0,_=0,w=l,f=0,p=0,b=0,y=1,m=1,g=1,v=0,S="",j=o,A=c,L=t,C=S;m;)switch(b=v,v=qs()){case 40:if(b!=108&&$n(C,w-1)==58){cy(C+=jr(Kh(v),"&","&\f"),"&\f")!=-1&&(g=-1);break}case 34:case 39:case 91:C+=Kh(v);break;case 9:case 10:case 13:case 32:C+=sN(b);break;case 92:C+=iN($h()-1,7);continue;case 47:switch(to()){case 42:case 47:kh(uN(oN(qs(),$h()),r,n),a);break;default:C+="/"}break;case 123*y:h[d++]=qi(C)*g;case 125*y:case 59:case 0:switch(v){case 0:case 125:m=0;case 59+_:g==-1&&(C=jr(C,/\f/g,"")),p>0&&qi(C)-w&&kh(p>32?Lw(C+";",t,n,w-1):Lw(jr(C," ","")+";",t,n,w-2),a);break;case 59:C+=";";default:if(kh(L=Dw(C,r,n,d,_,o,h,S,j=[],A=[],w),c),v===123)if(_===0)Qh(C,r,L,L,j,c,w,h,A);else switch(f===99&&$n(C,3)===110?100:f){case 100:case 108:case 109:case 115:Qh(s,L,L,t&&kh(Dw(s,L,L,0,0,o,h,S,o,j=[],w),A),o,A,w,h,t?j:A);break;default:Qh(C,L,L,L,[""],A,0,h,A)}}d=_=p=0,y=g=1,S=C="",w=l;break;case 58:w=1+qi(C),p=b;default:if(y<1){if(v==123)--y;else if(v==125&&y++==0&&nN()==125)continue}switch(C+=rp(v),v*y){case 38:g=_>0?1:(C+="\f",-1);break;case 44:h[d++]=(qi(C)-1)*g,g=1;break;case 64:to()===45&&(C+=Kh(qs())),f=to(),_=w=qi(S=C+=aN($h())),v++;break;case 45:b===45&&qi(C)==2&&(y=0)}}return c}function Dw(s,r,n,t,o,c,l,h,a,d,_){for(var w=o-1,f=o===0?c:[""],p=Lv(f),b=0,y=0,m=0;b<t;++b)for(var g=0,v=od(s,w+1,w=QL(y=l[b])),S=s;g<p;++g)(S=Zj(y>0?f[g]+" "+v:jr(v,/&\f/g,f[g])))&&(a[m++]=S);return sp(s,r,n,o===0?Pv:h,a,d,_)}function uN(s,r,n){return sp(s,r,n,Kj,rp(rN()),od(s,2,-2),0)}function Lw(s,r,n,t){return sp(s,r,n,Dv,od(s,0,t),od(s,t+1,-1),t)}function _u(s,r){for(var n="",t=Lv(s),o=0;o<t;o++)n+=r(s[o],o,s,r)||"";return n}function cN(s,r,n,t){switch(s.type){case KL:if(s.children.length)break;case $L:case Dv:return s.return=s.return||s.value;case Kj:return"";case Qj:return s.return=s.value+"{"+_u(s.children,t)+"}";case Pv:s.value=s.props.join(",")}return qi(n=_u(s.children,t))?s.return=s.value+"{"+n+"}":""}function dN(s){var r=Lv(s);return function(n,t,o,c){for(var l="",h=0;h<r;h++)l+=s[h](n,t,o,c)||"";return l}}function hN(s){return function(r){r.root||(r=r.return)&&s(r)}}function fN(s){var r=Object.create(null);return function(n){return r[n]===void 0&&(r[n]=s(n)),r[n]}}var pN=function(r,n,t){for(var o=0,c=0;o=c,c=to(),o===38&&c===12&&(n[t]=1),!ad(c);)qs();return Td(r,ks)},mN=function(r,n){var t=-1,o=44;do switch(ad(o)){case 0:o===38&&to()===12&&(n[t]=1),r[t]+=pN(ks-1,n,t);break;case 2:r[t]+=Kh(o);break;case 4:if(o===44){r[++t]=to()===58?"&\f":"",n[t]=r[t].length;break}default:r[t]+=rp(o)}while(o=qs());return r},gN=function(r,n){return tE(mN(eE(r),n))},Nw=new WeakMap,yN=function(r){if(!(r.type!=="rule"||!r.parent||r.length<1)){for(var n=r.value,t=r.parent,o=r.column===t.column&&r.line===t.line;t.type!=="rule";)if(t=t.parent,!t)return;if(!(r.props.length===1&&n.charCodeAt(0)!==58&&!Nw.get(t))&&!o){Nw.set(r,!0);for(var c=[],l=gN(n,c),h=t.props,a=0,d=0;a<l.length;a++)for(var _=0;_<h.length;_++,d++)r.props[d]=c[a]?l[a].replace(/&\f/g,h[_]):h[_]+" "+l[a]}}},vN=function(r){if(r.type==="decl"){var n=r.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(r.return="",r.value="")}};function rE(s,r){switch(JL(s,r)){case 5103:return Sr+"print-"+s+s;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Sr+s+s;case 5349:case 4246:case 4810:case 6968:case 2756:return Sr+s+xf+s+ls+s+s;case 6828:case 4268:return Sr+s+ls+s+s;case 6165:return Sr+s+ls+"flex-"+s+s;case 5187:return Sr+s+jr(s,/(\w+).+(:[^]+)/,Sr+"box-$1$2"+ls+"flex-$1$2")+s;case 5443:return Sr+s+ls+"flex-item-"+jr(s,/flex-|-self/,"")+s;case 4675:return Sr+s+ls+"flex-line-pack"+jr(s,/align-content|flex-|-self/,"")+s;case 5548:return Sr+s+ls+jr(s,"shrink","negative")+s;case 5292:return Sr+s+ls+jr(s,"basis","preferred-size")+s;case 6060:return Sr+"box-"+jr(s,"-grow","")+Sr+s+ls+jr(s,"grow","positive")+s;case 4554:return Sr+jr(s,/([^-])(transform)/g,"$1"+Sr+"$2")+s;case 6187:return jr(jr(jr(s,/(zoom-|grab)/,Sr+"$1"),/(image-set)/,Sr+"$1"),s,"")+s;case 5495:case 3959:return jr(s,/(image-set\([^]*)/,Sr+"$1$`$1");case 4968:return jr(jr(s,/(.+:)(flex-)?(.*)/,Sr+"box-pack:$3"+ls+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Sr+s+s;case 4095:case 3583:case 4068:case 2532:return jr(s,/(.+)-inline(.+)/,Sr+"$1$2")+s;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(qi(s)-1-r>6)switch($n(s,r+1)){case 109:if($n(s,r+4)!==45)break;case 102:return jr(s,/(.+:)(.+)-([^]+)/,"$1"+Sr+"$2-$3$1"+xf+($n(s,r+3)==108?"$3":"$2-$3"))+s;case 115:return~cy(s,"stretch")?rE(jr(s,"stretch","fill-available"),r)+s:s}break;case 4949:if($n(s,r+1)!==115)break;case 6444:switch($n(s,qi(s)-3-(~cy(s,"!important")&&10))){case 107:return jr(s,":",":"+Sr)+s;case 101:return jr(s,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Sr+($n(s,14)===45?"inline-":"")+"box$3$1"+Sr+"$2$3$1"+ls+"$2box$3")+s}break;case 5936:switch($n(s,r+11)){case 114:return Sr+s+ls+jr(s,/[svh]\w+-[tblr]{2}/,"tb")+s;case 108:return Sr+s+ls+jr(s,/[svh]\w+-[tblr]{2}/,"tb-rl")+s;case 45:return Sr+s+ls+jr(s,/[svh]\w+-[tblr]{2}/,"lr")+s}return Sr+s+ls+s+s}return s}var bN=function(r,n,t,o){if(r.length>-1&&!r.return)switch(r.type){case Dv:r.return=rE(r.value,r.length);break;case Qj:return _u([Cc(r,{value:jr(r.value,"@","@"+Sr)})],o);case Pv:if(r.length)return tN(r.props,function(c){switch(eN(c,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return _u([Cc(r,{props:[jr(c,/:(read-\w+)/,":"+xf+"$1")]})],o);case"::placeholder":return _u([Cc(r,{props:[jr(c,/:(plac\w+)/,":"+Sr+"input-$1")]}),Cc(r,{props:[jr(c,/:(plac\w+)/,":"+xf+"$1")]}),Cc(r,{props:[jr(c,/:(plac\w+)/,ls+"input-$1")]})],o)}return""})}},_N=[bN],wN=function(r){var n=r.key;if(n==="css"){var t=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(t,function(y){var m=y.getAttribute("data-emotion");m.indexOf(" ")!==-1&&(document.head.appendChild(y),y.setAttribute("data-s",""))})}var o=r.stylisPlugins||_N,c={},l,h=[];l=r.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(y){for(var m=y.getAttribute("data-emotion").split(" "),g=1;g<m.length;g++)c[m[g]]=!0;h.push(y)});var a,d=[yN,vN];{var _,w=[cN,hN(function(y){_.insert(y)})],f=dN(d.concat(o,w)),p=function(m){return _u(lN(m),f)};a=function(m,g,v,S){_=v,p(m?m+"{"+g.styles+"}":g.styles),S&&(b.inserted[g.name]=!0)}}var b={key:n,sheet:new XL({key:n,container:l,nonce:r.nonce,speedy:r.speedy,prepend:r.prepend,insertionPoint:r.insertionPoint}),nonce:r.nonce,inserted:c,registered:{},insert:a};return b.sheet.hydrate(h),b},vg={exports:{}},Ar={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uw;function xN(){if(Uw)return Ar;Uw=1;var s=typeof Symbol=="function"&&Symbol.for,r=s?Symbol.for("react.element"):60103,n=s?Symbol.for("react.portal"):60106,t=s?Symbol.for("react.fragment"):60107,o=s?Symbol.for("react.strict_mode"):60108,c=s?Symbol.for("react.profiler"):60114,l=s?Symbol.for("react.provider"):60109,h=s?Symbol.for("react.context"):60110,a=s?Symbol.for("react.async_mode"):60111,d=s?Symbol.for("react.concurrent_mode"):60111,_=s?Symbol.for("react.forward_ref"):60112,w=s?Symbol.for("react.suspense"):60113,f=s?Symbol.for("react.suspense_list"):60120,p=s?Symbol.for("react.memo"):60115,b=s?Symbol.for("react.lazy"):60116,y=s?Symbol.for("react.block"):60121,m=s?Symbol.for("react.fundamental"):60117,g=s?Symbol.for("react.responder"):60118,v=s?Symbol.for("react.scope"):60119;function S(A){if(typeof A=="object"&&A!==null){var L=A.$$typeof;switch(L){case r:switch(A=A.type,A){case a:case d:case t:case c:case o:case w:return A;default:switch(A=A&&A.$$typeof,A){case h:case _:case b:case p:case l:return A;default:return L}}case n:return L}}}function j(A){return S(A)===d}return Ar.AsyncMode=a,Ar.ConcurrentMode=d,Ar.ContextConsumer=h,Ar.ContextProvider=l,Ar.Element=r,Ar.ForwardRef=_,Ar.Fragment=t,Ar.Lazy=b,Ar.Memo=p,Ar.Portal=n,Ar.Profiler=c,Ar.StrictMode=o,Ar.Suspense=w,Ar.isAsyncMode=function(A){return j(A)||S(A)===a},Ar.isConcurrentMode=j,Ar.isContextConsumer=function(A){return S(A)===h},Ar.isContextProvider=function(A){return S(A)===l},Ar.isElement=function(A){return typeof A=="object"&&A!==null&&A.$$typeof===r},Ar.isForwardRef=function(A){return S(A)===_},Ar.isFragment=function(A){return S(A)===t},Ar.isLazy=function(A){return S(A)===b},Ar.isMemo=function(A){return S(A)===p},Ar.isPortal=function(A){return S(A)===n},Ar.isProfiler=function(A){return S(A)===c},Ar.isStrictMode=function(A){return S(A)===o},Ar.isSuspense=function(A){return S(A)===w},Ar.isValidElementType=function(A){return typeof A=="string"||typeof A=="function"||A===t||A===d||A===c||A===o||A===w||A===f||typeof A=="object"&&A!==null&&(A.$$typeof===b||A.$$typeof===p||A.$$typeof===l||A.$$typeof===h||A.$$typeof===_||A.$$typeof===m||A.$$typeof===g||A.$$typeof===v||A.$$typeof===y)},Ar.typeOf=S,Ar}var Fw;function SN(){return Fw||(Fw=1,vg.exports=xN()),vg.exports}var bg,Vw;function jN(){if(Vw)return bg;Vw=1;var s=SN(),r={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},t={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},c={};c[s.ForwardRef]=t,c[s.Memo]=o;function l(b){return s.isMemo(b)?o:c[b.$$typeof]||r}var h=Object.defineProperty,a=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,_=Object.getOwnPropertyDescriptor,w=Object.getPrototypeOf,f=Object.prototype;function p(b,y,m){if(typeof y!="string"){if(f){var g=w(y);g&&g!==f&&p(b,g,m)}var v=a(y);d&&(v=v.concat(d(y)));for(var S=l(b),j=l(y),A=0;A<v.length;++A){var L=v[A];if(!n[L]&&!(m&&m[L])&&!(j&&j[L])&&!(S&&S[L])){var C=_(y,L);try{h(b,L,C)}catch{}}}}return b}return bg=p,bg}jN();var EN=!0;function TN(s,r,n){var t="";return n.split(" ").forEach(function(o){s[o]!==void 0?r.push(s[o]+";"):o&&(t+=o+" ")}),t}var nE=function(r,n,t){var o=r.key+"-"+n.name;(t===!1||EN===!1)&&r.registered[o]===void 0&&(r.registered[o]=n.styles)},CN=function(r,n,t){nE(r,n,t);var o=r.key+"-"+n.name;if(r.inserted[n.name]===void 0){var c=n;do r.insert(n===c?"."+o:"",c,r.sheet,!0),c=c.next;while(c!==void 0)}};function AN(s){for(var r=0,n,t=0,o=s.length;o>=4;++t,o-=4)n=s.charCodeAt(t)&255|(s.charCodeAt(++t)&255)<<8|(s.charCodeAt(++t)&255)<<16|(s.charCodeAt(++t)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,r=(n&65535)*1540483477+((n>>>16)*59797<<16)^(r&65535)*1540483477+((r>>>16)*59797<<16);switch(o){case 3:r^=(s.charCodeAt(t+2)&255)<<16;case 2:r^=(s.charCodeAt(t+1)&255)<<8;case 1:r^=s.charCodeAt(t)&255,r=(r&65535)*1540483477+((r>>>16)*59797<<16)}return r^=r>>>13,r=(r&65535)*1540483477+((r>>>16)*59797<<16),((r^r>>>15)>>>0).toString(36)}var RN={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},ON=!1,IN=/[A-Z]|^ms/g,kN=/_EMO_([^_]+?)_([^]*?)_EMO_/g,sE=function(r){return r.charCodeAt(1)===45},Bw=function(r){return r!=null&&typeof r!="boolean"},_g=fN(function(s){return sE(s)?s:s.replace(IN,"-$&").toLowerCase()}),Gw=function(r,n){switch(r){case"animation":case"animationName":if(typeof n=="string")return n.replace(kN,function(t,o,c){return Wi={name:o,styles:c,next:Wi},o})}return RN[r]!==1&&!sE(r)&&typeof n=="number"&&n!==0?n+"px":n},MN="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function ld(s,r,n){if(n==null)return"";var t=n;if(t.__emotion_styles!==void 0)return t;switch(typeof n){case"boolean":return"";case"object":{var o=n;if(o.anim===1)return Wi={name:o.name,styles:o.styles,next:Wi},o.name;var c=n;if(c.styles!==void 0){var l=c.next;if(l!==void 0)for(;l!==void 0;)Wi={name:l.name,styles:l.styles,next:Wi},l=l.next;var h=c.styles+";";return h}return PN(s,r,n)}case"function":{if(s!==void 0){var a=Wi,d=n(s);return Wi=a,ld(s,r,d)}break}}var _=n;return _}function PN(s,r,n){var t="";if(Array.isArray(n))for(var o=0;o<n.length;o++)t+=ld(s,r,n[o])+";";else for(var c in n){var l=n[c];if(typeof l!="object"){var h=l;Bw(h)&&(t+=_g(c)+":"+Gw(c,h)+";")}else{if(c==="NO_COMPONENT_SELECTOR"&&ON)throw new Error(MN);if(Array.isArray(l)&&typeof l[0]=="string"&&r==null)for(var a=0;a<l.length;a++)Bw(l[a])&&(t+=_g(c)+":"+Gw(c,l[a])+";");else{var d=ld(s,r,l);switch(c){case"animation":case"animationName":{t+=_g(c)+":"+d+";";break}default:t+=c+"{"+d+"}"}}}}return t}var zw=/label:\s*([^\s;{]+)\s*(;|$)/g,Wi;function iE(s,r,n){if(s.length===1&&typeof s[0]=="object"&&s[0]!==null&&s[0].styles!==void 0)return s[0];var t=!0,o="";Wi=void 0;var c=s[0];if(c==null||c.raw===void 0)t=!1,o+=ld(n,r,c);else{var l=c;o+=l[0]}for(var h=1;h<s.length;h++)if(o+=ld(n,r,s[h]),t){var a=c;o+=a[h]}zw.lastIndex=0;for(var d="",_;(_=zw.exec(o))!==null;)d+="-"+_[1];var w=AN(o)+d;return{name:w,styles:o,next:Wi}}var DN=function(r){return r()},LN=Og.useInsertionEffect?Og.useInsertionEffect:!1,NN=LN||DN,UN=!1,oE=Te.createContext(typeof HTMLElement<"u"?wN({key:"css"}):null);oE.Provider;var FN=function(r){return Te.forwardRef(function(n,t){var o=Te.useContext(oE);return r(n,o,t)})},VN=Te.createContext({}),Nv={}.hasOwnProperty,hy="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",BN=function(r,n){var t={};for(var o in n)Nv.call(n,o)&&(t[o]=n[o]);return t[hy]=r,t},GN=function(r){var n=r.cache,t=r.serialized,o=r.isStringTag;return nE(n,t,o),NN(function(){return CN(n,t,o)}),null},zN=FN(function(s,r,n){var t=s.css;typeof t=="string"&&r.registered[t]!==void 0&&(t=r.registered[t]);var o=s[hy],c=[t],l="";typeof s.className=="string"?l=TN(r.registered,c,s.className):s.className!=null&&(l=s.className+" ");var h=iE(c,void 0,Te.useContext(VN));l+=r.key+"-"+h.name;var a={};for(var d in s)Nv.call(s,d)&&d!=="css"&&d!==hy&&!UN&&(a[d]=s[d]);return a.className=l,n&&(a.ref=n),Te.createElement(Te.Fragment,null,Te.createElement(GN,{cache:r,serialized:h,isStringTag:typeof o=="string"}),Te.createElement(o,a))}),HN=zN,Ft=function(r,n){var t=arguments;if(n==null||!Nv.call(n,"css"))return Te.createElement.apply(void 0,t);var o=t.length,c=new Array(o);c[0]=HN,c[1]=BN(r,n);for(var l=2;l<o;l++)c[l]=t[l];return Te.createElement.apply(null,c)};(function(s){var r;r||(r=s.JSX||(s.JSX={}))})(Ft||(Ft={}));function Uv(){for(var s=arguments.length,r=new Array(s),n=0;n<s;n++)r[n]=arguments[n];return iE(r)}function qN(){var s=Uv.apply(void 0,arguments),r="animation-"+s.name;return{name:r,styles:"@keyframes "+r+"{"+s.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function WN(s,r){return r||(r=s.slice(0)),Object.freeze(Object.defineProperties(s,{raw:{value:Object.freeze(r)}}))}const YN=Math.min,XN=Math.max,Sf=Math.round,Mh=Math.floor,jf=s=>({x:s,y:s});function $N(s){const{x:r,y:n,width:t,height:o}=s;return{width:t,height:o,top:n,left:r,right:r+t,bottom:n+o,x:r,y:n}}function ip(){return typeof window<"u"}function aE(s){return uE(s)?(s.nodeName||"").toLowerCase():"#document"}function Ho(s){var r;return(s==null||(r=s.ownerDocument)==null?void 0:r.defaultView)||window}function lE(s){var r;return(r=(uE(s)?s.ownerDocument:s.document)||window.document)==null?void 0:r.documentElement}function uE(s){return ip()?s instanceof Node||s instanceof Ho(s).Node:!1}function KN(s){return ip()?s instanceof Element||s instanceof Ho(s).Element:!1}function Fv(s){return ip()?s instanceof HTMLElement||s instanceof Ho(s).HTMLElement:!1}function Hw(s){return!ip()||typeof ShadowRoot>"u"?!1:s instanceof ShadowRoot||s instanceof Ho(s).ShadowRoot}function cE(s){const{overflow:r,overflowX:n,overflowY:t,display:o}=Vv(s);return/auto|scroll|overlay|hidden|clip/.test(r+t+n)&&!["inline","contents"].includes(o)}function QN(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ZN(s){return["html","body","#document"].includes(aE(s))}function Vv(s){return Ho(s).getComputedStyle(s)}function JN(s){if(aE(s)==="html")return s;const r=s.assignedSlot||s.parentNode||Hw(s)&&s.host||lE(s);return Hw(r)?r.host:r}function dE(s){const r=JN(s);return ZN(r)?s.ownerDocument?s.ownerDocument.body:s.body:Fv(r)&&cE(r)?r:dE(r)}function Ef(s,r,n){var t;r===void 0&&(r=[]),n===void 0&&(n=!0);const o=dE(s),c=o===((t=s.ownerDocument)==null?void 0:t.body),l=Ho(o);if(c){const h=fy(l);return r.concat(l,l.visualViewport||[],cE(o)?o:[],h&&n?Ef(h):[])}return r.concat(o,Ef(o,[],n))}function fy(s){return s.parent&&Object.getPrototypeOf(s.parent)?s.frameElement:null}function e5(s){const r=Vv(s);let n=parseFloat(r.width)||0,t=parseFloat(r.height)||0;const o=Fv(s),c=o?s.offsetWidth:n,l=o?s.offsetHeight:t,h=Sf(n)!==c||Sf(t)!==l;return h&&(n=c,t=l),{width:n,height:t,$:h}}function Bv(s){return KN(s)?s:s.contextElement}function qw(s){const r=Bv(s);if(!Fv(r))return jf(1);const n=r.getBoundingClientRect(),{width:t,height:o,$:c}=e5(r);let l=(c?Sf(n.width):n.width)/t,h=(c?Sf(n.height):n.height)/o;return(!l||!Number.isFinite(l))&&(l=1),(!h||!Number.isFinite(h))&&(h=1),{x:l,y:h}}const t5=jf(0);function r5(s){const r=Ho(s);return!QN()||!r.visualViewport?t5:{x:r.visualViewport.offsetLeft,y:r.visualViewport.offsetTop}}function n5(s,r,n){return!1}function Ww(s,r,n,t){r===void 0&&(r=!1);const o=s.getBoundingClientRect(),c=Bv(s);let l=jf(1);r&&(l=qw(s));const h=n5()?r5(c):jf(0);let a=(o.left+h.x)/l.x,d=(o.top+h.y)/l.y,_=o.width/l.x,w=o.height/l.y;if(c){const f=Ho(c),p=t;let b=f,y=fy(b);for(;y&&t&&p!==b;){const m=qw(y),g=y.getBoundingClientRect(),v=Vv(y),S=g.left+(y.clientLeft+parseFloat(v.paddingLeft))*m.x,j=g.top+(y.clientTop+parseFloat(v.paddingTop))*m.y;a*=m.x,d*=m.y,_*=m.x,w*=m.y,a+=S,d+=j,b=Ho(y),y=fy(b)}}return $N({width:_,height:w,x:a,y:d})}function s5(s,r){let n=null,t;const o=lE(s);function c(){var h;clearTimeout(t),(h=n)==null||h.disconnect(),n=null}function l(h,a){h===void 0&&(h=!1),a===void 0&&(a=1),c();const{left:d,top:_,width:w,height:f}=s.getBoundingClientRect();if(h||r(),!w||!f)return;const p=Mh(_),b=Mh(o.clientWidth-(d+w)),y=Mh(o.clientHeight-(_+f)),m=Mh(d),v={rootMargin:-p+"px "+-b+"px "+-y+"px "+-m+"px",threshold:XN(0,YN(1,a))||1};let S=!0;function j(A){const L=A[0].intersectionRatio;if(L!==a){if(!S)return l();L?l(!1,L):t=setTimeout(()=>{l(!1,1e-7)},1e3)}S=!1}try{n=new IntersectionObserver(j,{...v,root:o.ownerDocument})}catch{n=new IntersectionObserver(j,v)}n.observe(s)}return l(!0),c}function i5(s,r,n,t){t===void 0&&(t={});const{ancestorScroll:o=!0,ancestorResize:c=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:h=typeof IntersectionObserver=="function",animationFrame:a=!1}=t,d=Bv(s),_=o||c?[...d?Ef(d):[],...Ef(r)]:[];_.forEach(g=>{o&&g.addEventListener("scroll",n,{passive:!0}),c&&g.addEventListener("resize",n)});const w=d&&h?s5(d,n):null;let f=-1,p=null;l&&(p=new ResizeObserver(g=>{let[v]=g;v&&v.target===d&&p&&(p.unobserve(r),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var S;(S=p)==null||S.observe(r)})),n()}),d&&!a&&p.observe(d),p.observe(r));let b,y=a?Ww(s):null;a&&m();function m(){const g=Ww(s);y&&(g.x!==y.x||g.y!==y.y||g.width!==y.width||g.height!==y.height)&&n(),y=g,b=requestAnimationFrame(m)}return n(),()=>{var g;_.forEach(v=>{o&&v.removeEventListener("scroll",n),c&&v.removeEventListener("resize",n)}),w==null||w(),(g=p)==null||g.disconnect(),p=null,a&&cancelAnimationFrame(b)}}var py=Te.useLayoutEffect,o5=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],Tf=function(){};function a5(s,r){return r?r[0]==="-"?s+r:s+"__"+r:s}function l5(s,r){for(var n=arguments.length,t=new Array(n>2?n-2:0),o=2;o<n;o++)t[o-2]=arguments[o];var c=[].concat(t);if(r&&s)for(var l in r)r.hasOwnProperty(l)&&r[l]&&c.push("".concat(a5(s,l)));return c.filter(function(h){return h}).map(function(h){return String(h).trim()}).join(" ")}var Yw=function(r){return y5(r)?r.filter(Boolean):jl(r)==="object"&&r!==null?[r]:[]},hE=function(r){r.className,r.clearValue,r.cx,r.getStyles,r.getClassNames,r.getValue,r.hasValue,r.isMulti,r.isRtl,r.options,r.selectOption,r.selectProps,r.setValue,r.theme;var n=qo(r,o5);return Gt({},n)},cn=function(r,n,t){var o=r.cx,c=r.getStyles,l=r.getClassNames,h=r.className;return{css:c(n,r),className:o(t??{},l(n,r),h)}};function op(s){return[document.documentElement,document.body,window].indexOf(s)>-1}function u5(s){return op(s)?window.innerHeight:s.clientHeight}function fE(s){return op(s)?window.pageYOffset:s.scrollTop}function Cf(s,r){if(op(s)){window.scrollTo(0,r);return}s.scrollTop=r}function c5(s){var r=getComputedStyle(s),n=r.position==="absolute",t=/(auto|scroll)/;if(r.position==="fixed")return document.documentElement;for(var o=s;o=o.parentElement;)if(r=getComputedStyle(o),!(n&&r.position==="static")&&t.test(r.overflow+r.overflowY+r.overflowX))return o;return document.documentElement}function d5(s,r,n,t){return n*((s=s/t-1)*s*s+1)+r}function Ph(s,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Tf,o=fE(s),c=r-o,l=10,h=0;function a(){h+=l;var d=d5(h,o,c,n);Cf(s,d),h<n?window.requestAnimationFrame(a):t(s)}a()}function Xw(s,r){var n=s.getBoundingClientRect(),t=r.getBoundingClientRect(),o=r.offsetHeight/3;t.bottom+o>n.bottom?Cf(s,Math.min(r.offsetTop+r.clientHeight-s.offsetHeight+o,s.scrollHeight)):t.top-o<n.top&&Cf(s,Math.max(r.offsetTop-o,0))}function h5(s){var r=s.getBoundingClientRect();return{bottom:r.bottom,height:r.height,left:r.left,right:r.right,top:r.top,width:r.width}}function $w(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function f5(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var pE=!1,p5={get passive(){return pE=!0}},Dh=typeof window<"u"?window:{};Dh.addEventListener&&Dh.removeEventListener&&(Dh.addEventListener("p",Tf,p5),Dh.removeEventListener("p",Tf,!1));var m5=pE;function g5(s){return s!=null}function y5(s){return Array.isArray(s)}function Lh(s,r,n){return s?r:n}var v5=function(r){for(var n=arguments.length,t=new Array(n>1?n-1:0),o=1;o<n;o++)t[o-1]=arguments[o];var c=Object.entries(r).filter(function(l){var h=No(l,1),a=h[0];return!t.includes(a)});return c.reduce(function(l,h){var a=No(h,2),d=a[0],_=a[1];return l[d]=_,l},{})},b5=["children","innerProps"],_5=["children","innerProps"];function w5(s){var r=s.maxHeight,n=s.menuEl,t=s.minHeight,o=s.placement,c=s.shouldScroll,l=s.isFixedPosition,h=s.controlHeight,a=c5(n),d={placement:"bottom",maxHeight:r};if(!n||!n.offsetParent)return d;var _=a.getBoundingClientRect(),w=_.height,f=n.getBoundingClientRect(),p=f.bottom,b=f.height,y=f.top,m=n.offsetParent.getBoundingClientRect(),g=m.top,v=l?window.innerHeight:u5(a),S=fE(a),j=parseInt(getComputedStyle(n).marginBottom,10),A=parseInt(getComputedStyle(n).marginTop,10),L=g-A,C=v-y,T=L+S,R=w-S-y,D=p-v+S+j,k=S+y-A,F=160;switch(o){case"auto":case"bottom":if(C>=b)return{placement:"bottom",maxHeight:r};if(R>=b&&!l)return c&&Ph(a,D,F),{placement:"bottom",maxHeight:r};if(!l&&R>=t||l&&C>=t){c&&Ph(a,D,F);var P=l?C-j:R-j;return{placement:"bottom",maxHeight:P}}if(o==="auto"||l){var q=r,z=l?L:T;return z>=t&&(q=Math.min(z-j-h,r)),{placement:"top",maxHeight:q}}if(o==="bottom")return c&&Cf(a,D),{placement:"bottom",maxHeight:r};break;case"top":if(L>=b)return{placement:"top",maxHeight:r};if(T>=b&&!l)return c&&Ph(a,k,F),{placement:"top",maxHeight:r};if(!l&&T>=t||l&&L>=t){var H=r;return(!l&&T>=t||l&&L>=t)&&(H=l?L-A:T-A),c&&Ph(a,k,F),{placement:"top",maxHeight:H}}return{placement:"bottom",maxHeight:r};default:throw new Error('Invalid placement provided "'.concat(o,'".'))}return d}function x5(s){var r={bottom:"top",top:"bottom"};return s?r[s]:"bottom"}var mE=function(r){return r==="auto"?"bottom":r},S5=function(r,n){var t,o=r.placement,c=r.theme,l=c.borderRadius,h=c.spacing,a=c.colors;return Gt((t={label:"menu"},Fc(t,x5(o),"100%"),Fc(t,"position","absolute"),Fc(t,"width","100%"),Fc(t,"zIndex",1),t),n?{}:{backgroundColor:a.neutral0,borderRadius:l,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:h.menuGutter,marginTop:h.menuGutter})},gE=Te.createContext(null),j5=function(r){var n=r.children,t=r.minMenuHeight,o=r.maxMenuHeight,c=r.menuPlacement,l=r.menuPosition,h=r.menuShouldScrollIntoView,a=r.theme,d=Te.useContext(gE)||{},_=d.setPortalPlacement,w=Te.useRef(null),f=Te.useState(o),p=No(f,2),b=p[0],y=p[1],m=Te.useState(null),g=No(m,2),v=g[0],S=g[1],j=a.spacing.controlHeight;return py(function(){var A=w.current;if(A){var L=l==="fixed",C=h&&!L,T=w5({maxHeight:o,menuEl:A,minHeight:t,placement:c,shouldScroll:C,isFixedPosition:L,controlHeight:j});y(T.maxHeight),S(T.placement),_==null||_(T.placement)}},[o,c,l,h,t,_,j]),n({ref:w,placerProps:Gt(Gt({},r),{},{placement:v||mE(c),maxHeight:b})})},E5=function(r){var n=r.children,t=r.innerRef,o=r.innerProps;return Ft("div",Ht({},cn(r,"menu",{menu:!0}),{ref:t},o),n)},T5=E5,C5=function(r,n){var t=r.maxHeight,o=r.theme.spacing.baseUnit;return Gt({maxHeight:t,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},n?{}:{paddingBottom:o,paddingTop:o})},A5=function(r){var n=r.children,t=r.innerProps,o=r.innerRef,c=r.isMulti;return Ft("div",Ht({},cn(r,"menuList",{"menu-list":!0,"menu-list--is-multi":c}),{ref:o},t),n)},yE=function(r,n){var t=r.theme,o=t.spacing.baseUnit,c=t.colors;return Gt({textAlign:"center"},n?{}:{color:c.neutral40,padding:"".concat(o*2,"px ").concat(o*3,"px")})},R5=yE,O5=yE,I5=function(r){var n=r.children,t=n===void 0?"No options":n,o=r.innerProps,c=qo(r,b5);return Ft("div",Ht({},cn(Gt(Gt({},c),{},{children:t,innerProps:o}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),o),t)},k5=function(r){var n=r.children,t=n===void 0?"Loading...":n,o=r.innerProps,c=qo(r,_5);return Ft("div",Ht({},cn(Gt(Gt({},c),{},{children:t,innerProps:o}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),o),t)},M5=function(r){var n=r.rect,t=r.offset,o=r.position;return{left:n.left,position:o,top:t,width:n.width,zIndex:1}},P5=function(r){var n=r.appendTo,t=r.children,o=r.controlElement,c=r.innerProps,l=r.menuPlacement,h=r.menuPosition,a=Te.useRef(null),d=Te.useRef(null),_=Te.useState(mE(l)),w=No(_,2),f=w[0],p=w[1],b=Te.useMemo(function(){return{setPortalPlacement:p}},[]),y=Te.useState(null),m=No(y,2),g=m[0],v=m[1],S=Te.useCallback(function(){if(o){var C=h5(o),T=h==="fixed"?0:window.pageYOffset,R=C[f]+T;(R!==(g==null?void 0:g.offset)||C.left!==(g==null?void 0:g.rect.left)||C.width!==(g==null?void 0:g.rect.width))&&v({offset:R,rect:C})}},[o,h,f,g==null?void 0:g.offset,g==null?void 0:g.rect.left,g==null?void 0:g.rect.width]);py(function(){S()},[S]);var j=Te.useCallback(function(){typeof d.current=="function"&&(d.current(),d.current=null),o&&a.current&&(d.current=i5(o,a.current,S,{elementResize:"ResizeObserver"in window}))},[o,S]);py(function(){j()},[j]);var A=Te.useCallback(function(C){a.current=C,j()},[j]);if(!n&&h!=="fixed"||!g)return null;var L=Ft("div",Ht({ref:A},cn(Gt(Gt({},r),{},{offset:g.offset,position:h,rect:g.rect}),"menuPortal",{"menu-portal":!0}),c),t);return Ft(gE.Provider,{value:b},n?TC.createPortal(L,n):L)},D5=function(r){var n=r.isDisabled,t=r.isRtl;return{label:"container",direction:t?"rtl":void 0,pointerEvents:n?"none":void 0,position:"relative"}},L5=function(r){var n=r.children,t=r.innerProps,o=r.isDisabled,c=r.isRtl;return Ft("div",Ht({},cn(r,"container",{"--is-disabled":o,"--is-rtl":c}),t),n)},N5=function(r,n){var t=r.theme.spacing,o=r.isMulti,c=r.hasValue,l=r.selectProps.controlShouldRenderValue;return Gt({alignItems:"center",display:o&&c&&l?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},n?{}:{padding:"".concat(t.baseUnit/2,"px ").concat(t.baseUnit*2,"px")})},U5=function(r){var n=r.children,t=r.innerProps,o=r.isMulti,c=r.hasValue;return Ft("div",Ht({},cn(r,"valueContainer",{"value-container":!0,"value-container--is-multi":o,"value-container--has-value":c}),t),n)},F5=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},V5=function(r){var n=r.children,t=r.innerProps;return Ft("div",Ht({},cn(r,"indicatorsContainer",{indicators:!0}),t),n)},Kw,B5=["size"],G5=["innerProps","isRtl","size"],z5={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},vE=function(r){var n=r.size,t=qo(r,B5);return Ft("svg",Ht({height:n,width:n,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:z5},t))},Gv=function(r){return Ft(vE,Ht({size:20},r),Ft("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},bE=function(r){return Ft(vE,Ht({size:20},r),Ft("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},_E=function(r,n){var t=r.isFocused,o=r.theme,c=o.spacing.baseUnit,l=o.colors;return Gt({label:"indicatorContainer",display:"flex",transition:"color 150ms"},n?{}:{color:t?l.neutral60:l.neutral20,padding:c*2,":hover":{color:t?l.neutral80:l.neutral40}})},H5=_E,q5=function(r){var n=r.children,t=r.innerProps;return Ft("div",Ht({},cn(r,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),t),n||Ft(bE,null))},W5=_E,Y5=function(r){var n=r.children,t=r.innerProps;return Ft("div",Ht({},cn(r,"clearIndicator",{indicator:!0,"clear-indicator":!0}),t),n||Ft(Gv,null))},X5=function(r,n){var t=r.isDisabled,o=r.theme,c=o.spacing.baseUnit,l=o.colors;return Gt({label:"indicatorSeparator",alignSelf:"stretch",width:1},n?{}:{backgroundColor:t?l.neutral10:l.neutral20,marginBottom:c*2,marginTop:c*2})},$5=function(r){var n=r.innerProps;return Ft("span",Ht({},n,cn(r,"indicatorSeparator",{"indicator-separator":!0})))},K5=qN(Kw||(Kw=WN([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),Q5=function(r,n){var t=r.isFocused,o=r.size,c=r.theme,l=c.colors,h=c.spacing.baseUnit;return Gt({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:o,lineHeight:1,marginRight:o,textAlign:"center",verticalAlign:"middle"},n?{}:{color:t?l.neutral60:l.neutral20,padding:h*2})},wg=function(r){var n=r.delay,t=r.offset;return Ft("span",{css:Uv({animation:"".concat(K5," 1s ease-in-out ").concat(n,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:t?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},Z5=function(r){var n=r.innerProps,t=r.isRtl,o=r.size,c=o===void 0?4:o,l=qo(r,G5);return Ft("div",Ht({},cn(Gt(Gt({},l),{},{innerProps:n,isRtl:t,size:c}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),n),Ft(wg,{delay:0,offset:t}),Ft(wg,{delay:160,offset:!0}),Ft(wg,{delay:320,offset:!t}))},J5=function(r,n){var t=r.isDisabled,o=r.isFocused,c=r.theme,l=c.colors,h=c.borderRadius,a=c.spacing;return Gt({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:a.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},n?{}:{backgroundColor:t?l.neutral5:l.neutral0,borderColor:t?l.neutral10:o?l.primary:l.neutral20,borderRadius:h,borderStyle:"solid",borderWidth:1,boxShadow:o?"0 0 0 1px ".concat(l.primary):void 0,"&:hover":{borderColor:o?l.primary:l.neutral30}})},e6=function(r){var n=r.children,t=r.isDisabled,o=r.isFocused,c=r.innerRef,l=r.innerProps,h=r.menuIsOpen;return Ft("div",Ht({ref:c},cn(r,"control",{control:!0,"control--is-disabled":t,"control--is-focused":o,"control--menu-is-open":h}),l,{"aria-disabled":t||void 0}),n)},t6=e6,r6=["data"],n6=function(r,n){var t=r.theme.spacing;return n?{}:{paddingBottom:t.baseUnit*2,paddingTop:t.baseUnit*2}},s6=function(r){var n=r.children,t=r.cx,o=r.getStyles,c=r.getClassNames,l=r.Heading,h=r.headingProps,a=r.innerProps,d=r.label,_=r.theme,w=r.selectProps;return Ft("div",Ht({},cn(r,"group",{group:!0}),a),Ft(l,Ht({},h,{selectProps:w,theme:_,getStyles:o,getClassNames:c,cx:t}),d),Ft("div",null,n))},i6=function(r,n){var t=r.theme,o=t.colors,c=t.spacing;return Gt({label:"group",cursor:"default",display:"block"},n?{}:{color:o.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:c.baseUnit*3,paddingRight:c.baseUnit*3,textTransform:"uppercase"})},o6=function(r){var n=hE(r);n.data;var t=qo(n,r6);return Ft("div",Ht({},cn(r,"groupHeading",{"group-heading":!0}),t))},a6=s6,l6=["innerRef","isDisabled","isHidden","inputClassName"],u6=function(r,n){var t=r.isDisabled,o=r.value,c=r.theme,l=c.spacing,h=c.colors;return Gt(Gt({visibility:t?"hidden":"visible",transform:o?"translateZ(0)":""},c6),n?{}:{margin:l.baseUnit/2,paddingBottom:l.baseUnit/2,paddingTop:l.baseUnit/2,color:h.neutral80})},wE={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},c6={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":Gt({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},wE)},d6=function(r){return Gt({label:"input",color:"inherit",background:0,opacity:r?0:1,width:"100%"},wE)},h6=function(r){var n=r.cx,t=r.value,o=hE(r),c=o.innerRef,l=o.isDisabled,h=o.isHidden,a=o.inputClassName,d=qo(o,l6);return Ft("div",Ht({},cn(r,"input",{"input-container":!0}),{"data-value":t||""}),Ft("input",Ht({className:n({input:!0},a),ref:c,style:d6(h),disabled:l},d)))},f6=h6,p6=function(r,n){var t=r.theme,o=t.spacing,c=t.borderRadius,l=t.colors;return Gt({label:"multiValue",display:"flex",minWidth:0},n?{}:{backgroundColor:l.neutral10,borderRadius:c/2,margin:o.baseUnit/2})},m6=function(r,n){var t=r.theme,o=t.borderRadius,c=t.colors,l=r.cropWithEllipsis;return Gt({overflow:"hidden",textOverflow:l||l===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},n?{}:{borderRadius:o/2,color:c.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},g6=function(r,n){var t=r.theme,o=t.spacing,c=t.borderRadius,l=t.colors,h=r.isFocused;return Gt({alignItems:"center",display:"flex"},n?{}:{borderRadius:c/2,backgroundColor:h?l.dangerLight:void 0,paddingLeft:o.baseUnit,paddingRight:o.baseUnit,":hover":{backgroundColor:l.dangerLight,color:l.danger}})},xE=function(r){var n=r.children,t=r.innerProps;return Ft("div",t,n)},y6=xE,v6=xE;function b6(s){var r=s.children,n=s.innerProps;return Ft("div",Ht({role:"button"},n),r||Ft(Gv,{size:14}))}var _6=function(r){var n=r.children,t=r.components,o=r.data,c=r.innerProps,l=r.isDisabled,h=r.removeProps,a=r.selectProps,d=t.Container,_=t.Label,w=t.Remove;return Ft(d,{data:o,innerProps:Gt(Gt({},cn(r,"multiValue",{"multi-value":!0,"multi-value--is-disabled":l})),c),selectProps:a},Ft(_,{data:o,innerProps:Gt({},cn(r,"multiValueLabel",{"multi-value__label":!0})),selectProps:a},n),Ft(w,{data:o,innerProps:Gt(Gt({},cn(r,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(n||"option")},h),selectProps:a}))},w6=_6,x6=function(r,n){var t=r.isDisabled,o=r.isFocused,c=r.isSelected,l=r.theme,h=l.spacing,a=l.colors;return Gt({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},n?{}:{backgroundColor:c?a.primary:o?a.primary25:"transparent",color:t?a.neutral20:c?a.neutral0:"inherit",padding:"".concat(h.baseUnit*2,"px ").concat(h.baseUnit*3,"px"),":active":{backgroundColor:t?void 0:c?a.primary:a.primary50}})},S6=function(r){var n=r.children,t=r.isDisabled,o=r.isFocused,c=r.isSelected,l=r.innerRef,h=r.innerProps;return Ft("div",Ht({},cn(r,"option",{option:!0,"option--is-disabled":t,"option--is-focused":o,"option--is-selected":c}),{ref:l,"aria-disabled":t},h),n)},j6=S6,E6=function(r,n){var t=r.theme,o=t.spacing,c=t.colors;return Gt({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},n?{}:{color:c.neutral50,marginLeft:o.baseUnit/2,marginRight:o.baseUnit/2})},T6=function(r){var n=r.children,t=r.innerProps;return Ft("div",Ht({},cn(r,"placeholder",{placeholder:!0}),t),n)},C6=T6,A6=function(r,n){var t=r.isDisabled,o=r.theme,c=o.spacing,l=o.colors;return Gt({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n?{}:{color:t?l.neutral40:l.neutral80,marginLeft:c.baseUnit/2,marginRight:c.baseUnit/2})},R6=function(r){var n=r.children,t=r.isDisabled,o=r.innerProps;return Ft("div",Ht({},cn(r,"singleValue",{"single-value":!0,"single-value--is-disabled":t}),o),n)},O6=R6,I6={ClearIndicator:Y5,Control:t6,DropdownIndicator:q5,DownChevron:bE,CrossIcon:Gv,Group:a6,GroupHeading:o6,IndicatorsContainer:V5,IndicatorSeparator:$5,Input:f6,LoadingIndicator:Z5,Menu:T5,MenuList:A5,MenuPortal:P5,LoadingMessage:k5,NoOptionsMessage:I5,MultiValue:w6,MultiValueContainer:y6,MultiValueLabel:v6,MultiValueRemove:b6,Option:j6,Placeholder:C6,SelectContainer:L5,SingleValue:O6,ValueContainer:U5},k6=function(r){return Gt(Gt({},I6),r.components)},Qw=Number.isNaN||function(r){return typeof r=="number"&&r!==r};function M6(s,r){return!!(s===r||Qw(s)&&Qw(r))}function P6(s,r){if(s.length!==r.length)return!1;for(var n=0;n<s.length;n++)if(!M6(s[n],r[n]))return!1;return!0}function D6(s,r){r===void 0&&(r=P6);var n=null;function t(){for(var o=[],c=0;c<arguments.length;c++)o[c]=arguments[c];if(n&&n.lastThis===this&&r(o,n.lastArgs))return n.lastResult;var l=s.apply(this,o);return n={lastResult:l,lastArgs:o,lastThis:this},l}return t.clear=function(){n=null},t}var L6={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},N6=function(r){return Ft("span",Ht({css:L6},r))},Zw=N6,U6={guidance:function(r){var n=r.isSearchable,t=r.isMulti,o=r.tabSelectsValue,c=r.context,l=r.isInitialFocus;switch(c){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(o?", press Tab to select the option and exit the menu":"",".");case"input":return l?"".concat(r["aria-label"]||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(t?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(r){var n=r.action,t=r.label,o=t===void 0?"":t,c=r.labels,l=r.isDisabled;switch(n){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(o,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(c.length>1?"s":""," ").concat(c.join(","),", selected.");case"select-option":return l?"option ".concat(o," is disabled. Select another option."):"option ".concat(o,", selected.");default:return""}},onFocus:function(r){var n=r.context,t=r.focused,o=r.options,c=r.label,l=c===void 0?"":c,h=r.selectValue,a=r.isDisabled,d=r.isSelected,_=r.isAppleDevice,w=function(y,m){return y&&y.length?"".concat(y.indexOf(m)+1," of ").concat(y.length):""};if(n==="value"&&h)return"value ".concat(l," focused, ").concat(w(h,t),".");if(n==="menu"&&_){var f=a?" disabled":"",p="".concat(d?" selected":"").concat(f);return"".concat(l).concat(p,", ").concat(w(o,t),".")}return""},onFilter:function(r){var n=r.inputValue,t=r.resultsMessage;return"".concat(t).concat(n?" for search term "+n:"",".")}},F6=function(r){var n=r.ariaSelection,t=r.focusedOption,o=r.focusedValue,c=r.focusableOptions,l=r.isFocused,h=r.selectValue,a=r.selectProps,d=r.id,_=r.isAppleDevice,w=a.ariaLiveMessages,f=a.getOptionLabel,p=a.inputValue,b=a.isMulti,y=a.isOptionDisabled,m=a.isSearchable,g=a.menuIsOpen,v=a.options,S=a.screenReaderStatus,j=a.tabSelectsValue,A=a.isLoading,L=a["aria-label"],C=a["aria-live"],T=Te.useMemo(function(){return Gt(Gt({},U6),w||{})},[w]),R=Te.useMemo(function(){var z="";if(n&&T.onChange){var H=n.option,Q=n.options,J=n.removedValue,Z=n.removedValues,K=n.value,se=function(ce){return Array.isArray(ce)?null:ce},le=J||H||se(K),M=le?f(le):"",G=Q||Z||void 0,X=G?G.map(f):[],ee=Gt({isDisabled:le&&y(le,h),label:M,labels:X},n);z=T.onChange(ee)}return z},[n,T,y,h,f]),D=Te.useMemo(function(){var z="",H=t||o,Q=!!(t&&h&&h.includes(t));if(H&&T.onFocus){var J={focused:H,label:f(H),isDisabled:y(H,h),isSelected:Q,options:c,context:H===t?"menu":"value",selectValue:h,isAppleDevice:_};z=T.onFocus(J)}return z},[t,o,f,y,T,c,h,_]),k=Te.useMemo(function(){var z="";if(g&&v.length&&!A&&T.onFilter){var H=S({count:c.length});z=T.onFilter({inputValue:p,resultsMessage:H})}return z},[c,p,g,T,v,S,A]),F=(n==null?void 0:n.action)==="initial-input-focus",P=Te.useMemo(function(){var z="";if(T.guidance){var H=o?"value":g?"menu":"input";z=T.guidance({"aria-label":L,context:H,isDisabled:t&&y(t,h),isMulti:b,isSearchable:m,tabSelectsValue:j,isInitialFocus:F})}return z},[L,t,o,b,y,m,g,T,h,j,F]),q=Ft(Te.Fragment,null,Ft("span",{id:"aria-selection"},R),Ft("span",{id:"aria-focused"},D),Ft("span",{id:"aria-results"},k),Ft("span",{id:"aria-guidance"},P));return Ft(Te.Fragment,null,Ft(Zw,{id:d},F&&q),Ft(Zw,{"aria-live":C,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},l&&!F&&q))},V6=F6,my=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],B6=new RegExp("["+my.map(function(s){return s.letters}).join("")+"]","g"),SE={};for(var xg=0;xg<my.length;xg++)for(var Sg=my[xg],jg=0;jg<Sg.letters.length;jg++)SE[Sg.letters[jg]]=Sg.base;var jE=function(r){return r.replace(B6,function(n){return SE[n]})},G6=D6(jE),Jw=function(r){return r.replace(/^\s+|\s+$/g,"")},z6=function(r){return"".concat(r.label," ").concat(r.value)},H6=function(r){return function(n,t){if(n.data.__isNew__)return!0;var o=Gt({ignoreCase:!0,ignoreAccents:!0,stringify:z6,trim:!0,matchFrom:"any"},r),c=o.ignoreCase,l=o.ignoreAccents,h=o.stringify,a=o.trim,d=o.matchFrom,_=a?Jw(t):t,w=a?Jw(h(n)):h(n);return c&&(_=_.toLowerCase(),w=w.toLowerCase()),l&&(_=G6(_),w=jE(w)),d==="start"?w.substr(0,_.length)===_:w.indexOf(_)>-1}},q6=["innerRef"];function W6(s){var r=s.innerRef,n=qo(s,q6),t=v5(n,"onExited","in","enter","exit","appear");return Ft("input",Ht({ref:r},t,{css:Uv({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var Y6=function(r){r.cancelable&&r.preventDefault(),r.stopPropagation()};function X6(s){var r=s.isEnabled,n=s.onBottomArrive,t=s.onBottomLeave,o=s.onTopArrive,c=s.onTopLeave,l=Te.useRef(!1),h=Te.useRef(!1),a=Te.useRef(0),d=Te.useRef(null),_=Te.useCallback(function(m,g){if(d.current!==null){var v=d.current,S=v.scrollTop,j=v.scrollHeight,A=v.clientHeight,L=d.current,C=g>0,T=j-A-S,R=!1;T>g&&l.current&&(t&&t(m),l.current=!1),C&&h.current&&(c&&c(m),h.current=!1),C&&g>T?(n&&!l.current&&n(m),L.scrollTop=j,R=!0,l.current=!0):!C&&-g>S&&(o&&!h.current&&o(m),L.scrollTop=0,R=!0,h.current=!0),R&&Y6(m)}},[n,t,o,c]),w=Te.useCallback(function(m){_(m,m.deltaY)},[_]),f=Te.useCallback(function(m){a.current=m.changedTouches[0].clientY},[]),p=Te.useCallback(function(m){var g=a.current-m.changedTouches[0].clientY;_(m,g)},[_]),b=Te.useCallback(function(m){if(m){var g=m5?{passive:!1}:!1;m.addEventListener("wheel",w,g),m.addEventListener("touchstart",f,g),m.addEventListener("touchmove",p,g)}},[p,f,w]),y=Te.useCallback(function(m){m&&(m.removeEventListener("wheel",w,!1),m.removeEventListener("touchstart",f,!1),m.removeEventListener("touchmove",p,!1))},[p,f,w]);return Te.useEffect(function(){if(r){var m=d.current;return b(m),function(){y(m)}}},[r,b,y]),function(m){d.current=m}}var ex=["boxSizing","height","overflow","paddingRight","position"],tx={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function rx(s){s.cancelable&&s.preventDefault()}function nx(s){s.stopPropagation()}function sx(){var s=this.scrollTop,r=this.scrollHeight,n=s+this.offsetHeight;s===0?this.scrollTop=1:n===r&&(this.scrollTop=s-1)}function ix(){return"ontouchstart"in window||navigator.maxTouchPoints}var ox=!!(typeof window<"u"&&window.document&&window.document.createElement),Ac=0,du={capture:!1,passive:!1};function $6(s){var r=s.isEnabled,n=s.accountForScrollbars,t=n===void 0?!0:n,o=Te.useRef({}),c=Te.useRef(null),l=Te.useCallback(function(a){if(ox){var d=document.body,_=d&&d.style;if(t&&ex.forEach(function(b){var y=_&&_[b];o.current[b]=y}),t&&Ac<1){var w=parseInt(o.current.paddingRight,10)||0,f=document.body?document.body.clientWidth:0,p=window.innerWidth-f+w||0;Object.keys(tx).forEach(function(b){var y=tx[b];_&&(_[b]=y)}),_&&(_.paddingRight="".concat(p,"px"))}d&&ix()&&(d.addEventListener("touchmove",rx,du),a&&(a.addEventListener("touchstart",sx,du),a.addEventListener("touchmove",nx,du))),Ac+=1}},[t]),h=Te.useCallback(function(a){if(ox){var d=document.body,_=d&&d.style;Ac=Math.max(Ac-1,0),t&&Ac<1&&ex.forEach(function(w){var f=o.current[w];_&&(_[w]=f)}),d&&ix()&&(d.removeEventListener("touchmove",rx,du),a&&(a.removeEventListener("touchstart",sx,du),a.removeEventListener("touchmove",nx,du)))}},[t]);return Te.useEffect(function(){if(r){var a=c.current;return l(a),function(){h(a)}}},[r,l,h]),function(a){c.current=a}}var K6=function(r){var n=r.target;return n.ownerDocument.activeElement&&n.ownerDocument.activeElement.blur()},Q6={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function Z6(s){var r=s.children,n=s.lockEnabled,t=s.captureEnabled,o=t===void 0?!0:t,c=s.onBottomArrive,l=s.onBottomLeave,h=s.onTopArrive,a=s.onTopLeave,d=X6({isEnabled:o,onBottomArrive:c,onBottomLeave:l,onTopArrive:h,onTopLeave:a}),_=$6({isEnabled:n}),w=function(p){d(p),_(p)};return Ft(Te.Fragment,null,n&&Ft("div",{onClick:K6,css:Q6}),r(w))}var J6={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},eU=function(r){var n=r.name,t=r.onFocus;return Ft("input",{required:!0,name:n,tabIndex:-1,"aria-hidden":"true",onFocus:t,css:J6,value:"",onChange:function(){}})},tU=eU;function zv(s){var r;return typeof window<"u"&&window.navigator!=null?s.test(((r=window.navigator.userAgentData)===null||r===void 0?void 0:r.platform)||window.navigator.platform):!1}function rU(){return zv(/^iPhone/i)}function EE(){return zv(/^Mac/i)}function nU(){return zv(/^iPad/i)||EE()&&navigator.maxTouchPoints>1}function sU(){return rU()||nU()}function iU(){return EE()||sU()}var oU=function(r){return r.label},aU=function(r){return r.label},lU=function(r){return r.value},uU=function(r){return!!r.isDisabled},cU={clearIndicator:W5,container:D5,control:J5,dropdownIndicator:H5,group:n6,groupHeading:i6,indicatorsContainer:F5,indicatorSeparator:X5,input:u6,loadingIndicator:Q5,loadingMessage:O5,menu:S5,menuList:C5,menuPortal:M5,multiValue:p6,multiValueLabel:m6,multiValueRemove:g6,noOptionsMessage:R5,option:x6,placeholder:E6,singleValue:A6,valueContainer:N5},dU={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},hU=4,TE=4,fU=38,pU=TE*2,mU={baseUnit:TE,controlHeight:fU,menuGutter:pU},Eg={borderRadius:hU,colors:dU,spacing:mU},gU={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:$w(),captureMenuScroll:!$w(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:H6(),formatGroupLabel:oU,getOptionLabel:aU,getOptionValue:lU,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:uU,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!f5(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(r){var n=r.count;return"".concat(n," result").concat(n!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function ax(s,r,n,t){var o=RE(s,r,n),c=OE(s,r,n),l=AE(s,r),h=Af(s,r);return{type:"option",data:r,isDisabled:o,isSelected:c,label:l,value:h,index:t}}function Zh(s,r){return s.options.map(function(n,t){if("options"in n){var o=n.options.map(function(l,h){return ax(s,l,r,h)}).filter(function(l){return ux(s,l)});return o.length>0?{type:"group",data:n,options:o,index:t}:void 0}var c=ax(s,n,r,t);return ux(s,c)?c:void 0}).filter(g5)}function CE(s){return s.reduce(function(r,n){return n.type==="group"?r.push.apply(r,Mv(n.options.map(function(t){return t.data}))):r.push(n.data),r},[])}function lx(s,r){return s.reduce(function(n,t){return t.type==="group"?n.push.apply(n,Mv(t.options.map(function(o){return{data:o.data,id:"".concat(r,"-").concat(t.index,"-").concat(o.index)}}))):n.push({data:t.data,id:"".concat(r,"-").concat(t.index)}),n},[])}function yU(s,r){return CE(Zh(s,r))}function ux(s,r){var n=s.inputValue,t=n===void 0?"":n,o=r.data,c=r.isSelected,l=r.label,h=r.value;return(!kE(s)||!c)&&IE(s,{label:l,value:h,data:o},t)}function vU(s,r){var n=s.focusedValue,t=s.selectValue,o=t.indexOf(n);if(o>-1){var c=r.indexOf(n);if(c>-1)return n;if(o<r.length)return r[o]}return null}function bU(s,r){var n=s.focusedOption;return n&&r.indexOf(n)>-1?n:r[0]}var Tg=function(r,n){var t,o=(t=r.find(function(c){return c.data===n}))===null||t===void 0?void 0:t.id;return o||null},AE=function(r,n){return r.getOptionLabel(n)},Af=function(r,n){return r.getOptionValue(n)};function RE(s,r,n){return typeof s.isOptionDisabled=="function"?s.isOptionDisabled(r,n):!1}function OE(s,r,n){if(n.indexOf(r)>-1)return!0;if(typeof s.isOptionSelected=="function")return s.isOptionSelected(r,n);var t=Af(s,r);return n.some(function(o){return Af(s,o)===t})}function IE(s,r,n){return s.filterOption?s.filterOption(r,n):!0}var kE=function(r){var n=r.hideSelectedOptions,t=r.isMulti;return n===void 0?t:n},_U=1,ME=function(s){UL(n,s);var r=BL(n);function n(t){var o;if(LL(this,n),o=r.call(this,t),o.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},o.blockOptionHover=!1,o.isComposing=!1,o.commonProps=void 0,o.initialTouchX=0,o.initialTouchY=0,o.openAfterFocus=!1,o.scrollToFocusedOptionOnUpdate=!1,o.userIsDragging=void 0,o.isAppleDevice=iU(),o.controlRef=null,o.getControlRef=function(a){o.controlRef=a},o.focusedOptionRef=null,o.getFocusedOptionRef=function(a){o.focusedOptionRef=a},o.menuListRef=null,o.getMenuListRef=function(a){o.menuListRef=a},o.inputRef=null,o.getInputRef=function(a){o.inputRef=a},o.focus=o.focusInput,o.blur=o.blurInput,o.onChange=function(a,d){var _=o.props,w=_.onChange,f=_.name;d.name=f,o.ariaOnChange(a,d),w(a,d)},o.setValue=function(a,d,_){var w=o.props,f=w.closeMenuOnSelect,p=w.isMulti,b=w.inputValue;o.onInputChange("",{action:"set-value",prevInputValue:b}),f&&(o.setState({inputIsHiddenAfterUpdate:!p}),o.onMenuClose()),o.setState({clearFocusValueOnUpdate:!0}),o.onChange(a,{action:d,option:_})},o.selectOption=function(a){var d=o.props,_=d.blurInputOnSelect,w=d.isMulti,f=d.name,p=o.state.selectValue,b=w&&o.isOptionSelected(a,p),y=o.isOptionDisabled(a,p);if(b){var m=o.getOptionValue(a);o.setValue(p.filter(function(g){return o.getOptionValue(g)!==m}),"deselect-option",a)}else if(!y)w?o.setValue([].concat(Mv(p),[a]),"select-option",a):o.setValue(a,"select-option");else{o.ariaOnChange(a,{action:"select-option",option:a,name:f});return}_&&o.blurInput()},o.removeValue=function(a){var d=o.props.isMulti,_=o.state.selectValue,w=o.getOptionValue(a),f=_.filter(function(b){return o.getOptionValue(b)!==w}),p=Lh(d,f,f[0]||null);o.onChange(p,{action:"remove-value",removedValue:a}),o.focusInput()},o.clearValue=function(){var a=o.state.selectValue;o.onChange(Lh(o.props.isMulti,[],null),{action:"clear",removedValues:a})},o.popValue=function(){var a=o.props.isMulti,d=o.state.selectValue,_=d[d.length-1],w=d.slice(0,d.length-1),f=Lh(a,w,w[0]||null);_&&o.onChange(f,{action:"pop-value",removedValue:_})},o.getFocusedOptionId=function(a){return Tg(o.state.focusableOptionsWithIds,a)},o.getFocusableOptionsWithIds=function(){return lx(Zh(o.props,o.state.selectValue),o.getElementId("option"))},o.getValue=function(){return o.state.selectValue},o.cx=function(){for(var a=arguments.length,d=new Array(a),_=0;_<a;_++)d[_]=arguments[_];return l5.apply(void 0,[o.props.classNamePrefix].concat(d))},o.getOptionLabel=function(a){return AE(o.props,a)},o.getOptionValue=function(a){return Af(o.props,a)},o.getStyles=function(a,d){var _=o.props.unstyled,w=cU[a](d,_);w.boxSizing="border-box";var f=o.props.styles[a];return f?f(w,d):w},o.getClassNames=function(a,d){var _,w;return(_=(w=o.props.classNames)[a])===null||_===void 0?void 0:_.call(w,d)},o.getElementId=function(a){return"".concat(o.state.instancePrefix,"-").concat(a)},o.getComponents=function(){return k6(o.props)},o.buildCategorizedOptions=function(){return Zh(o.props,o.state.selectValue)},o.getCategorizedOptions=function(){return o.props.menuIsOpen?o.buildCategorizedOptions():[]},o.buildFocusableOptions=function(){return CE(o.buildCategorizedOptions())},o.getFocusableOptions=function(){return o.props.menuIsOpen?o.buildFocusableOptions():[]},o.ariaOnChange=function(a,d){o.setState({ariaSelection:Gt({value:a},d)})},o.onMenuMouseDown=function(a){a.button===0&&(a.stopPropagation(),a.preventDefault(),o.focusInput())},o.onMenuMouseMove=function(a){o.blockOptionHover=!1},o.onControlMouseDown=function(a){if(!a.defaultPrevented){var d=o.props.openMenuOnClick;o.state.isFocused?o.props.menuIsOpen?a.target.tagName!=="INPUT"&&a.target.tagName!=="TEXTAREA"&&o.onMenuClose():d&&o.openMenu("first"):(d&&(o.openAfterFocus=!0),o.focusInput()),a.target.tagName!=="INPUT"&&a.target.tagName!=="TEXTAREA"&&a.preventDefault()}},o.onDropdownIndicatorMouseDown=function(a){if(!(a&&a.type==="mousedown"&&a.button!==0)&&!o.props.isDisabled){var d=o.props,_=d.isMulti,w=d.menuIsOpen;o.focusInput(),w?(o.setState({inputIsHiddenAfterUpdate:!_}),o.onMenuClose()):o.openMenu("first"),a.preventDefault()}},o.onClearIndicatorMouseDown=function(a){a&&a.type==="mousedown"&&a.button!==0||(o.clearValue(),a.preventDefault(),o.openAfterFocus=!1,a.type==="touchend"?o.focusInput():setTimeout(function(){return o.focusInput()}))},o.onScroll=function(a){typeof o.props.closeMenuOnScroll=="boolean"?a.target instanceof HTMLElement&&op(a.target)&&o.props.onMenuClose():typeof o.props.closeMenuOnScroll=="function"&&o.props.closeMenuOnScroll(a)&&o.props.onMenuClose()},o.onCompositionStart=function(){o.isComposing=!0},o.onCompositionEnd=function(){o.isComposing=!1},o.onTouchStart=function(a){var d=a.touches,_=d&&d.item(0);_&&(o.initialTouchX=_.clientX,o.initialTouchY=_.clientY,o.userIsDragging=!1)},o.onTouchMove=function(a){var d=a.touches,_=d&&d.item(0);if(_){var w=Math.abs(_.clientX-o.initialTouchX),f=Math.abs(_.clientY-o.initialTouchY),p=5;o.userIsDragging=w>p||f>p}},o.onTouchEnd=function(a){o.userIsDragging||(o.controlRef&&!o.controlRef.contains(a.target)&&o.menuListRef&&!o.menuListRef.contains(a.target)&&o.blurInput(),o.initialTouchX=0,o.initialTouchY=0)},o.onControlTouchEnd=function(a){o.userIsDragging||o.onControlMouseDown(a)},o.onClearIndicatorTouchEnd=function(a){o.userIsDragging||o.onClearIndicatorMouseDown(a)},o.onDropdownIndicatorTouchEnd=function(a){o.userIsDragging||o.onDropdownIndicatorMouseDown(a)},o.handleInputChange=function(a){var d=o.props.inputValue,_=a.currentTarget.value;o.setState({inputIsHiddenAfterUpdate:!1}),o.onInputChange(_,{action:"input-change",prevInputValue:d}),o.props.menuIsOpen||o.onMenuOpen()},o.onInputFocus=function(a){o.props.onFocus&&o.props.onFocus(a),o.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(o.openAfterFocus||o.props.openMenuOnFocus)&&o.openMenu("first"),o.openAfterFocus=!1},o.onInputBlur=function(a){var d=o.props.inputValue;if(o.menuListRef&&o.menuListRef.contains(document.activeElement)){o.inputRef.focus();return}o.props.onBlur&&o.props.onBlur(a),o.onInputChange("",{action:"input-blur",prevInputValue:d}),o.onMenuClose(),o.setState({focusedValue:null,isFocused:!1})},o.onOptionHover=function(a){if(!(o.blockOptionHover||o.state.focusedOption===a)){var d=o.getFocusableOptions(),_=d.indexOf(a);o.setState({focusedOption:a,focusedOptionId:_>-1?o.getFocusedOptionId(a):null})}},o.shouldHideSelectedOptions=function(){return kE(o.props)},o.onValueInputFocus=function(a){a.preventDefault(),a.stopPropagation(),o.focus()},o.onKeyDown=function(a){var d=o.props,_=d.isMulti,w=d.backspaceRemovesValue,f=d.escapeClearsValue,p=d.inputValue,b=d.isClearable,y=d.isDisabled,m=d.menuIsOpen,g=d.onKeyDown,v=d.tabSelectsValue,S=d.openMenuOnFocus,j=o.state,A=j.focusedOption,L=j.focusedValue,C=j.selectValue;if(!y&&!(typeof g=="function"&&(g(a),a.defaultPrevented))){switch(o.blockOptionHover=!0,a.key){case"ArrowLeft":if(!_||p)return;o.focusValue("previous");break;case"ArrowRight":if(!_||p)return;o.focusValue("next");break;case"Delete":case"Backspace":if(p)return;if(L)o.removeValue(L);else{if(!w)return;_?o.popValue():b&&o.clearValue()}break;case"Tab":if(o.isComposing||a.shiftKey||!m||!v||!A||S&&o.isOptionSelected(A,C))return;o.selectOption(A);break;case"Enter":if(a.keyCode===229)break;if(m){if(!A||o.isComposing)return;o.selectOption(A);break}return;case"Escape":m?(o.setState({inputIsHiddenAfterUpdate:!1}),o.onInputChange("",{action:"menu-close",prevInputValue:p}),o.onMenuClose()):b&&f&&o.clearValue();break;case" ":if(p)return;if(!m){o.openMenu("first");break}if(!A)return;o.selectOption(A);break;case"ArrowUp":m?o.focusOption("up"):o.openMenu("last");break;case"ArrowDown":m?o.focusOption("down"):o.openMenu("first");break;case"PageUp":if(!m)return;o.focusOption("pageup");break;case"PageDown":if(!m)return;o.focusOption("pagedown");break;case"Home":if(!m)return;o.focusOption("first");break;case"End":if(!m)return;o.focusOption("last");break;default:return}a.preventDefault()}},o.state.instancePrefix="react-select-"+(o.props.instanceId||++_U),o.state.selectValue=Yw(t.value),t.menuIsOpen&&o.state.selectValue.length){var c=o.getFocusableOptionsWithIds(),l=o.buildFocusableOptions(),h=l.indexOf(o.state.selectValue[0]);o.state.focusableOptionsWithIds=c,o.state.focusedOption=l[h],o.state.focusedOptionId=Tg(c,l[h])}return o}return NL(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&Xw(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(o){var c=this.props,l=c.isDisabled,h=c.menuIsOpen,a=this.state.isFocused;(a&&!l&&o.isDisabled||a&&h&&!o.menuIsOpen)&&this.focusInput(),a&&l&&!o.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!a&&!l&&o.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(Xw(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(o,c){this.props.onInputChange(o,c)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(o){var c=this,l=this.state,h=l.selectValue,a=l.isFocused,d=this.buildFocusableOptions(),_=o==="first"?0:d.length-1;if(!this.props.isMulti){var w=d.indexOf(h[0]);w>-1&&(_=w)}this.scrollToFocusedOptionOnUpdate=!(a&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:d[_],focusedOptionId:this.getFocusedOptionId(d[_])},function(){return c.onMenuOpen()})}},{key:"focusValue",value:function(o){var c=this.state,l=c.selectValue,h=c.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var a=l.indexOf(h);h||(a=-1);var d=l.length-1,_=-1;if(l.length){switch(o){case"previous":a===0?_=0:a===-1?_=d:_=a-1;break;case"next":a>-1&&a<d&&(_=a+1);break}this.setState({inputIsHidden:_!==-1,focusedValue:l[_]})}}}},{key:"focusOption",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",c=this.props.pageSize,l=this.state.focusedOption,h=this.getFocusableOptions();if(h.length){var a=0,d=h.indexOf(l);l||(d=-1),o==="up"?a=d>0?d-1:h.length-1:o==="down"?a=(d+1)%h.length:o==="pageup"?(a=d-c,a<0&&(a=0)):o==="pagedown"?(a=d+c,a>h.length-1&&(a=h.length-1)):o==="last"&&(a=h.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:h[a],focusedValue:null,focusedOptionId:this.getFocusedOptionId(h[a])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(Eg):Gt(Gt({},Eg),this.props.theme):Eg}},{key:"getCommonProps",value:function(){var o=this.clearValue,c=this.cx,l=this.getStyles,h=this.getClassNames,a=this.getValue,d=this.selectOption,_=this.setValue,w=this.props,f=w.isMulti,p=w.isRtl,b=w.options,y=this.hasValue();return{clearValue:o,cx:c,getStyles:l,getClassNames:h,getValue:a,hasValue:y,isMulti:f,isRtl:p,options:b,selectOption:d,selectProps:w,setValue:_,theme:this.getTheme()}}},{key:"hasValue",value:function(){var o=this.state.selectValue;return o.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var o=this.props,c=o.isClearable,l=o.isMulti;return c===void 0?l:c}},{key:"isOptionDisabled",value:function(o,c){return RE(this.props,o,c)}},{key:"isOptionSelected",value:function(o,c){return OE(this.props,o,c)}},{key:"filterOption",value:function(o,c){return IE(this.props,o,c)}},{key:"formatOptionLabel",value:function(o,c){if(typeof this.props.formatOptionLabel=="function"){var l=this.props.inputValue,h=this.state.selectValue;return this.props.formatOptionLabel(o,{context:c,inputValue:l,selectValue:h})}else return this.getOptionLabel(o)}},{key:"formatGroupLabel",value:function(o){return this.props.formatGroupLabel(o)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var o=this.props,c=o.isDisabled,l=o.isSearchable,h=o.inputId,a=o.inputValue,d=o.tabIndex,_=o.form,w=o.menuIsOpen,f=o.required,p=this.getComponents(),b=p.Input,y=this.state,m=y.inputIsHidden,g=y.ariaSelection,v=this.commonProps,S=h||this.getElementId("input"),j=Gt(Gt(Gt({"aria-autocomplete":"list","aria-expanded":w,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":f,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},w&&{"aria-controls":this.getElementId("listbox")}),!l&&{"aria-readonly":!0}),this.hasValue()?(g==null?void 0:g.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return l?Te.createElement(b,Ht({},v,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:S,innerRef:this.getInputRef,isDisabled:c,isHidden:m,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:d,form:_,type:"text",value:a},j)):Te.createElement(W6,Ht({id:S,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:Tf,onFocus:this.onInputFocus,disabled:c,tabIndex:d,inputMode:"none",form:_,value:""},j))}},{key:"renderPlaceholderOrValue",value:function(){var o=this,c=this.getComponents(),l=c.MultiValue,h=c.MultiValueContainer,a=c.MultiValueLabel,d=c.MultiValueRemove,_=c.SingleValue,w=c.Placeholder,f=this.commonProps,p=this.props,b=p.controlShouldRenderValue,y=p.isDisabled,m=p.isMulti,g=p.inputValue,v=p.placeholder,S=this.state,j=S.selectValue,A=S.focusedValue,L=S.isFocused;if(!this.hasValue()||!b)return g?null:Te.createElement(w,Ht({},f,{key:"placeholder",isDisabled:y,isFocused:L,innerProps:{id:this.getElementId("placeholder")}}),v);if(m)return j.map(function(T,R){var D=T===A,k="".concat(o.getOptionLabel(T),"-").concat(o.getOptionValue(T));return Te.createElement(l,Ht({},f,{components:{Container:h,Label:a,Remove:d},isFocused:D,isDisabled:y,key:k,index:R,removeProps:{onClick:function(){return o.removeValue(T)},onTouchEnd:function(){return o.removeValue(T)},onMouseDown:function(P){P.preventDefault()}},data:T}),o.formatOptionLabel(T,"value"))});if(g)return null;var C=j[0];return Te.createElement(_,Ht({},f,{data:C,isDisabled:y}),this.formatOptionLabel(C,"value"))}},{key:"renderClearIndicator",value:function(){var o=this.getComponents(),c=o.ClearIndicator,l=this.commonProps,h=this.props,a=h.isDisabled,d=h.isLoading,_=this.state.isFocused;if(!this.isClearable()||!c||a||!this.hasValue()||d)return null;var w={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return Te.createElement(c,Ht({},l,{innerProps:w,isFocused:_}))}},{key:"renderLoadingIndicator",value:function(){var o=this.getComponents(),c=o.LoadingIndicator,l=this.commonProps,h=this.props,a=h.isDisabled,d=h.isLoading,_=this.state.isFocused;if(!c||!d)return null;var w={"aria-hidden":"true"};return Te.createElement(c,Ht({},l,{innerProps:w,isDisabled:a,isFocused:_}))}},{key:"renderIndicatorSeparator",value:function(){var o=this.getComponents(),c=o.DropdownIndicator,l=o.IndicatorSeparator;if(!c||!l)return null;var h=this.commonProps,a=this.props.isDisabled,d=this.state.isFocused;return Te.createElement(l,Ht({},h,{isDisabled:a,isFocused:d}))}},{key:"renderDropdownIndicator",value:function(){var o=this.getComponents(),c=o.DropdownIndicator;if(!c)return null;var l=this.commonProps,h=this.props.isDisabled,a=this.state.isFocused,d={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return Te.createElement(c,Ht({},l,{innerProps:d,isDisabled:h,isFocused:a}))}},{key:"renderMenu",value:function(){var o=this,c=this.getComponents(),l=c.Group,h=c.GroupHeading,a=c.Menu,d=c.MenuList,_=c.MenuPortal,w=c.LoadingMessage,f=c.NoOptionsMessage,p=c.Option,b=this.commonProps,y=this.state.focusedOption,m=this.props,g=m.captureMenuScroll,v=m.inputValue,S=m.isLoading,j=m.loadingMessage,A=m.minMenuHeight,L=m.maxMenuHeight,C=m.menuIsOpen,T=m.menuPlacement,R=m.menuPosition,D=m.menuPortalTarget,k=m.menuShouldBlockScroll,F=m.menuShouldScrollIntoView,P=m.noOptionsMessage,q=m.onMenuScrollToTop,z=m.onMenuScrollToBottom;if(!C)return null;var H=function(M,G){var X=M.type,ee=M.data,ae=M.isDisabled,ce=M.isSelected,pe=M.label,ve=M.value,ge=y===ee,Se=ae?void 0:function(){return o.onOptionHover(ee)},xe=ae?void 0:function(){return o.selectOption(ee)},he="".concat(o.getElementId("option"),"-").concat(G),je={id:he,onClick:xe,onMouseMove:Se,onMouseOver:Se,tabIndex:-1,role:"option","aria-selected":o.isAppleDevice?void 0:ce};return Te.createElement(p,Ht({},b,{innerProps:je,data:ee,isDisabled:ae,isSelected:ce,key:he,label:pe,type:X,value:ve,isFocused:ge,innerRef:ge?o.getFocusedOptionRef:void 0}),o.formatOptionLabel(M.data,"menu"))},Q;if(this.hasOptions())Q=this.getCategorizedOptions().map(function(le){if(le.type==="group"){var M=le.data,G=le.options,X=le.index,ee="".concat(o.getElementId("group"),"-").concat(X),ae="".concat(ee,"-heading");return Te.createElement(l,Ht({},b,{key:ee,data:M,options:G,Heading:h,headingProps:{id:ae,data:le.data},label:o.formatGroupLabel(le.data)}),le.options.map(function(ce){return H(ce,"".concat(X,"-").concat(ce.index))}))}else if(le.type==="option")return H(le,"".concat(le.index))});else if(S){var J=j({inputValue:v});if(J===null)return null;Q=Te.createElement(w,b,J)}else{var Z=P({inputValue:v});if(Z===null)return null;Q=Te.createElement(f,b,Z)}var K={minMenuHeight:A,maxMenuHeight:L,menuPlacement:T,menuPosition:R,menuShouldScrollIntoView:F},se=Te.createElement(j5,Ht({},b,K),function(le){var M=le.ref,G=le.placerProps,X=G.placement,ee=G.maxHeight;return Te.createElement(a,Ht({},b,K,{innerRef:M,innerProps:{onMouseDown:o.onMenuMouseDown,onMouseMove:o.onMenuMouseMove},isLoading:S,placement:X}),Te.createElement(Z6,{captureEnabled:g,onTopArrive:q,onBottomArrive:z,lockEnabled:k},function(ae){return Te.createElement(d,Ht({},b,{innerRef:function(pe){o.getMenuListRef(pe),ae(pe)},innerProps:{role:"listbox","aria-multiselectable":b.isMulti,id:o.getElementId("listbox")},isLoading:S,maxHeight:ee,focusedOption:y}),Q)}))});return D||R==="fixed"?Te.createElement(_,Ht({},b,{appendTo:D,controlElement:this.controlRef,menuPlacement:T,menuPosition:R}),se):se}},{key:"renderFormField",value:function(){var o=this,c=this.props,l=c.delimiter,h=c.isDisabled,a=c.isMulti,d=c.name,_=c.required,w=this.state.selectValue;if(_&&!this.hasValue()&&!h)return Te.createElement(tU,{name:d,onFocus:this.onValueInputFocus});if(!(!d||h))if(a)if(l){var f=w.map(function(y){return o.getOptionValue(y)}).join(l);return Te.createElement("input",{name:d,type:"hidden",value:f})}else{var p=w.length>0?w.map(function(y,m){return Te.createElement("input",{key:"i-".concat(m),name:d,type:"hidden",value:o.getOptionValue(y)})}):Te.createElement("input",{name:d,type:"hidden",value:""});return Te.createElement("div",null,p)}else{var b=w[0]?this.getOptionValue(w[0]):"";return Te.createElement("input",{name:d,type:"hidden",value:b})}}},{key:"renderLiveRegion",value:function(){var o=this.commonProps,c=this.state,l=c.ariaSelection,h=c.focusedOption,a=c.focusedValue,d=c.isFocused,_=c.selectValue,w=this.getFocusableOptions();return Te.createElement(V6,Ht({},o,{id:this.getElementId("live-region"),ariaSelection:l,focusedOption:h,focusedValue:a,isFocused:d,selectValue:_,focusableOptions:w,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var o=this.getComponents(),c=o.Control,l=o.IndicatorsContainer,h=o.SelectContainer,a=o.ValueContainer,d=this.props,_=d.className,w=d.id,f=d.isDisabled,p=d.menuIsOpen,b=this.state.isFocused,y=this.commonProps=this.getCommonProps();return Te.createElement(h,Ht({},y,{className:_,innerProps:{id:w,onKeyDown:this.onKeyDown},isDisabled:f,isFocused:b}),this.renderLiveRegion(),Te.createElement(c,Ht({},y,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:f,isFocused:b,menuIsOpen:p}),Te.createElement(a,Ht({},y,{isDisabled:f}),this.renderPlaceholderOrValue(),this.renderInput()),Te.createElement(l,Ht({},y,{isDisabled:f}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(o,c){var l=c.prevProps,h=c.clearFocusValueOnUpdate,a=c.inputIsHiddenAfterUpdate,d=c.ariaSelection,_=c.isFocused,w=c.prevWasFocused,f=c.instancePrefix,p=o.options,b=o.value,y=o.menuIsOpen,m=o.inputValue,g=o.isMulti,v=Yw(b),S={};if(l&&(b!==l.value||p!==l.options||y!==l.menuIsOpen||m!==l.inputValue)){var j=y?yU(o,v):[],A=y?lx(Zh(o,v),"".concat(f,"-option")):[],L=h?vU(c,v):null,C=bU(c,j),T=Tg(A,C);S={selectValue:v,focusedOption:C,focusedOptionId:T,focusableOptionsWithIds:A,focusedValue:L,clearFocusValueOnUpdate:!1}}var R=a!=null&&o!==l?{inputIsHidden:a,inputIsHiddenAfterUpdate:void 0}:{},D=d,k=_&&w;return _&&!k&&(D={value:Lh(g,v,v[0]||null),options:v,action:"initial-input-focus"},k=!w),(d==null?void 0:d.action)==="initial-input-focus"&&(D=null),Gt(Gt(Gt({},S),R),{},{prevProps:o,ariaSelection:D,prevWasFocused:k})}}]),n}(Te.Component);ME.defaultProps=gU;var wU=Te.forwardRef(function(s,r){var n=DL(s);return Te.createElement(ME,Ht({ref:r},n))}),Hv=wU;function Rf(){return Rf=Object.assign?Object.assign.bind():function(s){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(s[t]=n[t])}return s},Rf.apply(this,arguments)}function xU(s,r){if(s==null)return{};var n={},t=Object.keys(s),o,c;for(c=0;c<t.length;c++)o=t[c],!(r.indexOf(o)>=0)&&(n[o]=s[o]);return n}var SU=["cdnSuffix","cdnUrl","countryCode","style","svg"],jU="https://cdn.jsdelivr.net/gh/lipis/flag-icons/flags/4x3/",EU="svg",TU=127397,cx=function(r){var n=r.cdnSuffix,t=n===void 0?EU:n,o=r.cdnUrl,c=o===void 0?jU:o,l=r.countryCode,h=r.style,a=r.svg,d=a===void 0?!1:a,_=xU(r,SU);if(typeof l!="string")return null;if(d){var w=""+c+l.toLowerCase()+"."+t;return Te.createElement("img",Object.assign({},_,{src:w,style:Rf({display:"inline-block",width:"1em",height:"1em",verticalAlign:"middle"},h)}))}var f=l.toUpperCase().replace(/./g,function(p){return String.fromCodePoint(p.charCodeAt(0)+TU)});return Te.createElement("span",Object.assign({role:"img"},_,{style:Rf({display:"inline-block",fontSize:"1em",lineHeight:"1em",verticalAlign:"middle"},h)}),f)};const Cg={AF:{name:"Afghanistan",dial_code:"+93",code:"AF",flag:"🇦🇫"},AL:{name:"Albania",dial_code:"+355",code:"AL",flag:"🇦🇱"},DZ:{name:"Algeria",dial_code:"+213",code:"DZ",flag:"🇩🇿"},AS:{name:"American Samoa",dial_code:"+1684",code:"AS",flag:"🇦🇸"},AD:{name:"Andorra",dial_code:"+376",code:"AD",flag:"🇦🇩"},AO:{name:"Angola",dial_code:"+244",code:"AO",flag:"🇦🇴"},AI:{name:"Anguilla",dial_code:"+1264",code:"AI",flag:"🇦🇮"},AG:{name:"Antigua and Barbuda",dial_code:"+1268",code:"AG",flag:"🇦🇬"},AR:{name:"Argentina",dial_code:"+54",code:"AR",flag:"🇦🇷"},AM:{name:"Armenia",dial_code:"+374",code:"AM",flag:"🇦🇲"},AW:{name:"Aruba",dial_code:"+297",code:"AW",flag:"🇦🇼"},AU:{name:"Australia",dial_code:"+61",code:"AU",flag:"🇦🇺"},AT:{name:"Austria",dial_code:"+43",code:"AT",flag:"🇦🇹"},AZ:{name:"Azerbaijan",dial_code:"+994",code:"AZ",flag:"🇦🇿"},BS:{name:"Bahamas",dial_code:"+1242",code:"BS",flag:"🇧🇸"},BH:{name:"Bahrain",dial_code:"+973",code:"BH",flag:"🇧🇭"},BD:{name:"Bangladesh",dial_code:"+880",code:"BD",flag:"🇧🇩"},BB:{name:"Barbados",dial_code:"+1246",code:"BB",flag:"🇧🇧"},BY:{name:"Belarus",dial_code:"+375",code:"BY",flag:"🇧🇾"},BE:{name:"Belgium",dial_code:"+32",code:"BE",flag:"🇧🇪"},BZ:{name:"Belize",dial_code:"+501",code:"BZ",flag:"🇧🇿"},BJ:{name:"Benin",dial_code:"+229",code:"BJ",flag:"🇧🇯"},BM:{name:"Bermuda",dial_code:"+1441",code:"BM",flag:"🇧🇲"},BT:{name:"Bhutan",dial_code:"+975",code:"BT",flag:"🇧🇹"},BO:{name:"Bolivia",dial_code:"+591",code:"BO",flag:"🇧🇴"},BA:{name:"Bosnia and Herzegovina",dial_code:"+387",code:"BA",flag:"🇧🇦"},BW:{name:"Botswana",dial_code:"+267",code:"BW",flag:"🇧🇼"},BR:{name:"Brazil",dial_code:"+55",code:"BR",flag:"🇧🇷"},IO:{name:"British Indian Ocean Territory",dial_code:"+246",code:"IO",flag:"🇮🇴"},BN:{name:"Brunei Darussalam",dial_code:"+673",code:"BN",flag:"🇧🇳"},BG:{name:"Bulgaria",dial_code:"+359",code:"BG",flag:"🇧🇬"},BF:{name:"Burkina Faso",dial_code:"+226",code:"BF",flag:"🇧🇫"},BI:{name:"Burundi",dial_code:"+257",code:"BI",flag:"🇧🇮"},KH:{name:"Cambodia",dial_code:"+855",code:"KH",flag:"🇰🇭"},CM:{name:"Cameroon",dial_code:"+237",code:"CM",flag:"🇨🇲"},CA:{name:"Canada",dial_code:"+1",code:"CA",flag:"🇨🇦"},CV:{name:"Cape Verde",dial_code:"+238",code:"CV",flag:"🇨🇻"},KY:{name:"Cayman Islands",dial_code:"+1345",code:"KY",flag:"🇰🇾"},CF:{name:"Central African Republic",dial_code:"+236",code:"CF",flag:"🇨🇫"},TD:{name:"Chad",dial_code:"+235",code:"TD",flag:"🇹🇩"},CL:{name:"Chile",dial_code:"+56",code:"CL",flag:"🇨🇱"},CN:{name:"China",dial_code:"+86",code:"CN",flag:"🇨🇳"},CX:{name:"Christmas Island",dial_code:"+61",code:"CX",flag:"🇨🇽"},CC:{name:"Cocos (Keeling) Islands",dial_code:"+61",code:"CC",flag:"🇨🇨"},CO:{name:"Colombia",dial_code:"+57",code:"CO",flag:"🇨🇴"},KM:{name:"Comoros",dial_code:"+269",code:"KM",flag:"🇰🇲"},CG:{name:"Congo",dial_code:"+242",code:"CG",flag:"🇨🇬"},CD:{name:"Congo, The Democratic Republic of the",dial_code:"+243",code:"CD",flag:"🇨🇩"},CK:{name:"Cook Islands",dial_code:"+682",code:"CK",flag:"🇨🇰"},CR:{name:"Costa Rica",dial_code:"+506",code:"CR",flag:"🇨🇷"},CI:{name:"Cote d'Ivoire",dial_code:"+225",code:"CI",flag:"🇨🇮"},HR:{name:"Croatia",dial_code:"+385",code:"HR",flag:"🇭🇷"},CU:{name:"Cuba",dial_code:"+53",code:"CU",flag:"🇨🇺"},CY:{name:"Cyprus",dial_code:"+357",code:"CY",flag:"🇨🇾"},CZ:{name:"Czech Republic",dial_code:"+420",code:"CZ",flag:"🇨🇿"},DK:{name:"Denmark",dial_code:"+45",code:"DK",flag:"🇩🇰"},DJ:{name:"Djibouti",dial_code:"+253",code:"DJ",flag:"🇩🇯"},DM:{name:"Dominica",dial_code:"+1767",code:"DM",flag:"🇩🇲"},DO:{name:"Dominican Republic",dial_code:"+1849",code:"DO",flag:"🇩🇴"},EC:{name:"Ecuador",dial_code:"+593",code:"EC",flag:"🇪🇨"},EG:{name:"Egypt",dial_code:"+20",code:"EG",flag:"🇪🇬"},SV:{name:"El Salvador",dial_code:"+503",code:"SV",flag:"🇸🇻"},GQ:{name:"Equatorial Guinea",dial_code:"+240",code:"GQ",flag:"🇬🇶"},ER:{name:"Eritrea",dial_code:"+291",code:"ER",flag:"🇪🇷"},EE:{name:"Estonia",dial_code:"+372",code:"EE",flag:"🇪🇪"},ET:{name:"Ethiopia",dial_code:"+251",code:"ET",flag:"🇪🇹"},FK:{name:"Falkland Islands (Malvinas)",dial_code:"+500",code:"FK",flag:"🇫🇰"},FO:{name:"Faroe Islands",dial_code:"+298",code:"FO",flag:"🇫🇴"},FJ:{name:"Fiji",dial_code:"+679",code:"FJ",flag:"🇫🇯"},FI:{name:"Finland",dial_code:"+358",code:"FI",flag:"🇫🇮"},FR:{name:"France",dial_code:"+33",code:"FR",flag:"🇫🇷"},GF:{name:"French Guiana",dial_code:"+594",code:"GF",flag:"🇬🇫"},PF:{name:"French Polynesia",dial_code:"+689",code:"PF",flag:"🇵🇫"},GA:{name:"Gabon",dial_code:"+241",code:"GA",flag:"🇬🇦"},GM:{name:"Gambia",dial_code:"+220",code:"GM",flag:"🇬🇲"},GE:{name:"Georgia",dial_code:"+995",code:"GE",flag:"🇬🇪"},DE:{name:"Germany",dial_code:"+49",code:"DE",flag:"🇩🇪"},GH:{name:"Ghana",dial_code:"+233",code:"GH",flag:"🇬🇭"},GI:{name:"Gibraltar",dial_code:"+350",code:"GI",flag:"🇬🇮"},GR:{name:"Greece",dial_code:"+30",code:"GR",flag:"🇬🇷"},GL:{name:"Greenland",dial_code:"+299",code:"GL",flag:"🇬🇱"},GD:{name:"Grenada",dial_code:"+1473",code:"GD",flag:"🇬🇩"},GP:{name:"Guadeloupe",dial_code:"+590",code:"GP",flag:"🇬🇵"},GU:{name:"Guam",dial_code:"+1671",code:"GU",flag:"🇬🇺"},GT:{name:"Guatemala",dial_code:"+502",code:"GT",flag:"🇬🇹"},GG:{name:"Guernsey",dial_code:"+44",code:"GG",flag:"🇬🇬"},GN:{name:"Guinea",dial_code:"+224",code:"GN",flag:"🇬🇳"},GW:{name:"Guinea-Bissau",dial_code:"+245",code:"GW",flag:"🇬🇼"},GY:{name:"Guyana",dial_code:"+592",code:"GY",flag:"🇬🇾"},HT:{name:"Haiti",dial_code:"+509",code:"HT",flag:"🇭🇹"},HN:{name:"Honduras",dial_code:"+504",code:"HN",flag:"🇭🇳"},HK:{name:"Hong Kong",dial_code:"+852",code:"HK",flag:"🇭🇰"},HU:{name:"Hungary",dial_code:"+36",code:"HU",flag:"🇭🇺"},IS:{name:"Iceland",dial_code:"+354",code:"IS",flag:"🇮🇸"},IN:{name:"India",dial_code:"+91",code:"IN",flag:"🇮🇳"},ID:{name:"Indonesia",dial_code:"+62",code:"ID",flag:"🇮🇩"},IR:{name:"Iran, Islamic Republic of",dial_code:"+98",code:"IR",flag:"🇮🇷"},IQ:{name:"Iraq",dial_code:"+964",code:"IQ",flag:"🇮🇶"},IE:{name:"Ireland",dial_code:"+353",code:"IE",flag:"🇮🇪"},IM:{name:"Isle of Man",dial_code:"+44",code:"IM",flag:"🇮🇲"},IL:{name:"Israel",dial_code:"+972",code:"IL",flag:"🇮🇱"},IT:{name:"Italy",dial_code:"+39",code:"IT",flag:"🇮🇹"},JM:{name:"Jamaica",dial_code:"+1876",code:"JM",flag:"🇯🇲"},JP:{name:"Japan",dial_code:"+81",code:"JP",flag:"🇯🇵"},JE:{name:"Jersey",dial_code:"+44",code:"JE",flag:"🇯🇪"},JO:{name:"Jordan",dial_code:"+962",code:"JO",flag:"🇯🇴"},KZ:{name:"Kazakhstan",dial_code:"+7",code:"KZ",flag:"🇰🇿"},KE:{name:"Kenya",dial_code:"+254",code:"KE",flag:"🇰🇪"},KI:{name:"Kiribati",dial_code:"+686",code:"KI",flag:"🇰🇮"},KP:{name:"Korea, Democratic People's Republic of",dial_code:"+850",code:"KP",flag:"🇰🇵"},KR:{name:"Korea, Republic of",dial_code:"+82",code:"KR",flag:"🇰🇷"},KW:{name:"Kuwait",dial_code:"+965",code:"KW",flag:"🇰🇼"},KG:{name:"Kyrgyzstan",dial_code:"+996",code:"KG",flag:"🇰🇬"},LA:{name:"Lao People's Democratic Republic",dial_code:"+856",code:"LA",flag:"🇱🇦"},LV:{name:"Latvia",dial_code:"+371",code:"LV",flag:"🇱🇻"},LB:{name:"Lebanon",dial_code:"+961",code:"LB",flag:"🇱🇧"},LS:{name:"Lesotho",dial_code:"+266",code:"LS",flag:"🇱🇸"},LR:{name:"Liberia",dial_code:"+231",code:"LR",flag:"🇱🇷"},LY:{name:"Libyan Arab Jamahiriya",dial_code:"+218",code:"LY",flag:"🇱🇾"},LI:{name:"Liechtenstein",dial_code:"+423",code:"LI",flag:"🇱🇮"},LT:{name:"Lithuania",dial_code:"+370",code:"LT",flag:"🇱🇹"},LU:{name:"Luxembourg",dial_code:"+352",code:"LU",flag:"🇱🇺"},MO:{name:"Macao",dial_code:"+853",code:"MO",flag:"🇲🇴"},MK:{name:"Macedonia, The Former Yugoslav Republic of",dial_code:"+389",code:"MK",flag:"🇲🇰"},MG:{name:"Madagascar",dial_code:"+261",code:"MG",flag:"🇲🇬"},MW:{name:"Malawi",dial_code:"+265",code:"MW",flag:"🇲🇼"},MY:{name:"Malaysia",dial_code:"+60",code:"MY",flag:"🇲🇾"},MV:{name:"Maldives",dial_code:"+960",code:"MV",flag:"🇲🇻"},ML:{name:"Mali",dial_code:"+223",code:"ML",flag:"🇲🇱"},MT:{name:"Malta",dial_code:"+356",code:"MT",flag:"🇲🇹"},MH:{name:"Marshall Islands",dial_code:"+692",code:"MH",flag:"🇲🇭"},MQ:{name:"Martinique",dial_code:"+596",code:"MQ",flag:"🇲🇶"},MR:{name:"Mauritania",dial_code:"+222",code:"MR",flag:"🇲🇷"},MU:{name:"Mauritius",dial_code:"+230",code:"MU",flag:"🇲🇺"},YT:{name:"Mayotte",dial_code:"+262",code:"YT",flag:"🇾🇹"},MX:{name:"Mexico",dial_code:"+52",code:"MX",flag:"🇲🇽"},FM:{name:"Micronesia, Federated States of",dial_code:"+691",code:"FM",flag:"🇫🇲"},MD:{name:"Moldova, Republic of",dial_code:"+373",code:"MD",flag:"🇲🇩"},MC:{name:"Monaco",dial_code:"+377",code:"MC",flag:"🇲🇨"},MN:{name:"Mongolia",dial_code:"+976",code:"MN",flag:"🇲🇳"},ME:{name:"Montenegro",dial_code:"+382",code:"ME",flag:"🇲🇪"},MS:{name:"Montserrat",dial_code:"+1664",code:"MS",flag:"🇲🇸"},MA:{name:"Morocco",dial_code:"+212",code:"MA",flag:"🇲🇦"},MZ:{name:"Mozambique",dial_code:"+258",code:"MZ",flag:"🇲🇿"},MM:{name:"Myanmar",dial_code:"+95",code:"MM",flag:"🇲🇲"},NA:{name:"Namibia",dial_code:"+264",code:"NA",flag:"🇳🇦"},NR:{name:"Nauru",dial_code:"+674",code:"NR",flag:"🇳🇷"},NP:{name:"Nepal",dial_code:"+977",code:"NP",flag:"🇳🇵"},NL:{name:"Netherlands",dial_code:"+31",code:"NL",flag:"🇳🇱"},NC:{name:"New Caledonia",dial_code:"+687",code:"NC",flag:"🇳🇨"},NZ:{name:"New Zealand",dial_code:"+64",code:"NZ",flag:"🇳🇿"},NI:{name:"Nicaragua",dial_code:"+505",code:"NI",flag:"🇳🇮"},NE:{name:"Niger",dial_code:"+227",code:"NE",flag:"🇳🇪"},NG:{name:"Nigeria",dial_code:"+234",code:"NG",flag:"🇳🇬"},NU:{name:"Niue",dial_code:"+683",code:"NU",flag:"🇳🇺"},NF:{name:"Norfolk Island",dial_code:"+672",code:"NF",flag:"🇳🇫"},MP:{name:"Northern Mariana Islands",dial_code:"+1670",code:"MP",flag:"🇲🇵"},NO:{name:"Norway",dial_code:"+47",code:"NO",flag:"🇳🇴"},OM:{name:"Oman",dial_code:"+968",code:"OM",flag:"🇴🇲"},PK:{name:"Pakistan",dial_code:"+92",code:"PK",flag:"🇵🇰"},PW:{name:"Palau",dial_code:"+680",code:"PW",flag:"🇵🇼"},PS:{name:"Palestinian Territory, Occupied",dial_code:"+970",code:"PS",flag:"🇵🇸"},PA:{name:"Panama",dial_code:"+507",code:"PA",flag:"🇵🇦"},PG:{name:"Papua New Guinea",dial_code:"+675",code:"PG",flag:"🇵🇬"},PY:{name:"Paraguay",dial_code:"+595",code:"PY",flag:"🇵🇾"},PE:{name:"Peru",dial_code:"+51",code:"PE",flag:"🇵🇪"},PH:{name:"Philippines",dial_code:"+63",code:"PH",flag:"🇵🇭"},PN:{name:"Pitcairn",dial_code:"+64",code:"PN",flag:"🇵🇳"},PL:{name:"Poland",dial_code:"+48",code:"PL",flag:"🇵🇱"},PT:{name:"Portugal",dial_code:"+351",code:"PT",flag:"🇵🇹"},PR:{name:"Puerto Rico",dial_code:"+1939",code:"PR",flag:"🇵🇷"},QA:{name:"Qatar",dial_code:"+974",code:"QA",flag:"🇶🇦"},RE:{name:"Reunion",dial_code:"+262",code:"RE",flag:"🇷🇪"},RO:{name:"Romania",dial_code:"+40",code:"RO",flag:"🇷🇴"},RU:{name:"Russian Federation",dial_code:"+7",code:"RU",flag:"🇷🇺"},RW:{name:"Rwanda",dial_code:"+250",code:"RW",flag:"🇷🇼"},BL:{name:"Saint Barthelemy",dial_code:"+590",code:"BL",flag:"🇧🇱"},SH:{name:"Saint Helena",dial_code:"+290",code:"SH",flag:"🇸🇭"},KN:{name:"Saint Kitts and Nevis",dial_code:"+1869",code:"KN",flag:"🇰🇳"},LC:{name:"Saint Lucia",dial_code:"+1758",code:"LC",flag:"🇱🇨"},MF:{name:"Saint Martin",dial_code:"+590",code:"MF",flag:"🇲🇫"},PM:{name:"Saint Pierre and Miquelon",dial_code:"+508",code:"PM",flag:"🇵🇲"},VC:{name:"Saint Vincent and the Grenadines",dial_code:"+1784",code:"VC",flag:"🇻🇨"},WS:{name:"Samoa",dial_code:"+685",code:"WS",flag:"🇼🇸"},SM:{name:"San Marino",dial_code:"+378",code:"SM",flag:"🇸🇲"},ST:{name:"Sao Tome and Principe",dial_code:"+239",code:"ST",flag:"🇸🇹"},SA:{name:"Saudi Arabia",dial_code:"+966",code:"SA",flag:"🇸🇦"},SN:{name:"Senegal",dial_code:"+221",code:"SN",flag:"🇸🇳"},RS:{name:"Serbia",dial_code:"+381",code:"RS",flag:"🇷🇸"},SC:{name:"Seychelles",dial_code:"+248",code:"SC",flag:"🇸🇨"},SL:{name:"Sierra Leone",dial_code:"+232",code:"SL",flag:"🇸🇱"},SG:{name:"Singapore",dial_code:"+65",code:"SG",flag:"🇸🇬"},SK:{name:"Slovakia",dial_code:"+421",code:"SK",flag:"🇸🇰"},SI:{name:"Slovenia",dial_code:"+386",code:"SI",flag:"🇸🇮"},SB:{name:"Solomon Islands",dial_code:"+677",code:"SB",flag:"🇸🇧"},SO:{name:"Somalia",dial_code:"+252",code:"SO",flag:"🇸🇴"},ZA:{name:"South Africa",dial_code:"+27",code:"ZA",flag:"🇿🇦"},ES:{name:"Spain",dial_code:"+34",code:"ES",flag:"🇪🇸"},LK:{name:"Sri Lanka",dial_code:"+94",code:"LK",flag:"🇱🇰"},SD:{name:"Sudan",dial_code:"+249",code:"SD",flag:"🇸🇩"},SR:{name:"Suriname",dial_code:"+597",code:"SR",flag:"🇸🇷"},SZ:{name:"Swaziland",dial_code:"+268",code:"SZ",flag:"🇸🇿"},SE:{name:"Sweden",dial_code:"+46",code:"SE",flag:"🇸🇪"},CH:{name:"Switzerland",dial_code:"+41",code:"CH",flag:"🇨🇭"},SY:{name:"Syrian Arab Republic",dial_code:"+963",code:"SY",flag:"🇸🇾"},TW:{name:"Taiwan, Province of China",dial_code:"+886",code:"TW",flag:"🇹🇼"},TJ:{name:"Tajikistan",dial_code:"+992",code:"TJ",flag:"🇹🇯"},TZ:{name:"Tanzania, United Republic of",dial_code:"+255",code:"TZ",flag:"🇹🇿"},TH:{name:"Thailand",dial_code:"+66",code:"TH",flag:"🇹🇭"},TL:{name:"Timor-Leste",dial_code:"+670",code:"TL",flag:"🇹🇱"},TG:{name:"Togo",dial_code:"+228",code:"TG",flag:"🇹🇬"},TK:{name:"Tokelau",dial_code:"+690",code:"TK",flag:"🇹🇰"},TO:{name:"Tonga",dial_code:"+676",code:"TO",flag:"🇹🇴"},TT:{name:"Trinidad and Tobago",dial_code:"+1868",code:"TT",flag:"🇹🇹"},TN:{name:"Tunisia",dial_code:"+216",code:"TN",flag:"🇹🇳"},TR:{name:"Turkey",dial_code:"+90",code:"TR",flag:"🇹🇷"},TM:{name:"Turkmenistan",dial_code:"+993",code:"TM",flag:"🇹🇲"},TC:{name:"Turks and Caicos Islands",dial_code:"+1649",code:"TC",flag:"🇹🇨"},TV:{name:"Tuvalu",dial_code:"+688",code:"TV",flag:"🇹🇻"},UG:{name:"Uganda",dial_code:"+256",code:"UG",flag:"🇺🇬"},UA:{name:"Ukraine",dial_code:"+380",code:"UA",flag:"🇺🇦"},AE:{name:"United Arab Emirates",dial_code:"+971",code:"AE",flag:"🇦🇪"},GB:{name:"United Kingdom",dial_code:"+44",code:"GB",flag:"🇬🇧"},US:{name:"United States",dial_code:"+1",code:"US",flag:"🇺🇸"},UY:{name:"Uruguay",dial_code:"+598",code:"UY",flag:"🇺🇾"},UZ:{name:"Uzbekistan",dial_code:"+998",code:"UZ",flag:"🇺🇿"},VU:{name:"Vanuatu",dial_code:"+678",code:"VU",flag:"🇻🇺"},VE:{name:"Venezuela, Bolivarian Republic of",dial_code:"+58",code:"VE",flag:"🇻🇪"},VN:{name:"Vietnam",dial_code:"+84",code:"VN",flag:"🇻🇳"},VG:{name:"Virgin Islands, British",dial_code:"+1284",code:"VG",flag:"🇻🇬"},VI:{name:"Virgin Islands, U.S.",dial_code:"+1340",code:"VI",flag:"🇻🇮"},WF:{name:"Wallis and Futuna",dial_code:"+681",code:"WF",flag:"🇼🇫"},YE:{name:"Yemen",dial_code:"+967",code:"YE",flag:"🇾🇪"},ZM:{name:"Zambia",dial_code:"+260",code:"ZM",flag:"🇿🇲"},ZW:{name:"Zimbabwe",dial_code:"+263",code:"ZW",flag:"🇿🇼"}},PE=({phoneNumber:s,setPhoneNumber:r,setPhoneErrors:n,errors:t})=>{const[o,c]=Te.useState({value:"US",label:Cg.US.name,dial_code:Cg.US.dial_code,code:"US"}),[l,h]=Te.useState(""),a=Object.entries(Cg).map(([b,y])=>({value:b,label:y.name,dial_code:y.dial_code,code:y.code})),d=({data:b,innerRef:y,innerProps:m})=>$.jsxs("div",{ref:y,...m,className:"flex items-center px-2 py-1",children:[$.jsx(cx,{countryCode:b.code,svg:!0,style:{width:"1.5em",height:"1.5em",marginRight:"0.5em"}}),$.jsxs("span",{children:[b.label," (",b.dial_code,")"]})]}),_=({data:b})=>$.jsxs("div",{className:"flex items-center",children:[$.jsx(cx,{countryCode:b.code,svg:!0,style:{width:"1.5em",height:"1.5em",marginRight:"0.5em"}}),$.jsx("span",{children:b.dial_code})]}),w=b=>{b&&(c(b),p(b.dial_code,l))},f=b=>{const y=b.target.value.replace(/\D/g,"");h(y),p(o.dial_code,y)},p=(b,y)=>{const m=`${b}${y}`;r(m);const g=kv(m);n(g)};return $.jsxs("div",{className:"mb-4",children:[$.jsx("label",{htmlFor:"phoneNumber",className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),$.jsxs("div",{className:"flex",children:[$.jsx("div",{className:"w-40",children:$.jsx(Hv,{value:o,onChange:w,options:a,className:"react-select-container",classNamePrefix:"react-select",placeholder:"Select Country",isSearchable:!0,components:{Option:d,SingleValue:_}})}),$.jsx("div",{className:"flex-grow ml-2",children:$.jsx(fi,{label:"",name:"phoneNumber",type:"tel",value:l,onChange:f,errors:t,placeholder:"Enter your phone number"})})]}),t.length>0&&t.map((b,y)=>$.jsx(Cn,{message:b,type:"error"},y))]})},CU=({clearEmailAndPasswordErrors:s,isRegister:r=!1})=>{const[n,t]=Te.useState(""),[o,c]=Te.useState([]),[l,h]=Te.useState(""),[a,d]=Te.useState(!1),[_,w]=Te.useState({message:"",type:"success"}),f=Mi(),p=async()=>{if(s==null||s(),w({message:"",type:"success"}),window.recaptchaVerifier)try{window.recaptchaVerifier.clear()}catch{}window.recaptchaVerifier=new gd(Or,"recaptcha-container",{size:"invisible"}),await window.recaptchaVerifier.render();try{const y=await A2(Or,n,window.recaptchaVerifier);window.confirmationResult=y,d(!0),w({message:"Verification code sent via SMS.",type:"success"})}catch(y){console.error("Error sending SMS:",y),w({message:y.message||"Failed to send code.",type:"error"})}},b=async()=>{if(w({message:"",type:"success"}),!l){w({message:"Please enter the verification code.",type:"error"});return}try{const y=await window.confirmationResult.confirm(l);w({message:"Phone login successful! Redirecting...",type:"success"}),setTimeout(()=>f("/stablehand-welcome"),2e3)}catch(y){console.error("Verification failed:",y),w({message:"Invalid verification code.",type:"error"})}};return $.jsxs("div",{className:"space-y-4",children:[$.jsx(PE,{phoneNumber:n,setPhoneNumber:t,setPhoneErrors:c,errors:o}),a&&$.jsx(fi,{label:"Verification Code",type:"text",value:l,onChange:y=>h(y.target.value),placeholder:"Enter the code",errors:[]}),_.message&&$.jsx(Cn,{message:_.message,type:_.type}),$.jsx("div",{className:"flex justify-between space-x-2",children:a?$.jsx(Hs,{type:"button",className:"w-full bg-green-500 hover:bg-green-700 text-white font-bold",onClick:b,children:"Verify Code"}):$.jsx(Hs,{type:"button",className:"w-full bg-yellow-500 hover:bg-yellow-700 text-black font-bold",onClick:p,children:r?"Register with Phone":"Login with Phone"})}),$.jsx("div",{id:"recaptcha-container",className:"mt-2"})]})},AU=()=>{const[s,r]=Te.useState("email");Mi();const n=()=>{r("phone")};return $.jsx(Gn,{children:$.jsxs("div",{className:"w-full max-w-md mx-auto",children:[$.jsxs("div",{className:"flex mb-6",children:[$.jsx("button",{type:"button",className:`flex-1 py-2 ${s==="email"?"bg-blue-600 text-white":"bg-gray-200"}`,onClick:()=>r("email"),children:"Email"}),$.jsx("button",{type:"button",className:`flex-1 py-2 ${s==="phone"?"bg-blue-600 text-white":"bg-gray-200"}`,onClick:()=>r("phone"),children:"Phone"})]}),s==="email"?$.jsx(AL,{onPhoneEnrollRequested:n}):$.jsx(CU,{clearEmailAndPasswordErrors:()=>{}})]})})},RU=({confirmPassword:s,setConfirmPassword:r,password:n,setConfirmPasswordErrors:t})=>{const[o,c]=Te.useState([]),[l,h]=Te.useState(!1),a=_=>{const{value:w}=_.target;r(w);const f=Bj(w).concat(w!==n?["Passwords do not match"]:[]);t(f),c(f)},d=_=>{h(tp(_))};return $.jsxs("div",{children:[$.jsx(fi,{label:"Confirm Password",type:"password",value:s,onChange:a,onKeyDown:d,errors:o,placeholder:"Confirm your password"}),l&&$.jsx(Cn,{message:"Caps Lock is on",type:"warning"})]})};function OU(){const[s,r]=Te.useState(""),[n,t]=Te.useState(""),[o,c]=Te.useState(""),[l,h]=Te.useState(!1),[a,d]=Te.useState(""),[_,w]=Te.useState(null),[f,p]=Te.useState(""),[b,y]=Te.useState(null),[m,g]=Te.useState(""),[v,S]=Te.useState("form"),[j,A]=Te.useState([]),[L,C]=Te.useState([]),[T,R]=Te.useState([]),[D,k]=Te.useState([]);Te.useEffect(()=>{window.recaptchaVerifier||(window.recaptchaVerifier=new gd(Or,"recaptcha-container",{size:"invisible"}),window.recaptchaVerifier.render().catch(z=>console.error("reCAPTCHA render failed:",z)))},[]);const F=async z=>{if(z.preventDefault(),g(""),n!==o){g("Passwords do not match.");return}if(j.length||L.length||T.length||D.length){g("Please fix the errors in the form.");return}try{const H=await y2(Or,s,n);await Ly(H.user),y(H.user),S("email-sent")}catch(H){g(H.message)}},P=async()=>{if(g(""),!!b)try{const H=await ml(b).getSession(),J=await new As(Or).verifyPhoneNumber({phoneNumber:a,session:H},window.recaptchaVerifier);w(J),S("verify-sms")}catch(z){g(z.message)}},q=async()=>{if(g(""),!!_)try{const z=As.credential(_,f),H=Ff.assertion(z);await ml(Or.currentUser).enroll(H,"Phone"),alert("✅ Account created! Please log in after verifying your email.")}catch(z){g(z.message)}};return $.jsxs("div",{className:"max-w-md mx-auto mt-10 p-6 bg-white rounded shadow",children:[v==="form"&&$.jsxs($.Fragment,{children:[$.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Register"}),$.jsxs("form",{onSubmit:F,className:"space-y-4",children:[$.jsx(qj,{email:s,setEmail:r,setEmailErrors:A,errors:j}),$.jsx(Wj,{password:n,setPassword:t,setPasswordErrors:C,errors:L}),$.jsx(RU,{confirmPassword:o,setConfirmPassword:c,password:n,setConfirmPasswordErrors:R}),$.jsxs("label",{className:"flex items-center",children:[$.jsx("input",{type:"checkbox",className:"mr-2",checked:l,onChange:z=>h(z.target.checked)}),$.jsx("span",{children:"Enable phone as 2nd factor"})]}),l&&$.jsx(fi,{label:"Phone",type:"tel",value:a,onChange:z=>d(z.target.value),placeholder:"+1 555 123 4567",errors:D}),$.jsx("div",{id:"recaptcha-container"}),$.jsx(Hs,{type:"submit",className:"w-full py-2 bg-blue-600 text-white rounded",children:"Send Verification Email"})]}),m&&$.jsx("p",{className:"mt-4 text-red-500",children:m})]}),v==="email-sent"&&$.jsxs("div",{children:[$.jsxs("p",{className:"mb-4",children:["✅ Verification email sent to ",$.jsx("strong",{children:s}),". Please verify before logging in."]}),l&&$.jsxs($.Fragment,{children:[$.jsx(Hs,{onClick:P,className:"mb-4 w-full py-2 bg-indigo-600 text-white rounded",children:"Send SMS for 2FA Enrollment"}),m&&$.jsx("p",{className:"text-red-500",children:m})]})]}),v==="verify-sms"&&$.jsxs("div",{className:"space-y-3",children:[$.jsx("p",{children:"Enter the SMS code we just sent:"}),$.jsx(fi,{label:"SMS Code",type:"text",value:f,onChange:z=>p(z.target.value),placeholder:"123456",errors:[]}),$.jsx(Hs,{onClick:q,className:"w-full py-2 bg-green-600 text-white rounded",children:"Verify & Complete 2FA"}),m&&$.jsx("p",{className:"text-red-500",children:m})]})]})}const IU=()=>{Mi();const s=async(r,n,t)=>{console.log("Registering user with:",{email:r,password:n,phoneNumber:t})};return $.jsx(Gn,{bgColor:"bg-gray-100",children:$.jsxs("div",{className:"w-full max-w-lg bg-white p-8 rounded-lg shadow-md border border-gray-300",children:[$.jsx("h1",{className:"text-4xl font-bold mb-4 text-center",children:"Register"}),$.jsx(OU,{onRegister:s})]})})},kU=()=>{const[s,r]=Te.useState(""),[n,t]=Te.useState([]),[o,c]=Te.useState({message:"",type:""}),[l,h]=Te.useState(!1),a=w=>{const{value:f}=w.target;r(f),t(ay(f)),c({message:"",type:""})},d=w=>{h(tp(w))},_=async w=>{w.preventDefault(),console.log("🔑 ResetPasswordPage.handleResetPassword()",s);const f=ay(s);if(t(f),c({message:"",type:""}),f.length>0){c({message:"Please enter a valid email address.",type:"error"});return}try{console.log("sending reset to",s),await g2(Or,s),c({message:"Password reset email sent – check your inbox (and spam).",type:"success"})}catch(p){console.error("reset failed:",p),c({message:`Error: ${p.message}`,type:"error"})}};return $.jsx(Gn,{bgColor:"bg-gray-100",children:$.jsx("div",{className:"flex flex-col items-center justify-top",children:$.jsxs("div",{className:"w-full max-w-lg bg-white p-8 rounded-lg shadow-md border border-gray-300",children:[$.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Reset Password"}),$.jsxs("form",{className:"space-y-4",onSubmit:_,children:[$.jsx(fi,{label:"Email",type:"email",value:s,onChange:a,onKeyDown:d,errors:n,placeholder:"Enter your email"}),l&&$.jsx("p",{className:"text-yellow-500 text-sm mt-1",children:"Caps Lock is on"}),o.message&&$.jsx(Cn,{message:o.message,type:o.type}),$.jsx(Hs,{type:"submit",className:"w-full bg-blue-500 hover:bg-blue-700 border border-blue-700",children:"Reset Password"})]})]})})})},Cd=async s=>{if(s.emailVerified)return s;throw await Ly(s),await b2(Or),new Error("Please verify your email address. A verification email has been sent.")},MU=async()=>{try{const s=new Xi,r=await yd(Or,s);await Cd(r.user)}catch(s){throw console.error("Error during Google sign-in:",s),s}},PU=async()=>{try{const s=new $i,r=await yd(Or,s);await Cd(r.user)}catch(s){throw console.error("Error during GitHub sign-in:",s),s}},DU=async()=>{try{const s=new Yi,r=await yd(Or,s);await Cd(r.user)}catch(s){throw console.error("Error during Facebook sign-in:",s),s}},LU=async()=>{try{const s=new ko,r=await yd(Or,s);await Cd(r.user)}catch(s){throw console.error("Error during Twitter sign-in:",s),s}},NU=async()=>{try{const s=new Do("microsoft.com"),r=await yd(Or,s);return await Cd(r.user)}catch(s){throw console.error("Error during Microsoft sign-in:",s),s}},UU=async(s,r)=>{const n=await y2(Or,s,r);return await Ly(n.user),n},FU=(s,r)=>v2(Or,s,r),DE=()=>b2(Or),VU=s=>g2(Or,s),BU=(s,r)=>A2(Or,s,r),GU=()=>{window.recaptchaVerifier||(window.recaptchaVerifier=new gd("recaptcha-container",{size:"invisible",callback:s=>{}},Or))},zU=s=>dI(Or,s),HU=()=>{const s=Mi();return Te.useEffect(()=>{(async()=>{try{await DE(),setTimeout(()=>{s("/thank-you",{state:{type:"logout"}})},3e3)}catch(n){console.error("Error logging out:",n)}})()},[s]),$.jsx(Gn,{bgcolor:"mango-100",children:$.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100",children:$.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Logging out..."})})})},qU=""+new URL("parkinson-tremors-BS7jOdzj.webp",import.meta.url).href,WU=""+new URL("stock-vector-8OxW1AOO.jpg",import.meta.url).href,YU=({toggleSidebar:s})=>$.jsxs("header",{className:"w-screen bg-gray-500 p-2 px-6 shadow-md flex items-center justify-between relative z-10",children:[$.jsx("button",{onClick:s,className:"text-gray-200 hover:text-gray-400 focus:outline-none",children:$.jsx("img",{src:qU,alt:"Caltech Logo",className:"w-22 h-8 ml-4"})}),$.jsxs("div",{className:"flex-1 flex justify-center items-center space-x-2 relative",children:[$.jsx("span",{className:"text-5xl font-bold text-white",children:"Stable"}),$.jsx("div",{className:"relative flex justify-center items-center",children:$.jsx("div",{className:"logo-wrapper",children:$.jsx("img",{src:WU,alt:"StableHand Logo",className:"logo"})})}),$.jsx("span",{className:"text-5xl font-bold text-white",children:"Hand"})]}),$.jsx("div",{className:"w-6"})]}),LE=""+new URL("caltech_logo-DHlqFY5q.png",import.meta.url).href,XU=""+new URL("caltechlogo2-BTyxa97Z.png",import.meta.url).href,$U=({isVisible:s,toggleSidebar:r})=>{const n=Cl(),t=JSON.parse(localStorage.getItem("visitedPages")||"[]"),o=[{id:1,path:"/",label:"Welcome",submenu:[{id:2,path:"/login",label:"Login"},{id:3,path:"/register",label:"Register"},{id:4,path:"/reset-password",label:"Reset Password"},{id:5,path:"/logout",label:"Logout"}]},{id:6,path:"/stablehand-welcome",label:"Welcome to Stablehand",submenu:[{id:7,path:"/disclaimer",label:"Disclaimer"},{id:8,path:"/background",label:"Background"},{id:9,path:"/demographics",label:"Demographics"},{id:10,path:"/medical-interview",label:"Medical Interview"},{id:11,path:"/parkinson-interview",label:"Parkinson Interview"},{id:12,path:"/therapy",label:"Therapy"},{id:13,path:"/progress-notes",label:"Progress Notes"}]},{id:14,submenu:[{id:15,path:"/privacy-policy",label:"Privacy Policy"},{id:16,path:"/data-deletion-instructions",label:"Data Deletion"},{id:17,path:"/terms-of-service",label:"Terms Of Service"}]},{id:18,submenu:[{id:19,path:"/setting",label:"Setting"},{id:20,path:"/account",label:"Account"},{id:21,path:"/contact",label:"Contact Us"},{id:22,path:"/logout",label:"Logout"}]}],c=()=>r(!0),l=()=>r(!1);return $.jsxs($.Fragment,{children:[$.jsx("div",{className:"fixed top-0 left-0 h-full bg-transparent w-2 z-50",onMouseEnter:c}),$.jsx("div",{className:`fixed top-0 left-0 h-full bg-gray-500 shadow-lg transition-transform transform ${s?"translate-x-0":"-translate-x-full"} w-52 pt-16 z-50 rounded-lg`,onMouseLeave:l,children:$.jsxs("div",{className:"p-4 flex flex-col justify-between h-full overflow-y-auto bg-gray-500 shadow-lg rounded-md border border-gray-300",children:[$.jsx("div",{children:$.jsx("ul",{className:"space-y-2",children:o.map(h=>$.jsx("li",{className:`mb-2 ${t.includes(h.path||"")||n.pathname===h.path?"text-white":"text-gray-400"}`,children:h.submenu?$.jsxs("div",{className:"p-2 rounded hover:bg-gray-200",children:[h.path&&$.jsx(un,{to:h.path,className:"block p-2 rounded hover:bg-gray-200",children:h.label}),$.jsx("ul",{className:"ml-2 mt-2 bg-gray-500 rounded-lg border border-gray-300",children:h.submenu.map(a=>$.jsx("li",{className:"mb-2",children:$.jsx(un,{to:a.path,className:`block p-2 rounded hover:bg-red-200 ${n.pathname===a.path?"text-black-500":"text-gray-400"}`,children:a.label})},a.id))})]}):h.path&&$.jsx(un,{to:h.path,className:`block p-2 rounded hover:bg-red-200 ${n.pathname===h.path?"text-black-500":"text-gray-400"}`,children:h.label})},h.id))})}),$.jsxs("div",{className:"p-4 bg-gray-500 shadow-lg rounded-md border border-gray-300",children:[$.jsx("img",{src:XU,alt:"Caltech Logo 2",className:"w-18 h-18 mb-2"}),$.jsx("img",{src:LE,alt:"Caltech Logo",className:"w-18 h-18 mb-2"})]})]})})]})},KU=""+new URL("flameLogo-DAQQ0Vhe.png",import.meta.url).href,QU=()=>$.jsxs("footer",{className:"w-screen bg-gray-500 p-4 rounded-sm shadow-md flex justify-between items-end relative",children:[$.jsx("div",{className:"footer-wedge relative flex items-end h-full",children:$.jsx("div",{className:"flame-logo mb-1 z-12",children:$.jsx("img",{src:KU,alt:"Flame Logo",className:"w-12 h-auto"})})}),$.jsxs("div",{className:"flex flex-col items-end text-right ml-auto mr-4",children:[$.jsx("img",{src:LE,alt:"Caltech Logo",className:"w-18 h-8 mb-2"}),$.jsx("p",{className:"text-xs text-white",children:"© 2024 StableHand, StableGait, StableGrip All Rights Reserved"})]})]}),ZU=()=>{const r=Cl().state||{type:"default",score:null,percentagescore:null},n=()=>{switch(r.type){case"logout":return $.jsxs($.Fragment,{children:[$.jsx("p",{children:"Thank you for visiting. We hope you have enjoyed your session. See you soon!"}),$.jsx(un,{to:"/login",className:"text-blue-500 hover:text-blue-700",children:"Go to Login"})]});case"registration":return $.jsxs($.Fragment,{children:[$.jsx("p",{children:"Thank you for registering! Please check your email for verification."}),$.jsx(un,{to:"/login",className:"text-blue-500 hover:text-blue-700",children:"Go to Login"})]});case"demographics":return $.jsxs($.Fragment,{children:[$.jsx("p",{children:"Thank you for submitting your demographics information."}),$.jsx(un,{to:"/medical-interview",className:"text-blue-500 hover:text-blue-700",children:"Please proceed to the Medical Interview section"})]});case"medical":return $.jsxs($.Fragment,{children:[$.jsx("p",{children:"Thank you for completing the Medical Interview."}),$.jsx(un,{to:"/parkinson-interview",className:"text-blue-500 hover:text-blue-700",children:"Please proceed to the Parkinson Interview section"})]});case"parkinsons":return $.jsxs($.Fragment,{children:[$.jsx("p",{children:"Thank you for completing the Parkinson's survey."}),$.jsxs("p",{children:["Your score is ",r.score,", (",r.percentagescore,"%)."]}),$.jsx(un,{to:"/therapy",className:"text-blue-500 hover:text-blue-700",children:"Proceed to Therapy Session"})]});case"disclaimer":return $.jsxs($.Fragment,{children:[$.jsx("p",{children:"Thank you for acknowledging the disclaimer."}),$.jsx(un,{to:"/demographics",className:"text-blue-500 hover:text-blue-700",children:"Proceed to Demographics"})]});case"therapysession":return $.jsxs($.Fragment,{children:[$.jsx("p",{children:"Thank you for completing the therapy session."}),$.jsx(un,{to:"/progress",className:"text-blue-500 hover:text-blue-700",children:"Proceed to Progress Notes"}),$.jsx(un,{to:"/logout",className:"text-blue-500 hover:text-blue-700",children:"or logout"})]});default:return $.jsx("p",{children:"Thank you for your submission!"})}};return $.jsx(Gn,{children:$.jsxs(Rx,{children:[$.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Thank You!"}),$.jsx("div",{className:"text-lg",children:n()})]})})},JU=({onEnrollmentComplete:s})=>{const[r,n]=Te.useState(""),[t,o]=Te.useState([]),[c,l]=Te.useState(""),[h,a]=Te.useState(!1),[d,_]=Te.useState({message:"",type:""}),w=Te.useRef(null),f=zy(),p=f.currentUser;Te.useEffect(()=>{w.current||(w.current=new gd("recaptcha-container",{size:"invisible",callback:()=>console.log("reCAPTCHA solved."),"expired-callback":()=>{var m;console.log("reCAPTCHA expired. Resetting..."),(m=w.current)==null||m.reset()}},f))},[f]);const b=async m=>{m.preventDefault();const g=kv(r);if(o(g),g.length>0){_({message:"Please fix phone number errors.",type:"error"});return}try{if(!w.current){_({message:"reCAPTCHA not initialized.",type:"error"});return}const v=await ml(p).getSession(),S={phoneNumber:r,session:v},A=await new As(f).verifyPhoneNumber(S,w.current);window.verificationId=A,a(!0),_({message:"Verification code sent to your phone.",type:"success"})}catch(v){console.error("Error sending SMS:",v),_({message:`Error: ${v.message}`,type:"error"})}},y=async m=>{m.preventDefault();try{const g=window.verificationId,v=As.credential(g,c),S=Ff.assertion(v);await ml(p).enroll(S,"Phone Number"),_({message:"Phone number successfully linked to your account.",type:"success"}),s&&s()}catch(g){console.error("Error verifying code:",g),_({message:`Error verifying code: ${g.message}`,type:"error"})}};return $.jsx("div",{children:h?$.jsxs("form",{onSubmit:y,children:[$.jsx(fi,{label:"Verification Code",name:"verificationCode",type:"text",value:c,onChange:m=>l(m.target.value),placeholder:"Enter the code sent to your phone",errors:[]}),d.message&&$.jsx(Cn,{message:d.message,type:d.type}),$.jsx(Hs,{type:"submit",className:"w-full bg-green-500 hover:bg-green-700",children:"Verify Code and Link Phone"})]}):$.jsxs("form",{onSubmit:b,children:[$.jsx(PE,{phoneNumber:r,setPhoneNumber:n,setPhoneErrors:o,errors:t}),d.message&&$.jsx(Cn,{message:d.message,type:d.type}),$.jsx(Hs,{type:"submit",className:"w-full bg-blue-500 hover:bg-blue-700",children:"Send Verification Code"}),$.jsx("div",{id:"recaptcha-container"})]})})},eF=()=>{const[s,r]=Te.useState(!1);return Te.useEffect(()=>{const t=zy().currentUser;if(!t)return;const o=t.providerData.map(h=>h.providerId),c=o.includes("password");o.includes("phone");const l=ml(t).enrolledFactors.length>0;c&&!l&&r(!0)},[]),$.jsx(Gn,{children:$.jsxs(Rx,{children:[$.jsx("h1",{className:"text-4xl font-bold mb-6",children:"Welcome to StableHand Clinical Trial Dashboard"}),s?$.jsx(JU,{onEnrollmentComplete:()=>r(!1)}):$.jsxs("div",{className:"flex flex-col space-y-4",children:[$.jsx(un,{to:"/disclaimer",className:"w-full bg-blue-500 hover:bg-blue-700 text-white p-2 rounded",children:"Disclaimer"}),$.jsx(un,{to:"/background",className:"w-full bg-green-500 hover:bg-green-700 text-white p-2 rounded",children:"Background"}),$.jsx(un,{to:"/demographics",className:"w-full bg-yellow-500 hover:bg-yellow-700 text-white p-2 rounded",children:"Demographics"}),$.jsx(un,{to:"/medical-interview",className:"w-full bg-orange-500 hover:bg-orange-700 text-white p-2 rounded",children:"Medical Interview"}),$.jsx(un,{to:"/parkinson-interview",className:"w-full bg-red-500 hover:bg-red-700 text-white p-2 rounded",children:"Parkinson Interview (PDQ-39)"}),$.jsx(un,{to:"/therapy",className:"w-full bg-purple-500 hover:bg-purple-700 text-white p-2 rounded",children:"Therapy"}),$.jsx(un,{to:"/progress-notes",className:"w-full bg-gray-500 hover:bg-gray-700 text-white p-2 rounded",children:"Progress Notes"})]})]})})},tF=()=>{const[s,r]=Te.useState({name:"",email:"",message:""}),[n,t]=Te.useState(""),o=l=>{const{name:h,value:a}=l.target;r({...s,[h]:a})},c=async l=>{l.preventDefault(),t("Sending...");try{const h=Or.currentUser;if(await sy(ki(Qn,"messages"),{...s,userId:h?h.uid:"anonymous",timestamp:new Date}),h){const a=ki(Qn,`users/${h.uid}/messages`);await sy(a,{...s,timestamp:new Date})}t("Message sent! We will get back to you shortly."),r({name:"",email:"",message:""})}catch(h){console.error("Error sending message:",h),t("Error sending message. Please try again later.")}};return $.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:$.jsxs("div",{className:"w-full max-w-lg p-8 bg-white shadow-md rounded-lg",children:[$.jsx("h2",{className:"text-2xl font-semibold text-center mb-6",children:"Contact Us"}),$.jsxs("form",{onSubmit:c,className:"space-y-4",children:[$.jsxs("div",{children:[$.jsx("label",{className:"block mb-1 font-medium",htmlFor:"name",children:"Name"}),$.jsx("input",{type:"text",id:"name",name:"name",value:s.name,onChange:o,className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400",required:!0})]}),$.jsxs("div",{children:[$.jsx("label",{className:"block mb-1 font-medium",htmlFor:"email",children:"Email"}),$.jsx("input",{type:"email",id:"email",name:"email",value:s.email,onChange:o,className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400",required:!0})]}),$.jsxs("div",{children:[$.jsx("label",{className:"block mb-1 font-medium",htmlFor:"message",children:"Message"}),$.jsx("textarea",{id:"message",name:"message",value:s.message,onChange:o,className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400",rows:4,required:!0})]}),$.jsx("button",{type:"submit",className:"w-full bg-blue-500 text-white py-2 px-4 rounded-lg hover:bg-blue-600 transition-colors",children:"Send Message"})]}),n&&$.jsx("p",{className:"mt-4 text-center",children:n})]})})},rF=()=>$.jsx(Gn,{children:$.jsx("div",{className:"flex flex-col items-center justify-top min-h-screen p-4 bg-gray-100",children:$.jsxs("div",{className:"w-full max-w-lg bg-green-100 p-8 rounded-lg shadow-md border border-gray-300",children:[$.jsx("h1",{className:"text-4xl font-bold mb-4",children:"BackgroundPage"}),$.jsx("p",{className:"text-lg mb-6",children:"Coming Soon"}),$.jsx(un,{to:"/login",className:"text-blue-500 hover:text-blue-700",children:"Go to Login"})]})})}),NE=Te.createContext(void 0),kl=()=>{const s=Te.useContext(NE);if(!s)throw new Error("useAuth must be used within an AuthProvider");return s},UE=({children:s})=>{const[r,n]=Te.useState(null),[t,o]=Te.useState(!0);Te.useEffect(()=>zU(h=>{n(h?{...h}:null),o(!1)}),[]);const c={currentUser:r,loading:t,registerWithEmail:UU,loginWithEmail:FU,logout:DE,resetPassword:VU,signInWithGoogle:MU,signInWithGitHub:PU,signInWithFacebook:DU,signInWithTwitter:LU,signInWithMicrosoft:NU,signInWithPhone:BU,initializeRecaptcha:GU};return $.jsx(NE.Provider,{value:c,children:!t&&s})},FE=({label:s,name:r,value:n,onChange:t,options:o=[],errors:c=[],onKeyDown:l})=>$.jsxs("div",{className:"mb-4",children:[$.jsx("label",{htmlFor:r,className:"block text-sm font-medium text-gray-700",children:s}),$.jsxs("select",{id:r,name:r,value:n,onChange:t,onKeyDown:l,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",children:[$.jsxs("option",{value:"",children:["Select ",s]}),o.map(h=>$.jsx("option",{value:h,children:h},h))]}),c.length>0&&$.jsx("div",{className:"mt-2",children:c.map((h,a)=>$.jsx(Cn,{message:h,type:"error"},a))})]}),VE=({label:s,name:r,value:n,options:t,onChange:o,errors:c=[]})=>{const[l,h]=Te.useState(n==="Other"),[a,d]=Te.useState(l?n:""),_=f=>{const p=f.target.value;p==="Other"?(h(!0),o({target:{name:r,value:a}})):(h(!1),o({target:{name:r,value:p}}))},w=f=>{const p=f.target.value;d(p),o({target:{name:r,value:p}})};return $.jsxs("div",{className:"mb-4",children:[$.jsx("label",{htmlFor:r,className:"block text-sm font-medium text-gray-700 mb-2",children:s}),$.jsxs("select",{id:r,name:r,value:l?"Other":n,onChange:_,className:`w-full px-3 py-2 border rounded ${c.length>0?"border-red-500":"border-gray-300"}`,children:[$.jsxs("option",{value:"",disabled:!0,children:["Select ",s.toLowerCase()]}),t.map(f=>$.jsx("option",{value:f,children:f},f)),$.jsx("option",{value:"Other",children:"Other"})]}),l&&$.jsx("input",{id:`${r}_other`,type:"text",name:`${r}_other`,value:a,onChange:w,placeholder:"Please specify",className:`mt-2 block w-full p-2 border ${c.length>0?"border-red-500":"border-gray-300"} rounded-md`}),c.length>0&&$.jsx(Cn,{message:c.join(", "),type:"error"})]})},BE=({label:s,name:r,value:n,onChange:t,options:o,errors:c=[]})=>{const l=a=>{const d=a.map(_=>_.value);t(d,r)},h=o.map(a=>({label:a,value:a}));return $.jsxs("div",{className:"mb-4",children:[$.jsx("label",{htmlFor:r,className:"block text-sm font-medium text-gray-700",children:s}),$.jsx(Hv,{id:r,isMulti:!0,name:r,value:h.filter(a=>n.includes(a.value)),onChange:l,options:h,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"}),c.length>0&&$.jsx("div",{className:"mt-2",children:c.map((a,d)=>$.jsx(Cn,{message:a,type:"error"},d))})]})},GE=({label:s,name:r,value:n,onChange:t,errors:o=[]})=>$.jsxs("div",{className:"mb-4",children:[$.jsx("label",{htmlFor:r,className:"block text-sm font-medium text-gray-700",children:s}),$.jsx("textarea",{id:r,name:r,value:n,onChange:t,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm h-32 resize-y overflow-auto"}),o.length>0&&$.jsx("div",{className:"mt-2",children:o.map((c,l)=>$.jsx(Cn,{message:c,type:"error"},l))})]}),zE=({label:s,name:r,values:n,onChange:t,options:o,errors:c=[]})=>{const[l,h]=Te.useState(!0),[a,d]=Te.useState("");Te.useEffect(()=>{n.includes("Other")?h(!0):(h(!1),d(""))},[n]);const _=p=>{const b=p?p.map(y=>y.value):[];h(b.includes("Other")),t(b,r)},w=p=>{const b=p.target.value;d(b);const y=n.includes("Other")?n.map(m=>m==="Other"?b:m):[...n,b];t(y,r)},f=o.map(p=>({label:p,value:p}));return $.jsxs("div",{className:"mb-4",children:[$.jsx("label",{htmlFor:r,className:"block text-sm font-medium text-gray-700",children:s}),$.jsx(Hv,{id:r,isMulti:!0,name:r,value:f.filter(p=>n.includes(p.value)),onChange:_,options:[...f,{label:"Other",value:"Other"}],className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"}),l&&$.jsx("input",{id:`${r}_other`,type:"text",name:`${r}_other`,value:a,onChange:w,placeholder:"Please specify",className:`mt-2 block w-full p-2 border ${c.length>0?"border-red-500":"border-gray-300"} rounded-md`,autoComplete:"off"}),c.length>0&&$.jsx("div",{className:"mt-2",children:c.map((p,b)=>$.jsx(Cn,{message:p,type:"error"},b))})]})},HE=({logText:s,logFileName:r})=>{const n=Te.useRef(null);return Te.useEffect(()=>{const t=n.current;t&&(t.scrollTop=t.scrollHeight)},[s]),$.jsx("div",{children:$.jsxs(Container,{fluid:!0,children:[$.jsx(Row,{children:" "}),$.jsx(Row,{children:" "}),$.jsxs(Row,{children:[$.jsx(Col,{}),$.jsx(Col,{children:$.jsxs("h6",{children:["Current Log: ",r]})}),$.jsx(Col,{})]}),$.jsx(Row,{children:$.jsx(Col,{children:$.jsx("textarea",{value:s,readOnly:!0,ref:n,className:"w-100"})})})]})})},ap=()=>{const[s,r]=Te.useState("");return Te.useEffect(()=>{const n=()=>{r(new Date().toLocaleString())};n();const t=setInterval(n,6e4);return()=>clearInterval(t)},[]),$.jsxs("div",{className:"text-sm text-gray-600",children:[$.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Current Date and Time"}),$.jsx("input",{type:"text",value:s,readOnly:!0,className:"w-auto px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm bg-gray-200"})]})},nF=["Male","Female","HomoSexual","BiSexual","TransSexual","Prefer not to say"],sF=["White","Caucasian","African-American","Black","Native Hawaiian or Pacific Islander","Asian","Hispanic","Prefer not to say"],iF=["<20,000","20,000-50,000","50,000-100,000","100,000+","Prefer not to say"],oF=["Employed","Unemployed","Retired","Self-Employed","Seeking opportunities","Prefer not to say"],aF=["High School","Associate Degree","Bachelor's Degree","Master's Degree","Doctorate","Prefer not to say"],lF=["Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut","Delaware","Florida","Georgia","Hawaii","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana","Nebraska","Nevada","New Hampshire","New Jersey","New Mexico","New York","North Carolina","North Dakota","Ohio","Oklahoma","Oregon","Pennsylvania","Rhode Island","South Carolina","South Dakota","Tennessee","Texas","Utah","Vermont","Virginia","Washington","West Virginia","Wisconsin","Wyoming"],uF=["Biking","Fashion","Design","Crafts","Traveling","Camping","Gourmet food","Physical fitness","Music","Sewing","Art","Antiques","Reading","Prefer not to answer"],Nh=[{label:"First Name",name:"firstName",type:"input",inputType:"text",placeholder:"Enter first name",validate:[Lr]},{label:"Middle Name",name:"middleName",type:"input",inputType:"text",placeholder:"Enter middle name",validate:[Vj]},{label:"Last Name",name:"lastName",type:"input",inputType:"text",placeholder:"Enter last name",validate:[Lr]},{label:"Date of Birth",name:"dob",type:"input",inputType:"date",placeholder:"Enter date of birth",validate:[Gj]},{label:"Age",name:"age",type:"input",inputType:"number",placeholder:"Enter your age",validate:[zj]},{label:"Gender",name:"gender",type:"select",options:nF,validate:[Lr]},{label:"Ethnicity",name:"ethnicity",type:"selectWithOther",options:sF,validate:[Lr]},{label:"Income",name:"income",type:"select",options:iF,validate:[Lr]},{label:"Employment Status",name:"employmentStatus",type:"selectWithOther",options:oF,validate:[Lr]},{label:"Education Level",name:"educationLevel",type:"selectWithOther",options:aF,validate:[Lr]},{label:"City",name:"city",type:"input",inputType:"text",placeholder:"Enter city",validate:[jL]},{label:"State",name:"state",type:"select",options:lF,validate:[Lr]},{label:"Phone Number",name:"phoneNumber",type:"input",inputType:"text",placeholder:"Enter phone number",validate:[kv]},{label:"Hobbies",name:"hobbies",type:"multiSelect",options:uF,validate:[Lr]}],cF=()=>{const s=Mi(),{currentUser:r}=kl(),[n,t]=Te.useState({}),[o,c]=Te.useState({}),[l,h]=Te.useState(null),a=f=>{const{name:p,value:b}=f.target;t(m=>({...m,[p]:b}));const y=Nh.find(m=>m.name===p);if(y&&y.validate){const m=y.validate.map(g=>g(b,n)).flat();c(g=>({...g,[p]:m}))}else c(m=>({...m,[p]:[]}));h(null)},d=(f,p)=>{const b=f?f.map(m=>m.value):[];t(m=>({...m,[p]:b}));const y=Nh.find(m=>m.name===p);if(y&&y.validate){const m=y.validate.map(g=>g(b,n)).flat();c(g=>({...g,[p]:m}))}else c(m=>({...m,[p]:[]}));h(null)},_=()=>{const f={};let p=!1;if(Nh.forEach(b=>{const y=n[b.name];if(b.validate){const m=b.validate.map(g=>g(y,n)).flat();m.length>0&&(f[b.name]=m,p=!0)}}),n.dob&&n.age){const b=Hj(n.dob,n.age);b.length>0&&(f.age=b,p=!0)}return c(f),!p},w=async f=>{if(f.preventDefault(),!_()){h({message:"Please fill all missing fields.",type:"error"});return}try{const p=new Date,b=p.toLocaleString(),y={...n,userId:r==null?void 0:r.uid,timestamp:p.toISOString(),localDateTime:b},m=di(ki(Qn,`users/${r==null?void 0:r.uid}/demographics`));await Ra(m,y);const g=Object.entries(y).map(([S,j])=>Array.isArray(j)?`${S},"${j.join(";")}"`:`${S},${j}`).join(`
`),v=_l(Sl,`users/${r==null?void 0:r.uid}/demographics/${p.toISOString()}.csv`);await yj(v,g),h({message:"Data submitted successfully.",type:"success"}),setTimeout(()=>s("/thank-you",{state:{type:"demographics"}}),2e3)}catch(p){console.error("Error submitting demographics:",p),h({message:"Error submitting data. Please try again.",type:"error"})}};return $.jsxs(Gn,{bgColor:"bg-yellow-100",paddingX:"px-4",marginX:"mx-2",children:[$.jsx("h2",{className:"text-3xl font-bold mb-4 text-center",children:"Demographics Information"}),$.jsx(ap,{}),$.jsxs("form",{onSubmit:w,children:[$.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:Nh.map(f=>f.type==="input"?$.jsx(fi,{label:f.label,name:f.name,type:f.inputType,value:n[f.name]||"",onChange:a,placeholder:f.placeholder,errors:o[f.name]},f.name):f.type==="textareascroll"?$.jsx(GE,{label:f.label,name:f.name,value:n[f.name]||"",onChange:a,errors:o[f.name]},f.name):f.type==="autosizeinput"?$.jsx(HE,{label:f.label,name:f.name,value:n[f.name]||"",onChange:a,placeholder:f.placeholder,errors:o[f.name]},f.name):f.type==="select"?$.jsx(FE,{label:f.label,name:f.name,value:n[f.name]||"",onChange:a,options:f.options,errors:o[f.name]},f.name):f.type==="selectWithOther"?$.jsx(VE,{label:f.label,name:f.name,value:n[f.name]||"",onChange:a,options:f.options,errors:o[f.name]},f.name):f.type==="multiSelect"?$.jsx(BE,{label:f.label,name:f.name,value:n[f.name]||[],onChange:p=>d(p,f.name),options:f.options,errors:o[f.name]},f.name):f.type==="multiSelectWithOther"?$.jsx(zE,{label:f.label,name:f.name,values:n[f.name]||[],onChange:p=>d(p,f.name),options:f.options,errors:o[f.name]},f.name):null)}),l&&$.jsx(Cn,{message:l.message,type:l.type}),$.jsx("div",{className:"flex justify-between items-center mt-6",children:$.jsx(Hs,{type:"submit",className:"w-full bg-blue-500 hover:bg-blue-700 border border-blue-700",children:"Submit"})})]})]})},dF=["Male","Female","Other","Prefer not to say"],hF=["Yes","No"],fF=["Never","Rarely","Occasionally","Frequently","Always"],pF=["Mother","Father","Sibling","Grandparent","Uncle/Aunt"],mF=["Essential Tremor","Parkinsonian Tremor","Dystonic Tremor","Cerebellar Tremor","Orthostatic Tremor","Other"],gF=["Right Hand","Left Hand","Head","Voice","Legs"],yF=["Mild","Moderate","Severe"],vF=["Propranolol","Primidone","Levodopa","Carbidopa","Topiramate","Gabapentin"],Rc=[{label:"First Name",name:"firstName",type:"input",inputType:"text",placeholder:"Enter first name",validate:[Lr]},{label:"Middle Name",name:"middleName",type:"input",inputType:"text",placeholder:"Enter middle name",validate:[Vj]},{label:"Last Name",name:"lastName",type:"input",inputType:"text",placeholder:"Enter last name",validate:[Lr]},{label:"Date of Birth",name:"dob",type:"input",inputType:"date",placeholder:"Enter date of birth",validate:[Gj]},{label:"Age",name:"age",type:"input",inputType:"number",placeholder:"Enter your age",validate:[zj]},{label:"Gender",name:"gender",type:"select",options:dF,validate:[Lr]},{label:"Chief Complaint",name:"chiefComplaint",type:"input",inputType:"textareascroll",placeholder:"Enter chief complaint",validate:[Lr]},{label:"History of Present Illness",name:"historyPresentIllness",type:"textareascroll",inputType:"textarea",placeholder:"Enter history of present illness",validate:[Lr]},{label:"Onset of Tremor",name:"onsetTremor",type:"input",inputType:"date",placeholder:"Enter onset date of tremor",validate:[Lr]},{label:"Frequency of Tremor",name:"frequencyTremor",type:"select",options:fF,validate:[Lr]},{label:"Medications",name:"medications",type:"input",inputType:"textareascroll",placeholder:"Enter current medications",validate:[Lr]},{label:"Allergies",name:"allergies",type:"input",inputType:"textareascroll",placeholder:"Enter allergies",validate:[Lr]},{label:"Family History of Tremor",name:"familyHistoryTremor",type:"multiSelectWithOther",options:pF,validate:[Lr]},{label:"Past Medical History",name:"pastMedicalHistory",type:"input",inputType:"textareascroll",placeholder:"Enter past medical history",validate:[Lr]},{label:"Neurological Examination Findings",name:"neurologicalExaminationFindings",type:"textareascroll",inputType:"textareascroll",placeholder:"Enter neurological examination findings",validate:[Lr]},{label:"Type of Tremor",name:"tremorType",type:"selectWithOther",options:mF,validate:[Lr]},{label:"Head Trauma History",name:"headTrauma",type:"selectWithOther",options:hF,validate:[Lr]},{label:"Affected Body Parts",name:"affectedBodyParts",type:"multiSelect",options:gF,validate:[Lr]},{label:"Onset of Tremor",name:"tremorOnset",type:"input",inputType:"date",placeholder:"Enter onset age or year",validate:[Lr]},{label:"Tremor Severity",name:"tremorSeverity",type:"select",options:yF,validate:[Lr]},{label:"Neurological Medications",name:"neurologicalMedications",type:"multiSelect",options:vF,validate:[]},{label:"Doses of Medications",name:"medicationDoses",type:"textareascroll",placeholder:"Enter medication and doses",validate:[Lr]},{label:"Current Symptoms",name:"currentSymptoms",type:"textareascroll",placeholder:"Describe current symptoms",validate:[Lr]},{label:"Additional Notes",name:"additionalNotes",type:"textareascroll",placeholder:"Any additional notes",validate:[]}],bF=()=>{const s=Mi(),{currentUser:r}=kl(),[n,t]=Te.useState({}),[o,c]=Te.useState({}),[l,h]=Te.useState(null),a=f=>{const{name:p,value:b}=f.target;t(m=>({...m,[p]:b}));const y=Rc.find(m=>m.name===p);if(y&&y.validate){const m=y.validate.map(g=>g(b,n)).flat();m.length===0?c(g=>({...g,[p]:[]})):c(g=>({...g,[p]:m}))}else c(m=>({...m,[p]:[]}));h(null)},d=(f,p)=>{const b=f?f.map(m=>m.value):[];t(m=>({...m,[p]:b}));const y=Rc.find(m=>m.name===p);if(y&&y.validate){const m=y.validate.map(g=>g(b,n)).flat();b.length>0?c(g=>({...g,[p]:[]})):c(g=>({...g,[p]:m}))}else c(m=>({...m,[p]:[]}));h(null)},_=()=>{const f={};let p=!1;if(Rc.forEach(b=>{const y=n[b.name];if(b.validate){const m=b.validate.map(g=>g(y,n)).flat();m.length>0&&(f[b.name]=m,p=!0)}}),n.dob&&n.age){const b=Hj(n.dob,n.age);b.length>0&&(f.age=b,p=!0)}return c(f),!p},w=async f=>{if(f.preventDefault(),!_()){h({message:"Please fill all missing fields.",type:"error"});return}try{const p=new Date,b=p.toLocaleString(),y={...n,userId:(r==null?void 0:r.uid)||"anonymous",timestamp:p.toISOString(),localDateTime:b},m=di(ki(Qn,`users/${r==null?void 0:r.uid}/medical-interviews`));await Ra(m,y);const g=Object.keys(y).map(S=>{const j=Array.isArray(y[S])?y[S].join(";"):y[S];return`${S},${j}`}).join(`
`),v=_l(Sl,`users/${r==null?void 0:r.uid}/medical-interviews/${p.toISOString()}.csv`);await yj(v,g),h({message:"Data submitted successfully.",type:"success"}),setTimeout(()=>{s("/thank-you",{state:{type:"medical"}})},2e3)}catch(p){console.error("Error submitting medical interviews:",p),h({message:"Error submitting data. Please try again.",type:"error"})}};return $.jsxs(Gn,{bgColor:"bg-orange-100",children:[$.jsx("h2",{className:"text-3xl font-bold mb-4 text-center",children:"Medical Interview"}),$.jsx(ap,{}),$.jsxs("form",{onSubmit:w,children:[$.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-24",children:Rc.filter(f=>f.type!=="textareascroll").map(f=>f.type==="input"?$.jsx(fi,{label:f.label,name:f.name,type:f.inputType,value:n[f.name]||"",onChange:a,placeholder:f.placeholder,errors:o[f.name]},f.name):f.type==="autosizeinput"?$.jsx(HE,{label:f.label,name:f.name,value:n[f.name]||"",onChange:a,placeholder:f.placeholder,errors:o[f.name]},f.name):f.type==="select"?$.jsx(FE,{label:f.label,name:f.name,value:n[f.name]||"",onChange:a,options:f.options,errors:o[f.name]},f.name):f.type==="selectWithOther"?$.jsx(VE,{label:f.label,name:f.name,value:n[f.name]||"",onChange:a,options:f.options,errors:o[f.name]},f.name):f.type==="multiSelect"?$.jsx(BE,{label:f.label,name:f.name,value:n[f.name]||[],onChange:p=>d(p,f.name),options:f.options,errors:o[f.name]},f.name):f.type==="multiSelectWithOther"?$.jsx(zE,{label:f.label,name:f.name,values:n[f.name]||[],onChange:d,options:f.options,errors:o[f.name]},f.name):null)}),$.jsxs("div",{className:"mt-4",children:[$.jsx("h3",{className:"text-xl font-bold mb-4",children:"Additional Information"}),Rc.filter(f=>f.type==="textareascroll").map(f=>$.jsx(GE,{label:f.label,name:f.name,value:n[f.name]||"",onChange:a,errors:o[f.name]},f.name))]}),l&&$.jsx(Cn,{message:l.message,type:l.type}),$.jsx("div",{className:"flex justify-between items-center mt-4",children:$.jsx(Hs,{type:"submit",className:"w-full bg-blue-500 hover:bg-blue-700 border border-blue-700",children:"Submit"})})]})]})};var Jh={exports:{}};/* @license
Papa Parse
v5.4.1
https://github.com/mholt/PapaParse
License: MIT
*/var _F=Jh.exports,dx;function wF(){return dx||(dx=1,function(s,r){(function(n,t){s.exports=t()})(_F,function n(){var t=typeof self<"u"?self:typeof window<"u"?window:t!==void 0?t:{},o=!t.document&&!!t.postMessage,c=t.IS_PAPA_WORKER||!1,l={},h=0,a={parse:function(T,R){var D=(R=R||{}).dynamicTyping||!1;if(C(D)&&(R.dynamicTypingFunction=D,D={}),R.dynamicTyping=D,R.transform=!!C(R.transform)&&R.transform,R.worker&&a.WORKERS_SUPPORTED){var k=function(){if(!a.WORKERS_SUPPORTED)return!1;var P=(z=t.URL||t.webkitURL||null,H=n.toString(),a.BLOB_URL||(a.BLOB_URL=z.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",H,")();"],{type:"text/javascript"})))),q=new t.Worker(P),z,H;return q.onmessage=v,q.id=h++,l[q.id]=q}();return k.userStep=R.step,k.userChunk=R.chunk,k.userComplete=R.complete,k.userError=R.error,R.step=C(R.step),R.chunk=C(R.chunk),R.complete=C(R.complete),R.error=C(R.error),delete R.worker,void k.postMessage({input:T,config:R,workerId:k.id})}var F=null;return a.NODE_STREAM_INPUT,typeof T=="string"?(T=function(P){return P.charCodeAt(0)===65279?P.slice(1):P}(T),F=R.download?new w(R):new p(R)):T.readable===!0&&C(T.read)&&C(T.on)?F=new b(R):(t.File&&T instanceof File||T instanceof Object)&&(F=new f(R)),F.stream(T)},unparse:function(T,R){var D=!1,k=!0,F=",",P=`\r
`,q='"',z=q+q,H=!1,Q=null,J=!1;(function(){if(typeof R=="object"){if(typeof R.delimiter!="string"||a.BAD_DELIMITERS.filter(function(le){return R.delimiter.indexOf(le)!==-1}).length||(F=R.delimiter),(typeof R.quotes=="boolean"||typeof R.quotes=="function"||Array.isArray(R.quotes))&&(D=R.quotes),typeof R.skipEmptyLines!="boolean"&&typeof R.skipEmptyLines!="string"||(H=R.skipEmptyLines),typeof R.newline=="string"&&(P=R.newline),typeof R.quoteChar=="string"&&(q=R.quoteChar),typeof R.header=="boolean"&&(k=R.header),Array.isArray(R.columns)){if(R.columns.length===0)throw new Error("Option columns is empty");Q=R.columns}R.escapeChar!==void 0&&(z=R.escapeChar+q),(typeof R.escapeFormulae=="boolean"||R.escapeFormulae instanceof RegExp)&&(J=R.escapeFormulae instanceof RegExp?R.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var Z=new RegExp(m(q),"g");if(typeof T=="string"&&(T=JSON.parse(T)),Array.isArray(T)){if(!T.length||Array.isArray(T[0]))return K(null,T,H);if(typeof T[0]=="object")return K(Q||Object.keys(T[0]),T,H)}else if(typeof T=="object")return typeof T.data=="string"&&(T.data=JSON.parse(T.data)),Array.isArray(T.data)&&(T.fields||(T.fields=T.meta&&T.meta.fields||Q),T.fields||(T.fields=Array.isArray(T.data[0])?T.fields:typeof T.data[0]=="object"?Object.keys(T.data[0]):[]),Array.isArray(T.data[0])||typeof T.data[0]=="object"||(T.data=[T.data])),K(T.fields||[],T.data||[],H);throw new Error("Unable to serialize unrecognized input");function K(le,M,G){var X="";typeof le=="string"&&(le=JSON.parse(le)),typeof M=="string"&&(M=JSON.parse(M));var ee=Array.isArray(le)&&0<le.length,ae=!Array.isArray(M[0]);if(ee&&k){for(var ce=0;ce<le.length;ce++)0<ce&&(X+=F),X+=se(le[ce],ce);0<M.length&&(X+=P)}for(var pe=0;pe<M.length;pe++){var ve=ee?le.length:M[pe].length,ge=!1,Se=ee?Object.keys(M[pe]).length===0:M[pe].length===0;if(G&&!ee&&(ge=G==="greedy"?M[pe].join("").trim()==="":M[pe].length===1&&M[pe][0].length===0),G==="greedy"&&ee){for(var xe=[],he=0;he<ve;he++){var je=ae?le[he]:he;xe.push(M[pe][je])}ge=xe.join("").trim()===""}if(!ge){for(var Ce=0;Ce<ve;Ce++){0<Ce&&!Se&&(X+=F);var De=ee&&ae?le[Ce]:Ce;X+=se(M[pe][De],Ce)}pe<M.length-1&&(!G||0<ve&&!Se)&&(X+=P)}}return X}function se(le,M){if(le==null)return"";if(le.constructor===Date)return JSON.stringify(le).slice(1,25);var G=!1;J&&typeof le=="string"&&J.test(le)&&(le="'"+le,G=!0);var X=le.toString().replace(Z,z);return(G=G||D===!0||typeof D=="function"&&D(le,M)||Array.isArray(D)&&D[M]||function(ee,ae){for(var ce=0;ce<ae.length;ce++)if(-1<ee.indexOf(ae[ce]))return!0;return!1}(X,a.BAD_DELIMITERS)||-1<X.indexOf(F)||X.charAt(0)===" "||X.charAt(X.length-1)===" ")?q+X+q:X}}};if(a.RECORD_SEP="",a.UNIT_SEP="",a.BYTE_ORDER_MARK="\uFEFF",a.BAD_DELIMITERS=["\r",`
`,'"',a.BYTE_ORDER_MARK],a.WORKERS_SUPPORTED=!o&&!!t.Worker,a.NODE_STREAM_INPUT=1,a.LocalChunkSize=10485760,a.RemoteChunkSize=5242880,a.DefaultDelimiter=",",a.Parser=g,a.ParserHandle=y,a.NetworkStreamer=w,a.FileStreamer=f,a.StringStreamer=p,a.ReadableStreamStreamer=b,t.jQuery){var d=t.jQuery;d.fn.parse=function(T){var R=T.config||{},D=[];return this.each(function(P){if(!(d(this).prop("tagName").toUpperCase()==="INPUT"&&d(this).attr("type").toLowerCase()==="file"&&t.FileReader)||!this.files||this.files.length===0)return!0;for(var q=0;q<this.files.length;q++)D.push({file:this.files[q],inputElem:this,instanceConfig:d.extend({},R)})}),k(),this;function k(){if(D.length!==0){var P,q,z,H,Q=D[0];if(C(T.before)){var J=T.before(Q.file,Q.inputElem);if(typeof J=="object"){if(J.action==="abort")return P="AbortError",q=Q.file,z=Q.inputElem,H=J.reason,void(C(T.error)&&T.error({name:P},q,z,H));if(J.action==="skip")return void F();typeof J.config=="object"&&(Q.instanceConfig=d.extend(Q.instanceConfig,J.config))}else if(J==="skip")return void F()}var Z=Q.instanceConfig.complete;Q.instanceConfig.complete=function(K){C(Z)&&Z(K,Q.file,Q.inputElem),F()},a.parse(Q.file,Q.instanceConfig)}else C(T.complete)&&T.complete()}function F(){D.splice(0,1),k()}}}function _(T){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(R){var D=A(R);D.chunkSize=parseInt(D.chunkSize),R.step||R.chunk||(D.chunkSize=null),this._handle=new y(D),(this._handle.streamer=this)._config=D}).call(this,T),this.parseChunk=function(R,D){if(this.isFirstChunk&&C(this._config.beforeFirstChunk)){var k=this._config.beforeFirstChunk(R);k!==void 0&&(R=k)}this.isFirstChunk=!1,this._halted=!1;var F=this._partialLine+R;this._partialLine="";var P=this._handle.parse(F,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var q=P.meta.cursor;this._finished||(this._partialLine=F.substring(q-this._baseIndex),this._baseIndex=q),P&&P.data&&(this._rowCount+=P.data.length);var z=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(c)t.postMessage({results:P,workerId:a.WORKER_ID,finished:z});else if(C(this._config.chunk)&&!D){if(this._config.chunk(P,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);P=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(P.data),this._completeResults.errors=this._completeResults.errors.concat(P.errors),this._completeResults.meta=P.meta),this._completed||!z||!C(this._config.complete)||P&&P.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),z||P&&P.meta.paused||this._nextChunk(),P}this._halted=!0},this._sendError=function(R){C(this._config.error)?this._config.error(R):c&&this._config.error&&t.postMessage({workerId:a.WORKER_ID,error:R,finished:!1})}}function w(T){var R;(T=T||{}).chunkSize||(T.chunkSize=a.RemoteChunkSize),_.call(this,T),this._nextChunk=o?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(D){this._input=D,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(R=new XMLHttpRequest,this._config.withCredentials&&(R.withCredentials=this._config.withCredentials),o||(R.onload=L(this._chunkLoaded,this),R.onerror=L(this._chunkError,this)),R.open(this._config.downloadRequestBody?"POST":"GET",this._input,!o),this._config.downloadRequestHeaders){var D=this._config.downloadRequestHeaders;for(var k in D)R.setRequestHeader(k,D[k])}if(this._config.chunkSize){var F=this._start+this._config.chunkSize-1;R.setRequestHeader("Range","bytes="+this._start+"-"+F)}try{R.send(this._config.downloadRequestBody)}catch(P){this._chunkError(P.message)}o&&R.status===0&&this._chunkError()}},this._chunkLoaded=function(){R.readyState===4&&(R.status<200||400<=R.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:R.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(D){var k=D.getResponseHeader("Content-Range");return k===null?-1:parseInt(k.substring(k.lastIndexOf("/")+1))}(R),this.parseChunk(R.responseText)))},this._chunkError=function(D){var k=R.statusText||D;this._sendError(new Error(k))}}function f(T){var R,D;(T=T||{}).chunkSize||(T.chunkSize=a.LocalChunkSize),_.call(this,T);var k=typeof FileReader<"u";this.stream=function(F){this._input=F,D=F.slice||F.webkitSlice||F.mozSlice,k?((R=new FileReader).onload=L(this._chunkLoaded,this),R.onerror=L(this._chunkError,this)):R=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var F=this._input;if(this._config.chunkSize){var P=Math.min(this._start+this._config.chunkSize,this._input.size);F=D.call(F,this._start,P)}var q=R.readAsText(F,this._config.encoding);k||this._chunkLoaded({target:{result:q}})},this._chunkLoaded=function(F){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(F.target.result)},this._chunkError=function(){this._sendError(R.error)}}function p(T){var R;_.call(this,T=T||{}),this.stream=function(D){return R=D,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var D,k=this._config.chunkSize;return k?(D=R.substring(0,k),R=R.substring(k)):(D=R,R=""),this._finished=!R,this.parseChunk(D)}}}function b(T){_.call(this,T=T||{});var R=[],D=!0,k=!1;this.pause=function(){_.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){_.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(F){this._input=F,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){k&&R.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),R.length?this.parseChunk(R.shift()):D=!0},this._streamData=L(function(F){try{R.push(typeof F=="string"?F:F.toString(this._config.encoding)),D&&(D=!1,this._checkIsFinished(),this.parseChunk(R.shift()))}catch(P){this._streamError(P)}},this),this._streamError=L(function(F){this._streamCleanUp(),this._sendError(F)},this),this._streamEnd=L(function(){this._streamCleanUp(),k=!0,this._streamData("")},this),this._streamCleanUp=L(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function y(T){var R,D,k,F=Math.pow(2,53),P=-F,q=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,z=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,H=this,Q=0,J=0,Z=!1,K=!1,se=[],le={data:[],errors:[],meta:{}};if(C(T.step)){var M=T.step;T.step=function(pe){if(le=pe,ee())X();else{if(X(),le.data.length===0)return;Q+=pe.data.length,T.preview&&Q>T.preview?D.abort():(le.data=le.data[0],M(le,H))}}}function G(pe){return T.skipEmptyLines==="greedy"?pe.join("").trim()==="":pe.length===1&&pe[0].length===0}function X(){return le&&k&&(ce("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+a.DefaultDelimiter+"'"),k=!1),T.skipEmptyLines&&(le.data=le.data.filter(function(pe){return!G(pe)})),ee()&&function(){if(!le)return;function pe(ge,Se){C(T.transformHeader)&&(ge=T.transformHeader(ge,Se)),se.push(ge)}if(Array.isArray(le.data[0])){for(var ve=0;ee()&&ve<le.data.length;ve++)le.data[ve].forEach(pe);le.data.splice(0,1)}else le.data.forEach(pe)}(),function(){if(!le||!T.header&&!T.dynamicTyping&&!T.transform)return le;function pe(ge,Se){var xe,he=T.header?{}:[];for(xe=0;xe<ge.length;xe++){var je=xe,Ce=ge[xe];T.header&&(je=xe>=se.length?"__parsed_extra":se[xe]),T.transform&&(Ce=T.transform(Ce,je)),Ce=ae(je,Ce),je==="__parsed_extra"?(he[je]=he[je]||[],he[je].push(Ce)):he[je]=Ce}return T.header&&(xe>se.length?ce("FieldMismatch","TooManyFields","Too many fields: expected "+se.length+" fields but parsed "+xe,J+Se):xe<se.length&&ce("FieldMismatch","TooFewFields","Too few fields: expected "+se.length+" fields but parsed "+xe,J+Se)),he}var ve=1;return!le.data.length||Array.isArray(le.data[0])?(le.data=le.data.map(pe),ve=le.data.length):le.data=pe(le.data,0),T.header&&le.meta&&(le.meta.fields=se),J+=ve,le}()}function ee(){return T.header&&se.length===0}function ae(pe,ve){return ge=pe,T.dynamicTypingFunction&&T.dynamicTyping[ge]===void 0&&(T.dynamicTyping[ge]=T.dynamicTypingFunction(ge)),(T.dynamicTyping[ge]||T.dynamicTyping)===!0?ve==="true"||ve==="TRUE"||ve!=="false"&&ve!=="FALSE"&&(function(Se){if(q.test(Se)){var xe=parseFloat(Se);if(P<xe&&xe<F)return!0}return!1}(ve)?parseFloat(ve):z.test(ve)?new Date(ve):ve===""?null:ve):ve;var ge}function ce(pe,ve,ge,Se){var xe={type:pe,code:ve,message:ge};Se!==void 0&&(xe.row=Se),le.errors.push(xe)}this.parse=function(pe,ve,ge){var Se=T.quoteChar||'"';if(T.newline||(T.newline=function(je,Ce){je=je.substring(0,1048576);var De=new RegExp(m(Ce)+"([^]*?)"+m(Ce),"gm"),Oe=(je=je.replace(De,"")).split("\r"),ke=je.split(`
`),Fe=1<ke.length&&ke[0].length<Oe[0].length;if(Oe.length===1||Fe)return`
`;for(var Je=0,Ue=0;Ue<Oe.length;Ue++)Oe[Ue][0]===`
`&&Je++;return Je>=Oe.length/2?`\r
`:"\r"}(pe,Se)),k=!1,T.delimiter)C(T.delimiter)&&(T.delimiter=T.delimiter(pe),le.meta.delimiter=T.delimiter);else{var xe=function(je,Ce,De,Oe,ke){var Fe,Je,Ue,mt;ke=ke||[",","	","|",";",a.RECORD_SEP,a.UNIT_SEP];for(var ut=0;ut<ke.length;ut++){var it=ke[ut],ft=0,lt=0,Le=0;Ue=void 0;for(var et=new g({comments:Oe,delimiter:it,newline:Ce,preview:10}).parse(je),Be=0;Be<et.data.length;Be++)if(De&&G(et.data[Be]))Le++;else{var de=et.data[Be].length;lt+=de,Ue!==void 0?0<de&&(ft+=Math.abs(de-Ue),Ue=de):Ue=de}0<et.data.length&&(lt/=et.data.length-Le),(Je===void 0||ft<=Je)&&(mt===void 0||mt<lt)&&1.99<lt&&(Je=ft,Fe=it,mt=lt)}return{successful:!!(T.delimiter=Fe),bestDelimiter:Fe}}(pe,T.newline,T.skipEmptyLines,T.comments,T.delimitersToGuess);xe.successful?T.delimiter=xe.bestDelimiter:(k=!0,T.delimiter=a.DefaultDelimiter),le.meta.delimiter=T.delimiter}var he=A(T);return T.preview&&T.header&&he.preview++,R=pe,D=new g(he),le=D.parse(R,ve,ge),X(),Z?{meta:{paused:!0}}:le||{meta:{paused:!1}}},this.paused=function(){return Z},this.pause=function(){Z=!0,D.abort(),R=C(T.chunk)?"":R.substring(D.getCharIndex())},this.resume=function(){H.streamer._halted?(Z=!1,H.streamer.parseChunk(R,!0)):setTimeout(H.resume,3)},this.aborted=function(){return K},this.abort=function(){K=!0,D.abort(),le.meta.aborted=!0,C(T.complete)&&T.complete(le),R=""}}function m(T){return T.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function g(T){var R,D=(T=T||{}).delimiter,k=T.newline,F=T.comments,P=T.step,q=T.preview,z=T.fastMode,H=R=T.quoteChar===void 0||T.quoteChar===null?'"':T.quoteChar;if(T.escapeChar!==void 0&&(H=T.escapeChar),(typeof D!="string"||-1<a.BAD_DELIMITERS.indexOf(D))&&(D=","),F===D)throw new Error("Comment character same as delimiter");F===!0?F="#":(typeof F!="string"||-1<a.BAD_DELIMITERS.indexOf(F))&&(F=!1),k!==`
`&&k!=="\r"&&k!==`\r
`&&(k=`
`);var Q=0,J=!1;this.parse=function(Z,K,se){if(typeof Z!="string")throw new Error("Input must be a string");var le=Z.length,M=D.length,G=k.length,X=F.length,ee=C(P),ae=[],ce=[],pe=[],ve=Q=0;if(!Z)return me();if(T.header&&!K){var ge=Z.split(k)[0].split(D),Se=[],xe={},he=!1;for(var je in ge){var Ce=ge[je];C(T.transformHeader)&&(Ce=T.transformHeader(Ce,je));var De=Ce,Oe=xe[Ce]||0;for(0<Oe&&(he=!0,De=Ce+"_"+Oe),xe[Ce]=Oe+1;Se.includes(De);)De=De+"_"+Oe;Se.push(De)}if(he){var ke=Z.split(k);ke[0]=Se.join(D),Z=ke.join(k)}}if(z||z!==!1&&Z.indexOf(R)===-1){for(var Fe=Z.split(k),Je=0;Je<Fe.length;Je++){if(pe=Fe[Je],Q+=pe.length,Je!==Fe.length-1)Q+=k.length;else if(se)return me();if(!F||pe.substring(0,X)!==F){if(ee){if(ae=[],Le(pe.split(D)),ie(),J)return me()}else Le(pe.split(D));if(q&&q<=Je)return ae=ae.slice(0,q),me(!0)}}return me()}for(var Ue=Z.indexOf(D,Q),mt=Z.indexOf(k,Q),ut=new RegExp(m(H)+m(R),"g"),it=Z.indexOf(R,Q);;)if(Z[Q]!==R)if(F&&pe.length===0&&Z.substring(Q,Q+X)===F){if(mt===-1)return me();Q=mt+G,mt=Z.indexOf(k,Q),Ue=Z.indexOf(D,Q)}else if(Ue!==-1&&(Ue<mt||mt===-1))pe.push(Z.substring(Q,Ue)),Q=Ue+M,Ue=Z.indexOf(D,Q);else{if(mt===-1)break;if(pe.push(Z.substring(Q,mt)),de(mt+G),ee&&(ie(),J))return me();if(q&&ae.length>=q)return me(!0)}else for(it=Q,Q++;;){if((it=Z.indexOf(R,it+1))===-1)return se||ce.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:ae.length,index:Q}),Be();if(it===le-1)return Be(Z.substring(Q,it).replace(ut,R));if(R!==H||Z[it+1]!==H){if(R===H||it===0||Z[it-1]!==H){Ue!==-1&&Ue<it+1&&(Ue=Z.indexOf(D,it+1)),mt!==-1&&mt<it+1&&(mt=Z.indexOf(k,it+1));var ft=et(mt===-1?Ue:Math.min(Ue,mt));if(Z.substr(it+1+ft,M)===D){pe.push(Z.substring(Q,it).replace(ut,R)),Z[Q=it+1+ft+M]!==R&&(it=Z.indexOf(R,Q)),Ue=Z.indexOf(D,Q),mt=Z.indexOf(k,Q);break}var lt=et(mt);if(Z.substring(it+1+lt,it+1+lt+G)===k){if(pe.push(Z.substring(Q,it).replace(ut,R)),de(it+1+lt+G),Ue=Z.indexOf(D,Q),it=Z.indexOf(R,Q),ee&&(ie(),J))return me();if(q&&ae.length>=q)return me(!0);break}ce.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:ae.length,index:Q}),it++}}else it++}return Be();function Le(ye){ae.push(ye),ve=Q}function et(ye){var Me=0;if(ye!==-1){var Ne=Z.substring(it+1,ye);Ne&&Ne.trim()===""&&(Me=Ne.length)}return Me}function Be(ye){return se||(ye===void 0&&(ye=Z.substring(Q)),pe.push(ye),Q=le,Le(pe),ee&&ie()),me()}function de(ye){Q=ye,Le(pe),pe=[],mt=Z.indexOf(k,Q)}function me(ye){return{data:ae,errors:ce,meta:{delimiter:D,linebreak:k,aborted:J,truncated:!!ye,cursor:ve+(K||0)}}}function ie(){P(me()),ae=[],ce=[]}},this.abort=function(){J=!0},this.getCharIndex=function(){return Q}}function v(T){var R=T.data,D=l[R.workerId],k=!1;if(R.error)D.userError(R.error,R.file);else if(R.results&&R.results.data){var F={abort:function(){k=!0,S(R.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:j,resume:j};if(C(D.userStep)){for(var P=0;P<R.results.data.length&&(D.userStep({data:R.results.data[P],errors:R.results.errors,meta:R.results.meta},F),!k);P++);delete R.results}else C(D.userChunk)&&(D.userChunk(R.results,F,R.file),delete R.results)}R.finished&&!k&&S(R.workerId,R.results)}function S(T,R){var D=l[T];C(D.userComplete)&&D.userComplete(R),D.terminate(),delete l[T]}function j(){throw new Error("Not implemented.")}function A(T){if(typeof T!="object"||T===null)return T;var R=Array.isArray(T)?[]:{};for(var D in T)R[D]=A(T[D]);return R}function L(T,R){return function(){T.apply(R,arguments)}}function C(T){return typeof T=="function"}return c&&(t.onmessage=function(T){var R=T.data;if(a.WORKER_ID===void 0&&R&&(a.WORKER_ID=R.workerId),typeof R.input=="string")t.postMessage({workerId:a.WORKER_ID,results:a.parse(R.input,R.config),finished:!0});else if(t.File&&R.input instanceof File||R.input instanceof Object){var D=a.parse(R.input,R.config);D&&t.postMessage({workerId:a.WORKER_ID,results:D,finished:!0})}}),(w.prototype=Object.create(_.prototype)).constructor=w,(f.prototype=Object.create(_.prototype)).constructor=f,(p.prototype=Object.create(p.prototype)).constructor=p,(b.prototype=Object.create(_.prototype)).constructor=b,a})}(Jh)),Jh.exports}var xF=wF();const ud=vy(xF),Uh=["Had difficulty doing the leisure activities which you would like to do?","Had difficulty looking after your home, e.g. DIY, housework, cooking?","Had difficulty carrying bags of shopping?","Had problems walking half a mile?","Had problems walking 100 yards?","Had problems getting around the house as easily as you would like?","Had difficulty getting around in public?","Needed someone else to accompany you when you went out?","Felt frightened or worried about falling over in public?","Been confined to the house more than you would like?","Had difficulty washing yourself?","Had difficulty dressing yourself?","Had problems doing your shoe laces?","Had problems writing clearly?","Had difficulty cutting up your food?","Had difficulty holding a drink without spilling it?","Felt depressed?","Felt isolated and lonely?","Felt weepy or tearful?","Felt angry or bitter?","Felt anxious?","Felt worried about your future?","Felt you had to conceal your Parkinson's from people?","Avoided situations which involve eating or drinking in public?","Felt embarrassed in public due to having Parkinson's disease?","Felt worried by other people's reaction to you?","Had problems with your close personal relationships?","Lacked support in the ways you need from your spouse or partner?","Lacked support in the ways you need from your family or close friends?","Unexpectedly fallen asleep during the day?","Had problems with your concentration, e.g. when reading or watching TV?","Felt your memory was bad?","Had distressing dreams or hallucinations?","Had difficulty with your speech?","Felt unable to communicate with people properly?","Felt ignored by people?","Had painful muscle cramps or spasms?","Had aches and pains in your joints or body?","Felt unpleasantly hot or cold?"],hu=10,SF=()=>{const s=Mi(),{currentUser:r}=kl(),[n,t]=Te.useState(Array(Uh.length).fill(null)),[o,c]=Te.useState({}),[l,h]=Te.useState(null),[a,d]=Te.useState(0),_=Math.ceil(Uh.length/hu),w=(y,m)=>{const g=[...n];g[y]=m,t(g);const v={...o};m!==null&&delete v[y],c(v),Object.keys(v).length===0&&h(null)},f=async y=>{y.preventDefault();const m={};let g=!1;if(n.forEach((v,S)=>{v===null&&(m[S]="This field is required",g=!0)}),c(m),g){h({message:"Please fill all fields.",type:"error"});return}try{const v=n.reduce((P,q)=>P+(q??0),0),S=(v/n.length).toFixed(2),j=(v/(n.length*4)*100).toFixed(2),A=new Date,L=A.toLocaleString(),C={responses:n,averageScore:S,normalizedScore:j,userId:(r==null?void 0:r.uid)||"anonymous",timestamp:A.toISOString(),localDateTime:L},T=di(ki(Qn,`users/${r==null?void 0:r.uid}/parkinsons-surveys`));await Ra(T,C);const R=n.map((P,q)=>({question:q+1,response:P})),D=ud.unparse(R),k=new Blob([D],{type:"text/csv;charset=utf-8;"}),F=_l(Sl,`users/${r==null?void 0:r.uid}/parkinsons-surveys/${A.toISOString()}.csv`);await id(F,k),h({message:`Submission successful! Your score is ${S} (${j}%)`,type:"success"}),setTimeout(()=>{s("/thank-you",{state:{type:"parkinsons",score:S,percentageScore:j}})},3e3)}catch(v){console.error("Error submitting survey:",v),h({message:"Error submitting survey. Please try again.",type:"error"})}},p=()=>{const y={};let m=!1;const g=a*hu,v=g+hu;Uh.slice(g,v).forEach((S,j)=>{const A=g+j;n[A]===null&&(y[A]="This field is required",m=!0)}),m?(c(S=>({...S,...y})),h({message:"Please fill all the fields on this page.",type:"error"})):(d(S=>S+1),h(null))},b=()=>{d(y=>y-1),h(null)};return $.jsx(Gn,{children:$.jsxs("div",{className:"w-full max-w-3xl p-8 bg-red-100 rounded-lg shadow-md border border-red-500 mx-auto",children:[$.jsx("h1",{className:"text-3xl font-bold mb-4 text-center",children:"Parkinson's Disease Questionnaire (PDQ-39)"}),$.jsx(ap,{}),$.jsx("form",{onSubmit:f,children:$.jsxs("div",{className:"grid grid-cols-1 justify-center",children:[Uh.slice(a*hu,(a+1)*hu).map((y,m)=>{const g=a*hu+m;return $.jsxs("div",{className:"mb-8",children:[$.jsx("label",{className:"block text-xl font-bold text-center text-gray-900 mb-4",children:`${g+1}. ${y}`}),$.jsx("div",{className:"flex justify-center space-x-8",children:[{label:"Never",color:"bg-blue-500"},{label:"Rarely",color:"bg-green-500"},{label:"Occasionally",color:"bg-yellow-500"},{label:"Often",color:"bg-orange-500"},{label:"Always",color:"bg-red-500"}].map((v,S)=>$.jsx("button",{type:"button",className:`text-sm px-4 py-2 border rounded ${n[g]===S?v.color+" text-white":"bg-gray-200"} ${o[g]?"border-red-500":"border-gray-300"}`,onClick:()=>w(g,S),children:v.label},S))}),o[g]&&$.jsx("p",{className:"text-red-500 text-sm mt-1",children:o[g]})]},g)}),l&&$.jsx(Cn,{message:l.message,type:l.type}),$.jsxs("div",{className:"flex justify-between mt-4",children:[a>0&&$.jsx("button",{type:"button",className:"bg-gray-500 rounded-md hover:bg-gray-700 border border-gray-700 px-4 py-2",onClick:b,children:"Previous"}),a<_-1&&$.jsx("button",{type:"button",className:"bg-blue-500 rounded-md hover:bg-blue-700 border border-blue-700 px-4 py-2",onClick:p,children:"Next"}),a===_-1&&$.jsx("button",{type:"submit",className:"bg-green-500 rounded-md hover:bg-green-700 border border-green-700 px-4 py-2",children:"Submit"})]})]})})]})})},jF=()=>$.jsx(Gn,{children:$.jsx("div",{className:"flex flex-col items-center justify-top min-h-screen p-4 bg-gray-100",children:$.jsxs("div",{className:"w-full max-w-lg bg-gray-200 p-8 rounded-lg shadow-md border border-gray-300",children:[$.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Setting Page"}),$.jsx("p",{className:"text-lg mb-6",children:"Coming Soon"}),$.jsx(un,{to:"/login",className:"text-blue-500 hover:text-blue-700",children:"Go to Login"})]})})}),EF=()=>$.jsx(Gn,{bgColor:"bg-gray-100",children:$.jsxs("div",{className:"w-full max-w-lg bg-gray-200 p-8 rounded-lg shadow-md border border-gray-300",children:[$.jsx("h1",{className:"text-4xl font-bold mb-4",children:"AccountPage"}),$.jsx("p",{className:"text-lg mb-6",children:"Coming Soon"}),$.jsx(un,{to:"/login",className:"text-blue-500 hover:text-blue-700",children:"Go to Login"})]})}),TF=()=>$.jsx(Gn,{children:$.jsx("div",{className:"flex flex-col items-center justify-top min-h-screen p-4 bg-gray-100",children:$.jsxs("div",{className:"w-full max-w-lg bg-gray-200 p-8 rounded-lg shadow-md border border-gray-300",children:[$.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Progress Notes Page"}),$.jsx("p",{className:"text-lg mb-6",children:"Coming Soon"}),$.jsx(un,{to:"/login",className:"text-blue-500 hover:text-blue-700",children:"Go to Login"})]})})});var Oc={},hx;function qE(){if(hx)return Oc;hx=1;function s(y){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?s=function(g){return typeof g}:s=function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},s(y)}Object.defineProperty(Oc,"__esModule",{value:!0}),Oc.Collapse=void 0;var r=n(cd());function n(y){return y&&y.__esModule?y:{default:y}}function t(y,m){if(!(y instanceof m))throw new TypeError("Cannot call a class as a function")}function o(y,m){for(var g=0;g<m.length;g++){var v=m[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(y,v.key,v)}}function c(y,m,g){return m&&o(y.prototype,m),y}function l(y,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(m&&m.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),m&&h(y,m)}function h(y,m){return h=Object.setPrototypeOf||function(v,S){return v.__proto__=S,v},h(y,m)}function a(y){var m=w();return function(){var v=f(y),S;if(m){var j=f(this).constructor;S=Reflect.construct(v,arguments,j)}else S=v.apply(this,arguments);return d(this,S)}}function d(y,m){if(m&&(s(m)==="object"||typeof m=="function"))return m;if(m!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _(y)}function _(y){if(y===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y}function w(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function f(y){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(g){return g.__proto__||Object.getPrototypeOf(g)},f(y)}function p(y,m,g){return m in y?Object.defineProperty(y,m,{value:g,enumerable:!0,configurable:!0,writable:!0}):y[m]=g,y}var b=function(y){l(g,y);var m=a(g);function g(v){var S;return t(this,g),S=m.call(this,v),p(_(S),"timeout",void 0),p(_(S),"container",void 0),p(_(S),"content",void 0),p(_(S),"onResize",function(){if(clearTimeout(S.timeout),!(!S.container||!S.content)){var j=S.props,A=j.isOpened,L=j.checkTimeout,C=Math.floor(S.container.clientHeight),T=Math.floor(S.content.clientHeight),R=A&&Math.abs(T-C)<=1,D=!A&&Math.abs(C)<=1;R||D?S.onRest({isFullyOpened:R,isFullyClosed:D,isOpened:A,containerHeight:C,contentHeight:T}):(S.onWork({isFullyOpened:R,isFullyClosed:D,isOpened:A,containerHeight:C,contentHeight:T}),S.timeout=setTimeout(function(){return S.onResize()},L))}}),p(_(S),"onRest",function(j){var A=j.isFullyOpened,L=j.isFullyClosed,C=j.isOpened,T=j.containerHeight,R=j.contentHeight;if(!(!S.container||!S.content)){var D=C&&S.container.style.height==="".concat(R,"px"),k=!C&&S.container.style.height==="0px";if(D||k){S.container.style.overflow=C?"initial":"hidden",S.container.style.height=C?"auto":"0px";var F=S.props.onRest;F&&F({isFullyOpened:A,isFullyClosed:L,isOpened:C,containerHeight:T,contentHeight:R})}}}),p(_(S),"onWork",function(j){var A=j.isFullyOpened,L=j.isFullyClosed,C=j.isOpened,T=j.containerHeight,R=j.contentHeight;if(!(!S.container||!S.content)){var D=C&&S.container.style.height==="".concat(R,"px"),k=!C&&S.container.style.height==="0px";if(!(D||k)){S.container.style.overflow="hidden",S.container.style.height=C?"".concat(R,"px"):"0px";var F=S.props.onWork;F&&F({isFullyOpened:A,isFullyClosed:L,isOpened:C,containerHeight:T,contentHeight:R})}}}),p(_(S),"onRefContainer",function(j){S.container=j}),p(_(S),"onRefContent",function(j){S.content=j}),v.initialStyle?S.initialStyle=v.initialStyle:S.initialStyle=v.isOpened?{height:"auto",overflow:"initial"}:{height:"0px",overflow:"hidden"},S}return c(g,[{key:"componentDidMount",value:function(){this.onResize()}},{key:"shouldComponentUpdate",value:function(S){var j=this.props,A=j.theme,L=j.isOpened,C=j.children;return C!==S.children||L!==S.isOpened||Object.keys(A).some(function(T){return A[T]!==S.theme[T]})}},{key:"getSnapshotBeforeUpdate",value:function(){if(!this.container||!this.content)return null;if(this.container.style.height==="auto"){var S=this.content.clientHeight;this.container.style.height="".concat(S,"px")}return null}},{key:"componentDidUpdate",value:function(){this.onResize()}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timeout)}},{key:"render",value:function(){var S=this.props,j=S.theme,A=S.children,L=S.isOpened;return r.default.createElement("div",{ref:this.onRefContainer,className:j.collapse,style:this.initialStyle,"aria-hidden":!L},r.default.createElement("div",{ref:this.onRefContent,className:j.content},A))}}]),g}(r.default.Component);return Oc.Collapse=b,p(b,"defaultProps",{theme:{collapse:"ReactCollapse--collapse",content:"ReactCollapse--content"},initialStyle:void 0,onRest:void 0,onWork:void 0,checkTimeout:50}),Oc}var Ic={},fx;function CF(){if(fx)return Ic;fx=1;function s(C){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?s=function(R){return typeof R}:s=function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R},s(C)}Object.defineProperty(Ic,"__esModule",{value:!0}),Ic.UnmountClosed=void 0;var r=c(cd()),n=qE(),t=["isOpened"],o=["isOpened"];function c(C){return C&&C.__esModule?C:{default:C}}function l(){return l=Object.assign||function(C){for(var T=1;T<arguments.length;T++){var R=arguments[T];for(var D in R)Object.prototype.hasOwnProperty.call(R,D)&&(C[D]=R[D])}return C},l.apply(this,arguments)}function h(C,T){var R=Object.keys(C);if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(C);T&&(D=D.filter(function(k){return Object.getOwnPropertyDescriptor(C,k).enumerable})),R.push.apply(R,D)}return R}function a(C){for(var T=1;T<arguments.length;T++){var R=arguments[T]!=null?arguments[T]:{};T%2?h(Object(R),!0).forEach(function(D){A(C,D,R[D])}):Object.getOwnPropertyDescriptors?Object.defineProperties(C,Object.getOwnPropertyDescriptors(R)):h(Object(R)).forEach(function(D){Object.defineProperty(C,D,Object.getOwnPropertyDescriptor(R,D))})}return C}function d(C,T){if(C==null)return{};var R=_(C,T),D,k;if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(C);for(k=0;k<F.length;k++)D=F[k],!(T.indexOf(D)>=0)&&Object.prototype.propertyIsEnumerable.call(C,D)&&(R[D]=C[D])}return R}function _(C,T){if(C==null)return{};var R={},D=Object.keys(C),k,F;for(F=0;F<D.length;F++)k=D[F],!(T.indexOf(k)>=0)&&(R[k]=C[k]);return R}function w(C,T){if(!(C instanceof T))throw new TypeError("Cannot call a class as a function")}function f(C,T){for(var R=0;R<T.length;R++){var D=T[R];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(C,D.key,D)}}function p(C,T,R){return T&&f(C.prototype,T),C}function b(C,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function");C.prototype=Object.create(T&&T.prototype,{constructor:{value:C,writable:!0,configurable:!0}}),T&&y(C,T)}function y(C,T){return y=Object.setPrototypeOf||function(D,k){return D.__proto__=k,D},y(C,T)}function m(C){var T=S();return function(){var D=j(C),k;if(T){var F=j(this).constructor;k=Reflect.construct(D,arguments,F)}else k=D.apply(this,arguments);return g(this,k)}}function g(C,T){if(T&&(s(T)==="object"||typeof T=="function"))return T;if(T!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return v(C)}function v(C){if(C===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C}function S(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function j(C){return j=Object.setPrototypeOf?Object.getPrototypeOf:function(R){return R.__proto__||Object.getPrototypeOf(R)},j(C)}function A(C,T,R){return T in C?Object.defineProperty(C,T,{value:R,enumerable:!0,configurable:!0,writable:!0}):C[T]=R,C}var L=function(C){b(R,C);var T=m(R);function R(D){var k;return w(this,R),k=T.call(this,D),A(v(k),"onWork",function(F){var P=F.isOpened,q=d(F,t);k.setState({isResting:!1,isOpened:P});var z=k.props.onWork;z&&z(a({isOpened:P},q))}),A(v(k),"onRest",function(F){var P=F.isOpened,q=d(F,o);k.setState({isResting:!0,isOpened:P,isInitialRender:!1});var z=k.props.onRest;z&&z(a({isOpened:P},q))}),A(v(k),"getInitialStyle",function(){var F=k.state,P=F.isOpened,q=F.isInitialRender;return q?P?{height:"auto",overflow:"initial"}:{height:"0px",overflow:"hidden"}:{height:"0px",overflow:"hidden"}}),k.state={isResting:!0,isOpened:D.isOpened,isInitialRender:!0},k}return p(R,[{key:"componentDidUpdate",value:function(k){var F=this.props.isOpened;k.isOpened!==F&&this.setState({isResting:!1,isOpened:F,isInitialRender:!1})}},{key:"render",value:function(){var k=this.state,F=k.isResting,P=k.isOpened;return F&&!P?null:r.default.createElement(n.Collapse,l({},this.props,{initialStyle:this.getInitialStyle(),onWork:this.onWork,onRest:this.onRest}))}}]),R}(r.default.PureComponent);return Ic.UnmountClosed=L,A(L,"defaultProps",{onWork:void 0,onRest:void 0}),Ic}var Ag,px;function AF(){if(px)return Ag;px=1;var s=qE(),r=s.Collapse,n=CF(),t=n.UnmountClosed;return Ag=t,t.Collapse=r,t.UnmountClosed=t,Ag}var lp=AF();const RF=({settings:s,setSettings:r,startAnimation:n,stopAnimation:t,resetAnimation:o})=>{const[c,l]=Te.useState(!0),{currentUser:h}=kl(),[a,d]=Te.useState(""),[_,w]=Te.useState([]),[f,p]=Te.useState({message:"",type:"success"});Te.useEffect(()=>{(async()=>{try{const g=ki(Qn,`users/${h.uid}/animation-settings`),S=(await Sv(g)).docs.map(j=>j.id);w(S)}catch(g){console.error("Error fetching preset names:",g)}})()},[h]);const b=async()=>{if(!a){p({message:"Please provide a name for the preset.",type:"error"});return}const m=new Date,g=m.toLocaleString(),v={...s,presetName:a,userId:h.uid,timestamp:m.toISOString(),localDateTime:g};try{const S=di(Qn,`users/${h.uid}/animation-settings/${a}`);await Ra(S,v);const j=Object.keys(v).map(T=>({setting:T,value:v[T]})),A=ud.unparse(j),L=new Blob([A],{type:"text/csv;charset=utf-8;"}),C=_l(Sl,`users/${h.uid}/animation-settings/${a}.csv`);await id(C,L),p({message:"Preset settings saved successfully!",type:"success"}),_.includes(a)||w([..._,a])}catch(S){console.error("Error saving preset settings:",S),p({message:"Error saving preset settings. Please try again.",type:"error"})}},y=async()=>{if(!a){p({message:"Please provide the name of the preset to load.",type:"error"});return}try{const m=di(Qn,`users/${h.uid}/animation-settings/${a}`),g=await ny(m);if(g.exists()){const v=g.data();r(v),p({message:"Preset settings loaded successfully!",type:"success"})}else p({message:"No settings found with that preset name.",type:"error"})}catch(m){console.error("Error loading preset settings:",m),p({message:"Error loading preset settings. Please try again.",type:"error"})}};return $.jsxs("div",{className:`fixed right-4 top-2 p-4 rounded ${c?"shadow-lg bg-transparent":""} w-60 z-50 h-full overflow-y-auto`,children:[$.jsx("button",{onClick:()=>l(!c),className:"mb-2 bg-gray-200 text-xs p-2 border p-2 rounded w-full ",children:c?"Collapse Controls":"Expand Controls"}),$.jsx(lp.Collapse,{isOpened:c,children:$.jsxs("div",{className:"space-y-2",children:[$.jsxs("div",{className:"text-xs flex space-x-2",children:[$.jsx("button",{onClick:n,className:"bg-green-500 text-xs text-white p-2 rounded w-1/3",children:"Start"}),$.jsx("button",{onClick:t,className:"bg-red-500 text-xs text-white p-2 rounded w-1/3",children:"Stop"}),$.jsx("button",{onClick:o,className:"bg-gray-500 text-xs text-white p-2 rounded w-1/3",children:"Reset"})]}),$.jsx("div",{className:"text-xs flex space-x-2",children:$.jsx("input",{type:"text",placeholder:"Preset Name",value:a,onChange:m=>d(m.target.value),className:"border p-2 rounded w-full"})}),$.jsxs("div",{className:"text-xs flex space-x-2",children:[$.jsx("button",{onClick:b,className:"bg-blue-500  text-xs text-white p-2 rounded w-1/2",children:"Save Preset"}),$.jsx("button",{onClick:y,className:"bg-yellow-500 text-xs text-white p-2 rounded w-1/2",children:"Load Preset"})]}),$.jsx("div",{className:" text-xs flex space-x-2",children:$.jsxs("select",{onChange:m=>d(m.target.value),value:a,className:"border p-2 rounded w-full text-xs",children:[$.jsx("option",{value:"",children:"Select Preset"}),_.map((m,g)=>$.jsx("option",{value:m,children:m},g))]})}),f.message&&$.jsx("div",{className:`alert ${f.type==="error"?"bg-red-500":"bg-green-500"} text-xs text-white p-2 rounded`,children:f.message}),$.jsxs("div",{className:"control-group text-xs",children:[$.jsx("label",{className:"block mb-2 text-xs",children:"Wave Type:"}),$.jsxs("select",{value:s.waveType,onChange:m=>r({...s,waveType:m.target.value}),className:"border p-2 rounded w-full",children:[$.jsx("option",{value:"sine",children:"Sine"}),$.jsx("option",{value:"tan",children:"Tan"}),$.jsx("option",{value:"cotan",children:"Cotan"}),$.jsx("option",{value:"sawtooth",children:"Sawtooth"}),$.jsx("option",{value:"square",children:"Square"}),$.jsx("option",{value:"triangle",children:"Triangle"})]})]}),$.jsxs("div",{className:"control-group text-xs",children:[$.jsx("label",{className:"block mb-2 text-xs",children:"Direction:"}),$.jsxs("select",{value:s.direction,onChange:m=>r({...s,direction:m.target.value}),className:"border p-2 rounded w-full",children:[$.jsx("option",{value:"static",children:"Static"}),$.jsx("option",{value:"up",children:"Up"}),$.jsx("option",{value:"down",children:"Down"}),$.jsx("option",{value:"left",children:"Left"}),$.jsx("option",{value:"right",children:"Right"}),$.jsx("option",{value:"oscillateUpDown",children:"Oscillate Up and Down"}),$.jsx("option",{value:"oscillateRightLeft",children:"Oscillate Right and Left"}),$.jsx("option",{value:"circular",children:"Circular"})]})]}),s.direction==="circular"&&$.jsxs($.Fragment,{children:[$.jsxs("div",{className:"control-group text-xs",children:[$.jsx("label",{className:"block mb-2 text-xs",children:"Rotation Speed:"}),$.jsx("input",{type:"range",min:"0.0",max:"2",step:"0.1",value:s.rotationSpeed,onChange:m=>r({...s,rotationSpeed:parseFloat(m.target.value)}),className:"w-full",list:"rotationSpeedSteps"}),$.jsx("datalist",{id:"rotationSpeedSteps",children:[...Array(100)].map((m,g)=>$.jsx("option",{value:g/100},g))})]}),$.jsxs("div",{className:"control-group text-xs ",children:[$.jsx("label",{className:"block mb-2 text-xs",children:"Rotation Radius:"}),$.jsx("input",{type:"range",min:"10",max:"500",value:s.rotationRadius,onChange:m=>r({...s,rotationRadius:parseFloat(m.target.value)}),className:"w-full",list:"rotationRadiusSteps"}),$.jsx("datalist",{id:"rotationRadiusSteps",children:[...Array(50)].map((m,g)=>$.jsx("option",{value:g*10},g))})]})]}),["oscillateUpDown","oscillateRightLeft"].includes(s.direction)&&$.jsxs("div",{className:"control-group",children:[$.jsx("label",{className:"block mb-2 text-xs",children:"Oscillation Range:"}),$.jsx("input",{type:"range",min:"10",max:Math.min(window.innerWidth,window.innerHeight),value:s.oscillationRange,onChange:m=>r({...s,oscillationRange:parseFloat(m.target.value)}),className:"w-full",list:"oscillationRangeSteps"}),$.jsx("datalist",{id:"oscillationRangeSteps",children:[...Array(10)].map((m,g)=>$.jsx("option",{value:g*10},g))})]}),$.jsxs("div",{className:"control-group text-xs",children:[$.jsx("label",{className:"block mb-2 text-xs",children:"Angle:"}),$.jsx("input",{type:"range",min:"0",max:"360",value:s.angle*(180/Math.PI),step:"1",onChange:m=>r({...s,angle:parseFloat(m.target.value)*(Math.PI/180)}),className:"w-full",list:"angleSteps"}),$.jsx("datalist",{id:"angleSteps",children:[...Array(36)].map((m,g)=>$.jsx("option",{value:g*10},g))})]}),$.jsxs("div",{className:"control-group text-xs",children:[$.jsx("label",{className:"block mb-2 text-xs",children:"Amplitude:"}),$.jsx("input",{type:"range",max:"360",min:"0",step:"1",value:s.amplitude,onChange:m=>r({...s,amplitude:parseFloat(m.target.value)}),className:"w-full",list:"amplitudeSteps"}),$.jsx("datalist",{id:"amplitudeSteps",children:[...Array(36)].map((m,g)=>$.jsx("option",{value:g*10},g))})]}),$.jsxs("div",{className:"control-group text-xs",children:[$.jsx("label",{className:"block mb-2 text-xs",children:"Frequency:"}),$.jsx("input",{type:"range",min:"1",max:"300",value:s.frequency,step:"1",onChange:m=>r({...s,frequency:parseFloat(m.target.value)}),className:"w-full",list:"frequencySteps"}),$.jsx("datalist",{id:"frequencySteps",children:[...Array(30)].map((m,g)=>$.jsx("option",{value:g*10},g))})]}),$.jsxs("div",{className:"control-group text-xs",children:[$.jsx("label",{className:"block mb-2 text-xs",children:"Speed:"}),$.jsx("input",{type:"range",min:"1",max:"100",value:s.speed*100,step:"1",onChange:m=>r({...s,speed:parseFloat(m.target.value)/100}),className:"w-full",list:"speedSteps"}),$.jsx("datalist",{id:"speedSteps",children:[...Array(10)].map((m,g)=>$.jsx("option",{value:g*10},g))})]}),$.jsxs("div",{className:"control-group text-xs",children:[$.jsx("label",{className:"block mb-2 text-xs",children:"Line Thickness:"}),$.jsx("input",{type:"range",min:"1",max:"10",value:s.thickness,step:"1",onChange:m=>r({...s,thickness:parseFloat(m.target.value)}),className:"w-full",list:"thicknessSteps"}),$.jsx("datalist",{id:"thicknessSteps",children:[...Array(10)].map((m,g)=>$.jsx("option",{value:g+1},g))})]}),$.jsxs("div",{className:"control-group text-xs",children:[$.jsx("label",{className:"block mb-2 text-xs",children:"Phase Offset:"}),$.jsx("input",{type:"range",min:"0",max:"360",value:s.phaseOffset*(180/Math.PI),step:"1",onChange:m=>r({...s,phaseOffset:parseFloat(m.target.value)/360*(2*Math.PI)}),className:"w-full",list:"phaseOffsetSteps"}),$.jsx("datalist",{id:"phaseOffsetSteps",children:[...Array(36)].map((m,g)=>$.jsx("option",{value:g*10},g))})]}),$.jsxs("div",{className:"control-group text-xs",children:[$.jsx("label",{className:"block mb-2 text-xs",children:"Number of Lines:"}),$.jsx("input",{type:"range",min:"1",max:"100",value:s.numLines,step:"1",onChange:m=>r({...s,numLines:parseInt(m.target.value,10)}),className:"w-full",list:"numLinesSteps"}),$.jsx("datalist",{id:"numLinesSteps",children:[...Array(10)].map((m,g)=>$.jsx("option",{value:g*10},g))})]}),$.jsxs("div",{className:"control-group text-xs",children:[$.jsx("label",{className:"block mb-2 text-xs",children:"Distance Between Lines:"}),$.jsx("input",{type:"range",min:"1",max:"200",value:s.distance,step:"1",onChange:m=>r({...s,distance:parseFloat(m.target.value)}),className:"w-full",list:"distanceSteps"}),$.jsx("datalist",{id:"distanceSteps",children:[...Array(20)].map((m,g)=>$.jsx("option",{value:g*10},g))})]}),$.jsxs("div",{className:"control-group text-xs",children:[$.jsx("label",{className:"block mb-2 text-xs",children:"Number of Groups:"}),$.jsx("input",{type:"range",min:"1",max:"10",value:s.groups,step:"1",onChange:m=>r({...s,groups:parseInt(m.target.value,10)}),className:"w-full",list:"groupsSteps"}),$.jsx("datalist",{id:"groupsSteps",children:[...Array(10)].map((m,g)=>$.jsx("option",{value:g+1},g))})]}),$.jsxs("div",{className:"control-group text-xs",children:[$.jsx("label",{className:"block mb-2 text-xs",children:"Distance between Groups:"}),$.jsx("input",{type:"range",min:"0",max:"1000",value:s.groupDistance,step:"1",onChange:m=>r({...s,groupDistance:parseFloat(m.target.value)}),className:"w-full",list:"groupDistanceSteps"}),$.jsx("datalist",{id:"groupDistanceSteps",children:[...Array(100)].map((m,g)=>$.jsx("option",{value:g*10},g))})]}),$.jsxs("div",{className:"control-group text-xs",children:[$.jsx("label",{className:"block mb-2 text-xs",children:"Background Color:"}),$.jsx("input",{type:"color",value:s.bgColor,onChange:m=>r({...s,bgColor:m.target.value}),className:"w-full"})]}),$.jsxs("div",{className:"control-group text-xs",children:[$.jsx("label",{className:"block mb-2 text-xs",children:"Line Color:"}),$.jsx("input",{type:"color",value:s.lineColor,onChange:m=>r({...s,lineColor:m.target.value}),className:"w-full"})]}),$.jsxs("div",{className:"control-group text-xs",children:[$.jsx("label",{className:"block mb-2 text-xs",children:"Use Palette:"}),$.jsxs("select",{value:s.selectedPalette,onChange:m=>r({...s,selectedPalette:m.target.value}),className:"border p-2 rounded w-full",children:[$.jsx("option",{value:"none",children:"None"}),$.jsx("option",{value:"rainbow",children:"Rainbow"}),$.jsx("option",{value:"pastel",children:"Pastel"})]})]})]})})]})},OF={Date:!0,RegExp:!0,String:!0,Number:!0};function WE(s,r,n={cyclesFix:!0},t=[]){var h,a;let o=[];const c=Array.isArray(s);for(const d in s){const _=s[d],w=c?+d:d;if(!(d in r)){o.push({type:"REMOVE",path:[w],oldValue:s[d]});continue}const f=r[d],p=typeof _=="object"&&typeof f=="object"&&Array.isArray(_)===Array.isArray(f);if(_&&f&&p&&!OF[(a=(h=Object.getPrototypeOf(_))==null?void 0:h.constructor)==null?void 0:a.name]&&(!n.cyclesFix||!t.includes(_))){const b=WE(_,f,n,n.cyclesFix?t.concat([_]):[]);o.push.apply(o,b.map(y=>(y.path.unshift(w),y)))}else _!==f&&!(Number.isNaN(_)&&Number.isNaN(f))&&!(p&&(isNaN(_)?_+""==f+"":+_==+f))&&o.push({path:[w],type:"CHANGE",value:f,oldValue:_})}const l=Array.isArray(r);for(const d in r)d in s||o.push({type:"CREATE",path:[l?+d:d],value:r[d]});return o}function Fh(s){throw new Error('Could not dynamically require "'+s+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Rg={exports:{}};/*! p5.js v1.11.2 November 28, 2024 */var mx;function IF(){return mx||(mx=1,function(s,r){(function(n){s.exports=n()})(function(){var n;return function t(o,c,l){function h(_,w){if(!c[_]){if(!o[_]){var f=typeof Fh=="function"&&Fh;if(!w&&f)return f(_,!0);if(a)return a(_,!0);throw(w=new Error("Cannot find module '"+_+"'")).code="MODULE_NOT_FOUND",w}f=c[_]={exports:{}},o[_][0].call(f.exports,function(p){return h(o[_][1][p]||p)},f,f.exports,t,o,c,l)}return c[_].exports}for(var a=typeof Fh=="function"&&Fh,d=0;d<l.length;d++)h(l[d]);return h}({1:[function(t,o,c){c.byteLength=function(y){var y=f(y),b=y[0],y=y[1];return 3*(b+y)/4-y},c.toByteArray=function(p){var b,y,g=f(p),m=g[0],g=g[1],v=new a(function(A,L){return 3*(A+L)/4-L}(m,g)),S=0,j=0<g?m-4:m;for(y=0;y<j;y+=4)b=h[p.charCodeAt(y)]<<18|h[p.charCodeAt(y+1)]<<12|h[p.charCodeAt(y+2)]<<6|h[p.charCodeAt(y+3)],v[S++]=b>>16&255,v[S++]=b>>8&255,v[S++]=255&b;return g===2&&(b=h[p.charCodeAt(y)]<<2|h[p.charCodeAt(y+1)]>>4,v[S++]=255&b),g===1&&(b=h[p.charCodeAt(y)]<<10|h[p.charCodeAt(y+1)]<<4|h[p.charCodeAt(y+2)]>>2,v[S++]=b>>8&255,v[S++]=255&b),v},c.fromByteArray=function(p){for(var b,y=p.length,m=y%3,g=[],v=0,S=y-m;v<S;v+=16383)g.push(function(j,A,L){for(var C,T=[],R=A;R<L;R+=3)C=(j[R]<<16&16711680)+(j[R+1]<<8&65280)+(255&j[R+2]),T.push(function(D){return l[D>>18&63]+l[D>>12&63]+l[D>>6&63]+l[63&D]}(C));return T.join("")}(p,v,S<v+16383?S:v+16383));return m==1?(b=p[y-1],g.push(l[b>>2]+l[b<<4&63]+"==")):m==2&&(b=(p[y-2]<<8)+p[y-1],g.push(l[b>>10]+l[b>>4&63]+l[b<<2&63]+"=")),g.join("")};for(var l=[],h=[],a=typeof Uint8Array<"u"?Uint8Array:Array,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_=0,w=d.length;_<w;++_)l[_]=d[_],h[d.charCodeAt(_)]=_;function f(p){var b=p.length;if(0<b%4)throw new Error("Invalid string. Length must be a multiple of 4");return p=p.indexOf("="),b=(p=p===-1?b:p)===b?0:4-p%4,[p,b]}h[45]=62,h[95]=63},{}],2:[function(t,o,c){},{}],3:[function(t,o,c){},{}],4:[function(t,o,c){(function(f){var h=t("base64-js"),a=t("ieee754"),d=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null,_=(c.Buffer=f,c.SlowBuffer=function(M){return+M!=M&&(M=0),f.alloc(+M)},c.INSPECT_MAX_BYTES=50,2147483647);function w(M){if(_<M)throw new RangeError('The value "'+M+'" is invalid for option "size"');return M=new Uint8Array(M),Object.setPrototypeOf(M,f.prototype),M}function f(M,G,X){if(typeof M!="number")return p(M,G,X);if(typeof G=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return y(M)}function p(M,G,X){if(typeof M=="string"){var ee=M,ae=G;if(f.isEncoding(ae=typeof ae=="string"&&ae!==""?ae:"utf8"))return ce=0|v(ee,ae),pe=w(ce),pe=(ee=pe.write(ee,ae))!==ce?pe.slice(0,ee):pe;throw new TypeError("Unknown encoding: "+ae)}if(ArrayBuffer.isView(M))return m(M);if(M!=null){if(K(M,ArrayBuffer)||M&&K(M.buffer,ArrayBuffer)){var ce=M,ee=G,pe=X;if(ee<0||ce.byteLength<ee)throw new RangeError('"offset" is outside of buffer bounds');if(ce.byteLength<ee+(pe||0))throw new RangeError('"length" is outside of buffer bounds');return ce=ee===void 0&&pe===void 0?new Uint8Array(ce):pe===void 0?new Uint8Array(ce,ee):new Uint8Array(ce,ee,pe),Object.setPrototypeOf(ce,f.prototype),ce}if(typeof M=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');if(ae=M.valueOf&&M.valueOf(),ae!=null&&ae!==M)return f.from(ae,G,X);var ve=function(ge){{var Se,xe;if(f.isBuffer(ge))return Se=0|g(ge.length),(xe=w(Se)).length!==0&&ge.copy(xe,0,0,Se),xe}if(ge.length!==void 0)return typeof ge.length!="number"||se(ge.length)?w(0):m(ge);if(ge.type==="Buffer"&&Array.isArray(ge.data))return m(ge.data)}(M);if(ve)return ve;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof M[Symbol.toPrimitive]=="function")return f.from(M[Symbol.toPrimitive]("string"),G,X)}throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof M)}function b(M){if(typeof M!="number")throw new TypeError('"size" argument must be of type number');if(M<0)throw new RangeError('The value "'+M+'" is invalid for option "size"')}function y(M){return b(M),w(M<0?0:0|g(M))}function m(M){for(var G=M.length<0?0:0|g(M.length),X=w(G),ee=0;ee<G;ee+=1)X[ee]=255&M[ee];return X}function g(M){if(_<=M)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+_.toString(16)+" bytes");return 0|M}function v(M,G){if(f.isBuffer(M))return M.length;if(ArrayBuffer.isView(M)||K(M,ArrayBuffer))return M.byteLength;if(typeof M!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof M);var X=M.length,ee=2<arguments.length&&arguments[2]===!0;if(!ee&&X===0)return 0;for(var ae=!1;;)switch(G){case"ascii":case"latin1":case"binary":return X;case"utf8":case"utf-8":return Q(M).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*X;case"hex":return X>>>1;case"base64":return J(M).length;default:if(ae)return ee?-1:Q(M).length;G=(""+G).toLowerCase(),ae=!0}}function S(M,G,X){var ee,ae=!1;if((G=G===void 0||G<0?0:G)>this.length||(X=X===void 0||X>this.length?this.length:X)<=0||(X>>>=0)<=(G>>>=0))return"";for(M=M||"utf8";;)switch(M){case"hex":var ce=this,Oe=G,pe=X,xe=ce.length;(!pe||pe<0||xe<pe)&&(pe=xe);for(var ve="",ge=Oe=!Oe||Oe<0?0:Oe;ge<pe;++ge)ve+=le[ce[ge]];return ve;case"utf8":case"utf-8":return R(this,G,X);case"ascii":var Se=this,xe=G,he=X,je="";he=Math.min(Se.length,he);for(var Ce=xe;Ce<he;++Ce)je+=String.fromCharCode(127&Se[Ce]);return je;case"latin1":case"binary":var De=this,Oe=G,ke=X,Fe="";ke=Math.min(De.length,ke);for(var Je=Oe;Je<ke;++Je)Fe+=String.fromCharCode(De[Je]);return Fe;case"base64":return Ue=this,ee=X,(mt=G)===0&&ee===Ue.length?h.fromByteArray(Ue):h.fromByteArray(Ue.slice(mt,ee));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(var Ue=G,mt=X,ut=this.slice(Ue,mt),it="",ft=0;ft<ut.length;ft+=2)it+=String.fromCharCode(ut[ft]+256*ut[ft+1]);return it;default:if(ae)throw new TypeError("Unknown encoding: "+M);M=(M+"").toLowerCase(),ae=!0}}function j(M,G,X){var ee=M[G];M[G]=M[X],M[X]=ee}function A(M,G,X,ee,ae){if(M.length===0)return-1;if(typeof X=="string"?(ee=X,X=0):2147483647<X?X=2147483647:X<-2147483648&&(X=-2147483648),(X=(X=se(X=+X)?ae?0:M.length-1:X)<0?M.length+X:X)>=M.length){if(ae)return-1;X=M.length-1}else if(X<0){if(!ae)return-1;X=0}if(typeof G=="string"&&(G=f.from(G,ee)),f.isBuffer(G))return G.length===0?-1:L(M,G,X,ee,ae);if(typeof G=="number")return G&=255,typeof Uint8Array.prototype.indexOf=="function"?(ae?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(M,G,X):L(M,[G],X,ee,ae);throw new TypeError("val must be string, number or Buffer")}function L(M,G,X,ee,ae){var ce=1,pe=M.length,ve=G.length;if(ee!==void 0&&((ee=String(ee).toLowerCase())==="ucs2"||ee==="ucs-2"||ee==="utf16le"||ee==="utf-16le")){if(M.length<2||G.length<2)return-1;pe/=ce=2,ve/=2,X/=2}function ge(Ce,De){return ce===1?Ce[De]:Ce.readUInt16BE(De*ce)}if(ae)for(var Se=-1,xe=X;xe<pe;xe++)if(ge(M,xe)===ge(G,Se===-1?0:xe-Se)){if(xe-(Se=Se===-1?xe:Se)+1===ve)return Se*ce}else Se!==-1&&(xe-=xe-Se),Se=-1;else for(xe=X=pe<X+ve?pe-ve:X;0<=xe;xe--){for(var he=!0,je=0;je<ve;je++)if(ge(M,xe+je)!==ge(G,je)){he=!1;break}if(he)return xe}return-1}function C(M,G,X,ee){return Z(function(ae){for(var ce=[],pe=0;pe<ae.length;++pe)ce.push(255&ae.charCodeAt(pe));return ce}(G),M,X,ee)}function T(M,G,X,ee){return Z(function(ae,ce){for(var pe,ve,ge=[],Se=0;Se<ae.length&&!((ce-=2)<0);++Se)ve=ae.charCodeAt(Se),pe=ve>>8,ve=ve%256,ge.push(ve),ge.push(pe);return ge}(G,M.length-X),M,X,ee)}function R(M,G,X){X=Math.min(M.length,X);for(var ee=[],ae=G;ae<X;){var ce,pe,ve,ge,Se=M[ae],xe=null,he=239<Se?4:223<Se?3:191<Se?2:1;if(ae+he<=X)switch(he){case 1:Se<128&&(xe=Se);break;case 2:(192&(ce=M[ae+1]))==128&&127<(ge=(31&Se)<<6|63&ce)&&(xe=ge);break;case 3:ce=M[ae+1],pe=M[ae+2],(192&ce)==128&&(192&pe)==128&&2047<(ge=(15&Se)<<12|(63&ce)<<6|63&pe)&&(ge<55296||57343<ge)&&(xe=ge);break;case 4:ce=M[ae+1],pe=M[ae+2],ve=M[ae+3],(192&ce)==128&&(192&pe)==128&&(192&ve)==128&&65535<(ge=(15&Se)<<18|(63&ce)<<12|(63&pe)<<6|63&ve)&&ge<1114112&&(xe=ge)}xe===null?(xe=65533,he=1):65535<xe&&(xe-=65536,ee.push(xe>>>10&1023|55296),xe=56320|1023&xe),ee.push(xe),ae+=he}var je=ee,Ce=je.length;if(Ce<=D)return String.fromCharCode.apply(String,je);for(var De="",Oe=0;Oe<Ce;)De+=String.fromCharCode.apply(String,je.slice(Oe,Oe+=D));return De}c.kMaxLength=_,(f.TYPED_ARRAY_SUPPORT=function(){try{var M=new Uint8Array(1),G={foo:function(){return 42}};return Object.setPrototypeOf(G,Uint8Array.prototype),Object.setPrototypeOf(M,G),M.foo()===42}catch{return!1}}())||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(f.prototype,"parent",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.buffer}}),Object.defineProperty(f.prototype,"offset",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&f[Symbol.species]===f&&Object.defineProperty(f,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),f.poolSize=8192,f.from=p,Object.setPrototypeOf(f.prototype,Uint8Array.prototype),Object.setPrototypeOf(f,Uint8Array),f.alloc=function(M,G,X){return G=G,X=X,b(M=M),!(M<=0)&&G!==void 0?typeof X=="string"?w(M).fill(G,X):w(M).fill(G):w(M)},f.allocUnsafe=y,f.allocUnsafeSlow=y,f.isBuffer=function(M){return M!=null&&M._isBuffer===!0&&M!==f.prototype},f.compare=function(M,G){if(K(M,Uint8Array)&&(M=f.from(M,M.offset,M.byteLength)),K(G,Uint8Array)&&(G=f.from(G,G.offset,G.byteLength)),!f.isBuffer(M)||!f.isBuffer(G))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(M===G)return 0;for(var X=M.length,ee=G.length,ae=0,ce=Math.min(X,ee);ae<ce;++ae)if(M[ae]!==G[ae]){X=M[ae],ee=G[ae];break}return X<ee?-1:ee<X?1:0},f.isEncoding=function(M){switch(String(M).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(M,G){if(!Array.isArray(M))throw new TypeError('"list" argument must be an Array of Buffers');if(M.length===0)return f.alloc(0);if(G===void 0)for(ae=G=0;ae<M.length;++ae)G+=M[ae].length;for(var X=f.allocUnsafe(G),ee=0,ae=0;ae<M.length;++ae){var ce=M[ae];if(K(ce,Uint8Array)&&(ce=f.from(ce)),!f.isBuffer(ce))throw new TypeError('"list" argument must be an Array of Buffers');ce.copy(X,ee),ee+=ce.length}return X},f.byteLength=v,f.prototype._isBuffer=!0,f.prototype.swap16=function(){var M=this.length;if(M%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var G=0;G<M;G+=2)j(this,G,G+1);return this},f.prototype.swap32=function(){var M=this.length;if(M%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var G=0;G<M;G+=4)j(this,G,G+3),j(this,G+1,G+2);return this},f.prototype.swap64=function(){var M=this.length;if(M%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var G=0;G<M;G+=8)j(this,G,G+7),j(this,G+1,G+6),j(this,G+2,G+5),j(this,G+3,G+4);return this},f.prototype.toLocaleString=f.prototype.toString=function(){var M=this.length;return M===0?"":arguments.length===0?R(this,0,M):S.apply(this,arguments)},f.prototype.equals=function(M){if(f.isBuffer(M))return this===M||f.compare(this,M)===0;throw new TypeError("Argument must be a Buffer")},f.prototype.inspect=function(){var G="",M=c.INSPECT_MAX_BYTES,G=this.toString("hex",0,M).replace(/(.{2})/g,"$1 ").trim();return this.length>M&&(G+=" ... "),"<Buffer "+G+">"},d&&(f.prototype[d]=f.prototype.inspect),f.prototype.compare=function(M,G,X,ee,ae){if(K(M,Uint8Array)&&(M=f.from(M,M.offset,M.byteLength)),!f.isBuffer(M))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof M);if(X===void 0&&(X=M?M.length:0),ee===void 0&&(ee=0),ae===void 0&&(ae=this.length),(G=G===void 0?0:G)<0||X>M.length||ee<0||ae>this.length)throw new RangeError("out of range index");if(ae<=ee&&X<=G)return 0;if(ae<=ee)return-1;if(X<=G)return 1;if(this===M)return 0;for(var ce=(ae>>>=0)-(ee>>>=0),pe=(X>>>=0)-(G>>>=0),ve=Math.min(ce,pe),ge=this.slice(ee,ae),Se=M.slice(G,X),xe=0;xe<ve;++xe)if(ge[xe]!==Se[xe]){ce=ge[xe],pe=Se[xe];break}return ce<pe?-1:pe<ce?1:0},f.prototype.includes=function(M,G,X){return this.indexOf(M,G,X)!==-1},f.prototype.indexOf=function(M,G,X){return A(this,M,G,X,!0)},f.prototype.lastIndexOf=function(M,G,X){return A(this,M,G,X,!1)},f.prototype.write=function(M,G,X,ee){if(G===void 0)ee="utf8",X=this.length,G=0;else if(X===void 0&&typeof G=="string")ee=G,X=this.length,G=0;else{if(!isFinite(G))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");G>>>=0,isFinite(X)?(X>>>=0,ee===void 0&&(ee="utf8")):(ee=X,X=void 0)}var ae=this.length-G;if((X===void 0||ae<X)&&(X=ae),0<M.length&&(X<0||G<0)||G>this.length)throw new RangeError("Attempt to write outside buffer bounds");ee=ee||"utf8";for(var ce,pe,ve,ge=!1;;)switch(ee){case"hex":var Se=this,xe=M,he=G,je=X,Ce=(he=Number(he)||0,Se.length-he);(!je||Ce<(je=Number(je)))&&(je=Ce),(Ce=xe.length)/2<je&&(je=Ce/2);for(var De=0;De<je;++De){var Oe=parseInt(xe.substr(2*De,2),16);if(se(Oe))return De;Se[he+De]=Oe}return De;case"utf8":case"utf-8":return Ce=G,ve=X,Z(Q(M,(pe=this).length-Ce),pe,Ce,ve);case"ascii":return C(this,M,G,X);case"latin1":case"binary":return C(this,M,G,X);case"base64":return pe=this,ve=G,ce=X,Z(J(M),pe,ve,ce);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,M,G,X);default:if(ge)throw new TypeError("Unknown encoding: "+ee);ee=(""+ee).toLowerCase(),ge=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var D=4096;function k(M,G,X){if(M%1!=0||M<0)throw new RangeError("offset is not uint");if(X<M+G)throw new RangeError("Trying to access beyond buffer length")}function F(M,G,X,ee,ae,ce){if(!f.isBuffer(M))throw new TypeError('"buffer" argument must be a Buffer instance');if(ae<G||G<ce)throw new RangeError('"value" argument is out of bounds');if(X+ee>M.length)throw new RangeError("Index out of range")}function P(M,G,X,ee){if(X+ee>M.length)throw new RangeError("Index out of range");if(X<0)throw new RangeError("Index out of range")}function q(M,G,X,ee,ae){return G=+G,X>>>=0,ae||P(M,0,X,4),a.write(M,G,X,ee,23,4),X+4}function z(M,G,X,ee,ae){return G=+G,X>>>=0,ae||P(M,0,X,8),a.write(M,G,X,ee,52,8),X+8}f.prototype.slice=function(M,G){var X=this.length,X=((M=~~M)<0?(M+=X)<0&&(M=0):X<M&&(M=X),(G=G===void 0?X:~~G)<0?(G+=X)<0&&(G=0):X<G&&(G=X),G<M&&(G=M),this.subarray(M,G));return Object.setPrototypeOf(X,f.prototype),X},f.prototype.readUIntLE=function(M,G,X){M>>>=0,G>>>=0,X||k(M,G,this.length);for(var ee=this[M],ae=1,ce=0;++ce<G&&(ae*=256);)ee+=this[M+ce]*ae;return ee},f.prototype.readUIntBE=function(M,G,X){M>>>=0,G>>>=0,X||k(M,G,this.length);for(var ee=this[M+--G],ae=1;0<G&&(ae*=256);)ee+=this[M+--G]*ae;return ee},f.prototype.readUInt8=function(M,G){return M>>>=0,G||k(M,1,this.length),this[M]},f.prototype.readUInt16LE=function(M,G){return M>>>=0,G||k(M,2,this.length),this[M]|this[M+1]<<8},f.prototype.readUInt16BE=function(M,G){return M>>>=0,G||k(M,2,this.length),this[M]<<8|this[M+1]},f.prototype.readUInt32LE=function(M,G){return M>>>=0,G||k(M,4,this.length),(this[M]|this[M+1]<<8|this[M+2]<<16)+16777216*this[M+3]},f.prototype.readUInt32BE=function(M,G){return M>>>=0,G||k(M,4,this.length),16777216*this[M]+(this[M+1]<<16|this[M+2]<<8|this[M+3])},f.prototype.readIntLE=function(M,G,X){M>>>=0,G>>>=0,X||k(M,G,this.length);for(var ee=this[M],ae=1,ce=0;++ce<G&&(ae*=256);)ee+=this[M+ce]*ae;return(ae*=128)<=ee&&(ee-=Math.pow(2,8*G)),ee},f.prototype.readIntBE=function(M,G,X){M>>>=0,G>>>=0,X||k(M,G,this.length);for(var ee=G,ae=1,ce=this[M+--ee];0<ee&&(ae*=256);)ce+=this[M+--ee]*ae;return(ae*=128)<=ce&&(ce-=Math.pow(2,8*G)),ce},f.prototype.readInt8=function(M,G){return M>>>=0,G||k(M,1,this.length),128&this[M]?-1*(255-this[M]+1):this[M]},f.prototype.readInt16LE=function(M,G){return M>>>=0,G||k(M,2,this.length),G=this[M]|this[M+1]<<8,32768&G?4294901760|G:G},f.prototype.readInt16BE=function(M,G){return M>>>=0,G||k(M,2,this.length),G=this[M+1]|this[M]<<8,32768&G?4294901760|G:G},f.prototype.readInt32LE=function(M,G){return M>>>=0,G||k(M,4,this.length),this[M]|this[M+1]<<8|this[M+2]<<16|this[M+3]<<24},f.prototype.readInt32BE=function(M,G){return M>>>=0,G||k(M,4,this.length),this[M]<<24|this[M+1]<<16|this[M+2]<<8|this[M+3]},f.prototype.readFloatLE=function(M,G){return M>>>=0,G||k(M,4,this.length),a.read(this,M,!0,23,4)},f.prototype.readFloatBE=function(M,G){return M>>>=0,G||k(M,4,this.length),a.read(this,M,!1,23,4)},f.prototype.readDoubleLE=function(M,G){return M>>>=0,G||k(M,8,this.length),a.read(this,M,!0,52,8)},f.prototype.readDoubleBE=function(M,G){return M>>>=0,G||k(M,8,this.length),a.read(this,M,!1,52,8)},f.prototype.writeUIntLE=function(M,G,X,ee){M=+M,G>>>=0,X>>>=0,ee||F(this,M,G,X,Math.pow(2,8*X)-1,0);var ae=1,ce=0;for(this[G]=255&M;++ce<X&&(ae*=256);)this[G+ce]=M/ae&255;return G+X},f.prototype.writeUIntBE=function(M,G,X,ee){M=+M,G>>>=0,X>>>=0,ee||F(this,M,G,X,Math.pow(2,8*X)-1,0);var ae=X-1,ce=1;for(this[G+ae]=255&M;0<=--ae&&(ce*=256);)this[G+ae]=M/ce&255;return G+X},f.prototype.writeUInt8=function(M,G,X){return M=+M,G>>>=0,X||F(this,M,G,1,255,0),this[G]=255&M,G+1},f.prototype.writeUInt16LE=function(M,G,X){return M=+M,G>>>=0,X||F(this,M,G,2,65535,0),this[G]=255&M,this[G+1]=M>>>8,G+2},f.prototype.writeUInt16BE=function(M,G,X){return M=+M,G>>>=0,X||F(this,M,G,2,65535,0),this[G]=M>>>8,this[G+1]=255&M,G+2},f.prototype.writeUInt32LE=function(M,G,X){return M=+M,G>>>=0,X||F(this,M,G,4,4294967295,0),this[G+3]=M>>>24,this[G+2]=M>>>16,this[G+1]=M>>>8,this[G]=255&M,G+4},f.prototype.writeUInt32BE=function(M,G,X){return M=+M,G>>>=0,X||F(this,M,G,4,4294967295,0),this[G]=M>>>24,this[G+1]=M>>>16,this[G+2]=M>>>8,this[G+3]=255&M,G+4},f.prototype.writeIntLE=function(M,G,X,ee){M=+M,G>>>=0,ee||F(this,M,G,X,(ee=Math.pow(2,8*X-1))-1,-ee);var ae=0,ce=1,pe=0;for(this[G]=255&M;++ae<X&&(ce*=256);)M<0&&pe===0&&this[G+ae-1]!==0&&(pe=1),this[G+ae]=(M/ce>>0)-pe&255;return G+X},f.prototype.writeIntBE=function(M,G,X,ee){M=+M,G>>>=0,ee||F(this,M,G,X,(ee=Math.pow(2,8*X-1))-1,-ee);var ae=X-1,ce=1,pe=0;for(this[G+ae]=255&M;0<=--ae&&(ce*=256);)M<0&&pe===0&&this[G+ae+1]!==0&&(pe=1),this[G+ae]=(M/ce>>0)-pe&255;return G+X},f.prototype.writeInt8=function(M,G,X){return M=+M,G>>>=0,X||F(this,M,G,1,127,-128),this[G]=255&(M=M<0?255+M+1:M),G+1},f.prototype.writeInt16LE=function(M,G,X){return M=+M,G>>>=0,X||F(this,M,G,2,32767,-32768),this[G]=255&M,this[G+1]=M>>>8,G+2},f.prototype.writeInt16BE=function(M,G,X){return M=+M,G>>>=0,X||F(this,M,G,2,32767,-32768),this[G]=M>>>8,this[G+1]=255&M,G+2},f.prototype.writeInt32LE=function(M,G,X){return M=+M,G>>>=0,X||F(this,M,G,4,2147483647,-2147483648),this[G]=255&M,this[G+1]=M>>>8,this[G+2]=M>>>16,this[G+3]=M>>>24,G+4},f.prototype.writeInt32BE=function(M,G,X){return M=+M,G>>>=0,X||F(this,M,G,4,2147483647,-2147483648),this[G]=(M=M<0?4294967295+M+1:M)>>>24,this[G+1]=M>>>16,this[G+2]=M>>>8,this[G+3]=255&M,G+4},f.prototype.writeFloatLE=function(M,G,X){return q(this,M,G,!0,X)},f.prototype.writeFloatBE=function(M,G,X){return q(this,M,G,!1,X)},f.prototype.writeDoubleLE=function(M,G,X){return z(this,M,G,!0,X)},f.prototype.writeDoubleBE=function(M,G,X){return z(this,M,G,!1,X)},f.prototype.copy=function(M,G,X,ee){if(!f.isBuffer(M))throw new TypeError("argument should be a Buffer");if(X=X||0,ee||ee===0||(ee=this.length),G>=M.length&&(G=M.length),(ee=0<ee&&ee<X?X:ee)===X||M.length===0||this.length===0)return 0;if((G=G||0)<0)throw new RangeError("targetStart out of bounds");if(X<0||X>=this.length)throw new RangeError("Index out of range");if(ee<0)throw new RangeError("sourceEnd out of bounds");ee>this.length&&(ee=this.length);var ae=(ee=M.length-G<ee-X?M.length-G+X:ee)-X;if(this===M&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(G,X,ee);else if(this===M&&X<G&&G<ee)for(var ce=ae-1;0<=ce;--ce)M[ce+G]=this[ce+X];else Uint8Array.prototype.set.call(M,this.subarray(X,ee),G);return ae},f.prototype.fill=function(M,G,X,ee){if(typeof M=="string"){if(typeof G=="string"?(ee=G,G=0,X=this.length):typeof X=="string"&&(ee=X,X=this.length),ee!==void 0&&typeof ee!="string")throw new TypeError("encoding must be a string");if(typeof ee=="string"&&!f.isEncoding(ee))throw new TypeError("Unknown encoding: "+ee);var ae;M.length===1&&(ae=M.charCodeAt(0),(ee==="utf8"&&ae<128||ee==="latin1")&&(M=ae))}else typeof M=="number"?M&=255:typeof M=="boolean"&&(M=Number(M));if(G<0||this.length<G||this.length<X)throw new RangeError("Out of range index");var ce;if(!(X<=G))if(G>>>=0,X=X===void 0?this.length:X>>>0,typeof(M=M||0)=="number")for(ce=G;ce<X;++ce)this[ce]=M;else{var pe=f.isBuffer(M)?M:f.from(M,ee),ve=pe.length;if(ve===0)throw new TypeError('The value "'+M+'" is invalid for argument "value"');for(ce=0;ce<X-G;++ce)this[ce+G]=pe[ce%ve]}return this};var H=/[^+/0-9A-Za-z-_]/g;function Q(M,G){G=G||1/0;for(var X,ee=M.length,ae=null,ce=[],pe=0;pe<ee;++pe){if(55295<(X=M.charCodeAt(pe))&&X<57344){if(!ae){if(56319<X){-1<(G-=3)&&ce.push(239,191,189);continue}if(pe+1===ee){-1<(G-=3)&&ce.push(239,191,189);continue}ae=X;continue}if(X<56320){-1<(G-=3)&&ce.push(239,191,189),ae=X;continue}X=65536+(ae-55296<<10|X-56320)}else ae&&-1<(G-=3)&&ce.push(239,191,189);if(ae=null,X<128){if(--G<0)break;ce.push(X)}else if(X<2048){if((G-=2)<0)break;ce.push(X>>6|192,63&X|128)}else if(X<65536){if((G-=3)<0)break;ce.push(X>>12|224,X>>6&63|128,63&X|128)}else{if(!(X<1114112))throw new Error("Invalid code point");if((G-=4)<0)break;ce.push(X>>18|240,X>>12&63|128,X>>6&63|128,63&X|128)}}return ce}function J(M){return h.toByteArray(function(G){if((G=(G=G.split("=")[0]).trim().replace(H,"")).length<2)return"";for(;G.length%4!=0;)G+="=";return G}(M))}function Z(M,G,X,ee){for(var ae=0;ae<ee&&!(ae+X>=G.length||ae>=M.length);++ae)G[ae+X]=M[ae];return ae}function K(M,G){return M instanceof G||M!=null&&M.constructor!=null&&M.constructor.name!=null&&M.constructor.name===G.name}function se(M){return M!=M}var le=function(){for(var M="0123456789abcdef",G=new Array(256),X=0;X<16;++X)for(var ee=16*X,ae=0;ae<16;++ae)G[ee+ae]=M[X]+M[ae];return G}()}).call(this,t("buffer").Buffer)},{"base64-js":1,buffer:4,ieee754:254}],5:[function(t,o,c){o.exports=function(l){if(typeof l!="function")throw TypeError(String(l)+" is not a function");return l}},{}],6:[function(t,o,c){var l=t("../internals/is-object");o.exports=function(h){if(l(h)||h===null)return h;throw TypeError("Can't set "+String(h)+" as a prototype")}},{"../internals/is-object":75}],7:[function(a,o,c){var l=a("../internals/well-known-symbol"),h=a("../internals/object-create"),a=a("../internals/object-define-property"),d=l("unscopables"),_=Array.prototype;_[d]==null&&a.f(_,d,{configurable:!0,value:h(null)}),o.exports=function(w){_[d][w]=!0}},{"../internals/object-create":91,"../internals/object-define-property":93,"../internals/well-known-symbol":150}],8:[function(t,o,c){var l=t("../internals/string-multibyte").charAt;o.exports=function(h,a,d){return a+(d?l(h,a).length:1)}},{"../internals/string-multibyte":125}],9:[function(t,o,c){o.exports=function(l,h,a){if(l instanceof h)return l;throw TypeError("Incorrect "+(a?a+" ":"")+"invocation")}},{}],10:[function(t,o,c){var l=t("../internals/is-object");o.exports=function(h){if(l(h))return h;throw TypeError(String(h)+" is not an object")}},{"../internals/is-object":75}],11:[function(t,o,c){o.exports=typeof ArrayBuffer<"u"&&typeof DataView<"u"},{}],12:[function(P,o,c){function l(z){return w(z)&&f(q,p(z))}var h,a=P("../internals/array-buffer-native"),d=P("../internals/descriptors"),_=P("../internals/global"),w=P("../internals/is-object"),f=P("../internals/has"),p=P("../internals/classof"),b=P("../internals/create-non-enumerable-property"),y=P("../internals/redefine"),m=P("../internals/object-define-property").f,g=P("../internals/object-get-prototype-of"),v=P("../internals/object-set-prototype-of"),D=P("../internals/well-known-symbol"),P=P("../internals/uid"),S=_.Int8Array,j=S&&S.prototype,A=_.Uint8ClampedArray,A=A&&A.prototype,L=S&&g(S),C=j&&g(j),T=Object.prototype,R=T.isPrototypeOf,D=D("toStringTag"),k=P("TYPED_ARRAY_TAG"),F=a&&!!v&&p(_.opera)!=="Opera",P=!1,q={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8};for(h in q)_[h]||(F=!1);if((!F||typeof L!="function"||L===Function.prototype)&&(L=function(){throw TypeError("Incorrect invocation")},F))for(h in q)_[h]&&v(_[h],L);if((!F||!C||C===T)&&(C=L.prototype,F))for(h in q)_[h]&&v(_[h].prototype,C);if(F&&g(A)!==C&&v(A,C),d&&!f(C,D))for(h in P=!0,m(C,D,{get:function(){return w(this)?this[k]:void 0}}),q)_[h]&&b(_[h],k,h);o.exports={NATIVE_ARRAY_BUFFER_VIEWS:F,TYPED_ARRAY_TAG:P&&k,aTypedArray:function(z){if(l(z))return z;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(z){if(v){if(R.call(L,z))return z}else for(var H in q)if(f(q,h)&&(H=_[H],H&&(z===H||R.call(H,z))))return z;throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(z,H,Q){if(d){if(Q)for(var J in q)J=_[J],J&&f(J.prototype,z)&&delete J.prototype[z];C[z]&&!Q||y(C,z,!Q&&F&&j[z]||H)}},exportTypedArrayStaticMethod:function(z,H,Q){var J,Z;if(d){if(v){if(Q)for(J in q)(Z=_[J])&&f(Z,z)&&delete Z[z];if(L[z]&&!Q)return;try{return y(L,z,!Q&&F&&S[z]||H)}catch{}}for(J in q)!(Z=_[J])||Z[z]&&!Q||y(Z,z,H)}},isView:function(z){return z=p(z),z==="DataView"||f(q,z)},isTypedArray:l,TypedArray:L,TypedArrayPrototype:C}},{"../internals/array-buffer-native":11,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/global":60,"../internals/has":61,"../internals/is-object":75,"../internals/object-define-property":93,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine":110,"../internals/uid":147,"../internals/well-known-symbol":150}],13:[function(X,o,c){function l(he){return[255&he]}function h(he){return[255&he,he>>8&255]}function a(he){return[255&he,he>>8&255,he>>16&255,he>>24&255]}function d(he){return he[3]<<24|he[2]<<16|he[1]<<8|he[0]}function _(he){return ce(he,23,4)}function w(he){return ce(he,52,8)}function f(he,je){P(he[K],je,{get:function(){return H(this)[je]}})}function p(Fe,je,ke,De){if(ke=T(ke),Fe=H(Fe),ke+je>Fe.byteLength)throw ae(se);var Oe=H(Fe.buffer).bytes,ke=ke+Fe.byteOffset,Fe=Oe.slice(ke,ke+je);return De?Fe:Fe.reverse()}function b(he,je,Ce,De,Oe,ke){if(Ce=T(Ce),he=H(he),Ce+je>he.byteLength)throw ae(se);for(var Fe=H(he.buffer).bytes,Je=Ce+he.byteOffset,Ue=De(+Oe),mt=0;mt<je;mt++)Fe[Je+mt]=Ue[ke?mt:je-mt-1]}var y=X("../internals/global"),m=X("../internals/descriptors"),g=X("../internals/array-buffer-native"),v=X("../internals/create-non-enumerable-property"),S=X("../internals/redefine-all"),j=X("../internals/fails"),A=X("../internals/an-instance"),L=X("../internals/to-integer"),C=X("../internals/to-length"),T=X("../internals/to-index"),R=X("../internals/ieee754"),D=X("../internals/object-get-prototype-of"),k=X("../internals/object-set-prototype-of"),F=X("../internals/object-get-own-property-names").f,P=X("../internals/object-define-property").f,q=X("../internals/array-fill"),z=X("../internals/set-to-string-tag"),X=X("../internals/internal-state"),H=X.get,Q=X.set,J="ArrayBuffer",Z="DataView",K="prototype",se="Wrong index",le=y[J],M=le,G=y[Z],X=G&&G[K],ee=Object.prototype,ae=y.RangeError,ce=R.pack,pe=R.unpack;if(g){if(!j(function(){le(1)})||!j(function(){new le(-1)})||j(function(){return new le,new le(1.5),new le(NaN),le.name!=J})){for(var ve,y=(M=function(Ce){return A(this,M),new le(T(Ce))})[K]=le[K],ge=F(le),Se=0;ge.length>Se;)(ve=ge[Se++])in M||v(M,ve,le[ve]);y.constructor=M}k&&D(X)!==ee&&k(X,ee);var R=new G(new M(2)),xe=X.setInt8;R.setInt8(0,2147483648),R.setInt8(1,2147483649),!R.getInt8(0)&&R.getInt8(1)||S(X,{setInt8:function(je,Ce){xe.call(this,je,Ce<<24>>24)},setUint8:function(je,Ce){xe.call(this,je,Ce<<24>>24)}},{unsafe:!0})}else M=function(he){A(this,M,J),he=T(he),Q(this,{bytes:q.call(new Array(he),0),byteLength:he}),m||(this.byteLength=he)},G=function(he,Oe,Ce){A(this,G,Z),A(he,M,Z);var De=H(he).byteLength,Oe=L(Oe);if(Oe<0||De<Oe)throw ae("Wrong offset");if(De<Oe+(Ce=Ce===void 0?De-Oe:C(Ce)))throw ae("Wrong length");Q(this,{buffer:he,byteLength:Ce,byteOffset:Oe}),m||(this.buffer=he,this.byteLength=Ce,this.byteOffset=Oe)},m&&(f(M,"byteLength"),f(G,"buffer"),f(G,"byteLength"),f(G,"byteOffset")),S(G[K],{getInt8:function(he){return p(this,1,he)[0]<<24>>24},getUint8:function(he){return p(this,1,he)[0]},getInt16:function(he){return he=p(this,2,he,1<arguments.length?arguments[1]:void 0),(he[1]<<8|he[0])<<16>>16},getUint16:function(he){return he=p(this,2,he,1<arguments.length?arguments[1]:void 0),he[1]<<8|he[0]},getInt32:function(he){return d(p(this,4,he,1<arguments.length?arguments[1]:void 0))},getUint32:function(he){return d(p(this,4,he,1<arguments.length?arguments[1]:void 0))>>>0},getFloat32:function(he){return pe(p(this,4,he,1<arguments.length?arguments[1]:void 0),23)},getFloat64:function(he){return pe(p(this,8,he,1<arguments.length?arguments[1]:void 0),52)},setInt8:function(he,je){b(this,1,he,l,je)},setUint8:function(he,je){b(this,1,he,l,je)},setInt16:function(he,je){b(this,2,he,h,je,2<arguments.length?arguments[2]:void 0)},setUint16:function(he,je){b(this,2,he,h,je,2<arguments.length?arguments[2]:void 0)},setInt32:function(he,je){b(this,4,he,a,je,2<arguments.length?arguments[2]:void 0)},setUint32:function(he,je){b(this,4,he,a,je,2<arguments.length?arguments[2]:void 0)},setFloat32:function(he,je){b(this,4,he,_,je,2<arguments.length?arguments[2]:void 0)},setFloat64:function(he,je){b(this,8,he,w,je,2<arguments.length?arguments[2]:void 0)}});z(M,J),z(G,Z),o.exports={ArrayBuffer:M,DataView:G}},{"../internals/an-instance":9,"../internals/array-buffer-native":11,"../internals/array-fill":15,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/ieee754":66,"../internals/internal-state":71,"../internals/object-define-property":93,"../internals/object-get-own-property-names":96,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine-all":109,"../internals/set-to-string-tag":119,"../internals/to-index":135,"../internals/to-integer":137,"../internals/to-length":138}],14:[function(t,o,c){var l=t("../internals/to-object"),h=t("../internals/to-absolute-index"),a=t("../internals/to-length"),d=Math.min;o.exports=[].copyWithin||function(m,w){var f=l(this),p=a(f.length),b=h(m,p),y=h(w,p),m=2<arguments.length?arguments[2]:void 0,g=d((m===void 0?p:h(m,p))-y,p-b),v=1;for(y<b&&b<y+g&&(v=-1,y+=g-1,b+=g-1);0<g--;)y in f?f[b]=f[y]:delete f[b],b+=v,y+=v;return f}},{"../internals/to-absolute-index":134,"../internals/to-length":138,"../internals/to-object":139}],15:[function(t,o,c){var l=t("../internals/to-object"),h=t("../internals/to-absolute-index"),a=t("../internals/to-length");o.exports=function(d){for(var _=l(this),w=a(_.length),p=arguments.length,f=h(1<p?arguments[1]:void 0,w),p=2<p?arguments[2]:void 0,b=p===void 0?w:h(p,w);f<b;)_[f++]=d;return _}},{"../internals/to-absolute-index":134,"../internals/to-length":138,"../internals/to-object":139}],16:[function(a,o,c){var l=a("../internals/array-iteration").forEach,h=a("../internals/array-method-is-strict"),a=a("../internals/array-method-uses-to-length"),h=h("forEach"),a=a("forEach");o.exports=h&&a?[].forEach:function(d){return l(this,d,1<arguments.length?arguments[1]:void 0)}},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23}],17:[function(t,o,c){var l=t("../internals/function-bind-context"),h=t("../internals/to-object"),a=t("../internals/call-with-safe-iteration-closing"),d=t("../internals/is-array-iterator-method"),_=t("../internals/to-length"),w=t("../internals/create-property"),f=t("../internals/get-iterator-method");o.exports=function(A){var b,y,m,g,v,S,j=h(A),A=typeof this=="function"?this:Array,L=arguments.length,C=1<L?arguments[1]:void 0,T=C!==void 0,R=f(j),D=0;if(T&&(C=l(C,2<L?arguments[2]:void 0,2)),R==null||A==Array&&d(R))for(y=new A(b=_(j.length));D<b;D++)S=T?C(j[D],D):j[D],w(y,D,S);else for(v=(g=R.call(j)).next,y=new A;!(m=v.call(g)).done;D++)S=T?a(g,C,[m.value,D],!0):m.value,w(y,D,S);return y.length=D,y}},{"../internals/call-with-safe-iteration-closing":26,"../internals/create-property":40,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":138,"../internals/to-object":139}],18:[function(t,o,c){function l(_){return function(w,f,p){var b,y=h(w),m=a(y.length),g=d(p,m);if(_&&f!=f){for(;g<m;)if((b=y[g++])!=b)return!0}else for(;g<m;g++)if((_||g in y)&&y[g]===f)return _||g||0;return!_&&-1}}var h=t("../internals/to-indexed-object"),a=t("../internals/to-length"),d=t("../internals/to-absolute-index");o.exports={includes:l(!0),indexOf:l(!1)}},{"../internals/to-absolute-index":134,"../internals/to-indexed-object":136,"../internals/to-length":138}],19:[function(t,o,c){function l(p){var b=p==1,y=p==2,m=p==3,g=p==4,v=p==6,S=p==5||v;return function(j,A,L,C){for(var T,R,D=d(j),k=a(D),F=h(A,L,3),P=_(k.length),q=0,A=C||w,z=b?A(j,P):y?A(j,0):void 0;q<P;q++)if((S||q in k)&&(R=F(T=k[q],q,D),p)){if(b)z[q]=R;else if(R)switch(p){case 3:return!0;case 5:return T;case 6:return q;case 2:f.call(z,T)}else if(g)return!1}return v?-1:m||g?g:z}}var h=t("../internals/function-bind-context"),a=t("../internals/indexed-object"),d=t("../internals/to-object"),_=t("../internals/to-length"),w=t("../internals/array-species-create"),f=[].push;o.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6)}},{"../internals/array-species-create":25,"../internals/function-bind-context":55,"../internals/indexed-object":67,"../internals/to-length":138,"../internals/to-object":139}],20:[function(p,o,c){var l=p("../internals/to-indexed-object"),h=p("../internals/to-integer"),a=p("../internals/to-length"),f=p("../internals/array-method-is-strict"),p=p("../internals/array-method-uses-to-length"),d=Math.min,_=[].lastIndexOf,w=!!_&&1/[1].lastIndexOf(1,-0)<0,f=f("lastIndexOf"),p=p("indexOf",{ACCESSORS:!0,1:0});o.exports=w||!f||!p?function(b){if(w)return _.apply(this,arguments)||0;var y=l(this),m=a(y.length),g=m-1;for((g=1<arguments.length?d(g,h(arguments[1])):g)<0&&(g=m+g);0<=g;g--)if(g in y&&y[g]===b)return g||0;return-1}:_},{"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/to-indexed-object":136,"../internals/to-integer":137,"../internals/to-length":138}],21:[function(t,o,c){var l=t("../internals/fails"),h=t("../internals/well-known-symbol"),a=t("../internals/engine-v8-version"),d=h("species");o.exports=function(_){return 51<=a||!l(function(){var w=[];return(w.constructor={})[d]=function(){return{foo:1}},w[_](Boolean).foo!==1})}},{"../internals/engine-v8-version":48,"../internals/fails":51,"../internals/well-known-symbol":150}],22:[function(t,o,c){var l=t("../internals/fails");o.exports=function(h,a){var d=[][h];return!!d&&l(function(){d.call(null,a||function(){throw 1},1)})}},{"../internals/fails":51}],23:[function(t,o,c){function l(f){throw f}var h=t("../internals/descriptors"),a=t("../internals/fails"),d=t("../internals/has"),_=Object.defineProperty,w={};o.exports=function(f,p){var b,y,m,g;return d(w,f)?w[f]:(b=[][f],y=!!d(p=p||{},"ACCESSORS")&&p.ACCESSORS,m=d(p,0)?p[0]:l,g=d(p,1)?p[1]:void 0,w[f]=!!b&&!a(function(){if(y&&!h)return!0;var v={length:-1};y?_(v,1,{enumerable:!0,get:l}):v[1]=1,b.call(v,m,g)}))}},{"../internals/descriptors":43,"../internals/fails":51,"../internals/has":61}],24:[function(t,o,c){function l(w){return function(f,p,b,y){h(p);var m=a(f),g=d(m),v=_(m.length),S=w?v-1:0,j=w?-1:1;if(b<2)for(;;){if(S in g){y=g[S],S+=j;break}if(S+=j,w?S<0:v<=S)throw TypeError("Reduce of empty array with no initial value")}for(;w?0<=S:S<v;S+=j)S in g&&(y=p(y,g[S],S,m));return y}}var h=t("../internals/a-function"),a=t("../internals/to-object"),d=t("../internals/indexed-object"),_=t("../internals/to-length");o.exports={left:l(!1),right:l(!0)}},{"../internals/a-function":5,"../internals/indexed-object":67,"../internals/to-length":138,"../internals/to-object":139}],25:[function(t,o,c){var l=t("../internals/is-object"),h=t("../internals/is-array"),a=t("../internals/well-known-symbol")("species");o.exports=function(d,_){var w;return new((w=h(d)&&(typeof(w=d.constructor)=="function"&&(w===Array||h(w.prototype))||l(w)&&(w=w[a])===null)?void 0:w)===void 0?Array:w)(_===0?0:_)}},{"../internals/is-array":73,"../internals/is-object":75,"../internals/well-known-symbol":150}],26:[function(t,o,c){var l=t("../internals/an-object");o.exports=function(h,a,d,_){try{return _?a(l(d)[0],d[1]):a(d)}catch(w){throw _=h.return,_!==void 0&&l(_.call(h)),w}}},{"../internals/an-object":10}],27:[function(t,o,c){var l=t("../internals/well-known-symbol")("iterator"),h=!1;try{var a=0,d={next:function(){return{done:!!a++}},return:function(){h=!0}};d[l]=function(){return this},Array.from(d,function(){throw 2})}catch{}o.exports=function(_,w){if(!w&&!h)return!1;var f=!1;try{var p={};p[l]=function(){return{next:function(){return{done:f=!0}}}},_(p)}catch{}return f}},{"../internals/well-known-symbol":150}],28:[function(t,o,c){var l={}.toString;o.exports=function(h){return l.call(h).slice(8,-1)}},{}],29:[function(t,o,c){var l=t("../internals/to-string-tag-support"),h=t("../internals/classof-raw"),a=t("../internals/well-known-symbol")("toStringTag"),d=h(function(){return arguments}())=="Arguments";o.exports=l?h:function(_){var w;return _===void 0?"Undefined":_===null?"Null":typeof(w=function(f,p){try{return f[p]}catch{}}(_=Object(_),a))=="string"?w:d?h(_):(w=h(_))=="Object"&&typeof _.callee=="function"?"Arguments":w}},{"../internals/classof-raw":28,"../internals/to-string-tag-support":143,"../internals/well-known-symbol":150}],30:[function(m,o,c){var l=m("../internals/object-define-property").f,h=m("../internals/object-create"),a=m("../internals/redefine-all"),d=m("../internals/function-bind-context"),_=m("../internals/an-instance"),w=m("../internals/iterate"),f=m("../internals/define-iterator"),p=m("../internals/set-species"),b=m("../internals/descriptors"),y=m("../internals/internal-metadata").fastKey,m=m("../internals/internal-state"),g=m.set,v=m.getterFor;o.exports={getConstructor:function(S,j,A,L){function C(k,F,P){var q,z=D(k),H=T(k,F);return H?H.value=P:(z.last=H={index:q=y(F,!0),key:F,value:P,previous:F=z.last,next:void 0,removed:!1},z.first||(z.first=H),F&&(F.next=H),b?z.size++:k.size++,q!=="F"&&(z.index[q]=H)),k}function T(q,F){var P,q=D(q),z=y(F);if(z!=="F")return q.index[z];for(P=q.first;P;P=P.next)if(P.key==F)return P}var R=S(function(k,F){_(k,R,j),g(k,{type:j,index:h(null),first:void 0,last:void 0,size:0}),b||(k.size=0),F!=null&&w(F,k[L],k,A)}),D=v(j);return a(R.prototype,{clear:function(){for(var k=D(this),F=k.index,P=k.first;P;)P.removed=!0,P.previous&&(P.previous=P.previous.next=void 0),delete F[P.index],P=P.next;k.first=k.last=void 0,b?k.size=0:this.size=0},delete:function(z){var F,P,q=D(this),z=T(this,z);return z&&(F=z.next,P=z.previous,delete q.index[z.index],z.removed=!0,P&&(P.next=F),F&&(F.previous=P),q.first==z&&(q.first=F),q.last==z&&(q.last=P),b?q.size--:this.size--),!!z},forEach:function(k){for(var F,P=D(this),q=d(k,1<arguments.length?arguments[1]:void 0,3);F=F?F.next:P.first;)for(q(F.value,F.key,this);F&&F.removed;)F=F.previous},has:function(k){return!!T(this,k)}}),a(R.prototype,A?{get:function(k){return k=T(this,k),k&&k.value},set:function(k,F){return C(this,k===0?0:k,F)}}:{add:function(k){return C(this,k=k===0?0:k,k)}}),b&&l(R.prototype,"size",{get:function(){return D(this).size}}),R},setStrong:function(S,j,A){var L=j+" Iterator",C=v(j),T=v(L);f(S,j,function(R,D){g(this,{type:L,target:R,state:C(R),kind:D,last:void 0})},function(){for(var R=T(this),D=R.kind,k=R.last;k&&k.removed;)k=k.previous;return R.target&&(R.last=k=k?k.next:R.state.first)?D=="keys"?{value:k.key,done:!1}:D=="values"?{value:k.value,done:!1}:{value:[k.key,k.value],done:!1}:{value:R.target=void 0,done:!0}},A?"entries":"values",!A,!0),p(j)}}},{"../internals/an-instance":9,"../internals/define-iterator":41,"../internals/descriptors":43,"../internals/function-bind-context":55,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/iterate":78,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/redefine-all":109,"../internals/set-species":118}],31:[function(g,o,c){function l(C){return C.frozen||(C.frozen=new h)}function h(){this.entries=[]}function a(C,T){return j(C.entries,function(R){return R[0]===T})}var d=g("../internals/redefine-all"),_=g("../internals/internal-metadata").getWeakData,w=g("../internals/an-object"),f=g("../internals/is-object"),p=g("../internals/an-instance"),b=g("../internals/iterate"),y=g("../internals/array-iteration"),m=g("../internals/has"),g=g("../internals/internal-state"),v=g.set,S=g.getterFor,j=y.find,A=y.findIndex,L=0;h.prototype={get:function(C){if(C=a(this,C),C)return C[1]},has:function(C){return!!a(this,C)},set:function(C,T){var R=a(this,C);R?R[1]=T:this.entries.push([C,T])},delete:function(C){var T=A(this.entries,function(R){return R[0]===C});return~T&&this.entries.splice(T,1),!!~T}},o.exports={getConstructor:function(C,T,R,D){function k(q,z,H){var Q=P(q),J=_(w(z),!0);return J===!0?l(Q).set(z,H):J[Q.id]=H,q}var F=C(function(q,z){p(q,F,T),v(q,{type:T,id:L++,frozen:void 0}),z!=null&&b(z,q[D],q,R)}),P=S(T);return d(F.prototype,{delete:function(q){var z,H=P(this);return!!f(q)&&((z=_(q))===!0?l(H).delete(q):z&&m(z,H.id)&&delete z[H.id])},has:function(q){var z,H=P(this);return!!f(q)&&((z=_(q))===!0?l(H).has(q):z&&m(z,H.id))}}),d(F.prototype,R?{get:function(q){var z,H=P(this);if(f(q))return(z=_(q))===!0?l(H).get(q):z?z[H.id]:void 0},set:function(q,z){return k(this,q,z)}}:{add:function(q){return k(this,q,!0)}}),F}}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/array-iteration":19,"../internals/has":61,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/is-object":75,"../internals/iterate":78,"../internals/redefine-all":109}],32:[function(t,o,c){var l=t("../internals/export"),h=t("../internals/global"),a=t("../internals/is-forced"),d=t("../internals/redefine"),_=t("../internals/internal-metadata"),w=t("../internals/iterate"),f=t("../internals/an-instance"),p=t("../internals/is-object"),b=t("../internals/fails"),y=t("../internals/check-correctness-of-iteration"),m=t("../internals/set-to-string-tag"),g=t("../internals/inherit-if-required");o.exports=function(v,S,j){function A(J){var Z=z[J];d(z,J,J=="add"?function(K){return Z.call(this,K===0?0:K),this}:J=="delete"?function(K){return!(F&&!p(K))&&Z.call(this,K===0?0:K)}:J=="get"?function(K){return F&&!p(K)?void 0:Z.call(this,K===0?0:K)}:J=="has"?function(K){return!(F&&!p(K))&&Z.call(this,K===0?0:K)}:function(K,se){return Z.call(this,K===0?0:K,se),this})}var L,C,T,R,D,k=v.indexOf("Map")!==-1,F=v.indexOf("Weak")!==-1,P=k?"set":"add",q=h[v],z=q&&q.prototype,H=q,Q={};return a(v,typeof q!="function"||!(F||z.forEach&&!b(function(){new q().entries().next()})))?(H=j.getConstructor(S,v,k,P),_.REQUIRED=!0):a(v,!0)&&(C=(L=new H)[P](F?{}:-0,1)!=L,T=b(function(){L.has(1)}),R=y(function(J){new q(J)}),D=!F&&b(function(){for(var J=new q,Z=5;Z--;)J[P](Z,Z);return!J.has(-0)}),R||(((H=S(function(J,Z){return f(J,H,v),J=g(new q,J,H),Z!=null&&w(Z,J[P],J,k),J})).prototype=z).constructor=H),(T||D)&&(A("delete"),A("has"),k&&A("get")),(D||C)&&A(P),F&&z.clear&&delete z.clear),Q[v]=H,l({global:!0,forced:H!=q},Q),m(H,v),F||j.setStrong(H,v,k),H}},{"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/export":50,"../internals/fails":51,"../internals/global":60,"../internals/inherit-if-required":68,"../internals/internal-metadata":70,"../internals/is-forced":74,"../internals/is-object":75,"../internals/iterate":78,"../internals/redefine":110,"../internals/set-to-string-tag":119}],33:[function(t,o,c){var l=t("../internals/has"),h=t("../internals/own-keys"),a=t("../internals/object-get-own-property-descriptor"),d=t("../internals/object-define-property");o.exports=function(_,w){for(var f=h(w),p=d.f,b=a.f,y=0;y<f.length;y++){var m=f[y];l(_,m)||p(_,m,b(w,m))}}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/own-keys":105}],34:[function(t,o,c){var l=t("../internals/well-known-symbol")("match");o.exports=function(h){var a=/./;try{"/./"[h](a)}catch{try{return a[l]=!1,"/./"[h](a)}catch{}}return!1}},{"../internals/well-known-symbol":150}],35:[function(t,o,c){t=t("../internals/fails"),o.exports=!t(function(){function l(){}return l.prototype.constructor=null,Object.getPrototypeOf(new l)!==l.prototype})},{"../internals/fails":51}],36:[function(t,o,c){var l=t("../internals/require-object-coercible"),h=/"/g;o.exports=function(f,d,_,w){var f=String(l(f)),p="<"+d;return _!==""&&(p+=" "+_+'="'+String(w).replace(h,"&quot;")+'"'),p+">"+f+"</"+d+">"}},{"../internals/require-object-coercible":115}],37:[function(t,o,c){function l(){return this}var h=t("../internals/iterators-core").IteratorPrototype,a=t("../internals/object-create"),d=t("../internals/create-property-descriptor"),_=t("../internals/set-to-string-tag"),w=t("../internals/iterators");o.exports=function(f,p,b){return p+=" Iterator",f.prototype=a(h,{next:d(1,b)}),_(f,p,!1,!0),w[p]=l,f}},{"../internals/create-property-descriptor":39,"../internals/iterators":80,"../internals/iterators-core":79,"../internals/object-create":91,"../internals/set-to-string-tag":119}],38:[function(t,o,c){var l=t("../internals/descriptors"),h=t("../internals/object-define-property"),a=t("../internals/create-property-descriptor");o.exports=l?function(d,_,w){return h.f(d,_,a(1,w))}:function(d,_,w){return d[_]=w,d}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/object-define-property":93}],39:[function(t,o,c){o.exports=function(l,h){return{enumerable:!(1&l),configurable:!(2&l),writable:!(4&l),value:h}}},{}],40:[function(t,o,c){var l=t("../internals/to-primitive"),h=t("../internals/object-define-property"),a=t("../internals/create-property-descriptor");o.exports=function(d,_,w){_=l(_),_ in d?h.f(d,_,a(0,w)):d[_]=w}},{"../internals/create-property-descriptor":39,"../internals/object-define-property":93,"../internals/to-primitive":142}],41:[function(g,o,c){function l(){return this}var h=g("../internals/export"),a=g("../internals/create-iterator-constructor"),d=g("../internals/object-get-prototype-of"),_=g("../internals/object-set-prototype-of"),w=g("../internals/set-to-string-tag"),f=g("../internals/create-non-enumerable-property"),p=g("../internals/redefine"),b=g("../internals/well-known-symbol"),y=g("../internals/is-pure"),m=g("../internals/iterators"),g=g("../internals/iterators-core"),v=g.IteratorPrototype,S=g.BUGGY_SAFARI_ITERATORS,j=b("iterator"),A="values",L="entries";o.exports=function(C,T,R,Q,k,F,P){a(R,T,Q);function q(M){if(M===k&&se)return se;if(!S&&M in Z)return Z[M];switch(M){case"keys":case A:case L:return function(){return new R(this,M)}}return function(){return new R(this)}}var z,H,Q=T+" Iterator",J=!1,Z=C.prototype,K=Z[j]||Z["@@iterator"]||k&&Z[k],se=!S&&K||q(k),le=T=="Array"&&Z.entries||K;if(le&&(le=d(le.call(new C)),v!==Object.prototype&&le.next&&(y||d(le)===v||(_?_(le,v):typeof le[j]!="function"&&f(le,j,l)),w(le,Q,!0,!0),y&&(m[Q]=l))),k==A&&K&&K.name!==A&&(J=!0,se=function(){return K.call(this)}),y&&!P||Z[j]===se||f(Z,j,se),m[T]=se,k)if(z={values:q(A),keys:F?se:q("keys"),entries:q(L)},P)for(H in z)!S&&!J&&H in Z||p(Z,H,z[H]);else h({target:T,proto:!0,forced:S||J},z);return z}},{"../internals/create-iterator-constructor":37,"../internals/create-non-enumerable-property":38,"../internals/export":50,"../internals/is-pure":76,"../internals/iterators":80,"../internals/iterators-core":79,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine":110,"../internals/set-to-string-tag":119,"../internals/well-known-symbol":150}],42:[function(t,o,c){var l=t("../internals/path"),h=t("../internals/has"),a=t("../internals/well-known-symbol-wrapped"),d=t("../internals/object-define-property").f;o.exports=function(_){var w=l.Symbol||(l.Symbol={});h(w,_)||d(w,_,{value:a.f(_)})}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/path":106,"../internals/well-known-symbol-wrapped":149}],43:[function(t,o,c){t=t("../internals/fails"),o.exports=!t(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},{"../internals/fails":51}],44:[function(h,o,c){var l=h("../internals/global"),h=h("../internals/is-object"),a=l.document,d=h(a)&&h(a.createElement);o.exports=function(_){return d?a.createElement(_):{}}},{"../internals/global":60,"../internals/is-object":75}],45:[function(t,o,c){o.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},{}],46:[function(t,o,c){t=t("../internals/engine-user-agent"),o.exports=/(iphone|ipod|ipad).*applewebkit/i.test(t)},{"../internals/engine-user-agent":47}],47:[function(t,o,c){t=t("../internals/get-built-in"),o.exports=t("navigator","userAgent")||""},{"../internals/get-built-in":57}],48:[function(a,o,c){var l,h,d=a("../internals/global"),a=a("../internals/engine-user-agent"),d=d.process,d=d&&d.versions,d=d&&d.v8;d?h=(l=d.split("."))[0]+l[1]:a&&(!(l=a.match(/Edge\/(\d+)/))||74<=l[1])&&(l=a.match(/Chrome\/(\d+)/))&&(h=l[1]),o.exports=h&&+h},{"../internals/engine-user-agent":47,"../internals/global":60}],49:[function(t,o,c){o.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],50:[function(t,o,c){var l=t("../internals/global"),h=t("../internals/object-get-own-property-descriptor").f,a=t("../internals/create-non-enumerable-property"),d=t("../internals/redefine"),_=t("../internals/set-global"),w=t("../internals/copy-constructor-properties"),f=t("../internals/is-forced");o.exports=function(p,b){var y,m,g,v=p.target,S=p.global,j=p.stat,A=S?l:j?l[v]||_(v,{}):(l[v]||{}).prototype;if(A)for(y in b){if(m=b[y],g=p.noTargetGet?(g=h(A,y))&&g.value:A[y],!f(S?y:v+(j?".":"#")+y,p.forced)&&g!==void 0){if(typeof m==typeof g)continue;w(m,g)}(p.sham||g&&g.sham)&&a(m,"sham",!0),d(A,y,m,p)}}},{"../internals/copy-constructor-properties":33,"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/is-forced":74,"../internals/object-get-own-property-descriptor":94,"../internals/redefine":110,"../internals/set-global":117}],51:[function(t,o,c){o.exports=function(l){try{return!!l()}catch{return!0}}},{}],52:[function(b,o,c){b("../modules/es.regexp.exec");var l=b("../internals/redefine"),h=b("../internals/fails"),a=b("../internals/well-known-symbol"),d=b("../internals/regexp-exec"),_=b("../internals/create-non-enumerable-property"),w=a("species"),f=!h(function(){var g=/./;return g.exec=function(){var v=[];return v.groups={a:"7"},v},"".replace(g,"$<a>")!=="7"}),p="a".replace(/./,"$0")==="$0",b=a("replace"),y=!!/./[b]&&/./[b]("a","$0")==="",m=!h(function(){var v=/(?:)/,g=v.exec,v=(v.exec=function(){return g.apply(this,arguments)},"ab".split(v));return v.length!==2||v[0]!=="a"||v[1]!=="b"});o.exports=function(g,v,S,j){var A,L,C=a(g),T=!h(function(){var D={};return D[C]=function(){return 7},""[g](D)!=7}),R=T&&!h(function(){var D=!1,k=/a/;return g==="split"&&((k={constructor:{}}).constructor[w]=function(){return k},k.flags="",k[C]=/./[C]),k.exec=function(){return D=!0,null},k[C](""),!D});T&&R&&(g!=="replace"||f&&p&&!y)&&(g!=="split"||m)||(A=/./[C],S=(R=S(C,""[g],function(D,k,F,P,q){return k.exec===d?T&&!q?{done:!0,value:A.call(k,F,P)}:{done:!0,value:D.call(F,k,P)}:{done:!1}},{REPLACE_KEEPS_$0:p,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:y}))[0],L=R[1],l(String.prototype,g,S),l(RegExp.prototype,C,v==2?function(D,k){return L.call(D,this,k)}:function(D){return L.call(D,this)})),j&&_(RegExp.prototype[C],"sham",!0)}},{"../internals/create-non-enumerable-property":38,"../internals/fails":51,"../internals/redefine":110,"../internals/regexp-exec":112,"../internals/well-known-symbol":150,"../modules/es.regexp.exec":195}],53:[function(t,o,c){function l(_,w,f,p,b,y,m,g){for(var v,S=b,j=0,A=!!m&&d(m,g,3);j<p;){if(j in f){if(v=A?A(f[j],j,w):f[j],0<y&&h(v))S=l(_,w,v,a(v.length),S,y-1)-1;else{if(9007199254740991<=S)throw TypeError("Exceed the acceptable array length");_[S]=v}S++}j++}return S}var h=t("../internals/is-array"),a=t("../internals/to-length"),d=t("../internals/function-bind-context");o.exports=l},{"../internals/function-bind-context":55,"../internals/is-array":73,"../internals/to-length":138}],54:[function(t,o,c){t=t("../internals/fails"),o.exports=!t(function(){return Object.isExtensible(Object.preventExtensions({}))})},{"../internals/fails":51}],55:[function(t,o,c){var l=t("../internals/a-function");o.exports=function(h,a,d){if(l(h),a===void 0)return h;switch(d){case 0:return function(){return h.call(a)};case 1:return function(_){return h.call(a,_)};case 2:return function(_,w){return h.call(a,_,w)};case 3:return function(_,w,f){return h.call(a,_,w,f)}}return function(){return h.apply(a,arguments)}}},{"../internals/a-function":5}],56:[function(t,o,c){var l=t("../internals/a-function"),h=t("../internals/is-object"),a=[].slice,d={};o.exports=Function.bind||function(_){var w=l(this),f=a.call(arguments,1),p=function(){var b=f.concat(a.call(arguments));if(this instanceof p){var y=w,m=b.length,g=b;if(!(m in d)){for(var v=[],S=0;S<m;S++)v[S]="a["+S+"]";d[m]=Function("C,a","return new C("+v.join(",")+")")}return d[m](y,g)}return w.apply(_,b)};return h(w.prototype)&&(p.prototype=w.prototype),p}},{"../internals/a-function":5,"../internals/is-object":75}],57:[function(t,o,c){function l(d){return typeof d=="function"?d:void 0}var h=t("../internals/path"),a=t("../internals/global");o.exports=function(d,_){return arguments.length<2?l(h[d])||l(a[d]):h[d]&&h[d][_]||a[d]&&a[d][_]}},{"../internals/global":60,"../internals/path":106}],58:[function(t,o,c){var l=t("../internals/classof"),h=t("../internals/iterators"),a=t("../internals/well-known-symbol")("iterator");o.exports=function(d){if(d!=null)return d[a]||d["@@iterator"]||h[l(d)]}},{"../internals/classof":29,"../internals/iterators":80,"../internals/well-known-symbol":150}],59:[function(t,o,c){var l=t("../internals/an-object"),h=t("../internals/get-iterator-method");o.exports=function(a){var d=h(a);if(typeof d!="function")throw TypeError(String(a)+" is not iterable");return l(d.call(a))}},{"../internals/an-object":10,"../internals/get-iterator-method":58}],60:[function(t,o,c){(function(l){function h(a){return a&&a.Math==Math&&a}o.exports=h(typeof globalThis=="object"&&globalThis)||h(typeof window=="object"&&window)||h(typeof self=="object"&&self)||h(typeof l=="object"&&l)||Function("return this")()}).call(this,typeof jh<"u"?jh:typeof self<"u"?self:typeof window<"u"?window:{})},{}],61:[function(t,o,c){var l={}.hasOwnProperty;o.exports=function(h,a){return l.call(h,a)}},{}],62:[function(t,o,c){o.exports={}},{}],63:[function(t,o,c){var l=t("../internals/global");o.exports=function(h,a){var d=l.console;d&&d.error&&(arguments.length===1?d.error(h):d.error(h,a))}},{"../internals/global":60}],64:[function(t,o,c){t=t("../internals/get-built-in"),o.exports=t("document","documentElement")},{"../internals/get-built-in":57}],65:[function(t,o,c){var l=t("../internals/descriptors"),h=t("../internals/fails"),a=t("../internals/document-create-element");o.exports=!l&&!h(function(){return Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a!=7})},{"../internals/descriptors":43,"../internals/document-create-element":44,"../internals/fails":51}],66:[function(t,o,c){var l=Math.abs,h=Math.pow,a=Math.floor,d=Math.log,_=Math.LN2;o.exports={pack:function(w,f,S){var b,y,m,g=new Array(S),v=8*S-f-1,S=(1<<v)-1,j=S>>1,A=f===23?h(2,-24)-h(2,-77):0,L=w<0||w===0&&1/w<0?1:0,C=0;for((w=l(w))!=w||w===1/0?(y=w!=w?1:0,b=S):(b=a(d(w)/_),w*(m=h(2,-b))<1&&(b--,m*=2),2<=(w+=1<=b+j?A/m:A*h(2,1-j))*m&&(b++,m/=2),S<=b+j?(y=0,b=S):1<=b+j?(y=(w*m-1)*h(2,f),b+=j):(y=w*h(2,j-1)*h(2,f),b=0));8<=f;g[C++]=255&y,y/=256,f-=8);for(b=b<<f|y,v+=f;0<v;g[C++]=255&b,b/=256,v-=8);return g[--C]|=128*L,g},unpack:function(w,f){var p,b=w.length,S=8*b-f-1,y=(1<<S)-1,m=y>>1,g=S-7,v=b-1,S=w[v--],j=127&S;for(S>>=7;0<g;j=256*j+w[v],v--,g-=8);for(p=j&(1<<-g)-1,j>>=-g,g+=f;0<g;p=256*p+w[v],v--,g-=8);if(j===0)j=1-m;else{if(j===y)return p?NaN:S?-1/0:1/0;p+=h(2,f),j-=m}return(S?-1:1)*p*h(2,j-f)}}},{}],67:[function(t,o,c){var l=t("../internals/fails"),h=t("../internals/classof-raw"),a="".split;o.exports=l(function(){return!Object("z").propertyIsEnumerable(0)})?function(d){return h(d)=="String"?a.call(d,""):Object(d)}:Object},{"../internals/classof-raw":28,"../internals/fails":51}],68:[function(t,o,c){var l=t("../internals/is-object"),h=t("../internals/object-set-prototype-of");o.exports=function(a,d,_){return h&&typeof(d=d.constructor)=="function"&&d!==_&&l(d=d.prototype)&&d!==_.prototype&&h(a,d),a}},{"../internals/is-object":75,"../internals/object-set-prototype-of":102}],69:[function(l,o,c){var l=l("../internals/shared-store"),h=Function.toString;typeof l.inspectSource!="function"&&(l.inspectSource=function(a){return h.call(a)}),o.exports=l.inspectSource},{"../internals/shared-store":121}],70:[function(t,o,c){function l(g){_(g,p,{value:{objectID:"O"+ ++b,weakData:{}}})}var h=t("../internals/hidden-keys"),a=t("../internals/is-object"),d=t("../internals/has"),_=t("../internals/object-define-property").f,w=t("../internals/uid"),f=t("../internals/freezing"),p=w("meta"),b=0,y=Object.isExtensible||function(){return!0},m=o.exports={REQUIRED:!1,fastKey:function(g,v){if(!a(g))return typeof g=="symbol"?g:(typeof g=="string"?"S":"P")+g;if(!d(g,p)){if(!y(g))return"F";if(!v)return"E";l(g)}return g[p].objectID},getWeakData:function(g,v){if(!d(g,p)){if(!y(g))return!0;if(!v)return!1;l(g)}return g[p].weakData},onFreeze:function(g){return f&&m.REQUIRED&&y(g)&&!d(g,p)&&l(g),g}};h[p]=!0},{"../internals/freezing":54,"../internals/has":61,"../internals/hidden-keys":62,"../internals/is-object":75,"../internals/object-define-property":93,"../internals/uid":147}],71:[function(S,o,c){var l,h,a,d,_,w,f,p,b=S("../internals/native-weak-map"),j=S("../internals/global"),y=S("../internals/is-object"),m=S("../internals/create-non-enumerable-property"),g=S("../internals/has"),v=S("../internals/shared-key"),S=S("../internals/hidden-keys"),j=j.WeakMap;f=b?(l=new j,h=l.get,a=l.has,d=l.set,_=function(A,L){return d.call(l,A,L),L},w=function(A){return h.call(l,A)||{}},function(A){return a.call(l,A)}):(S[p=v("state")]=!0,_=function(A,L){return m(A,p,L),L},w=function(A){return g(A,p)?A[p]:{}},function(A){return g(A,p)}),o.exports={set:_,get:w,has:f,enforce:function(A){return f(A)?w(A):_(A,{})},getterFor:function(A){return function(L){if(y(L)&&(L=w(L)).type===A)return L;throw TypeError("Incompatible receiver, "+A+" required")}}}},{"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/has":61,"../internals/hidden-keys":62,"../internals/is-object":75,"../internals/native-weak-map":86,"../internals/shared-key":120}],72:[function(t,o,c){var l=t("../internals/well-known-symbol"),h=t("../internals/iterators"),a=l("iterator"),d=Array.prototype;o.exports=function(_){return _!==void 0&&(h.Array===_||d[a]===_)}},{"../internals/iterators":80,"../internals/well-known-symbol":150}],73:[function(t,o,c){var l=t("../internals/classof-raw");o.exports=Array.isArray||function(h){return l(h)=="Array"}},{"../internals/classof-raw":28}],74:[function(t,o,c){function l(p,b){return(p=_[d(p)])==f||p!=w&&(typeof b=="function"?h(b):!!b)}var h=t("../internals/fails"),a=/#|\.prototype\./,d=l.normalize=function(p){return String(p).replace(a,".").toLowerCase()},_=l.data={},w=l.NATIVE="N",f=l.POLYFILL="P";o.exports=l},{"../internals/fails":51}],75:[function(t,o,c){o.exports=function(l){return typeof l=="object"?l!==null:typeof l=="function"}},{}],76:[function(t,o,c){o.exports=!1},{}],77:[function(t,o,c){var l=t("../internals/is-object"),h=t("../internals/classof-raw"),a=t("../internals/well-known-symbol")("match");o.exports=function(d){var _;return l(d)&&((_=d[a])!==void 0?!!_:h(d)=="RegExp")}},{"../internals/classof-raw":28,"../internals/is-object":75,"../internals/well-known-symbol":150}],78:[function(t,o,c){function l(p,b){this.stopped=p,this.result=b}var h=t("../internals/an-object"),a=t("../internals/is-array-iterator-method"),d=t("../internals/to-length"),_=t("../internals/function-bind-context"),w=t("../internals/get-iterator-method"),f=t("../internals/call-with-safe-iteration-closing");(o.exports=function(p,b,y,m,g){var v,S,j,A,L,C,T=_(b,y,m?2:1);if(g)v=p;else{if(typeof(b=w(p))!="function")throw TypeError("Target is not iterable");if(a(b)){for(S=0,j=d(p.length);S<j;S++)if((A=m?T(h(C=p[S])[0],C[1]):T(p[S]))&&A instanceof l)return A;return new l(!1)}v=b.call(p)}for(L=v.next;!(C=L.call(v)).done;)if(typeof(A=f(v,T,C.value,m))=="object"&&A&&A instanceof l)return A;return new l(!1)}).stop=function(p){return new l(!0,p)}},{"../internals/an-object":10,"../internals/call-with-safe-iteration-closing":26,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":138}],79:[function(w,o,c){var l,h,a=w("../internals/object-get-prototype-of"),d=w("../internals/create-non-enumerable-property"),_=w("../internals/has"),f=w("../internals/well-known-symbol"),w=w("../internals/is-pure"),f=f("iterator"),p=!1;[].keys&&("next"in(h=[].keys())?(a=a(a(h)))!==Object.prototype&&(l=a):p=!0),l==null&&(l={}),w||_(l,f)||d(l,f,function(){return this}),o.exports={IteratorPrototype:l,BUGGY_SAFARI_ITERATORS:p}},{"../internals/create-non-enumerable-property":38,"../internals/has":61,"../internals/is-pure":76,"../internals/object-get-prototype-of":98,"../internals/well-known-symbol":150}],80:[function(t,o,c){o.exports={}},{}],81:[function(t,o,c){o.exports=Math.sign||function(l){return(l=+l)==0||l!=l?l:l<0?-1:1}},{}],82:[function(m,o,c){var l,h,a,d,_,w,f,p,b=m("../internals/global"),L=m("../internals/object-get-own-property-descriptor").f,A=m("../internals/classof-raw"),y=m("../internals/task").set,m=m("../internals/engine-is-ios"),g=b.MutationObserver||b.WebKitMutationObserver,v=b.process,S=b.Promise,j=A(v)=="process",A=L(b,"queueMicrotask"),L=A&&A.value;L||(l=function(){var C,T;for(j&&(C=v.domain)&&C.exit();h;){T=h.fn,h=h.next;try{T()}catch(R){throw h?d():a=void 0,R}}a=void 0,C&&C.enter()},d=j?function(){v.nextTick(l)}:g&&!m?(_=!0,w=document.createTextNode(""),new g(l).observe(w,{characterData:!0}),function(){w.data=_=!_}):S&&S.resolve?(f=S.resolve(void 0),p=f.then,function(){p.call(f,l)}):function(){y.call(b,l)}),o.exports=L||function(C){C={fn:C,next:void 0},a&&(a.next=C),h||(h=C,d()),a=C}},{"../internals/classof-raw":28,"../internals/engine-is-ios":46,"../internals/global":60,"../internals/object-get-own-property-descriptor":94,"../internals/task":132}],83:[function(t,o,c){t=t("../internals/global"),o.exports=t.Promise},{"../internals/global":60}],84:[function(t,o,c){t=t("../internals/fails"),o.exports=!!Object.getOwnPropertySymbols&&!t(function(){return!String(Symbol())})},{"../internals/fails":51}],85:[function(t,o,c){var l=t("../internals/fails"),h=t("../internals/well-known-symbol"),a=t("../internals/is-pure"),d=h("iterator");o.exports=!l(function(){var _=new URL("b?a=1&b=2&c=3","http://a"),w=_.searchParams,f="";return _.pathname="c%20d",w.forEach(function(p,b){w.delete("b"),f+=b+p}),a&&!_.toJSON||!w.sort||_.href!=="http://a/c%20d?a=1&c=3"||w.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!w[d]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("http://тест").host!=="xn--e1aybc"||new URL("http://a#б").hash!=="#%D0%B1"||f!=="a1c3"||new URL("http://x",void 0).host!=="x"})},{"../internals/fails":51,"../internals/is-pure":76,"../internals/well-known-symbol":150}],86:[function(l,o,c){var h=l("../internals/global"),l=l("../internals/inspect-source"),h=h.WeakMap;o.exports=typeof h=="function"&&/native code/.test(l(h))},{"../internals/global":60,"../internals/inspect-source":69}],87:[function(t,o,c){function l(a){var d,_;this.promise=new a(function(w,f){if(d!==void 0||_!==void 0)throw TypeError("Bad Promise constructor");d=w,_=f}),this.resolve=h(d),this.reject=h(_)}var h=t("../internals/a-function");o.exports.f=function(a){return new l(a)}},{"../internals/a-function":5}],88:[function(t,o,c){var l=t("../internals/is-regexp");o.exports=function(h){if(l(h))throw TypeError("The method doesn't accept regular expressions");return h}},{"../internals/is-regexp":77}],89:[function(t,o,c){var l=t("../internals/global").isFinite;o.exports=Number.isFinite||function(h){return typeof h=="number"&&l(h)}},{"../internals/global":60}],90:[function(t,o,c){var l=t("../internals/descriptors"),h=t("../internals/fails"),a=t("../internals/object-keys"),d=t("../internals/object-get-own-property-symbols"),_=t("../internals/object-property-is-enumerable"),w=t("../internals/to-object"),f=t("../internals/indexed-object"),p=Object.assign,b=Object.defineProperty;o.exports=!p||h(function(){var y,m,g,v;return!(!l||p({b:1},p(b({},"a",{enumerable:!0,get:function(){b(this,"b",{value:3,enumerable:!1})}}),{b:2})).b===1)||(m={},v="abcdefghijklmnopqrst",(y={})[g=Symbol()]=7,v.split("").forEach(function(S){m[S]=S}),p({},y)[g]!=7||a(p({},m)).join("")!=v)})?function(y,m){for(var g=w(y),v=arguments.length,S=1,j=d.f,A=_.f;S<v;)for(var L,C=f(arguments[S++]),T=j?a(C).concat(j(C)):a(C),R=T.length,D=0;D<R;)L=T[D++],l&&!A.call(C,L)||(g[L]=C[L]);return g}:p},{"../internals/descriptors":43,"../internals/fails":51,"../internals/indexed-object":67,"../internals/object-get-own-property-symbols":97,"../internals/object-keys":100,"../internals/object-property-is-enumerable":101,"../internals/to-object":139}],91:[function(b,o,c){function l(){}var h,a=b("../internals/an-object"),d=b("../internals/object-define-properties"),_=b("../internals/enum-bug-keys"),w=b("../internals/hidden-keys"),f=b("../internals/html"),p=b("../internals/document-create-element"),b=b("../internals/shared-key"),y="prototype",m="script",g=b("IE_PROTO"),v=function(j){return"<"+m+">"+j+"</"+m+">"},S=function(){try{h=document.domain&&new ActiveXObject("htmlfile")}catch{}S=h?((j=h).write(v("")),j.close(),A=j.parentWindow.Object,j=null,A):(j=p("iframe"),A="java"+m+":",j.style.display="none",f.appendChild(j),j.src=String(A),(A=j.contentWindow.document).open(),A.write(v("document.F=Object")),A.close(),A.F);for(var j,A,L=_.length;L--;)delete S[y][_[L]];return S()};w[g]=!0,o.exports=Object.create||function(j,A){var L;return j!==null?(l[y]=a(j),L=new l,l[y]=null,L[g]=j):L=S(),A===void 0?L:d(L,A)}},{"../internals/an-object":10,"../internals/document-create-element":44,"../internals/enum-bug-keys":49,"../internals/hidden-keys":62,"../internals/html":64,"../internals/object-define-properties":92,"../internals/shared-key":120}],92:[function(t,o,c){var l=t("../internals/descriptors"),h=t("../internals/object-define-property"),a=t("../internals/an-object"),d=t("../internals/object-keys");o.exports=l?Object.defineProperties:function(_,w){a(_);for(var f,p=d(w),b=p.length,y=0;y<b;)h.f(_,f=p[y++],w[f]);return _}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/object-define-property":93,"../internals/object-keys":100}],93:[function(t,o,c){var l=t("../internals/descriptors"),h=t("../internals/ie8-dom-define"),a=t("../internals/an-object"),d=t("../internals/to-primitive"),_=Object.defineProperty;c.f=l?_:function(w,f,p){if(a(w),f=d(f,!0),a(p),h)try{return _(w,f,p)}catch{}if("get"in p||"set"in p)throw TypeError("Accessors not supported");return"value"in p&&(w[f]=p.value),w}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/ie8-dom-define":65,"../internals/to-primitive":142}],94:[function(t,o,c){var l=t("../internals/descriptors"),h=t("../internals/object-property-is-enumerable"),a=t("../internals/create-property-descriptor"),d=t("../internals/to-indexed-object"),_=t("../internals/to-primitive"),w=t("../internals/has"),f=t("../internals/ie8-dom-define"),p=Object.getOwnPropertyDescriptor;c.f=l?p:function(b,y){if(b=d(b),y=_(y,!0),f)try{return p(b,y)}catch{}if(w(b,y))return a(!h.f.call(b,y),b[y])}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/has":61,"../internals/ie8-dom-define":65,"../internals/object-property-is-enumerable":101,"../internals/to-indexed-object":136,"../internals/to-primitive":142}],95:[function(t,o,c){var l=t("../internals/to-indexed-object"),h=t("../internals/object-get-own-property-names").f,a={}.toString,d=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];o.exports.f=function(_){if(!d||a.call(_)!="[object Window]")return h(l(_));try{return h(_)}catch{return d.slice()}}},{"../internals/object-get-own-property-names":96,"../internals/to-indexed-object":136}],96:[function(t,o,c){var l=t("../internals/object-keys-internal"),h=t("../internals/enum-bug-keys").concat("length","prototype");c.f=Object.getOwnPropertyNames||function(a){return l(a,h)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":99}],97:[function(t,o,c){c.f=Object.getOwnPropertySymbols},{}],98:[function(d,o,c){var l=d("../internals/has"),h=d("../internals/to-object"),a=d("../internals/shared-key"),d=d("../internals/correct-prototype-getter"),_=a("IE_PROTO"),w=Object.prototype;o.exports=d?Object.getPrototypeOf:function(f){return f=h(f),l(f,_)?f[_]:typeof f.constructor=="function"&&f instanceof f.constructor?f.constructor.prototype:f instanceof Object?w:null}},{"../internals/correct-prototype-getter":35,"../internals/has":61,"../internals/shared-key":120,"../internals/to-object":139}],99:[function(t,o,c){var l=t("../internals/has"),h=t("../internals/to-indexed-object"),a=t("../internals/array-includes").indexOf,d=t("../internals/hidden-keys");o.exports=function(_,w){var f,p=h(_),b=0,y=[];for(f in p)!l(d,f)&&l(p,f)&&y.push(f);for(;w.length>b;)!l(p,f=w[b++])||~a(y,f)||y.push(f);return y}},{"../internals/array-includes":18,"../internals/has":61,"../internals/hidden-keys":62,"../internals/to-indexed-object":136}],100:[function(t,o,c){var l=t("../internals/object-keys-internal"),h=t("../internals/enum-bug-keys");o.exports=Object.keys||function(a){return l(a,h)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":99}],101:[function(t,o,c){var l={}.propertyIsEnumerable,h=Object.getOwnPropertyDescriptor,a=h&&!l.call({1:2},1);c.f=a?function(d){return d=h(this,d),!!d&&d.enumerable}:l},{}],102:[function(t,o,c){var l=t("../internals/an-object"),h=t("../internals/a-possible-prototype");o.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var a,d=!1,_={};try{(a=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(_,[]),d=_ instanceof Array}catch{}return function(w,f){return l(w),h(f),d?a.call(w,f):w.__proto__=f,w}}():void 0)},{"../internals/a-possible-prototype":6,"../internals/an-object":10}],103:[function(t,o,c){function l(w){return function(f){for(var p,b=d(f),y=a(b),m=y.length,g=0,v=[];g<m;)p=y[g++],h&&!_.call(b,p)||v.push(w?[p,b[p]]:b[p]);return v}}var h=t("../internals/descriptors"),a=t("../internals/object-keys"),d=t("../internals/to-indexed-object"),_=t("../internals/object-property-is-enumerable").f;o.exports={entries:l(!0),values:l(!1)}},{"../internals/descriptors":43,"../internals/object-keys":100,"../internals/object-property-is-enumerable":101,"../internals/to-indexed-object":136}],104:[function(t,o,c){var l=t("../internals/to-string-tag-support"),h=t("../internals/classof");o.exports=l?{}.toString:function(){return"[object "+h(this)+"]"}},{"../internals/classof":29,"../internals/to-string-tag-support":143}],105:[function(t,o,c){var l=t("../internals/get-built-in"),h=t("../internals/object-get-own-property-names"),a=t("../internals/object-get-own-property-symbols"),d=t("../internals/an-object");o.exports=l("Reflect","ownKeys")||function(_){var w=h.f(d(_)),f=a.f;return f?w.concat(f(_)):w}},{"../internals/an-object":10,"../internals/get-built-in":57,"../internals/object-get-own-property-names":96,"../internals/object-get-own-property-symbols":97}],106:[function(t,o,c){t=t("../internals/global"),o.exports=t},{"../internals/global":60}],107:[function(t,o,c){o.exports=function(l){try{return{error:!1,value:l()}}catch(h){return{error:!0,value:h}}}},{}],108:[function(t,o,c){var l=t("../internals/an-object"),h=t("../internals/is-object"),a=t("../internals/new-promise-capability");o.exports=function(d,_){return l(d),h(_)&&_.constructor===d?_:((0,(d=a.f(d)).resolve)(_),d.promise)}},{"../internals/an-object":10,"../internals/is-object":75,"../internals/new-promise-capability":87}],109:[function(t,o,c){var l=t("../internals/redefine");o.exports=function(h,a,d){for(var _ in a)l(h,_,a[_],d);return h}},{"../internals/redefine":110}],110:[function(w,o,c){var l=w("../internals/global"),h=w("../internals/create-non-enumerable-property"),a=w("../internals/has"),d=w("../internals/set-global"),_=w("../internals/inspect-source"),w=w("../internals/internal-state"),f=w.get,p=w.enforce,b=String(String).split("String");(o.exports=function(y,m,g,A){var S=!!A&&!!A.unsafe,j=!!A&&!!A.enumerable,A=!!A&&!!A.noTargetGet;typeof g=="function"&&(typeof m!="string"||a(g,"name")||h(g,"name",m),p(g).source=b.join(typeof m=="string"?m:"")),y===l?j?y[m]=g:d(m,g):(S?!A&&y[m]&&(j=!0):delete y[m],j?y[m]=g:h(y,m,g))})(Function.prototype,"toString",function(){return typeof this=="function"&&f(this).source||_(this)})},{"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/has":61,"../internals/inspect-source":69,"../internals/internal-state":71,"../internals/set-global":117}],111:[function(t,o,c){var l=t("./classof-raw"),h=t("./regexp-exec");o.exports=function(a,d){var _=a.exec;if(typeof _=="function"){if(_=_.call(a,d),typeof _!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return _}if(l(a)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return h.call(a,d)}},{"./classof-raw":28,"./regexp-exec":112}],112:[function(d,o,c){var l,h,a=d("./regexp-flags"),d=d("./regexp-sticky-helpers"),_=RegExp.prototype.exec,w=String.prototype.replace,f=_,p=(l=/a/,h=/b*/g,_.call(l,"a"),_.call(h,"a"),l.lastIndex!==0||h.lastIndex!==0),b=d.UNSUPPORTED_Y||d.BROKEN_CARET,y=/()??/.exec("")[1]!==void 0;o.exports=f=p||y||b?function(m){var g,v,S,j,A=this,L=b&&A.sticky,C=a.call(A),T=A.source,R=0,D=m;return L&&((C=C.replace("y","")).indexOf("g")===-1&&(C+="g"),D=String(m).slice(A.lastIndex),0<A.lastIndex&&(!A.multiline||A.multiline&&m[A.lastIndex-1]!==`
`)&&(T="(?: "+T+")",D=" "+D,R++),v=new RegExp("^(?:"+T+")",C)),y&&(v=new RegExp("^"+T+"$(?!\\s)",C)),p&&(g=A.lastIndex),S=_.call(L?v:A,D),L?S?(S.input=S.input.slice(R),S[0]=S[0].slice(R),S.index=A.lastIndex,A.lastIndex+=S[0].length):A.lastIndex=0:p&&S&&(A.lastIndex=A.global?S.index+S[0].length:g),y&&S&&1<S.length&&w.call(S[0],v,function(){for(j=1;j<arguments.length-2;j++)arguments[j]===void 0&&(S[j]=void 0)}),S}:f},{"./regexp-flags":113,"./regexp-sticky-helpers":114}],113:[function(t,o,c){var l=t("../internals/an-object");o.exports=function(){var h=l(this),a="";return h.global&&(a+="g"),h.ignoreCase&&(a+="i"),h.multiline&&(a+="m"),h.dotAll&&(a+="s"),h.unicode&&(a+="u"),h.sticky&&(a+="y"),a}},{"../internals/an-object":10}],114:[function(t,o,c){t=t("./fails");function l(h,a){return RegExp(h,a)}c.UNSUPPORTED_Y=t(function(){var h=l("a","y");return h.lastIndex=2,h.exec("abcd")!=null}),c.BROKEN_CARET=t(function(){var h=l("^r","gy");return h.lastIndex=2,h.exec("str")!=null})},{"./fails":51}],115:[function(t,o,c){o.exports=function(l){if(l==null)throw TypeError("Can't call method on "+l);return l}},{}],116:[function(t,o,c){o.exports=Object.is||function(l,h){return l===h?l!==0||1/l==1/h:l!=l&&h!=h}},{}],117:[function(t,o,c){var l=t("../internals/global"),h=t("../internals/create-non-enumerable-property");o.exports=function(a,d){try{h(l,a,d)}catch{l[a]=d}return d}},{"../internals/create-non-enumerable-property":38,"../internals/global":60}],118:[function(t,o,c){var l=t("../internals/get-built-in"),h=t("../internals/object-define-property"),a=t("../internals/well-known-symbol"),d=t("../internals/descriptors"),_=a("species");o.exports=function(f){var f=l(f),p=h.f;d&&f&&!f[_]&&p(f,_,{configurable:!0,get:function(){return this}})}},{"../internals/descriptors":43,"../internals/get-built-in":57,"../internals/object-define-property":93,"../internals/well-known-symbol":150}],119:[function(t,o,c){var l=t("../internals/object-define-property").f,h=t("../internals/has"),a=t("../internals/well-known-symbol")("toStringTag");o.exports=function(d,_,w){d&&!h(d=w?d:d.prototype,a)&&l(d,a,{configurable:!0,value:_})}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/well-known-symbol":150}],120:[function(t,o,c){var l=t("../internals/shared"),h=t("../internals/uid"),a=l("keys");o.exports=function(d){return a[d]||(a[d]=h(d))}},{"../internals/shared":122,"../internals/uid":147}],121:[function(l,o,c){var a=l("../internals/global"),l=l("../internals/set-global"),h="__core-js_shared__",a=a[h]||l(h,{});o.exports=a},{"../internals/global":60,"../internals/set-global":117}],122:[function(t,o,c){var l=t("../internals/is-pure"),h=t("../internals/shared-store");(o.exports=function(a,d){return h[a]||(h[a]=d!==void 0?d:{})})("versions",[]).push({version:"3.6.5",mode:l?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},{"../internals/is-pure":76,"../internals/shared-store":121}],123:[function(t,o,c){var l=t("../internals/an-object"),h=t("../internals/a-function"),a=t("../internals/well-known-symbol")("species");o.exports=function(w,_){var w=l(w).constructor;return w===void 0||(w=l(w)[a])==null?_:h(w)}},{"../internals/a-function":5,"../internals/an-object":10,"../internals/well-known-symbol":150}],124:[function(t,o,c){var l=t("../internals/fails");o.exports=function(h){return l(function(){var a=""[h]('"');return a!==a.toLowerCase()||3<a.split('"').length})}},{"../internals/fails":51}],125:[function(t,o,c){function l(d){return function(p,b){var f,p=String(a(p)),b=h(b),y=p.length;return b<0||y<=b?d?"":void 0:(f=p.charCodeAt(b))<55296||56319<f||b+1===y||(y=p.charCodeAt(b+1))<56320||57343<y?d?p.charAt(b):f:d?p.slice(b,b+2):y-56320+(f-55296<<10)+65536}}var h=t("../internals/to-integer"),a=t("../internals/require-object-coercible");o.exports={codeAt:l(!1),charAt:l(!0)}},{"../internals/require-object-coercible":115,"../internals/to-integer":137}],126:[function(t,o,c){t=t("../internals/engine-user-agent"),o.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(t)},{"../internals/engine-user-agent":47}],127:[function(t,o,c){function l(w){return function(y,v,g){var y=String(d(y)),m=y.length,g=g===void 0?" ":String(g),v=h(v);return v<=m||g==""?y:((m=a.call(g,_((v=v-m)/g.length))).length>v&&(m=m.slice(0,v)),w?y+m:m+y)}}var h=t("../internals/to-length"),a=t("../internals/string-repeat"),d=t("../internals/require-object-coercible"),_=Math.ceil;o.exports={start:l(!1),end:l(!0)}},{"../internals/require-object-coercible":115,"../internals/string-repeat":129,"../internals/to-length":138}],128:[function(t,o,c){function l(S){return S+22+75*(S<26)}function h(S){var j,A=[],L=(S=function(K){for(var se=[],le=0,M=K.length;le<M;){var G,X=K.charCodeAt(le++);55296<=X&&X<=56319&&le<M?(64512&(G=K.charCodeAt(le++)))==56320?se.push(((1023&X)<<10)+(1023&G)+65536):(se.push(X),le--):se.push(X)}return se}(S)).length,C=128,T=0,R=72;for(P=0;P<S.length;P++)(j=S[P])<128&&A.push(v(j));var D=A.length,k=D;for(D&&A.push("-");k<L;){for(var F=a,P=0;P<S.length;P++)C<=(j=S[P])&&j<F&&(F=j);var q=k+1;if(F-C>g((a-T)/q))throw RangeError(y);for(T+=(F-C)*q,C=F,P=0;P<S.length;P++){if((j=S[P])<C&&++T>a)throw RangeError(y);if(j==C){for(var z=T,H=d;;H+=d){var Q=H<=R?1:R+_<=H?_:H-R;if(z<Q)break;var J=z-Q,Z=d-Q;A.push(v(l(Q+J%Z))),z=g(J/Z)}A.push(v(l(z))),R=function(K,se,le){var M=0;for(K=le?g(K/f):K>>1,K+=g(K/se);m*_>>1<K;M+=d)K=g(K/m);return g(M+(m+1)*K/(K+w))}(T,q,k==D),T=0,++k}}++T,++C}return A.join("")}var a=2147483647,d=36,_=26,w=38,f=700,p=/[^\0-\u007E]/,b=/[.\u3002\uFF0E\uFF61]/g,y="Overflow: input needs wider integers to process",m=d-1,g=Math.floor,v=String.fromCharCode;o.exports=function(S){for(var j,A=[],L=S.toLowerCase().replace(b,".").split("."),C=0;C<L.length;C++)j=L[C],A.push(p.test(j)?"xn--"+h(j):j);return A.join(".")}},{}],129:[function(t,o,c){var l=t("../internals/to-integer"),h=t("../internals/require-object-coercible");o.exports="".repeat||function(a){var d=String(h(this)),_="",w=l(a);if(w<0||w==1/0)throw RangeError("Wrong number of repetitions");for(;0<w;(w>>>=1)&&(d+=d))1&w&&(_+=d);return _}},{"../internals/require-object-coercible":115,"../internals/to-integer":137}],130:[function(t,o,c){var l=t("../internals/fails"),h=t("../internals/whitespaces");o.exports=function(a){return l(function(){return!!h[a]()||"​᠎"[a]()!="​᠎"||h[a].name!==a})}},{"../internals/fails":51,"../internals/whitespaces":151}],131:[function(a,o,c){function l(w){return function(f){return f=String(h(f)),1&w&&(f=f.replace(d,"")),f=2&w?f.replace(_,""):f}}var h=a("../internals/require-object-coercible"),a="["+a("../internals/whitespaces")+"]",d=RegExp("^"+a+a+"*"),_=RegExp(a+a+"*$");o.exports={start:l(1),end:l(2),trim:l(3)}},{"../internals/require-object-coercible":115,"../internals/whitespaces":151}],132:[function(m,o,c){function l(k){return function(){D(k)}}function h(k){D(k.data)}function a(k){_.postMessage(k+"",g.protocol+"//"+g.host)}var d,_=m("../internals/global"),w=m("../internals/fails"),f=m("../internals/classof-raw"),p=m("../internals/function-bind-context"),b=m("../internals/html"),y=m("../internals/document-create-element"),m=m("../internals/engine-is-ios"),g=_.location,v=_.setImmediate,S=_.clearImmediate,j=_.process,A=_.MessageChannel,L=_.Dispatch,C=0,T={},R="onreadystatechange",D=function(k){var F;T.hasOwnProperty(k)&&(F=T[k],delete T[k],F())};v&&S||(v=function(k){for(var F=[],P=1;P<arguments.length;)F.push(arguments[P++]);return T[++C]=function(){(typeof k=="function"?k:Function(k)).apply(void 0,F)},d(C),C},S=function(k){delete T[k]},f(j)=="process"?d=function(k){j.nextTick(l(k))}:L&&L.now?d=function(k){L.now(l(k))}:A&&!m?(m=(f=new A).port2,f.port1.onmessage=h,d=p(m.postMessage,m,1)):!_.addEventListener||typeof postMessage!="function"||_.importScripts||w(a)||g.protocol==="file:"?d=R in y("script")?function(k){b.appendChild(y("script"))[R]=function(){b.removeChild(this),D(k)}}:function(k){setTimeout(l(k),0)}:(d=a,_.addEventListener("message",h,!1))),o.exports={set:v,clear:S}},{"../internals/classof-raw":28,"../internals/document-create-element":44,"../internals/engine-is-ios":46,"../internals/fails":51,"../internals/function-bind-context":55,"../internals/global":60,"../internals/html":64}],133:[function(t,o,c){var l=t("../internals/classof-raw");o.exports=function(h){if(typeof h!="number"&&l(h)!="Number")throw TypeError("Incorrect invocation");return+h}},{"../internals/classof-raw":28}],134:[function(t,o,c){var l=t("../internals/to-integer"),h=Math.max,a=Math.min;o.exports=function(d,_){return d=l(d),d<0?h(d+_,0):a(d,_)}},{"../internals/to-integer":137}],135:[function(t,o,c){var l=t("../internals/to-integer"),h=t("../internals/to-length");o.exports=function(d){if(d===void 0)return 0;var d=l(d),_=h(d);if(d!==_)throw RangeError("Wrong length or index");return _}},{"../internals/to-integer":137,"../internals/to-length":138}],136:[function(t,o,c){var l=t("../internals/indexed-object"),h=t("../internals/require-object-coercible");o.exports=function(a){return l(h(a))}},{"../internals/indexed-object":67,"../internals/require-object-coercible":115}],137:[function(t,o,c){var l=Math.ceil,h=Math.floor;o.exports=function(a){return isNaN(a=+a)?0:(0<a?h:l)(a)}},{}],138:[function(t,o,c){var l=t("../internals/to-integer"),h=Math.min;o.exports=function(a){return 0<a?h(l(a),9007199254740991):0}},{"../internals/to-integer":137}],139:[function(t,o,c){var l=t("../internals/require-object-coercible");o.exports=function(h){return Object(l(h))}},{"../internals/require-object-coercible":115}],140:[function(t,o,c){var l=t("../internals/to-positive-integer");o.exports=function(h,a){if(h=l(h),h%a)throw RangeError("Wrong offset");return h}},{"../internals/to-positive-integer":141}],141:[function(t,o,c){var l=t("../internals/to-integer");o.exports=function(h){if(h=l(h),h<0)throw RangeError("The argument can't be less than 0");return h}},{"../internals/to-integer":137}],142:[function(t,o,c){var l=t("../internals/is-object");o.exports=function(h,a){if(!l(h))return h;var d,_;if(a&&typeof(d=h.toString)=="function"&&!l(_=d.call(h))||typeof(d=h.valueOf)=="function"&&!l(_=d.call(h))||!a&&typeof(d=h.toString)=="function"&&!l(_=d.call(h)))return _;throw TypeError("Can't convert object to primitive value")}},{"../internals/is-object":75}],143:[function(t,o,c){var l={};l[t("../internals/well-known-symbol")("toStringTag")]="z",o.exports=String(l)==="[object z]"},{"../internals/well-known-symbol":150}],144:[function(t,o,c){function l(Oe,ke){for(var Fe=0,Je=ke.length,Ue=new(he(Oe))(Je);Fe<Je;)Ue[Fe]=ke[Fe++];return Ue}function h(Oe,ke){G(Oe,ke,{get:function(){return le(this)[ke]}})}function a(Oe){return Oe instanceof ce||(Oe=D(Oe))=="ArrayBuffer"||Oe=="SharedArrayBuffer"}function d(Oe,ke){return je(Oe)&&typeof ke!="symbol"&&ke in Oe&&String(+ke)==String(ke)}function _(Oe,ke){return d(Oe,ke=T(ke,!0))?S(2,Oe[ke]):X(Oe,ke)}function w(Oe,ke,Fe){return!(d(Oe,ke=T(ke,!0))&&k(Fe)&&R(Fe,"value"))||R(Fe,"get")||R(Fe,"set")||Fe.configurable||R(Fe,"writable")&&!Fe.writable||R(Fe,"enumerable")&&!Fe.enumerable?G(Oe,ke,Fe):(Oe[ke]=Fe.value,Oe)}var f=t("../internals/export"),p=t("../internals/global"),b=t("../internals/descriptors"),y=t("../internals/typed-array-constructors-require-wrappers"),m=t("../internals/array-buffer-view-core"),g=t("../internals/array-buffer"),v=t("../internals/an-instance"),S=t("../internals/create-property-descriptor"),j=t("../internals/create-non-enumerable-property"),A=t("../internals/to-length"),L=t("../internals/to-index"),C=t("../internals/to-offset"),T=t("../internals/to-primitive"),R=t("../internals/has"),D=t("../internals/classof"),k=t("../internals/is-object"),F=t("../internals/object-create"),P=t("../internals/object-set-prototype-of"),q=t("../internals/object-get-own-property-names").f,z=t("../internals/typed-array-from"),H=t("../internals/array-iteration").forEach,Q=t("../internals/set-species"),J=t("../internals/object-define-property"),Z=t("../internals/object-get-own-property-descriptor"),K=t("../internals/internal-state"),se=t("../internals/inherit-if-required"),le=K.get,M=K.set,G=J.f,X=Z.f,ee=Math.round,ae=p.RangeError,ce=g.ArrayBuffer,pe=g.DataView,ve=m.NATIVE_ARRAY_BUFFER_VIEWS,ge=m.TYPED_ARRAY_TAG,Se=m.TypedArray,xe=m.TypedArrayPrototype,he=m.aTypedArrayConstructor,je=m.isTypedArray,Ce="BYTES_PER_ELEMENT",De="Wrong length";b?(ve||(Z.f=_,J.f=w,h(xe,"buffer"),h(xe,"byteOffset"),h(xe,"byteLength"),h(xe,"length")),f({target:"Object",stat:!0,forced:!ve},{getOwnPropertyDescriptor:_,defineProperty:w}),o.exports=function(Le,ke,Fe){function Je(Be,de){G(Be,de,{get:function(){var me=this,ie=de;return(me=le(me)).view[ut](ie*Ue+me.byteOffset,!0)},set:function(me){var ie=this,ye=de;ie=le(ie),Fe&&(me=(me=ee(me))<0?0:255<me?255:255&me),ie.view[it](ye*Ue+ie.byteOffset,me,!0)},enumerable:!0})}var Ue=Le.match(/\d+$/)[0]/8,mt=Le+(Fe?"Clamped":"")+"Array",ut="get"+Le,it="set"+Le,ft=p[mt],lt=ft,Le=lt&&lt.prototype,et={};ve?y&&(lt=ke(function(Be,de,me,ie){return v(Be,lt,mt),se(k(de)?a(de)?ie!==void 0?new ft(de,C(me,Ue),ie):me!==void 0?new ft(de,C(me,Ue)):new ft(de):je(de)?l(lt,de):z.call(lt,de):new ft(L(de)),Be,lt)}),P&&P(lt,Se),H(q(ft),function(Be){Be in lt||j(lt,Be,ft[Be])}),lt.prototype=Le):(lt=ke(function(Be,de,me,ie){v(Be,lt,mt);var ye,Me,Ne=0,Xe=0;if(k(de)){if(!a(de))return je(de)?l(lt,de):z.call(lt,de);var ct=de,Xe=C(me,Ue),me=de.byteLength;if(ie===void 0){if(me%Ue||(ye=me-Xe)<0)throw ae(De)}else if(me<(ye=A(ie)*Ue)+Xe)throw ae(De);Me=ye/Ue}else Me=L(de),ct=new ce(ye=Me*Ue);for(M(Be,{buffer:ct,byteOffset:Xe,byteLength:ye,length:Me,view:new pe(ct)});Ne<Me;)Je(Be,Ne++)}),P&&P(lt,Se),Le=lt.prototype=F(xe)),Le.constructor!==lt&&j(Le,"constructor",lt),ge&&j(Le,ge,mt),et[mt]=lt,f({global:!0,forced:lt!=ft,sham:!ve},et),Ce in lt||j(lt,Ce,Ue),Ce in Le||j(Le,Ce,Ue),Q(mt)}):o.exports=function(){}},{"../internals/an-instance":9,"../internals/array-buffer":13,"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/inherit-if-required":68,"../internals/internal-state":71,"../internals/is-object":75,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/object-set-prototype-of":102,"../internals/set-species":118,"../internals/to-index":135,"../internals/to-length":138,"../internals/to-offset":140,"../internals/to-primitive":142,"../internals/typed-array-constructors-require-wrappers":145,"../internals/typed-array-from":146}],145:[function(d,o,c){var l=d("../internals/global"),h=d("../internals/fails"),a=d("../internals/check-correctness-of-iteration"),d=d("../internals/array-buffer-view-core").NATIVE_ARRAY_BUFFER_VIEWS,_=l.ArrayBuffer,w=l.Int8Array;o.exports=!d||!h(function(){w(1)})||!h(function(){new w(-1)})||!a(function(f){new w,new w(null),new w(1.5),new w(f)},!0)||h(function(){return new w(new _(2),1,void 0).length!==1})},{"../internals/array-buffer-view-core":12,"../internals/check-correctness-of-iteration":27,"../internals/fails":51,"../internals/global":60}],146:[function(t,o,c){var l=t("../internals/to-object"),h=t("../internals/to-length"),a=t("../internals/get-iterator-method"),d=t("../internals/is-array-iterator-method"),_=t("../internals/function-bind-context"),w=t("../internals/array-buffer-view-core").aTypedArrayConstructor;o.exports=function(f){var p,b,y,m,g,v,S=l(f),j=arguments.length,A=1<j?arguments[1]:void 0,L=A!==void 0,C=a(S);if(C!=null&&!d(C))for(v=(g=C.call(S)).next,S=[];!(m=v.call(g)).done;)S.push(m.value);for(L&&2<j&&(A=_(A,arguments[2],2)),b=h(S.length),y=new(w(this))(b),p=0;p<b;p++)y[p]=L?A(S[p],p):S[p];return y}},{"../internals/array-buffer-view-core":12,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":138,"../internals/to-object":139}],147:[function(t,o,c){var l=0,h=Math.random();o.exports=function(a){return"Symbol("+String(a===void 0?"":a)+")_"+(++l+h).toString(36)}},{}],148:[function(t,o,c){t=t("../internals/native-symbol"),o.exports=t&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/native-symbol":84}],149:[function(t,o,c){t=t("../internals/well-known-symbol"),c.f=t},{"../internals/well-known-symbol":150}],150:[function(w,o,c){var l=w("../internals/global"),h=w("../internals/shared"),a=w("../internals/has"),d=w("../internals/uid"),_=w("../internals/native-symbol"),w=w("../internals/use-symbol-as-uid"),f=h("wks"),p=l.Symbol,b=w?p:p&&p.withoutSetter||d;o.exports=function(y){return a(f,y)||(_&&a(p,y)?f[y]=p[y]:f[y]=b("Symbol."+y)),f[y]}},{"../internals/global":60,"../internals/has":61,"../internals/native-symbol":84,"../internals/shared":122,"../internals/uid":147,"../internals/use-symbol-as-uid":148}],151:[function(t,o,c){o.exports=`	
\v\f\r                　\u2028\u2029\uFEFF`},{}],152:[function(a,o,c){var l=a("../internals/export"),h=a("../internals/global"),_=a("../internals/array-buffer"),a=a("../internals/set-species"),d="ArrayBuffer",_=_[d];l({global:!0,forced:h[d]!==_},{ArrayBuffer:_}),a(d)},{"../internals/array-buffer":13,"../internals/export":50,"../internals/global":60,"../internals/set-species":118}],153:[function(S,o,c){var l=S("../internals/export"),h=S("../internals/fails"),a=S("../internals/is-array"),d=S("../internals/is-object"),_=S("../internals/to-object"),w=S("../internals/to-length"),f=S("../internals/create-property"),p=S("../internals/array-species-create"),b=S("../internals/array-method-has-species-support"),v=S("../internals/well-known-symbol"),S=S("../internals/engine-v8-version"),y=v("isConcatSpreadable"),m=9007199254740991,g="Maximum allowed index exceeded",v=51<=S||!h(function(){var j=[];return j[y]=!1,j.concat()[0]!==j}),S=b("concat");l({target:"Array",proto:!0,forced:!v||!S},{concat:function(j){for(var A,L,C,T,R,D=_(this),k=p(D,0),F=0,P=-1,q=arguments.length;P<q;P++)if(R=void 0,!d(T=C=P===-1?D:arguments[P])||((R=T[y])!==void 0?!R:!a(T))){if(m<=F)throw TypeError(g);f(k,F++,C)}else{if(L=w(C.length),m<F+L)throw TypeError(g);for(A=0;A<L;A++,F++)A in C&&f(k,F,C[A])}return k.length=F,k}})},{"../internals/array-method-has-species-support":21,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/fails":51,"../internals/is-array":73,"../internals/is-object":75,"../internals/to-length":138,"../internals/to-object":139,"../internals/well-known-symbol":150}],154:[function(a,o,c){var l=a("../internals/export"),h=a("../internals/array-copy-within"),a=a("../internals/add-to-unscopables");l({target:"Array",proto:!0},{copyWithin:h}),a("copyWithin")},{"../internals/add-to-unscopables":7,"../internals/array-copy-within":14,"../internals/export":50}],155:[function(d,o,c){var l=d("../internals/export"),h=d("../internals/array-iteration").every,a=d("../internals/array-method-is-strict"),d=d("../internals/array-method-uses-to-length"),a=a("every"),d=d("every");l({target:"Array",proto:!0,forced:!a||!d},{every:function(_){return h(this,_,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],156:[function(a,o,c){var l=a("../internals/export"),h=a("../internals/array-fill"),a=a("../internals/add-to-unscopables");l({target:"Array",proto:!0},{fill:h}),a("fill")},{"../internals/add-to-unscopables":7,"../internals/array-fill":15,"../internals/export":50}],157:[function(d,o,c){var l=d("../internals/export"),h=d("../internals/array-iteration").filter,a=d("../internals/array-method-has-species-support"),d=d("../internals/array-method-uses-to-length"),a=a("filter"),d=d("filter");l({target:"Array",proto:!0,forced:!a||!d},{filter:function(_){return h(this,_,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],158:[function(w,o,c){var l=w("../internals/export"),h=w("../internals/array-iteration").findIndex,a=w("../internals/add-to-unscopables"),w=w("../internals/array-method-uses-to-length"),d="findIndex",_=!0,w=w(d);d in[]&&Array(1)[d](function(){_=!1}),l({target:"Array",proto:!0,forced:_||!w},{findIndex:function(f){return h(this,f,1<arguments.length?arguments[1]:void 0)}}),a(d)},{"../internals/add-to-unscopables":7,"../internals/array-iteration":19,"../internals/array-method-uses-to-length":23,"../internals/export":50}],159:[function(t,o,c){var l=t("../internals/export"),h=t("../internals/flatten-into-array"),a=t("../internals/to-object"),d=t("../internals/to-length"),_=t("../internals/a-function"),w=t("../internals/array-species-create");l({target:"Array",proto:!0},{flatMap:function(f){var p,b=a(this),y=d(b.length);return _(f),(p=w(b,0)).length=h(p,b,b,y,0,1,f,1<arguments.length?arguments[1]:void 0),p}})},{"../internals/a-function":5,"../internals/array-species-create":25,"../internals/export":50,"../internals/flatten-into-array":53,"../internals/to-length":138,"../internals/to-object":139}],160:[function(t,o,c){var l=t("../internals/export"),h=t("../internals/flatten-into-array"),a=t("../internals/to-object"),d=t("../internals/to-length"),_=t("../internals/to-integer"),w=t("../internals/array-species-create");l({target:"Array",proto:!0},{flat:function(){var f=arguments.length?arguments[0]:void 0,p=a(this),b=d(p.length),y=w(p,0);return y.length=h(y,p,p,b,0,f===void 0?1:_(f)),y}})},{"../internals/array-species-create":25,"../internals/export":50,"../internals/flatten-into-array":53,"../internals/to-integer":137,"../internals/to-length":138,"../internals/to-object":139}],161:[function(h,o,c){var l=h("../internals/export"),h=h("../internals/array-for-each");l({target:"Array",proto:!0,forced:[].forEach!=h},{forEach:h})},{"../internals/array-for-each":16,"../internals/export":50}],162:[function(t,o,c){var l=t("../internals/export"),h=t("../internals/array-from");l({target:"Array",stat:!0,forced:!t("../internals/check-correctness-of-iteration")(function(a){Array.from(a)})},{from:h})},{"../internals/array-from":17,"../internals/check-correctness-of-iteration":27,"../internals/export":50}],163:[function(t,o,c){var l=t("../internals/export"),h=t("../internals/array-includes").includes,a=t("../internals/add-to-unscopables");l({target:"Array",proto:!0,forced:!t("../internals/array-method-uses-to-length")("indexOf",{ACCESSORS:!0,1:0})},{includes:function(d){return h(this,d,1<arguments.length?arguments[1]:void 0)}}),a("includes")},{"../internals/add-to-unscopables":7,"../internals/array-includes":18,"../internals/array-method-uses-to-length":23,"../internals/export":50}],164:[function(w,o,c){var l=w("../internals/export"),h=w("../internals/array-includes").indexOf,_=w("../internals/array-method-is-strict"),w=w("../internals/array-method-uses-to-length"),a=[].indexOf,d=!!a&&1/[1].indexOf(1,-0)<0,_=_("indexOf"),w=w("indexOf",{ACCESSORS:!0,1:0});l({target:"Array",proto:!0,forced:d||!_||!w},{indexOf:function(f){return d?a.apply(this,arguments)||0:h(this,f,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-includes":18,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],165:[function(_,o,c){var l=_("../internals/to-indexed-object"),h=_("../internals/add-to-unscopables"),a=_("../internals/iterators"),d=_("../internals/internal-state"),_=_("../internals/define-iterator"),w="Array Iterator",f=d.set,p=d.getterFor(w);o.exports=_(Array,"Array",function(b,y){f(this,{type:w,target:l(b),index:0,kind:y})},function(){var b=p(this),y=b.target,m=b.kind,g=b.index++;return!y||g>=y.length?{value:b.target=void 0,done:!0}:m=="keys"?{value:g,done:!1}:m=="values"?{value:y[g],done:!1}:{value:[g,y[g]],done:!1}},"values"),a.Arguments=a.Array,h("keys"),h("values"),h("entries")},{"../internals/add-to-unscopables":7,"../internals/define-iterator":41,"../internals/internal-state":71,"../internals/iterators":80,"../internals/to-indexed-object":136}],166:[function(_,o,c){var l=_("../internals/export"),d=_("../internals/indexed-object"),h=_("../internals/to-indexed-object"),_=_("../internals/array-method-is-strict"),a=[].join,d=d!=Object,_=_("join",",");l({target:"Array",proto:!0,forced:d||!_},{join:function(w){return a.call(h(this),w===void 0?",":w)}})},{"../internals/array-method-is-strict":22,"../internals/export":50,"../internals/indexed-object":67,"../internals/to-indexed-object":136}],167:[function(h,o,c){var l=h("../internals/export"),h=h("../internals/array-last-index-of");l({target:"Array",proto:!0,forced:h!==[].lastIndexOf},{lastIndexOf:h})},{"../internals/array-last-index-of":20,"../internals/export":50}],168:[function(d,o,c){var l=d("../internals/export"),h=d("../internals/array-iteration").map,a=d("../internals/array-method-has-species-support"),d=d("../internals/array-method-uses-to-length"),a=a("map"),d=d("map");l({target:"Array",proto:!0,forced:!a||!d},{map:function(_){return h(this,_,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],169:[function(y,o,c){var l=y("../internals/export"),h=y("../internals/is-object"),a=y("../internals/is-array"),d=y("../internals/to-absolute-index"),_=y("../internals/to-length"),w=y("../internals/to-indexed-object"),f=y("../internals/create-property"),p=y("../internals/well-known-symbol"),b=y("../internals/array-method-has-species-support"),y=y("../internals/array-method-uses-to-length"),b=b("slice"),y=y("slice",{ACCESSORS:!0,0:0,1:2}),m=p("species"),g=[].slice,v=Math.max;l({target:"Array",proto:!0,forced:!b||!y},{slice:function(S,j){var A,L,C,T=w(this),R=_(T.length),D=d(S,R),k=d(j===void 0?R:j,R);if(a(T)&&((A=typeof(A=T.constructor)=="function"&&(A===Array||a(A.prototype))||h(A)&&(A=A[m])===null?void 0:A)===Array||A===void 0))return g.call(T,D,k);for(L=new(A===void 0?Array:A)(v(k-D,0)),C=0;D<k;D++,C++)D in T&&f(L,C,T[D]);return L.length=C,L}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/create-property":40,"../internals/export":50,"../internals/is-array":73,"../internals/is-object":75,"../internals/to-absolute-index":134,"../internals/to-indexed-object":136,"../internals/to-length":138,"../internals/well-known-symbol":150}],170:[function(d,o,c){var l=d("../internals/export"),h=d("../internals/array-iteration").some,a=d("../internals/array-method-is-strict"),d=d("../internals/array-method-uses-to-length"),a=a("some"),d=d("some");l({target:"Array",proto:!0,forced:!a||!d},{some:function(_){return h(this,_,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],171:[function(b,o,c){var l=b("../internals/export"),h=b("../internals/to-absolute-index"),a=b("../internals/to-integer"),d=b("../internals/to-length"),_=b("../internals/to-object"),w=b("../internals/array-species-create"),f=b("../internals/create-property"),p=b("../internals/array-method-has-species-support"),b=b("../internals/array-method-uses-to-length"),p=p("splice"),b=b("splice",{ACCESSORS:!0,0:0,1:2}),y=Math.max,m=Math.min;l({target:"Array",proto:!0,forced:!p||!b},{splice:function(F,v){var S,j,A,L,C,T,R=_(this),D=d(R.length),k=h(F,D),F=arguments.length;if(F===0?S=j=0:j=F===1?(S=0,D-k):(S=F-2,m(y(a(v),0),D-k)),9007199254740991<D+S-j)throw TypeError("Maximum allowed length exceeded");for(A=w(R,j),L=0;L<j;L++)(C=k+L)in R&&f(A,L,R[C]);if(S<(A.length=j)){for(L=k;L<D-j;L++)T=L+S,(C=L+j)in R?R[T]=R[C]:delete R[T];for(L=D;D-j+S<L;L--)delete R[L-1]}else if(j<S)for(L=D-j;k<L;L--)T=L+S-1,(C=L+j-1)in R?R[T]=R[C]:delete R[T];for(L=0;L<S;L++)R[L+k]=arguments[L+2];return R.length=D-j+S,A}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/export":50,"../internals/to-absolute-index":134,"../internals/to-integer":137,"../internals/to-length":138,"../internals/to-object":139}],172:[function(t,o,c){t("../internals/add-to-unscopables")("flatMap")},{"../internals/add-to-unscopables":7}],173:[function(t,o,c){t("../internals/add-to-unscopables")("flat")},{"../internals/add-to-unscopables":7}],174:[function(h,o,c){var l=h("../internals/descriptors"),h=h("../internals/object-define-property").f,a=Function.prototype,d=a.toString,_=/^\s*function ([^ (]*)/;!l||"name"in a||h(a,"name",{configurable:!0,get:function(){try{return d.call(this).match(_)[1]}catch{return""}}})},{"../internals/descriptors":43,"../internals/object-define-property":93}],175:[function(h,o,c){var l=h("../internals/collection"),h=h("../internals/collection-strong");o.exports=l("Map",function(a){return function(){return a(this,arguments.length?arguments[0]:void 0)}},h)},{"../internals/collection":32,"../internals/collection-strong":30}],176:[function(l,o,c){var l=l("../internals/export"),h=Math.hypot,a=Math.abs,d=Math.sqrt;l({target:"Math",stat:!0,forced:!!h&&h(1/0,NaN)!==1/0},{hypot:function(_,w){for(var f,p,b=0,y=0,m=arguments.length,g=0;y<m;)g<(f=a(arguments[y++]))?(b=b*(p=g/f)*p+1,g=f):b+=0<f?(p=f/g)*p:f;return g===1/0?1/0:g*d(b)}})},{"../internals/export":50}],177:[function(l,o,c){var l=l("../internals/export"),h=Math.log,a=Math.LN2;l({target:"Math",stat:!0},{log2:function(d){return h(d)/a}})},{"../internals/export":50}],178:[function(t,o,c){t("../internals/export")({target:"Math",stat:!0},{sign:t("../internals/math-sign")})},{"../internals/export":50,"../internals/math-sign":81}],179:[function(t,o,c){function l(P){var q,z,H,Q,J,Z,K,se=b(P,!1);if(typeof se=="string"&&2<se.length){if((P=(se=j(se)).charCodeAt(0))===43||P===45){if((q=se.charCodeAt(2))===88||q===120)return NaN}else if(P===48){switch(se.charCodeAt(1)){case 66:case 98:z=2,H=49;break;case 79:case 111:z=8,H=55;break;default:return+se}for(J=(Q=se.slice(2)).length,Z=0;Z<J;Z++)if((K=Q.charCodeAt(Z))<48||H<K)return NaN;return parseInt(Q,z)}}return+se}var h=t("../internals/descriptors"),a=t("../internals/global"),d=t("../internals/is-forced"),_=t("../internals/redefine"),w=t("../internals/has"),f=t("../internals/classof-raw"),p=t("../internals/inherit-if-required"),b=t("../internals/to-primitive"),y=t("../internals/fails"),m=t("../internals/object-create"),g=t("../internals/object-get-own-property-names").f,v=t("../internals/object-get-own-property-descriptor").f,S=t("../internals/object-define-property").f,j=t("../internals/string-trim").trim,A="Number",L=a[A],C=L.prototype,T=f(m(C))==A;if(d(A,!L(" 0o1")||!L("0b1")||L("+0x1"))){for(var R,D=function(q){var q=arguments.length<1?0:q,z=this;return z instanceof D&&(T?y(function(){C.valueOf.call(z)}):f(z)!=A)?p(new L(l(q)),z,D):l(q)},k=h?g(L):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),F=0;k.length>F;F++)w(L,R=k[F])&&!w(D,R)&&S(D,R,v(L,R));(D.prototype=C).constructor=D,_(a,A,D)}},{"../internals/classof-raw":28,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/has":61,"../internals/inherit-if-required":68,"../internals/is-forced":74,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/redefine":110,"../internals/string-trim":131,"../internals/to-primitive":142}],180:[function(t,o,c){t("../internals/export")({target:"Number",stat:!0},{EPSILON:Math.pow(2,-52)})},{"../internals/export":50}],181:[function(t,o,c){t("../internals/export")({target:"Number",stat:!0},{isFinite:t("../internals/number-is-finite")})},{"../internals/export":50,"../internals/number-is-finite":89}],182:[function(w,o,c){function l(b,y,m){return y===0?m:y%2==1?l(b,y-1,m*b):l(b*b,y/2,m)}var h=w("../internals/export"),a=w("../internals/to-integer"),d=w("../internals/this-number-value"),_=w("../internals/string-repeat"),w=w("../internals/fails"),f=1 .toFixed,p=Math.floor;h({target:"Number",proto:!0,forced:f&&(8e-5.toFixed(3)!=="0.000"||.9.toFixed(0)!=="1"||1.255.toFixed(2)!=="1.25"||0xde0b6b3a7640080.toFixed(0)!=="1000000000000000128")||!w(function(){f.call({})})},{toFixed:function(A){function y(R,D){for(var k=-1,F=D;++k<6;)F+=R*L[k],L[k]=F%1e7,F=p(F/1e7)}function m(R){for(var D=6,k=0;0<=--D;)k+=L[D],L[D]=p(k/R),k=k%R*1e7}function g(){for(var R,D=6,k="";0<=--D;)k===""&&D!==0&&L[D]===0||(R=String(L[D]),k=k===""?R:k+_.call("0",7-R.length)+R);return k}var v,S,j=d(this),A=a(A),L=[0,0,0,0,0,0],C="",T="0";if(A<0||20<A)throw RangeError("Incorrect fraction digits");if(j!=j)return"NaN";if(j<=-1e21||1e21<=j)return String(j);if(j<0&&(C="-",j=-j),1e-21<j)if(j=(v=function(R){for(var D=0,k=R;4096<=k;)D+=12,k/=4096;for(;2<=k;)D+=1,k/=2;return D}(j*l(2,69,1))-69)<0?j*l(2,-v,1):j/l(2,v,1),j*=4503599627370496,0<(v=52-v)){for(y(0,j),S=A;7<=S;)y(1e7,0),S-=7;for(y(l(10,S,1),0),S=v-1;23<=S;)m(1<<23),S-=23;m(1<<S),y(1,1),m(2),T=g()}else y(0,j),y(1<<-v,0),T=g()+_.call("0",A);return T=0<A?C+((j=T.length)<=A?"0."+_.call("0",A-j)+T:T.slice(0,j-A)+"."+T.slice(j-A)):C+T}})},{"../internals/export":50,"../internals/fails":51,"../internals/string-repeat":129,"../internals/this-number-value":133,"../internals/to-integer":137}],183:[function(h,o,c){var l=h("../internals/export"),h=h("../internals/object-assign");l({target:"Object",stat:!0,forced:Object.assign!==h},{assign:h})},{"../internals/export":50,"../internals/object-assign":90}],184:[function(t,o,c){var l=t("../internals/export"),h=t("../internals/object-to-array").entries;l({target:"Object",stat:!0},{entries:function(a){return h(a)}})},{"../internals/export":50,"../internals/object-to-array":103}],185:[function(t,o,c){var l=t("../internals/export"),h=t("../internals/iterate"),a=t("../internals/create-property");l({target:"Object",stat:!0},{fromEntries:function(d){var _={};return h(d,function(w,f){a(_,w,f)},void 0,!0),_}})},{"../internals/create-property":40,"../internals/export":50,"../internals/iterate":78}],186:[function(d,o,c){var l=d("../internals/export"),_=d("../internals/fails"),h=d("../internals/to-indexed-object"),a=d("../internals/object-get-own-property-descriptor").f,d=d("../internals/descriptors"),_=_(function(){a(1)});l({target:"Object",stat:!0,forced:!d||_,sham:!d},{getOwnPropertyDescriptor:function(w,f){return a(h(w),f)}})},{"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-descriptor":94,"../internals/to-indexed-object":136}],187:[function(a,o,c){var l=a("../internals/export"),h=a("../internals/fails"),a=a("../internals/object-get-own-property-names-external").f;l({target:"Object",stat:!0,forced:h(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:a})},{"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-names-external":95}],188:[function(_,o,c){var l=_("../internals/export"),h=_("../internals/fails"),a=_("../internals/to-object"),d=_("../internals/object-get-prototype-of"),_=_("../internals/correct-prototype-getter");l({target:"Object",stat:!0,forced:h(function(){d(1)}),sham:!_},{getPrototypeOf:function(w){return d(a(w))}})},{"../internals/correct-prototype-getter":35,"../internals/export":50,"../internals/fails":51,"../internals/object-get-prototype-of":98,"../internals/to-object":139}],189:[function(t,o,c){var l=t("../internals/export"),h=t("../internals/to-object"),a=t("../internals/object-keys");l({target:"Object",stat:!0,forced:t("../internals/fails")(function(){a(1)})},{keys:function(d){return a(h(d))}})},{"../internals/export":50,"../internals/fails":51,"../internals/object-keys":100,"../internals/to-object":139}],190:[function(a,o,c){var l=a("../internals/to-string-tag-support"),h=a("../internals/redefine"),a=a("../internals/object-to-string");l||h(Object.prototype,"toString",a,{unsafe:!0})},{"../internals/object-to-string":104,"../internals/redefine":110,"../internals/to-string-tag-support":143}],191:[function(Fe,o,c){var l,h,a,d,_=Fe("../internals/export"),w=Fe("../internals/is-pure"),f=Fe("../internals/global"),p=Fe("../internals/get-built-in"),b=Fe("../internals/native-promise-constructor"),y=Fe("../internals/redefine"),m=Fe("../internals/redefine-all"),g=Fe("../internals/set-to-string-tag"),v=Fe("../internals/set-species"),S=Fe("../internals/is-object"),j=Fe("../internals/a-function"),A=Fe("../internals/an-instance"),L=Fe("../internals/classof-raw"),C=Fe("../internals/inspect-source"),T=Fe("../internals/iterate"),R=Fe("../internals/check-correctness-of-iteration"),D=Fe("../internals/species-constructor"),k=Fe("../internals/task").set,F=Fe("../internals/microtask"),P=Fe("../internals/promise-resolve"),q=Fe("../internals/host-report-errors"),z=Fe("../internals/new-promise-capability"),H=Fe("../internals/perform"),Q=Fe("../internals/internal-state"),J=Fe("../internals/is-forced"),Je=Fe("../internals/well-known-symbol"),Z=Fe("../internals/engine-v8-version"),K=Je("species"),se="Promise",le=Q.get,M=Q.set,G=Q.getterFor(se),X=b,ee=f.TypeError,ae=f.document,ce=f.process,pe=p("fetch"),ve=z.f,ge=ve,Se=L(ce)=="process",xe=!!(ae&&ae.createEvent&&f.dispatchEvent),he="unhandledrejection",je="rejectionhandled",Ce=1,De=2,Oe=1,ke=2,Fe=J(se,function(){var et,Be;return C(X)===String(X)&&(Z===66||!Se&&typeof PromiseRejectionEvent!="function")?!0:!(!w||X.prototype.finally)||!(51<=Z&&/native code/.test(X))&&(Be=function(de){de(function(){},function(){})},((et=X.resolve(1)).constructor={})[K]=Be,!(et.then(function(){})instanceof Be))}),Je=Fe||!R(function(et){X.all(et).catch(function(){})}),Ue=function(et){var Be;return!(!S(et)||typeof(Be=et.then)!="function")&&Be},mt=function(et,Be,de){var me;Be.notified||(Be.notified=!0,me=Be.reactions,F(function(){for(var ie,ye,Me=Be.value,Ne=Be.state==Ce,Xe=0;me.length>Xe;){var ct,yt,vt,bt=me[Xe++],Nt=Ne?bt.ok:bt.fail,Tt=bt.resolve,St=bt.reject,Lt=bt.domain;try{Nt?(Ne||(Be.rejection===ke&&function(kt,mr){k.call(f,function(){Se?ce.emit("rejectionHandled",kt):ut(je,kt,mr.value)})}(et,Be),Be.rejection=Oe),Nt===!0?ct=Me:(Lt&&Lt.enter(),ct=Nt(Me),Lt&&(Lt.exit(),vt=!0)),ct===bt.promise?St(ee("Promise-chain cycle")):(yt=Ue(ct))?yt.call(ct,Tt,St):Tt(ct)):St(Me)}catch(kt){Lt&&!vt&&Lt.exit(),St(kt)}}Be.reactions=[],Be.notified=!1,de&&!Be.rejection&&(ie=et,ye=Be,k.call(f,function(){var kt=ye.value,mr=it(ye);if(mr&&(mr=H(function(){Se?ce.emit("unhandledRejection",kt,ie):ut(he,ie,kt)}),ye.rejection=Se||it(ye)?ke:Oe,mr.error))throw mr.value}))}))},ut=function(et,Be,de){var me;xe?((me=ae.createEvent("Event")).promise=Be,me.reason=de,me.initEvent(et,!1,!0),f.dispatchEvent(me)):me={promise:Be,reason:de},(Be=f["on"+et])?Be(me):et===he&&q("Unhandled promise rejection",de)},it=function(et){return et.rejection!==Oe&&!et.parent},ft=function(et,Be,de,me){return function(ie){et(Be,de,ie,me)}},lt=function(et,Be,de,me){Be.done||(Be.done=!0,(Be=me||Be).value=de,Be.state=De,mt(et,Be,!0))},Le=function(et,Be,de,me){if(!Be.done){Be.done=!0,me&&(Be=me);try{if(et===de)throw ee("Promise can't be resolved itself");var ie=Ue(de);ie?F(function(){var ye={done:!1};try{ie.call(de,ft(Le,et,ye,Be),ft(lt,et,ye,Be))}catch(Me){lt(et,ye,Me,Be)}}):(Be.value=de,Be.state=Ce,mt(et,Be,!1))}catch(ye){lt(et,{done:!1},ye,Be)}}};Fe&&(X=function(et){A(this,X,se),j(et),l.call(this);var Be=le(this);try{et(ft(Le,this,Be),ft(lt,this,Be))}catch(de){lt(this,Be,de)}},(l=function(et){M(this,{type:se,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=m(X.prototype,{then:function(et,Be){var de=G(this),me=ve(D(this,X));return me.ok=typeof et!="function"||et,me.fail=typeof Be=="function"&&Be,me.domain=Se?ce.domain:void 0,de.parent=!0,de.reactions.push(me),de.state!=0&&mt(this,de,!1),me.promise},catch:function(et){return this.then(void 0,et)}}),h=function(){var et=new l,Be=le(et);this.promise=et,this.resolve=ft(Le,et,Be),this.reject=ft(lt,et,Be)},z.f=ve=function(et){return et===X||et===a?new h:ge(et)},w||typeof b!="function"||(d=b.prototype.then,y(b.prototype,"then",function(et,Be){var de=this;return new X(function(me,ie){d.call(de,me,ie)}).then(et,Be)},{unsafe:!0}),typeof pe=="function"&&_({global:!0,enumerable:!0,forced:!0},{fetch:function(et){return P(X,pe.apply(f,arguments))}}))),_({global:!0,wrap:!0,forced:Fe},{Promise:X}),g(X,se,!1,!0),v(se),a=p(se),_({target:se,stat:!0,forced:Fe},{reject:function(et){var Be=ve(this);return Be.reject.call(void 0,et),Be.promise}}),_({target:se,stat:!0,forced:w||Fe},{resolve:function(et){return P(w&&this===a?X:this,et)}}),_({target:se,stat:!0,forced:Je},{all:function(et){var Be=this,de=ve(Be),me=de.resolve,ie=de.reject,ye=H(function(){var Me=j(Be.resolve),Ne=[],Xe=0,ct=1;T(et,function(yt){var vt=Xe++,bt=!1;Ne.push(void 0),ct++,Me.call(Be,yt).then(function(Nt){bt||(bt=!0,Ne[vt]=Nt,--ct||me(Ne))},ie)}),--ct||me(Ne)});return ye.error&&ie(ye.value),de.promise},race:function(et){var Be=this,de=ve(Be),me=de.reject,ie=H(function(){var ye=j(Be.resolve);T(et,function(Me){ye.call(Be,Me).then(de.resolve,me)})});return ie.error&&me(ie.value),de.promise}})},{"../internals/a-function":5,"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/classof-raw":28,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/get-built-in":57,"../internals/global":60,"../internals/host-report-errors":63,"../internals/inspect-source":69,"../internals/internal-state":71,"../internals/is-forced":74,"../internals/is-object":75,"../internals/is-pure":76,"../internals/iterate":78,"../internals/microtask":82,"../internals/native-promise-constructor":83,"../internals/new-promise-capability":87,"../internals/perform":107,"../internals/promise-resolve":108,"../internals/redefine":110,"../internals/redefine-all":109,"../internals/set-species":118,"../internals/set-to-string-tag":119,"../internals/species-constructor":123,"../internals/task":132,"../internals/well-known-symbol":150}],192:[function(f,o,c){var l=f("../internals/export"),m=f("../internals/get-built-in"),h=f("../internals/a-function"),a=f("../internals/an-object"),d=f("../internals/is-object"),_=f("../internals/object-create"),w=f("../internals/function-bind"),f=f("../internals/fails"),p=m("Reflect","construct"),b=f(function(){function g(){}return!(p(function(){},[],g)instanceof g)}),y=!f(function(){p(function(){})}),m=b||y;l({target:"Reflect",stat:!0,forced:m,sham:m},{construct:function(g,v){h(g),a(v);var S=arguments.length<3?g:h(arguments[2]);if(y&&!b)return p(g,v,S);if(g==S){switch(v.length){case 0:return new g;case 1:return new g(v[0]);case 2:return new g(v[0],v[1]);case 3:return new g(v[0],v[1],v[2]);case 4:return new g(v[0],v[1],v[2],v[3])}var j=[null];return j.push.apply(j,v),new(w.apply(g,j))}return j=S.prototype,S=_(d(j)?j:Object.prototype),j=Function.apply.call(g,S,v),d(j)?j:S}})},{"../internals/a-function":5,"../internals/an-object":10,"../internals/export":50,"../internals/fails":51,"../internals/function-bind":56,"../internals/get-built-in":57,"../internals/is-object":75,"../internals/object-create":91}],193:[function(t,o,c){var l=t("../internals/export"),h=t("../internals/is-object"),a=t("../internals/an-object"),d=t("../internals/has"),_=t("../internals/object-get-own-property-descriptor"),w=t("../internals/object-get-prototype-of");l({target:"Reflect",stat:!0},{get:function f(p,b){var y,m=arguments.length<3?p:arguments[2];return a(p)===m?p[b]:(y=_.f(p,b))?d(y,"value")?y.value:y.get===void 0?void 0:y.get.call(m):h(y=w(p))?f(y,b,m):void 0}})},{"../internals/an-object":10,"../internals/export":50,"../internals/has":61,"../internals/is-object":75,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-prototype-of":98}],194:[function(t,o,c){var l=t("../internals/descriptors"),h=t("../internals/global"),a=t("../internals/is-forced"),d=t("../internals/inherit-if-required"),_=t("../internals/object-define-property").f,w=t("../internals/object-get-own-property-names").f,f=t("../internals/is-regexp"),p=t("../internals/regexp-flags"),b=t("../internals/regexp-sticky-helpers"),y=t("../internals/redefine"),m=t("../internals/fails"),g=t("../internals/internal-state").set,v=t("../internals/set-species"),S=t("../internals/well-known-symbol")("match"),j=h.RegExp,A=j.prototype,L=/a/g,C=/a/g,T=new j(L)!==L,R=b.UNSUPPORTED_Y;if(l&&a("RegExp",!T||R||m(function(){return C[S]=!1,j(L)!=L||j(C)==C||j(L,"i")!="/a/i"}))){for(var D=function(P,q){var z,H=this instanceof D,Q=f(P),J=q===void 0;return!H&&Q&&P.constructor===D&&J?P:(T?Q&&!J&&(P=P.source):P instanceof D&&(J&&(q=p.call(P)),P=P.source),R&&(z=!!q&&-1<q.indexOf("y"))&&(q=q.replace(/y/g,"")),Q=d(T?new j(P,q):j(P,q),H?this:A,D),R&&z&&g(Q,{sticky:z}),Q)},k=w(j),F=0;k.length>F;)(function(P){P in D||_(D,P,{configurable:!0,get:function(){return j[P]},set:function(q){j[P]=q}})})(k[F++]);(A.constructor=D).prototype=A,y(h,"RegExp",D)}v("RegExp")},{"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/inherit-if-required":68,"../internals/internal-state":71,"../internals/is-forced":74,"../internals/is-regexp":77,"../internals/object-define-property":93,"../internals/object-get-own-property-names":96,"../internals/redefine":110,"../internals/regexp-flags":113,"../internals/regexp-sticky-helpers":114,"../internals/set-species":118,"../internals/well-known-symbol":150}],195:[function(h,o,c){var l=h("../internals/export"),h=h("../internals/regexp-exec");l({target:"RegExp",proto:!0,forced:/./.exec!==h},{exec:h})},{"../internals/export":50,"../internals/regexp-exec":112}],196:[function(d,o,c){var l=d("../internals/redefine"),h=d("../internals/an-object"),f=d("../internals/fails"),a=d("../internals/regexp-flags"),d="toString",_=RegExp.prototype,w=_[d],f=f(function(){return w.call({source:"a",flags:"b"})!="/a/b"}),p=w.name!=d;(f||p)&&l(RegExp.prototype,d,function(){var b=h(this),y=String(b.source),m=b.flags;return"/"+y+"/"+String(m===void 0&&b instanceof RegExp&&!("flags"in _)?a.call(b):m)},{unsafe:!0})},{"../internals/an-object":10,"../internals/fails":51,"../internals/redefine":110,"../internals/regexp-flags":113}],197:[function(h,o,c){var l=h("../internals/collection"),h=h("../internals/collection-strong");o.exports=l("Set",function(a){return function(){return a(this,arguments.length?arguments[0]:void 0)}},h)},{"../internals/collection":32,"../internals/collection-strong":30}],198:[function(w,o,c){var l=w("../internals/export"),h=w("../internals/object-get-own-property-descriptor").f,a=w("../internals/to-length"),d=w("../internals/not-a-regexp"),_=w("../internals/require-object-coercible"),b=w("../internals/correct-is-regexp-logic"),w=w("../internals/is-pure"),f="".endsWith,p=Math.min,b=b("endsWith");l({target:"String",proto:!0,forced:!!(w||b||!(l=h(String.prototype,"endsWith"))||l.writable)&&!b},{endsWith:function(y){var m=String(_(this)),g=(d(y),1<arguments.length?arguments[1]:void 0),v=a(m.length),g=g===void 0?v:p(a(g),v),v=String(y);return f?f.call(m,v,g):m.slice(g-v.length,g)===v}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":76,"../internals/not-a-regexp":88,"../internals/object-get-own-property-descriptor":94,"../internals/require-object-coercible":115,"../internals/to-length":138}],199:[function(t,o,c){var l=t("../internals/export"),h=t("../internals/not-a-regexp"),a=t("../internals/require-object-coercible");l({target:"String",proto:!0,forced:!t("../internals/correct-is-regexp-logic")("includes")},{includes:function(d){return!!~String(a(this)).indexOf(h(d),1<arguments.length?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/not-a-regexp":88,"../internals/require-object-coercible":115}],200:[function(a,o,c){var l=a("../internals/string-multibyte").charAt,h=a("../internals/internal-state"),a=a("../internals/define-iterator"),d="String Iterator",_=h.set,w=h.getterFor(d);a(String,"String",function(f){_(this,{type:d,string:String(f),index:0})},function(){var f=w(this),p=f.string,b=f.index;return b>=p.length?{value:void 0,done:!0}:(p=l(p,b),f.index+=p.length,{value:p,done:!1})})},{"../internals/define-iterator":41,"../internals/internal-state":71,"../internals/string-multibyte":125}],201:[function(t,o,c){var l=t("../internals/fix-regexp-well-known-symbol-logic"),h=t("../internals/an-object"),a=t("../internals/to-length"),d=t("../internals/require-object-coercible"),_=t("../internals/advance-string-index"),w=t("../internals/regexp-exec-abstract");l("match",1,function(f,p,b){return[function(y){var m=d(this),g=y==null?void 0:y[f];return g!==void 0?g.call(y,m):new RegExp(y)[f](String(m))},function(y){var m=b(p,y,this);if(m.done)return m.value;var g=h(y),v=String(this);if(!g.global)return w(g,v);for(var S=g.unicode,j=[],A=g.lastIndex=0;(L=w(g,v))!==null;){var L=String(L[0]);(j[A]=L)===""&&(g.lastIndex=_(v,a(g.lastIndex),S)),A++}return A===0?null:j}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/to-length":138}],202:[function(t,o,c){var l=t("../internals/export"),h=t("../internals/string-pad").start;l({target:"String",proto:!0,forced:t("../internals/string-pad-webkit-bug")},{padStart:function(a){return h(this,a,1<arguments.length?arguments[1]:void 0)}})},{"../internals/export":50,"../internals/string-pad":127,"../internals/string-pad-webkit-bug":126}],203:[function(t,o,c){t("../internals/export")({target:"String",proto:!0},{repeat:t("../internals/string-repeat")})},{"../internals/export":50,"../internals/string-repeat":129}],204:[function(t,o,c){var l=t("../internals/fix-regexp-well-known-symbol-logic"),h=t("../internals/an-object"),a=t("../internals/to-object"),d=t("../internals/to-length"),_=t("../internals/to-integer"),w=t("../internals/require-object-coercible"),f=t("../internals/advance-string-index"),p=t("../internals/regexp-exec-abstract"),b=Math.max,y=Math.min,m=Math.floor,g=/\$([$&'`]|\d\d?|<[^>]*>)/g,v=/\$([$&'`]|\d\d?)/g;l("replace",2,function(S,j,A,L){var C=L.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,T=L.REPLACE_KEEPS_$0,R=C?"$":"$0";return[function(D,k){var F=w(this),P=D==null?void 0:D[S];return P!==void 0?P.call(D,F,k):j.call(String(F),D,k)},function(D,k){if(!C&&T||typeof k=="string"&&k.indexOf(R)===-1){var F=A(j,D,this,k);if(F.done)return F.value}for(var P,q=h(D),z=String(this),H=typeof k=="function",Q=(H||(k=String(k)),q.global),J=(Q&&(P=q.unicode,q.lastIndex=0),[]);(M=p(q,z))!==null&&(J.push(M),Q);)String(M[0])===""&&(q.lastIndex=f(z,d(q.lastIndex),P));for(var Z,K="",se=0,le=0;le<J.length;le++){for(var M=J[le],G=String(M[0]),X=b(y(_(M.index),z.length),0),ee=[],ae=1;ae<M.length;ae++)ee.push((Z=M[ae])===void 0?Z:String(Z));var ce=M.groups,pe=H?(pe=[G].concat(ee,X,z),ce!==void 0&&pe.push(ce),String(k.apply(void 0,pe))):function(ve,ge,Se,xe,he,je){var Ce=Se+ve.length,De=xe.length,Oe=v;return he!==void 0&&(he=a(he),Oe=g),j.call(je,Oe,function(ke,Fe){var Je;switch(Fe.charAt(0)){case"$":return"$";case"&":return ve;case"`":return ge.slice(0,Se);case"'":return ge.slice(Ce);case"<":Je=he[Fe.slice(1,-1)];break;default:var Ue,mt=+Fe;if(mt==0)return ke;if(De<mt)return(Ue=m(mt/10))!==0&&Ue<=De?xe[Ue-1]===void 0?Fe.charAt(1):xe[Ue-1]+Fe.charAt(1):ke;Je=xe[mt-1]}return Je===void 0?"":Je})}(G,z,X,ee,ce,k);se<=X&&(K+=z.slice(se,X)+pe,se=X+G.length)}return K+z.slice(se)}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/to-integer":137,"../internals/to-length":138,"../internals/to-object":139}],205:[function(t,o,c){var l=t("../internals/fix-regexp-well-known-symbol-logic"),h=t("../internals/an-object"),a=t("../internals/require-object-coercible"),d=t("../internals/same-value"),_=t("../internals/regexp-exec-abstract");l("search",1,function(w,f,p){return[function(b){var y=a(this),m=b==null?void 0:b[w];return m!==void 0?m.call(b,y):new RegExp(b)[w](String(y))},function(b){var y,m=p(f,b,this);return m.done?m.value:(m=h(b),b=String(this),y=m.lastIndex,d(y,0)||(m.lastIndex=0),b=_(m,b),d(m.lastIndex,y)||(m.lastIndex=y),b===null?-1:b.index)}]})},{"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/same-value":116}],206:[function(y,o,c){var l=y("../internals/fix-regexp-well-known-symbol-logic"),h=y("../internals/is-regexp"),a=y("../internals/an-object"),d=y("../internals/require-object-coercible"),_=y("../internals/species-constructor"),w=y("../internals/advance-string-index"),f=y("../internals/to-length"),p=y("../internals/regexp-exec-abstract"),b=y("../internals/regexp-exec"),y=y("../internals/fails"),m=[].push,g=Math.min,v=4294967295,S=!y(function(){return!RegExp(v,"y")});l("split",2,function(j,A,L){var C="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||1<".".split(/()()/).length||"".split(/.?/).length?function(T,R){var D=String(d(this)),k=R===void 0?v:R>>>0;if(k==0)return[];if(T===void 0)return[D];if(!h(T))return A.call(D,T,k);for(var F,P,q,z=[],R=(T.ignoreCase?"i":"")+(T.multiline?"m":"")+(T.unicode?"u":"")+(T.sticky?"y":""),H=0,Q=new RegExp(T.source,R+"g");(F=b.call(Q,D))&&!(H<(P=Q.lastIndex)&&(z.push(D.slice(H,F.index)),1<F.length&&F.index<D.length&&m.apply(z,F.slice(1)),q=F[0].length,H=P,z.length>=k));)Q.lastIndex===F.index&&Q.lastIndex++;return H===D.length?!q&&Q.test("")||z.push(""):z.push(D.slice(H)),z.length>k?z.slice(0,k):z}:"0".split(void 0,0).length?function(T,R){return T===void 0&&R===0?[]:A.call(this,T,R)}:A;return[function(T,R){var D=d(this),k=T==null?void 0:T[j];return k!==void 0?k.call(T,D,R):C.call(String(D),T,R)},function(F,R){var D=L(C,F,this,R,C!==A);if(D.done)return D.value;var D=a(F),k=String(this),F=_(D,RegExp),P=D.unicode,q=(D.ignoreCase?"i":"")+(D.multiline?"m":"")+(D.unicode?"u":"")+(S?"y":"g"),z=new F(S?D:"^(?:"+D.source+")",q),H=R===void 0?v:R>>>0;if(H==0)return[];if(k.length===0)return p(z,k)===null?[k]:[];for(var Q=0,J=0,Z=[];J<k.length;){z.lastIndex=S?J:0;var K,se=p(z,S?k:k.slice(J));if(se===null||(K=g(f(z.lastIndex+(S?0:J)),k.length))===Q)J=w(k,J,P);else{if(Z.push(k.slice(Q,J)),Z.length===H)return Z;for(var le=1;le<=se.length-1;le++)if(Z.push(se[le]),Z.length===H)return Z;J=Q=K}}return Z.push(k.slice(Q)),Z}]},!S)},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fails":51,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/is-regexp":77,"../internals/regexp-exec":112,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/species-constructor":123,"../internals/to-length":138}],207:[function(w,o,c){var l=w("../internals/export"),h=w("../internals/object-get-own-property-descriptor").f,a=w("../internals/to-length"),d=w("../internals/not-a-regexp"),_=w("../internals/require-object-coercible"),b=w("../internals/correct-is-regexp-logic"),w=w("../internals/is-pure"),f="".startsWith,p=Math.min,b=b("startsWith");l({target:"String",proto:!0,forced:!!(w||b||!(l=h(String.prototype,"startsWith"))||l.writable)&&!b},{startsWith:function(v){var m=String(_(this)),g=(d(v),a(p(1<arguments.length?arguments[1]:void 0,m.length))),v=String(v);return f?f.call(m,v,g):m.slice(g,g+v.length)===v}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":76,"../internals/not-a-regexp":88,"../internals/object-get-own-property-descriptor":94,"../internals/require-object-coercible":115,"../internals/to-length":138}],208:[function(t,o,c){var l=t("../internals/export"),h=t("../internals/create-html");l({target:"String",proto:!0,forced:t("../internals/string-html-forced")("sub")},{sub:function(){return h(this,"sub","","")}})},{"../internals/create-html":36,"../internals/export":50,"../internals/string-html-forced":124}],209:[function(t,o,c){var l=t("../internals/export"),h=t("../internals/string-trim").trim;l({target:"String",proto:!0,forced:t("../internals/string-trim-forced")("trim")},{trim:function(){return h(this)}})},{"../internals/export":50,"../internals/string-trim":131,"../internals/string-trim-forced":130}],210:[function(g,o,c){var l,h,a,d,_,w=g("../internals/export"),f=g("../internals/descriptors"),p=g("../internals/global"),b=g("../internals/has"),y=g("../internals/is-object"),m=g("../internals/object-define-property").f,g=g("../internals/copy-constructor-properties"),v=p.Symbol;!f||typeof v!="function"||"description"in v.prototype&&v().description===void 0||(l={},g(h=function(){var S=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),j=this instanceof h?new v(S):S===void 0?v():v(S);return S===""&&(l[j]=!0),j},v),(p=h.prototype=v.prototype).constructor=h,a=p.toString,d=String(v("test"))=="Symbol(test)",_=/^Symbol\((.*)\)[^)]+$/,m(p,"description",{configurable:!0,get:function(){var S=y(this)?this.valueOf():this,j=a.call(S);return b(l,S)?"":(S=d?j.slice(7,-1):j.replace(_,"$1"))===""?void 0:S}}),w({global:!0,forced:!0},{Symbol:h}))},{"../internals/copy-constructor-properties":33,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/is-object":75,"../internals/object-define-property":93}],211:[function(t,o,c){t("../internals/define-well-known-symbol")("iterator")},{"../internals/define-well-known-symbol":42}],212:[function(ge,o,c){function l(ie,ye){var Me=Je[ie]=D(je[ve]);return Se(Me,{type:pe,tag:ie,description:ye}),b||(Me.description=ye),Me}function h(ie,Ne){A(ie);var Me=C(Ne),Ne=k(Me).concat(me(Me));return ae(Ne,function(Xe){b&&!de.call(Me,Xe)||Be(ie,Xe,Me[Xe])}),ie}function a(Ne,Xe){var Me,Ne=C(Ne),Xe=T(Xe,!0);if(Ne!==he||!v(Je,Xe)||v(Ue,Xe))return!(Me=De(Ne,Xe))||!v(Je,Xe)||v(Ne,ce)&&Ne[ce][Xe]||(Me.enumerable=!0),Me}function d(ye){var ye=ke(C(ye)),Me=[];return ae(ye,function(Ne){v(Je,Ne)||v(se,Ne)||Me.push(Ne)}),Me}var _=ge("../internals/export"),w=ge("../internals/global"),f=ge("../internals/get-built-in"),p=ge("../internals/is-pure"),b=ge("../internals/descriptors"),y=ge("../internals/native-symbol"),m=ge("../internals/use-symbol-as-uid"),g=ge("../internals/fails"),v=ge("../internals/has"),S=ge("../internals/is-array"),j=ge("../internals/is-object"),A=ge("../internals/an-object"),L=ge("../internals/to-object"),C=ge("../internals/to-indexed-object"),T=ge("../internals/to-primitive"),R=ge("../internals/create-property-descriptor"),D=ge("../internals/object-create"),k=ge("../internals/object-keys"),F=ge("../internals/object-get-own-property-names"),P=ge("../internals/object-get-own-property-names-external"),q=ge("../internals/object-get-own-property-symbols"),z=ge("../internals/object-get-own-property-descriptor"),H=ge("../internals/object-define-property"),Q=ge("../internals/object-property-is-enumerable"),J=ge("../internals/create-non-enumerable-property"),Z=ge("../internals/redefine"),K=ge("../internals/shared"),it=ge("../internals/shared-key"),se=ge("../internals/hidden-keys"),le=ge("../internals/uid"),M=ge("../internals/well-known-symbol"),G=ge("../internals/well-known-symbol-wrapped"),X=ge("../internals/define-well-known-symbol"),ee=ge("../internals/set-to-string-tag"),ft=ge("../internals/internal-state"),ae=ge("../internals/array-iteration").forEach,ce=it("hidden"),pe="Symbol",ve="prototype",ge=M("toPrimitive"),Se=ft.set,xe=ft.getterFor(pe),he=Object[ve],je=w.Symbol,Ce=f("JSON","stringify"),De=z.f,Oe=H.f,ke=P.f,Fe=Q.f,Je=K("symbols"),Ue=K("op-symbols"),mt=K("string-to-symbol-registry"),ut=K("symbol-to-string-registry"),it=K("wks"),ft=w.QObject,lt=!ft||!ft[ve]||!ft[ve].findChild,Le=b&&g(function(){return D(Oe({},"a",{get:function(){return Oe(this,"a",{value:7}).a}})).a!=7})?function(ie,ye,Me){var Ne=De(he,ye);Ne&&delete he[ye],Oe(ie,ye,Me),Ne&&ie!==he&&Oe(he,ye,Ne)}:Oe,et=m?function(ie){return typeof ie=="symbol"}:function(ie){return Object(ie)instanceof je},Be=function(ie,ye,Me){return ie===he&&Be(Ue,ye,Me),A(ie),ye=T(ye,!0),A(Me),(v(Je,ye)?(Me.enumerable?(v(ie,ce)&&ie[ce][ye]&&(ie[ce][ye]=!1),Me=D(Me,{enumerable:R(0,!1)})):(v(ie,ce)||Oe(ie,ce,R(1,{})),ie[ce][ye]=!0),Le):Oe)(ie,ye,Me)},de=function(ye){var ye=T(ye,!0),Me=Fe.call(this,ye);return!(this===he&&v(Je,ye)&&!v(Ue,ye))&&(!(Me||!v(this,ye)||!v(Je,ye)||v(this,ce)&&this[ce][ye])||Me)},me=function(Me){var ye=Me===he,Me=ke(ye?Ue:C(Me)),Ne=[];return ae(Me,function(Xe){!v(Je,Xe)||ye&&!v(he,Xe)||Ne.push(Je[Xe])}),Ne};y||(Z((je=function(){if(this instanceof je)throw TypeError("Symbol is not a constructor");var ie=arguments.length&&arguments[0]!==void 0?String(arguments[0]):void 0,ye=le(ie),Me=function(Ne){this===he&&Me.call(Ue,Ne),v(this,ce)&&v(this[ce],ye)&&(this[ce][ye]=!1),Le(this,ye,R(1,Ne))};return b&&lt&&Le(he,ye,{configurable:!0,set:Me}),l(ye,ie)})[ve],"toString",function(){return xe(this).tag}),Z(je,"withoutSetter",function(ie){return l(le(ie),ie)}),Q.f=de,H.f=Be,z.f=a,F.f=P.f=d,q.f=me,G.f=function(ie){return l(M(ie),ie)},b&&(Oe(je[ve],"description",{configurable:!0,get:function(){return xe(this).description}}),p||Z(he,"propertyIsEnumerable",de,{unsafe:!0}))),_({global:!0,wrap:!0,forced:!y,sham:!y},{Symbol:je}),ae(k(it),function(ie){X(ie)}),_({target:pe,stat:!0,forced:!y},{for:function(Me){var ye,Me=String(Me);return v(mt,Me)?mt[Me]:(ye=je(Me),mt[Me]=ye,ut[ye]=Me,ye)},keyFor:function(ie){if(!et(ie))throw TypeError(ie+" is not a symbol");if(v(ut,ie))return ut[ie]},useSetter:function(){lt=!0},useSimple:function(){lt=!1}}),_({target:"Object",stat:!0,forced:!y,sham:!b},{create:function(ie,ye){return ye===void 0?D(ie):h(D(ie),ye)},defineProperty:Be,defineProperties:h,getOwnPropertyDescriptor:a}),_({target:"Object",stat:!0,forced:!y},{getOwnPropertyNames:d,getOwnPropertySymbols:me}),_({target:"Object",stat:!0,forced:g(function(){q.f(1)})},{getOwnPropertySymbols:function(ie){return q.f(L(ie))}}),Ce&&_({target:"JSON",stat:!0,forced:!y||g(function(){var ie=je();return Ce([ie])!="[null]"||Ce({a:ie})!="{}"||Ce(Object(ie))!="{}"})},{stringify:function(ie,ye,Me){for(var Ne,Xe=[ie],ct=1;ct<arguments.length;)Xe.push(arguments[ct++]);if((j(Ne=ye)||ie!==void 0)&&!et(ie))return S(ye)||(ye=function(yt,vt){if(typeof Ne=="function"&&(vt=Ne.call(this,yt,vt)),!et(vt))return vt}),Xe[1]=ye,Ce.apply(null,Xe)}}),je[ve][ge]||J(je[ve],ge,je[ve].valueOf),ee(je,pe),se[ce]=!0},{"../internals/an-object":10,"../internals/array-iteration":19,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/define-well-known-symbol":42,"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/get-built-in":57,"../internals/global":60,"../internals/has":61,"../internals/hidden-keys":62,"../internals/internal-state":71,"../internals/is-array":73,"../internals/is-object":75,"../internals/is-pure":76,"../internals/native-symbol":84,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/object-get-own-property-names-external":95,"../internals/object-get-own-property-symbols":97,"../internals/object-keys":100,"../internals/object-property-is-enumerable":101,"../internals/redefine":110,"../internals/set-to-string-tag":119,"../internals/shared":122,"../internals/shared-key":120,"../internals/to-indexed-object":136,"../internals/to-object":139,"../internals/to-primitive":142,"../internals/uid":147,"../internals/use-symbol-as-uid":148,"../internals/well-known-symbol":150,"../internals/well-known-symbol-wrapped":149}],213:[function(t,o,c){var l=t("../internals/array-buffer-view-core"),h=t("../internals/array-copy-within"),a=l.aTypedArray;(0,l.exportTypedArrayMethod)("copyWithin",function(d,_){return h.call(a(this),d,_,2<arguments.length?arguments[2]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-copy-within":14}],214:[function(t,o,c){var l=t("../internals/array-buffer-view-core"),h=t("../internals/array-iteration").every,a=l.aTypedArray;(0,l.exportTypedArrayMethod)("every",function(d){return h(a(this),d,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],215:[function(t,o,c){var l=t("../internals/array-buffer-view-core"),h=t("../internals/array-fill"),a=l.aTypedArray;(0,l.exportTypedArrayMethod)("fill",function(d){return h.apply(a(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-fill":15}],216:[function(t,o,c){var l=t("../internals/array-buffer-view-core"),h=t("../internals/array-iteration").filter,a=t("../internals/species-constructor"),d=l.aTypedArray,_=l.aTypedArrayConstructor;(0,l.exportTypedArrayMethod)("filter",function(w){for(var f=h(d(this),w,1<arguments.length?arguments[1]:void 0),w=a(this,this.constructor),p=0,b=f.length,y=new(_(w))(b);p<b;)y[p]=f[p++];return y})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":123}],217:[function(t,o,c){var l=t("../internals/array-buffer-view-core"),h=t("../internals/array-iteration").findIndex,a=l.aTypedArray;(0,l.exportTypedArrayMethod)("findIndex",function(d){return h(a(this),d,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],218:[function(t,o,c){var l=t("../internals/array-buffer-view-core"),h=t("../internals/array-iteration").find,a=l.aTypedArray;(0,l.exportTypedArrayMethod)("find",function(d){return h(a(this),d,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],219:[function(t,o,c){t("../internals/typed-array-constructor")("Float32",function(l){return function(h,a,d){return l(this,h,a,d)}})},{"../internals/typed-array-constructor":144}],220:[function(t,o,c){t("../internals/typed-array-constructor")("Float64",function(l){return function(h,a,d){return l(this,h,a,d)}})},{"../internals/typed-array-constructor":144}],221:[function(t,o,c){var l=t("../internals/array-buffer-view-core"),h=t("../internals/array-iteration").forEach,a=l.aTypedArray;(0,l.exportTypedArrayMethod)("forEach",function(d){h(a(this),d,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],222:[function(t,o,c){var l=t("../internals/array-buffer-view-core"),h=t("../internals/array-includes").includes,a=l.aTypedArray;(0,l.exportTypedArrayMethod)("includes",function(d){return h(a(this),d,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],223:[function(t,o,c){var l=t("../internals/array-buffer-view-core"),h=t("../internals/array-includes").indexOf,a=l.aTypedArray;(0,l.exportTypedArrayMethod)("indexOf",function(d){return h(a(this),d,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],224:[function(t,o,c){t("../internals/typed-array-constructor")("Int16",function(l){return function(h,a,d){return l(this,h,a,d)}})},{"../internals/typed-array-constructor":144}],225:[function(t,o,c){t("../internals/typed-array-constructor")("Int32",function(l){return function(h,a,d){return l(this,h,a,d)}})},{"../internals/typed-array-constructor":144}],226:[function(h,o,c){function l(){return a.call(w(this))}var b=h("../internals/global"),p=h("../internals/array-buffer-view-core"),f=h("../modules/es.array.iterator"),h=h("../internals/well-known-symbol")("iterator"),b=b.Uint8Array,a=f.values,d=f.keys,_=f.entries,w=p.aTypedArray,f=p.exportTypedArrayMethod,p=b&&b.prototype[h],b=!!p&&(p.name=="values"||p.name==null);f("entries",function(){return _.call(w(this))}),f("keys",function(){return d.call(w(this))}),f("values",l,!b),f(h,l,!b)},{"../internals/array-buffer-view-core":12,"../internals/global":60,"../internals/well-known-symbol":150,"../modules/es.array.iterator":165}],227:[function(h,o,c){var h=h("../internals/array-buffer-view-core"),l=h.aTypedArray,h=h.exportTypedArrayMethod,a=[].join;h("join",function(d){return a.apply(l(this),arguments)})},{"../internals/array-buffer-view-core":12}],228:[function(t,o,c){var l=t("../internals/array-buffer-view-core"),h=t("../internals/array-last-index-of"),a=l.aTypedArray;(0,l.exportTypedArrayMethod)("lastIndexOf",function(d){return h.apply(a(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-last-index-of":20}],229:[function(t,o,c){var l=t("../internals/array-buffer-view-core"),h=t("../internals/array-iteration").map,a=t("../internals/species-constructor"),d=l.aTypedArray,_=l.aTypedArrayConstructor;(0,l.exportTypedArrayMethod)("map",function(w){return h(d(this),w,1<arguments.length?arguments[1]:void 0,function(f,p){return new(_(a(f,f.constructor)))(p)})})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":123}],230:[function(t,o,c){var l=t("../internals/array-buffer-view-core"),h=t("../internals/array-reduce").right,a=l.aTypedArray;(0,l.exportTypedArrayMethod)("reduceRight",function(d){return h(a(this),d,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],231:[function(t,o,c){var l=t("../internals/array-buffer-view-core"),h=t("../internals/array-reduce").left,a=l.aTypedArray;(0,l.exportTypedArrayMethod)("reduce",function(d){return h(a(this),d,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],232:[function(h,o,c){var h=h("../internals/array-buffer-view-core"),l=h.aTypedArray,h=h.exportTypedArrayMethod,a=Math.floor;h("reverse",function(){for(var d,_=l(this).length,w=a(_/2),f=0;f<w;)d=this[f],this[f++]=this[--_],this[_]=d;return this})},{"../internals/array-buffer-view-core":12}],233:[function(_,o,c){var l=_("../internals/array-buffer-view-core"),h=_("../internals/to-length"),a=_("../internals/to-offset"),d=_("../internals/to-object"),_=_("../internals/fails"),w=l.aTypedArray;(0,l.exportTypedArrayMethod)("set",function(f){w(this);var p=a(1<arguments.length?arguments[1]:void 0,1),b=this.length,y=d(f),m=h(y.length),g=0;if(b<m+p)throw RangeError("Wrong length");for(;g<m;)this[p+g]=y[g++]},_(function(){new Int8Array(1).set({})}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/to-length":138,"../internals/to-object":139,"../internals/to-offset":140}],234:[function(h,o,c){var _=h("../internals/array-buffer-view-core"),l=h("../internals/species-constructor"),h=h("../internals/fails"),a=_.aTypedArray,d=_.aTypedArrayConstructor,_=_.exportTypedArrayMethod,w=[].slice;_("slice",function(f,p){for(var b=w.call(a(this),f,p),f=l(this,this.constructor),y=0,m=b.length,g=new(d(f))(m);y<m;)g[y]=b[y++];return g},h(function(){new Int8Array(1).slice()}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/species-constructor":123}],235:[function(t,o,c){var l=t("../internals/array-buffer-view-core"),h=t("../internals/array-iteration").some,a=l.aTypedArray;(0,l.exportTypedArrayMethod)("some",function(d){return h(a(this),d,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],236:[function(h,o,c){var h=h("../internals/array-buffer-view-core"),l=h.aTypedArray,h=h.exportTypedArrayMethod,a=[].sort;h("sort",function(d){return a.call(l(this),d)})},{"../internals/array-buffer-view-core":12}],237:[function(t,o,c){var l=t("../internals/array-buffer-view-core"),h=t("../internals/to-length"),a=t("../internals/to-absolute-index"),d=t("../internals/species-constructor"),_=l.aTypedArray;(0,l.exportTypedArrayMethod)("subarray",function(y,f){var p=_(this),b=p.length,y=a(y,b);return new(d(p,p.constructor))(p.buffer,p.byteOffset+y*p.BYTES_PER_ELEMENT,h((f===void 0?b:a(f,b))-y))})},{"../internals/array-buffer-view-core":12,"../internals/species-constructor":123,"../internals/to-absolute-index":134,"../internals/to-length":138}],238:[function(h,o,c){var _=h("../internals/global"),l=h("../internals/array-buffer-view-core"),h=h("../internals/fails"),a=_.Int8Array,d=l.aTypedArray,_=l.exportTypedArrayMethod,w=[].toLocaleString,f=[].slice,p=!!a&&h(function(){w.call(new a(1))});_("toLocaleString",function(){return w.apply(p?f.call(d(this)):d(this),arguments)},h(function(){return[1,2].toLocaleString()!=new a([1,2]).toLocaleString()})||!h(function(){a.prototype.toLocaleString.call([1,2])}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":60}],239:[function(h,o,c){var l=h("../internals/array-buffer-view-core").exportTypedArrayMethod,_=h("../internals/fails"),h=h("../internals/global").Uint8Array,h=h&&h.prototype||{},a=[].toString,d=[].join,_=(_(function(){a.call({})})&&(a=function(){return d.call(this)}),h.toString!=a);l("toString",a,_)},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":60}],240:[function(t,o,c){t("../internals/typed-array-constructor")("Uint16",function(l){return function(h,a,d){return l(this,h,a,d)}})},{"../internals/typed-array-constructor":144}],241:[function(t,o,c){t("../internals/typed-array-constructor")("Uint32",function(l){return function(h,a,d){return l(this,h,a,d)}})},{"../internals/typed-array-constructor":144}],242:[function(t,o,c){t("../internals/typed-array-constructor")("Uint8",function(l){return function(h,a,d){return l(this,h,a,d)}})},{"../internals/typed-array-constructor":144}],243:[function(t,o,c){t("../internals/typed-array-constructor")("Uint8",function(l){return function(h,a,d){return l(this,h,a,d)}},!0)},{"../internals/typed-array-constructor":144}],244:[function(v,A,c){function l(L){return function(){return L(this,arguments.length?arguments[0]:void 0)}}var h,a,d,_,w,S=v("../internals/global"),f=v("../internals/redefine-all"),p=v("../internals/internal-metadata"),b=v("../internals/collection"),y=v("../internals/collection-weak"),m=v("../internals/is-object"),g=v("../internals/internal-state").enforce,v=v("../internals/native-weak-map"),S=!S.ActiveXObject&&"ActiveXObject"in S,j=Object.isExtensible,A=A.exports=b("WeakMap",l,y);v&&S&&(h=y.getConstructor(l,"WeakMap",!0),p.REQUIRED=!0,b=A.prototype,a=b.delete,d=b.has,_=b.get,w=b.set,f(b,{delete:function(L){var C;return m(L)&&!j(L)?((C=g(this)).frozen||(C.frozen=new h),a.call(this,L)||C.frozen.delete(L)):a.call(this,L)},has:function(L){var C;return m(L)&&!j(L)?((C=g(this)).frozen||(C.frozen=new h),d.call(this,L)||C.frozen.has(L)):d.call(this,L)},get:function(L){var C;return!m(L)||j(L)||((C=g(this)).frozen||(C.frozen=new h),d.call(this,L))?_.call(this,L):C.frozen.get(L)},set:function(L,C){var T;return!m(L)||j(L)||((T=g(this)).frozen||(T.frozen=new h),d.call(this,L))?w.call(this,L,C):T.frozen.set(L,C),this}}))},{"../internals/collection":32,"../internals/collection-weak":31,"../internals/global":60,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/is-object":75,"../internals/native-weak-map":86,"../internals/redefine-all":109}],245:[function(t,o,c){var l,h=t("../internals/global"),a=t("../internals/dom-iterables"),d=t("../internals/array-for-each"),_=t("../internals/create-non-enumerable-property");for(l in a){var w=h[l],w=w&&w.prototype;if(w&&w.forEach!==d)try{_(w,"forEach",d)}catch{w.forEach=d}}},{"../internals/array-for-each":16,"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":60}],246:[function(w,o,c){var l,h=w("../internals/global"),a=w("../internals/dom-iterables"),d=w("../modules/es.array.iterator"),_=w("../internals/create-non-enumerable-property"),w=w("../internals/well-known-symbol"),f=w("iterator"),p=w("toStringTag"),b=d.values;for(l in a){var y=h[l],m=y&&y.prototype;if(m){if(m[f]!==b)try{_(m,f,b)}catch{m[f]=b}if(m[p]||_(m,p,l),a[l]){for(var g in d)if(m[g]!==d[g])try{_(m,g,d[g])}catch{m[g]=d[g]}}}}},{"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":60,"../internals/well-known-symbol":150,"../modules/es.array.iterator":165}],247:[function(ce,o,c){ce("../modules/es.array.iterator");function l(pe){try{return decodeURIComponent(pe)}catch{return pe}}function h(pe){return X[pe]}function a(pe){return encodeURIComponent(pe).replace(G,h)}function d(pe){this.entries.length=0,ee(this.entries,pe)}function _(pe,ve){if(pe<ve)throw TypeError("Not enough arguments")}function w(){S(this,w,H);var pe,ve,ge,Se,xe,he,je,Ce,De=0<arguments.length?arguments[0]:void 0,Oe=[];if(J(this,{type:H,entries:Oe,updateURL:function(){},updateSearchParams:d}),De!==void 0)if(T(De))if(typeof(pe=F(De))=="function")for(ge=(ve=pe.call(De)).next;!(Se=ge.call(ve)).done;){if((he=(xe=(Se=k(C(Se.value))).next).call(Se)).done||(je=xe.call(Se)).done||!xe.call(Se).done)throw TypeError("Expected sequence with length 2");Oe.push({key:he.value+"",value:je.value+""})}else for(Ce in De)j(De,Ce)&&Oe.push({key:Ce,value:De[Ce]+""});else ee(Oe,typeof De=="string"?De.charAt(0)==="?"?De.slice(1):De:De+"")}var f=ce("../internals/export"),z=ce("../internals/get-built-in"),p=ce("../internals/native-url"),b=ce("../internals/redefine"),y=ce("../internals/redefine-all"),m=ce("../internals/set-to-string-tag"),g=ce("../internals/create-iterator-constructor"),v=ce("../internals/internal-state"),S=ce("../internals/an-instance"),j=ce("../internals/has"),A=ce("../internals/function-bind-context"),L=ce("../internals/classof"),C=ce("../internals/an-object"),T=ce("../internals/is-object"),R=ce("../internals/object-create"),D=ce("../internals/create-property-descriptor"),k=ce("../internals/get-iterator"),F=ce("../internals/get-iterator-method"),ce=ce("../internals/well-known-symbol"),P=z("fetch"),q=z("Headers"),z=ce("iterator"),H="URLSearchParams",Q=H+"Iterator",J=v.set,Z=v.getterFor(H),K=v.getterFor(Q),se=/\+/g,le=Array(4),M=function(pe){var ve,ge=pe.replace(se," "),Se=4;try{return decodeURIComponent(ge)}catch{for(;Se;)ge=ge.replace((ve=Se--,le[ve-1]||(le[ve-1]=RegExp("((?:%[\\da-f]{2}){"+ve+"})","gi"))),l);return ge}},G=/[!'()~]|%20/g,X={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},ee=function(pe,ve){if(ve)for(var ge,Se=ve.split("&"),xe=0;xe<Se.length;)(ge=Se[xe++]).length&&(ge=ge.split("="),pe.push({key:M(ge.shift()),value:M(ge.join("="))}))},ae=g(function(pe,ve){J(this,{type:Q,iterator:k(Z(pe).entries),kind:ve})},"Iterator",function(){var ve=K(this),pe=ve.kind,ve=ve.iterator.next(),ge=ve.value;return ve.done||(ve.value=pe==="keys"?ge.key:pe==="values"?ge.value:[ge.key,ge.value]),ve}),ce=w.prototype;y(ce,{append:function(pe,ve){_(arguments.length,2);var ge=Z(this);ge.entries.push({key:pe+"",value:ve+""}),ge.updateURL()},delete:function(pe){_(arguments.length,1);for(var ve=Z(this),ge=ve.entries,Se=pe+"",xe=0;xe<ge.length;)ge[xe].key===Se?ge.splice(xe,1):xe++;ve.updateURL()},get:function(pe){_(arguments.length,1);for(var ve=Z(this).entries,ge=pe+"",Se=0;Se<ve.length;Se++)if(ve[Se].key===ge)return ve[Se].value;return null},getAll:function(pe){_(arguments.length,1);for(var ve=Z(this).entries,ge=pe+"",Se=[],xe=0;xe<ve.length;xe++)ve[xe].key===ge&&Se.push(ve[xe].value);return Se},has:function(pe){_(arguments.length,1);for(var ve=Z(this).entries,ge=pe+"",Se=0;Se<ve.length;)if(ve[Se++].key===ge)return!0;return!1},set:function(pe,ve){_(arguments.length,1);for(var ge,Se=Z(this),xe=Se.entries,he=!1,je=pe+"",Ce=ve+"",De=0;De<xe.length;De++)(ge=xe[De]).key===je&&(he?xe.splice(De--,1):(he=!0,ge.value=Ce));he||xe.push({key:je,value:Ce}),Se.updateURL()},sort:function(){for(var pe,ve,ge=Z(this),Se=ge.entries,xe=Se.slice(),he=Se.length=0;he<xe.length;he++){for(pe=xe[he],ve=0;ve<he;ve++)if(Se[ve].key>pe.key){Se.splice(ve,0,pe);break}ve===he&&Se.push(pe)}ge.updateURL()},forEach:function(pe){for(var ve,ge=Z(this).entries,Se=A(pe,1<arguments.length?arguments[1]:void 0,3),xe=0;xe<ge.length;)Se((ve=ge[xe++]).value,ve.key,this)},keys:function(){return new ae(this,"keys")},values:function(){return new ae(this,"values")},entries:function(){return new ae(this,"entries")}},{enumerable:!0}),b(ce,z,ce.entries),b(ce,"toString",function(){for(var pe,ve=Z(this).entries,ge=[],Se=0;Se<ve.length;)pe=ve[Se++],ge.push(a(pe.key)+"="+a(pe.value));return ge.join("&")},{enumerable:!0}),m(w,H),f({global:!0,forced:!p},{URLSearchParams:w}),p||typeof P!="function"||typeof q!="function"||f({global:!0,enumerable:!0,forced:!0},{fetch:function(xe){var ve,ge,Se,xe=[xe];return 1<arguments.length&&(T(ve=arguments[1])&&(ge=ve.body,L(ge)===H&&((Se=ve.headers?new q(ve.headers):new q).has("content-type")||Se.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),ve=R(ve,{body:D(0,String(ge)),headers:D(0,Se)}))),xe.push(ve)),P.apply(this,xe)}}),o.exports={URLSearchParams:w,getState:Z}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/classof":29,"../internals/create-iterator-constructor":37,"../internals/create-property-descriptor":39,"../internals/export":50,"../internals/function-bind-context":55,"../internals/get-built-in":57,"../internals/get-iterator":59,"../internals/get-iterator-method":58,"../internals/has":61,"../internals/internal-state":71,"../internals/is-object":75,"../internals/native-url":85,"../internals/object-create":91,"../internals/redefine":110,"../internals/redefine-all":109,"../internals/set-to-string-tag":119,"../internals/well-known-symbol":150,"../modules/es.array.iterator":165}],248:[function(k,o,c){k("../modules/es.string.iterator");function l(Ae){var dt,wt,ot,qt;if(typeof Ae=="number"){for(dt=[],wt=0;wt<4;wt++)dt.unshift(Ae%256),Ae=Q(Ae/256);return dt.join(".")}if(typeof Ae!="object")return Ae;for(dt="",ot=je(Ae),wt=0;wt<8;wt++)qt&&Ae[wt]===0||(qt=qt&&!1,ot===wt?(dt+=wt?":":"::",qt=!0):(dt+=Ae[wt].toString(16),wt<7&&(dt+=":")));return"["+dt+"]"}function h(Ae){return!Ae.host||Ae.cannotBeABaseURL||Ae.scheme=="file"}function a(Ae,dt,wt,ot){var qt,tt,Zt,_t=wt||et,Pt=0,xt="",kr=!1,pr=!1,nr=!1;for(wt||(Ae.scheme="",Ae.username="",Ae.password="",Ae.host=null,Ae.port=null,Ae.path=[],Ae.query=null,Ae.fragment=null,Ae.cannotBeABaseURL=!1,dt=dt.replace(Se,"")),dt=dt.replace(xe,""),qt=L(dt);Pt<=qt.length;){switch(tt=qt[Pt],_t){case et:if(!tt||!M.test(tt)){if(wt)return K;_t=de;continue}xt+=tt.toLowerCase(),_t=Be;break;case Be:if(tt&&(G.test(tt)||tt=="+"||tt=="-"||tt=="."))xt+=tt.toLowerCase();else{if(tt!=":"){if(wt)return K;xt="",_t=de,Pt=0;continue}if(wt&&(Ue(Ae)!=j(Je,xt)||xt=="file"&&(mt(Ae)||Ae.port!==null)||Ae.scheme=="file"&&!Ae.host))return;if(Ae.scheme=xt,wt)return void(Ue(Ae)&&Je[Ae.scheme]==Ae.port&&(Ae.port=null));xt="",Ae.scheme=="file"?_t=Nt:Ue(Ae)&&ot&&ot.scheme==Ae.scheme?_t=me:Ue(Ae)?_t=Ne:qt[Pt+1]=="/"?(_t=ie,Pt++):(Ae.cannotBeABaseURL=!0,Ae.path.push(""),_t=mr)}break;case de:if(!ot||ot.cannotBeABaseURL&&tt!="#")return K;if(ot.cannotBeABaseURL&&tt=="#"){Ae.scheme=ot.scheme,Ae.path=ot.path.slice(),Ae.query=ot.query,Ae.fragment="",Ae.cannotBeABaseURL=!0,_t=Nr;break}_t=ot.scheme=="file"?Nt:ye;continue;case me:if(tt!="/"||qt[Pt+1]!="/"){_t=ye;continue}_t=Xe,Pt++;break;case ie:if(tt=="/"){_t=ct;break}_t=kt;continue;case ye:if(Ae.scheme=ot.scheme,tt==w)Ae.username=ot.username,Ae.password=ot.password,Ae.host=ot.host,Ae.port=ot.port,Ae.path=ot.path.slice(),Ae.query=ot.query;else if(tt=="/"||tt=="\\"&&Ue(Ae))_t=Me;else if(tt=="?")Ae.username=ot.username,Ae.password=ot.password,Ae.host=ot.host,Ae.port=ot.port,Ae.path=ot.path.slice(),Ae.query="",_t=Wr;else{if(tt!="#"){Ae.username=ot.username,Ae.password=ot.password,Ae.host=ot.host,Ae.port=ot.port,Ae.path=ot.path.slice(),Ae.path.pop(),_t=kt;continue}Ae.username=ot.username,Ae.password=ot.password,Ae.host=ot.host,Ae.port=ot.port,Ae.path=ot.path.slice(),Ae.query=ot.query,Ae.fragment="",_t=Nr}break;case Me:if(!Ue(Ae)||tt!="/"&&tt!="\\"){if(tt!="/"){Ae.username=ot.username,Ae.password=ot.password,Ae.host=ot.host,Ae.port=ot.port,_t=kt;continue}_t=ct}else _t=Xe;break;case Ne:if(_t=Xe,tt!="/"||xt.charAt(Pt+1)!="/")continue;Pt++;break;case Xe:if(tt=="/"||tt=="\\")break;_t=ct;continue;case ct:if(tt=="@"){kr&&(xt="%40"+xt);for(var kr=!0,gr=L(xt),bs=0;bs<gr.length;bs++){var Rn=gr[bs];Rn!=":"||nr?(Rn=Fe(Rn,ke),nr?Ae.password+=Rn:Ae.username+=Rn):nr=!0}xt=""}else if(tt==w||tt=="/"||tt=="?"||tt=="#"||tt=="\\"&&Ue(Ae)){if(kr&&xt=="")return Z;Pt-=L(xt).length+1,xt="",_t=yt}else xt+=tt;break;case yt:case vt:if(wt&&Ae.scheme=="file"){_t=St;continue}if(tt!=":"||pr){if(tt==w||tt=="/"||tt=="?"||tt=="#"||tt=="\\"&&Ue(Ae)){if(Ue(Ae)&&xt=="")return se;if(wt&&xt==""&&(mt(Ae)||Ae.port!==null))return;if(Zt=he(Ae,xt))return Zt;if(xt="",_t=Lt,wt)return;continue}tt=="["?pr=!0:tt=="]"&&(pr=!1),xt+=tt}else{if(xt=="")return se;if(Zt=he(Ae,xt))return Zt;if(xt="",_t=bt,wt==vt)return}break;case bt:if(!X.test(tt)){if(tt==w||tt=="/"||tt=="?"||tt=="#"||tt=="\\"&&Ue(Ae)||wt){if(xt!=""){var ts=parseInt(xt,10);if(65535<ts)return le;Ae.port=Ue(Ae)&&ts===Je[Ae.scheme]?null:ts,xt=""}if(wt)return;_t=Lt;continue}return le}xt+=tt;break;case Nt:if(Ae.scheme="file",tt=="/"||tt=="\\")_t=Tt;else{if(!ot||ot.scheme!="file"){_t=kt;continue}if(tt==w)Ae.host=ot.host,Ae.path=ot.path.slice(),Ae.query=ot.query;else if(tt=="?")Ae.host=ot.host,Ae.path=ot.path.slice(),Ae.query="",_t=Wr;else{if(tt!="#"){it(qt.slice(Pt).join(""))||(Ae.host=ot.host,Ae.path=ot.path.slice(),ft(Ae)),_t=kt;continue}Ae.host=ot.host,Ae.path=ot.path.slice(),Ae.query=ot.query,Ae.fragment="",_t=Nr}}break;case Tt:if(tt=="/"||tt=="\\"){_t=St;break}ot&&ot.scheme=="file"&&!it(qt.slice(Pt).join(""))&&(ut(ot.path[0],!0)?Ae.path.push(ot.path[0]):Ae.host=ot.host),_t=kt;continue;case St:if(tt==w||tt=="/"||tt=="\\"||tt=="?"||tt=="#"){if(!wt&&ut(xt))_t=kt;else{if(xt==""){if(Ae.host="",wt)return}else{if(Zt=he(Ae,xt))return Zt;if(Ae.host=="localhost"&&(Ae.host=""),wt)return;xt=""}_t=Lt}continue}xt+=tt;break;case Lt:if(Ue(Ae)){if(_t=kt,tt!="/"&&tt!="\\")continue}else if(wt||tt!="?")if(wt||tt!="#"){if(tt!=w&&(_t=kt,tt!="/"))continue}else Ae.fragment="",_t=Nr;else Ae.query="",_t=Wr;break;case kt:if(tt==w||tt=="/"||tt=="\\"&&Ue(Ae)||!wt&&(tt=="?"||tt=="#")){if(Le(xt)?(ft(Ae),tt=="/"||tt=="\\"&&Ue(Ae)||Ae.path.push("")):lt(xt)?tt=="/"||tt=="\\"&&Ue(Ae)||Ae.path.push(""):(Ae.scheme=="file"&&!Ae.path.length&&ut(xt)&&(Ae.host&&(Ae.host=""),xt=xt.charAt(0)+":"),Ae.path.push(xt)),xt="",Ae.scheme=="file"&&(tt==w||tt=="?"||tt=="#"))for(;1<Ae.path.length&&Ae.path[0]==="";)Ae.path.shift();tt=="?"?(Ae.query="",_t=Wr):tt=="#"&&(Ae.fragment="",_t=Nr)}else xt+=Fe(tt,Oe);break;case mr:tt=="?"?(Ae.query="",_t=Wr):tt=="#"?(Ae.fragment="",_t=Nr):tt!=w&&(Ae.path[0]+=Fe(tt,Ce));break;case Wr:wt||tt!="#"?tt!=w&&(tt=="'"&&Ue(Ae)?Ae.query+="%27":Ae.query+=tt=="#"?"%23":Fe(tt,Ce)):(Ae.fragment="",_t=Nr);break;case Nr:tt!=w&&(Ae.fragment+=Fe(tt,De))}Pt++}}function d(tt){var dt,wt,ot=S(this,d,"URL"),qt=1<arguments.length?arguments[1]:void 0,tt=String(tt),Zt=z(ot,{type:"URL"});if(qt!==void 0){if(qt instanceof d)dt=H(qt);else if(wt=a(dt={},String(qt)))throw TypeError(wt)}if(wt=a(Zt,tt,null,dt))throw TypeError(wt);var _t=Zt.searchParams=new P;(qt=q(_t)).updateSearchParams(Zt.query),qt.updateURL=function(){Zt.query=String(_t)||null},y||(ot.href=Er.call(ot),ot.origin=Qt.call(ot),ot.protocol=Vr.call(ot),ot.username=Zr.call(ot),ot.password=fr.call(ot),ot.host=Br.call(ot),ot.hostname=es.call(ot),ot.port=Kr.call(ot),ot.pathname=Yr.call(ot),ot.search=vs.call(ot),ot.searchParams=Ms.call(ot),ot.hash=Ys.call(ot))}function _(Ae,dt){return{get:Ae,set:dt,configurable:!0,enumerable:!0}}var w,f,p,b=k("../internals/export"),y=k("../internals/descriptors"),m=k("../internals/native-url"),Bt=k("../internals/global"),g=k("../internals/object-define-properties"),v=k("../internals/redefine"),S=k("../internals/an-instance"),j=k("../internals/has"),A=k("../internals/object-assign"),L=k("../internals/array-from"),C=k("../internals/string-multibyte").codeAt,T=k("../internals/string-punycode-to-ascii"),R=k("../internals/set-to-string-tag"),D=k("../modules/web.url-search-params"),k=k("../internals/internal-state"),F=Bt.URL,P=D.URLSearchParams,q=D.getState,z=k.set,H=k.getterFor("URL"),Q=Math.floor,J=Math.pow,Z="Invalid authority",K="Invalid scheme",se="Invalid host",le="Invalid port",M=/[A-Za-z]/,G=/[\d+-.A-Za-z]/,X=/\d/,ee=/^(0x|0X)/,ae=/^[0-7]+$/,ce=/^\d+$/,pe=/^[\dA-Fa-f]+$/,ve=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,ge=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,Se=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,xe=/[\u0009\u000A\u000D]/g,he=function(Ae,dt){var wt,ot,qt;if(dt.charAt(0)=="[")return dt.charAt(dt.length-1)=="]"&&(wt=function(tt){var Zt=[0,0,0,0,0,0,0,0],_t=0,Pt=null,xt=0,kr,pr,nr,gr,bs,Rn,ts,Jr=function(){return tt.charAt(xt)};if(Jr()==":"){if(tt.charAt(1)!=":")return;xt+=2,_t++,Pt=_t}for(;Jr();){if(_t==8)return;if(Jr()==":"){if(Pt!==null)return;xt++,_t++,Pt=_t;continue}for(kr=pr=0;pr<4&&pe.test(Jr());)kr=kr*16+parseInt(Jr(),16),xt++,pr++;if(Jr()=="."){if(pr==0||(xt-=pr,_t>6))return;for(nr=0;Jr();){if(gr=null,nr>0)if(Jr()=="."&&nr<4)xt++;else return;if(!X.test(Jr()))return;for(;X.test(Jr());){if(bs=parseInt(Jr(),10),gr===null)gr=bs;else{if(gr==0)return;gr=gr*10+bs}if(gr>255)return;xt++}Zt[_t]=Zt[_t]*256+gr,nr++,(nr==2||nr==4)&&_t++}if(nr!=4)return;break}else if(Jr()==":"){if(xt++,!Jr())return}else if(Jr())return;Zt[_t++]=kr}if(Pt!==null)for(Rn=_t-Pt,_t=7;_t!=0&&Rn>0;)ts=Zt[_t],Zt[_t--]=Zt[Pt+Rn-1],Zt[Pt+--Rn]=ts;else if(_t!=8)return;return Zt}(dt.slice(1,-1)))?void(Ae.host=wt):se;if(Ue(Ae))return dt=T(dt),ve.test(dt)||(wt=function(tt){var Zt=tt.split("."),_t,Pt,xt,kr,pr,nr,gr;if(Zt.length&&Zt[Zt.length-1]==""&&Zt.pop(),(_t=Zt.length)>4)return tt;for(Pt=[],xt=0;xt<_t;xt++){if(kr=Zt[xt],kr=="")return tt;if(pr=10,kr.length>1&&kr.charAt(0)=="0"&&(pr=ee.test(kr)?16:8,kr=kr.slice(pr==8?1:2)),kr==="")nr=0;else{if(!(pr==10?ce:pr==8?ae:pe).test(kr))return tt;nr=parseInt(kr,pr)}Pt.push(nr)}for(xt=0;xt<_t;xt++)if(nr=Pt[xt],xt==_t-1){if(nr>=J(256,5-_t))return null}else if(nr>255)return null;for(gr=Pt.pop(),xt=0;xt<Pt.length;xt++)gr+=Pt[xt]*J(256,3-xt);return gr}(dt))===null?se:void(Ae.host=wt);if(ge.test(dt))return se;for(wt="",ot=L(dt),qt=0;qt<ot.length;qt++)wt+=Fe(ot[qt],Ce);Ae.host=wt},je=function(Ae){for(var dt=null,wt=1,ot=null,qt=0,tt=0;tt<8;tt++)Ae[tt]!==0?(wt<qt&&(dt=ot,wt=qt),ot=null,qt=0):(ot===null&&(ot=tt),++qt);return wt<qt&&(dt=ot,wt=qt),dt},Ce={},De=A({},Ce,{" ":1,'"':1,"<":1,">":1,"`":1}),Oe=A({},De,{"#":1,"?":1,"{":1,"}":1}),ke=A({},Oe,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Fe=function(Ae,dt){var wt=C(Ae,0);return 32<wt&&wt<127&&!j(dt,Ae)?Ae:encodeURIComponent(Ae)},Je={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Ue=function(Ae){return j(Je,Ae.scheme)},mt=function(Ae){return Ae.username!=""||Ae.password!=""},ut=function(Ae,dt){return Ae.length==2&&M.test(Ae.charAt(0))&&((Ae=Ae.charAt(1))==":"||!dt&&Ae=="|")},it=function(Ae){return 1<Ae.length&&ut(Ae.slice(0,2))&&(Ae.length==2||(Ae=Ae.charAt(2))==="/"||Ae==="\\"||Ae==="?"||Ae==="#")},ft=function(Ae){var dt=Ae.path,wt=dt.length;!wt||Ae.scheme=="file"&&wt==1&&ut(dt[0],!0)||dt.pop()},lt=function(Ae){return Ae==="."||Ae.toLowerCase()==="%2e"},Le=function(Ae){return(Ae=Ae.toLowerCase())===".."||Ae==="%2e."||Ae===".%2e"||Ae==="%2e%2e"},et={},Be={},de={},me={},ie={},ye={},Me={},Ne={},Xe={},ct={},yt={},vt={},bt={},Nt={},Tt={},St={},Lt={},kt={},mr={},Wr={},Nr={},Bt=d.prototype,Er=function(){var Ae=H(this),dt=Ae.scheme,wt=Ae.username,ot=Ae.password,qt=Ae.host,tt=Ae.port,Zt=Ae.path,_t=Ae.query,Pt=Ae.fragment,xt=dt+":";return qt!==null?(xt+="//",mt(Ae)&&(xt+=wt+(ot?":"+ot:"")+"@"),xt+=l(qt),tt!==null&&(xt+=":"+tt)):dt=="file"&&(xt+="//"),xt+=Ae.cannotBeABaseURL?Zt[0]:Zt.length?"/"+Zt.join("/"):"",_t!==null&&(xt+="?"+_t),Pt!==null&&(xt+="#"+Pt),xt},Qt=function(){var Ae=H(this),dt=Ae.scheme,wt=Ae.port;if(dt=="blob")try{return new URL(dt.path[0]).origin}catch{return"null"}return dt!="file"&&Ue(Ae)?dt+"://"+l(Ae.host)+(wt!==null?":"+wt:""):"null"},Vr=function(){return H(this).scheme+":"},Zr=function(){return H(this).username},fr=function(){return H(this).password},Br=function(){var dt=H(this),Ae=dt.host,dt=dt.port;return Ae===null?"":dt===null?l(Ae):l(Ae)+":"+dt},es=function(){var Ae=H(this).host;return Ae===null?"":l(Ae)},Kr=function(){var Ae=H(this).port;return Ae===null?"":String(Ae)},Yr=function(){var Ae=H(this),dt=Ae.path;return Ae.cannotBeABaseURL?dt[0]:dt.length?"/"+dt.join("/"):""},vs=function(){var Ae=H(this).query;return Ae?"?"+Ae:""},Ms=function(){return H(this).searchParams},Ys=function(){var Ae=H(this).fragment;return Ae?"#"+Ae:""};y&&g(Bt,{href:_(Er,function(wt){var dt=H(this),wt=String(wt),wt=a(dt,wt);if(wt)throw TypeError(wt);q(dt.searchParams).updateSearchParams(dt.query)}),origin:_(Qt),protocol:_(Vr,function(Ae){var dt=H(this);a(dt,String(Ae)+":",et)}),username:_(Zr,function(Ae){var dt=H(this),wt=L(String(Ae));if(!h(dt)){dt.username="";for(var ot=0;ot<wt.length;ot++)dt.username+=Fe(wt[ot],ke)}}),password:_(fr,function(Ae){var dt=H(this),wt=L(String(Ae));if(!h(dt)){dt.password="";for(var ot=0;ot<wt.length;ot++)dt.password+=Fe(wt[ot],ke)}}),host:_(Br,function(Ae){var dt=H(this);dt.cannotBeABaseURL||a(dt,String(Ae),yt)}),hostname:_(es,function(Ae){var dt=H(this);dt.cannotBeABaseURL||a(dt,String(Ae),vt)}),port:_(Kr,function(Ae){var dt=H(this);h(dt)||((Ae=String(Ae))==""?dt.port=null:a(dt,Ae,bt))}),pathname:_(Yr,function(Ae){var dt=H(this);dt.cannotBeABaseURL||(dt.path=[],a(dt,Ae+"",Lt))}),search:_(vs,function(Ae){var dt=H(this);(Ae=String(Ae))==""?dt.query=null:(Ae.charAt(0)=="?"&&(Ae=Ae.slice(1)),dt.query="",a(dt,Ae,Wr)),q(dt.searchParams).updateSearchParams(dt.query)}),searchParams:_(Ms),hash:_(Ys,function(Ae){var dt=H(this);(Ae=String(Ae))==""?dt.fragment=null:(Ae.charAt(0)=="#"&&(Ae=Ae.slice(1)),dt.fragment="",a(dt,Ae,Nr))})}),v(Bt,"toJSON",function(){return Er.call(this)},{enumerable:!0}),v(Bt,"toString",function(){return Er.call(this)},{enumerable:!0}),F&&(f=F.createObjectURL,p=F.revokeObjectURL,f&&v(d,"createObjectURL",function(Ae){return f.apply(F,arguments)}),p&&v(d,"revokeObjectURL",function(Ae){return p.apply(F,arguments)})),R(d,"URL"),b({global:!0,forced:!m,sham:!y},{URL:d})},{"../internals/an-instance":9,"../internals/array-from":17,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/internal-state":71,"../internals/native-url":85,"../internals/object-assign":90,"../internals/object-define-properties":92,"../internals/redefine":110,"../internals/set-to-string-tag":119,"../internals/string-multibyte":125,"../internals/string-punycode-to-ascii":128,"../modules/es.string.iterator":200,"../modules/web.url-search-params":247}],249:[function(t,o,c){o.exports=t("./").polyfill()},{"./":250}],250:[function(t,o,c){(function(l,h){var a,d;a=this,d=function(){function _(he){return typeof he=="function"}var w=Array.isArray||function(he){return Object.prototype.toString.call(he)==="[object Array]"},f=0,p=void 0,b=void 0,y=function(he,je){A[f]=he,A[f+1]=je,(f+=2)===2&&(b?b(L):P())},m=typeof window<"u"?window:void 0,g=m||{},g=g.MutationObserver||g.WebKitMutationObserver,v=typeof self>"u"&&l!==void 0&&{}.toString.call(l)==="[object process]",S=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function j(){var he=setTimeout;return function(){return he(L,1)}}var A=new Array(1e3);function L(){for(var he=0;he<f;he+=2)(0,A[he])(A[he+1]),A[he]=void 0,A[he+1]=void 0;f=0}function C(){try{var he=Function("return this")().require("vertx");return(p=he.runOnLoop||he.runOnContext)!==void 0?function(){p(L)}:j()}catch{return j()}}var T,R,D,P=void 0;function k(he,je){var Ce,De=this,Oe=new this.constructor(z),ke=(Oe[q]===void 0&&pe(Oe),De._state);return ke?(Ce=arguments[ke-1],y(function(){return ae(ke,Oe,Ce,De._result)})):X(De,Oe,he,je),Oe}function F(he){var je;return he&&typeof he=="object"&&he.constructor===this?he:(se(je=new this(z),he),je)}var P=v?function(){return l.nextTick(L)}:g?(R=0,v=new g(L),D=document.createTextNode(""),v.observe(D,{characterData:!0}),function(){D.data=R=++R%2}):S?((T=new MessageChannel).port1.onmessage=L,function(){return T.port2.postMessage(0)}):(m===void 0&&typeof t=="function"?C:j)(),q=Math.random().toString(36).substring(2);function z(){}var H=void 0,Q=1,J=2;function Z(he,je,Ce){y(function(De){var Oe=!1,ke=function(Fe,Je,Ue,mt){try{Fe.call(Je,Ue,mt)}catch(ut){return ut}}(Ce,je,function(Fe){Oe||(Oe=!0,(je!==Fe?se:M)(De,Fe))},function(Fe){Oe||(Oe=!0,G(De,Fe))},De._label);!Oe&&ke&&(Oe=!0,G(De,ke))},he)}function K(he,je,Ce){var De,Oe;je.constructor===he.constructor&&Ce===k&&je.constructor.resolve===F?(De=he,(Oe=je)._state===Q?M(De,Oe._result):Oe._state===J?G(De,Oe._result):X(Oe,void 0,function(ke){return se(De,ke)},function(ke){return G(De,ke)})):Ce!==void 0&&_(Ce)?Z(he,je,Ce):M(he,je)}function se(he,je){if(he===je)G(he,new TypeError("You cannot resolve a promise with itself"));else if(Ce=typeof je,je===null||Ce!="object"&&Ce!="function")M(he,je);else{Ce=void 0;try{Ce=je.then}catch(De){return void G(he,De)}K(he,je,Ce)}var Ce}function le(he){he._onerror&&he._onerror(he._result),ee(he)}function M(he,je){he._state===H&&(he._result=je,he._state=Q,he._subscribers.length!==0&&y(ee,he))}function G(he,je){he._state===H&&(he._state=J,he._result=je,y(le,he))}function X(he,je,Ce,De){var Oe=he._subscribers,ke=Oe.length;he._onerror=null,Oe[ke]=je,Oe[ke+Q]=Ce,Oe[ke+J]=De,ke===0&&he._state&&y(ee,he)}function ee(he){var je=he._subscribers,Ce=he._state;if(je.length!==0){for(var De,Oe=void 0,ke=he._result,Fe=0;Fe<je.length;Fe+=3)De=je[Fe],Oe=je[Fe+Ce],De?ae(Ce,De,Oe,ke):Oe(ke);he._subscribers.length=0}}function ae(he,je,Ce,De){var Oe=_(Ce),ke=void 0,Fe=void 0,Je=!0;if(Oe){try{ke=Ce(De)}catch(Ue){Je=!1,Fe=Ue}if(je===ke)return void G(je,new TypeError("A promises callback cannot return that same promise."))}else ke=De;je._state===H&&(Oe&&Je?se(je,ke):Je===!1?G(je,Fe):he===Q?M(je,ke):he===J&&G(je,ke))}var ce=0;function pe(he){he[q]=ce++,he._state=void 0,he._result=void 0,he._subscribers=[]}ge.prototype._enumerate=function(he){for(var je=0;this._state===H&&je<he.length;je++)this._eachEntry(he[je],je)},ge.prototype._eachEntry=function(he,je){var Ce=this._instanceConstructor,De=Ce.resolve;if(De===F){var Oe,ke=void 0,Fe=void 0,Je=!1;try{ke=he.then}catch(Ue){Je=!0,Fe=Ue}ke===k&&he._state!==H?this._settledAt(he._state,je,he._result):typeof ke!="function"?(this._remaining--,this._result[je]=he):Ce===Se?(Oe=new Ce(z),Je?G(Oe,Fe):K(Oe,he,ke),this._willSettleAt(Oe,je)):this._willSettleAt(new Ce(function(Ue){return Ue(he)}),je)}else this._willSettleAt(De(he),je)},ge.prototype._settledAt=function(he,je,Ce){var De=this.promise;De._state===H&&(this._remaining--,he===J?G(De,Ce):this._result[je]=Ce),this._remaining===0&&M(De,this._result)},ge.prototype._willSettleAt=function(he,je){var Ce=this;X(he,void 0,function(De){return Ce._settledAt(Q,je,De)},function(De){return Ce._settledAt(J,je,De)})};var ve=ge;function ge(he,je){this._instanceConstructor=he,this.promise=new he(z),this.promise[q]||pe(this.promise),w(je)?(this.length=je.length,this._remaining=je.length,this._result=new Array(this.length),this.length!==0&&(this.length=this.length||0,this._enumerate(je),this._remaining!==0)||M(this.promise,this._result)):G(this.promise,new Error("Array Methods must be provided an Array"))}xe.prototype.catch=function(he){return this.then(null,he)},xe.prototype.finally=function(he){var je=this.constructor;return _(he)?this.then(function(Ce){return je.resolve(he()).then(function(){return Ce})},function(Ce){return je.resolve(he()).then(function(){throw Ce})}):this.then(he,he)};var Se=xe;function xe(he){if(this[q]=ce++,this._result=this._state=void 0,this._subscribers=[],z!==he){if(typeof he!="function")throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof xe))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");var je=this;try{he(function(Ce){se(je,Ce)},function(Ce){G(je,Ce)})}catch(Ce){G(je,Ce)}}}return Se.prototype.then=k,Se.all=function(he){return new ve(this,he).promise},Se.race=function(he){var je=this;return w(he)?new je(function(Ce,De){for(var Oe=he.length,ke=0;ke<Oe;ke++)je.resolve(he[ke]).then(Ce,De)}):new je(function(Ce,De){return De(new TypeError("You must pass an array to race."))})},Se.resolve=F,Se.reject=function(he){var je=new this(z);return G(je,he),je},Se._setScheduler=function(he){b=he},Se._setAsap=function(he){y=he},Se._asap=y,Se.polyfill=function(){var he=void 0;if(h!==void 0)he=h;else if(typeof self<"u")he=self;else try{he=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var je=he.Promise;if(je){var Ce=null;try{Ce=Object.prototype.toString.call(je.resolve())}catch{}if(Ce==="[object Promise]"&&!je.cast)return}he.Promise=Se},Se.Promise=Se},typeof c=="object"&&o!==void 0?o.exports=d():a.ES6Promise=d()}).call(this,t("_process"),typeof jh<"u"?jh:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:259}],251:[function(t,o,c){var l,h;l=this,h=function(a,d){var _=5e3,w="callback";function f(b){try{delete window[b]}catch{window[b]=void 0}}function p(b){b=document.getElementById(b),b&&document.getElementsByTagName("head")[0].removeChild(b)}d.exports=function(b){var y=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],m=b,g=y.timeout||_,v=y.jsonpCallback||w,S=void 0;return new Promise(function(j,A){var L=y.jsonpCallbackFunction||"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random()),C=v+"_"+L,T=(window[L]=function(R){j({ok:!0,json:function(){return Promise.resolve(R)}}),S&&clearTimeout(S),p(C),f(L)},m+=m.indexOf("?")===-1?"?":"&",document.createElement("script"));T.setAttribute("src",""+m+v+"="+L),y.charset&&T.setAttribute("charset",y.charset),T.id=C,document.getElementsByTagName("head")[0].appendChild(T),S=setTimeout(function(){A(new Error("JSONP request to "+b+" timed out")),f(L),p(C),window[L]=function(){f(L)}},g),T.onerror=function(){A(new Error("JSONP request to "+b+" failed")),f(L),p(C),S&&clearTimeout(S)}})}},c!==void 0&&o!==void 0?h(0,o):(h(h={exports:{}},h),l.fetchJsonp=h.exports)},{}],252:[function(t,o,c){var l=function(h){var a,d,_,w,f,p,b,y,m,g,v;if(!(h===void 0||typeof navigator<"u"&&/MSIE [1-9]\./.test(navigator.userAgent)))return v=h.document,a=function(){return h.URL||h.webkitURL||h},d=v.createElementNS("http://www.w3.org/1999/xhtml","a"),_="download"in d,w=/constructor/i.test(h.HTMLElement)||h.safari,f=/CriOS\/[\d]+/.test(navigator.userAgent),p=function(S){(h.setImmediate||h.setTimeout)(function(){throw S},0)},b=4e4,y=function(S){setTimeout(function(){typeof S=="string"?a().revokeObjectURL(S):S.remove()},b)},m=function(S){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(S.type)?new Blob(["\uFEFF",S],{type:S.type}):S},v=(g=function(S,j,R){R||(S=m(S));var L,C,T=this,R=S.type==="application/octet-stream",D=function(){for(var k=T,F="writestart progress write writeend".split(" "),P=void 0,q=(F=[].concat(F)).length;q--;){var z=k["on"+F[q]];if(typeof z=="function")try{z.call(k,P||k)}catch(H){p(H)}}};T.readyState=T.INIT,_?(L=a().createObjectURL(S),setTimeout(function(){var k,F;d.href=L,d.download=j,k=d,F=new MouseEvent("click"),k.dispatchEvent(F),D(),y(L),T.readyState=T.DONE})):(f||R&&w)&&h.FileReader?((C=new FileReader).onloadend=function(){var k=f?C.result:C.result.replace(/^data:[^;]*;/,"data:attachment/file;");h.open(k,"_blank")||(h.location.href=k),k=void 0,T.readyState=T.DONE,D()},C.readAsDataURL(S),T.readyState=T.INIT):(L=L||a().createObjectURL(S),!R&&h.open(L,"_blank")||(h.location.href=L),T.readyState=T.DONE,D(),y(L))}).prototype,typeof navigator<"u"&&navigator.msSaveOrOpenBlob?function(S,j,A){return j=j||S.name||"download",A||(S=m(S)),navigator.msSaveOrOpenBlob(S,j)}:(v.abort=function(){},v.readyState=v.INIT=0,v.WRITING=1,v.DONE=2,v.error=v.onwritestart=v.onprogress=v.onwrite=v.onabort=v.onerror=v.onwriteend=null,function(S,j,A){return new g(S,j||S.name||"download",A)})}(typeof self<"u"&&self||typeof window<"u"&&window||this.content);o!==void 0&&o.exports?o.exports.saveAs=l:n!=null},{}],253:[function(t,o,c){var l,h=Object.defineProperty,a=(h(c,"__esModule",{value:!0}),c),d={GIFEncoder:()=>D,applyPalette:()=>function(H,Q,J="rgb565"){if(!H||!H.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(H instanceof Uint8Array||H instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");if(256<Q.length)throw new Error("applyPalette() only works with 256 colors or less");const Z=new Uint32Array(H.buffer),K=Z.length,se=J==="rgb444"?4096:65536,le=new Uint8Array(K),M=new Array(se);if(J==="rgba4444")for(let xe=0;xe<K;xe++){var ae=Z[xe],G=ae>>24&255,X=ae>>16&255,ee=ae>>8&255,ae=255&ae,ce=y(ae,ee,X,G),ce=ce in M?M[ce]:M[ce]=function(he,je,Ce,De,Oe){let ke=0,Fe=1e100;for(let ut=0;ut<Oe.length;ut++){var Je,Ue=Oe[ut],mt=C(Ue[3]-De);mt>Fe||(Je=Ue[0],(mt+=C(Je-he))>Fe||(Je=Ue[1],(mt+=C(Je-je))>Fe||(Je=Ue[2],(mt+=C(Je-Ce))>Fe||(Fe=mt,ke=ut))))}return ke}(ae,ee,X,G,Q);le[xe]=ce}else{const xe=J==="rgb444"?m:b;for(let he=0;he<K;he++){var ge=Z[he],pe=ge>>16&255,ve=ge>>8&255,ge=255&ge,Se=xe(ge,ve,pe),Se=Se in M?M[Se]:M[Se]=function(je,Ce,De,Oe){let ke=0,Fe=1e100;for(let ut=0;ut<Oe.length;ut++){var Je,Ue=Oe[ut],mt=C(Ue[0]-je);mt>Fe||(Je=Ue[1],(mt+=C(Je-Ce))>Fe||(Je=Ue[2],(mt+=C(Je-De))>Fe||(Fe=mt,ke=ut)))}return ke}(ge,ve,pe,Q);le[he]=Se}}return le},default:()=>z,nearestColor:()=>function(H,Q,J=A){return H[T(H,Q,J)]},nearestColorIndex:()=>T,nearestColorIndexWithDistance:()=>R,prequantize:()=>function(H,{roundRGB:Q=5,roundAlpha:J=10,oneBitAlpha:Z=null}={}){const K=new Uint32Array(H.buffer);for(let X=0;X<K.length;X++){var G=K[X];let ee=G>>24&255;var se,le=G>>16&255,M=G>>8&255,G=255&G;ee=L(ee,J),Z&&(se=typeof Z=="number"?Z:127,ee=ee<=se?0:255),G=L(G,Q),M=L(M,Q),le=L(le,Q),K[X]=ee<<24|le<<16|M<<8|G<<0}},quantize:()=>function(H,Q,J={}){var{format:Z="rgb565",clearAlpha:K=!0,clearAlphaColor:se=0,clearAlphaThreshold:le=0,oneBitAlpha:M=!1}=J;if(!H||!H.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(H instanceof Uint8Array||H instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");H=new Uint32Array(H.buffer);let G=J.useSqrt!==!1;const X=Z==="rgba4444",ee=function(it,ft){const lt=ft==="rgb444"?4096:65536,Le=new Array(lt),et=it.length;if(ft==="rgba4444")for(let Tt=0;Tt<et;++Tt){var ie=it[Tt],Be=ie>>24&255,de=ie>>16&255,me=ie>>8&255,ie=255&ie,ye=y(ie,me,de,Be);let St=ye in Le?Le[ye]:Le[ye]=j();St.rc+=ie,St.gc+=me,St.bc+=de,St.ac+=Be,St.cnt++}else if(ft==="rgb444")for(let Tt=0;Tt<et;++Tt){var Xe=it[Tt],Me=Xe>>16&255,Ne=Xe>>8&255,Xe=255&Xe,ct=m(Xe,Ne,Me);let St=ct in Le?Le[ct]:Le[ct]=j();St.rc+=Xe,St.gc+=Ne,St.bc+=Me,St.cnt++}else for(let Tt=0;Tt<et;++Tt){var bt=it[Tt],yt=bt>>16&255,vt=bt>>8&255,bt=255&bt,Nt=b(bt,vt,yt);let St=Nt in Le?Le[Nt]:Le[Nt]=j();St.rc+=bt,St.gc+=vt,St.bc+=yt,St.cnt++}return Le}(H,Z),ae=ee.length,ce=ae-1,pe=new Uint32Array(ae+1);for(var ve=0,ge=0;ge<ae;++ge){const it=ee[ge];it!=null&&(Ue=1/it.cnt,X&&(it.ac*=Ue),it.rc*=Ue,it.gc*=Ue,it.bc*=Ue,ee[ve++]=it)}v(Q)/ve<.022&&(G=!1);for(var Se,xe,he,ge=0;ge<ve-1;++ge)ee[ge].fw=ge+1,ee[ge+1].bk=ge,G&&(ee[ge].cnt=Math.sqrt(ee[ge].cnt));for(G&&(ee[ge].cnt=Math.sqrt(ee[ge].cnt)),ge=0;ge<ve;++ge){S(ee,ge);var je=ee[ge].err;for(xe=++pe[0];1<xe&&(he=xe>>1,!(ee[Se=pe[he]].err<=je));xe=he)pe[xe]=Se;pe[xe]=ge}var Ce,De=ve-Q;for(ge=0;ge<De;){for(;;){var Oe=pe[1];if((Ce=ee[Oe]).tm>=Ce.mtm&&ee[Ce.nn].mtm<=Ce.tm)break;for(Ce.mtm==ce?Oe=pe[1]=pe[pe[0]--]:(S(ee,Oe),Ce.tm=ge),je=ee[Oe].err,xe=1;(he=xe+xe)<=pe[0]&&(he<pe[0]&&ee[pe[he]].err>ee[pe[he+1]].err&&he++,!(je<=ee[Se=pe[he]].err));xe=he)pe[xe]=Se;pe[xe]=Oe}var ke=ee[Ce.nn],Fe=Ce.cnt,Je=ke.cnt,Ue=1/(Fe+Je);X&&(Ce.ac=Ue*(Fe*Ce.ac+Je*ke.ac)),Ce.rc=Ue*(Fe*Ce.rc+Je*ke.rc),Ce.gc=Ue*(Fe*Ce.gc+Je*ke.gc),Ce.bc=Ue*(Fe*Ce.bc+Je*ke.bc),Ce.cnt+=ke.cnt,Ce.mtm=++ge,ee[ke.bk].fw=ke.fw,ee[ke.fw].bk=ke.bk,ke.mtm=ce}let mt=[];for(ge=0;;0){let it=g(Math.round(ee[ge].rc),0,255),ft=g(Math.round(ee[ge].gc),0,255),lt=g(Math.round(ee[ge].bc),0,255),Le=255;X&&(Le=g(Math.round(ee[ge].ac),0,255),M&&(ut=typeof M=="number"?M:127,Le=Le<=ut?0:255),K&&Le<=le&&(it=ft=lt=se,Le=0));var ut=X?[it,ft,lt,Le]:[it,ft,lt];if(function(et,Be){for(let ie=0;ie<et.length;ie++){var me=et[ie],de=me[0]===Be[0]&&me[1]===Be[1]&&me[2]===Be[2],me=!(4<=me.length&&4<=Be.length)||me[3]===Be[3];if(de&&me)return!0}return!1}(mt,ut)||mt.push(ut),(ge=ee[ge].fw)==0)break}return mt},snapColorsToPalette:()=>function(H,Q,J=5){if(H.length&&Q.length){var Z=H.map(G=>G.slice(0,3)),K=J*J,se=H[0].length;for(let G=0;G<Q.length;G++){let X=Q[G];X=X.length<se?[X[0],X[1],X[2],255]:X.length>se?X.slice(0,3):X.slice();var M=R(Z,X.slice(0,3),A),le=M[0],M=M[1];0<M&&M<=K&&(H[le]=X)}}}};for(l in d)h(a,l,{get:d[l],enumerable:!0});var _={signature:"GIF",version:"89a",trailer:59,extensionIntroducer:33,applicationExtensionLabel:255,graphicControlExtensionLabel:249,imageSeparator:44,signatureSize:3,versionSize:3,globalColorTableFlagMask:128,colorResolutionMask:112,sortFlagMask:8,globalColorTableSizeMask:7,applicationIdentifierSize:8,applicationAuthCodeSize:3,disposalMethodMask:28,userInputFlagMask:2,transparentColorFlagMask:1,localColorTableFlagMask:128,interlaceFlagMask:64,idSortFlagMask:32,localColorTableSizeMask:7};function w(H=256){let Q=0,J=new Uint8Array(H);return{get buffer(){return J.buffer},reset(){Q=0},bytesView(){return J.subarray(0,Q)},bytes(){return J.slice(0,Q)},writeByte(K){Z(Q+1),J[Q]=K,Q++},writeBytes(K,se=0,le=K.length){Z(Q+le);for(let M=0;M<le;M++)J[Q++]=K[M+se]},writeBytesView(K,se=0,le=K.byteLength){Z(Q+le),J.set(K.subarray(se,se+le),Q),Q+=le}};function Z(K){var se=J.length;if(!(K<=se)){K=Math.max(K,se*(se<1048576?2:1.125)>>>0),se!=0&&(K=Math.max(K,256));const le=J;J=new Uint8Array(K),0<Q&&J.set(le.subarray(0,Q),0)}}}var f=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],p=function(H,Q,J,X,K=w(512),se=new Uint8Array(256),le=new Int32Array(5003),M=new Int32Array(5003)){var G=le.length,X=Math.max(2,X);se.fill(0),M.fill(0),le.fill(-1);let ee=0,ae=0;var ce=X+1;const pe=ce;let ve=!1,ge=pe,Se=(1<<ge)-1;var xe=1<<ce-1;const he=1+xe;let je=2+xe,Ce=0,De=J[0],Oe=0;for(let ut=G;ut<65536;ut*=2)++Oe;Oe=8-Oe,K.writeByte(X),mt(xe);var ke=J.length;for(let ut=1;ut<ke;ut++)e:{var Fe=J[ut],Je=(Fe<<12)+De;let it=Fe<<Oe^De;if(le[it]===Je)De=M[it];else{for(var Ue=it===0?1:G-it;0<=le[it];)if((it-=Ue)<0&&(it+=G),le[it]===Je){De=M[it];break e}mt(De),De=Fe,je<4096?(M[it]=je++,le[it]=Je):(le.fill(-1),je=2+xe,ve=!0,mt(xe))}}return mt(De),mt(he),K.writeByte(0),K.bytesView();function mt(ut){for(ee&=f[ae],0<ae?ee|=ut<<ae:ee=ut,ae+=ge;8<=ae;)se[Ce++]=255&ee,254<=Ce&&(K.writeByte(Ce),K.writeBytesView(se,0,Ce),Ce=0),ee>>=8,ae-=8;if((je>Se||ve)&&(ve?(ge=pe,Se=(1<<ge)-1,ve=!1):(++ge,Se=ge===12?1<<ge:(1<<ge)-1)),ut==he){for(;0<ae;)se[Ce++]=255&ee,254<=Ce&&(K.writeByte(Ce),K.writeBytesView(se,0,Ce),Ce=0),ee>>=8,ae-=8;0<Ce&&(K.writeByte(Ce),K.writeBytesView(se,0,Ce),Ce=0)}}};function b(H,Q,J){return H<<8&63488|Q<<2&992|J>>3}function y(H,Q,J,Z){return H>>4|240&Q|(240&J)<<4|(240&Z)<<8}function m(H,Q,J){return H>>4<<8|240&Q|J>>4}function g(H,Q,J){return H<Q?Q:J<H?J:H}function v(H){return H*H}function S(H,Q,J){var Z=0,K=1e100;const se=H[Q];for(var le=se.cnt,M=se.ac,G=se.rc,X=se.gc,ee=se.bc,ae=se.fw;ae!=0;ae=H[ae].fw){var ce,pe=H[ae],ve=pe.cnt,ve=le*ve/(le+ve);K<=ve||(ce=0,K<=(ce+=ve*v(pe.rc-G))||K<=(ce+=ve*v(pe.gc-X))||K<=(ce+=ve*v(pe.bc-ee))||(K=ce,Z=ae))}se.err=K,se.nn=Z}function j(){return{ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0}}function A(H,Q){for(var J=0,Z=0;Z<H.length;Z++){var K=H[Z]-Q[Z];J+=K*K}return J}function L(H,Q){return 1<Q?Math.round(H/Q)*Q:H}function C(H){return H*H}function T(H,Q,J=A){let Z=1/0,K=-1;for(let le=0;le<H.length;le++){var se=J(Q,H[le]);se<Z&&(Z=se,K=le)}return K}function R(H,Q,J=A){let Z=1/0,K=-1;for(let le=0;le<H.length;le++){var se=J(Q,H[le]);se<Z&&(Z=se,K=le)}return[K,Z]}function D(H={}){const{initialCapacity:Q=4096,auto:J=!0}=H,Z=w(Q),K=new Uint8Array(256),se=new Int32Array(5003),le=new Int32Array(5003);let M=!1;return{reset(){Z.reset(),M=!1},finish(){Z.writeByte(_.trailer)},bytes(){return Z.bytes()},bytesView(){return Z.bytesView()},get buffer(){return Z.buffer},get stream(){return Z},writeHeader:G,writeFrame(X,ee,ae,De={}){var{transparent:pe=!1,transparentIndex:ve=0,delay:Ue=0,palette:ge=null,repeat:ke=0,colorDepth:Se=8,dispose:xe=-1}=De;let he=!1;if(J?M||(he=!0,G(),M=!0):he=!!De.first,ee=Math.max(0,Math.floor(ee)),ae=Math.max(0,Math.floor(ae)),he){if(!ge)throw new Error("First frame must include a { palette } option");var[De,Fe,Ce,Je,Oe=8]=[Z,ee,ae,ge,Se];Je=q(Je.length)-1,Oe=128|Oe-1<<4|Je,F(De,Fe),F(De,Ce),De.writeBytes([Oe,0,0]),k(Z,ge),0<=ke&&(Je=Z,Fe=ke,Je.writeByte(33),Je.writeByte(255),Je.writeByte(11),P(Je,"NETSCAPE2.0"),Je.writeByte(3),Je.writeByte(1),F(Je,Fe),Je.writeByte(0))}var je,Ce=Math.round(Ue/10),De=Z,Oe=xe,ke=Ce,Fe=pe,Je=ve,Ue=(De.writeByte(33),De.writeByte(249),De.writeByte(4),Je<0&&(Je=0,Fe=!1),Fe=Fe?(je=1,2):je=0,0<=Oe&&(Fe=7&Oe),Fe<<=2,De.writeByte(0|Fe|je),F(De,ke),De.writeByte(Je||0),De.writeByte(0),!!ge&&!he);xe=Z,pe=ee,ve=ae,je=Ue?ge:null,xe.writeByte(44),F(xe,0),F(xe,0),F(xe,pe),F(xe,ve),je?(pe=q(je.length)-1,xe.writeByte(128|pe)):xe.writeByte(0),Ue&&k(Z,ge),[ke,De,ve,pe,xe=8,Ue,ge,X]=[Z,X,ee,ae,Se,K,se,le],p(ve,pe,De,xe,ke,Ue,ge,X)}};function G(){P(Z,"GIF89a")}}function k(H,Q){var J=1<<q(Q.length);for(let Z=0;Z<J;Z++){let K=[0,0,0];Z<Q.length&&(K=Q[Z]),H.writeByte(K[0]),H.writeByte(K[1]),H.writeByte(K[2])}}function F(H,Q){H.writeByte(255&Q),H.writeByte(Q>>8&255)}function P(H,Q){for(var J=0;J<Q.length;J++)H.writeByte(Q.charCodeAt(J))}function q(H){return Math.max(Math.ceil(Math.log2(H)),1)}var z=D},{}],254:[function(t,o,c){c.read=function(l,h,a,d,S){var w,f,p=8*S-d-1,b=(1<<p)-1,y=b>>1,m=-7,g=a?S-1:0,v=a?-1:1,S=l[h+g];for(g+=v,w=S&(1<<-m)-1,S>>=-m,m+=p;0<m;w=256*w+l[h+g],g+=v,m-=8);for(f=w&(1<<-m)-1,w>>=-m,m+=d;0<m;f=256*f+l[h+g],g+=v,m-=8);if(w===0)w=1-y;else{if(w===b)return f?NaN:1/0*(S?-1:1);f+=Math.pow(2,d),w-=y}return(S?-1:1)*f*Math.pow(2,w-d)},c.write=function(l,h,a,d,_,j){var f,p,b=8*j-_-1,y=(1<<b)-1,m=y>>1,g=_===23?Math.pow(2,-24)-Math.pow(2,-77):0,v=d?0:j-1,S=d?1:-1,j=h<0||h===0&&1/h<0?1:0;for(h=Math.abs(h),isNaN(h)||h===1/0?(p=isNaN(h)?1:0,f=y):(f=Math.floor(Math.log(h)/Math.LN2),h*(d=Math.pow(2,-f))<1&&(f--,d*=2),2<=(h+=1<=f+m?g/d:g*Math.pow(2,1-m))*d&&(f++,d/=2),y<=f+m?(p=0,f=y):1<=f+m?(p=(h*d-1)*Math.pow(2,_),f+=m):(p=h*Math.pow(2,m-1)*Math.pow(2,_),f=0));8<=_;l[a+v]=255&p,v+=S,p/=256,_-=8);for(f=f<<_|p,b+=_;0<b;l[a+v]=255&f,v+=S,f/=256,b-=8);l[a+v-S]|=128*j}},{}],255:[function(t,o,c){var l;function h(de,me){return de.b===me.b&&de.a===me.a}function a(de,me){return de.b<me.b||de.b===me.b&&de.a<=me.a}function d(de,me,ie){var ye=me.b-de.b,Me=ie.b-me.b;return 0<ye+Me?ye<Me?me.a-de.a+ye/(ye+Me)*(de.a-ie.a):me.a-ie.a+Me/(ye+Me)*(ie.a-de.a):0}function _(de,me,ie){var ye=me.b-de.b,Me=ie.b-me.b;return 0<ye+Me?(me.a-ie.a)*ye+(me.a-de.a)*Me:0}function w(de,me){return de.a<me.a||de.a===me.a&&de.b<=me.b}function f(de,me,ie){var ye=me.a-de.a,Me=ie.a-me.a;return 0<ye+Me?ye<Me?me.b-de.b+ye/(ye+Me)*(de.b-ie.b):me.b-ie.b+Me/(ye+Me)*(ie.b-de.b):0}function p(de,me,ie){var ye=me.a-de.a,Me=ie.a-me.a;return 0<ye+Me?(me.b-ie.b)*ye+(me.b-de.b)*Me:0}function b(de,me,ie,ye){return(de=de<0?0:de)<=(ie=ie<0?0:ie)?ie===0?(me+ye)/2:me+de/(de+ie)*(ye-me):ye+ie/(de+ie)*(me-ye)}function y(de){var me=j(de.b);return L(me,de.c),L(me.b,de.c),C(me,de.a),me}function m(de,me){var ie=!1,ye=!1;de!==me&&(me.a!==de.a&&(ye=!0,R(me.a,de.a)),me.d!==de.d&&(ie=!0,D(me.d,de.d)),A(me,de),ye||(L(me,de.a),de.a.c=de),ie||(C(me,de.d),de.d.a=de))}function g(de){var me=de.b,ie=!1;de.d!==de.b.d&&(ie=!0,D(de.d,de.b.d)),de.c===de?R(de.a,null):(de.b.d.a=de.b.e,de.a.c=de.c,A(de,de.b.e),ie||C(de,de.d)),me.c===me?(R(me.a,null),D(me.d,null)):(de.d.a=me.b.e,me.a.c=me.c,A(me,me.b.e)),T(de)}function v(de){var me=j(de),ie=me.b;return A(me,de.e),me.a=de.b.a,L(ie,me.a),me.d=ie.d=de.d,me=me.b,A(de.b,de.b.b.e),A(de.b,me),de.b.a=me.a,me.b.a.c=me.b,me.b.d=de.b.d,me.f=de.f,me.b.f=de.b.f,me}function S(de,me){var ie=!1,ye=j(de),Me=ye.b;return me.d!==de.d&&(ie=!0,D(me.d,de.d)),A(ye,de.e),A(Me,me),ye.a=de.b.a,Me.a=me.a,ye.d=Me.d=de.d,de.d.a=Me,ie||C(ye,de.d),ye}function j(de){var me=new Ce,ie=new Ce,ye=de.b.h;return(((ie.h=ye).b.h=me).h=de).b.h=ie,me.b=ie,((me.c=me).e=ie).b=me,(ie.c=ie).e=me}function A(de,me){var ie=de.c,ye=me.c;ie.b.e=me,(ye.b.e=de).c=ye,me.c=ie}function L(de,me){var ie=me.f,ye=new Oe(me,ie);for(ie.e=ye,ie=(me.f=ye).c=de;ie.a=ye,(ie=ie.c)!==de;);}function C(de,me){var ie=me.d,ye=new je(me,ie);for(ie.b=ye,(me.d=ye).a=de,ye.c=me.c,ie=de;ie.d=ye,(ie=ie.e)!==de;);}function T(de){var me=de.h;de=de.b.h,(me.b.h=de).b.h=me}function R(de,me){for(var ie=de.c,ye=ie;ye.a=me,(ye=ye.c)!==ie;);ie=de.f,((ye=de.e).f=ie).e=ye}function D(de,me){for(var ie=de.a,ye=ie;ye.d=me,(ye=ye.e)!==ie;);ie=de.d,((ye=de.b).d=ie).b=ye}function k(de){var me=0;return Math.abs(de[1])>Math.abs(de[0])&&(me=1),me=Math.abs(de[2])>Math.abs(de[me])?2:me}function F(de,me){de.f+=me.f,de.b.f+=me.b.f}function P(de,me,ie){return de=de.a,me=me.a,ie=ie.a,me.b.a===de?ie.b.a===de?a(me.a,ie.a)?_(ie.b.a,me.a,ie.a)<=0:0<=_(me.b.a,ie.a,me.a):_(ie.b.a,de,ie.a)<=0:ie.b.a===de?0<=_(me.b.a,de,me.a):(me=d(me.b.a,de,me.a),(de=d(ie.b.a,de,ie.a))<=me)}function q(de){de.a.i=null;var me=de.e;me.a.c=me.c,me.c.a=me.a,de.e=null}function z(de,me){g(de.a),de.c=!1,(de.a=me).i=de}function H(de){for(var me=de.a.a;(de=Be(de)).a.a===me;);return de.c&&(z(de,me=S(et(de).a.b,de.a.e)),de=Be(de)),de}function Q(de,me,ie){var ye=new Le;return ye.a=ie,ye.e=ve(de.f,me.e,ye),ie.i=ye}function J(de,me){switch(de.s){case 100130:return(1&me)!=0;case 100131:return me!==0;case 100132:return 0<me;case 100133:return me<0;case 100134:return 2<=me||me<=-2}return!1}function Z(de){var me=de.a,ie=me.d;ie.c=de.d,ie.a=me,q(de)}function K(de,me,ie){for(me=(de=me).a;de!==ie;){de.c=!1;var ye=et(de),Me=ye.a;if(Me.a!==me.a){if(!ye.c){Z(de);break}z(ye,Me=S(me.c.b,Me.b))}me.c!==Me&&(m(Me.b.e,Me),m(me,Me)),Z(de),me=ye.a,de=ye}return me}function se(de,me,ie,ye,Me,Ne){for(var Xe=!0;Q(de,me,ie.b),(ie=ie.c)!==ye;);for(Me===null&&(Me=et(me).a.b.c);(ie=(ye=et(me)).a.b).a===Me.a;)ie.c!==Me&&(m(ie.b.e,ie),m(Me.b.e,ie)),ye.f=me.f-ie.f,ye.d=J(de,ye.f),me.b=!0,!Xe&&X(de,me)&&(F(ie,Me),q(me),g(Me)),Xe=!1,me=ye,Me=ie;me.b=!0,Ne&&ae(de,me)}function le(de,me,ie,ye,Me){var Ne=[me.g[0],me.g[1],me.g[2]];me.d=null,me.d=de.o&&de.o(Ne,ie,ye,de.c)||null,me.d===null&&(Me?de.n||(he(de,100156),de.n=!0):me.d=ie[0])}function M(de,me,ie){var ye=[null,null,null,null];ye[0]=me.a.d,ye[1]=ie.a.d,le(de,me.a,ye,[.5,.5,0,0],!1),m(me,ie)}function G(de,me,ie,ye,Me){var Ne=Math.abs(me.b-de.b)+Math.abs(me.a-de.a),Xe=Math.abs(ie.b-de.b)+Math.abs(ie.a-de.a),ct=Me+1;ye[Me]=.5*Xe/(Ne+Xe),ye[ct]=.5*Ne/(Ne+Xe),de.g[0]+=ye[Me]*me.g[0]+ye[ct]*ie.g[0],de.g[1]+=ye[Me]*me.g[1]+ye[ct]*ie.g[1],de.g[2]+=ye[Me]*me.g[2]+ye[ct]*ie.g[2]}function X(de,me){var ie=et(me),ye=me.a,Me=ie.a;if(a(ye.a,Me.a)){if(0<_(Me.b.a,ye.a,Me.a))return;if(h(ye.a,Me.a)){if(ye.a!==Me.a){var ie=de.e,Ne=ye.a.h;if(0<=Ne){var Xe=(ie=ie.b).d,ct=ie.e,yt=ie.c,vt=yt[Ne];Xe[vt]=Xe[ie.a],(yt[Xe[vt]]=vt)<=--ie.a&&(vt<=1||a(ct[Xe[vt>>1]],ct[Xe[vt]])?ft:lt)(ie,vt),ct[Ne]=null,yt[Ne]=ie.b,ie.b=Ne}else for(ie.c[-(Ne+1)]=null;0<ie.a&&ie.c[ie.d[ie.a-1]]===null;)--ie.a;M(de,Me.b.e,ye)}}else v(Me.b),m(ye,Me.b.e),me.b=ie.b=!0}else{if(_(ye.b.a,Me.a,ye.a)<0)return;Be(me).b=me.b=!0,v(ye.b),m(Me.b.e,ye)}return 1}function ee(de,me){var ie=et(me),ye=me.a,Me=ie.a,Ne=ye.a,Xe=Me.a,ct=ye.b.a,yt=Me.b.a,vt=new Oe;if(_(ct,de.a,Ne),_(yt,de.a,Xe),!(Ne===Xe||Math.min(Ne.a,ct.a)>Math.max(Xe.a,yt.a))){if(a(Ne,Xe)){if(0<_(yt,Ne,Xe))return}else if(_(ct,Xe,Ne)<0)return;var bt,Nt,Tt=ct,St=Ne,Lt=yt,kt=Xe;if(a(Tt,St)||(bt=Tt,Tt=St,St=bt),a(Lt,kt)||(bt=Lt,Lt=kt,kt=bt),a(Tt,Lt)||(bt=Tt,Tt=Lt,Lt=bt,bt=St,St=kt,kt=bt),a(Lt,St)?a(St,kt)?((bt=d(Tt,Lt,St))+(Nt=d(Lt,St,kt))<0&&(bt=-bt,Nt=-Nt),vt.b=b(bt,Lt.b,Nt,St.b)):((bt=_(Tt,Lt,St))+(Nt=-_(Tt,kt,St))<0&&(bt=-bt,Nt=-Nt),vt.b=b(bt,Lt.b,Nt,kt.b)):vt.b=(Lt.b+St.b)/2,w(Tt,St)||(bt=Tt,Tt=St,St=bt),w(Lt,kt)||(bt=Lt,Lt=kt,kt=bt),w(Tt,Lt)||(bt=Tt,Tt=Lt,Lt=bt,bt=St,St=kt,kt=bt),w(Lt,St)?w(St,kt)?((bt=f(Tt,Lt,St))+(Nt=f(Lt,St,kt))<0&&(bt=-bt,Nt=-Nt),vt.a=b(bt,Lt.a,Nt,St.a)):((bt=p(Tt,Lt,St))+(Nt=-p(Tt,kt,St))<0&&(bt=-bt,Nt=-Nt),vt.a=b(bt,Lt.a,Nt,kt.a)):vt.a=(Lt.a+St.a)/2,a(vt,de.a)&&(vt.b=de.a.b,vt.a=de.a.a),Tt=a(Ne,Xe)?Ne:Xe,a(Tt,vt)&&(vt.b=Tt.b,vt.a=Tt.a),h(vt,Ne)||h(vt,Xe))return X(de,me),0;if(!h(ct,de.a)&&0<=_(ct,de.a,vt)||!h(yt,de.a)&&_(yt,de.a,vt)<=0){if(yt===de.a)v(ye.b),m(Me.b,ye),ye=et(me=H(me)).a,K(de,et(me),ie),se(de,me,ye.b.e,ye,ye,!0);else{if(ct!==de.a)return 0<=_(ct,de.a,vt)&&(Be(me).b=me.b=!0,v(ye.b),ye.a.b=de.a.b,ye.a.a=de.a.a),void(_(yt,de.a,vt)<=0&&(me.b=ie.b=!0,v(Me.b),Me.a.b=de.a.b,Me.a.a=de.a.a));for(v(Me.b),m(ye.e,Me.b.e),Xe=(Ne=ie=me).a.b.a;(Ne=Be(Ne)).a.b.a===Xe;);Ne=et(me=Ne).a.b.c,ie.a=Me.b.e,se(de,me,(Me=K(de,ie,null)).c,ye.b.c,Ne,!0)}return 1}v(ye.b),v(Me.b),m(Me.b.e,ye),ye.a.b=vt.b,ye.a.a=vt.a,ye.a.h=Fe(de.e,ye.a),ye=ye.a,Me=[0,0,0,0],vt=[Ne.d,ct.d,Xe.d,yt.d],ye.g[0]=ye.g[1]=ye.g[2]=0,G(ye,Ne,ct,Me,0),G(ye,Xe,yt,Me,2),le(de,ye,vt,Me,!0),Be(me).b=me.b=ie.b=!0}}function ae(de,me){for(var ie=et(me);;){for(;ie.b;)ie=et(me=ie);if(!me.b&&((me=Be(ie=me))===null||!me.b))break;me.b=!1;var ye=me.a,Me=ie.a;if(Ne=ye.b.a!==Me.b.a)e:{var Ne,Xe=et(Ne=me),ct=Ne.a,yt=Xe.a,vt=void 0;if(a(ct.b.a,yt.b.a)){if(_(ct.b.a,yt.b.a,ct.a)<0){Ne=!1;break e}Be(Ne).b=Ne.b=!0,vt=v(ct),m(yt.b,vt),vt.d.c=Ne.d}else{if(0<_(yt.b.a,ct.b.a,yt.a)){Ne=!1;break e}Ne.b=Xe.b=!0,vt=v(yt),m(ct.e,yt.b),vt.b.d.c=Ne.d}Ne=!0}if(Ne&&(ie.c?(q(ie),g(Me),Me=(ie=et(me)).a):me.c&&(q(me),g(ye),ye=(me=Be(ie)).a)),ye.a!==Me.a){if(ye.b.a===Me.b.a||me.c||ie.c||ye.b.a!==de.a&&Me.b.a!==de.a)X(de,me);else if(ee(de,me))break}ye.a===Me.a&&ye.b.a===Me.b.a&&(F(Me,ye),q(me),g(ye),me=Be(ie))}}function ce(de,me){var ie=new Le,ye=y(de.b);ye.a.b=4e150,ye.a.a=me,ye.b.a.b=-4e150,ye.b.a.a=me,de.a=ye.b.a,ie.a=ye,ie.f=0,ie.d=!1,ie.c=!1,ie.h=!0,ie.b=!1,ye=ve(ye=de.f,ye.a,ie),ie.e=ye}function pe(de){this.a=new ge,this.b=de,this.c=P}function ve(de,me,ie){for(;(me=me.c).b!==null&&!de.c(de.b,me.b,ie););return de=new ge(ie,me.a,me),me.a.c=de,me.a=de}function ge(de,me,ie){this.b=de||null,this.a=me||this,this.c=ie||this}function Se(){this.d=0,this.p=this.b=this.q=null,this.j=[0,0,0],this.s=100130,this.n=!1,this.o=this.a=this.e=this.f=null,this.m=!1,this.c=this.r=this.i=this.k=this.l=this.h=null}function xe(de,me){if(de.d!==me)for(;de.d!==me;)if(de.d<me)switch(de.d){case 0:he(de,100151),de.u(null);break;case 1:he(de,100152),de.t()}else switch(de.d){case 2:he(de,100154),de.v();break;case 1:he(de,100153),de.w()}}function he(de,me){de.p&&de.p(me,de.c)}function je(de,me){this.b=de||this,this.d=me||this,this.a=null,this.c=!1}function Ce(){(this.h=this).i=this.d=this.a=this.e=this.c=this.b=null,this.f=0}function De(){this.c=new Oe,this.a=new je,this.b=new Ce,this.d=new Ce,this.b.b=this.d,this.d.b=this.b}function Oe(de,me){this.e=de||this,this.f=me||this,this.d=this.c=null,this.g=[0,0,0],this.h=this.a=this.b=0}function ke(){this.c=[],this.d=null,this.a=0,this.e=!1,this.b=new Ue}function Fe(de,me){var ie,ye,Me;return de.e?(2*(ye=++(ie=de.b).a)>ie.f&&(ie.f*=2,ie.c=mt(ie.c,ie.f+1)),ie.b===0?Me=ye:(Me=ie.b,ie.b=ie.c[ie.b]),ie.e[Me]=me,ie.c[Me]=ye,ie.d[ye]=Me,ie.h&&lt(ie,ye),Me):(ie=de.a++,de.c[ie]=me,-(ie+1))}function Je(de){if(de.a===0)return it(de.b);var me=de.c[de.d[de.a-1]];if(de.b.a!==0&&a(ut(de.b),me))return it(de.b);for(;--de.a,0<de.a&&de.c[de.d[de.a-1]]===null;);return me}function Ue(){this.d=mt([0],33),this.e=[null,null],this.c=[0,0],this.a=0,this.f=32,this.b=0,this.h=!1,this.d[1]=1}function mt(de,me){for(var ie=Array(me),ye=0;ye<de.length;ye++)ie[ye]=de[ye];for(;ye<me;ye++)ie[ye]=0;return ie}function ut(de){return de.e[de.d[1]]}function it(de){var me=de.d,ie=de.e,ye=de.c,Me=me[1],Ne=ie[Me];return 0<de.a&&(me[1]=me[de.a],ye[me[1]]=1,ie[Me]=null,ye[Me]=de.b,de.b=Me,0<--de.a&&ft(de,1)),Ne}function ft(de,me){for(var ie=de.d,ye=de.e,Me=de.c,Ne=me,Xe=ie[Ne];;){var ct=Ne<<1,yt=(ct<de.a&&a(ye[ie[ct+1]],ye[ie[ct]])&&(ct+=1),ie[ct]);if(ct>de.a||a(ye[Xe],ye[yt])){Me[ie[Ne]=Xe]=Ne;break}Me[ie[Ne]=yt]=Ne,Ne=ct}}function lt(de,me){for(var ie=de.d,ye=de.e,Me=de.c,Ne=me,Xe=ie[Ne];;){var ct=Ne>>1,yt=ie[ct];if(ct==0||a(ye[yt],ye[Xe])){Me[ie[Ne]=Xe]=Ne;break}Me[ie[Ne]=yt]=Ne,Ne=ct}}function Le(){this.e=this.a=null,this.f=0,this.c=this.b=this.h=this.d=!1}function et(de){return de.e.c.b}function Be(de){return de.e.a.b}(l=Se.prototype).x=function(){xe(this,0)},l.B=function(de,me){switch(de){case 100142:return;case 100140:switch(me){case 100130:case 100131:case 100132:case 100133:case 100134:return void(this.s=me)}break;case 100141:return void(this.m=!!me);default:return void he(this,100900)}he(this,100901)},l.y=function(de){switch(de){case 100142:return 0;case 100140:return this.s;case 100141:return this.m;default:he(this,100900)}return!1},l.A=function(de,me,ie){this.j[0]=de,this.j[1]=me,this.j[2]=ie},l.z=function(de,me){var ie=me||null;switch(de){case 100100:case 100106:this.h=ie;break;case 100104:case 100110:this.l=ie;break;case 100101:case 100107:this.k=ie;break;case 100102:case 100108:this.i=ie;break;case 100103:case 100109:this.p=ie;break;case 100105:case 100111:this.o=ie;break;case 100112:this.r=ie;break;default:he(this,100900)}},l.C=function(de,me){var ie=!1,ye=[0,0,0];xe(this,2);for(var Me=0;Me<3;++Me){var Ne=de[Me];Ne<-1e150&&(Ne=-1e150,ie=!0),1e150<Ne&&(Ne=1e150,ie=!0),ye[Me]=Ne}ie&&he(this,100155),(ie=this.q)===null?m(ie=y(this.b),ie.b):(v(ie),ie=ie.e),ie.a.d=me,ie.a.g[0]=ye[0],ie.a.g[1]=ye[1],ie.a.g[2]=ye[2],ie.f=1,ie.b.f=-1,this.q=ie},l.u=function(de){xe(this,0),this.d=1,this.b=new De,this.c=de},l.t=function(){xe(this,1),this.d=2,this.q=null},l.v=function(){xe(this,2),this.d=1},l.w=function(){xe(this,1),this.d=0;var de,me,ie=this.j[0],ye=this.j[1],Me=this.j[2],Ne=!1,Xe=[ie,ye,Me];if(ie===0&&ye===0&&Me===0){for(var ye=[-2e150,-2e150,-2e150],ct=[2e150,2e150,2e150],Me=[],yt=[],ie=(Ne=this.b.c).e;ie!==Ne;ie=ie.e)for(var vt=0;vt<3;++vt){var bt=ie.g[vt];bt<ct[vt]&&(ct[vt]=bt,yt[vt]=ie),bt>ye[vt]&&(ye[vt]=bt,Me[vt]=ie)}if(ye[1]-ct[1]>ye[ie=0]-ct[0]&&(ie=1),ct[ie=ye[2]-ct[2]>ye[ie]-ct[ie]?2:ie]>=ye[ie])Xe[0]=0,Xe[1]=0,Xe[2]=1;else{for(ct=yt[ie],Me=Me[ie],yt=[ye=0,0,0],ct=[ct.g[0]-Me.g[0],ct.g[1]-Me.g[1],ct.g[2]-Me.g[2]],vt=[0,0,0],ie=Ne.e;ie!==Ne;ie=ie.e)vt[0]=ie.g[0]-Me.g[0],vt[1]=ie.g[1]-Me.g[1],vt[2]=ie.g[2]-Me.g[2],yt[0]=ct[1]*vt[2]-ct[2]*vt[1],yt[1]=ct[2]*vt[0]-ct[0]*vt[2],yt[2]=ct[0]*vt[1]-ct[1]*vt[0],ye<(bt=yt[0]*yt[0]+yt[1]*yt[1]+yt[2]*yt[2])&&(ye=bt,Xe[0]=yt[0],Xe[1]=yt[1],Xe[2]=yt[2]);ye<=0&&(Xe[0]=Xe[1]=Xe[2]=0,Xe[k(ct)]=1)}Ne=!0}for(yt=k(Xe),ie=this.b.c,ye=(yt+1)%3,Me=(yt+2)%3,yt=0<Xe[yt]?1:-1,Xe=ie.e;Xe!==ie;Xe=Xe.e)Xe.b=Xe.g[ye],Xe.a=yt*Xe.g[Me];if(Ne){for(Xe=0,ie=(Ne=this.b.a).b;ie!==Ne;ie=ie.b)if(!((ye=ie.a).f<=0))for(;Xe+=(ye.a.b-ye.b.a.b)*(ye.a.a+ye.b.a.a),(ye=ye.e)!==ie.a;);if(Xe<0)for(Ne=(Xe=this.b.c).e;Ne!==Xe;Ne=Ne.e)Ne.a=-Ne.a}for(this.n=!1,Xe=this.b.b,ie=Xe.h;ie!==Xe;ie=Ne)Ne=ie.h,ye=ie.e,h(ie.a,ie.b.a)&&ie.e.e!==ie&&(M(this,ye,ie),g(ie),ye=(ie=ye).e),ye.e===ie&&(ye!==ie&&(ye!==Ne&&ye!==Ne.b||(Ne=Ne.h),g(ye)),ie!==Ne&&ie!==Ne.b||(Ne=Ne.h),g(ie));for(this.e=Xe=new ke,Ne=this.b.c,ie=Ne.e;ie!==Ne;ie=ie.e)ie.h=Fe(Xe,ie);var Nt=Xe;Nt.d=[];for(var Tt=0;Tt<Nt.a;Tt++)Nt.d[Tt]=Tt;Nt.d.sort(function(kt){return function(mr,Wr){return a(kt[mr],kt[Wr])?1:-1}}(Nt.c)),Nt.e=!0;for(var St=Nt.b,Lt=St.a;1<=Lt;--Lt)ft(St,Lt);for(St.h=!0,this.f=new pe(this),ce(this,-4e150),ce(this,4e150);(Xe=Je(this.e))!==null;){for(;;){e:if((ie=this.e).a===0)Ne=ut(ie.b);else if(Ne=ie.c[ie.d[ie.a-1]],ie.b.a!==0&&a(ie=ut(ie.b),Ne)){Ne=ie;break e}if(Ne===null||!h(Ne,Xe))break;Ne=Je(this.e),M(this,Xe.c,Ne.c)}(function kt(mr,Wr){for(var Nr,Bt=(mr.a=Wr).c;Bt.i===null;)if((Bt=Bt.c)===Wr.c){var Bt=mr,Er=Wr;(fr=new Le).a=Er.c.b;for(var Br=(Qt=Bt.f).a;(Br=Br.a).b!==null&&!Qt.c(Qt.b,fr,Br.b););var Qt,Vr,Zr=et(Qt=Br.b),fr=Qt.a,Br=Zr.a;return void(_(fr.b.a,Er,fr.a)===0?h((fr=Qt.a).a,Er)||h(fr.b.a,Er)||(v(fr.b),Qt.c&&(g(fr.c),Qt.c=!1),m(Er.c,fr),kt(Bt,Er)):(Vr=a(Br.b.a,fr.b.a)?Qt:Zr,Zr=void 0,Qt.d||Vr.c?(Zr=Vr===Qt?S(Er.c.b,fr.e):S(Br.b.c.b,Er.c).b,Vr.c?z(Vr,Zr):((Qt=Q(fr=Bt,Qt,Zr)).f=Be(Qt).f+Qt.a.f,Qt.d=J(fr,Qt.f)),kt(Bt,Er)):se(Bt,Qt,Er.c,Er.c,null,!0)))}Qt=(fr=et(Bt=H(Bt.i))).a,(fr=K(mr,fr,null)).c===Qt?(fr=(Qt=fr).c,Br=et(Bt),Zr=Bt.a,Vr=Br.a,Nr=!1,Zr.b.a!==Vr.b.a&&ee(mr,Bt),h(Zr.a,mr.a)&&(m(fr.b.e,Zr),fr=et(Bt=H(Bt)).a,K(mr,et(Bt),Br),Nr=!0),h(Vr.a,mr.a)&&(m(Qt,Vr.b.e),Qt=K(mr,Br,null),Nr=!0),Nr?se(mr,Bt,Qt.c,fr,fr,!0):(Er=a(Vr.a,Zr.a)?Vr.b.e:Zr,se(mr,Bt,Er=S(Qt.c.b,Er),Er.c,Er.c,!1),Er.b.i.c=!0,ae(mr,Bt))):se(mr,Bt,fr.c,Qt,Qt,!0)})(this,Xe)}for(this.a=this.f.a.a.b.a.a,Xe=0;(Ne=this.f.a.a.b)!==null;)Ne.h||++Xe,q(Ne);for(this.f=null,(Xe=this.e).b=null,Xe.d=null,this.e=Xe.c=null,Xe=this.b,ie=Xe.a.b;ie!==Xe.a;ie=Ne)Ne=ie.b,(ie=ie.a).e.e===ie&&(F(ie.c,ie),g(ie));if(!this.n){if(Xe=this.b,this.m)for(ie=Xe.b.h;ie!==Xe.b;ie=Ne)Ne=ie.h,ie.b.d.c!==ie.d.c?ie.f=ie.d.c?1:-1:g(ie);else for(ie=Xe.a.b;ie!==Xe.a;ie=Ne)if(Ne=ie.b,ie.c){for(ie=ie.a;a(ie.b.a,ie.a);ie=ie.c.b);for(;a(ie.a,ie.b.a);ie=ie.e);for(ye=ie.c.b,Me=void 0;ie.e!==ye;)if(a(ie.b.a,ye.a)){for(;ye.e!==ie&&(a((me=ye.e).b.a,me.a)||_(ye.a,ye.b.a,ye.e.b.a)<=0);)ye=(Me=S(ye.e,ye)).b;ye=ye.c.b}else{for(;ye.e!==ie&&(a((de=ie.c.b).a,de.b.a)||0<=_(ie.b.a,ie.a,ie.c.b.a));)ie=(Me=S(ie,ie.c.b)).b;ie=ie.e}for(;ye.e.e!==ie;)Me=S(ye.e,ye),ye=Me.b}if(this.h||this.i||this.k||this.l)if(this.m){for(Ne=(Xe=this.b).a.b;Ne!==Xe.a;Ne=Ne.b)if(Ne.c){for(this.h&&this.h(2,this.c),ie=Ne.a;this.k&&this.k(ie.a.d,this.c),(ie=ie.e)!==Ne.a;);this.i&&this.i(this.c)}}else{for(Xe=this.b,Ne=!!this.l,ie=!1,ye=-1,Me=Xe.a.d;Me!==Xe.a;Me=Me.d)if(Me.c)for(ie||(this.h&&this.h(4,this.c),ie=!0),yt=Me.a;Ne&&(ct=yt.b.d.c?0:1,ye!==ct&&(ye=ct,this.l&&this.l(!!ye,this.c))),this.k&&this.k(yt.a.d,this.c),(yt=yt.e)!==Me.a;);ie&&this.i&&this.i(this.c)}if(this.r){for(Xe=this.b,ie=Xe.a.b;ie!==Xe.a;ie=Ne)if(Ne=ie.b,!ie.c){for(Me=(ye=ie.a).e,yt=void 0;Me=(yt=Me).e,(yt.d=null)===yt.b.d&&(yt.c===yt?R(yt.a,null):(yt.a.c=yt.c,A(yt,yt.b.e)),(ct=yt.b).c===ct?R(ct.a,null):(ct.a.c=ct.c,A(ct,ct.b.e)),T(yt)),yt!==ye;);ye=ie.d,((ie=ie.b).d=ye).b=ie}return this.r(this.b),void(this.c=this.b=null)}}this.b=this.c=null},this.libtess={GluTesselator:Se,windingRule:{GLU_TESS_WINDING_ODD:100130,GLU_TESS_WINDING_NONZERO:100131,GLU_TESS_WINDING_POSITIVE:100132,GLU_TESS_WINDING_NEGATIVE:100133,GLU_TESS_WINDING_ABS_GEQ_TWO:100134},primitiveType:{GL_LINE_LOOP:2,GL_TRIANGLES:4,GL_TRIANGLE_STRIP:5,GL_TRIANGLE_FAN:6},errorType:{GLU_TESS_MISSING_BEGIN_POLYGON:100151,GLU_TESS_MISSING_END_POLYGON:100153,GLU_TESS_MISSING_BEGIN_CONTOUR:100152,GLU_TESS_MISSING_END_CONTOUR:100154,GLU_TESS_COORD_TOO_LARGE:100155,GLU_TESS_NEED_COMBINE_CALLBACK:100156},gluEnum:{GLU_TESS_MESH:100112,GLU_TESS_TOLERANCE:100142,GLU_TESS_WINDING_RULE:100140,GLU_TESS_BOUNDARY_ONLY:100141,GLU_INVALID_ENUM:100900,GLU_INVALID_VALUE:100901,GLU_TESS_BEGIN:100100,GLU_TESS_VERTEX:100101,GLU_TESS_END:100102,GLU_TESS_ERROR:100103,GLU_TESS_EDGE_FLAG:100104,GLU_TESS_COMBINE:100105,GLU_TESS_BEGIN_DATA:100106,GLU_TESS_VERTEX_DATA:100107,GLU_TESS_END_DATA:100108,GLU_TESS_ERROR_DATA:100109,GLU_TESS_EDGE_FLAG_DATA:100110,GLU_TESS_COMBINE_DATA:100111}},Se.prototype.gluDeleteTess=Se.prototype.x,Se.prototype.gluTessProperty=Se.prototype.B,Se.prototype.gluGetTessProperty=Se.prototype.y,Se.prototype.gluTessNormal=Se.prototype.A,Se.prototype.gluTessCallback=Se.prototype.z,Se.prototype.gluTessVertex=Se.prototype.C,Se.prototype.gluTessBeginPolygon=Se.prototype.u,Se.prototype.gluTessBeginContour=Se.prototype.t,Se.prototype.gluTessEndContour=Se.prototype.v,Se.prototype.gluTessEndPolygon=Se.prototype.w,o!==void 0&&(o.exports=this.libtess)},{}],256:[function(t,o,c){function l(a,d,_,w){var f=0,p=(w=w===void 0?{}:w).loop===void 0?null:w.loop,b=w.palette===void 0?null:w.palette;if(d<=0||_<=0||65535<d||65535<_)throw new Error("Width/Height invalid.");function y(C){if(C=C.length,C<2||256<C||C&C-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return C}a[f++]=71,a[f++]=73,a[f++]=70,a[f++]=56,a[f++]=57,a[f++]=97;var m=0,g=0;if(b!==null){for(var v=y(b);v>>=1;)++m;if(v=1<<m,--m,w.background!==void 0){if(v<=(g=w.background))throw new Error("Background index out of range.");if(g===0)throw new Error("Background index explicitly passed as 0.")}}if(a[f++]=255&d,a[f++]=d>>8&255,a[f++]=255&_,a[f++]=_>>8&255,a[f++]=(b!==null?128:0)|m,a[f++]=g,a[f++]=0,b!==null)for(var S=0,j=b.length;S<j;++S){var A=b[S];a[f++]=A>>16&255,a[f++]=A>>8&255,a[f++]=255&A}if(p!==null){if(p<0||65535<p)throw new Error("Loop count invalid.");a[f++]=33,a[f++]=255,a[f++]=11,a[f++]=78,a[f++]=69,a[f++]=84,a[f++]=83,a[f++]=67,a[f++]=65,a[f++]=80,a[f++]=69,a[f++]=50,a[f++]=46,a[f++]=48,a[f++]=3,a[f++]=1,a[f++]=255&p,a[f++]=p>>8&255,a[f++]=0}var L=!1;this.addFrame=function(C,T,R,D,k,F){if(L===!0&&(--f,L=!1),F=F===void 0?{}:F,C<0||T<0||65535<C||65535<T)throw new Error("x/y invalid.");if(R<=0||D<=0||65535<R||65535<D)throw new Error("Width/Height invalid.");if(k.length<R*D)throw new Error("Not enough pixels for the frame size.");var P=!0,q=F.palette;if(q==null&&(P=!1,q=b),q==null)throw new Error("Must supply either a local or global palette.");for(var H=y(q),z=0;H>>=1;)++z;var H=1<<z,Q=F.delay===void 0?0:F.delay,J=F.disposal===void 0?0:F.disposal;if(J<0||3<J)throw new Error("Disposal out of range.");var Z=!1,K=0;if(F.transparent!==void 0&&F.transparent!==null&&(Z=!0,(K=F.transparent)<0||H<=K))throw new Error("Transparent color index.");if(J===0&&!Z&&Q===0||(a[f++]=33,a[f++]=249,a[f++]=4,a[f++]=J<<2|(Z===!0?1:0),a[f++]=255&Q,a[f++]=Q>>8&255,a[f++]=K,a[f++]=0),a[f++]=44,a[f++]=255&C,a[f++]=C>>8&255,a[f++]=255&T,a[f++]=T>>8&255,a[f++]=255&R,a[f++]=R>>8&255,a[f++]=255&D,a[f++]=D>>8&255,a[f++]=P===!0?128|z-1:0,P===!0)for(var se=0,le=q.length;se<le;++se){var M=q[se];a[f++]=M>>16&255,a[f++]=M>>8&255,a[f++]=255&M}return f=function(G,X,ee,ae){G[X++]=ee;var ce=X++,pe=1<<ee,ve=pe-1,ge=1+pe,Se=1+ge,xe=ee+1,he=0,je=0;function Ce(it){for(;it<=he;)G[X++]=255&je,je>>=8,he-=8,X===ce+256&&(G[ce]=255,ce=X++)}function De(it){je|=it<<he,he+=xe,Ce(8)}var Oe=ae[0]&ve,ke={};De(pe);for(var Fe=1,Je=ae.length;Fe<Je;++Fe){var Ue=ae[Fe]&ve,mt=Oe<<8|Ue,ut=ke[mt];if(ut===void 0){for(je|=Oe<<he,he+=xe;8<=he;)G[X++]=255&je,je>>=8,he-=8,X===ce+256&&(G[ce]=255,ce=X++);Se===4096?(De(pe),Se=1+ge,xe=ee+1,ke={}):(1<<xe<=Se&&++xe,ke[mt]=Se++),Oe=Ue}else Oe=ut}return De(Oe),De(ge),Ce(1),ce+1===X?G[ce]=0:(G[ce]=X-ce-1,G[X++]=0),X}(a,f,z<2?2:z,k)},this.end=function(){return L===!1&&(a[f++]=59,L=!0),f},this.getOutputBuffer=function(){return a},this.setOutputBuffer=function(C){a=C},this.getOutputBufferPosition=function(){return f},this.setOutputBufferPosition=function(C){f=C}}function h(a,d,_,w){for(var f=a[d++],p=1<<f,b=1+p,y=1+b,m=f+1,g=(1<<m)-1,v=0,S=0,j=0,A=a[d++],L=new Int32Array(4096),C=null;;){for(;v<16&&A!==0;)S|=a[d++]<<v,v+=8,A===1?A=a[d++]:--A;if(v<m)break;var T=S&g;if(S>>=m,v-=m,T==p)y=1+b,g=(1<<(m=f+1))-1,C=null;else{if(T==b)break;for(var R=T<y?T:C,D=0,k=R;p<k;)k=L[k]>>8,++D;var F=k;if(w<j+D+(R!==T?1:0))return void console.log("Warning, gif stream longer than expected.");_[j++]=F;var P=j+=D;for(R!==T&&(_[j++]=F),k=R;D--;)k=L[k],_[--P]=255&k,k>>=8;C!==null&&y<4096&&(L[y++]=C<<8|F,g+1<=y&&m<12&&(++m,g=g<<1|1)),C=T}}j!==w&&console.log("Warning, gif stream shorter than expected.")}try{c.GifWriter=l,c.GifReader=function(a){var d=0;if(a[d++]!==71||a[d++]!==73||a[d++]!==70||a[d++]!==56||(a[d++]+1&253)!=56||a[d++]!==97)throw new Error("Invalid GIF 87a/89a header.");var _=a[d++]|a[d++]<<8,w=a[d++]|a[d++]<<8,f=a[d++],p=1<<1+(7&f),b=(a[d++],a[d++],null),y=null,m=(f>>7&&(b=d,d+=3*(y=p)),!0),g=[],v=0,S=null,j=0,A=null;for(this.width=_,this.height=w;m&&d<a.length;)switch(a[d++]){case 33:switch(a[d++]){case 255:if(a[d]!==11||a[d+1]==78&&a[d+2]==69&&a[d+3]==84&&a[d+4]==83&&a[d+5]==67&&a[d+6]==65&&a[d+7]==80&&a[d+8]==69&&a[d+9]==50&&a[d+10]==46&&a[d+11]==48&&a[d+12]==3&&a[d+13]==1&&a[d+16]==0)d+=14,A=a[d++]|a[d++]<<8,d++;else for(d+=12;;){if(!(0<=(C=a[d++])))throw Error("Invalid block size");if(C===0)break;d+=C}break;case 249:if(a[d++]!==4||a[d+4]!==0)throw new Error("Invalid graphics extension block.");var L=a[d++],v=a[d++]|a[d++]<<8,S=a[d++];!(1&L)&&(S=null),j=L>>2&7,d++;break;case 254:for(;;){if(!(0<=(C=a[d++])))throw Error("Invalid block size");if(C===0)break;d+=C}break;default:throw new Error("Unknown graphic control label: 0x"+a[d-1].toString(16))}break;case 44:var C,T=a[d++]|a[d++]<<8,R=a[d++]|a[d++]<<8,D=a[d++]|a[d++]<<8,k=a[d++]|a[d++]<<8,Q=a[d++],F=Q>>6&1,P=1<<1+(7&Q),q=b,z=y,H=!1,Q=(Q>>7&&(H=!0,q=d,d+=3*(z=P)),d);for(d++;;){if(!(0<=(C=a[d++])))throw Error("Invalid block size");if(C===0)break;d+=C}g.push({x:T,y:R,width:D,height:k,has_local_palette:H,palette_offset:q,palette_size:z,data_offset:Q,data_length:d-Q,transparent_index:S,interlaced:!!F,delay:v,disposal:j});break;case 59:m=!1;break;default:throw new Error("Unknown gif block: 0x"+a[d-1].toString(16))}this.numFrames=function(){return g.length},this.loopCount=function(){return A},this.frameInfo=function(J){if(J<0||J>=g.length)throw new Error("Frame index out of range.");return g[J]},this.decodeAndBlitFrameBGRA=function(J,Z){for(var J=this.frameInfo(J),K=J.width*J.height,se=new Uint8Array(K),le=(h(a,J.data_offset,se,K),J.palette_offset),M=J.transparent_index,G=(M===null&&(M=256),J.width),X=_-G,ee=G,ae=4*(J.y*_+J.x),ce=4*((J.y+J.height)*_+J.x),pe=ae,ve=4*X,ge=(J.interlaced===!0&&(ve+=4*_*7),8),Se=0,xe=se.length;Se<xe;++Se){var he,je,Ce=se[Se];ee===0&&(ee=G,ce<=(pe+=ve)&&(ve=4*X+4*_*(ge-1),pe=ae+(G+X)*(ge<<1),ge>>=1)),Ce===M?pe+=4:(he=a[le+3*Ce],je=a[le+3*Ce+1],Ce=a[le+3*Ce+2],Z[pe++]=Ce,Z[pe++]=je,Z[pe++]=he,Z[pe++]=255),--ee}},this.decodeAndBlitFrameRGBA=function(J,Z){for(var J=this.frameInfo(J),K=J.width*J.height,se=new Uint8Array(K),le=(h(a,J.data_offset,se,K),J.palette_offset),M=J.transparent_index,G=(M===null&&(M=256),J.width),X=_-G,ee=G,ae=4*(J.y*_+J.x),ce=4*((J.y+J.height)*_+J.x),pe=ae,ve=4*X,ge=(J.interlaced===!0&&(ve+=4*_*7),8),Se=0,xe=se.length;Se<xe;++Se){var he,je,Ce=se[Se];ee===0&&(ee=G,ce<=(pe+=ve)&&(ve=4*X+4*_*(ge-1),pe=ae+(G+X)*(ge<<1),ge>>=1)),Ce===M?pe+=4:(he=a[le+3*Ce],je=a[le+3*Ce+1],Ce=a[le+3*Ce+2],Z[pe++]=he,Z[pe++]=je,Z[pe++]=Ce,Z[pe++]=255),--ee}}}}catch{}},{}],257:[function(t,o,c){(function(l){var h,a;h=this,a=function(d){function _(Y){if(this==null)throw TypeError();var I,N=String(this),B=N.length,Y=Y?Number(Y):0;if(!((Y=Y!=Y?0:Y)<0||B<=Y))return 55296<=(I=N.charCodeAt(Y))&&I<=56319&&Y+1<B&&56320<=(B=N.charCodeAt(Y+1))&&B<=57343?1024*(I-55296)+B-56320+65536:I}String.prototype.codePointAt||((w=function(){try{var E={},I=Object.defineProperty,N=I(E,E,E)&&I}catch{}return N}())?w(String.prototype,"codePointAt",{value:_,configurable:!0,writable:!0}):String.prototype.codePointAt=_);var w,f=0,p=-3;function b(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function y(E,I){this.source=E,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=I,this.destLen=0,this.ltree=new b,this.dtree=new b}var m=new b,g=new b,v=new Uint8Array(30),S=new Uint16Array(30),j=new Uint8Array(30),A=new Uint16Array(30),L=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),C=new b,T=new Uint8Array(320);function R(E,I,N,B){for(var Y,te=0;te<N;++te)E[te]=0;for(te=0;te<30-N;++te)E[te+N]=te/N|0;for(Y=B,te=0;te<30;++te)I[te]=Y,Y+=1<<E[te]}var D=new Uint16Array(16);function k(E,I,N,B){for(var Y,te=0;te<16;++te)E.table[te]=0;for(te=0;te<B;++te)E.table[I[N+te]]++;for(te=Y=E.table[0]=0;te<16;++te)D[te]=Y,Y+=E.table[te];for(te=0;te<B;++te)I[N+te]&&(E.trans[D[I[N+te]]++]=te)}function F(E,I,N){if(!I)return N;for(;E.bitcount<24;)E.tag|=E.source[E.sourceIndex++]<<E.bitcount,E.bitcount+=8;var B=E.tag&65535>>>16-I;return E.tag>>>=I,E.bitcount-=I,B+N}function P(E,I){for(;E.bitcount<24;)E.tag|=E.source[E.sourceIndex++]<<E.bitcount,E.bitcount+=8;for(var N=0,B=0,Y=0,te=E.tag;B=2*B+(1&te),te>>>=1,N+=I.table[++Y],0<=(B-=I.table[Y]););return E.tag=te,E.bitcount-=Y,I.trans[N+B]}function q(E,I,N){for(;;){var B=P(E,I);if(B===256)return f;if(B<256)E.dest[E.destLen++]=B;else for(var Y,te=F(E,v[B-=257],S[B]),B=P(E,N),ne=Y=E.destLen-F(E,j[B],A[B]);ne<Y+te;++ne)E.dest[E.destLen++]=E.dest[ne]}}for(var z=m,H=g,Q=0;Q<7;++Q)z.table[Q]=0;for(z.table[7]=24,z.table[8]=152,z.table[9]=112,Q=0;Q<24;++Q)z.trans[Q]=256+Q;for(Q=0;Q<144;++Q)z.trans[24+Q]=Q;for(Q=0;Q<8;++Q)z.trans[168+Q]=280+Q;for(Q=0;Q<112;++Q)z.trans[176+Q]=144+Q;for(Q=0;Q<5;++Q)H.table[Q]=0;for(H.table[5]=32,Q=0;Q<32;++Q)H.trans[Q]=Q;R(v,S,4,3),R(j,A,2,1),v[28]=0,S[28]=258;var J=function(E,I){var N,B,Y,te=new y(E,I);do{switch(Y=void 0,(B=te).bitcount--||(B.tag=B.source[B.sourceIndex++],B.bitcount=7),Y=1&B.tag,B.tag>>>=1,B=Y,F(te,2,0)){case 0:N=function(We){for(var At,Wt;8<We.bitcount;)We.sourceIndex--,We.bitcount-=8;if((At=256*We.source[We.sourceIndex+1]+We.source[We.sourceIndex])!==(65535&~(256*We.source[We.sourceIndex+3]+We.source[We.sourceIndex+2])))return p;for(We.sourceIndex+=4,Wt=At;Wt;--Wt)We.dest[We.destLen++]=We.source[We.sourceIndex++];return We.bitcount=0,f}(te);break;case 1:N=q(te,m,g);break;case 2:Ze=$e=nt=qe=ne=Re=Ve=He=Pe=_e=Ee=fe=void 0;for(var ne,fe=te,Ee=te.ltree,_e=te.dtree,Pe=F(fe,5,257),He=F(fe,5,1),Ve=F(fe,4,4),Re=0;Re<19;++Re)T[Re]=0;for(Re=0;Re<Ve;++Re){var nt=F(fe,3,0);T[L[Re]]=nt}for(k(C,T,0,19),ne=0;ne<Pe+He;){var $e=P(fe,C);switch($e){case 16:for(var Ze=T[ne-1],qe=F(fe,2,3);qe;--qe)T[ne++]=Ze;break;case 17:for(qe=F(fe,3,3);qe;--qe)T[ne++]=0;break;case 18:for(qe=F(fe,7,11);qe;--qe)T[ne++]=0;break;default:T[ne++]=$e}}k(Ee,T,0,Pe),k(_e,T,Pe,He),N=q(te,te.ltree,te.dtree);break;default:N=p}if(N!==f)throw new Error("Data error")}while(!B);return te.destLen<te.dest.length?typeof te.dest.slice=="function"?te.dest.slice(0,te.destLen):te.dest.subarray(0,te.destLen):te.dest};function Z(E,I,N,B,Y){return Math.pow(1-Y,3)*E+3*Math.pow(1-Y,2)*Y*I+3*(1-Y)*Math.pow(Y,2)*N+Math.pow(Y,3)*B}function K(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}function se(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}function le(E){throw new Error(E)}function M(E,I){E||le(I)}K.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)},K.prototype.addPoint=function(E,I){typeof E=="number"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=E,this.x2=E),E<this.x1&&(this.x1=E),E>this.x2&&(this.x2=E)),typeof I=="number"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=I,this.y2=I),I<this.y1&&(this.y1=I),I>this.y2&&(this.y2=I))},K.prototype.addX=function(E){this.addPoint(E,null)},K.prototype.addY=function(E){this.addPoint(null,E)},K.prototype.addBezier=function(E,I,N,B,Y,te,ne,fe){var Ee=[E,I],_e=[N,B],Pe=[Y,te],He=[ne,fe];this.addPoint(E,I),this.addPoint(ne,fe);for(var Ve=0;Ve<=1;Ve++){var Re,nt=6*Ee[Ve]-12*_e[Ve]+6*Pe[Ve],$e=-3*Ee[Ve]+9*_e[Ve]-9*Pe[Ve]+3*He[Ve],Ze=3*_e[Ve]-3*Ee[Ve];$e==0?nt==0||0<(Re=-Ze/nt)&&Re<1&&(Ve===0&&this.addX(Z(Ee[Ve],_e[Ve],Pe[Ve],He[Ve],Re)),Ve===1&&this.addY(Z(Ee[Ve],_e[Ve],Pe[Ve],He[Ve],Re))):(Re=Math.pow(nt,2)-4*Ze*$e)<0||(0<(Ze=(-nt+Math.sqrt(Re))/(2*$e))&&Ze<1&&(Ve===0&&this.addX(Z(Ee[Ve],_e[Ve],Pe[Ve],He[Ve],Ze)),Ve===1&&this.addY(Z(Ee[Ve],_e[Ve],Pe[Ve],He[Ve],Ze))),0<(Ze=(-nt-Math.sqrt(Re))/(2*$e))&&Ze<1&&(Ve===0&&this.addX(Z(Ee[Ve],_e[Ve],Pe[Ve],He[Ve],Ze)),Ve===1&&this.addY(Z(Ee[Ve],_e[Ve],Pe[Ve],He[Ve],Ze))))}},K.prototype.addQuad=function(E,I,N,B,Y,te){N=E+2/3*(N-E),B=I+2/3*(B-I),this.addBezier(E,I,N,B,N+1/3*(Y-E),B+1/3*(te-I),Y,te)},se.prototype.moveTo=function(E,I){this.commands.push({type:"M",x:E,y:I})},se.prototype.lineTo=function(E,I){this.commands.push({type:"L",x:E,y:I})},se.prototype.curveTo=se.prototype.bezierCurveTo=function(E,I,N,B,Y,te){this.commands.push({type:"C",x1:E,y1:I,x2:N,y2:B,x:Y,y:te})},se.prototype.quadTo=se.prototype.quadraticCurveTo=function(E,I,N,B){this.commands.push({type:"Q",x1:E,y1:I,x:N,y:B})},se.prototype.close=se.prototype.closePath=function(){this.commands.push({type:"Z"})},se.prototype.extend=function(E){var I;if(E.commands)E=E.commands;else if(E instanceof K)return I=E,this.moveTo(I.x1,I.y1),this.lineTo(I.x2,I.y1),this.lineTo(I.x2,I.y2),this.lineTo(I.x1,I.y2),void this.close();Array.prototype.push.apply(this.commands,E)},se.prototype.getBoundingBox=function(){for(var E=new K,I=0,N=0,B=0,Y=0,te=0;te<this.commands.length;te++){var ne=this.commands[te];switch(ne.type){case"M":E.addPoint(ne.x,ne.y),I=B=ne.x,N=Y=ne.y;break;case"L":E.addPoint(ne.x,ne.y),B=ne.x,Y=ne.y;break;case"Q":E.addQuad(B,Y,ne.x1,ne.y1,ne.x,ne.y),B=ne.x,Y=ne.y;break;case"C":E.addBezier(B,Y,ne.x1,ne.y1,ne.x2,ne.y2,ne.x,ne.y),B=ne.x,Y=ne.y;break;case"Z":B=I,Y=N;break;default:throw new Error("Unexpected path command "+ne.type)}}return E.isEmpty()&&E.addPoint(0,0),E},se.prototype.draw=function(E){E.beginPath();for(var I=0;I<this.commands.length;I+=1){var N=this.commands[I];N.type==="M"?E.moveTo(N.x,N.y):N.type==="L"?E.lineTo(N.x,N.y):N.type==="C"?E.bezierCurveTo(N.x1,N.y1,N.x2,N.y2,N.x,N.y):N.type==="Q"?E.quadraticCurveTo(N.x1,N.y1,N.x,N.y):N.type==="Z"&&E.closePath()}this.fill&&(E.fillStyle=this.fill,E.fill()),this.stroke&&(E.strokeStyle=this.stroke,E.lineWidth=this.strokeWidth,E.stroke())},se.prototype.toPathData=function(E){function I(){for(var te=arguments,ne="",fe=0;fe<arguments.length;fe+=1){var Ee=te[fe];0<=Ee&&0<fe&&(ne+=" "),ne+=(Ee=Ee,Math.round(Ee)===Ee?""+Math.round(Ee):Ee.toFixed(E))}return ne}E=E!==void 0?E:2;for(var N="",B=0;B<this.commands.length;B+=1){var Y=this.commands[B];Y.type==="M"?N+="M"+I(Y.x,Y.y):Y.type==="L"?N+="L"+I(Y.x,Y.y):Y.type==="C"?N+="C"+I(Y.x1,Y.y1,Y.x2,Y.y2,Y.x,Y.y):Y.type==="Q"?N+="Q"+I(Y.x1,Y.y1,Y.x,Y.y):Y.type==="Z"&&(N+="Z")}return N},se.prototype.toSVG=function(E){var I=(I='<path d="')+this.toPathData(E)+'"';return this.fill&&this.fill!=="black"&&(this.fill===null?I+=' fill="none"':I+=' fill="'+this.fill+'"'),this.stroke&&(I+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),I+="/>"},se.prototype.toDOMElement=function(I){var I=this.toPathData(I),N=document.createElementNS("http://www.w3.org/2000/svg","path");return N.setAttribute("d",I),N};var G={fail:le,argument:M,assert:M},X={},ee={},ae={};function ce(E){return function(){return E}}ee.BYTE=function(E){return G.argument(0<=E&&E<=255,"Byte value should be between 0 and 255."),[E]},ae.BYTE=ce(1),ee.CHAR=function(E){return[E.charCodeAt(0)]},ae.CHAR=ce(1),ee.CHARARRAY=function(E){for(var I=[],N=0;N<E.length;N+=1)I[N]=E.charCodeAt(N);return I},ae.CHARARRAY=function(E){return E.length},ee.USHORT=function(E){return[E>>8&255,255&E]},ae.USHORT=ce(2),ee.SHORT=function(E){return[(E=32768<=E?-(65536-E):E)>>8&255,255&E]},ae.SHORT=ce(2),ee.UINT24=function(E){return[E>>16&255,E>>8&255,255&E]},ae.UINT24=ce(3),ee.ULONG=function(E){return[E>>24&255,E>>16&255,E>>8&255,255&E]},ae.ULONG=ce(4),ee.LONG=function(E){return[(E=2147483648<=E?-(4294967296-E):E)>>24&255,E>>16&255,E>>8&255,255&E]},ae.LONG=ce(4),ee.FIXED=ee.ULONG,ae.FIXED=ae.ULONG,ee.FWORD=ee.SHORT,ae.FWORD=ae.SHORT,ee.UFWORD=ee.USHORT,ae.UFWORD=ae.USHORT,ee.LONGDATETIME=function(E){return[0,0,0,0,E>>24&255,E>>16&255,E>>8&255,255&E]},ae.LONGDATETIME=ce(8),ee.TAG=function(E){return G.argument(E.length===4,"Tag should be exactly 4 ASCII characters."),[E.charCodeAt(0),E.charCodeAt(1),E.charCodeAt(2),E.charCodeAt(3)]},ae.TAG=ce(4),ee.Card8=ee.BYTE,ae.Card8=ae.BYTE,ee.Card16=ee.USHORT,ae.Card16=ae.USHORT,ee.OffSize=ee.BYTE,ae.OffSize=ae.BYTE,ee.SID=ee.USHORT,ae.SID=ae.USHORT,ee.NUMBER=function(E){return-107<=E&&E<=107?[E+139]:108<=E&&E<=1131?[247+((E-=108)>>8),255&E]:-1131<=E&&E<=-108?[251+((E=-E-108)>>8),255&E]:-32768<=E&&E<=32767?ee.NUMBER16(E):ee.NUMBER32(E)},ae.NUMBER=function(E){return ee.NUMBER(E).length},ee.NUMBER16=function(E){return[28,E>>8&255,255&E]},ae.NUMBER16=ce(3),ee.NUMBER32=function(E){return[29,E>>24&255,E>>16&255,E>>8&255,255&E]},ae.NUMBER32=ce(5),ee.REAL=function(E){for(var I=E.toString(),N=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(I),B=(N&&(N=parseFloat("1e"+((N[2]?+N[2]:0)+N[1].length)),I=(Math.round(E*N)/N).toString()),""),Y=0,te=I.length;Y<te;Y+=1){var ne=I[Y];B+=ne==="e"?I[++Y]==="-"?"c":"b":ne==="."?"a":ne==="-"?"e":ne}for(var fe=[30],Ee=0,_e=(B+=1&B.length?"f":"ff").length;Ee<_e;Ee+=2)fe.push(parseInt(B.substr(Ee,2),16));return fe},ae.REAL=function(E){return ee.REAL(E).length},ee.NAME=ee.CHARARRAY,ae.NAME=ae.CHARARRAY,ee.STRING=ee.CHARARRAY,ae.STRING=ae.CHARARRAY,X.UTF8=function(E,I,N){for(var B=[],Y=N,te=0;te<Y;te++,I+=1)B[te]=E.getUint8(I);return String.fromCharCode.apply(null,B)},X.UTF16=function(E,I,N){for(var B=[],Y=N/2,te=0;te<Y;te++,I+=2)B[te]=E.getUint16(I);return String.fromCharCode.apply(null,B)},ee.UTF16=function(E){for(var I=[],N=0;N<E.length;N+=1){var B=E.charCodeAt(N);I[I.length]=B>>8&255,I[I.length]=255&B}return I},ae.UTF16=function(E){return 2*E.length};var pe,ve={"x-mac-croatian":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®Š™´¨≠ŽØ∞±≤≥∆µ∂∑∏š∫ªºΩžø¿¡¬√ƒ≈Ć«Č… ÀÃÕŒœĐ—“”‘’÷◊©⁄€‹›Æ»–·‚„‰ÂćÁčÈÍÎÏÌÓÔđÒÚÛÙıˆ˜¯πË˚¸Êæˇ","x-mac-cyrillic":"АБВГДЕЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯ†°Ґ£§•¶І®©™Ђђ≠Ѓѓ∞±≤≥іµґЈЄєЇїЉљЊњјЅ¬√ƒ≈∆«»… ЋћЌќѕ–—“”‘’÷„ЎўЏџ№Ёёяабвгдежзийклмнопрстуфхцчшщъыьэю","x-mac-gaelic":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØḂ±≤≥ḃĊċḊḋḞḟĠġṀæøṁṖṗɼƒſṠ«»… ÀÃÕŒœ–—“”‘’ṡẛÿŸṪ€‹›Ŷŷṫ·Ỳỳ⁊ÂÊÁËÈÍÎÏÌÓÔ♣ÒÚÛÙıÝýŴŵẄẅẀẁẂẃ","x-mac-greek":"Ä¹²É³ÖÜ΅àâä΄¨çéèêë£™îï•½‰ôö¦€ùûü†ΓΔΘΛΞΠß®©ΣΪ§≠°·Α±≤≥¥ΒΕΖΗΙΚΜΦΫΨΩάΝ¬ΟΡ≈Τ«»… ΥΧΆΈœ–―“”‘’÷ΉΊΌΎέήίόΏύαβψδεφγηιξκλμνοπώρστθωςχυζϊϋΐΰ­","x-mac-icelandic":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûüÝ°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€ÐðÞþý·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-inuit":"ᐃᐄᐅᐆᐊᐋᐱᐲᐳᐴᐸᐹᑉᑎᑏᑐᑑᑕᑖᑦᑭᑮᑯᑰᑲᑳᒃᒋᒌᒍᒎᒐᒑ°ᒡᒥᒦ•¶ᒧ®©™ᒨᒪᒫᒻᓂᓃᓄᓅᓇᓈᓐᓯᓰᓱᓲᓴᓵᔅᓕᓖᓗᓘᓚᓛᓪᔨᔩᔪᔫᔭ… ᔮᔾᕕᕖᕗ–—“”‘’ᕘᕙᕚᕝᕆᕇᕈᕉᕋᕌᕐᕿᖀᖁᖂᖃᖄᖅᖏᖐᖑᖒᖓᖔᖕᙱᙲᙳᙴᙵᙶᖖᖠᖡᖢᖣᖤᖥᖦᕼŁł","x-mac-ce":"ÄĀāÉĄÖÜáąČäčĆćéŹźĎíďĒēĖóėôöõúĚěü†°Ę£§•¶ß®©™ę¨≠ģĮįĪ≤≥īĶ∂∑łĻļĽľĹĺŅņŃ¬√ńŇ∆«»… ňŐÕőŌ–—“”‘’÷◊ōŔŕŘ‹›řŖŗŠ‚„šŚśÁŤťÍŽžŪÓÔūŮÚůŰűŲųÝýķŻŁżĢˇ",macintosh:"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€‹›ﬁﬂ‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-romanian":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ĂȘ∞±≤≥¥µ∂∑∏π∫ªºΩăș¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€‹›Țț‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-turkish":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸĞğİıŞş‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙˆ˜¯˘˙˚¸˝˛ˇ"},ge=(X.MACSTRING=function(E,I,N,B){var Y=ve[B];if(Y!==void 0){for(var te="",ne=0;ne<N;ne++){var fe=E.getUint8(I+ne);te+=fe<=127?String.fromCharCode(fe):Y[127&fe]}return te}},typeof WeakMap=="function"&&new WeakMap);function Se(E){return-128<=E&&E<=127}ee.MACSTRING=function(E,I){var N=function(ne){if(!pe)for(var fe in pe={},ve)pe[fe]=new String(fe);var Ee=pe[ne];if(Ee!==void 0){if(ge){var _e=ge.get(Ee);if(_e!==void 0)return _e}var Pe=ve[ne];if(Pe!==void 0){for(var He={},Ve=0;Ve<Pe.length;Ve++)He[Pe.charCodeAt(Ve)]=Ve+128;return ge&&ge.set(Ee,He),He}}}(I);if(N!==void 0){for(var B=[],Y=0;Y<E.length;Y++){var te=E.charCodeAt(Y);if(128<=te&&(te=N[te])===void 0)return;B[Y]=te}return B}},ae.MACSTRING=function(E,I){return E=ee.MACSTRING(E,I),E!==void 0?E.length:0},ee.VARDELTAS=function(E){for(var B=0,I=[];B<E.length;)var N=E[B],B=(N===0?function(Y,te,ne){for(var fe=0,Ee=Y.length;te<Ee&&fe<64&&Y[te]===0;)++te,++fe;return ne.push(128|fe-1),te}:-128<=N&&N<=127?function(Y,te,ne){for(var fe=0,Ee=Y.length,_e=te;_e<Ee&&fe<64;){var Pe=Y[_e];if(!Se(Pe)||Pe===0&&_e+1<Ee&&Y[_e+1]===0)break;++_e,++fe}ne.push(fe-1);for(var He=te;He<_e;++He)ne.push(Y[He]+256&255);return _e}:function(Y,te,ne){for(var fe=0,Ee=Y.length,_e=te;_e<Ee&&fe<64;){var Pe=Y[_e];if(Pe===0||Se(Pe)&&_e+1<Ee&&Se(Y[_e+1]))break;++_e,++fe}ne.push(64|fe-1);for(var He=te;He<_e;++He){var Ve=Y[He];ne.push(Ve+65536>>8&255,Ve+256&255)}return _e})(E,B,I);return I},ee.INDEX=function(E){for(var I=1,N=[I],B=[],Y=0;Y<E.length;Y+=1){var te=ee.OBJECT(E[Y]);Array.prototype.push.apply(B,te),I+=te.length,N.push(I)}if(B.length===0)return[0,0];for(var ne=[],fe=1+Math.floor(Math.log(I)/Math.log(2))/8|0,Ee=[void 0,ee.BYTE,ee.USHORT,ee.UINT24,ee.ULONG][fe],_e=0;_e<N.length;_e+=1){var Pe=Ee(N[_e]);Array.prototype.push.apply(ne,Pe)}return Array.prototype.concat(ee.Card16(E.length),ee.OffSize(fe),ne,B)},ae.INDEX=function(E){return ee.INDEX(E).length},ee.DICT=function(E){for(var I=[],N=Object.keys(E),B=N.length,Y=0;Y<B;Y+=1){var te=parseInt(N[Y],0),ne=E[te];I=(I=I.concat(ee.OPERAND(ne.value,ne.type))).concat(ee.OPERATOR(te))}return I},ae.DICT=function(E){return ee.DICT(E).length},ee.OPERATOR=function(E){return E<1200?[E]:[12,E-1200]},ee.OPERAND=function(E,I){var N=[];if(Array.isArray(I))for(var B=0;B<I.length;B+=1)G.argument(E.length===I.length,"Not enough arguments given for type"+I),N=N.concat(ee.OPERAND(E[B],I[B]));else if(I==="SID")N=N.concat(ee.NUMBER(E));else if(I==="offset")N=N.concat(ee.NUMBER32(E));else if(I==="number")N=N.concat(ee.NUMBER(E));else{if(I!=="real")throw new Error("Unknown operand type "+I);N=N.concat(ee.REAL(E))}return N},ee.OP=ee.BYTE,ae.OP=ae.BYTE;var xe=typeof WeakMap=="function"&&new WeakMap;function he(E,I,N){for(var B=0;B<I.length;B+=1){var Y=I[B];this[Y.name]=Y.value}if(this.tableName=E,this.fields=I,N)for(var te=Object.keys(N),ne=0;ne<te.length;ne+=1){var fe=te[ne],Ee=N[fe];this[fe]!==void 0&&(this[fe]=Ee)}}function je(E,I,N){N===void 0&&(N=I.length);var B=new Array(I.length+1);B[0]={name:E+"Count",type:"USHORT",value:N};for(var Y=0;Y<I.length;Y++)B[Y+1]={name:E+Y,type:"USHORT",value:I[Y]};return B}function Ce(E,I,N){var B=I.length,Y=new Array(B+1);Y[0]={name:E+"Count",type:"USHORT",value:B};for(var te=0;te<B;te++)Y[te+1]={name:E+te,type:"TABLE",value:N(I[te],te)};return Y}function De(E,I,N){var B=I.length,Y=[];Y[0]={name:E+"Count",type:"USHORT",value:B};for(var te=0;te<B;te++)Y=Y.concat(N(I[te],te));return Y}function Oe(E){E.format===1?he.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(je("glyph",E.glyphs))):G.assert(!1,"Can't create coverage table format 2 yet.")}function ke(E){he.call(this,"scriptListTable",De("scriptRecord",E,function(I,N){var B=I.script,Y=B.defaultLangSys;return G.assert(!!Y,"Unable to write GSUB: script "+I.tag+" has no default language system."),[{name:"scriptTag"+N,type:"TAG",value:I.tag},{name:"script"+N,type:"TABLE",value:new he("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new he("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:Y.reqFeatureIndex}].concat(je("featureIndex",Y.featureIndexes)))}].concat(De("langSys",B.langSysRecords,function(te,ne){var fe=te.langSys;return[{name:"langSysTag"+ne,type:"TAG",value:te.tag},{name:"langSys"+ne,type:"TABLE",value:new he("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:fe.reqFeatureIndex}].concat(je("featureIndex",fe.featureIndexes)))}]})))}]}))}function Fe(E){he.call(this,"featureListTable",De("featureRecord",E,function(I,N){var B=I.feature;return[{name:"featureTag"+N,type:"TAG",value:I.tag},{name:"feature"+N,type:"TABLE",value:new he("featureTable",[{name:"featureParams",type:"USHORT",value:B.featureParams}].concat(je("lookupListIndex",B.lookupListIndexes)))}]}))}function Je(E,I){he.call(this,"lookupListTable",Ce("lookup",E,function(N){var B=I[N.lookupType];return G.assert(!!B,"Unable to write GSUB lookup type "+N.lookupType+" tables."),new he("lookupTable",[{name:"lookupType",type:"USHORT",value:N.lookupType},{name:"lookupFlag",type:"USHORT",value:N.lookupFlag}].concat(Ce("subtable",N.subtables,B)))}))}ee.CHARSTRING=function(E){if(xe){var I=xe.get(E);if(I!==void 0)return I}for(var te=[],N=E.length,B=0;B<N;B+=1)var Y=E[B],te=te.concat(ee[Y.type](Y.value));return xe&&xe.set(E,te),te},ae.CHARSTRING=function(E){return ee.CHARSTRING(E).length},ee.OBJECT=function(E){var I=ee[E.type];return G.argument(I!==void 0,"No encoding function for type "+E.type),I(E.value)},ae.OBJECT=function(E){var I=ae[E.type];return G.argument(I!==void 0,"No sizeOf function for type "+E.type),I(E.value)},ee.TABLE=function(E){for(var I=[],N=E.fields.length,B=[],Y=[],te=0;te<N;te+=1){var ne=E.fields[te],Ee=ee[ne.type],fe=(G.argument(Ee!==void 0,"No encoding function for field type "+ne.type+" ("+ne.name+")"),E[ne.name]),Ee=Ee(fe=fe===void 0?ne.value:fe);ne.type==="TABLE"?(Y.push(I.length),I=I.concat([0,0]),B.push(Ee)):I=I.concat(Ee)}for(var _e=0;_e<B.length;_e+=1){var Pe=Y[_e],He=I.length;G.argument(He<65536,"Table "+E.tableName+" too big."),I[Pe]=He>>8,I[Pe+1]=255&He,I=I.concat(B[_e])}return I},ae.TABLE=function(E){for(var I=0,N=E.fields.length,B=0;B<N;B+=1){var Y=E.fields[B],te=ae[Y.type],ne=(G.argument(te!==void 0,"No sizeOf function for field type "+Y.type+" ("+Y.name+")"),E[Y.name]);I+=te(ne=ne===void 0?Y.value:ne),Y.type==="TABLE"&&(I+=2)}return I},ee.RECORD=ee.TABLE,ae.RECORD=ae.TABLE,ee.LITERAL=function(E){return E},ae.LITERAL=function(E){return E.length},he.prototype.encode=function(){return ee.TABLE(this)},he.prototype.sizeOf=function(){return ae.TABLE(this)};var Ue={Table:he,Record:he,Coverage:(Oe.prototype=Object.create(he.prototype)).constructor=Oe,ScriptList:(ke.prototype=Object.create(he.prototype)).constructor=ke,FeatureList:(Fe.prototype=Object.create(he.prototype)).constructor=Fe,LookupList:(Je.prototype=Object.create(he.prototype)).constructor=Je,ushortList:je,tableList:Ce,recordList:De};function mt(E,I){return E.getUint8(I)}function ut(E,I){return E.getUint16(I,!1)}function it(E,I){return E.getUint32(I,!1)}function ft(E,I){return E.getInt16(I,!1)+E.getUint16(I+2,!1)/65535}var lt={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function Le(E,I){this.data=E,this.offset=I,this.relativeOffset=0}Le.prototype.parseByte=function(){var E=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,E},Le.prototype.parseChar=function(){var E=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,E},Le.prototype.parseCard8=Le.prototype.parseByte,Le.prototype.parseCard16=Le.prototype.parseUShort=function(){var E=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,E},Le.prototype.parseSID=Le.prototype.parseUShort,Le.prototype.parseOffset16=Le.prototype.parseUShort,Le.prototype.parseShort=function(){var E=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,E},Le.prototype.parseF2Dot14=function(){var E=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,E},Le.prototype.parseOffset32=Le.prototype.parseULong=function(){var E=it(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,E},Le.prototype.parseFixed=function(){var E=ft(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,E},Le.prototype.parseString=function(E){var I=this.data,N=this.offset+this.relativeOffset,B="";this.relativeOffset+=E;for(var Y=0;Y<E;Y++)B+=String.fromCharCode(I.getUint8(N+Y));return B},Le.prototype.parseTag=function(){return this.parseString(4)},Le.prototype.parseLongDateTime=function(){var E=it(this.data,this.offset+this.relativeOffset+4);return E-=2082844800,this.relativeOffset+=8,E},Le.prototype.parseVersion=function(E){var I=ut(this.data,this.offset+this.relativeOffset),N=ut(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,I+N/(E=E===void 0?4096:E)/10},Le.prototype.skip=function(E,I){this.relativeOffset+=lt[E]*(I=I===void 0?1:I)},Le.prototype.parseULongList=function(E){E===void 0&&(E=this.parseULong());for(var I=new Array(E),N=this.data,B=this.offset+this.relativeOffset,Y=0;Y<E;Y++)I[Y]=N.getUint32(B),B+=4;return this.relativeOffset+=4*E,I},Le.prototype.parseOffset16List=Le.prototype.parseUShortList=function(E){E===void 0&&(E=this.parseUShort());for(var I=new Array(E),N=this.data,B=this.offset+this.relativeOffset,Y=0;Y<E;Y++)I[Y]=N.getUint16(B),B+=2;return this.relativeOffset+=2*E,I},Le.prototype.parseShortList=function(E){for(var I=new Array(E),N=this.data,B=this.offset+this.relativeOffset,Y=0;Y<E;Y++)I[Y]=N.getInt16(B),B+=2;return this.relativeOffset+=2*E,I},Le.prototype.parseByteList=function(E){for(var I=new Array(E),N=this.data,B=this.offset+this.relativeOffset,Y=0;Y<E;Y++)I[Y]=N.getUint8(B++);return this.relativeOffset+=E,I},Le.prototype.parseList=function(E,I){I||(I=E,E=this.parseUShort());for(var N=new Array(E),B=0;B<E;B++)N[B]=I.call(this);return N},Le.prototype.parseList32=function(E,I){I||(I=E,E=this.parseULong());for(var N=new Array(E),B=0;B<E;B++)N[B]=I.call(this);return N},Le.prototype.parseRecordList=function(E,I){I||(I=E,E=this.parseUShort());for(var N=new Array(E),B=Object.keys(I),Y=0;Y<E;Y++){for(var te={},ne=0;ne<B.length;ne++){var fe=B[ne],Ee=I[fe];te[fe]=Ee.call(this)}N[Y]=te}return N},Le.prototype.parseRecordList32=function(E,I){I||(I=E,E=this.parseULong());for(var N=new Array(E),B=Object.keys(I),Y=0;Y<E;Y++){for(var te={},ne=0;ne<B.length;ne++){var fe=B[ne],Ee=I[fe];te[fe]=Ee.call(this)}N[Y]=te}return N},Le.prototype.parseStruct=function(E){if(typeof E=="function")return E.call(this);for(var I=Object.keys(E),N={},B=0;B<I.length;B++){var Y=I[B],te=E[Y];N[Y]=te.call(this)}return N},Le.prototype.parseValueRecord=function(E){var I;if((E=E===void 0?this.parseUShort():E)!==0)return I={},1&E&&(I.xPlacement=this.parseShort()),2&E&&(I.yPlacement=this.parseShort()),4&E&&(I.xAdvance=this.parseShort()),8&E&&(I.yAdvance=this.parseShort()),16&E&&(I.xPlaDevice=void 0,this.parseShort()),32&E&&(I.yPlaDevice=void 0,this.parseShort()),64&E&&(I.xAdvDevice=void 0,this.parseShort()),128&E&&(I.yAdvDevice=void 0,this.parseShort()),I},Le.prototype.parseValueRecordList=function(){for(var E=this.parseUShort(),I=this.parseUShort(),N=new Array(I),B=0;B<I;B++)N[B]=this.parseValueRecord(E);return N},Le.prototype.parsePointer=function(E){var I=this.parseOffset16();if(0<I)return new Le(this.data,this.offset+I).parseStruct(E)},Le.prototype.parsePointer32=function(E){var I=this.parseOffset32();if(0<I)return new Le(this.data,this.offset+I).parseStruct(E)},Le.prototype.parseListOfLists=function(E){for(var I=this.parseOffset16List(),N=I.length,B=this.relativeOffset,Y=new Array(N),te=0;te<N;te++){var ne=I[te];if(ne===0)Y[te]=void 0;else if(this.relativeOffset=ne,E){for(var fe=this.parseOffset16List(),Ee=new Array(fe.length),_e=0;_e<fe.length;_e++)this.relativeOffset=ne+fe[_e],Ee[_e]=E.call(this);Y[te]=Ee}else Y[te]=this.parseUShortList()}return this.relativeOffset=B,Y},Le.prototype.parseCoverage=function(){var E=this.offset+this.relativeOffset,I=this.parseUShort(),N=this.parseUShort();if(I===1)return{format:1,glyphs:this.parseUShortList(N)};if(I!==2)throw new Error("0x"+E.toString(16)+": Coverage format must be 1 or 2.");for(var B=new Array(N),Y=0;Y<N;Y++)B[Y]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:B}},Le.prototype.parseClassDef=function(){var E=this.offset+this.relativeOffset,I=this.parseUShort();if(I===1)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(I===2)return{format:2,ranges:this.parseRecordList({start:Le.uShort,end:Le.uShort,classId:Le.uShort})};throw new Error("0x"+E.toString(16)+": ClassDef format must be 1 or 2.")},Le.list=function(E,I){return function(){return this.parseList(E,I)}},Le.list32=function(E,I){return function(){return this.parseList32(E,I)}},Le.recordList=function(E,I){return function(){return this.parseRecordList(E,I)}},Le.recordList32=function(E,I){return function(){return this.parseRecordList32(E,I)}},Le.pointer=function(E){return function(){return this.parsePointer(E)}},Le.pointer32=function(E){return function(){return this.parsePointer32(E)}},Le.tag=Le.prototype.parseTag,Le.byte=Le.prototype.parseByte,Le.uShort=Le.offset16=Le.prototype.parseUShort,Le.uShortList=Le.prototype.parseUShortList,Le.uLong=Le.offset32=Le.prototype.parseULong,Le.uLongList=Le.prototype.parseULongList,Le.struct=Le.prototype.parseStruct,Le.coverage=Le.prototype.parseCoverage,Le.classDef=Le.prototype.parseClassDef;var et={reserved:Le.uShort,reqFeatureIndex:Le.uShort,featureIndexes:Le.uShortList},Be=(Le.prototype.parseScriptList=function(){return this.parsePointer(Le.recordList({tag:Le.tag,script:Le.pointer({defaultLangSys:Le.pointer(et),langSysRecords:Le.recordList({tag:Le.tag,langSys:Le.pointer(et)})})}))||[]},Le.prototype.parseFeatureList=function(){return this.parsePointer(Le.recordList({tag:Le.tag,feature:Le.pointer({featureParams:Le.offset16,lookupListIndexes:Le.uShortList})}))||[]},Le.prototype.parseLookupList=function(E){return this.parsePointer(Le.list(Le.pointer(function(){var I=this.parseUShort(),N=(G.argument(1<=I&&I<=9,"GPOS/GSUB lookup type "+I+" unknown."),this.parseUShort()),B=16&N;return{lookupType:I,lookupFlag:N,subtables:this.parseList(Le.pointer(E[I])),markFilteringSet:B?this.parseUShort():void 0}})))||[]},Le.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var E=this.parseUShort(),I=this.parseUShort();return G.argument(E===1&&I<1,"GPOS/GSUB feature variations table unknown."),this.parseRecordList32({conditionSetOffset:Le.offset32,featureTableSubstitutionOffset:Le.offset32})})||[]},{getByte:mt,getCard8:mt,getUShort:ut,getCard16:ut,getShort:function(E,I){return E.getInt16(I,!1)},getULong:it,getFixed:ft,getTag:function(E,I){for(var N="",B=I;B<I+4;B+=1)N+=String.fromCharCode(E.getInt8(B));return N},getOffset:function(E,I,N){for(var B=0,Y=0;Y<N;Y+=1)B=(B<<=8)+E.getUint8(I+Y);return B},getBytes:function(E,I,N){for(var B=[],Y=I;Y<N;Y+=1)B.push(E.getUint8(Y));return B},bytesToString:function(E){for(var I="",N=0;N<E.length;N+=1)I+=String.fromCharCode(E[N]);return I},Parser:Le}),de={parse:function(E,I){for(var N={},B=(N.version=Be.getUShort(E,I),G.argument(N.version===0,"cmap table version should be 0."),N.numTables=Be.getUShort(E,I+2),-1),Y=N.numTables-1;0<=Y;--Y){var te=Be.getUShort(E,I+4+8*Y),ne=Be.getUShort(E,I+4+8*Y+2);if(te===3&&(ne===0||ne===1||ne===10)||te===0&&(ne===0||ne===1||ne===2||ne===3||ne===4)){B=Be.getULong(E,I+4+8*Y+4);break}}if(B===-1)throw new Error("No valid cmap sub-tables found.");var fe=new Be.Parser(E,I+B);if(N.format=fe.parseUShort(),N.format===12){var Ee,_e=N,Pe=fe;Pe.parseUShort(),_e.length=Pe.parseULong(),_e.language=Pe.parseULong(),_e.groupCount=Ee=Pe.parseULong(),_e.glyphIndexMap={};for(var He=0;He<Ee;He+=1)for(var Ve=Pe.parseULong(),Re=Pe.parseULong(),nt=Pe.parseULong(),$e=Ve;$e<=Re;$e+=1)_e.glyphIndexMap[$e]=nt,nt++}else{if(N.format!==4)throw new Error("Only format 4 and 12 cmap tables are supported (found format "+N.format+").");var Ze=N,qe=E,We=I,At=B;Ze.length=fe.parseUShort(),Ze.language=fe.parseUShort(),Ze.segCount=Wt=fe.parseUShort()>>1,fe.skip("uShort",3),Ze.glyphIndexMap={};for(var Wt,Ot=new Be.Parser(qe,We+At+14),Mt=new Be.Parser(qe,We+At+16+2*Wt),Jt=new Be.Parser(qe,We+At+16+4*Wt),Mr=new Be.Parser(qe,We+At+16+6*Wt),ir=We+At+16+8*Wt,Gr=0;Gr<Wt-1;Gr+=1)for(var In=void 0,kn=Ot.parseUShort(),Ss=Mt.parseUShort(),Tr=Jt.parseShort(),Rr=Mr.parseUShort(),wr=Ss;wr<=kn;wr+=1)Rr!==0?(ir=(ir=Mr.offset+Mr.relativeOffset-2)+Rr+2*(wr-Ss),(In=Be.getUShort(qe,ir))!==0&&(In=In+Tr&65535)):In=wr+Tr&65535,Ze.glyphIndexMap[wr]=In}return N},make:function(E){for(var I=!0,N=E.length-1;0<N;--N)if(65535<E.get(N).unicode){console.log("Adding CMAP format 12 (needed!)"),I=!1;break}var B,Y,te=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:I?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:I?12:20}],ne=(te=(te=I?te:te.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])).concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),new Ue.Table("cmap",te));for(ne.segments=[],N=0;N<E.length;N+=1){for(var fe=E.get(N),Ee=0;Ee<fe.unicodes.length;Ee+=1)B=fe.unicodes[Ee],Y=N,ne.segments.push({end:B,start:B,delta:-(B-Y),offset:0,glyphIndex:Y});ne.segments=ne.segments.sort(function(We,At){return We.start-At.start})}ne.segments.push({end:65535,start:65535,delta:1,offset:0});var _e=ne.segments.length,Pe=0,He=[],Ve=[],Re=[],nt=[],$e=[],Ze=[];for(N=0;N<_e;N+=1){var qe=ne.segments[N];qe.end<=65535&&qe.start<=65535?(He=He.concat({name:"end_"+N,type:"USHORT",value:qe.end}),Ve=Ve.concat({name:"start_"+N,type:"USHORT",value:qe.start}),Re=Re.concat({name:"idDelta_"+N,type:"SHORT",value:qe.delta}),nt=nt.concat({name:"idRangeOffset_"+N,type:"USHORT",value:qe.offset}),qe.glyphId!==void 0&&($e=$e.concat({name:"glyph_"+N,type:"USHORT",value:qe.glyphId}))):Pe+=1,I||qe.glyphIndex===void 0||(Ze=(Ze=(Ze=Ze.concat({name:"cmap12Start_"+N,type:"ULONG",value:qe.start})).concat({name:"cmap12End_"+N,type:"ULONG",value:qe.end})).concat({name:"cmap12Glyph_"+N,type:"ULONG",value:qe.glyphIndex}))}return ne.segCountX2=2*(_e-Pe),ne.searchRange=2*Math.pow(2,Math.floor(Math.log(_e-Pe)/Math.log(2))),ne.entrySelector=Math.log(ne.searchRange/2)/Math.log(2),ne.rangeShift=ne.segCountX2-ne.searchRange,ne.fields=ne.fields.concat(He),ne.fields.push({name:"reservedPad",type:"USHORT",value:0}),ne.fields=ne.fields.concat(Ve),ne.fields=ne.fields.concat(Re),ne.fields=ne.fields.concat(nt),ne.fields=ne.fields.concat($e),ne.cmap4Length=14+2*He.length+2+2*Ve.length+2*Re.length+2*nt.length+2*$e.length,I||(te=16+4*Ze.length,ne.cmap12Offset=20+ne.cmap4Length,ne.fields=ne.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:te},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:Ze.length/3}]),ne.fields=ne.fields.concat(Ze)),ne}},me=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],ie=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],ye=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],Me=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function Ne(E){this.font=E}function Xe(E){this.cmap=E}function ct(E,I){this.encoding=E,this.charset=I}function yt(E){switch(E.version){case 1:this.names=Me.slice();break;case 2:this.names=new Array(E.numberOfGlyphs);for(var I=0;I<E.numberOfGlyphs;I++)E.glyphNameIndex[I]<Me.length?this.names[I]=Me[E.glyphNameIndex[I]]:this.names[I]=E.names[E.glyphNameIndex[I]-Me.length];break;case 2.5:this.names=new Array(E.numberOfGlyphs);for(var N=0;N<E.numberOfGlyphs;N++)this.names[N]=Me[N+E.glyphNameIndex[N]];break;default:this.names=[]}}Ne.prototype.charToGlyphIndex=function(E){var I=E.codePointAt(0),N=this.font.glyphs;if(N){for(var B=0;B<N.length;B+=1)for(var Y=N.get(B),te=0;te<Y.unicodes.length;te+=1)if(Y.unicodes[te]===I)return B}return null},Xe.prototype.charToGlyphIndex=function(E){return this.cmap.glyphIndexMap[E.codePointAt(0)]||0},ct.prototype.charToGlyphIndex=function(E){return E=E.codePointAt(0),E=this.encoding[E],this.charset.indexOf(E)},yt.prototype.nameToGlyphIndex=function(E){return this.names.indexOf(E)},yt.prototype.glyphIndexToName=function(E){return this.names[E]};var vt={line:function(E,I,N,B,Y){E.beginPath(),E.moveTo(I,N),E.lineTo(B,Y),E.stroke()}};function bt(E){this.bindConstructorValues(E)}function Nt(E,I,N){Object.defineProperty(E,I,{get:function(){return E.path,E[N]},set:function(B){E[N]=B},enumerable:!0,configurable:!0})}function Tt(E,I){if(this.font=E,this.glyphs={},Array.isArray(I))for(var N=0;N<I.length;N++)this.glyphs[N]=I[N];this.length=I&&I.length||0}bt.prototype.bindConstructorValues=function(E){var I;this.index=E.index||0,this.name=E.name||null,this.unicode=E.unicode||void 0,this.unicodes=E.unicodes||E.unicode!==void 0?[E.unicode]:[],E.xMin&&(this.xMin=E.xMin),E.yMin&&(this.yMin=E.yMin),E.xMax&&(this.xMax=E.xMax),E.yMax&&(this.yMax=E.yMax),E.advanceWidth&&(this.advanceWidth=E.advanceWidth),Object.defineProperty(this,"path",(E=E.path,I=E||new se,{configurable:!0,get:function(){return I=typeof I=="function"?I():I},set:function(N){I=N}}))},bt.prototype.addUnicode=function(E){this.unicodes.length===0&&(this.unicode=E),this.unicodes.push(E)},bt.prototype.getBoundingBox=function(){return this.path.getBoundingBox()},bt.prototype.getPath=function(E,I,N,B,Y){E=E!==void 0?E:0,I=I!==void 0?I:0,N=N!==void 0?N:72;for(var te,ne,fe=(B=B||{}).xScale,Ee=B.yScale,_e=((te=B.hinting&&Y&&Y.hinting?this.path&&Y.hinting.exec(this,N):te)?(ne=Y.hinting.getCommands(te),E=Math.round(E),I=Math.round(I),fe=Ee=1):(ne=this.path.commands,B=1/this.path.unitsPerEm*N,fe===void 0&&(fe=B),Ee===void 0&&(Ee=B)),new se),Pe=0;Pe<ne.length;Pe+=1){var He=ne[Pe];He.type==="M"?_e.moveTo(E+He.x*fe,I+-He.y*Ee):He.type==="L"?_e.lineTo(E+He.x*fe,I+-He.y*Ee):He.type==="Q"?_e.quadraticCurveTo(E+He.x1*fe,I+-He.y1*Ee,E+He.x*fe,I+-He.y*Ee):He.type==="C"?_e.curveTo(E+He.x1*fe,I+-He.y1*Ee,E+He.x2*fe,I+-He.y2*Ee,E+He.x*fe,I+-He.y*Ee):He.type==="Z"&&_e.closePath()}return _e},bt.prototype.getContours=function(){if(this.points===void 0)return[];for(var E=[],I=[],N=0;N<this.points.length;N+=1){var B=this.points[N];I.push(B),B.lastPointOfContour&&(E.push(I),I=[])}return G.argument(I.length===0,"There are still points left in the current contour."),E},bt.prototype.getMetrics=function(){for(var E=this.path.commands,I=[],N=[],B=0;B<E.length;B+=1){var Y=E[B];Y.type!=="Z"&&(I.push(Y.x),N.push(Y.y)),Y.type!=="Q"&&Y.type!=="C"||(I.push(Y.x1),N.push(Y.y1)),Y.type==="C"&&(I.push(Y.x2),N.push(Y.y2))}var te={xMin:Math.min.apply(null,I),yMin:Math.min.apply(null,N),xMax:Math.max.apply(null,I),yMax:Math.max.apply(null,N),leftSideBearing:this.leftSideBearing};return isFinite(te.xMin)||(te.xMin=0),isFinite(te.xMax)||(te.xMax=this.advanceWidth),isFinite(te.yMin)||(te.yMin=0),isFinite(te.yMax)||(te.yMax=0),te.rightSideBearing=this.advanceWidth-te.leftSideBearing-(te.xMax-te.xMin),te},bt.prototype.draw=function(E,I,N,B,Y){this.getPath(I,N,B,Y).draw(E)},bt.prototype.drawPoints=function(E,I,N,B){function Y(Pe,He,Ve,Re){var nt=2*Math.PI;E.beginPath();for(var $e=0;$e<Pe.length;$e+=1)E.moveTo(He+Pe[$e].x*Re,Ve+Pe[$e].y*Re),E.arc(He+Pe[$e].x*Re,Ve+Pe[$e].y*Re,2,0,nt,!1);E.closePath(),E.fill()}I=I!==void 0?I:0,N=N!==void 0?N:0;for(var B=1/this.path.unitsPerEm*(B=B!==void 0?B:24),te=[],ne=[],fe=this.path,Ee=0;Ee<fe.commands.length;Ee+=1){var _e=fe.commands[Ee];_e.x!==void 0&&te.push({x:_e.x,y:-_e.y}),_e.x1!==void 0&&ne.push({x:_e.x1,y:-_e.y1}),_e.x2!==void 0&&ne.push({x:_e.x2,y:-_e.y2})}E.fillStyle="blue",Y(te,I,N,B),E.fillStyle="red",Y(ne,I,N,B)},bt.prototype.drawMetrics=function(E,I,N,B){I=I!==void 0?I:0,N=N!==void 0?N:0,B=1/this.path.unitsPerEm*(B=B!==void 0?B:24),E.lineWidth=1,E.strokeStyle="black",vt.line(E,I,-1e4,I,1e4),vt.line(E,-1e4,N,1e4,N);var Y=this.xMin||0,te=this.yMin||0,ne=this.xMax||0,fe=this.yMax||0,Ee=this.advanceWidth||0;E.strokeStyle="blue",vt.line(E,I+Y*B,-1e4,I+Y*B,1e4),vt.line(E,I+ne*B,-1e4,I+ne*B,1e4),vt.line(E,-1e4,N+-te*B,1e4,N+-te*B),vt.line(E,-1e4,N+-fe*B,1e4,N+-fe*B),E.strokeStyle="green",vt.line(E,I+Ee*B,-1e4,I+Ee*B,1e4)},Tt.prototype.get=function(E){return typeof this.glyphs[E]=="function"&&(this.glyphs[E]=this.glyphs[E]()),this.glyphs[E]},Tt.prototype.push=function(E,I){this.glyphs[E]=I,this.length++};var St={GlyphSet:Tt,glyphLoader:function(E,I){return new bt({index:I,font:E})},ttfGlyphLoader:function(E,I,N,B,Y,te){return function(){var ne=new bt({index:I,font:E});return ne.path=function(){N(ne,B,Y);var fe=te(E.glyphs,ne);return fe.unitsPerEm=E.unitsPerEm,fe},Nt(ne,"xMin","_xMin"),Nt(ne,"xMax","_xMax"),Nt(ne,"yMin","_yMin"),Nt(ne,"yMax","_yMax"),ne}},cffGlyphLoader:function(E,I,N,B){return function(){var Y=new bt({index:I,font:E});return Y.path=function(){var te=N(E,Y,B);return te.unitsPerEm=E.unitsPerEm,te},Y}}};function Lt(E){return E=E.length<1240?107:E.length<33900?1131:32768,E}function kt(E,I,N){var B,Y=[],te=[],ne=Be.getCard16(E,I);if(ne!==0){for(var fe=Be.getByte(E,I+2),Ee=I+(ne+1)*fe+2,_e=I+3,Pe=0;Pe<ne+1;Pe+=1)Y.push(Be.getOffset(E,_e,fe)),_e+=fe;B=Ee+Y[ne]}else B=I+2;for(var He=0;He<Y.length-1;He+=1){var Ve=Be.getBytes(E,Ee+Y[He],Ee+Y[He+1]);N&&(Ve=N(Ve)),te.push(Ve)}return{objects:te,startOffset:I,endOffset:B}}function mr(E,I){if(I===28)return E.parseByte()<<8|E.parseByte();if(I===29)return E.parseByte()<<24|E.parseByte()<<16|E.parseByte()<<8|E.parseByte();if(I===30){for(var N=E,B="",Y=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var ne=N.parseByte(),te=ne>>4,ne=15&ne;if(te==15||(B+=Y[te],ne==15))break;B+=Y[ne]}return parseFloat(B)}if(32<=I&&I<=246)return I-139;if(247<=I&&I<=250)return 256*(I-247)+E.parseByte()+108;if(251<=I&&I<=254)return 256*-(I-251)-E.parseByte()-108;throw new Error("Invalid b0 "+I)}function Wr(E,I,N){var B=new Be.Parser(E,I=I!==void 0?I:0),Y=[],te=[];for(N=N!==void 0?N:E.length;B.relativeOffset<N;){var ne=B.parseByte();ne<=21?(ne===12&&(ne=1200+B.parseByte()),Y.push([ne,te]),te=[]):te.push(mr(B,ne))}for(var fe=Y,Ee={},_e=0;_e<fe.length;_e+=1){var Pe=fe[_e][0],He=fe[_e][1],Ve=void 0,Ve=He.length===1?He[0]:He;if(Ee.hasOwnProperty(Pe)&&!isNaN(Ee[Pe]))throw new Error("Object "+Ee+" already has key "+Pe);Ee[Pe]=Ve}return Ee}function Nr(E,I){return I=I<=390?me[I]:E[I-391]}function Bt(E,I,N){for(var B,Y={},te=0;te<I.length;te+=1){var ne=I[te];if(Array.isArray(ne.type)){var fe=[];fe.length=ne.type.length;for(var Ee=0;Ee<ne.type.length;Ee++)(B=E[ne.op]!==void 0?E[ne.op][Ee]:void 0)===void 0&&(B=ne.value!==void 0&&ne.value[Ee]!==void 0?ne.value[Ee]:null),ne.type[Ee]==="SID"&&(B=Nr(N,B)),fe[Ee]=B;Y[ne.name]=fe}else(B=E[ne.op])===void 0&&(B=ne.value!==void 0?ne.value:null),ne.type==="SID"&&(B=Nr(N,B)),Y[ne.name]=B}return Y}var Er=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],Qt=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function Vr(E,I,N,B){return Bt(Wr(E,I,N),Qt,B)}function Zr(E,I,N,B){for(var Y=[],te=0;te<N.length;te+=1){var ne=new DataView(new Uint8Array(N[te]).buffer),ne=(fe=B,Bt(Wr(ne,0,ne.byteLength),Er,fe)),fe=(ne._subrs=[],ne._subrsBias=0,ne.private[0]),Ee=ne.private[1];fe!==0&&Ee!==0&&(fe=Vr(E,Ee+I,fe,B),ne._defaultWidthX=fe.defaultWidthX,ne._nominalWidthX=fe.nominalWidthX,fe.subrs!==0&&(Ee=kt(E,Ee+fe.subrs+I),ne._subrs=Ee.objects,ne._subrsBias=Lt(ne._subrs)),ne._privateDict=fe),Y.push(ne)}return Y}function fr(E,I,N){var B,Y,te,ne,fe,Ee,_e,Pe,He,Ve=new se,Re=[],nt=0,$e=!1,Ze=!1,qe=0,We=0,At=(He=(E.isCIDFont?(fe=E.tables.cff.topDict._fdSelect[I.index],fe=E.tables.cff.topDict._fdArray[fe],Ee=fe._subrs,_e=fe._subrsBias,Pe=fe._defaultWidthX,fe):(Ee=E.tables.cff.topDict._subrs,_e=E.tables.cff.topDict._subrsBias,Pe=E.tables.cff.topDict._defaultWidthX,E.tables.cff.topDict))._nominalWidthX,Pe);function Wt(Mt,Jt){Ze&&Ve.closePath(),Ve.moveTo(Mt,Jt),Ze=!0}function Ot(){Re.length%2==0||$e||(At=Re.shift()+He),nt+=Re.length>>1,Re.length=0,$e=!0}return function Mt(Jt){for(var Mr,ir,Gr,In,kn,Ss,Tr,Rr,wr,Nn,Cr,hn,xr=0;xr<Jt.length;){var sn=Jt[xr];switch(xr+=1,sn){case 1:case 3:Ot();break;case 4:1<Re.length&&!$e&&(At=Re.shift()+He,$e=!0),We+=Re.pop(),Wt(qe,We);break;case 5:for(;0<Re.length;)qe+=Re.shift(),We+=Re.shift(),Ve.lineTo(qe,We);break;case 6:for(;0<Re.length&&(qe+=Re.shift(),Ve.lineTo(qe,We),Re.length!==0);)We+=Re.shift(),Ve.lineTo(qe,We);break;case 7:for(;0<Re.length&&(We+=Re.shift(),Ve.lineTo(qe,We),Re.length!==0);)qe+=Re.shift(),Ve.lineTo(qe,We);break;case 8:for(;0<Re.length;)B=qe+Re.shift(),Y=We+Re.shift(),te=B+Re.shift(),ne=Y+Re.shift(),qe=te+Re.shift(),We=ne+Re.shift(),Ve.curveTo(B,Y,te,ne,qe,We);break;case 10:kn=Re.pop()+_e,(Ss=Ee[kn])&&Mt(Ss);break;case 11:return;case 12:switch(sn=Jt[xr],xr+=1,sn){case 35:B=qe+Re.shift(),Y=We+Re.shift(),te=B+Re.shift(),ne=Y+Re.shift(),Tr=te+Re.shift(),Rr=ne+Re.shift(),wr=Tr+Re.shift(),Nn=Rr+Re.shift(),Cr=wr+Re.shift(),hn=Nn+Re.shift(),qe=Cr+Re.shift(),We=hn+Re.shift(),Re.shift(),Ve.curveTo(B,Y,te,ne,Tr,Rr),Ve.curveTo(wr,Nn,Cr,hn,qe,We);break;case 34:B=qe+Re.shift(),Y=We,te=B+Re.shift(),ne=Y+Re.shift(),Tr=te+Re.shift(),Rr=ne,wr=Tr+Re.shift(),Nn=ne,Cr=wr+Re.shift(),hn=We,qe=Cr+Re.shift(),Ve.curveTo(B,Y,te,ne,Tr,Rr),Ve.curveTo(wr,Nn,Cr,hn,qe,We);break;case 36:B=qe+Re.shift(),Y=We+Re.shift(),te=B+Re.shift(),ne=Y+Re.shift(),Tr=te+Re.shift(),Rr=ne,wr=Tr+Re.shift(),Nn=ne,Cr=wr+Re.shift(),hn=Nn+Re.shift(),qe=Cr+Re.shift(),Ve.curveTo(B,Y,te,ne,Tr,Rr),Ve.curveTo(wr,Nn,Cr,hn,qe,We);break;case 37:B=qe+Re.shift(),Y=We+Re.shift(),te=B+Re.shift(),ne=Y+Re.shift(),Tr=te+Re.shift(),Rr=ne+Re.shift(),wr=Tr+Re.shift(),Nn=Rr+Re.shift(),Cr=wr+Re.shift(),hn=Nn+Re.shift(),Math.abs(Cr-qe)>Math.abs(hn-We)?qe=Cr+Re.shift():We=hn+Re.shift(),Ve.curveTo(B,Y,te,ne,Tr,Rr),Ve.curveTo(wr,Nn,Cr,hn,qe,We);break;default:console.log("Glyph "+I.index+": unknown operator 1200"+sn),Re.length=0}break;case 14:0<Re.length&&!$e&&(At=Re.shift()+He,$e=!0),Ze&&(Ve.closePath(),Ze=!1);break;case 18:Ot();break;case 19:case 20:Ot(),xr+=nt+7>>3;break;case 21:2<Re.length&&!$e&&(At=Re.shift()+He,$e=!0),We+=Re.pop(),Wt(qe+=Re.pop(),We);break;case 22:1<Re.length&&!$e&&(At=Re.shift()+He,$e=!0),Wt(qe+=Re.pop(),We);break;case 23:Ot();break;case 24:for(;2<Re.length;)B=qe+Re.shift(),Y=We+Re.shift(),te=B+Re.shift(),ne=Y+Re.shift(),qe=te+Re.shift(),We=ne+Re.shift(),Ve.curveTo(B,Y,te,ne,qe,We);qe+=Re.shift(),We+=Re.shift(),Ve.lineTo(qe,We);break;case 25:for(;6<Re.length;)qe+=Re.shift(),We+=Re.shift(),Ve.lineTo(qe,We);B=qe+Re.shift(),Y=We+Re.shift(),te=B+Re.shift(),ne=Y+Re.shift(),qe=te+Re.shift(),We=ne+Re.shift(),Ve.curveTo(B,Y,te,ne,qe,We);break;case 26:for(Re.length%2&&(qe+=Re.shift());0<Re.length;)B=qe,Y=We+Re.shift(),te=B+Re.shift(),ne=Y+Re.shift(),qe=te,We=ne+Re.shift(),Ve.curveTo(B,Y,te,ne,qe,We);break;case 27:for(Re.length%2&&(We+=Re.shift());0<Re.length;)B=qe+Re.shift(),Y=We,te=B+Re.shift(),ne=Y+Re.shift(),qe=te+Re.shift(),We=ne,Ve.curveTo(B,Y,te,ne,qe,We);break;case 28:Mr=Jt[xr],ir=Jt[xr+1],Re.push((Mr<<24|ir<<16)>>16),xr+=2;break;case 29:kn=Re.pop()+E.gsubrsBias,(Ss=E.gsubrs[kn])&&Mt(Ss);break;case 30:for(;0<Re.length&&(B=qe,Y=We+Re.shift(),te=B+Re.shift(),ne=Y+Re.shift(),qe=te+Re.shift(),We=ne+(Re.length===1?Re.shift():0),Ve.curveTo(B,Y,te,ne,qe,We),Re.length!==0);)B=qe+Re.shift(),Y=We,te=B+Re.shift(),ne=Y+Re.shift(),We=ne+Re.shift(),qe=te+(Re.length===1?Re.shift():0),Ve.curveTo(B,Y,te,ne,qe,We);break;case 31:for(;0<Re.length&&(B=qe+Re.shift(),Y=We,te=B+Re.shift(),ne=Y+Re.shift(),We=ne+Re.shift(),qe=te+(Re.length===1?Re.shift():0),Ve.curveTo(B,Y,te,ne,qe,We),Re.length!==0);)B=qe,Y=We+Re.shift(),te=B+Re.shift(),ne=Y+Re.shift(),qe=te+Re.shift(),We=ne+(Re.length===1?Re.shift():0),Ve.curveTo(B,Y,te,ne,qe,We);break;default:sn<32?console.log("Glyph "+I.index+": unknown operator "+sn):sn<247?Re.push(sn-139):sn<251?(Mr=Jt[xr],xr+=1,Re.push(256*(sn-247)+Mr+108)):sn<255?(Mr=Jt[xr],xr+=1,Re.push(256*-(sn-251)-Mr-108)):(Mr=Jt[xr],ir=Jt[xr+1],Gr=Jt[xr+2],In=Jt[xr+3],xr+=4,Re.push((Mr<<24|ir<<16|Gr<<8|In)/65536))}}}(N),I.advanceWidth=At,Ve}function Br(E,I){var N,B=me.indexOf(E);return 0<=B&&(N=B),0<=(B=I.indexOf(E))?N=B+me.length:(N=me.length+I.length,I.push(E)),N}function es(E,I,N){for(var B={},Y=0;Y<E.length;Y+=1){var te=E[Y],ne=I[te.name];ne===void 0||function fe(Ee,_e){if(Ee===_e)return 1;if(Array.isArray(Ee)&&Array.isArray(_e)&&Ee.length===_e.length){for(var Pe=0;Pe<Ee.length;Pe+=1)if(!fe(Ee[Pe],_e[Pe]))return;return 1}}(ne,te.value)||(te.type==="SID"&&(ne=Br(ne,N)),B[te.op]={name:te.name,type:te.type,value:ne})}return B}function Kr(E,I){var N=new Ue.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return N.dict=es(Er,E,I),N}function Yr(E){var I=new Ue.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return I.topDicts=[{name:"topDict_0",type:"TABLE",value:E}],I}function vs(E){for(var I=new Ue.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),N=0;N<E.length;N+=1){var B=E.get(N),Y=function(te){for(var ne=[],fe=te.path,Ee=(ne.push({name:"width",type:"NUMBER",value:te.advanceWidth}),0),_e=0,Pe=0;Pe<fe.commands.length;Pe+=1){var He,Ve,Re,nt,$e=void 0,Ze=void 0,qe=fe.commands[Pe];(qe=qe.type==="Q"?{type:"C",x:qe.x,y:qe.y,x1:1/3*Ee+2/3*qe.x1,y1:1/3*_e+2/3*qe.y1,x2:1/3*qe.x+2/3*qe.x1,y2:1/3*qe.y+2/3*qe.y1}:qe).type==="M"?($e=Math.round(qe.x-Ee),Ze=Math.round(qe.y-_e),ne.push({name:"dx",type:"NUMBER",value:$e}),ne.push({name:"dy",type:"NUMBER",value:Ze}),ne.push({name:"rmoveto",type:"OP",value:21}),Ee=Math.round(qe.x),_e=Math.round(qe.y)):qe.type==="L"?($e=Math.round(qe.x-Ee),Ze=Math.round(qe.y-_e),ne.push({name:"dx",type:"NUMBER",value:$e}),ne.push({name:"dy",type:"NUMBER",value:Ze}),ne.push({name:"rlineto",type:"OP",value:5}),Ee=Math.round(qe.x),_e=Math.round(qe.y)):qe.type==="C"&&(He=Math.round(qe.x1-Ee),Ve=Math.round(qe.y1-_e),Re=Math.round(qe.x2-qe.x1),nt=Math.round(qe.y2-qe.y1),$e=Math.round(qe.x-qe.x2),Ze=Math.round(qe.y-qe.y2),ne.push({name:"dx1",type:"NUMBER",value:He}),ne.push({name:"dy1",type:"NUMBER",value:Ve}),ne.push({name:"dx2",type:"NUMBER",value:Re}),ne.push({name:"dy2",type:"NUMBER",value:nt}),ne.push({name:"dx",type:"NUMBER",value:$e}),ne.push({name:"dy",type:"NUMBER",value:Ze}),ne.push({name:"rrcurveto",type:"OP",value:8}),Ee=Math.round(qe.x),_e=Math.round(qe.y))}return ne.push({name:"endchar",type:"OP",value:14}),ne}(B);I.charStrings.push({name:B.name,type:"CHARSTRING",value:Y})}return I}var Ms={parse:function(E,I,N){N.tables.cff={},fe=E,B=I,(Y={}).formatMajor=Be.getCard8(fe,B),Y.formatMinor=Be.getCard8(fe,B+1),Y.size=Be.getCard8(fe,B+2),Y.offsetSize=Be.getCard8(fe,B+3),Y.startOffset=B,Y.endOffset=B+4;var fe=kt(E,Y.endOffset,Be.bytesToString),B=kt(E,fe.endOffset),Y=kt(E,B.endOffset,Be.bytesToString),fe=kt(E,Y.endOffset);if(N.gsubrs=fe.objects,N.gsubrsBias=Lt(N.gsubrs),(fe=Zr(E,I,B.objects,Y.objects)).length!==1)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+fe.length);if(B=fe[0],(N.tables.cff.topDict=B)._privateDict&&(N.defaultWidthX=B._privateDict.defaultWidthX,N.nominalWidthX=B._privateDict.nominalWidthX),B.ros[0]!==void 0&&B.ros[1]!==void 0&&(N.isCIDFont=!0),N.isCIDFont){var fe=B.fdArray,te=B.fdSelect;if(fe===0||te===0)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");fe=Zr(E,I,kt(E,fe+=I).objects,Y.objects),B._fdArray=fe,B._fdSelect=function(Ve,Re,nt,$e){var Ze,qe=[],We=new Be.Parser(Ve,Re);if((Ve=We.parseCard8())===0)for(var At=0;At<nt;At++){if($e<=(Ze=We.parseCard8()))throw new Error("CFF table CID Font FDSelect has bad FD index value "+Ze+" (FD count "+$e+")");qe.push(Ze)}else{if(Ve!==3)throw new Error("CFF Table CID Font FDSelect table has unsupported format "+Ve);var Wt,Ot=We.parseCard16(),Mt=We.parseCard16();if(Mt!==0)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+Mt);for(var Jt=0;Jt<Ot;Jt++){if(Ze=We.parseCard8(),Wt=We.parseCard16(),$e<=Ze)throw new Error("CFF table CID Font FDSelect has bad FD index value "+Ze+" (FD count "+$e+")");if(nt<Wt)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+Wt);for(;Mt<Wt;Mt++)qe.push(Ze);Mt=Wt}if(Wt!==nt)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+Wt)}return qe}(E,te+=I,N.numGlyphs,fe.length)}var te=I+B.private[1],fe=Vr(E,te,B.private[0],Y.objects),ne=(N.defaultWidthX=fe.defaultWidthX,N.nominalWidthX=fe.nominalWidthX,fe.subrs!==0?(te=kt(E,te+fe.subrs),N.subrs=te.objects,N.subrsBias=Lt(N.subrs)):(N.subrs=[],N.subrsBias=0),kt(E,I+B.charStrings)),fe=(N.nGlyphs=ne.objects.length,function(Pe,He,Ve,Re){var nt=new Be.Parser(Pe,He),$e=(--Ve,[".notdef"]);if((Pe=nt.parseCard8())===0)for(var Ze=0;Ze<Ve;Ze+=1)qe=nt.parseSID(),$e.push(Nr(Re,qe));else if(Pe===1)for(;$e.length<=Ve;)for(var qe=nt.parseSID(),We=nt.parseCard8(),At=0;At<=We;At+=1)$e.push(Nr(Re,qe)),qe+=1;else{if(Pe!==2)throw new Error("Unknown charset format "+Pe);for(;$e.length<=Ve;){qe=nt.parseSID(),We=nt.parseCard16();for(var Wt=0;Wt<=We;Wt+=1)$e.push(Nr(Re,qe)),qe+=1}}return $e}(E,I+B.charset,N.nGlyphs,Y.objects));B.encoding===0?N.cffEncoding=new ct(ie,fe):B.encoding===1?N.cffEncoding=new ct(ye,fe):N.cffEncoding=function(Pe,He,Ve){var Re={},nt=new Be.Parser(Pe,He);if((Pe=nt.parseCard8())===0)for(var $e=nt.parseCard8(),Ze=0;Ze<$e;Ze+=1)Re[We=nt.parseCard8()]=Ze;else{if(Pe!==1)throw new Error("Unknown encoding format "+Pe);for(var qe=nt.parseCard8(),We=1,At=0;At<qe;At+=1)for(var Wt=nt.parseCard8(),Ot=nt.parseCard8(),Mt=Wt;Mt<=Wt+Ot;Mt+=1)Re[Mt]=We,We+=1}return new ct(Re,Ve)}(E,I+B.encoding,fe),N.encoding=N.encoding||N.cffEncoding,N.glyphs=new St.GlyphSet(N);for(var Ee=0;Ee<N.nGlyphs;Ee+=1){var _e=ne.objects[Ee];N.glyphs.push(Ee,St.cffGlyphLoader(N,Ee,fr,_e))}},make:function(E,Pe){for(var N,B=new Ue.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),Y=1/Pe.unitsPerEm,Y={version:Pe.version,fullName:Pe.fullName,familyName:Pe.familyName,weight:Pe.weightName,fontBBox:Pe.fontBBox||[0,0,0,0],fontMatrix:[Y,0,0,Y,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},te=[],ne=1;ne<E.length;ne+=1)N=E.get(ne),te.push(N.name);var fe,Ee,_e=[],Pe=(B.header=new Ue.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}]),B.nameIndex=function(Ve){var Re=new Ue.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);Re.names=[];for(var nt=0;nt<Ve.length;nt+=1)Re.names.push({name:"name_"+nt,type:"NAME",value:Ve[nt]});return Re}([Pe.postScriptName]),Kr(Y,_e)),He=(B.topDictIndex=Yr(Pe),B.globalSubrIndex=new Ue.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}]),B.charsets=function(Ve,Re){for(var nt=new Ue.Record("Charsets",[{name:"format",type:"Card8",value:0}]),$e=0;$e<Ve.length;$e+=1){var Ze=Br(Ve[$e],Re);nt.fields.push({name:"glyph_"+$e,type:"SID",value:Ze})}return nt}(te,_e),B.charStringsIndex=vs(E),B.privateDict=(He={},fe=_e,(Ee=new Ue.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}])).dict=es(Qt,He,fe),Ee),B.stringIndex=function(Ve){var Re=new Ue.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);Re.strings=[];for(var nt=0;nt<Ve.length;nt+=1)Re.strings.push({name:"string_"+nt,type:"STRING",value:Ve[nt]});return Re}(_e),B.header.sizeOf()+B.nameIndex.sizeOf()+B.topDictIndex.sizeOf()+B.stringIndex.sizeOf()+B.globalSubrIndex.sizeOf());return Y.charset=He,Y.encoding=0,Y.charStrings=Y.charset+B.charsets.sizeOf(),Y.private[1]=Y.charStrings+B.charStringsIndex.sizeOf(),Pe=Kr(Y,_e),B.topDictIndex=Yr(Pe),B}},Ys={parse:function(B,I){var N={},B=new Be.Parser(B,I);return N.version=B.parseVersion(),N.fontRevision=Math.round(1e3*B.parseFixed())/1e3,N.checkSumAdjustment=B.parseULong(),N.magicNumber=B.parseULong(),G.argument(N.magicNumber===1594834165,"Font header has wrong magic number."),N.flags=B.parseUShort(),N.unitsPerEm=B.parseUShort(),N.created=B.parseLongDateTime(),N.modified=B.parseLongDateTime(),N.xMin=B.parseShort(),N.yMin=B.parseShort(),N.xMax=B.parseShort(),N.yMax=B.parseShort(),N.macStyle=B.parseUShort(),N.lowestRecPPEM=B.parseUShort(),N.fontDirectionHint=B.parseShort(),N.indexToLocFormat=B.parseShort(),N.glyphDataFormat=B.parseShort(),N},make:function(E){var I=Math.round(new Date().getTime()/1e3)+2082844800,N=I;return E.createdTimestamp&&(N=E.createdTimestamp+2082844800),new Ue.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:N},{name:"modified",type:"LONGDATETIME",value:I},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],E)}},Ae={parse:function(B,I){var N={},B=new Be.Parser(B,I);return N.version=B.parseVersion(),N.ascender=B.parseShort(),N.descender=B.parseShort(),N.lineGap=B.parseShort(),N.advanceWidthMax=B.parseUShort(),N.minLeftSideBearing=B.parseShort(),N.minRightSideBearing=B.parseShort(),N.xMaxExtent=B.parseShort(),N.caretSlopeRise=B.parseShort(),N.caretSlopeRun=B.parseShort(),N.caretOffset=B.parseShort(),B.relativeOffset+=8,N.metricDataFormat=B.parseShort(),N.numberOfHMetrics=B.parseUShort(),N},make:function(E){return new Ue.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],E)}},dt={parse:function(E,I,N,B,Y){for(var te,ne,fe=new Be.Parser(E,I),Ee=0;Ee<B;Ee+=1){Ee<N&&(te=fe.parseUShort(),ne=fe.parseShort());var _e=Y.get(Ee);_e.advanceWidth=te,_e.leftSideBearing=ne}},make:function(E){for(var I=new Ue.Table("hmtx",[]),N=0;N<E.length;N+=1){var Y=E.get(N),B=Y.advanceWidth||0,Y=Y.leftSideBearing||0;I.fields.push({name:"advanceWidth_"+N,type:"USHORT",value:B}),I.fields.push({name:"leftSideBearing_"+N,type:"SHORT",value:Y})}return I}},wt={make:function(E){for(var I=new Ue.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:E.length}]),N="",B=12+4*E.length,Y=0;Y<E.length;++Y){var te=N.indexOf(E[Y]);te<0&&(te=N.length,N+=E[Y]),I.fields.push({name:"offset "+Y,type:"USHORT",value:B+te}),I.fields.push({name:"length "+Y,type:"USHORT",value:E[Y].length})}return I.fields.push({name:"stringPool",type:"CHARARRAY",value:N}),I},parse:function(E,I){for(var N=new Be.Parser(E,I),B=N.parseULong(),Y=(G.argument(B===1,"Unsupported ltag table version."),N.skip("uLong",1),N.parseULong()),te=[],ne=0;ne<Y;ne++){for(var fe="",Ee=I+N.parseUShort(),_e=N.parseUShort(),Pe=Ee;Pe<Ee+_e;++Pe)fe+=String.fromCharCode(E.getInt8(Pe));te.push(fe)}return te}},ot={parse:function(B,I){var N={},B=new Be.Parser(B,I);return N.version=B.parseVersion(),N.numGlyphs=B.parseUShort(),N.version===1&&(N.maxPoints=B.parseUShort(),N.maxContours=B.parseUShort(),N.maxCompositePoints=B.parseUShort(),N.maxCompositeContours=B.parseUShort(),N.maxZones=B.parseUShort(),N.maxTwilightPoints=B.parseUShort(),N.maxStorage=B.parseUShort(),N.maxFunctionDefs=B.parseUShort(),N.maxInstructionDefs=B.parseUShort(),N.maxStackElements=B.parseUShort(),N.maxSizeOfInstructions=B.parseUShort(),N.maxComponentElements=B.parseUShort(),N.maxComponentDepth=B.parseUShort()),N},make:function(E){return new Ue.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:E}])}},qt=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],tt={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},Zt={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},_t={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"},Pt="utf-16",xt={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},kr={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function pr(E,I,N){switch(E){case 0:return Pt;case 1:return kr[N]||xt[I];case 3:if(I===1||I===10)return Pt}}function nr(E){var I,N={};for(I in E)N[E[I]]=parseInt(I);return N}function gr(E,I,N,B,Y,te){return new Ue.Record("NameRecord",[{name:"platformID",type:"USHORT",value:E},{name:"encodingID",type:"USHORT",value:I},{name:"languageID",type:"USHORT",value:N},{name:"nameID",type:"USHORT",value:B},{name:"length",type:"USHORT",value:Y},{name:"offset",type:"USHORT",value:te}])}function bs(E,I){if((N=function(te,ne){var fe=te.length,Ee=ne.length-fe+1;e:for(var _e=0;_e<Ee;_e++)for(;_e<Ee;_e++){for(var Pe=0;Pe<fe;Pe++)if(ne[_e+Pe]!==te[Pe])continue e;return _e}return-1}(E,I))<0)for(var N=I.length,B=0,Y=E.length;B<Y;++B)I.push(E[B]);return N}var Rn={parse:function(E,I,N){for(var B={},Y=new Be.Parser(E,I),I=Y.parseUShort(),te=Y.parseUShort(),ne=Y.offset+Y.parseUShort(),fe=0;fe<te;fe++){var nt=Y.parseUShort(),Ee=Y.parseUShort(),_e=Y.parseUShort(),Pe=Y.parseUShort(),Pe=qt[Pe]||Pe,He=Y.parseUShort(),Ve=Y.parseUShort(),Re=function(Ze,qe,We){switch(Ze){case 0:if(qe===65535)return"und";if(We)return We[qe];break;case 1:return tt[qe];case 3:return _t[qe]}}(nt,_e,N),nt=pr(nt,Ee,_e);nt!==void 0&&Re!==void 0&&(Ee=void 0,(Ee=nt===Pt?X.UTF16(E,ne+Ve,He):X.MACSTRING(E,ne+Ve,He,nt))&&((_e=(_e=B[Pe])===void 0?B[Pe]={}:_e)[Re]=Ee))}return I===1&&Y.parseUShort(),B},make:function(E,I){var N,B=[],Y={},te=nr(qt);for(N in E){var ne=te[N];if(ne===void 0&&(ne=N),Ve=parseInt(ne),isNaN(Ve))throw new Error('Name table entry "'+N+'" does not exist, see nameTableNames for complete list.');Y[Ve]=E[N],B.push(Ve)}for(var fe=nr(tt),Ee=nr(_t),_e=[],Pe=[],He=0;He<B.length;He++){var Ve,Re,nt=Y[Ve=B[He]];for(Re in nt){var $e=nt[Re],Wt=1,Ze=fe[Re],qe=Zt[Ze],We=pr(Wt,qe,Ze),We=ee.MACSTRING($e,We),At=(We===void 0&&(Wt=0,(Ze=I.indexOf(Re))<0&&(Ze=I.length,I.push(Re)),qe=4,We=ee.UTF16($e)),bs(We,Pe)),Wt=(_e.push(gr(Wt,qe,Ze,Ve,We.length,At)),Ee[Re]);Wt!==void 0&&(Ze=bs(qe=ee.UTF16($e),Pe),_e.push(gr(3,1,Wt,Ve,qe.length,Ze)))}}_e.sort(function(Jt,Mr){return Jt.platformID-Mr.platformID||Jt.encodingID-Mr.encodingID||Jt.languageID-Mr.languageID||Jt.nameID-Mr.nameID});for(var Ot=new Ue.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:_e.length},{name:"stringOffset",type:"USHORT",value:6+12*_e.length}]),Mt=0;Mt<_e.length;Mt++)Ot.fields.push({name:"record_"+Mt,type:"RECORD",value:_e[Mt]});return Ot.fields.push({name:"strings",type:"LITERAL",value:Pe}),Ot}},ts=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}],Jr={parse:function(E,I){var N={},B=new Be.Parser(E,I);N.version=B.parseUShort(),N.xAvgCharWidth=B.parseShort(),N.usWeightClass=B.parseUShort(),N.usWidthClass=B.parseUShort(),N.fsType=B.parseUShort(),N.ySubscriptXSize=B.parseShort(),N.ySubscriptYSize=B.parseShort(),N.ySubscriptXOffset=B.parseShort(),N.ySubscriptYOffset=B.parseShort(),N.ySuperscriptXSize=B.parseShort(),N.ySuperscriptYSize=B.parseShort(),N.ySuperscriptXOffset=B.parseShort(),N.ySuperscriptYOffset=B.parseShort(),N.yStrikeoutSize=B.parseShort(),N.yStrikeoutPosition=B.parseShort(),N.sFamilyClass=B.parseShort(),N.panose=[];for(var Y=0;Y<10;Y++)N.panose[Y]=B.parseByte();return N.ulUnicodeRange1=B.parseULong(),N.ulUnicodeRange2=B.parseULong(),N.ulUnicodeRange3=B.parseULong(),N.ulUnicodeRange4=B.parseULong(),N.achVendID=String.fromCharCode(B.parseByte(),B.parseByte(),B.parseByte(),B.parseByte()),N.fsSelection=B.parseUShort(),N.usFirstCharIndex=B.parseUShort(),N.usLastCharIndex=B.parseUShort(),N.sTypoAscender=B.parseShort(),N.sTypoDescender=B.parseShort(),N.sTypoLineGap=B.parseShort(),N.usWinAscent=B.parseUShort(),N.usWinDescent=B.parseUShort(),1<=N.version&&(N.ulCodePageRange1=B.parseULong(),N.ulCodePageRange2=B.parseULong()),2<=N.version&&(N.sxHeight=B.parseShort(),N.sCapHeight=B.parseShort(),N.usDefaultChar=B.parseUShort(),N.usBreakChar=B.parseUShort(),N.usMaxContent=B.parseUShort()),N},make:function(E){return new Ue.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],E)},unicodeRanges:ts,getUnicodeRange:function(E){for(var I=0;I<ts.length;I+=1){var N=ts[I];if(E>=N.begin&&E<N.end)return I}return-1}},mi={parse:function(E,I){var N={},B=new Be.Parser(E,I);switch(N.version=B.parseVersion(),N.italicAngle=B.parseFixed(),N.underlinePosition=B.parseShort(),N.underlineThickness=B.parseShort(),N.isFixedPitch=B.parseULong(),N.minMemType42=B.parseULong(),N.maxMemType42=B.parseULong(),N.minMemType1=B.parseULong(),N.maxMemType1=B.parseULong(),N.version){case 1:N.names=Me.slice();break;case 2:N.numberOfGlyphs=B.parseUShort(),N.glyphNameIndex=new Array(N.numberOfGlyphs);for(var Y=0;Y<N.numberOfGlyphs;Y++)N.glyphNameIndex[Y]=B.parseUShort();N.names=[];for(var te,ne=0;ne<N.numberOfGlyphs;ne++)N.glyphNameIndex[ne]>=Me.length&&(te=B.parseChar(),N.names.push(B.parseString(te)));break;case 2.5:N.numberOfGlyphs=B.parseUShort(),N.offset=new Array(N.numberOfGlyphs);for(var fe=0;fe<N.numberOfGlyphs;fe++)N.offset[fe]=B.parseChar()}return N},make:function(){return new Ue.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}},mn=new Array(9),On=(mn[1]=function(){var E=this.offset+this.relativeOffset,I=this.parseUShort();return I===1?{substFormat:1,coverage:this.parsePointer(Le.coverage),deltaGlyphId:this.parseUShort()}:I===2?{substFormat:2,coverage:this.parsePointer(Le.coverage),substitute:this.parseOffset16List()}:void G.assert(!1,"0x"+E.toString(16)+": lookup type 1 format must be 1 or 2.")},mn[2]=function(){var E=this.parseUShort();return G.argument(E===1,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:E,coverage:this.parsePointer(Le.coverage),sequences:this.parseListOfLists()}},mn[3]=function(){var E=this.parseUShort();return G.argument(E===1,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:E,coverage:this.parsePointer(Le.coverage),alternateSets:this.parseListOfLists()}},mn[4]=function(){var E=this.parseUShort();return G.argument(E===1,"GSUB ligature table identifier-format must be 1"),{substFormat:E,coverage:this.parsePointer(Le.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}},{sequenceIndex:Le.uShort,lookupListIndex:Le.uShort});mn[5]=function(){var E,I,N=this.offset+this.relativeOffset,B=this.parseUShort();return B===1?{substFormat:B,coverage:this.parsePointer(Le.coverage),ruleSets:this.parseListOfLists(function(){var Y=this.parseUShort(),te=this.parseUShort();return{input:this.parseUShortList(Y-1),lookupRecords:this.parseRecordList(te,On)}})}:B===2?{substFormat:B,coverage:this.parsePointer(Le.coverage),classDef:this.parsePointer(Le.classDef),classSets:this.parseListOfLists(function(){var Y=this.parseUShort(),te=this.parseUShort();return{classes:this.parseUShortList(Y-1),lookupRecords:this.parseRecordList(te,On)}})}:B===3?(E=this.parseUShort(),I=this.parseUShort(),{substFormat:B,coverages:this.parseList(E,Le.pointer(Le.coverage)),lookupRecords:this.parseRecordList(I,On)}):void G.assert(!1,"0x"+N.toString(16)+": lookup type 5 format must be 1, 2 or 3.")},mn[6]=function(){var E=this.offset+this.relativeOffset,I=this.parseUShort();return I===1?{substFormat:1,coverage:this.parsePointer(Le.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(On)}})}:I===2?{substFormat:2,coverage:this.parsePointer(Le.coverage),backtrackClassDef:this.parsePointer(Le.classDef),inputClassDef:this.parsePointer(Le.classDef),lookaheadClassDef:this.parsePointer(Le.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(On)}})}:I===3?{substFormat:3,backtrackCoverage:this.parseList(Le.pointer(Le.coverage)),inputCoverage:this.parseList(Le.pointer(Le.coverage)),lookaheadCoverage:this.parseList(Le.pointer(Le.coverage)),lookupRecords:this.parseRecordList(On)}:void G.assert(!1,"0x"+E.toString(16)+": lookup type 6 format must be 1, 2 or 3.")},mn[7]=function(){var E=this.parseUShort(),E=(G.argument(E===1,"GSUB Extension Substitution subtable identifier-format must be 1"),this.parseUShort()),I=new Le(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:E,extension:mn[E].call(I)}},mn[8]=function(){var E=this.parseUShort();return G.argument(E===1,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:E,coverage:this.parsePointer(Le.coverage),backtrackCoverage:this.parseList(Le.pointer(Le.coverage)),lookaheadCoverage:this.parseList(Le.pointer(Le.coverage)),substitutes:this.parseUShortList()}};var gn=new Array(9);gn[1]=function(E){return E.substFormat===1?new Ue.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Ue.Coverage(E.coverage)},{name:"deltaGlyphID",type:"USHORT",value:E.deltaGlyphId}]):new Ue.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new Ue.Coverage(E.coverage)}].concat(Ue.ushortList("substitute",E.substitute)))},gn[3]=function(E){return G.assert(E.substFormat===1,"Lookup type 3 substFormat must be 1."),new Ue.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Ue.Coverage(E.coverage)}].concat(Ue.tableList("altSet",E.alternateSets,function(I){return new Ue.Table("alternateSetTable",Ue.ushortList("alternate",I))})))},gn[4]=function(E){return G.assert(E.substFormat===1,"Lookup type 4 substFormat must be 1."),new Ue.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Ue.Coverage(E.coverage)}].concat(Ue.tableList("ligSet",E.ligatureSets,function(I){return new Ue.Table("ligatureSetTable",Ue.tableList("ligature",I,function(N){return new Ue.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:N.ligGlyph}].concat(Ue.ushortList("component",N.components,N.components.length+1)))}))})))};var ka={parse:function(E,I){return I=(E=new Le(E,I=I||0)).parseVersion(1),G.argument(I===1||I===1.1,"Unsupported GSUB table version."),I===1?{version:I,scripts:E.parseScriptList(),features:E.parseFeatureList(),lookups:E.parseLookupList(mn)}:{version:I,scripts:E.parseScriptList(),features:E.parseFeatureList(),lookups:E.parseLookupList(mn),variations:E.parseFeatureVariationsList()}},make:function(E){return new Ue.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Ue.ScriptList(E.scripts)},{name:"features",type:"TABLE",value:new Ue.FeatureList(E.features)},{name:"lookups",type:"TABLE",value:new Ue.LookupList(E.lookups,gn)}])}},Ml={parse:function(E,I){for(var N=new Be.Parser(E,I),B=N.parseULong(),Y=(G.argument(B===1,"Unsupported META table version."),N.parseULong(),N.parseULong(),N.parseULong()),te={},ne=0;ne<Y;ne++){var fe=N.parseTag(),_e=N.parseULong(),Ee=N.parseULong(),_e=X.UTF8(E,I+_e,Ee);te[fe]=_e}return te},make:function(E){var I,N=Object.keys(E).length,B="",Y=16+12*N,te=new Ue.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:Y},{name:"numTags",type:"ULONG",value:N}]);for(I in E){var ne=B.length;B+=E[I],te.fields.push({name:"tag "+I,type:"TAG",value:I}),te.fields.push({name:"offset "+I,type:"ULONG",value:Y+ne}),te.fields.push({name:"length "+I,type:"ULONG",value:E[I].length})}return te.fields.push({name:"stringPool",type:"CHARARRAY",value:B}),te}};function Pi(E){return Math.log(E)/Math.log(2)|0}function no(E){for(;E.length%4!=0;)E.push(0);for(var I=0,N=0;N<E.length;N+=4)I+=(E[N]<<24)+(E[N+1]<<16)+(E[N+2]<<8)+E[N+3];return I%=Math.pow(2,32)}function so(E,I,N,B){return new Ue.Record("Table Record",[{name:"tag",type:"TAG",value:E!==void 0?E:""},{name:"checkSum",type:"ULONG",value:I!==void 0?I:0},{name:"offset",type:"ULONG",value:N!==void 0?N:0},{name:"length",type:"ULONG",value:B!==void 0?B:0}])}function Xs(E){for(var I=new Ue.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),N=(I.tables=E,I.numTables=E.length,Math.pow(2,Pi(I.numTables))),B=(I.searchRange=16*N,I.entrySelector=Pi(N),I.rangeShift=16*I.numTables-I.searchRange,[]),Y=[],te=I.sizeOf()+so().sizeOf()*I.numTables;te%4!=0;)te+=1,Y.push({name:"padding",type:"BYTE",value:0});for(var ne=0;ne<E.length;ne+=1){var fe=E[ne],Ee=(G.argument(fe.tableName.length===4,"Table name"+fe.tableName+" is invalid."),fe.sizeOf()),_e=so(fe.tableName,no(fe.encode()),te,Ee);for(B.push({name:_e.tag+" Table Record",type:"RECORD",value:_e}),Y.push({name:fe.tableName+" table",type:"RECORD",value:fe}),te+=Ee,G.argument(!isNaN(te),"Something went wrong calculating the offset.");te%4!=0;)te+=1,Y.push({name:"padding",type:"BYTE",value:0})}return B.sort(function(Pe,He){return Pe.value.tag>He.value.tag?1:-1}),I.fields=I.fields.concat(B),I.fields=I.fields.concat(Y),I}function Xr(E,I,N){for(var B=0;B<I.length;B+=1){var Y=E.charToGlyphIndex(I[B]);if(0<Y)return E.glyphs.get(Y).getMetrics()}return N}var Di={make:Xs,fontToTable:function(E){for(var I,N=[],B=[],Y=[],te=[],ne=[],fe=[],Ee=[],_e=0,Pe=0,He=0,Ve=0,Re=0,nt=0;nt<E.glyphs.length;nt+=1){var $e=E.glyphs.get(nt),Ze=0|$e.unicode;if(isNaN($e.advanceWidth))throw new Error("Glyph "+$e.name+" ("+nt+"): advanceWidth is not a number.");(Ze<I||I===void 0)&&0<Ze&&(I=Ze),_e<Ze&&(_e=Ze);var Ze=Jr.getUnicodeRange(Ze);if(Ze<32)Pe|=1<<Ze;else if(Ze<64)He|=1<<Ze-32;else if(Ze<96)Ve|=1<<Ze-64;else{if(!(Ze<123))throw new Error("Unicode ranges bits > 123 are reserved for internal usage");Re|=1<<Ze-96}$e.name!==".notdef"&&(Ze=$e.getMetrics(),N.push(Ze.xMin),B.push(Ze.yMin),Y.push(Ze.xMax),te.push(Ze.yMax),fe.push(Ze.leftSideBearing),Ee.push(Ze.rightSideBearing),ne.push($e.advanceWidth))}var qe,We={xMin:Math.min.apply(null,N),yMin:Math.min.apply(null,B),xMax:Math.max.apply(null,Y),yMax:Math.max.apply(null,te),advanceWidthMax:Math.max.apply(null,ne),advanceWidthAvg:function(sn){for(var Ko=0,js=0;js<sn.length;js+=1)Ko+=sn[js];return Ko/sn.length}(ne),minLeftSideBearing:Math.min.apply(null,fe),maxLeftSideBearing:Math.max.apply(null,fe),minRightSideBearing:Math.min.apply(null,Ee)},At=(We.ascender=E.ascender,We.descender=E.descender,Ys.make({flags:3,unitsPerEm:E.unitsPerEm,xMin:We.xMin,yMin:We.yMin,xMax:We.xMax,yMax:We.yMax,lowestRecPPEM:3,createdTimestamp:E.createdTimestamp})),Wt=Ae.make({ascender:We.ascender,descender:We.descender,advanceWidthMax:We.advanceWidthMax,minLeftSideBearing:We.minLeftSideBearing,minRightSideBearing:We.minRightSideBearing,xMaxExtent:We.maxLeftSideBearing+(We.xMax-We.xMin),numberOfHMetrics:E.glyphs.length}),Ot=ot.make(E.glyphs.length),Mt=Jr.make({xAvgCharWidth:Math.round(We.advanceWidthAvg),usWeightClass:E.tables.os2.usWeightClass,usWidthClass:E.tables.os2.usWidthClass,usFirstCharIndex:I,usLastCharIndex:_e,ulUnicodeRange1:Pe,ulUnicodeRange2:He,ulUnicodeRange3:Ve,ulUnicodeRange4:Re,fsSelection:E.tables.os2.fsSelection,sTypoAscender:We.ascender,sTypoDescender:We.descender,sTypoLineGap:0,usWinAscent:We.yMax,usWinDescent:Math.abs(We.yMin),ulCodePageRange1:1,sxHeight:Xr(E,"xyvw",{yMax:Math.round(We.ascender/2)}).yMax,sCapHeight:Xr(E,"HIKLEFJMNTZBDPRAGOQSUVWXY",We).yMax,usDefaultChar:E.hasChar(" ")?32:0,usBreakChar:E.hasChar(" ")?32:0}),Jt=dt.make(E.glyphs),Mr=de.make(E.glyphs),Rr=E.getEnglishName("fontFamily"),wr=E.getEnglishName("fontSubfamily"),Tr=Rr+" "+wr,ir=(ir=E.getEnglishName("postScriptName"))||Rr.replace(/\s/g,"")+"-"+wr,Gr={};for(qe in E.names)Gr[qe]=E.names[qe];Gr.uniqueID||(Gr.uniqueID={en:E.getEnglishName("manufacturer")+":"+Tr}),Gr.postScriptName||(Gr.postScriptName={en:ir}),Gr.preferredFamily||(Gr.preferredFamily=E.names.fontFamily),Gr.preferredSubfamily||(Gr.preferredSubfamily=E.names.fontSubfamily);var kn=[],In=Rn.make(Gr,kn),kn=0<kn.length?wt.make(kn):void 0,Ss=mi.make(),Tr=Ms.make(E.glyphs,{version:E.getEnglishName("version"),fullName:Tr,familyName:Rr,weightName:wr,postScriptName:ir,unitsPerEm:E.unitsPerEm,fontBBox:[0,We.yMin,We.ascender,We.advanceWidthMax]}),Rr=E.metas&&0<Object.keys(E.metas).length?Ml.make(E.metas):void 0,wr=[At,Wt,Ot,Mt,In,Mr,Ss,Tr,Jt];kn&&wr.push(kn),E.tables.gsub&&wr.push(ka.make(E.tables.gsub)),Rr&&wr.push(Rr);for(var Nn=no((ir=Xs(wr)).encode()),Cr=ir.fields,hn=!1,xr=0;xr<Cr.length;xr+=1)if(Cr[xr].name==="head table"){Cr[xr].value.checkSumAdjustment=2981146554-Nn,hn=!0;break}if(hn)return ir;throw new Error("Could not find head table with checkSum to adjust.")},computeCheckSum:no};function gi(E,I){for(var N=0,B=E.length-1;N<=B;){var Y=N+B>>>1,te=E[Y].tag;if(te===I)return Y;te<I?N=1+Y:B=Y-1}return-N-1}function io(E,I){for(var N=0,B=E.length-1;N<=B;){var Y=N+B>>>1,te=E[Y];if(te===I)return Y;te<I?N=1+Y:B=Y-1}return-N-1}function ar(E,I){for(var N=0,B=E.length-1;N<=B;){var Y,te=N+B>>>1,ne=(Y=E[te]).start;if(ne===I)return Y;ne<I?N=1+te:B=te-1}if(0<N)return I>(Y=E[N-1]).end?0:Y}function $s(E,I){this.font=E,this.tableName=I}function Ps(E){$s.call(this,E,"gpos")}function en(E){$s.call(this,E,"gsub")}function Pl(E,I,N){for(var B=E.subtables,Y=0;Y<B.length;Y++){var te=B[Y];if(te.substFormat===I)return te}if(N)return B.push(N),N}function Wo(E){for(var I=new ArrayBuffer(E.length),N=new Uint8Array(I),B=0;B<E.length;++B)N[B]=E[B];return I}function yi(E,I){if(!E)throw I}function Yo(E,I,N,B,Y){var te=0<(I&B)?(te=E.parseByte(),N+(te=I&Y?te:-te)):0<(I&Y)?N:N+E.parseShort();return te}function Vu(E,I,N){var B,Y=new Be.Parser(I,N);if(E.numberOfContours=Y.parseShort(),E._xMin=Y.parseShort(),E._yMin=Y.parseShort(),E._xMax=Y.parseShort(),E._yMax=Y.parseShort(),0<E.numberOfContours){for(var te=E.endPointIndices=[],ne=0;ne<E.numberOfContours;ne+=1)te.push(Y.parseUShort());E.instructionLength=Y.parseUShort(),E.instructions=[];for(var fe=0;fe<E.instructionLength;fe+=1)E.instructions.push(Y.parseByte());for(var Ee=te[te.length-1]+1,_e=[],Pe=0;Pe<Ee;Pe+=1)if(B=Y.parseByte(),_e.push(B),0<(8&B))for(var He=Y.parseByte(),Ve=0;Ve<He;Ve+=1)_e.push(B),Pe+=1;if(G.argument(_e.length===Ee,"Bad flags."),0<te.length){var Re,nt=[];if(0<Ee){for(var $e=0;$e<Ee;$e+=1)B=_e[$e],(Re={}).onCurve=!!(1&B),Re.lastPointOfContour=0<=te.indexOf($e),nt.push(Re);for(var Ze=0,qe=0;qe<Ee;qe+=1)B=_e[qe],(Re=nt[qe]).x=Yo(Y,B,Ze,2,16),Ze=Re.x;for(var We=0,At=0;At<Ee;At+=1)B=_e[At],(Re=nt[At]).y=Yo(Y,B,We,4,32),We=Re.y}E.points=nt}else E.points=[]}else if(E.numberOfContours===0)E.points=[];else{E.isComposite=!0,E.points=[],E.components=[];for(var Wt=!0;Wt;){_e=Y.parseUShort();var Ot={glyphIndex:Y.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};0<(1&_e)?0<(2&_e)?(Ot.dx=Y.parseShort(),Ot.dy=Y.parseShort()):Ot.matchedPoints=[Y.parseUShort(),Y.parseUShort()]:0<(2&_e)?(Ot.dx=Y.parseChar(),Ot.dy=Y.parseChar()):Ot.matchedPoints=[Y.parseByte(),Y.parseByte()],0<(8&_e)?Ot.xScale=Ot.yScale=Y.parseF2Dot14():0<(64&_e)?(Ot.xScale=Y.parseF2Dot14(),Ot.yScale=Y.parseF2Dot14()):0<(128&_e)&&(Ot.xScale=Y.parseF2Dot14(),Ot.scale01=Y.parseF2Dot14(),Ot.scale10=Y.parseF2Dot14(),Ot.yScale=Y.parseF2Dot14()),E.components.push(Ot),Wt=!!(32&_e)}if(256&_e){E.instructionLength=Y.parseUShort(),E.instructions=[];for(var Mt=0;Mt<E.instructionLength;Mt+=1)E.instructions.push(Y.parseByte())}}}function Ma(E,I){for(var N=[],B=0;B<E.length;B+=1){var Y=E[B],Y={x:I.xScale*Y.x+I.scale01*Y.y+I.dx,y:I.scale10*Y.x+I.yScale*Y.y+I.dy,onCurve:Y.onCurve,lastPointOfContour:Y.lastPointOfContour};N.push(Y)}return N}function Ds(E){var I=new se;if(E)for(var N=function(He){for(var Ve=[],Re=[],nt=0;nt<He.length;nt+=1){var $e=He[nt];Re.push($e),$e.lastPointOfContour&&(Ve.push(Re),Re=[])}return G.argument(Re.length===0,"There are still points left in the current contour."),Ve}(E),B=0;B<N.length;++B){var Y,te=N[B],ne=te[te.length-1],fe=te[0];ne.onCurve?I.moveTo(ne.x,ne.y):fe.onCurve?I.moveTo(fe.x,fe.y):(Y={x:.5*(ne.x+fe.x),y:.5*(ne.y+fe.y)},I.moveTo(Y.x,Y.y));for(var Ee=0;Ee<te.length;++Ee){var _e,Pe=ne,ne=fe,fe=te[(Ee+1)%te.length];ne.onCurve?I.lineTo(ne.x,ne.y):(_e=fe,Pe.onCurve||(ne.x,Pe.x,ne.y,Pe.y),fe.onCurve||(_e={x:.5*(ne.x+fe.x),y:.5*(ne.y+fe.y)}),I.quadraticCurveTo(ne.x,ne.y,_e.x,_e.y))}I.closePath()}return I}function _s(E,I){if(I.isComposite)for(var N=0;N<I.components.length;N+=1){var B=I.components[N],Y=E.get(B.glyphIndex);if(Y.getPath(),Y.points){var te=void 0;if(B.matchedPoints===void 0)te=Ma(Y.points,B);else{if(B.matchedPoints[0]>I.points.length-1||B.matchedPoints[1]>Y.points.length-1)throw Error("Matched points out of range in "+I.name);var ne=I.points[B.matchedPoints[0]],fe=Y.points[B.matchedPoints[1]],B={xScale:B.xScale,scale01:B.scale01,scale10:B.scale10,yScale:B.yScale,dx:0,dy:0},fe=Ma([fe],B)[0];B.dx=ne.x-fe.x,B.dy=ne.y-fe.y,te=Ma(Y.points,B)}I.points=I.points.concat(te)}}return Ds(I.points)}(Ps.prototype=$s.prototype={searchTag:gi,binSearch:io,getTable:function(E){var I=this.font.tables[this.tableName];return I=!I&&E?this.font.tables[this.tableName]=this.createDefaultTable():I},getScriptNames:function(){var E=this.getTable();return E?E.scripts.map(function(I){return I.tag}):[]},getDefaultScriptName:function(){var E=this.getTable();if(E){for(var I=!1,N=0;N<E.scripts.length;N++){var B=E.scripts[N].tag;if(B==="DFLT")return B;B==="latn"&&(I=!0)}return I?"latn":void 0}},getScriptTable:function(E,I){var N,B=this.getTable(I);if(B)return N=B.scripts,0<=(B=gi(B.scripts,E=E||"DFLT"))?N[B].script:I?(N.splice(-1-B,0,I={tag:E,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}),I.script):void 0},getLangSysTable:function(Y,I,N){var B,Y=this.getScriptTable(Y,N);if(Y)return I&&I!=="dflt"&&I!=="DFLT"?0<=(B=gi(Y.langSysRecords,I))?Y.langSysRecords[B].langSys:N?(Y.langSysRecords.splice(-1-B,0,N={tag:I,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}}),N.langSys):void 0:Y.defaultLangSys},getFeatureTable:function(E,I,N,B){if(E=this.getLangSysTable(E,I,B),E){for(var Y,te=E.featureIndexes,ne=this.font.tables[this.tableName].features,fe=0;fe<te.length;fe++)if((Y=ne[te[fe]]).tag===N)return Y.feature;if(B)return I=ne.length,G.assert(I===0||N>=ne[I-1].tag,"Features must be added in alphabetical order."),ne.push(Y={tag:N,feature:{params:0,lookupListIndexes:[]}}),te.push(I),Y.feature}},getLookupTables:function(te,I,N,B,Y){var te=this.getFeatureTable(te,I,N,Y),ne=[];if(te){for(var fe,Ee=te.lookupListIndexes,_e=this.font.tables[this.tableName].lookups,Pe=0;Pe<Ee.length;Pe++)(fe=_e[Ee[Pe]]).lookupType===B&&ne.push(fe);if(ne.length===0&&Y)return I=_e.length,_e.push(fe={lookupType:B,lookupFlag:0,subtables:[],markFilteringSet:void 0}),Ee.push(I),[fe]}return ne},getGlyphClass:function(E,I){switch(E.format){case 1:return E.startGlyph<=I&&I<E.startGlyph+E.classes.length?E.classes[I-E.startGlyph]:0;case 2:var N=ar(E.ranges,I);return N?N.classId:0}},getCoverageIndex:function(E,I){switch(E.format){case 1:var N=io(E.glyphs,I);return 0<=N?N:-1;case 2:return N=ar(E.ranges,I),N?N.index+I-N.start:-1}},expandCoverage:function(E){if(E.format===1)return E.glyphs;for(var I=[],N=E.ranges,B=0;B<N.length;B++)for(var Y=N[B],te=Y.start,ne=Y.end,fe=te;fe<=ne;fe++)I.push(fe);return I}}).init=function(){var E=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(E)},Ps.prototype.getKerningValue=function(E,I,N){for(var B=0;B<E.length;B++)for(var Y=E[B].subtables,te=0;te<Y.length;te++){var ne=Y[te],fe=this.getCoverageIndex(ne.coverage,I);if(!(fe<0))switch(ne.posFormat){case 1:for(var Ee=ne.pairSets[fe],_e=0;_e<Ee.length;_e++){var Pe=Ee[_e];if(Pe.secondGlyph===N)return Pe.value1&&Pe.value1.xAdvance||0}break;case 2:var Ve=this.getGlyphClass(ne.classDef1,I),He=this.getGlyphClass(ne.classDef2,N),Ve=ne.classRecords[Ve][He];return Ve.value1&&Ve.value1.xAdvance||0}}return 0},Ps.prototype.getKerningTables=function(E,I){if(this.font.tables.gpos)return this.getLookupTables(E,I,"kern",2)},(en.prototype=$s.prototype).createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}},en.prototype.getSingle=function(E,I,N){for(var B=[],Y=this.getLookupTables(I,N,E,1),te=0;te<Y.length;te++)for(var ne=Y[te].subtables,fe=0;fe<ne.length;fe++){var Ee=ne[fe],_e=this.expandCoverage(Ee.coverage),Pe=void 0;if(Ee.substFormat===1)for(var He=Ee.deltaGlyphId,Pe=0;Pe<_e.length;Pe++){var Ve=_e[Pe];B.push({sub:Ve,by:Ve+He})}else{var Re=Ee.substitute;for(Pe=0;Pe<_e.length;Pe++)B.push({sub:_e[Pe],by:Re[Pe]})}}return B},en.prototype.getAlternates=function(E,I,N){for(var B=[],Y=this.getLookupTables(I,N,E,3),te=0;te<Y.length;te++)for(var ne=Y[te].subtables,fe=0;fe<ne.length;fe++)for(var Ee=ne[fe],_e=this.expandCoverage(Ee.coverage),Pe=Ee.alternateSets,He=0;He<_e.length;He++)B.push({sub:_e[He],by:Pe[He]});return B},en.prototype.getLigatures=function(E,I,N){for(var B=[],Y=this.getLookupTables(I,N,E,4),te=0;te<Y.length;te++)for(var ne=Y[te].subtables,fe=0;fe<ne.length;fe++)for(var Ee=ne[fe],_e=this.expandCoverage(Ee.coverage),Pe=Ee.ligatureSets,He=0;He<_e.length;He++)for(var Ve=_e[He],Re=Pe[He],nt=0;nt<Re.length;nt++){var $e=Re[nt];B.push({sub:[Ve].concat($e.components),by:$e.ligGlyph})}return B},en.prototype.addSingle=function(E,I,N,B){N=Pl(this.getLookupTables(N,B,E,1,!0)[0],2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]}),G.assert(N.coverage.format===1,"Ligature: unable to modify coverage table format "+N.coverage.format),B=I.sub,E=this.binSearch(N.coverage.glyphs,B),E<0&&(N.coverage.glyphs.splice(E=-1-E,0,B),N.substitute.splice(E,0,0)),N.substitute[E]=I.by},en.prototype.addAlternate=function(E,I,N,B){N=Pl(this.getLookupTables(N,B,E,3,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]}),G.assert(N.coverage.format===1,"Ligature: unable to modify coverage table format "+N.coverage.format),B=I.sub,E=this.binSearch(N.coverage.glyphs,B),E<0&&(N.coverage.glyphs.splice(E=-1-E,0,B),N.alternateSets.splice(E,0,0)),N.alternateSets[E]=I.by},en.prototype.addLigature=function(te,Ee,fe,Y){var fe=this.getLookupTables(fe,Y,te,4,!0)[0],Y=fe.subtables[0],te=(Y||(fe.subtables[0]=Y={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]}),G.assert(Y.coverage.format===1,"Ligature: unable to modify coverage table format "+Y.coverage.format),Ee.sub[0]),ne=Ee.sub.slice(1),fe={ligGlyph:Ee.by,components:ne},Ee=this.binSearch(Y.coverage.glyphs,te);if(0<=Ee){for(var _e=Y.ligatureSets[Ee],Pe=0;Pe<_e.length;Pe++)if(function(He,Ve){var Re=He.length;if(Re===Ve.length){for(var nt=0;nt<Re;nt++)if(He[nt]!==Ve[nt])return;return 1}}(_e[Pe].components,ne))return;_e.push(fe)}else Y.coverage.glyphs.splice(Ee=-1-Ee,0,te),Y.ligatureSets.splice(Ee,0,[fe])},en.prototype.getFeature=function(E,I,N){if(/ss\d\d/.test(E))return this.getSingle(E,I,N);switch(E){case"aalt":case"salt":return this.getSingle(E,I,N).concat(this.getAlternates(E,I,N));case"dlig":case"liga":case"rlig":return this.getLigatures(E,I,N)}},en.prototype.add=function(E,I,N,B){if(/ss\d\d/.test(E))return this.addSingle(E,I,N,B);switch(E){case"aalt":case"salt":return typeof I.by=="number"?this.addSingle(E,I,N,B):this.addAlternate(E,I,N,B);case"dlig":case"liga":case"rlig":return this.addLigature(E,I,N,B)}};var oo={getPath:Ds,parse:function(E,I,N,B){for(var Y=new St.GlyphSet(B),te=0;te<N.length-1;te+=1){var ne=N[te];ne!==N[te+1]?Y.push(te,St.ttfGlyphLoader(B,te,Vu,E,I+ne,_s)):Y.push(te,St.glyphLoader(B,te))}return Y}};function Ks(E){this.font=E,this.getCommands=function(I){return oo.getPath(I).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function vi(E){return E}function Qs(E){return Math.sign(E)*Math.round(Math.abs(E))}function Pa(E){return Math.sign(E)*Math.round(Math.abs(2*E))/2}function Dl(E){return Math.sign(E)*(Math.round(Math.abs(E)+.5)-.5)}function ao(E){return Math.sign(E)*Math.ceil(Math.abs(E))}function ws(E){return Math.sign(E)*Math.floor(Math.abs(E))}function Li(E){var I=this.srPeriod,N=this.srPhase,B=1;return E<0&&(E=-E,B=-1),E+=this.srThreshold-N,E=Math.trunc(E/I)*I,(E+=N)<0?N*B:E*B}var dn={x:1,y:0,axis:"x",distance:function(E,I,N,B){return(N?E.xo:E.x)-(B?I.xo:I.x)},interpolate:function(E,I,N,B){var Y,te,ne,fe,Ee,_e,Pe;if(!B||B===this)return Y=E.xo-I.xo,te=E.xo-N.xo,Ee=I.x-I.xo,_e=N.x-N.xo,(Pe=(ne=Math.abs(Y))+(fe=Math.abs(te)))===0?void(E.x=E.xo+(Ee+_e)/2):void(E.x=E.xo+(Ee*fe+_e*ne)/Pe);Y=B.distance(E,I,!0,!0),te=B.distance(E,N,!0,!0),Ee=B.distance(I,I,!1,!0),_e=B.distance(N,N,!1,!0),(Pe=(ne=Math.abs(Y))+(fe=Math.abs(te)))===0?dn.setRelative(E,E,(Ee+_e)/2,B,!0):dn.setRelative(E,E,(Ee*fe+_e*ne)/Pe,B,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(E,I,N,B,Y){var te,ne;B&&B!==this?(te=Y?I.xo:I.x,ne=Y?I.yo:I.y,te+=N*B.x,ne+=N*B.y,E.x=te+(E.y-ne)/B.normalSlope):E.x=(Y?I.xo:I.x)+N},slope:0,touch:function(E){E.xTouched=!0},touched:function(E){return E.xTouched},untouch:function(E){E.xTouched=!1}},Ln={x:0,y:1,axis:"y",distance:function(E,I,N,B){return(N?E.yo:E.y)-(B?I.yo:I.y)},interpolate:function(E,I,N,B){var Y,te,ne,fe,Ee,_e,Pe;if(!B||B===this)return Y=E.yo-I.yo,te=E.yo-N.yo,Ee=I.y-I.yo,_e=N.y-N.yo,(Pe=(ne=Math.abs(Y))+(fe=Math.abs(te)))===0?void(E.y=E.yo+(Ee+_e)/2):void(E.y=E.yo+(Ee*fe+_e*ne)/Pe);Y=B.distance(E,I,!0,!0),te=B.distance(E,N,!0,!0),Ee=B.distance(I,I,!1,!0),_e=B.distance(N,N,!1,!0),(Pe=(ne=Math.abs(Y))+(fe=Math.abs(te)))===0?Ln.setRelative(E,E,(Ee+_e)/2,B,!0):Ln.setRelative(E,E,(Ee*fe+_e*ne)/Pe,B,!0)},normalSlope:0,setRelative:function(E,I,N,B,Y){var te,ne;B&&B!==this?(te=Y?I.xo:I.x,ne=Y?I.yo:I.y,te+=N*B.x,ne+=N*B.y,E.y=ne+B.normalSlope*(E.x-te)):E.y=(Y?I.yo:I.y)+N},slope:Number.POSITIVE_INFINITY,touch:function(E){E.yTouched=!0},touched:function(E){return E.yTouched},untouch:function(E){E.yTouched=!1}};function fs(E,I){this.x=E,this.y=I,this.axis=void 0,this.slope=I/E,this.normalSlope=-E/I,Object.freeze(this)}function bi(E,I){var N=Math.sqrt(E*E+I*I);return I/=N,(E/=N)===1&&I===0?dn:E===0&&I===1?Ln:new fs(E,I)}function yn(E,I,N,B){this.x=this.xo=Math.round(64*E)/64,this.y=this.yo=Math.round(64*I)/64,this.lastPointOfContour=N,this.onCurve=B,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}Object.freeze(dn),Object.freeze(Ln),fs.prototype.distance=function(E,I,N,B){return this.x*dn.distance(E,I,N,B)+this.y*Ln.distance(E,I,N,B)},fs.prototype.interpolate=function(E,Y,te,B){var ne=B.distance(E,Y,!0,!0),fe=B.distance(E,te,!0,!0),Y=B.distance(Y,Y,!1,!0),te=B.distance(te,te,!1,!0),ne=Math.abs(ne),fe=Math.abs(fe),Ee=ne+fe;Ee===0?this.setRelative(E,E,(Y+te)/2,B,!0):this.setRelative(E,E,(Y*fe+te*ne)/Ee,B,!0)},fs.prototype.setRelative=function(E,te,Ee,_e,fe){var ne=fe?te.xo:te.x,fe=fe?te.yo:te.y,te=ne+Ee*(_e=_e||this).x,ne=fe+Ee*_e.y,fe=_e.normalSlope,Ee=this.slope,_e=E.x,Pe=E.y;E.x=(Ee*_e-fe*te+ne-Pe)/(Ee-fe),E.y=Ee*(E.x-_e)+Pe},fs.prototype.touch=function(E){E.xTouched=!0,E.yTouched=!0},yn.prototype.nextTouched=function(E){for(var I=this.nextPointOnContour;!E.touched(I)&&I!==this;)I=I.nextPointOnContour;return I},yn.prototype.prevTouched=function(E){for(var I=this.prevPointOnContour;!E.touched(I)&&I!==this;)I=I.prevPointOnContour;return I};var rs=Object.freeze(new yn(0,0)),Da={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function Ur(E,I){switch(this.env=E,this.stack=[],this.prog=I,E){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=dn,this.round=Qs}}function lr(E){for(var I=E.tZone=new Array(E.gZone.length),N=0;N<I.length;N++)I[N]=new yn(0,0)}function lo(E,I){var N,B=E.prog,Y=E.ip,te=1;do if((N=B[++Y])===88)te++;else if(N===89)te--;else if(N===64)Y+=B[Y+1]+1;else if(N===65)Y+=2*B[Y+1]+1;else if(176<=N&&N<=183)Y+=N-176+1;else if(184<=N&&N<=191)Y+=2*(N-184+1);else if(I&&te===1&&N===27)break;while(0<te);E.ip=Y}function Ni(E,I){d.DEBUG&&console.log(I.step,"SVTCA["+E.axis+"]"),I.fv=I.pv=I.dpv=E}function La(E,I){d.DEBUG&&console.log(I.step,"SPVTCA["+E.axis+"]"),I.pv=I.dpv=E}function uo(E,I){d.DEBUG&&console.log(I.step,"SFVTCA["+E.axis+"]"),I.fv=E}function co(E,I){var N,Y=I.stack,B=Y.pop(),Y=Y.pop(),te=I.z2[B],ne=I.z1[Y];d.DEBUG&&console.log("SPVTL["+E+"]",B,Y),B=E?(N=te.y-ne.y,ne.x-te.x):(N=ne.x-te.x,ne.y-te.y),I.pv=I.dpv=bi(N,B)}function Ls(E,I){var N,Y=I.stack,B=Y.pop(),Y=Y.pop(),te=I.z2[B],ne=I.z1[Y];d.DEBUG&&console.log("SFVTL["+E+"]",B,Y),B=E?(N=te.y-ne.y,ne.x-te.x):(N=ne.x-te.x,ne.y-te.y),I.fv=bi(N,B)}function _i(E){d.DEBUG&&console.log(E.step,"POP[]"),E.stack.pop()}function ps(E,I){var N=I.stack.pop(),B=I.z0[N],Y=I.fv,te=I.pv,ne=(d.DEBUG&&console.log(I.step,"MDAP["+E+"]",N),te.distance(B,rs));E&&(ne=I.round(ne)),Y.setRelative(B,rs,ne,te),Y.touch(B),I.rp0=I.rp1=N}function Na(E,I){var N,B,Y,te=I.z2,ne=te.length-2;d.DEBUG&&console.log(I.step,"IUP["+E.axis+"]");for(var fe=0;fe<ne;fe++)N=te[fe],E.touched(N)||(B=N.prevTouched(E))!==N&&(B===(Y=N.nextTouched(E))&&E.setRelative(N,N,E.distance(B,B,!1,!0),E,!0),E.interpolate(N,B,Y,E))}function Ll(E,I){for(var N=I.stack,B=E?I.rp1:I.rp2,Y=(E?I.z0:I.z1)[B],te=I.fv,ne=I.pv,fe=I.loop,Ee=I.z2;fe--;){var _e=N.pop(),Pe=Ee[_e],He=ne.distance(Y,Y,!1,!0);te.setRelative(Pe,Pe,He,ne),te.touch(Pe),d.DEBUG&&console.log(I.step,(1<I.loop?"loop "+(I.loop-fe)+": ":"")+"SHP["+(E?"rp1":"rp2")+"]",_e)}I.loop=1}function Ui(E,I){for(var N=I.stack,ne=E?I.rp1:I.rp2,B=(E?I.z0:I.z1)[ne],Y=I.fv,te=I.pv,ne=N.pop(),fe=I.z2[I.contours[ne]],Ee=fe,_e=(d.DEBUG&&console.log(I.step,"SHC["+E+"]",ne),te.distance(B,B,!1,!0));Ee!==B&&Y.setRelative(Ee,Ee,_e,te),(Ee=Ee.nextPointOnContour)!==fe;);}function ho(E,I){var N,B,fe=I.stack,Y=E?I.rp1:I.rp2,Y=(E?I.z0:I.z1)[Y],te=I.fv,ne=I.pv,fe=fe.pop();switch(d.DEBUG&&console.log(I.step,"SHZ["+E+"]",fe),fe){case 0:N=I.tZone;break;case 1:N=I.gZone;break;default:throw new Error("Invalid zone")}for(var Ee=ne.distance(Y,Y,!1,!0),_e=N.length-2,Pe=0;Pe<_e;Pe++)B=N[Pe],te.setRelative(B,B,Ee,ne)}function Xo(E,I){var B=I.stack,N=B.pop()/64,B=B.pop(),Y=I.z1[B],te=I.z0[I.rp0],ne=I.fv,fe=I.pv;ne.setRelative(Y,te,N,fe),ne.touch(Y),d.DEBUG&&console.log(I.step,"MSIRP["+E+"]",N,B),I.rp1=I.rp0,I.rp2=B,E&&(I.rp0=B)}function fo(E,I){var N=I.stack,fe=N.pop(),N=N.pop(),B=I.z0[N],Y=I.fv,te=I.pv,ne=I.cvt[fe],fe=(d.DEBUG&&console.log(I.step,"MIAP["+E+"]",fe,"(",ne,")",N),te.distance(B,rs));E&&(Math.abs(fe-ne)<I.cvCutIn&&(fe=ne),fe=I.round(fe)),Y.setRelative(B,rs,fe,te),I.zp0===0&&(B.xo=B.x,B.yo=B.y),Y.touch(B),I.rp0=I.rp1=N}function Ua(E,I){var N=I.stack,B=N.pop(),Y=I.z2[B];d.DEBUG&&console.log(I.step,"GC["+E+"]",B),N.push(64*I.dpv.distance(Y,rs,E,!1))}function po(E,I){var B=I.stack,N=B.pop(),B=B.pop(),Y=I.z1[N],te=I.z0[B],te=I.dpv.distance(te,Y,E,E);d.DEBUG&&console.log(I.step,"MD["+E+"]",N,B,"->",te),I.stack.push(Math.round(64*te))}function Fa(E,I){var N=I.stack,B=N.pop(),Y=I.fv,te=I.pv,ne=I.ppem,fe=I.deltaBase+16*(E-1),Ee=I.deltaShift,_e=I.z0;d.DEBUG&&console.log(I.step,"DELTAP["+E+"]",B,N);for(var Pe=0;Pe<B;Pe++){var He=N.pop(),Ve=N.pop();fe+((240&Ve)>>4)===ne&&(0<=(Ve=(15&Ve)-8)&&Ve++,d.DEBUG&&console.log(I.step,"DELTAPFIX",He,"by",Ve*Ee),He=_e[He],Y.setRelative(He,He,Ve*Ee,te))}}function Fi(E,I){var N=I.stack,B=N.pop();d.DEBUG&&console.log(I.step,"ROUND[]"),N.push(64*I.round(B/64))}function wi(E,I){var N=I.stack,B=N.pop(),Y=I.ppem,te=I.deltaBase+16*(E-1),ne=I.deltaShift;d.DEBUG&&console.log(I.step,"DELTAC["+E+"]",B,N);for(var fe=0;fe<B;fe++){var Ee=N.pop(),_e=N.pop();te+((240&_e)>>4)===Y&&(0<=(_e=(15&_e)-8)&&_e++,_e=_e*ne,d.DEBUG&&console.log(I.step,"DELTACFIX",Ee,"by",_e),I.cvt[Ee]+=_e)}}function Va(E,I){var N,Y=I.stack,B=Y.pop(),Y=Y.pop(),te=I.z2[B],ne=I.z1[Y];d.DEBUG&&console.log(I.step,"SDPVTL["+E+"]",B,Y),B=E?(N=te.y-ne.y,ne.x-te.x):(N=ne.x-te.x,ne.y-te.y),I.dpv=bi(N,B)}function Ns(E,I){var N=I.stack,B=I.prog,Y=I.ip;d.DEBUG&&console.log(I.step,"PUSHB["+E+"]");for(var te=0;te<E;te++)N.push(B[++Y]);I.ip=Y}function xs(E,I){var N=I.ip,B=I.prog,Y=I.stack;d.DEBUG&&console.log(I.ip,"PUSHW["+E+"]");for(var te=0;te<E;te++){var ne=B[++N]<<8|B[++N];32768&ne&&(ne=-(1+(65535^ne))),Y.push(ne)}I.ip=N}function jt(E,I,N,B,Y,te){var ne,fe,_e=te.stack,Ee=E&&_e.pop(),_e=_e.pop(),Pe=te.rp0,Pe=te.z0[Pe],He=te.z1[_e],Ve=te.minDis,Re=te.fv,nt=te.dpv,$e=ne=nt.distance(He,Pe,!0,!0),Ze=0<=$e?1:-1;$e=Math.abs($e),E&&(fe=te.cvt[Ee],B&&Math.abs($e-fe)<te.cvCutIn&&($e=fe)),N&&$e<Ve&&($e=Ve),B&&($e=te.round($e)),Re.setRelative(He,Pe,Ze*$e,nt),Re.touch(He),d.DEBUG&&console.log(te.step,(E?"MIRP[":"MDRP[")+(I?"M":"m")+(N?">":"_")+(B?"R":"_")+(Y===0?"Gr":Y===1?"Bl":Y===2?"Wh":"")+"]",E?Ee+"("+te.cvt[Ee]+","+fe+")":"",_e,"(d =",ne,"->",Ze*$e,")"),te.rp1=te.rp0,te.rp2=_e,I&&(te.rp0=_e)}Ks.prototype.exec=function(E,I){if(typeof I!="number")throw new Error("Point size is not a number!");if(!(2<this._errorState)){var N=this.font,B=this._prepState;if(!B||B.ppem!==I){var Y=this._fpgmState;if(!Y){Ur.prototype=Da,(Y=this._fpgmState=new Ur("fpgm",N.tables.fpgm)).funcs=[],Y.font=N,d.DEBUG&&(console.log("---EXEC FPGM---"),Y.step=-1);try{xi(Y)}catch(_e){return console.log("Hinting error in FPGM:"+_e),void(this._errorState=3)}}Ur.prototype=Y,(B=this._prepState=new Ur("prep",N.tables.prep)).ppem=I;var te=N.tables.cvt;if(te)for(var ne=B.cvt=new Array(te.length),fe=I/N.unitsPerEm,Ee=0;Ee<te.length;Ee++)ne[Ee]=te[Ee]*fe;else B.cvt=[];d.DEBUG&&(console.log("---EXEC PREP---"),B.step=-1);try{xi(B)}catch(_e){this._errorState<2&&console.log("Hinting error in PREP:"+_e),this._errorState=2}}if(!(1<this._errorState))try{return Nl(E,B)}catch(_e){this._errorState<1&&(console.log("Hinting error:"+_e),console.log("Note: further hinting errors are silenced")),this._errorState=1}}};var Nl=function(E,I){var N=I.ppem/I.font.unitsPerEm,B=N,Y=E.components;if(Ur.prototype=I,Y){for(var te=I.font,ne=[],fe=[],Ee=0;Ee<Y.length;Ee++){var _e=Y[Ee],Pe=te.glyphs.get(_e.glyphIndex),He=new Ur("glyf",Pe.instructions);d.DEBUG&&(console.log("---EXEC COMP "+Ee+"---"),He.step=-1),mo(Pe,He,N,B);for(var Ve=Math.round(_e.dx*N),Re=Math.round(_e.dy*B),nt=He.gZone,$e=He.contours,Ze=0;Ze<nt.length;Ze++){var qe=nt[Ze];qe.xTouched=qe.yTouched=!1,qe.xo=qe.x=qe.x+Ve,qe.yo=qe.y=qe.y+Re}var We=ne.length;ne.push.apply(ne,nt);for(var At=0;At<$e.length;At++)fe.push($e[At]+We)}E.instructions&&!He.inhibitGridFit&&((He=new Ur("glyf",E.instructions)).gZone=He.z0=He.z1=He.z2=ne,He.contours=fe,ne.push(new yn(0,0),new yn(Math.round(E.advanceWidth*N),0)),d.DEBUG&&(console.log("---EXEC COMPOSITE---"),He.step=-1),xi(He),ne.length-=2)}else He=new Ur("glyf",E.instructions),d.DEBUG&&(console.log("---EXEC GLYPH---"),He.step=-1),mo(E,He,N,B),ne=He.gZone;return ne},mo=function(E,I,N,B){for(var Y,te,ne,fe=E.points||[],Ee=fe.length,_e=I.gZone=I.z0=I.z1=I.z2=[],Pe=I.contours=[],He=0;He<Ee;He++)Y=fe[He],_e[He]=new yn(Y.x*N,Y.y*B,Y.lastPointOfContour,Y.onCurve);for(var Ve=0;Ve<Ee;Ve++)Y=_e[Ve],te||(te=Y,Pe.push(Ve)),Y.lastPointOfContour?((Y.nextPointOnContour=te).prevPointOnContour=Y,te=void 0):(ne=_e[Ve+1],(Y.nextPointOnContour=ne).prevPointOnContour=Y);if(!I.inhibitGridFit){if(d.DEBUG){console.log("PROCESSING GLYPH",I.stack);for(var Re=0;Re<Ee;Re++)console.log(Re,_e[Re].x,_e[Re].y)}if(_e.push(new yn(0,0),new yn(Math.round(E.advanceWidth*N),0)),xi(I),_e.length-=2,d.DEBUG){console.log("FINISHED GLYPH",I.stack);for(var nt=0;nt<Ee;nt++)console.log(nt,_e[nt].x,_e[nt].y)}}},xi=function(E){var I=E.prog;if(I){var N,B=I.length;for(E.ip=0;E.ip<B;E.ip++){if(d.DEBUG&&E.step++,!(N=Ba[I[E.ip]]))throw new Error("unknown instruction: 0x"+Number(I[E.ip]).toString(16));N(E)}}},Ba=[Ni.bind(void 0,Ln),Ni.bind(void 0,dn),La.bind(void 0,Ln),La.bind(void 0,dn),uo.bind(void 0,Ln),uo.bind(void 0,dn),co.bind(void 0,0),co.bind(void 0,1),Ls.bind(void 0,0),Ls.bind(void 0,1),function(E){var I=(N=E.stack).pop(),N=N.pop();d.DEBUG&&console.log(E.step,"SPVFS[]",I,N),E.pv=E.dpv=bi(N,I)},function(E){var I=(N=E.stack).pop(),N=N.pop();d.DEBUG&&console.log(E.step,"SPVFS[]",I,N),E.fv=bi(N,I)},function(E){var I=E.stack,N=E.pv;d.DEBUG&&console.log(E.step,"GPV[]"),I.push(16384*N.x),I.push(16384*N.y)},function(E){var I=E.stack,N=E.fv;d.DEBUG&&console.log(E.step,"GFV[]"),I.push(16384*N.x),I.push(16384*N.y)},function(E){E.fv=E.pv,d.DEBUG&&console.log(E.step,"SFVTPV[]")},function(I){var N=(ne=I.stack).pop(),B=ne.pop(),Y=ne.pop(),te=ne.pop(),ne=ne.pop(),Ee=I.z0,Pe=I.z1,fe=Ee[N],Ee=Ee[B],_e=Pe[Y],Pe=Pe[te],I=I.z2[ne],N=(d.DEBUG&&console.log("ISECT[], ",N,B,Y,te,ne),fe.x),B=fe.y,Y=Ee.x,te=Ee.y,ne=_e.x,fe=_e.y,Ee=Pe.x,_e=Pe.y,Pe=(N-Y)*(fe-_e)-(B-te)*(ne-Ee),He=N*te-B*Y,Ve=ne*_e-fe*Ee;I.x=(He*(ne-Ee)-Ve*(N-Y))/Pe,I.y=(He*(fe-_e)-Ve*(B-te))/Pe},function(E){E.rp0=E.stack.pop(),d.DEBUG&&console.log(E.step,"SRP0[]",E.rp0)},function(E){E.rp1=E.stack.pop(),d.DEBUG&&console.log(E.step,"SRP1[]",E.rp1)},function(E){E.rp2=E.stack.pop(),d.DEBUG&&console.log(E.step,"SRP2[]",E.rp2)},function(E){var I=E.stack.pop();switch(d.DEBUG&&console.log(E.step,"SZP0[]",I),E.zp0=I){case 0:E.tZone||lr(E),E.z0=E.tZone;break;case 1:E.z0=E.gZone;break;default:throw new Error("Invalid zone pointer")}},function(E){var I=E.stack.pop();switch(d.DEBUG&&console.log(E.step,"SZP1[]",I),E.zp1=I){case 0:E.tZone||lr(E),E.z1=E.tZone;break;case 1:E.z1=E.gZone;break;default:throw new Error("Invalid zone pointer")}},function(E){var I=E.stack.pop();switch(d.DEBUG&&console.log(E.step,"SZP2[]",I),E.zp2=I){case 0:E.tZone||lr(E),E.z2=E.tZone;break;case 1:E.z2=E.gZone;break;default:throw new Error("Invalid zone pointer")}},function(E){var I=E.stack.pop();switch(d.DEBUG&&console.log(E.step,"SZPS[]",I),E.zp0=E.zp1=E.zp2=I){case 0:E.tZone||lr(E),E.z0=E.z1=E.z2=E.tZone;break;case 1:E.z0=E.z1=E.z2=E.gZone;break;default:throw new Error("Invalid zone pointer")}},function(E){E.loop=E.stack.pop(),d.DEBUG&&console.log(E.step,"SLOOP[]",E.loop)},function(E){d.DEBUG&&console.log(E.step,"RTG[]"),E.round=Qs},function(E){d.DEBUG&&console.log(E.step,"RTHG[]"),E.round=Dl},function(E){var I=E.stack.pop();d.DEBUG&&console.log(E.step,"SMD[]",I),E.minDis=I/64},function(E){d.DEBUG&&console.log(E.step,"ELSE[]"),lo(E,!1)},function(E){var I=E.stack.pop();d.DEBUG&&console.log(E.step,"JMPR[]",I),E.ip+=I-1},function(E){var I=E.stack.pop();d.DEBUG&&console.log(E.step,"SCVTCI[]",I),E.cvCutIn=I/64},void 0,void 0,function(E){var I=E.stack;d.DEBUG&&console.log(E.step,"DUP[]"),I.push(I[I.length-1])},_i,function(E){d.DEBUG&&console.log(E.step,"CLEAR[]"),E.stack.length=0},function(E){var I=E.stack,N=I.pop(),B=I.pop();d.DEBUG&&console.log(E.step,"SWAP[]"),I.push(N),I.push(B)},function(E){var I=E.stack;d.DEBUG&&console.log(E.step,"DEPTH[]"),I.push(I.length)},function(E){var I=E.stack,N=I.pop();d.DEBUG&&console.log(E.step,"CINDEX[]",N),I.push(I[I.length-N])},function(E){var I=E.stack,N=I.pop();d.DEBUG&&console.log(E.step,"MINDEX[]",N),I.push(I.splice(I.length-N,1)[0])},void 0,void 0,void 0,function(E){var I=(B=E.stack).pop(),N=B.pop(),B=(d.DEBUG&&console.log(E.step,"LOOPCALL[]",I,N),E.ip),Y=E.prog;E.prog=E.funcs[I];for(var te=0;te<N;te++)xi(E),d.DEBUG&&console.log(++E.step,te+1<N?"next loopcall":"done loopcall",te);E.ip=B,E.prog=Y},function(E){var I=E.stack.pop(),N=(d.DEBUG&&console.log(E.step,"CALL[]",I),E.ip),B=E.prog;E.prog=E.funcs[I],xi(E),E.ip=N,E.prog=B,d.DEBUG&&console.log(++E.step,"returning from",I)},function(E){if(E.env!=="fpgm")throw new Error("FDEF not allowed here");var B=E.stack,I=E.prog,N=E.ip,B=B.pop(),Y=N;for(d.DEBUG&&console.log(E.step,"FDEF[]",B);I[++N]!==45;);E.ip=N,E.funcs[B]=I.slice(Y+1,N)},void 0,ps.bind(void 0,0),ps.bind(void 0,1),Na.bind(void 0,Ln),Na.bind(void 0,dn),Ll.bind(void 0,0),Ll.bind(void 0,1),Ui.bind(void 0,0),Ui.bind(void 0,1),ho.bind(void 0,0),ho.bind(void 0,1),function(E){for(var I=E.stack,N=E.loop,B=E.fv,Y=I.pop()/64,te=E.z2;N--;){var ne=I.pop(),fe=te[ne];d.DEBUG&&console.log(E.step,(1<E.loop?"loop "+(E.loop-N)+": ":"")+"SHPIX[]",ne,Y),B.setRelative(fe,fe,Y),B.touch(fe)}E.loop=1},function(E){for(var I=E.stack,N=E.rp1,B=E.rp2,Y=E.loop,te=E.z0[N],ne=E.z1[B],fe=E.fv,Ee=E.dpv,_e=E.z2;Y--;){var Pe=I.pop(),He=_e[Pe];d.DEBUG&&console.log(E.step,(1<E.loop?"loop "+(E.loop-Y)+": ":"")+"IP[]",Pe,N,"<->",B),fe.interpolate(He,te,ne,Ee),fe.touch(He)}E.loop=1},Xo.bind(void 0,0),Xo.bind(void 0,1),function(E){for(var I=E.stack,N=E.rp0,B=E.z0[N],Y=E.loop,te=E.fv,ne=E.pv,fe=E.z1;Y--;){var Ee=I.pop(),_e=fe[Ee];d.DEBUG&&console.log(E.step,(1<E.loop?"loop "+(E.loop-Y)+": ":"")+"ALIGNRP[]",Ee),te.setRelative(_e,B,0,ne),te.touch(_e)}E.loop=1},function(E){d.DEBUG&&console.log(E.step,"RTDG[]"),E.round=Pa},fo.bind(void 0,0),fo.bind(void 0,1),function(E){var I=E.prog,N=E.ip,B=E.stack,Y=I[++N];d.DEBUG&&console.log(E.step,"NPUSHB[]",Y);for(var te=0;te<Y;te++)B.push(I[++N]);E.ip=N},function(E){var I=E.ip,N=E.prog,B=E.stack,Y=N[++I];d.DEBUG&&console.log(E.step,"NPUSHW[]",Y);for(var te=0;te<Y;te++){var ne=N[++I]<<8|N[++I];32768&ne&&(ne=-(1+(65535^ne))),B.push(ne)}E.ip=I},function(E){var B=E.stack,I=(I=E.store)||(E.store=[]),N=B.pop(),B=B.pop();d.DEBUG&&console.log(E.step,"WS",N,B),I[B]=N},function(Y){var I=Y.stack,N=Y.store,B=I.pop(),Y=(d.DEBUG&&console.log(Y.step,"RS",B),N&&N[B]||0);I.push(Y)},function(E){var I=(N=E.stack).pop(),N=N.pop();d.DEBUG&&console.log(E.step,"WCVTP",I,N),E.cvt[N]=I/64},function(E){var I=E.stack,N=I.pop();d.DEBUG&&console.log(E.step,"RCVT",N),I.push(64*E.cvt[N])},Ua.bind(void 0,0),Ua.bind(void 0,1),void 0,po.bind(void 0,0),po.bind(void 0,1),function(E){d.DEBUG&&console.log(E.step,"MPPEM[]"),E.stack.push(E.ppem)},void 0,function(E){d.DEBUG&&console.log(E.step,"FLIPON[]"),E.autoFlip=!0},void 0,void 0,function(E){var I=E.stack,N=I.pop(),B=I.pop();d.DEBUG&&console.log(E.step,"LT[]",N,B),I.push(B<N?1:0)},function(E){var I=E.stack,N=I.pop(),B=I.pop();d.DEBUG&&console.log(E.step,"LTEQ[]",N,B),I.push(B<=N?1:0)},function(E){var I=E.stack,N=I.pop(),B=I.pop();d.DEBUG&&console.log(E.step,"GT[]",N,B),I.push(N<B?1:0)},function(E){var I=E.stack,N=I.pop(),B=I.pop();d.DEBUG&&console.log(E.step,"GTEQ[]",N,B),I.push(N<=B?1:0)},function(E){var I=E.stack,N=I.pop(),B=I.pop();d.DEBUG&&console.log(E.step,"EQ[]",N,B),I.push(N===B?1:0)},function(E){var I=E.stack,N=I.pop(),B=I.pop();d.DEBUG&&console.log(E.step,"NEQ[]",N,B),I.push(N!==B?1:0)},function(E){var I=E.stack,N=I.pop();d.DEBUG&&console.log(E.step,"ODD[]",N),I.push(Math.trunc(N)%2?1:0)},function(E){var I=E.stack,N=I.pop();d.DEBUG&&console.log(E.step,"EVEN[]",N),I.push(Math.trunc(N)%2?0:1)},function(E){var I=E.stack.pop();d.DEBUG&&console.log(E.step,"IF[]",I),I||(lo(E,!0),d.DEBUG&&console.log(E.step,"EIF[]"))},function(E){d.DEBUG&&console.log(E.step,"EIF[]")},function(E){var I=E.stack,N=I.pop(),B=I.pop();d.DEBUG&&console.log(E.step,"AND[]",N,B),I.push(N&&B?1:0)},function(E){var I=E.stack,N=I.pop(),B=I.pop();d.DEBUG&&console.log(E.step,"OR[]",N,B),I.push(N||B?1:0)},function(E){var I=E.stack,N=I.pop();d.DEBUG&&console.log(E.step,"NOT[]",N),I.push(N?0:1)},Fa.bind(void 0,1),function(E){var I=E.stack.pop();d.DEBUG&&console.log(E.step,"SDB[]",I),E.deltaBase=I},function(E){var I=E.stack.pop();d.DEBUG&&console.log(E.step,"SDS[]",I),E.deltaShift=Math.pow(.5,I)},function(E){var I=E.stack,N=I.pop(),B=I.pop();d.DEBUG&&console.log(E.step,"ADD[]",N,B),I.push(B+N)},function(E){var I=E.stack,N=I.pop(),B=I.pop();d.DEBUG&&console.log(E.step,"SUB[]",N,B),I.push(B-N)},function(E){var I=E.stack,N=I.pop(),B=I.pop();d.DEBUG&&console.log(E.step,"DIV[]",N,B),I.push(64*B/N)},function(E){var I=E.stack,N=I.pop(),B=I.pop();d.DEBUG&&console.log(E.step,"MUL[]",N,B),I.push(B*N/64)},function(E){var I=E.stack,N=I.pop();d.DEBUG&&console.log(E.step,"ABS[]",N),I.push(Math.abs(N))},function(E){var I=E.stack,N=I.pop();d.DEBUG&&console.log(E.step,"NEG[]",N),I.push(-N)},function(E){var I=E.stack,N=I.pop();d.DEBUG&&console.log(E.step,"FLOOR[]",N),I.push(64*Math.floor(N/64))},function(E){var I=E.stack,N=I.pop();d.DEBUG&&console.log(E.step,"CEILING[]",N),I.push(64*Math.ceil(N/64))},Fi.bind(void 0,0),Fi.bind(void 0,1),Fi.bind(void 0,2),Fi.bind(void 0,3),void 0,void 0,void 0,void 0,function(E){var I=(N=E.stack).pop(),N=N.pop();d.DEBUG&&console.log(E.step,"WCVTF[]",I,N),E.cvt[N]=I*E.ppem/E.font.unitsPerEm},Fa.bind(void 0,2),Fa.bind(void 0,3),wi.bind(void 0,1),wi.bind(void 0,2),wi.bind(void 0,3),function(E){var I,N=E.stack.pop();switch(d.DEBUG&&console.log(E.step,"SROUND[]",N),E.round=Li,192&N){case 0:I=.5;break;case 64:I=1;break;case 128:I=2;break;default:throw new Error("invalid SROUND value")}switch(E.srPeriod=I,48&N){case 0:E.srPhase=0;break;case 16:E.srPhase=.25*I;break;case 32:E.srPhase=.5*I;break;case 48:E.srPhase=.75*I;break;default:throw new Error("invalid SROUND value")}E.srThreshold=(N&=15)===0?0:(N/8-.5)*I},function(E){var I,N=E.stack.pop();switch(d.DEBUG&&console.log(E.step,"S45ROUND[]",N),E.round=Li,192&N){case 0:I=Math.sqrt(2)/2;break;case 64:I=Math.sqrt(2);break;case 128:I=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(E.srPeriod=I,48&N){case 0:E.srPhase=0;break;case 16:E.srPhase=.25*I;break;case 32:E.srPhase=.5*I;break;case 48:E.srPhase=.75*I;break;default:throw new Error("invalid S45ROUND value")}E.srThreshold=(N&=15)===0?0:(N/8-.5)*I},void 0,void 0,function(E){d.DEBUG&&console.log(E.step,"ROFF[]"),E.round=vi},void 0,function(E){d.DEBUG&&console.log(E.step,"RUTG[]"),E.round=ao},function(E){d.DEBUG&&console.log(E.step,"RDTG[]"),E.round=ws},_i,_i,void 0,void 0,void 0,void 0,void 0,function(E){var I=E.stack.pop();d.DEBUG&&console.log(E.step,"SCANCTRL[]",I)},Va.bind(void 0,0),Va.bind(void 0,1),function(E){var I=E.stack,N=I.pop(),B=0;d.DEBUG&&console.log(E.step,"GETINFO[]",N),1&N&&(B=35),32&N&&(B|=4096),I.push(B)},void 0,function(E){var I=E.stack,N=I.pop(),B=I.pop(),Y=I.pop();d.DEBUG&&console.log(E.step,"ROLL[]"),I.push(B),I.push(N),I.push(Y)},function(E){var I=E.stack,N=I.pop(),B=I.pop();d.DEBUG&&console.log(E.step,"MAX[]",N,B),I.push(Math.max(B,N))},function(E){var I=E.stack,N=I.pop(),B=I.pop();d.DEBUG&&console.log(E.step,"MIN[]",N,B),I.push(Math.min(B,N))},function(E){var I=E.stack.pop();d.DEBUG&&console.log(E.step,"SCANTYPE[]",I)},function(E){var I=E.stack.pop(),N=E.stack.pop();switch(d.DEBUG&&console.log(E.step,"INSTCTRL[]",I,N),I){case 1:return void(E.inhibitGridFit=!!N);case 2:return void(E.ignoreCvt=!!N);default:throw new Error("invalid INSTCTRL[] selector")}},void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,Ns.bind(void 0,1),Ns.bind(void 0,2),Ns.bind(void 0,3),Ns.bind(void 0,4),Ns.bind(void 0,5),Ns.bind(void 0,6),Ns.bind(void 0,7),Ns.bind(void 0,8),xs.bind(void 0,1),xs.bind(void 0,2),xs.bind(void 0,3),xs.bind(void 0,4),xs.bind(void 0,5),xs.bind(void 0,6),xs.bind(void 0,7),xs.bind(void 0,8),jt.bind(void 0,0,0,0,0,0),jt.bind(void 0,0,0,0,0,1),jt.bind(void 0,0,0,0,0,2),jt.bind(void 0,0,0,0,0,3),jt.bind(void 0,0,0,0,1,0),jt.bind(void 0,0,0,0,1,1),jt.bind(void 0,0,0,0,1,2),jt.bind(void 0,0,0,0,1,3),jt.bind(void 0,0,0,1,0,0),jt.bind(void 0,0,0,1,0,1),jt.bind(void 0,0,0,1,0,2),jt.bind(void 0,0,0,1,0,3),jt.bind(void 0,0,0,1,1,0),jt.bind(void 0,0,0,1,1,1),jt.bind(void 0,0,0,1,1,2),jt.bind(void 0,0,0,1,1,3),jt.bind(void 0,0,1,0,0,0),jt.bind(void 0,0,1,0,0,1),jt.bind(void 0,0,1,0,0,2),jt.bind(void 0,0,1,0,0,3),jt.bind(void 0,0,1,0,1,0),jt.bind(void 0,0,1,0,1,1),jt.bind(void 0,0,1,0,1,2),jt.bind(void 0,0,1,0,1,3),jt.bind(void 0,0,1,1,0,0),jt.bind(void 0,0,1,1,0,1),jt.bind(void 0,0,1,1,0,2),jt.bind(void 0,0,1,1,0,3),jt.bind(void 0,0,1,1,1,0),jt.bind(void 0,0,1,1,1,1),jt.bind(void 0,0,1,1,1,2),jt.bind(void 0,0,1,1,1,3),jt.bind(void 0,1,0,0,0,0),jt.bind(void 0,1,0,0,0,1),jt.bind(void 0,1,0,0,0,2),jt.bind(void 0,1,0,0,0,3),jt.bind(void 0,1,0,0,1,0),jt.bind(void 0,1,0,0,1,1),jt.bind(void 0,1,0,0,1,2),jt.bind(void 0,1,0,0,1,3),jt.bind(void 0,1,0,1,0,0),jt.bind(void 0,1,0,1,0,1),jt.bind(void 0,1,0,1,0,2),jt.bind(void 0,1,0,1,0,3),jt.bind(void 0,1,0,1,1,0),jt.bind(void 0,1,0,1,1,1),jt.bind(void 0,1,0,1,1,2),jt.bind(void 0,1,0,1,1,3),jt.bind(void 0,1,1,0,0,0),jt.bind(void 0,1,1,0,0,1),jt.bind(void 0,1,1,0,0,2),jt.bind(void 0,1,1,0,0,3),jt.bind(void 0,1,1,0,1,0),jt.bind(void 0,1,1,0,1,1),jt.bind(void 0,1,1,0,1,2),jt.bind(void 0,1,1,0,1,3),jt.bind(void 0,1,1,1,0,0),jt.bind(void 0,1,1,1,0,1),jt.bind(void 0,1,1,1,0,2),jt.bind(void 0,1,1,1,0,3),jt.bind(void 0,1,1,1,1,0),jt.bind(void 0,1,1,1,1,1),jt.bind(void 0,1,1,1,1,2),jt.bind(void 0,1,1,1,1,3)],Si=Array.from||function(E){return E.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]?|[^\uD800-\uDFFF]|./g)||[]};function yr(E){(E=E||{}).empty||(yi(E.familyName,"When creating a new Font object, familyName is required."),yi(E.styleName,"When creating a new Font object, styleName is required."),yi(E.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),yi(E.ascender,"When creating a new Font object, ascender is required."),yi(E.descender,"When creating a new Font object, descender is required."),yi(E.descender<0,"Descender should be negative (e.g. -512)."),this.names={fontFamily:{en:E.familyName||" "},fontSubfamily:{en:E.styleName||" "},fullName:{en:E.fullName||E.familyName+" "+E.styleName},postScriptName:{en:E.postScriptName||(E.familyName+E.styleName).replace(/\s/g,"")},designer:{en:E.designer||" "},designerURL:{en:E.designerURL||" "},manufacturer:{en:E.manufacturer||" "},manufacturerURL:{en:E.manufacturerURL||" "},license:{en:E.license||" "},licenseURL:{en:E.licenseURL||" "},version:{en:E.version||"Version 0.1"},description:{en:E.description||" "},copyright:{en:E.copyright||" "},trademark:{en:E.trademark||" "}},this.unitsPerEm=E.unitsPerEm||1e3,this.ascender=E.ascender,this.descender=E.descender,this.createdTimestamp=E.createdTimestamp,this.tables={os2:{usWeightClass:E.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:E.widthClass||this.usWidthClasses.MEDIUM,fsSelection:E.fsSelection||this.fsSelectionValues.REGULAR}}),this.supported=!0,this.glyphs=new St.GlyphSet(this,E.glyphs||[]),this.encoding=new Ne(this),this.position=new Ps(this),this.substitution=new en(this),this.tables=this.tables||{},Object.defineProperty(this,"hinting",{get:function(){return this._hinting||(this.outlinesFormat==="truetype"?this._hinting=new Ks(this):void 0)}})}function Ga(E,I){var N,B=JSON.stringify(E),Y=256;for(N in I){var te=parseInt(N);if(te&&!(te<256)){if(JSON.stringify(I[N])===B)return te;Y<=te&&(Y=te+1)}}return I[Y]=E,Y}yr.prototype.hasChar=function(E){return this.encoding.charToGlyphIndex(E)!==null},yr.prototype.charToGlyphIndex=function(E){return this.encoding.charToGlyphIndex(E)},yr.prototype.charToGlyph=function(E){return E=this.charToGlyphIndex(E),this.glyphs.get(E)||this.glyphs.get(0)},yr.prototype.stringToGlyphs=function(E,I){I=I||this.defaultRenderOptions;for(var N=Si(E),B=[],Y=0;Y<N.length;Y+=1){var te=N[Y];B.push(this.charToGlyphIndex(te))}var ne=B.length;if(I.features){var E=I.script||this.substitution.getDefaultScriptName(),fe=[];I.features.liga&&(fe=fe.concat(this.substitution.getFeature("liga",E,I.language))),I.features.rlig&&(fe=fe.concat(this.substitution.getFeature("rlig",E,I.language)));for(var Ee=0;Ee<ne;Ee+=1)for(var _e=0;_e<fe.length;_e++){for(var Pe=fe[_e],He=Pe.sub,Ve=He.length,Re=0;Re<Ve&&He[Re]===B[Ee+Re];)Re++;Re===Ve&&(B.splice(Ee,Ve,Pe.by),ne=ne-Ve+1)}}for(var nt=new Array(ne),$e=this.glyphs.get(0),Ze=0;Ze<ne;Ze+=1)nt[Ze]=this.glyphs.get(B[Ze])||$e;return nt},yr.prototype.nameToGlyphIndex=function(E){return this.glyphNames.nameToGlyphIndex(E)},yr.prototype.nameToGlyph=function(E){return E=this.nameToGlyphIndex(E),this.glyphs.get(E)||this.glyphs.get(0)},yr.prototype.glyphIndexToName=function(E){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(E):""},yr.prototype.getKerningValue=function(E,I){E=E.index||E,I=I.index||I;var N=this.position.defaultKerningTables;return N?this.position.getKerningValue(N,E,I):this.kerningPairs[E+","+I]||0},yr.prototype.defaultRenderOptions={kerning:!0,features:{liga:!0,rlig:!0}},yr.prototype.forEachGlyph=function(E,I,N,B,Y,te){I=I!==void 0?I:0,N=N!==void 0?N:0,Y=Y||this.defaultRenderOptions;var ne,fe=1/this.unitsPerEm*(B=B!==void 0?B:72),Ee=this.stringToGlyphs(E,Y);Y.kerning&&(E=Y.script||this.position.getDefaultScriptName(),ne=this.position.getKerningTables(E,Y.language));for(var _e=0;_e<Ee.length;_e+=1){var Pe=Ee[_e];te.call(this,Pe,I,N,B,Y),Pe.advanceWidth&&(I+=Pe.advanceWidth*fe),Y.kerning&&_e<Ee.length-1&&(I+=(ne?this.position.getKerningValue(ne,Pe.index,Ee[_e+1].index):this.getKerningValue(Pe,Ee[_e+1]))*fe),Y.letterSpacing?I+=Y.letterSpacing*B:Y.tracking&&(I+=Y.tracking/1e3*B)}return I},yr.prototype.getPath=function(E,I,N,B,Y){var te=new se;return this.forEachGlyph(E,I,N,B,Y,function(ne,fe,Ee,_e){ne=ne.getPath(fe,Ee,_e,Y,this),te.extend(ne)}),te},yr.prototype.getPaths=function(E,I,N,B,Y){var te=[];return this.forEachGlyph(E,I,N,B,Y,function(ne,fe,Ee,_e){ne=ne.getPath(fe,Ee,_e,Y,this),te.push(ne)}),te},yr.prototype.getAdvanceWidth=function(E,I,N){return this.forEachGlyph(E,0,0,I,N,function(){})},yr.prototype.draw=function(E,I,N,B,Y,te){this.getPath(I,N,B,Y,te).draw(E)},yr.prototype.drawPoints=function(E,I,N,B,Y,te){this.forEachGlyph(I,N,B,Y,te,function(ne,fe,Ee,_e){ne.drawPoints(E,fe,Ee,_e)})},yr.prototype.drawMetrics=function(E,I,N,B,Y,te){this.forEachGlyph(I,N,B,Y,te,function(ne,fe,Ee,_e){ne.drawMetrics(E,fe,Ee,_e)})},yr.prototype.getEnglishName=function(E){if(E=this.names[E],E)return E.en},yr.prototype.validate=function(){var E=this;function I(N){N=E.getEnglishName(N),N&&N.trim().length}I("fontFamily"),I("weightName"),I("manufacturer"),I("copyright"),I("version"),this.unitsPerEm},yr.prototype.toTables=function(){return Di.fontToTable(this)},yr.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()},yr.prototype.toArrayBuffer=function(){for(var E=this.toTables().encode(),I=new ArrayBuffer(E.length),N=new Uint8Array(I),B=0;B<E.length;B++)N[B]=E[B];return I},yr.prototype.download=function(E){var I=this.getEnglishName("fontFamily"),N=this.getEnglishName("fontSubfamily"),B=(E=E||I.replace(/\s/g,"")+"-"+N+".otf",this.toArrayBuffer());typeof window<"u"?(window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,window.requestFileSystem(window.TEMPORARY,B.byteLength,function(Y){Y.root.getFile(E,{create:!0},function(te){te.createWriter(function(ne){var fe=new DataView(B),fe=new Blob([fe],{type:"font/opentype"});ne.write(fe),ne.addEventListener("writeend",function(){location.href=te.toURL()},!1)})})},function(Y){throw new Error(Y.name+": "+Y.message)})):(I=t("fs"),N=function(Y){for(var te=new l(Y.byteLength),ne=new Uint8Array(Y),fe=0;fe<te.length;++fe)te[fe]=ne[fe];return te}(B),I.writeFileSync(E,N))},yr.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512},yr.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9},yr.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var Ul={make:function(E,I){var N=new Ue.Table("fvar",[{name:"version",type:"ULONG",value:65536},{name:"offsetToData",type:"USHORT",value:0},{name:"countSizePairs",type:"USHORT",value:2},{name:"axisCount",type:"USHORT",value:E.axes.length},{name:"axisSize",type:"USHORT",value:20},{name:"instanceCount",type:"USHORT",value:E.instances.length},{name:"instanceSize",type:"USHORT",value:4+4*E.axes.length}]);N.offsetToData=N.sizeOf();for(var B,Y,te,ne=0;ne<E.axes.length;ne++)N.fields=N.fields.concat((B=ne,Y=E.axes[ne],te=I,te=Ga(Y.name,I),[{name:"tag_"+B,type:"TAG",value:Y.tag},{name:"minValue_"+B,type:"FIXED",value:Y.minValue<<16},{name:"defaultValue_"+B,type:"FIXED",value:Y.defaultValue<<16},{name:"maxValue_"+B,type:"FIXED",value:Y.maxValue<<16},{name:"flags_"+B,type:"USHORT",value:0},{name:"nameID_"+B,type:"USHORT",value:te}]));for(var fe=0;fe<E.instances.length;fe++)N.fields=N.fields.concat(function(Ee,_e,Pe,He){for(var Ve=[{name:"nameID_"+Ee,type:"USHORT",value:Ga(_e.name,He)},{name:"flags_"+Ee,type:"USHORT",value:0}],Re=0;Re<Pe.length;++Re){var nt=Pe[Re].tag;Ve.push({name:"axis_"+Ee+" "+nt,type:"FIXED",value:_e.coordinates[nt]<<16})}return Ve}(fe,E.instances[fe],E.axes,I));return N},parse:function(E,I,N){for(var B,Y,te,ne,fe=new Be.Parser(E,I),Ee=fe.parseULong(),_e=(G.argument(Ee===65536,"Unsupported fvar table version."),fe.parseOffset16()),Pe=(fe.skip("uShort",1),fe.parseUShort()),He=fe.parseUShort(),Ve=fe.parseUShort(),Re=fe.parseUShort(),nt=[],$e=0;$e<Pe;$e++)nt.push((B=E,Y=I+_e+$e*He,te=N,ne={},B=new Be.Parser(B,Y),ne.tag=B.parseTag(),ne.minValue=B.parseFixed(),ne.defaultValue=B.parseFixed(),ne.maxValue=B.parseFixed(),B.skip("uShort",1),ne.name=te[B.parseUShort()]||{},ne));for(var Ze=[],qe=I+_e+Pe*He,We=0;We<Ve;We++)Ze.push(function(At,Wt,Ot,Mt){var Jt={},Mr=new Be.Parser(At,Wt);Jt.name=Mt[Mr.parseUShort()]||{},Mr.skip("uShort",1),Jt.coordinates={};for(var ir=0;ir<Ot.length;++ir)Jt.coordinates[Ot[ir].tag]=Mr.parseFixed();return Jt}(E,qe+We*Re,nt,N));return{axes:nt,instances:Ze}}},ns=new Array(10);ns[1]=function(){var E=this.offset+this.relativeOffset,I=this.parseUShort();return I===1?{posFormat:1,coverage:this.parsePointer(Le.coverage),value:this.parseValueRecord()}:I===2?{posFormat:2,coverage:this.parsePointer(Le.coverage),values:this.parseValueRecordList()}:void G.assert(!1,"0x"+E.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")},ns[2]=function(){var E,I,N,B,te=this.offset+this.relativeOffset,Y=this.parseUShort(),te=(G.assert(Y===1||Y===2,"0x"+te.toString(16)+": GPOS lookup type 2 format must be 1 or 2."),this.parsePointer(Le.coverage)),ne=this.parseUShort(),fe=this.parseUShort();return Y===1?{posFormat:Y,coverage:te,valueFormat1:ne,valueFormat2:fe,pairSets:this.parseList(Le.pointer(Le.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(ne),value2:this.parseValueRecord(fe)}})))}:Y===2?(E=this.parsePointer(Le.classDef),I=this.parsePointer(Le.classDef),N=this.parseUShort(),B=this.parseUShort(),{posFormat:Y,coverage:te,valueFormat1:ne,valueFormat2:fe,classDef1:E,classDef2:I,class1Count:N,class2Count:B,classRecords:this.parseList(N,Le.list(B,function(){return{value1:this.parseValueRecord(ne),value2:this.parseValueRecord(fe)}}))}):void 0},ns[3]=function(){return{error:"GPOS Lookup 3 not supported"}},ns[4]=function(){return{error:"GPOS Lookup 4 not supported"}},ns[5]=function(){return{error:"GPOS Lookup 5 not supported"}},ns[6]=function(){return{error:"GPOS Lookup 6 not supported"}},ns[7]=function(){return{error:"GPOS Lookup 7 not supported"}},ns[8]=function(){return{error:"GPOS Lookup 8 not supported"}},ns[9]=function(){return{error:"GPOS Lookup 9 not supported"}};var $o=new Array(10),Hn={parse:function(E,I){return I=(E=new Le(E,I=I||0)).parseVersion(1),G.argument(I===1||I===1.1,"Unsupported GPOS table version "+I),I===1?{version:I,scripts:E.parseScriptList(),features:E.parseFeatureList(),lookups:E.parseLookupList(ns)}:{version:I,scripts:E.parseScriptList(),features:E.parseFeatureList(),lookups:E.parseLookupList(ns),variations:E.parseFeatureVariationsList()}},make:function(E){return new Ue.Table("GPOS",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Ue.ScriptList(E.scripts)},{name:"features",type:"TABLE",value:new Ue.FeatureList(E.features)},{name:"lookups",type:"TABLE",value:new Ue.LookupList(E.lookups,$o)}])}},Fl={parse:function(E,I){if(E=new Be.Parser(E,I),(I=E.parseUShort())===0){var N=E,B={},He=(N.skip("uShort"),N.parseUShort()),Y=(G.argument(He===0,"Unsupported kern sub-table version."),N.skip("uShort",2),N.parseUShort());N.skip("uShort",3);for(var te=0;te<Y;te+=1){var ne=N.parseUShort(),fe=N.parseUShort(),Ee=N.parseShort();B[ne+","+fe]=Ee}return B}if(I!==1)throw new Error("Unsupported kern table version ("+I+").");var _e=E,Pe={},He=(_e.skip("uShort"),1<_e.parseULong()&&console.warn("Only the first kern subtable is supported."),_e.skip("uLong"),255&_e.parseUShort());if(_e.skip("uShort"),He==0){var Ve=_e.parseUShort();_e.skip("uShort",3);for(var Re=0;Re<Ve;Re+=1){var nt=_e.parseUShort(),$e=_e.parseUShort(),Ze=_e.parseShort();Pe[nt+","+$e]=Ze}}return Pe}},Vl={parse:function(E,I,N,B){for(var Y=new Be.Parser(E,I),te=B?Y.parseUShort:Y.parseULong,ne=[],fe=0;fe<N+1;fe+=1){var Ee=te.call(Y);B&&(Ee*=2),ne.push(Ee)}return ne}};function Zs(E,I){t("fs").readFile(E,function(N,B){if(N)return I(N.message);I(null,Wo(B))})}function U(E,I){var N=new XMLHttpRequest;N.open("get",E,!0),N.responseType="arraybuffer",N.onload=function(){return N.response?I(null,N.response):I("Font could not be loaded: "+N.statusText)},N.onerror=function(){I("Font could not be loaded")},N.send()}function re(E,I){for(var N=[],B=12,Y=0;Y<I;Y+=1){var te=Be.getTag(E,B),ne=Be.getULong(E,B+4),fe=Be.getULong(E,B+8),Ee=Be.getULong(E,B+12);N.push({tag:te,checksum:ne,offset:fe,length:Ee,compression:!1}),B+=16}return N}function oe(N,I){if(I.compression!=="WOFF")return{data:N,offset:I.offset};var N=new Uint8Array(N.buffer,I.offset+2,I.compressedLength-2),B=new Uint8Array(I.length);if(J(N,B),B.byteLength!==I.length)throw new Error("Decompression error: "+I.tag+" decompressed length doesn't match recorded length");return{data:new DataView(B.buffer,0),offset:0}}function we(We){var I,N,B,Y,te,ne,fe,Ee,_e,Pe,He,Ve,Re,nt,$e=new yr({empty:!0}),Ze=new DataView(We,0),qe=[],We=Be.getTag(Ze,0);if(We==="\0\0\0"||We==="true"||We==="typ1")$e.outlinesFormat="truetype",qe=re(Ze,B=Be.getUShort(Ze,4));else if(We==="OTTO")$e.outlinesFormat="cff",qe=re(Ze,B=Be.getUShort(Ze,4));else{if(We!=="wOFF")throw new Error("Unsupported OpenType signature "+We);var At=Be.getTag(Ze,4);if(At==="\0\0\0")$e.outlinesFormat="truetype";else{if(At!=="OTTO")throw new Error("Unsupported OpenType flavor "+We);$e.outlinesFormat="cff"}qe=function(Rr,wr){for(var Nn=[],Cr=44,hn=0;hn<wr;hn+=1){var xr=Be.getTag(Rr,Cr),sn=Be.getULong(Rr,Cr+4),Ko=Be.getULong(Rr,Cr+8),js=Be.getULong(Rr,Cr+12),go=void 0,go=Ko<js&&"WOFF";Nn.push({tag:xr,offset:sn,compression:go,compressedLength:Ko,length:js}),Cr+=20}return Nn}(Ze,B=Be.getUShort(Ze,12))}for(var Wt=0;Wt<B;Wt+=1){var Ot=qe[Wt],Mt=void 0;switch(Ot.tag){case"cmap":Mt=oe(Ze,Ot),$e.tables.cmap=de.parse(Mt.data,Mt.offset),$e.encoding=new Xe($e.tables.cmap);break;case"cvt ":Mt=oe(Ze,Ot),nt=new Be.Parser(Mt.data,Mt.offset),$e.tables.cvt=nt.parseShortList(Ot.length/2);break;case"fvar":te=Ot;break;case"fpgm":Mt=oe(Ze,Ot),nt=new Be.Parser(Mt.data,Mt.offset),$e.tables.fpgm=nt.parseByteList(Ot.length);break;case"head":Mt=oe(Ze,Ot),$e.tables.head=Ys.parse(Mt.data,Mt.offset),$e.unitsPerEm=$e.tables.head.unitsPerEm,I=$e.tables.head.indexToLocFormat;break;case"hhea":Mt=oe(Ze,Ot),$e.tables.hhea=Ae.parse(Mt.data,Mt.offset),$e.ascender=$e.tables.hhea.ascender,$e.descender=$e.tables.hhea.descender,$e.numberOfHMetrics=$e.tables.hhea.numberOfHMetrics;break;case"hmtx":_e=Ot;break;case"ltag":Mt=oe(Ze,Ot),N=wt.parse(Mt.data,Mt.offset);break;case"maxp":Mt=oe(Ze,Ot),$e.tables.maxp=ot.parse(Mt.data,Mt.offset),$e.numGlyphs=$e.tables.maxp.numGlyphs;break;case"name":Ve=Ot;break;case"OS/2":Mt=oe(Ze,Ot),$e.tables.os2=Jr.parse(Mt.data,Mt.offset);break;case"post":Mt=oe(Ze,Ot),$e.tables.post=mi.parse(Mt.data,Mt.offset),$e.glyphNames=new yt($e.tables.post);break;case"prep":Mt=oe(Ze,Ot),nt=new Be.Parser(Mt.data,Mt.offset),$e.tables.prep=nt.parseByteList(Ot.length);break;case"glyf":ne=Ot;break;case"loca":He=Ot;break;case"CFF ":Y=Ot;break;case"kern":Pe=Ot;break;case"GPOS":fe=Ot;break;case"GSUB":Ee=Ot;break;case"meta":Re=Ot}}if(At=oe(Ze,Ve),$e.tables.name=Rn.parse(At.data,At.offset,N),$e.names=$e.tables.name,ne&&He)We=I===0,At=oe(Ze,He),At=Vl.parse(At.data,At.offset,$e.numGlyphs,We),We=oe(Ze,ne),$e.glyphs=oo.parse(We.data,We.offset,At,$e);else{if(!Y)throw new Error("Font doesn't contain TrueType or CFF outlines.");We=oe(Ze,Y),Ms.parse(We.data,We.offset,$e)}for(var At=oe(Ze,_e),Jt=(dt.parse(At.data,At.offset,$e.numberOfHMetrics,$e.numGlyphs,$e.glyphs),$e),Mr=Jt.tables.cmap.glyphIndexMap,ir=Object.keys(Mr),Gr=0;Gr<ir.length;Gr+=1){var In,kn=ir[Gr],Ss=Mr[kn];(In=Jt.glyphs.get(Ss)).addUnicode(parseInt(kn))}for(var Tr=0;Tr<Jt.glyphs.length;Tr+=1)In=Jt.glyphs.get(Tr),Jt.cffEncoding?Jt.isCIDFont?In.name="gid"+Tr:In.name=Jt.cffEncoding.charset[Tr]:Jt.glyphNames.names&&(In.name=Jt.glyphNames.glyphIndexToName(Tr));return Pe?(We=oe(Ze,Pe),$e.kerningPairs=Fl.parse(We.data,We.offset)):$e.kerningPairs={},fe&&(At=oe(Ze,fe),$e.tables.gpos=Hn.parse(At.data,At.offset),$e.position.init()),Ee&&(We=oe(Ze,Ee),$e.tables.gsub=ka.parse(We.data,We.offset)),te&&(At=oe(Ze,te),$e.tables.fvar=Ul.parse(At.data,At.offset,$e.names)),Re&&(We=oe(Ze,Re),$e.tables.meta=Ml.parse(We.data,We.offset),$e.metas=$e.tables.meta),$e}d.Font=yr,d.Glyph=bt,d.Path=se,d.BoundingBox=K,d._parse=Be,d.parse=we,d.load=function(E,I){(typeof window>"u"?Zs:U)(E,function(N,B){if(N)return I(N);var Y;try{Y=we(B)}catch(te){return I(te,null)}return I(null,Y)})},d.loadSync=function(E){return we(Wo(t("fs").readFileSync(E)))},Object.defineProperty(d,"__esModule",{value:!0})},a(typeof c=="object"&&o!==void 0?c:h.opentype={})}).call(this,t("buffer").Buffer)},{buffer:4,fs:2}],258:[function(t,o,c){(function(l){function h(_,w){for(var f=0,p=_.length-1;0<=p;p--){var b=_[p];b==="."?_.splice(p,1):b===".."?(_.splice(p,1),f++):f&&(_.splice(p,1),f--)}if(w)for(;f--;)_.unshift("..");return _}function a(_,w){if(_.filter)return _.filter(w);for(var f=[],p=0;p<_.length;p++)w(_[p],p,_)&&f.push(_[p]);return f}c.resolve=function(){for(var _="",w=!1,f=arguments.length-1;-1<=f&&!w;f--){var p=0<=f?arguments[f]:l.cwd();if(typeof p!="string")throw new TypeError("Arguments to path.resolve must be strings");p&&(_=p+"/"+_,w=p.charAt(0)==="/")}return(w?"/":"")+(_=h(a(_.split("/"),function(b){return!!b}),!w).join("/"))||"."},c.normalize=function(_){var w=c.isAbsolute(_),f=d(_,-1)==="/";return(_=(_=h(a(_.split("/"),function(p){return!!p}),!w).join("/"))||w?_:".")&&f&&(_+="/"),(w?"/":"")+_},c.isAbsolute=function(_){return _.charAt(0)==="/"},c.join=function(){var _=Array.prototype.slice.call(arguments,0);return c.normalize(a(_,function(w,f){if(typeof w!="string")throw new TypeError("Arguments to path.join must be strings");return w}).join("/"))},c.relative=function(_,w){function f(S){for(var j=0;j<S.length&&S[j]==="";j++);for(var A=S.length-1;0<=A&&S[A]==="";A--);return A<j?[]:S.slice(j,A-j+1)}_=c.resolve(_).substr(1),w=c.resolve(w).substr(1);for(var p=f(_.split("/")),b=f(w.split("/")),y=Math.min(p.length,b.length),m=y,g=0;g<y;g++)if(p[g]!==b[g]){m=g;break}for(var v=[],g=m;g<p.length;g++)v.push("..");return(v=v.concat(b.slice(m))).join("/")},c.sep="/",c.delimiter=":",c.dirname=function(_){if(typeof _!="string"&&(_+=""),_.length===0)return".";for(var w=_.charCodeAt(0)===47,f=-1,p=!0,b=_.length-1;1<=b;--b)if(_.charCodeAt(b)===47){if(!p){f=b;break}}else p=!1;return f===-1?w?"/":".":w&&f===1?"/":_.slice(0,f)},c.basename=function(_,w){return _=function(f){typeof f!="string"&&(f+="");for(var p=0,b=-1,y=!0,m=f.length-1;0<=m;--m)if(f.charCodeAt(m)===47){if(!y){p=m+1;break}}else b===-1&&(y=!1,b=m+1);return b===-1?"":f.slice(p,b)}(_),_=w&&_.substr(-1*w.length)===w?_.substr(0,_.length-w.length):_},c.extname=function(_){typeof _!="string"&&(_+="");for(var w=-1,f=0,p=-1,b=!0,y=0,m=_.length-1;0<=m;--m){var g=_.charCodeAt(m);if(g===47){if(b)continue;f=m+1;break}p===-1&&(b=!1,p=m+1),g===46?w===-1?w=m:y!==1&&(y=1):w!==-1&&(y=-1)}return w===-1||p===-1||y===0||y===1&&w===p-1&&w===f+1?"":_.slice(w,p)};var d="ab".substr(-1)==="b"?function(_,w,f){return _.substr(w,f)}:function(_,w,f){return w<0&&(w=_.length+w),_.substr(w,f)}}).call(this,t("_process"))},{_process:259}],259:[function(t,a,c){var l,h,a=a.exports={};function d(){throw new Error("setTimeout has not been defined")}function _(){throw new Error("clearTimeout has not been defined")}try{l=typeof setTimeout=="function"?setTimeout:d}catch{l=d}try{h=typeof clearTimeout=="function"?clearTimeout:_}catch{h=_}function w(j){if(l===setTimeout)return setTimeout(j,0);if((l===d||!l)&&setTimeout)return(l=setTimeout)(j,0);try{return l(j,0)}catch{try{return l.call(null,j,0)}catch{return l.call(this,j,0)}}}var f,p=[],b=!1,y=-1;function m(){b&&f&&(b=!1,f.length?p=f.concat(p):y=-1,p.length&&g())}function g(){if(!b){for(var j=w(m),A=(b=!0,p.length);A;){for(f=p,p=[];++y<A;)f&&f[y].run();y=-1,A=p.length}f=null,b=!1,function(L){if(h===clearTimeout)return clearTimeout(L);if((h===_||!h)&&clearTimeout)return(h=clearTimeout)(L);try{h(L)}catch{try{return h.call(null,L)}catch{return h.call(this,L)}}}(j)}}function v(j,A){this.fun=j,this.array=A}function S(){}a.nextTick=function(j){var A=new Array(arguments.length-1);if(1<arguments.length)for(var L=1;L<arguments.length;L++)A[L-1]=arguments[L];p.push(new v(j,A)),p.length!==1||b||w(g)},v.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=S,a.addListener=S,a.once=S,a.off=S,a.removeListener=S,a.removeAllListeners=S,a.emit=S,a.prependListener=S,a.prependOnceListener=S,a.listeners=function(j){return[]},a.binding=function(j){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(j){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},{}],260:[function(t,o,c){o=function(l){var h,a=Object.prototype,d=a.hasOwnProperty,C=typeof Symbol=="function"?Symbol:{},_=C.iterator||"@@iterator",w=C.asyncIterator||"@@asyncIterator",f=C.toStringTag||"@@toStringTag";function p(Q,X,Z,ee){var se,le,M,G,X=X&&X.prototype instanceof j?X:j,X=Object.create(X.prototype),ee=new q(ee||[]);return X._invoke=(se=Q,le=Z,M=ee,G=y,function(ae,ce){if(G===g)throw new Error("Generator is already running");if(G===v){if(ae==="throw")throw ce;return H()}for(M.method=ae,M.arg=ce;;){var pe=M.delegate;if(pe&&(pe=function ve(ge,Se){var xe=ge.iterator[Se.method];if(xe===h){if(Se.delegate=null,Se.method==="throw"){if(ge.iterator.return&&(Se.method="return",Se.arg=h,ve(ge,Se),Se.method==="throw"))return S;Se.method="throw",Se.arg=new TypeError("The iterator does not provide a 'throw' method")}return S}if(xe=b(xe,ge.iterator,Se.arg),xe.type==="throw")return Se.method="throw",Se.arg=xe.arg,Se.delegate=null,S;if(xe=xe.arg,!xe)return Se.method="throw",Se.arg=new TypeError("iterator result is not an object"),Se.delegate=null,S;{if(!xe.done)return xe;Se[ge.resultName]=xe.value,Se.next=ge.nextLoc,Se.method!=="return"&&(Se.method="next",Se.arg=h)}return Se.delegate=null,S}(pe,M),pe)){if(pe===S)continue;return pe}if(M.method==="next")M.sent=M._sent=M.arg;else if(M.method==="throw"){if(G===y)throw G=v,M.arg;M.dispatchException(M.arg)}else M.method==="return"&&M.abrupt("return",M.arg);if(G=g,pe=b(se,le,M),pe.type==="normal"){if(G=M.done?v:m,pe.arg!==S)return{value:pe.arg,done:M.done}}else pe.type==="throw"&&(G=v,M.method="throw",M.arg=pe.arg)}}),X}function b(Q,J,Z){try{return{type:"normal",arg:Q.call(J,Z)}}catch(K){return{type:"throw",arg:K}}}l.wrap=p;var y="suspendedStart",m="suspendedYield",g="executing",v="completed",S={};function j(){}function A(){}function L(){}var C={},T=(C[_]=function(){return this},Object.getPrototypeOf),T=T&&T(T(z([]))),R=(T&&T!==a&&d.call(T,_)&&(C=T),L.prototype=j.prototype=Object.create(C));function D(Q){["next","throw","return"].forEach(function(J){Q[J]=function(Z){return this._invoke(J,Z)}})}function k(Q){var J;this._invoke=function(Z,K){function se(){return new Promise(function(le,M){(function G(ve,ee,ae,ce){var pe,ve=b(Q[ve],Q,ee);if(ve.type!=="throw")return(ee=(pe=ve.arg).value)&&typeof ee=="object"&&d.call(ee,"__await")?Promise.resolve(ee.__await).then(function(ge){G("next",ge,ae,ce)},function(ge){G("throw",ge,ae,ce)}):Promise.resolve(ee).then(function(ge){pe.value=ge,ae(pe)},function(ge){return G("throw",ge,ae,ce)});ce(ve.arg)})(Z,K,le,M)})}return J=J?J.then(se,se):se()}}function F(Q){var J={tryLoc:Q[0]};1 in Q&&(J.catchLoc=Q[1]),2 in Q&&(J.finallyLoc=Q[2],J.afterLoc=Q[3]),this.tryEntries.push(J)}function P(Q){var J=Q.completion||{};J.type="normal",delete J.arg,Q.completion=J}function q(Q){this.tryEntries=[{tryLoc:"root"}],Q.forEach(F,this),this.reset(!0)}function z(Q){if(Q){var J,Z=Q[_];if(Z)return Z.call(Q);if(typeof Q.next=="function")return Q;if(!isNaN(Q.length))return J=-1,(Z=function K(){for(;++J<Q.length;)if(d.call(Q,J))return K.value=Q[J],K.done=!1,K;return K.value=h,K.done=!0,K}).next=Z}return{next:H}}function H(){return{value:h,done:!0}}return(A.prototype=R.constructor=L).constructor=A,L[f]=A.displayName="GeneratorFunction",l.isGeneratorFunction=function(Q){return Q=typeof Q=="function"&&Q.constructor,!!Q&&(Q===A||(Q.displayName||Q.name)==="GeneratorFunction")},l.mark=function(Q){return Object.setPrototypeOf?Object.setPrototypeOf(Q,L):(Q.__proto__=L,f in Q||(Q[f]="GeneratorFunction")),Q.prototype=Object.create(R),Q},l.awrap=function(Q){return{__await:Q}},D(k.prototype),k.prototype[w]=function(){return this},l.AsyncIterator=k,l.async=function(Q,J,Z,K){var se=new k(p(Q,J,Z,K));return l.isGeneratorFunction(J)?se:se.next().then(function(le){return le.done?le.value:se.next()})},D(R),R[f]="Generator",R[_]=function(){return this},R.toString=function(){return"[object Generator]"},l.keys=function(Q){var J,Z=[];for(J in Q)Z.push(J);return Z.reverse(),function K(){for(;Z.length;){var se=Z.pop();if(se in Q)return K.value=se,K.done=!1,K}return K.done=!0,K}},l.values=z,q.prototype={constructor:q,reset:function(Q){if(this.prev=0,this.next=0,this.sent=this._sent=h,this.done=!1,this.delegate=null,this.method="next",this.arg=h,this.tryEntries.forEach(P),!Q)for(var J in this)J.charAt(0)==="t"&&d.call(this,J)&&!isNaN(+J.slice(1))&&(this[J]=h)},stop:function(){this.done=!0;var Q=this.tryEntries[0].completion;if(Q.type==="throw")throw Q.arg;return this.rval},dispatchException:function(Q){if(this.done)throw Q;var J=this;function Z(X,ee){return le.type="throw",le.arg=Q,J.next=X,ee&&(J.method="next",J.arg=h),!!ee}for(var K=this.tryEntries.length-1;0<=K;--K){var se=this.tryEntries[K],le=se.completion;if(se.tryLoc==="root")return Z("end");if(se.tryLoc<=this.prev){var M=d.call(se,"catchLoc"),G=d.call(se,"finallyLoc");if(M&&G){if(this.prev<se.catchLoc)return Z(se.catchLoc,!0);if(this.prev<se.finallyLoc)return Z(se.finallyLoc)}else if(M){if(this.prev<se.catchLoc)return Z(se.catchLoc,!0)}else{if(!G)throw new Error("try statement without catch or finally");if(this.prev<se.finallyLoc)return Z(se.finallyLoc)}}}},abrupt:function(Q,J){for(var Z=this.tryEntries.length-1;0<=Z;--Z){var K=this.tryEntries[Z];if(K.tryLoc<=this.prev&&d.call(K,"finallyLoc")&&this.prev<K.finallyLoc){var se=K;break}}var le=(se=se&&(Q==="break"||Q==="continue")&&se.tryLoc<=J&&J<=se.finallyLoc?null:se)?se.completion:{};return le.type=Q,le.arg=J,se?(this.method="next",this.next=se.finallyLoc,S):this.complete(le)},complete:function(Q,J){if(Q.type==="throw")throw Q.arg;return Q.type==="break"||Q.type==="continue"?this.next=Q.arg:Q.type==="return"?(this.rval=this.arg=Q.arg,this.method="return",this.next="end"):Q.type==="normal"&&J&&(this.next=J),S},finish:function(Q){for(var J=this.tryEntries.length-1;0<=J;--J){var Z=this.tryEntries[J];if(Z.finallyLoc===Q)return this.complete(Z.completion,Z.afterLoc),P(Z),S}},catch:function(Q){for(var J=this.tryEntries.length-1;0<=J;--J){var Z,K,se=this.tryEntries[J];if(se.tryLoc===Q)return(Z=se.completion).type==="throw"&&(K=Z.arg,P(se)),K}throw new Error("illegal catch attempt")},delegateYield:function(Q,J,Z){return this.delegate={iterator:z(Q),resultName:J,nextLoc:Z},this.method==="next"&&(this.arg=h),S}},l}(typeof o=="object"?o.exports:{});try{regeneratorRuntime=o}catch{Function("r","regeneratorRuntime = r")(o)}},{}],261:[function(t,o,c){(function(l){var h,a,d,_,w,f,p,b,y,m;function g(P){if(typeof P!="string"&&(P=String(P)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(P))throw new TypeError("Invalid character in header field name");return P.toLowerCase()}function v(P){return P=typeof P!="string"?String(P):P}function S(P){var q={next:function(){var z=P.shift();return{done:z===void 0,value:z}}};return a&&(q[Symbol.iterator]=function(){return q}),q}function j(P){this.map={},P instanceof j?P.forEach(function(q,z){this.append(z,q)},this):Array.isArray(P)?P.forEach(function(q){this.append(q[0],q[1])},this):P&&Object.getOwnPropertyNames(P).forEach(function(q){this.append(q,P[q])},this)}function A(P){if(P.bodyUsed)return Promise.reject(new TypeError("Already read"));P.bodyUsed=!0}function L(P){return new Promise(function(q,z){P.onload=function(){q(P.result)},P.onerror=function(){z(P.error)}})}function C(P){var q=new FileReader,z=L(q);return q.readAsArrayBuffer(P),z}function T(P){var q;return P.slice?P.slice(0):((q=new Uint8Array(P.byteLength)).set(new Uint8Array(P)),q.buffer)}function R(){return this.bodyUsed=!1,this._initBody=function(P){if(this._bodyInit=P)if(typeof P=="string")this._bodyText=P;else if(d&&Blob.prototype.isPrototypeOf(P))this._bodyBlob=P;else if(_&&FormData.prototype.isPrototypeOf(P))this._bodyFormData=P;else if(h&&URLSearchParams.prototype.isPrototypeOf(P))this._bodyText=P.toString();else if(w&&d&&p(P))this._bodyArrayBuffer=T(P.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!w||!ArrayBuffer.prototype.isPrototypeOf(P)&&!b(P))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=T(P)}else this._bodyText="";this.headers.get("content-type")||(typeof P=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):h&&URLSearchParams.prototype.isPrototypeOf(P)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},d&&(this.blob=function(){var P=A(this);if(P)return P;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?A(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(C)}),this.text=function(){var P,q,z=A(this);if(z)return z;if(this._bodyBlob)return z=this._bodyBlob,P=new FileReader,q=L(P),P.readAsText(z),q;if(this._bodyArrayBuffer)return Promise.resolve(function(H){for(var Q=new Uint8Array(H),J=new Array(Q.length),Z=0;Z<Q.length;Z++)J[Z]=String.fromCharCode(Q[Z]);return J.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},_&&(this.formData=function(){return this.text().then(k)}),this.json=function(){return this.text().then(JSON.parse)},this}function D(P,q){var z,H=(q=q||{}).body;if(P instanceof D){if(P.bodyUsed)throw new TypeError("Already read");this.url=P.url,this.credentials=P.credentials,q.headers||(this.headers=new j(P.headers)),this.method=P.method,this.mode=P.mode,H||P._bodyInit==null||(H=P._bodyInit,P.bodyUsed=!0)}else this.url=String(P);if(this.credentials=q.credentials||this.credentials||"omit",!q.headers&&this.headers||(this.headers=new j(q.headers)),this.method=(P=q.method||this.method||"GET",z=P.toUpperCase(),-1<y.indexOf(z)?z:P),this.mode=q.mode||this.mode||null,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&H)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(H)}function k(P){var q=new FormData;return P.trim().split("&").forEach(function(z){var H;z&&(H=(z=z.split("=")).shift().replace(/\+/g," "),z=z.join("=").replace(/\+/g," "),q.append(decodeURIComponent(H),decodeURIComponent(z)))}),q}function F(P,q){q=q||{},this.type="default",this.status=q.status===void 0?200:q.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in q?q.statusText:"OK",this.headers=new j(q.headers),this.url=q.url||"",this._initBody(P)}l.fetch||(h="URLSearchParams"in l,a="Symbol"in l&&"iterator"in Symbol,d="FileReader"in l&&"Blob"in l&&function(){try{return new Blob,!0}catch{return!1}}(),_="FormData"in l,(w="ArrayBuffer"in l)&&(f=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],p=function(P){return P&&DataView.prototype.isPrototypeOf(P)},b=ArrayBuffer.isView||function(P){return P&&-1<f.indexOf(Object.prototype.toString.call(P))}),j.prototype.append=function(P,q){P=g(P),q=v(q);var z=this.map[P];this.map[P]=z?z+","+q:q},j.prototype.delete=function(P){delete this.map[g(P)]},j.prototype.get=function(P){return P=g(P),this.has(P)?this.map[P]:null},j.prototype.has=function(P){return this.map.hasOwnProperty(g(P))},j.prototype.set=function(P,q){this.map[g(P)]=v(q)},j.prototype.forEach=function(P,q){for(var z in this.map)this.map.hasOwnProperty(z)&&P.call(q,this.map[z],z,this)},j.prototype.keys=function(){var P=[];return this.forEach(function(q,z){P.push(z)}),S(P)},j.prototype.values=function(){var P=[];return this.forEach(function(q){P.push(q)}),S(P)},j.prototype.entries=function(){var P=[];return this.forEach(function(q,z){P.push([z,q])}),S(P)},a&&(j.prototype[Symbol.iterator]=j.prototype.entries),y=["DELETE","GET","HEAD","OPTIONS","POST","PUT"],D.prototype.clone=function(){return new D(this,{body:this._bodyInit})},R.call(D.prototype),R.call(F.prototype),F.prototype.clone=function(){return new F(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new j(this.headers),url:this.url})},F.error=function(){var P=new F(null,{status:0,statusText:""});return P.type="error",P},m=[301,302,303,307,308],F.redirect=function(P,q){if(m.indexOf(q)===-1)throw new RangeError("Invalid status code");return new F(null,{status:q,headers:{location:P}})},l.Headers=j,l.Request=D,l.Response=F,l.fetch=function(P,q){return new Promise(function(z,H){var Q=new D(P,q),J=new XMLHttpRequest;J.onload=function(){var Z,K={status:J.status,statusText:J.statusText,headers:(K=J.getAllResponseHeaders()||"",Z=new j,K.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(M){var M=M.split(":"),G=M.shift().trim();G&&(M=M.join(":").trim(),Z.append(G,M))}),Z)},se=(K.url="responseURL"in J?J.responseURL:K.headers.get("X-Request-URL"),"response"in J?J.response:J.responseText);z(new F(se,K))},J.onerror=function(){H(new TypeError("Network request failed"))},J.ontimeout=function(){H(new TypeError("Network request failed"))},J.open(Q.method,Q.url,!0),Q.credentials==="include"?J.withCredentials=!0:Q.credentials==="omit"&&(J.withCredentials=!1),"responseType"in J&&d&&(J.responseType="blob"),Q.headers.forEach(function(Z,K){J.setRequestHeader(K,Z)}),J.send(Q._bodyInit===void 0?null:Q._bodyInit)})},l.fetch.polyfill=!0)})(typeof self<"u"?self:this)},{}],262:[function(t,o,c){t("core-js/modules/es.function.name"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var l,h=d(t("../core/main")),a=d(t("../color/color_conversion"));function d(f){return f&&f.__esModule?f:{default:f}}var _=[{h:0,s:0,b:.8275,name:"gray"},{h:0,s:0,b:.8627,name:"gray"},{h:0,s:0,b:.7529,name:"gray"},{h:.0167,s:.1176,b:1,name:"light pink"}],w=[{h:0,s:0,b:0,name:"black"},{h:0,s:0,b:.5,name:"gray"},{h:0,s:0,b:1,name:"white"},{h:0,s:.5,b:.5,name:"dark maroon"},{h:0,s:.5,b:1,name:"salmon pink"},{h:0,s:1,b:0,name:"black"},{h:0,s:1,b:.5,name:"dark red"},{h:0,s:1,b:1,name:"red"},{h:5,s:0,b:1,name:"very light peach"},{h:5,s:.5,b:.5,name:"brown"},{h:5,s:.5,b:1,name:"peach"},{h:5,s:1,b:.5,name:"brick red"},{h:5,s:1,b:1,name:"crimson"},{h:10,s:0,b:1,name:"light peach"},{h:10,s:.5,b:.5,name:"brown"},{h:10,s:.5,b:1,name:"light orange"},{h:10,s:1,b:.5,name:"brown"},{h:10,s:1,b:1,name:"orange"},{h:15,s:0,b:1,name:"very light yellow"},{h:15,s:.5,b:.5,name:"olive green"},{h:15,s:.5,b:1,name:"light yellow"},{h:15,s:1,b:0,name:"dark olive green"},{h:15,s:1,b:.5,name:"olive green"},{h:15,s:1,b:1,name:"yellow"},{h:20,s:0,b:1,name:"very light yellow"},{h:20,s:.5,b:.5,name:"olive green"},{h:20,s:.5,b:1,name:"light yellow green"},{h:20,s:1,b:0,name:"dark olive green"},{h:20,s:1,b:.5,name:"dark yellow green"},{h:20,s:1,b:1,name:"yellow green"},{h:25,s:.5,b:.5,name:"dark yellow green"},{h:25,s:.5,b:1,name:"light green"},{h:25,s:1,b:.5,name:"dark green"},{h:25,s:1,b:1,name:"green"},{h:30,s:.5,b:1,name:"light green"},{h:30,s:1,b:.5,name:"dark green"},{h:30,s:1,b:1,name:"green"},{h:35,s:0,b:.5,name:"light green"},{h:35,s:0,b:1,name:"very light green"},{h:35,s:.5,b:.5,name:"dark green"},{h:35,s:.5,b:1,name:"light green"},{h:35,s:1,b:0,name:"very dark green"},{h:35,s:1,b:.5,name:"dark green"},{h:35,s:1,b:1,name:"green"},{h:40,s:0,b:1,name:"very light green"},{h:40,s:.5,b:.5,name:"dark green"},{h:40,s:.5,b:1,name:"light green"},{h:40,s:1,b:.5,name:"dark green"},{h:40,s:1,b:1,name:"green"},{h:45,s:.5,b:1,name:"light turquoise"},{h:45,s:1,b:.5,name:"dark turquoise"},{h:45,s:1,b:1,name:"turquoise"},{h:50,s:0,b:1,name:"light sky blue"},{h:50,s:.5,b:.5,name:"dark cyan"},{h:50,s:.5,b:1,name:"light cyan"},{h:50,s:1,b:.5,name:"dark cyan"},{h:50,s:1,b:1,name:"cyan"},{h:55,s:0,b:1,name:"light sky blue"},{h:55,s:.5,b:1,name:"light sky blue"},{h:55,s:1,b:.5,name:"dark blue"},{h:55,s:1,b:1,name:"sky blue"},{h:60,s:0,b:.5,name:"gray"},{h:60,s:0,b:1,name:"very light blue"},{h:60,s:.5,b:.5,name:"blue"},{h:60,s:.5,b:1,name:"light blue"},{h:60,s:1,b:.5,name:"navy blue"},{h:60,s:1,b:1,name:"blue"},{h:65,s:0,b:1,name:"lavender"},{h:65,s:.5,b:.5,name:"navy blue"},{h:65,s:.5,b:1,name:"light purple"},{h:65,s:1,b:.5,name:"dark navy blue"},{h:65,s:1,b:1,name:"blue"},{h:70,s:0,b:1,name:"lavender"},{h:70,s:.5,b:.5,name:"navy blue"},{h:70,s:.5,b:1,name:"lavender blue"},{h:70,s:1,b:.5,name:"dark navy blue"},{h:70,s:1,b:1,name:"blue"},{h:75,s:.5,b:1,name:"lavender"},{h:75,s:1,b:.5,name:"dark purple"},{h:75,s:1,b:1,name:"purple"},{h:80,s:.5,b:1,name:"pinkish purple"},{h:80,s:1,b:.5,name:"dark purple"},{h:80,s:1,b:1,name:"purple"},{h:85,s:0,b:1,name:"light pink"},{h:85,s:.5,b:.5,name:"purple"},{h:85,s:.5,b:1,name:"light fuchsia"},{h:85,s:1,b:.5,name:"dark fuchsia"},{h:85,s:1,b:1,name:"fuchsia"},{h:90,s:.5,b:.5,name:"dark fuchsia"},{h:90,s:.5,b:1,name:"hot pink"},{h:90,s:1,b:.5,name:"dark fuchsia"},{h:90,s:1,b:1,name:"fuchsia"},{h:95,s:0,b:1,name:"pink"},{h:95,s:.5,b:1,name:"light pink"},{h:95,s:1,b:.5,name:"dark magenta"},{h:95,s:1,b:1,name:"magenta"}];h.default.prototype._rgbColorName=function(y){var p,b,y=a.default._rgbaToHSBA(y),m=[(l=y)[0],y[1],y[2]];m[0]!==0&&(m[0]=Math.round(100*m[0]),(y=m[0].toString().split(""))[b=y.length-1]=parseInt(y[b]),y[b]<2.5?y[b]=0:2.5<=y[b]&&y[b]<7.5&&(y[b]=5),y.length===2?(y[0]=parseInt(y[0]),7.5<=y[b]&&(y[b]=0,y[0]=y[0]+1),m[0]=10*y[0]+y[1]):7.5<=y[b]?m[0]=10:m[0]=y[b]),m[2]=m[2]/255;for(var g=m.length-1;1<=g;g--)m[g]<=.25?m[g]=0:.25<m[g]&&m[g]<.75?m[g]=.5:m[g]=1;if(m[0]===0&&m[1]===0&&m[2]===1){for(var v=2;0<=v;v--)l[v]=Math.round(1e4*l[v])/1e4;for(var S=0;S<_.length;S++){if(_[S].h===l[0]&&_[S].s===l[1]&&_[S].b===l[2]){p=_[S].name;break}p="white"}}else for(var j=0;j<w.length;j++)if(w[j].h===m[0]&&w[j].s===m[1]&&w[j].b===m[2]){p=w[j].name;break}return p},t=h.default,c.default=t},{"../color/color_conversion":268,"../core/main":283,"core-js/modules/es.function.name":174,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.split":206}],263:[function(t,o,c){t("core-js/modules/es.array.concat"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.replace"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var l=(t=t("../core/main"))&&t.__esModule?t:{default:t},h="_Description",a="_fallbackDesc",d="_fallbackTable",_="_Label",w="_labelDesc",f="_labelTable";function p(b){if(b==="label"||b==="fallback")throw new Error("description should not be LABEL or FALLBACK");return b.endsWith(".")||b.endsWith(";")||b.endsWith(",")||b.endsWith("?")||b.endsWith("!")||(b+="."),b}l.default.prototype.describe=function(b,y){var m;l.default._validateParameters("describe",arguments),typeof b=="string"&&(m=this.canvas.id,b=p(b),this.dummyDOM||(this.dummyDOM=document.getElementById(m).parentNode),this.descriptions||(this.descriptions={}),this.descriptions.fallback?this.descriptions.fallback.innerHTML!==b&&(this.descriptions.fallback.innerHTML=b):this._describeHTML("fallback",b),y===this.LABEL&&(this.descriptions.label?this.descriptions.label.innerHTML!==b&&(this.descriptions.label.innerHTML=b):this._describeHTML("label",b)))},l.default.prototype.describeElement=function(b,y,m){var g,v;l.default._validateParameters("describeElement",arguments),typeof y=="string"&&typeof b=="string"&&(g=this.canvas.id,y=p(y),v=function(S){if(S==="label"||S==="fallback")throw new Error("element name should not be LABEL or FALLBACK");return S.endsWith(".")||S.endsWith(";")||S.endsWith(",")?S=S.replace(/.$/,":"):S.endsWith(":")||(S+=":"),S}(b),b=b.replace(/[^a-zA-Z0-9]/g,""),v='<th scope="row">'.concat(v,"</th><td>").concat(y,"</td>"),this.dummyDOM||(this.dummyDOM=document.getElementById(g).parentNode),this.descriptions?this.descriptions.fallbackElements||(this.descriptions.fallbackElements={}):this.descriptions={fallbackElements:{}},this.descriptions.fallbackElements[b]?this.descriptions.fallbackElements[b].innerHTML!==v&&(this.descriptions.fallbackElements[b].innerHTML=v):this._describeElementHTML("fallback",b,v),m===this.LABEL&&(this.descriptions.labelElements||(this.descriptions.labelElements={}),this.descriptions.labelElements[b]?this.descriptions.labelElements[b].innerHTML!==v&&(this.descriptions.labelElements[b].innerHTML=v):this._describeElementHTML("label",b,v)))},l.default.prototype._describeHTML=function(b,y){var m,g=this.canvas.id;b==="fallback"?(this.dummyDOM.querySelector("#".concat(g+h))?this.dummyDOM.querySelector("#"+g+d).insertAdjacentHTML("beforebegin",'<p id="'.concat(g+a,'"></p>')):(m='<div id="'.concat(g).concat(h,'" role="region" aria-label="Canvas Description"><p id="').concat(g).concat(a,'"></p></div>'),this.dummyDOM.querySelector("#".concat(g,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(g,"accessibleOutput")).insertAdjacentHTML("beforebegin",m):this.dummyDOM.querySelector("#".concat(g)).innerHTML=m),this.descriptions.fallback=this.dummyDOM.querySelector("#".concat(g).concat(a)),this.descriptions.fallback.innerHTML=y):b==="label"&&(this.dummyDOM.querySelector("#".concat(g+_))?this.dummyDOM.querySelector("#".concat(g+f))&&this.dummyDOM.querySelector("#".concat(g+f)).insertAdjacentHTML("beforebegin",'<p id="'.concat(g).concat(w,'"></p>')):(m='<div id="'.concat(g).concat(_,'" class="p5Label"><p id="').concat(g).concat(w,'"></p></div>'),this.dummyDOM.querySelector("#".concat(g,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(g,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",m):this.dummyDOM.querySelector("#"+g).insertAdjacentHTML("afterend",m)),this.descriptions.label=this.dummyDOM.querySelector("#"+g+w),this.descriptions.label.innerHTML=y)},l.default.prototype._describeElementHTML=function(b,y,m){var g,v=this.canvas.id;b==="fallback"?(this.dummyDOM.querySelector("#".concat(v+h))?this.dummyDOM.querySelector("#"+v+d)||this.dummyDOM.querySelector("#"+v+a).insertAdjacentHTML("afterend",'<table id="'.concat(v).concat(d,'"><caption>Canvas elements and their descriptions</caption></table>')):(g='<div id="'.concat(v).concat(h,'" role="region" aria-label="Canvas Description"><table id="').concat(v).concat(d,'"><caption>Canvas elements and their descriptions</caption></table></div>'),this.dummyDOM.querySelector("#".concat(v,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(v,"accessibleOutput")).insertAdjacentHTML("beforebegin",g):this.dummyDOM.querySelector("#"+v).innerHTML=g),(g=document.createElement("tr")).id=v+"_fte_"+y,this.dummyDOM.querySelector("#"+v+d).appendChild(g),this.descriptions.fallbackElements[y]=this.dummyDOM.querySelector("#".concat(v).concat("_fte_").concat(y)),this.descriptions.fallbackElements[y].innerHTML=m):b==="label"&&(this.dummyDOM.querySelector("#".concat(v+_))?this.dummyDOM.querySelector("#".concat(v+f))||this.dummyDOM.querySelector("#"+v+w).insertAdjacentHTML("afterend",'<table id="'.concat(v+f,'"></table>')):(g='<div id="'.concat(v).concat(_,'" class="p5Label"><table id="').concat(v).concat(f,'"></table></div>'),this.dummyDOM.querySelector("#".concat(v,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(v,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",g):this.dummyDOM.querySelector("#"+v).insertAdjacentHTML("afterend",g)),(b=document.createElement("tr")).id=v+"_lte_"+y,this.dummyDOM.querySelector("#"+v+f).appendChild(b),this.descriptions.labelElements[y]=this.dummyDOM.querySelector("#".concat(v).concat("_lte_").concat(y)),this.descriptions.labelElements[y].innerHTML=m)},t=l.default,c.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.ends-with":198,"core-js/modules/es.string.replace":204}],264:[function(t,o,c){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.map"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.map"),t("core-js/modules/es.string.iterator"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype._updateGridOutput=function(l){var h,a,d,_;this.dummyDOM.querySelector("#".concat(l,"_summary"))&&(h=this._accessibleOutputs[l],d=function(w,f,p,b){return f="".concat(f," canvas, ").concat(p," by ").concat(b," pixels, contains ").concat(w[0]),f=(w[0]===1?"".concat(f," shape: "):"".concat(f," shapes: ")).concat(w[1]),f}((a=function(w,f){var p,b="",y="",m=0;for(p in f){var g,v=0;for(g in f[p]){var S='<li id="'.concat(w,"shape").concat(m,'">').concat(f[p][g].color," ").concat(p,",");p==="line"?S+=" location = ".concat(f[p][g].pos,", length = ").concat(f[p][g].length," pixels"):(S+=" location = ".concat(f[p][g].pos),p!=="point"&&(S+=", area = ".concat(f[p][g].area," %")),S+="</li>"),b+=S,v++,m++}y=1<v?"".concat(y," ").concat(v," ").concat(p,"s"):"".concat(y," ").concat(v," ").concat(p)}return{numShapes:[m,y],details:b}}(l,this.ingredients.shapes)).numShapes,this.ingredients.colors.background,this.width,this.height),_=function(w,f){var p,b,y=0,m="",g=Array.from(Array(10),function(){return Array(10)});for(p in f)for(var v in f[p]){var S=void 0;S=p!=="line"?'<a href="#'.concat(w,"shape").concat(y,'">').concat(f[p][v].color," ").concat(p,"</a>"):'<a href="#'.concat(w,"shape").concat(y,'">').concat(f[p][v].color," ").concat(p," midpoint</a>"),f[p][v].loc.locY<g.length&&f[p][v].loc.locX<g[f[p][v].loc.locY].length&&(g[f[p][v].loc.locY][f[p][v].loc.locX]?g[f[p][v].loc.locY][f[p][v].loc.locX]=g[f[p][v].loc.locY][f[p][v].loc.locX]+"  "+S:g[f[p][v].loc.locY][f[p][v].loc.locX]=S,y++)}for(b in g){var j,A="<tr>";for(j in g[b])A+="<td>",g[b][j]!==void 0&&(A+=g[b][j]),A+="</td>";m=m+A+"</tr>"}return m}(l,this.ingredients.shapes),d!==h.summary.innerHTML&&(h.summary.innerHTML=d),_!==h.map.innerHTML&&(h.map.innerHTML=_),a.details!==h.shapeDetails.innerHTML&&(h.shapeDetails.innerHTML=a.details),this._accessibleOutputs[l]=h)},t=t.default,c.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.from":162,"core-js/modules/es.array.map":168,"core-js/modules/es.string.iterator":200}],265:[function(t,o,c){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.map"),t("core-js/modules/es.number.to-fixed"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var l=(t=t("../core/main"))&&t.__esModule?t:{default:t};function h(d){return function(_){if(Array.isArray(_)){for(var w=0,f=new Array(_.length);w<_.length;w++)f[w]=_[w];return f}}(d)||function(_){if(Symbol.iterator in Object(_)||Object.prototype.toString.call(_)==="[object Arguments]")return Array.from(_)}(d)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function a(d,_,w){return _=Math.floor(d[0]/_*10),d=Math.floor(d[1]/w*10),_===10&&(_-=1),d===10&&(d-=1),{locX:_,locY:d}}l.default.prototype.textOutput=function(d){l.default._validateParameters("textOutput",arguments),this._accessibleOutputs.text||(this._accessibleOutputs.text=!0,this._createOutput("textOutput","Fallback"),d===this.LABEL&&(this._accessibleOutputs.textLabel=!0,this._createOutput("textOutput","Label")))},l.default.prototype.gridOutput=function(d){l.default._validateParameters("gridOutput",arguments),this._accessibleOutputs.grid||(this._accessibleOutputs.grid=!0,this._createOutput("gridOutput","Fallback"),d===this.LABEL&&(this._accessibleOutputs.gridLabel=!0,this._createOutput("gridOutput","Label")))},l.default.prototype._addAccsOutput=function(){return this._accessibleOutputs||(this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1}),this._accessibleOutputs.grid||this._accessibleOutputs.text},l.default.prototype._createOutput=function(d,_){var w,f,p,b=this.canvas.id,y=(this.ingredients||(this.ingredients={shapes:{},colors:{background:"white",fill:"white",stroke:"black"},pShapes:"",pBackground:""}),this.dummyDOM||(this.dummyDOM=document.getElementById(b).parentNode),"");_==="Fallback"?(w=b+d,this.dummyDOM.querySelector("#".concat(f=b+"accessibleOutput"))||(this.dummyDOM.querySelector("#".concat(b,"_Description"))?this.dummyDOM.querySelector("#".concat(b,"_Description")).insertAdjacentHTML("afterend",'<div id="'.concat(f,'" role="region" aria-label="Canvas Outputs"></div>')):this.dummyDOM.querySelector("#".concat(b)).innerHTML='<div id="'.concat(f,'" role="region" aria-label="Canvas Outputs"></div>'))):_==="Label"&&(w=b+d+(y=_),this.dummyDOM.querySelector("#".concat(f=b+"accessibleOutput"+_))||(this.dummyDOM.querySelector("#".concat(b,"_Label"))?this.dummyDOM.querySelector("#".concat(b,"_Label")):this.dummyDOM.querySelector("#".concat(b))).insertAdjacentHTML("afterend",'<div id="'.concat(f,'"></div>'))),this._accessibleOutputs[w]={},d==="textOutput"?(y="#".concat(b,"gridOutput").concat(y),p='<div id="'.concat(w,'">Text Output<div id="').concat(w,'Summary" aria-label="text output summary"><p id="').concat(w,'_summary"></p><ul id="').concat(w,'_list"></ul></div><table id="').concat(w,'_shapeDetails" summary="text output shape details"></table></div>'),this.dummyDOM.querySelector(y)?this.dummyDOM.querySelector(y).insertAdjacentHTML("beforebegin",p):this.dummyDOM.querySelector("#".concat(f)).innerHTML=p,this._accessibleOutputs[w].list=this.dummyDOM.querySelector("#".concat(w,"_list"))):d==="gridOutput"&&(y="#".concat(b,"textOutput").concat(y),p='<div id="'.concat(w,'">Grid Output<p id="').concat(w,'_summary" aria-label="grid output summary"><table id="').concat(w,'_map" summary="grid output content"></table><ul id="').concat(w,'_shapeDetails" aria-label="grid output shape details"></ul></div>'),this.dummyDOM.querySelector(y)?this.dummyDOM.querySelector(y).insertAdjacentHTML("afterend",p):this.dummyDOM.querySelector("#".concat(f)).innerHTML=p,this._accessibleOutputs[w].map=this.dummyDOM.querySelector("#".concat(w,"_map"))),this._accessibleOutputs[w].shapeDetails=this.dummyDOM.querySelector("#".concat(w,"_shapeDetails")),this._accessibleOutputs[w].summary=this.dummyDOM.querySelector("#".concat(w,"_summary"))},l.default.prototype._updateAccsOutput=function(){var d=this.canvas.id;JSON.stringify(this.ingredients.shapes)===this.ingredients.pShapes&&this.ingredients.colors.background===this.ingredients.pBackground||(this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this._accessibleOutputs.text&&this._updateTextOutput(d+"textOutput"),this._accessibleOutputs.grid&&this._updateGridOutput(d+"gridOutput"),this._accessibleOutputs.textLabel&&this._updateTextOutput(d+"textOutputLabel"),this._accessibleOutputs.gridLabel&&this._updateGridOutput(d+"gridOutputLabel"))},l.default.prototype._accsBackground=function(d){this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this.ingredients.pBackground=this.ingredients.colors.background,this.ingredients.shapes={},this.ingredients.colors.backgroundRGBA!==d&&(this.ingredients.colors.backgroundRGBA=d,this.ingredients.colors.background=this._rgbColorName(d))},l.default.prototype._accsCanvasColors=function(d,_){d==="fill"?this.ingredients.colors.fillRGBA!==_&&(this.ingredients.colors.fillRGBA=_,this.ingredients.colors.fill=this._rgbColorName(_)):d==="stroke"&&this.ingredients.colors.strokeRGBA!==_&&(this.ingredients.colors.strokeRGBA=_,this.ingredients.colors.stroke=this._rgbColorName(_))},l.default.prototype._accsOutput=function(d,_){d==="ellipse"&&_[2]===_[3]?d="circle":d==="rectangle"&&_[2]===_[3]&&(d="square");var w,f,p={},b=!0,y=function(g,v){var S;return g=g==="rectangle"||g==="ellipse"||g==="arc"||g==="circle"||g==="square"?(S=Math.round(v[0]+v[2]/2),Math.round(v[1]+v[3]/2)):g==="triangle"?(S=(v[0]+v[2]+v[4])/3,(v[1]+v[3]+v[5])/3):g==="quadrilateral"?(S=(v[0]+v[2]+v[4]+v[6])/4,(v[1]+v[3]+v[5]+v[7])/4):g==="line"?(S=(v[0]+v[2])/2,(v[1]+v[3])/2):(S=v[0],v[1]),[S,g]}(d,_);if(d==="line"?(p.color=this.ingredients.colors.stroke,p.length=Math.round(this.dist(_[0],_[1],_[2],_[3])),w=this._getPos(_[0],[1]),f=this._getPos(_[2],[3]),p.loc=a(y,this.width,this.height),p.pos=w===f?"at ".concat(w):"from ".concat(w," to ").concat(f)):(d==="point"?p.color=this.ingredients.colors.stroke:(p.color=this.ingredients.colors.fill,p.area=this._getArea(d,_)),p.pos=this._getPos.apply(this,h(y)),p.loc=a(y,this.width,this.height)),this.ingredients.shapes[d]){if(this.ingredients.shapes[d]!==[p]){for(var m in this.ingredients.shapes[d])JSON.stringify(this.ingredients.shapes[d][m])===JSON.stringify(p)&&(b=!1);b===!0&&this.ingredients.shapes[d].push(p)}}else this.ingredients.shapes[d]=[p]},l.default.prototype._getPos=function(f,w){var f=new DOMPointReadOnly(f,w),w=this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform(),f=f.matrixTransform(w),w=f.x,f=f.y,p=this.width*this._pixelDensity,b=this.height*this._pixelDensity;return w<.4*p?f<.4*b?"top left":.6*b<f?"bottom left":"mid left":.6*p<w?f<.4*b?"top right":.6*b<f?"bottom right":"mid right":f<.4*b?"top middle":.6*b<f?"bottom middle":"middle"},l.default.prototype._getArea=function(d,_){var w,f,p=0,b=(d==="arc"?(p=(w=((_[5]-_[4])%(2*Math.PI)+2*Math.PI)%(2*Math.PI))*_[2]*_[3]/8,_[6]!=="open"&&_[6]!=="chord"||(f=_[0],v=_[1],b=_[0]+_[2]/2*Math.cos(_[4]).toFixed(2),S=_[1]+_[3]/2*Math.sin(_[4]).toFixed(2),m=_[0]+_[2]/2*Math.cos(_[5]).toFixed(2),y=_[1]+_[3]/2*Math.sin(_[5]).toFixed(2),f=Math.abs(f*(S-y)+b*(y-v)+m*(v-S))/2,w>Math.PI?p+=f:p-=f)):d==="ellipse"||d==="circle"?p=3.14*_[2]/2*_[3]/2:d==="line"||d==="point"?p=0:d==="quadrilateral"?p=Math.abs((_[6]+_[0])*(_[7]-_[1])+(_[0]+_[2])*(_[1]-_[3])+(_[2]+_[4])*(_[3]-_[5])+(_[4]+_[6])*(_[5]-_[7]))/2:d==="rectangle"||d==="square"?p=_[2]*_[3]:d==="triangle"&&(p=Math.abs(_[0]*(_[3]-_[5])+_[2]*(_[5]-_[1])+_[4]*(_[1]-_[3]))/2),this.width*this._pixelDensity),y=this.height*this._pixelDensity,m=[new DOMPoint(0,0),new DOMPoint(b,0),new DOMPoint(b,y),new DOMPoint(0,y)],g=(this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform()).inverse(),v=m.map(function(j){return j.matrixTransform(g)}),S=Math.abs((v[3].x+v[0].x)*(v[3].y-v[0].y)+(v[0].x+v[1].x)*(v[0].y-v[1].y)+(v[1].x+v[2].x)*(v[1].y-v[2].y)+(v[2].x+v[3].x)*(v[2].y-v[3].y))/2;return Math.round(100*p/S)},t=l.default,c.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],266:[function(t,o,c){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.concat"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype._updateTextOutput=function(l){var h,a,d,_;this.dummyDOM.querySelector("#".concat(l,"_summary"))&&(h=this._accessibleOutputs[l],d=function(w,f,p,b){return p="Your output is a, ".concat(p," by ").concat(b," pixels, ").concat(f," canvas containing the following"),p=w===1?"".concat(p," shape:"):"".concat(p," ").concat(w," shapes:"),p}((a=function(w,f){var p,b="",y=0;for(p in f)for(var m in f[p]){var g='<li><a href="#'.concat(w,"shape").concat(y,'">').concat(f[p][m].color," ").concat(p,"</a>");p==="line"?g+=", ".concat(f[p][m].pos,", ").concat(f[p][m].length," pixels long.</li>"):(g+=", at ".concat(f[p][m].pos),p!=="point"&&(g+=", covering ".concat(f[p][m].area,"% of the canvas")),g+=".</li>"),b+=g,y++}return{numShapes:y,listShapes:b}}(l,this.ingredients.shapes)).numShapes,this.ingredients.colors.background,this.width,this.height),_=function(w,f){var p,b="",y=0;for(p in f)for(var m in f[p]){var g='<tr id="'.concat(w,"shape").concat(y,'"><th>').concat(f[p][m].color," ").concat(p,"</th>");p==="line"?g+="<td>location = ".concat(f[p][m].pos,"</td><td>length = ").concat(f[p][m].length," pixels</td></tr>"):(g+="<td>location = ".concat(f[p][m].pos,"</td>"),p!=="point"&&(g+="<td> area = ".concat(f[p][m].area,"%</td>")),g+="</tr>"),b+=g,y++}return b}(l,this.ingredients.shapes),d!==h.summary.innerHTML&&(h.summary.innerHTML=d),a.listShapes!==h.list.innerHTML&&(h.list.innerHTML=a.listShapes),_!==h.shapeDetails.innerHTML&&(h.shapeDetails.innerHTML=_),this._accessibleOutputs[l]=h)},t=t.default,c.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153}],267:[function(t,o,c){var l=(l=t("./core/main"))&&l.__esModule?l:{default:l};t("./core/constants"),t("./core/environment"),t("./core/friendly_errors/stacktrace"),t("./core/friendly_errors/validate_params"),t("./core/friendly_errors/file_errors"),t("./core/friendly_errors/fes_core"),t("./core/friendly_errors/sketch_reader"),t("./core/helpers"),t("./core/legacy"),t("./core/preload"),t("./core/p5.Element"),t("./core/p5.Graphics"),t("./core/p5.Renderer"),t("./core/p5.Renderer2D"),t("./core/rendering"),t("./core/shim"),t("./core/structure"),t("./core/transform"),t("./core/shape/2d_primitives"),t("./core/shape/attributes"),t("./core/shape/curves"),t("./core/shape/vertex"),t("./accessibility/outputs"),t("./accessibility/textOutput"),t("./accessibility/gridOutput"),t("./accessibility/color_namer"),t("./color/color_conversion"),t("./color/creating_reading"),t("./color/p5.Color"),t("./color/setting"),t("./data/p5.TypedDict"),t("./data/local_storage.js"),t("./dom/dom"),t("./accessibility/describe"),t("./events/acceleration"),t("./events/keyboard"),t("./events/mouse"),t("./events/touch"),t("./image/filters"),t("./image/image"),t("./image/loading_displaying"),t("./image/p5.Image"),t("./image/pixels"),t("./io/files"),t("./io/p5.Table"),t("./io/p5.TableRow"),t("./io/p5.XML"),t("./math/calculation"),t("./math/math"),t("./math/noise"),t("./math/p5.Vector"),t("./math/random"),t("./math/trigonometry"),t("./typography/attributes"),t("./typography/loading_displaying"),t("./typography/p5.Font"),t("./utilities/array_functions"),t("./utilities/conversion"),t("./utilities/string_functions"),t("./utilities/time_date"),t("./webgl/3d_primitives"),t("./webgl/interaction"),t("./webgl/light"),t("./webgl/loading"),t("./webgl/material"),t("./webgl/p5.Camera"),t("./webgl/p5.DataArray"),t("./webgl/p5.Geometry"),t("./webgl/p5.Matrix"),t("./webgl/p5.Quat"),t("./webgl/p5.RendererGL.Immediate"),t("./webgl/p5.RendererGL"),t("./webgl/p5.RendererGL.Retained"),t("./webgl/p5.Framebuffer"),t("./webgl/p5.Shader"),t("./webgl/p5.RenderBuffer"),t("./webgl/p5.Texture"),t("./webgl/text"),t("./core/init"),o.exports=l.default},{"./accessibility/color_namer":262,"./accessibility/describe":263,"./accessibility/gridOutput":264,"./accessibility/outputs":265,"./accessibility/textOutput":266,"./color/color_conversion":268,"./color/creating_reading":269,"./color/p5.Color":270,"./color/setting":271,"./core/constants":272,"./core/environment":273,"./core/friendly_errors/fes_core":274,"./core/friendly_errors/file_errors":275,"./core/friendly_errors/sketch_reader":276,"./core/friendly_errors/stacktrace":277,"./core/friendly_errors/validate_params":278,"./core/helpers":279,"./core/init":280,"./core/legacy":282,"./core/main":283,"./core/p5.Element":284,"./core/p5.Graphics":285,"./core/p5.Renderer":286,"./core/p5.Renderer2D":287,"./core/preload":288,"./core/rendering":289,"./core/shape/2d_primitives":290,"./core/shape/attributes":291,"./core/shape/curves":292,"./core/shape/vertex":293,"./core/shim":294,"./core/structure":295,"./core/transform":296,"./data/local_storage.js":297,"./data/p5.TypedDict":298,"./dom/dom":299,"./events/acceleration":300,"./events/keyboard":301,"./events/mouse":302,"./events/touch":303,"./image/filters":304,"./image/image":305,"./image/loading_displaying":306,"./image/p5.Image":307,"./image/pixels":308,"./io/files":309,"./io/p5.Table":310,"./io/p5.TableRow":311,"./io/p5.XML":312,"./math/calculation":313,"./math/math":314,"./math/noise":315,"./math/p5.Vector":316,"./math/random":317,"./math/trigonometry":318,"./typography/attributes":319,"./typography/loading_displaying":320,"./typography/p5.Font":321,"./utilities/array_functions":322,"./utilities/conversion":323,"./utilities/string_functions":324,"./utilities/time_date":325,"./webgl/3d_primitives":326,"./webgl/interaction":328,"./webgl/light":329,"./webgl/loading":330,"./webgl/material":331,"./webgl/p5.Camera":332,"./webgl/p5.DataArray":333,"./webgl/p5.Framebuffer":334,"./webgl/p5.Geometry":335,"./webgl/p5.Matrix":336,"./webgl/p5.Quat":337,"./webgl/p5.RenderBuffer":338,"./webgl/p5.RendererGL":341,"./webgl/p5.RendererGL.Immediate":339,"./webgl/p5.RendererGL.Retained":340,"./webgl/p5.Shader":342,"./webgl/p5.Texture":343,"./webgl/text":344}],268:[function(t,o,c){Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.ColorConversion={_hsbaToHSLA:function(l){var h=l[0],a=l[1],d=l[2],_=(2-a)*d/2;return _!=0&&(_==1?a=0:_<.5?a/=2-a:a=a*d/(2-2*_)),[h,a,_,l[3]]},_hsbaToRGBA:function(l){var h,a,d,_,w,f=6*l[0],p=l[1],b=l[2];return p===0?[b,b,b,l[3]]:(a=b*(1-p),d=b*(1-p*(f-(h=Math.floor(f)))),p=b*(1-p*(1+h-f)),f=h===1?(_=d,w=b,a):h===2?(_=a,w=b,p):h===3?(_=a,w=d,b):h===4?(_=p,w=a,b):h===5?(_=b,w=a,d):(_=b,w=p,a),[_,w,f,l[3]])},_hslaToHSBA:function(l){var h=l[0],a=l[1],d=l[2],_=d<.5?(1+a)*d:d+a-d*a;return[h,a=2*(_-d)/_,_,l[3]]},_hslaToRGBA:function(l){var h,a=6*l[0],d=l[1],_=l[2];return d===0?[_,_,_,l[3]]:[(h=function(w,f,p){return w<0?w+=6:6<=w&&(w-=6),w<1?f+(p-f)*w:w<3?p:w<4?f+(p-f)*(4-w):f})(2+a,d=2*_-(_=_<.5?(1+d)*_:_+d-_*d),_),h(a,d,_),h(a-2,d,_),l[3]]},_rgbaToHSBA:function(l){var h,a,d=l[0],_=l[1],w=l[2],f=Math.max(d,_,w),p=f-Math.min(d,_,w);return p==0?a=h=0:(a=p/f,d===f?h=(_-w)/p:_===f?h=2+(w-d)/p:w===f&&(h=4+(d-_)/p),h<0?h+=6:6<=h&&(h-=6)),[h/6,a,f,l[3]]},_rgbaToHSLA:function(l){var h,a,d=l[0],_=l[1],w=l[2],f=Math.max(d,_,w),b=Math.min(d,_,w),p=f+b,b=f-b;return b==0?a=h=0:(a=p<1?b/p:b/(2-p),d===f?h=(_-w)/b:_===f?h=2+(w-d)/b:w===f&&(h=4+(d-_)/b),h<0?h+=6:6<=h&&(h-=6)),[h/6,a,p/2,l[3]]}},t=t.default.ColorConversion,c.default=t},{"../core/main":283}],269:[function(t,o,c){function l(f){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(f)}function h(f){return(h=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(p){return l(p)}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":l(p)})(f)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.map"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var a=(w=t("../core/main"))&&w.__esModule?w:{default:w},d=function(f){if(f&&f.__esModule)return f;if(f===null||h(f)!=="object"&&typeof f!="function")return{default:f};var p=_();if(p&&p.has(f))return p.get(f);var b,y={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(b in f){var g;Object.prototype.hasOwnProperty.call(f,b)&&((g=m?Object.getOwnPropertyDescriptor(f,b):null)&&(g.get||g.set)?Object.defineProperty(y,b,g):y[b]=f[b])}return y.default=f,p&&p.set(f,y),y}(t("../core/constants"));function _(){var f;return typeof WeakMap!="function"?null:(f=new WeakMap,_=function(){return f},f)}t("./p5.Color"),t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),a.default.prototype.alpha=function(f){return a.default._validateParameters("alpha",arguments),this.color(f)._getAlpha()},a.default.prototype.blue=function(f){return a.default._validateParameters("blue",arguments),this.color(f)._getBlue()},a.default.prototype.brightness=function(f){return a.default._validateParameters("brightness",arguments),this.color(f)._getBrightness()},a.default.prototype.color=function(){for(var f,p=arguments.length,b=new Array(p),y=0;y<p;y++)b[y]=arguments[y];return a.default._validateParameters("color",b),b[0]instanceof a.default.Color?b[0]:(f=Array.isArray(b[0])?b[0]:b,new a.default.Color(this,f))},a.default.prototype.green=function(f){return a.default._validateParameters("green",arguments),this.color(f)._getGreen()},a.default.prototype.hue=function(f){return a.default._validateParameters("hue",arguments),this.color(f)._getHue()},a.default.prototype.lerpColor=function(f,p,b){a.default._validateParameters("lerpColor",arguments),f instanceof a.default.Color||(f=color(f)),p instanceof a.default.Color||(p=color(p));var y,m,g,v=this._colorMode,S=this._colorMaxes;if(v===d.RGB)m=f.levels.map(function(j){return j/255}),g=p.levels.map(function(j){return j/255});else if(v===d.HSB)f._getBrightness(),p._getBrightness(),m=f.hsba,g=p.hsba;else{if(v!==d.HSL)throw new Error("".concat(v," cannot be used for interpolation."));f._getLightness(),p._getLightness(),m=f.hsla,g=p.hsla}return b=Math.max(Math.min(b,1),0),this.lerp===void 0&&(this.lerp=function(j,A,L){return L*(A-j)+j}),v===d.RGB?y=this.lerp(m[0],g[0],b):(.5<Math.abs(m[0]-g[0])&&(m[0]>g[0]?g[0]+=1:m[0]+=1),1<=(y=this.lerp(m[0],g[0],b))&&--y),f=this.lerp(m[1],g[1],b),p=this.lerp(m[2],g[2],b),m=this.lerp(m[3],g[3],b),y*=S[v][0],f*=S[v][1],p*=S[v][2],m*=S[v][3],this.color(y,f,p,m)},a.default.prototype.paletteLerp=function(f,p){var b=f[0];if(p<b[1])return this.color(b[0]);for(var y=1;y<f.length;y++){var m,g=f[y];if(p<g[1])return m=f[y-1],this.lerpColor(this.color(m[0]),this.color(g[0]),(p-m[1])/(g[1]-m[1]))}return this.color(f[f.length-1][0])},a.default.prototype.lightness=function(f){return a.default._validateParameters("lightness",arguments),this.color(f)._getLightness()},a.default.prototype.red=function(f){return a.default._validateParameters("red",arguments),this.color(f)._getRed()},a.default.prototype.saturation=function(f){return a.default._validateParameters("saturation",arguments),this.color(f)._getSaturation()};var w=a.default;c.default=w},{"../core/constants":272,"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"./p5.Color":270,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],270:[function(y,o,c){function l(j){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A})(j)}function h(j){return(h=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(A){return l(A)}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":l(A)})(j)}y("core-js/modules/es.symbol"),y("core-js/modules/es.symbol.description"),y("core-js/modules/es.symbol.iterator"),y("core-js/modules/es.array.includes"),y("core-js/modules/es.array.iterator"),y("core-js/modules/es.array.join"),y("core-js/modules/es.array.map"),y("core-js/modules/es.array.slice"),y("core-js/modules/es.object.get-own-property-descriptor"),y("core-js/modules/es.object.to-string"),y("core-js/modules/es.regexp.constructor"),y("core-js/modules/es.regexp.exec"),y("core-js/modules/es.regexp.to-string"),y("core-js/modules/es.string.includes"),y("core-js/modules/es.string.iterator"),y("core-js/modules/es.string.trim"),y("core-js/modules/es.weak-map"),y("core-js/modules/web.dom-collections.iterator"),y("core-js/modules/es.array.includes"),y("core-js/modules/es.array.join"),y("core-js/modules/es.array.map"),y("core-js/modules/es.array.slice"),y("core-js/modules/es.object.to-string"),y("core-js/modules/es.regexp.constructor"),y("core-js/modules/es.regexp.exec"),y("core-js/modules/es.regexp.to-string"),y("core-js/modules/es.string.includes"),y("core-js/modules/es.string.trim"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var a=f(y("../core/main")),d=function(j){if(j&&j.__esModule)return j;if(j===null||h(j)!=="object"&&typeof j!="function")return{default:j};var A=w();if(A&&A.has(j))return A.get(j);var L,C={},T=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(L in j){var R;Object.prototype.hasOwnProperty.call(j,L)&&((R=T?Object.getOwnPropertyDescriptor(j,L):null)&&(R.get||R.set)?Object.defineProperty(C,L,R):C[L]=j[L])}return C.default=j,A&&A.set(j,C),C}(y("../core/constants")),_=f(y("./color_conversion"));function w(){var j;return typeof WeakMap!="function"?null:(j=new WeakMap,w=function(){return j},j)}function f(j){return j&&j.__esModule?j:{default:j}}function p(j,A){for(var L=0;L<A.length;L++){var C=A[L];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(j,C.key,C)}}var b={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},y=/\s*/,S=/(\d{1,3})/,m=/((?:\d+(?:\.\d+)?)|(?:\.\d+))/,g=new RegExp("".concat(m.source,"%")),v={HEX3:/^#([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX4:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX6:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,HEX8:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,RGB:new RegExp(["^rgb\\(",S.source,",",S.source,",",S.source,"\\)$"].join(y.source),"i"),RGB_PERCENT:new RegExp(["^rgb\\(",g.source,",",g.source,",",g.source,"\\)$"].join(y.source),"i"),RGBA:new RegExp(["^rgba\\(",S.source,",",S.source,",",S.source,",",m.source,"\\)$"].join(y.source),"i"),RGBA_PERCENT:new RegExp(["^rgba\\(",g.source,",",g.source,",",g.source,",",m.source,"\\)$"].join(y.source),"i"),HSL:new RegExp(["^hsl\\(",S.source,",",g.source,",",g.source,"\\)$"].join(y.source),"i"),HSLA:new RegExp(["^hsla\\(",S.source,",",g.source,",",g.source,",",m.source,"\\)$"].join(y.source),"i"),HSB:new RegExp(["^hsb\\(",S.source,",",g.source,",",g.source,"\\)$"].join(y.source),"i"),HSBA:new RegExp(["^hsba\\(",S.source,",",g.source,",",g.source,",",m.source,"\\)$"].join(y.source),"i")},S=(a.default.Color=function(){function j(T,R){if(!(this instanceof j))throw new TypeError("Cannot call a class as a function");if(this._storeModeAndMaxes(T._colorMode,T._colorMaxes),![d.RGB,d.HSL,d.HSB].includes(this.mode))throw new Error("".concat(this.mode," is an invalid colorMode."));this._array=j._parseInputs.apply(this,R),this._calculateLevels()}var A,L,C;return A=j,C=[{key:"_parseInputs",value:function(T,R,D,k){var F,P=arguments.length,q=this.mode,z=this.maxes[q],H=[];if(3<=P){for(H[0]=T/z[0],H[1]=R/z[1],H[2]=D/z[2],H[3]=typeof k=="number"?k/z[3]:1,F=H.length-1;0<=F;--F){var Q=H[F];Q<0?H[F]=0:1<Q&&(H[F]=1)}return q===d.HSL?_.default._hslaToRGBA(H):q===d.HSB?_.default._hsbaToRGBA(H):H}if(P===1&&typeof T=="string"){if(D=T.trim().toLowerCase(),b[D])return j._parseInputs.call(this,b[D]);if(v.HEX3.test(D))return(H=v.HEX3.exec(D).slice(1).map(function(J){return parseInt(J+J,16)/255}))[3]=1,H;if(v.HEX6.test(D))return(H=v.HEX6.exec(D).slice(1).map(function(J){return parseInt(J,16)/255}))[3]=1,H;if(v.HEX4.test(D))return H=v.HEX4.exec(D).slice(1).map(function(J){return parseInt(J+J,16)/255});if(v.HEX8.test(D))return H=v.HEX8.exec(D).slice(1).map(function(J){return parseInt(J,16)/255});if(v.RGB.test(D))return(H=v.RGB.exec(D).slice(1).map(function(J){return J/255}))[3]=1,H;if(v.RGB_PERCENT.test(D))return(H=v.RGB_PERCENT.exec(D).slice(1).map(function(J){return parseFloat(J)/100}))[3]=1,H;if(v.RGBA.test(D))return H=v.RGBA.exec(D).slice(1).map(function(J,Z){return Z===3?parseFloat(J):J/255});if(v.RGBA_PERCENT.test(D))return H=v.RGBA_PERCENT.exec(D).slice(1).map(function(J,Z){return Z===3?parseFloat(J):parseFloat(J)/100});if(v.HSL.test(D)?(H=v.HSL.exec(D).slice(1).map(function(J,Z){return Z===0?parseInt(J,10)/360:parseInt(J,10)/100}))[3]=1:v.HSLA.test(D)&&(H=v.HSLA.exec(D).slice(1).map(function(J,Z){return Z===0?parseInt(J,10)/360:Z===3?parseFloat(J):parseInt(J,10)/100})),(H=H.map(function(J){return Math.max(Math.min(J,1),0)})).length)return _.default._hslaToRGBA(H);if(v.HSB.test(D)?(H=v.HSB.exec(D).slice(1).map(function(J,Z){return Z===0?parseInt(J,10)/360:parseInt(J,10)/100}))[3]=1:v.HSBA.test(D)&&(H=v.HSBA.exec(D).slice(1).map(function(J,Z){return Z===0?parseInt(J,10)/360:Z===3?parseFloat(J):parseInt(J,10)/100})),H.length){for(F=H.length-1;0<=F;--F)H[F]=Math.max(Math.min(H[F],1),0);return _.default._hsbaToRGBA(H)}H=[1,1,1,1]}else{if(P!==1&&P!==2||typeof T!="number")throw new Error("".concat(arguments,"is not a valid color representation."));H[0]=T/z[2],H[1]=T/z[2],H[2]=T/z[2],H[3]=typeof R=="number"?R/z[3]:1,H=H.map(function(J){return Math.max(Math.min(J,1),0)})}return H}}],(L=[{key:"toString",value:function(T){var R=this.levels,D=this._array,k=D[3];switch(T){case"#rrggbb":return"#".concat(R[0]<16?"0".concat(R[0].toString(16)):R[0].toString(16),R[1]<16?"0".concat(R[1].toString(16)):R[1].toString(16),R[2]<16?"0".concat(R[2].toString(16)):R[2].toString(16));case"#rrggbbaa":return"#".concat(R[0]<16?"0".concat(R[0].toString(16)):R[0].toString(16),R[1]<16?"0".concat(R[1].toString(16)):R[1].toString(16),R[2]<16?"0".concat(R[2].toString(16)):R[2].toString(16),R[3]<16?"0".concat(R[3].toString(16)):R[3].toString(16));case"#rgb":return"#".concat(Math.round(15*D[0]).toString(16),Math.round(15*D[1]).toString(16),Math.round(15*D[2]).toString(16));case"#rgba":return"#".concat(Math.round(15*D[0]).toString(16),Math.round(15*D[1]).toString(16),Math.round(15*D[2]).toString(16),Math.round(15*D[3]).toString(16));case"rgb":return"rgb(".concat(R[0],", ",R[1],", ",R[2],")");case"rgb%":return"rgb(".concat((100*D[0]).toPrecision(3),"%, ",(100*D[1]).toPrecision(3),"%, ",(100*D[2]).toPrecision(3),"%)");case"rgba%":return"rgba(".concat((100*D[0]).toPrecision(3),"%, ",(100*D[1]).toPrecision(3),"%, ",(100*D[2]).toPrecision(3),"%, ",(100*D[3]).toPrecision(3),"%)");case"hsb":case"hsv":return this.hsba||(this.hsba=_.default._rgbaToHSBA(this._array)),"hsb(".concat(this.hsba[0]*this.maxes[d.HSB][0],", ",this.hsba[1]*this.maxes[d.HSB][1],", ",this.hsba[2]*this.maxes[d.HSB][2],")");case"hsb%":case"hsv%":return this.hsba||(this.hsba=_.default._rgbaToHSBA(this._array)),"hsb(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%)");case"hsba":case"hsva":return this.hsba||(this.hsba=_.default._rgbaToHSBA(this._array)),"hsba(".concat(this.hsba[0]*this.maxes[d.HSB][0],", ",this.hsba[1]*this.maxes[d.HSB][1],", ",this.hsba[2]*this.maxes[d.HSB][2],", ",k,")");case"hsba%":case"hsva%":return this.hsba||(this.hsba=_.default._rgbaToHSBA(this._array)),"hsba(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%, ",(100*k).toPrecision(3),"%)");case"hsl":return this.hsla||(this.hsla=_.default._rgbaToHSLA(this._array)),"hsl(".concat(this.hsla[0]*this.maxes[d.HSL][0],", ",this.hsla[1]*this.maxes[d.HSL][1],", ",this.hsla[2]*this.maxes[d.HSL][2],")");case"hsl%":return this.hsla||(this.hsla=_.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%)");case"hsla":return this.hsla||(this.hsla=_.default._rgbaToHSLA(this._array)),"hsla(".concat(this.hsla[0]*this.maxes[d.HSL][0],", ",this.hsla[1]*this.maxes[d.HSL][1],", ",this.hsla[2]*this.maxes[d.HSL][2],", ",k,")");case"hsla%":return this.hsla||(this.hsla=_.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%, ",(100*k).toPrecision(3),"%)");default:return"rgba(".concat(R[0],",",R[1],",",R[2],",",k,")")}}},{key:"setRed",value:function(T){this._array[0]=T/this.maxes[d.RGB][0],this._calculateLevels()}},{key:"setGreen",value:function(T){this._array[1]=T/this.maxes[d.RGB][1],this._calculateLevels()}},{key:"setBlue",value:function(T){this._array[2]=T/this.maxes[d.RGB][2],this._calculateLevels()}},{key:"setAlpha",value:function(T){this._array[3]=T/this.maxes[this.mode][3],this._calculateLevels()}},{key:"_calculateLevels",value:function(){for(var T=this._array,R=this.levels=new Array(T.length),D=T.length-1;0<=D;--D)R[D]=Math.round(255*T[D]);this.hsla=null,this.hsba=null}},{key:"_getAlpha",value:function(){return this._array[3]*this.maxes[this.mode][3]}},{key:"_storeModeAndMaxes",value:function(T,R){this.mode=T,this.maxes=R}},{key:"_getMode",value:function(){return this.mode}},{key:"_getMaxes",value:function(){return this.maxes}},{key:"_getBlue",value:function(){return this._array[2]*this.maxes[d.RGB][2]}},{key:"_getBrightness",value:function(){return this.hsba||(this.hsba=_.default._rgbaToHSBA(this._array)),this.hsba[2]*this.maxes[d.HSB][2]}},{key:"_getGreen",value:function(){return this._array[1]*this.maxes[d.RGB][1]}},{key:"_getHue",value:function(){return this.mode===d.HSB?(this.hsba||(this.hsba=_.default._rgbaToHSBA(this._array)),this.hsba[0]*this.maxes[d.HSB][0]):(this.hsla||(this.hsla=_.default._rgbaToHSLA(this._array)),this.hsla[0]*this.maxes[d.HSL][0])}},{key:"_getLightness",value:function(){return this.hsla||(this.hsla=_.default._rgbaToHSLA(this._array)),this.hsla[2]*this.maxes[d.HSL][2]}},{key:"_getRed",value:function(){return this._array[0]*this.maxes[d.RGB][0]}},{key:"_getSaturation",value:function(){return this.mode===d.HSB?(this.hsba||(this.hsba=_.default._rgbaToHSBA(this._array)),this.hsba[1]*this.maxes[d.HSB][1]):(this.hsla||(this.hsla=_.default._rgbaToHSLA(this._array)),this.hsla[1]*this.maxes[d.HSL][1])}}])&&p(A.prototype,L),C&&p(A,C),j}(),a.default.Color);c.default=S},{"../core/constants":272,"../core/main":283,"./color_conversion":268,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],271:[function(t,o,c){function l(f){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(f)}function h(f){return(h=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(p){return l(p)}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":l(p)})(f)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.fill"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var a=(w=t("../core/main"))&&w.__esModule?w:{default:w},d=function(f){if(f&&f.__esModule)return f;if(f===null||h(f)!=="object"&&typeof f!="function")return{default:f};var p=_();if(p&&p.has(f))return p.get(f);var b,y={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(b in f){var g;Object.prototype.hasOwnProperty.call(f,b)&&((g=m?Object.getOwnPropertyDescriptor(f,b):null)&&(g.get||g.set)?Object.defineProperty(y,b,g):y[b]=f[b])}return y.default=f,p&&p.set(f,y),y}(t("../core/constants"));function _(){var f;return typeof WeakMap!="function"?null:(f=new WeakMap,_=function(){return f},f)}t("./p5.Color"),a.default.prototype.beginClip=function(){this._renderer.beginClip(0<arguments.length&&arguments[0]!==void 0?arguments[0]:{})},a.default.prototype.endClip=function(){this._renderer.endClip()},a.default.prototype.clip=function(f,p){this._renderer.beginClip(p),f(),this._renderer.endClip(p)},a.default.prototype.background=function(){var f;return(f=this._renderer).background.apply(f,arguments),this},a.default.prototype.clear=function(){return this._renderer.clear((arguments.length<=0?void 0:arguments[0])||0,(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0,(arguments.length<=3?void 0:arguments[3])||0),this},a.default.prototype.colorMode=function(f,p,b,y,m){return a.default._validateParameters("colorMode",arguments),f!==d.RGB&&f!==d.HSB&&f!==d.HSL||(this._colorMode=f,f=this._colorMaxes[f],arguments.length===2?(f[0]=p,f[1]=p,f[2]=p,f[3]=p):arguments.length===4?(f[0]=p,f[1]=b,f[2]=y):arguments.length===5&&(f[0]=p,f[1]=b,f[2]=y,f[3]=m)),this},a.default.prototype.fill=function(){var f;return this._renderer._setProperty("_fillSet",!0),this._renderer._setProperty("_doFill",!0),(f=this._renderer).fill.apply(f,arguments),this},a.default.prototype.noFill=function(){return this._renderer._setProperty("_doFill",!1),this},a.default.prototype.noStroke=function(){return this._renderer._setProperty("_doStroke",!1),this},a.default.prototype.stroke=function(){var f;return this._renderer._setProperty("_strokeSet",!0),this._renderer._setProperty("_doStroke",!0),(f=this._renderer).stroke.apply(f,arguments),this},a.default.prototype.erase=function(){return this._renderer.erase(0<arguments.length&&arguments[0]!==void 0?arguments[0]:255,1<arguments.length&&arguments[1]!==void 0?arguments[1]:255),this},a.default.prototype.noErase=function(){return this._renderer.noErase(),this};var w=a.default;c.default=w},{"../core/constants":272,"../core/main":283,"./p5.Color":270,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],272:[function(t,o,c){Object.defineProperty(c,"__esModule",{value:!0}),c.QUADRATIC=c.LINEAR=c._CTX_MIDDLE=c._DEFAULT_LEADMULT=c._DEFAULT_TEXT_FILL=c.WORD=c.CHAR=c.BOLDITALIC=c.BOLD=c.ITALIC=c.NORMAL=c.BLUR=c.ERODE=c.DILATE=c.POSTERIZE=c.INVERT=c.OPAQUE=c.GRAY=c.THRESHOLD=c.BURN=c.DODGE=c.SOFT_LIGHT=c.HARD_LIGHT=c.OVERLAY=c.REPLACE=c.SCREEN=c.MULTIPLY=c.EXCLUSION=c.SUBTRACT=c.DIFFERENCE=c.LIGHTEST=c.DARKEST=c.ADD=c.REMOVE=c.BLEND=c.UP_ARROW=c.TAB=c.SHIFT=c.RIGHT_ARROW=c.RETURN=c.OPTION=c.LEFT_ARROW=c.ESCAPE=c.ENTER=c.DOWN_ARROW=c.DELETE=c.CONTROL=c.BACKSPACE=c.ALT=c.AUTO=c.HSL=c.HSB=c.RGB=c.MITER=c.BEVEL=c.ROUND=c.SQUARE=c.PROJECT=c.PIE=c.CHORD=c.OPEN=c.CLOSE=c.TESS=c.QUAD_STRIP=c.QUADS=c.TRIANGLE_STRIP=c.TRIANGLE_FAN=c.TRIANGLES=c.LINE_LOOP=c.LINE_STRIP=c.LINES=c.POINTS=c.BASELINE=c.BOTTOM=c.TOP=c.CENTER=c.LEFT=c.RIGHT=c.RADIUS=c.CORNERS=c.CORNER=c.RAD_TO_DEG=c.DEG_TO_RAD=c.RADIANS=c.DEGREES=c.TWO_PI=c.TAU=c.QUARTER_PI=c.PI=c.HALF_PI=c.WAIT=c.TEXT=c.MOVE=c.HAND=c.CROSS=c.ARROW=c.WEBGL2=c.WEBGL=c.P2D=c.VERSION=void 0,c.RGBA=c.HALF_FLOAT=c.FLOAT=c.UNSIGNED_INT=c.UNSIGNED_BYTE=c.COVER=c.CONTAIN=c.FALLBACK=c.LABEL=c.AXES=c.GRID=c._DEFAULT_FILL=c._DEFAULT_STROKE=c.PORTRAIT=c.LANDSCAPE=c.SMOOTH=c.FLAT=c.MIRROR=c.CLAMP=c.REPEAT=c.NEAREST=c.IMAGE=c.IMMEDIATE=c.TEXTURE=c.FILL=c.STROKE=c.CURVE=c.BEZIER=void 0;var l=Math.PI,h=(c.VERSION="1.11.2",c.P2D="p2d",c.WEBGL="webgl",c.WEBGL2="webgl2",c.ARROW="default",c.CROSS="crosshair",c.HAND="pointer",c.MOVE="move",c.TEXT="text",c.WAIT="wait",l/2),h=(c.HALF_PI=h,l),h=(c.PI=h,l/4),h=(c.QUARTER_PI=h,2*l),h=(c.TAU=h,2*l),h=(c.TWO_PI=h,c.DEGREES="degrees",c.RADIANS="radians",l/180),h=(c.DEG_TO_RAD=h,180/l);c.RAD_TO_DEG=h,c.CORNER="corner",c.CORNERS="corners",c.RADIUS="radius",c.RIGHT="right",c.LEFT="left",c.CENTER="center",c.TOP="top",c.BOTTOM="bottom",c.BASELINE="alphabetic",c.POINTS=0,c.LINES=1,c.LINE_STRIP=3,c.LINE_LOOP=2,c.TRIANGLES=4,c.TRIANGLE_FAN=6,c.TRIANGLE_STRIP=5,c.QUADS="quads",c.QUAD_STRIP="quad_strip",c.TESS="tess",c.CLOSE="close",c.OPEN="open",c.CHORD="chord",c.PIE="pie",c.PROJECT="square",c.SQUARE="butt",c.ROUND="round",c.BEVEL="bevel",c.MITER="miter",c.RGB="rgb",c.HSB="hsb",c.HSL="hsl",c.AUTO="auto",c.ALT=18,c.BACKSPACE=8,c.CONTROL=17,c.DELETE=46,c.DOWN_ARROW=40,c.ENTER=13,c.ESCAPE=27,c.LEFT_ARROW=37,c.OPTION=18,c.RETURN=13,c.RIGHT_ARROW=39,c.SHIFT=16,c.TAB=9,c.UP_ARROW=38,c.BLEND="source-over",c.REMOVE="destination-out",c.ADD="lighter",c.DARKEST="darken",c.LIGHTEST="lighten",c.DIFFERENCE="difference",c.SUBTRACT="subtract",c.EXCLUSION="exclusion",c.MULTIPLY="multiply",c.SCREEN="screen",c.REPLACE="copy",c.OVERLAY="overlay",c.HARD_LIGHT="hard-light",c.SOFT_LIGHT="soft-light",c.DODGE="color-dodge",c.BURN="color-burn",c.THRESHOLD="threshold",c.GRAY="gray",c.OPAQUE="opaque",c.INVERT="invert",c.POSTERIZE="posterize",c.DILATE="dilate",c.ERODE="erode",c.BLUR="blur",c.NORMAL="normal",c.ITALIC="italic",c.BOLD="bold",c.BOLDITALIC="bold italic",c.CHAR="CHAR",c.WORD="WORD",c._DEFAULT_TEXT_FILL="#000000",c._DEFAULT_LEADMULT=1.25,c._CTX_MIDDLE="middle",c.LINEAR="linear",c.QUADRATIC="quadratic",c.BEZIER="bezier",c.CURVE="curve",c.STROKE="stroke",c.FILL="fill",c.TEXTURE="texture",c.IMMEDIATE="immediate",c.IMAGE="image",c.NEAREST="nearest",c.REPEAT="repeat",c.CLAMP="clamp",c.MIRROR="mirror",c.FLAT="flat",c.SMOOTH="smooth",c.LANDSCAPE="landscape",c.PORTRAIT="portrait",c._DEFAULT_STROKE="#000000",c._DEFAULT_FILL="#FFFFFF",c.GRID="grid",c.AXES="axes",c.LABEL="label",c.FALLBACK="fallback",c.CONTAIN="contain",c.COVER="cover",c.UNSIGNED_BYTE="unsigned-byte",c.UNSIGNED_INT="unsigned-int",c.FLOAT="float",c.HALF_FLOAT="half-float",c.RGBA="rgba"},{}],273:[function(t,o,c){function l(m){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(m)}function h(m){return(h=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(g){return l(g)}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":l(g)})(m)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.search"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.search"),t("core-js/modules/es.string.split"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var a=(d=t("./main"))&&d.__esModule?d:{default:d},d=function(m){if(m&&m.__esModule)return m;if(m===null||h(m)!=="object"&&typeof m!="function")return{default:m};var g=_();if(g&&g.has(m))return g.get(m);var v,S={},j=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(v in m){var A;Object.prototype.hasOwnProperty.call(m,v)&&((A=j?Object.getOwnPropertyDescriptor(m,v):null)&&(A.get||A.set)?Object.defineProperty(S,v,A):S[v]=m[v])}return S.default=m,g&&g.set(m,S),S}(t("./constants"));function _(){var m;return typeof WeakMap!="function"?null:(m=new WeakMap,_=function(){return m},m)}var w=[d.ARROW,d.CROSS,d.HAND,d.MOVE,d.TEXT,d.WAIT],f=(a.default.prototype._frameRate=0,a.default.prototype._lastFrameTime=window.performance.now(),a.default.prototype._targetFrameRate=60,window.print),p=!1;function b(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth||0}function y(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight||0}a.default.prototype.print=function(){var m;arguments.length?(m=console).log.apply(m,arguments):p||(f(),window.confirm("You just tried to print the webpage. Do you want to prevent this from running again?")&&(p=!0))},a.default.prototype.frameCount=0,a.default.prototype.deltaTime=0,a.default.prototype.focused=document.hasFocus(),a.default.prototype.cursor=function(m,g,v){var S,j="auto",A=this._curElement.elt;w.includes(m)?j=m:typeof m=="string"&&(S="",g&&v&&typeof g=="number"&&typeof v=="number"&&(S="".concat(g," ").concat(v)),j=m.substring(0,7)==="http://"||m.substring(0,8)==="https://"||/\.(cur|jpg|jpeg|gif|png|CUR|JPG|JPEG|GIF|PNG)$/.test(m)?"url(".concat(m,") ").concat(S,", auto"):m),A.style.cursor=j},a.default.prototype.frameRate=function(m){return a.default._validateParameters("frameRate",arguments),typeof m!="number"||m<0?this._frameRate:(this._setProperty("_targetFrameRate",m),m===0&&this._setProperty("_frameRate",m),this)},a.default.prototype.getFrameRate=function(){return this.frameRate()},a.default.prototype.setFrameRate=function(m){return this.frameRate(m)},a.default.prototype.getTargetFrameRate=function(){return this._targetFrameRate},a.default.prototype.noCursor=function(){this._curElement.elt.style.cursor="none"},a.default.prototype.webglVersion=d.P2D,a.default.prototype.displayWidth=screen.width,a.default.prototype.displayHeight=screen.height,a.default.prototype.windowWidth=0,a.default.prototype.windowHeight=0,a.default.prototype._onresize=function(m){this._setProperty("windowWidth",b()),this._setProperty("windowHeight",y());var g=this._isGlobal?window:this;typeof g.windowResized!="function"||(g=g.windowResized(m))===void 0||g||m.preventDefault()},a.default.prototype._updateWindowSize=function(){this._setProperty("windowWidth",b()),this._setProperty("windowHeight",y())},a.default.prototype.width=0,a.default.prototype.height=0,a.default.prototype.fullscreen=function(m){if(a.default._validateParameters("fullscreen",arguments),m===void 0)return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;if(m){if(m=document.documentElement,!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled))throw new Error("Fullscreen not enabled in this browser.");m.requestFullscreen?m.requestFullscreen():m.mozRequestFullScreen?m.mozRequestFullScreen():m.webkitRequestFullscreen?m.webkitRequestFullscreen():m.msRequestFullscreen&&m.msRequestFullscreen()}else document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},a.default.prototype.pixelDensity=function(m){var g;return a.default._validateParameters("pixelDensity",arguments),typeof m=="number"?(m!==this._pixelDensity&&(this._pixelDensity=this._maxAllowedPixelDimensions=m),(g=this).resizeCanvas(this.width,this.height,!0)):g=this._pixelDensity,g},a.default.prototype.displayDensity=function(){return window.devicePixelRatio},a.default.prototype.getURL=function(){return location.href},a.default.prototype.getURLPath=function(){return location.pathname.split("/").filter(function(m){return m!==""})},a.default.prototype.getURLParams=function(){for(var m,g=/[?&]([^&=]+)(?:[&=])([^&=]+)/gim,v={};(m=g.exec(location.search))!=null;)m.index===g.lastIndex&&g.lastIndex++,v[m[1]]=m[2];return v},t=a.default,c.default=t},{"./constants":272,"./main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.search":205,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],274:[function(t,o,c){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.starts-with"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.starts-with"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var l=(w=t("../main"))&&w.__esModule?w:{default:w};t("../internationalization");function h(f,p){p=p||console.log.bind(console),a||_(),a.some(function(b){var y;if(f.message&&f.message.match("\\W?".concat(b.name,"\\W"))!==null)return y=b.type==="function"?"".concat(b.name,"()"):b.name,p("Did you just try to use p5.js's ".concat(y," ").concat(b.type,`? If so, you may want to move it into your sketch's setup() function.

For more details, see: `).concat(d)),!0})}var a=null,_=null,d=(l.default._friendlyError=l.default._checkForUserDefinedFunctions=l.default._fesErrorMonitor=function(){},a=null,"https://github.com/processing/p5.js/wiki/p5.js-overview#why-cant-i-assign-variables-using-p5-functions-and-variables-before-setup"),_=function(){function f(b){return Object.getOwnPropertyNames(b).filter(function(y){return y[0]!=="_"&&!(y in p)&&(p[y]=!0)}).map(function(y){var m=typeof b[y]=="function"?"function":y===y.toUpperCase()?"constant":"variable";return{name:y,type:m}})}var p={};(a=[].concat(f(l.default.prototype),f(t("../constants")))).sort(function(b,y){return y.name.length-b.name.length})},w=(l.default.prototype._helpForMisusedAtTopLevelCode=h,document.readyState!=="complete"&&(window.addEventListener("error",h,!1),window.addEventListener("load",function(){window.removeEventListener("error",h,!1)})),l.default);c.default=w},{"../constants":272,"../internationalization":281,"../main":283,"./browser_errors":void 0,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.some":170,"core-js/modules/es.function.name":174,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-names":187,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.starts-with":207,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],275:[function(t,o,c){Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var l=(l=t("../main"))&&l.__esModule?l:{default:l};t("../internationalization"),l.default._friendlyFileLoadError=function(){},t=l.default,c.default=t},{"../internationalization":281,"../main":283}],276:[function(t,o,c){function l(p){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(p)}function h(p){return(h=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(b){return l(b)}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":l(b)})(p)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.for-each"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var a=w(t("../main"));t("../internationalization"),_(t("../constants"));function d(){var p;return typeof WeakMap!="function"?null:(p=new WeakMap,d=function(){return p},p)}function _(p){if(p&&p.__esModule)return p;if(p===null||h(p)!=="object"&&typeof p!="function")return{default:p};var b=d();if(b&&b.has(p))return b.get(p);var y,m,g={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(y in p)Object.prototype.hasOwnProperty.call(p,y)&&((m=v?Object.getOwnPropertyDescriptor(p,y):null)&&(m.get||m.set)?Object.defineProperty(g,y,m):g[y]=p[y]);return g.default=p,b&&b.set(p,g),g}function w(p){return p&&p.__esModule?p:{default:p}}a.default._fesCodeReader=function(){};var f=a.default;c.default=f},{"../constants":272,"../internationalization":281,"../main":283,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],277:[function(t,o,c){t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0,t=(t=t("../main"))&&t.__esModule?t:{default:t};function l(){var h=/(^|@)\S+:\d+/,a=/^\s*at .*(\S+:\d+|\(native\))/m,d=/^(eval@)?(\[native code])?$/;return{parse:function(_){return _.stacktrace!==void 0||_["opera#sourceloc"]!==void 0?this.parseOpera(_):_.stack&&_.stack.match(a)?this.parseV8OrIE(_):_.stack?this.parseFFOrSafari(_):void 0},extractLocation:function(_){return _.indexOf(":")===-1?[_]:[(_=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(_.replace(/[()]/g,"")))[1],_[2]||void 0,_[3]||void 0]},parseV8OrIE:function(_){return _.stack.split(`
`).filter(function(w){return!!w.match(a)},this).map(function(w){var f=(w=-1<w.indexOf("(eval ")?w.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""):w).replace(/^\s+/,"").replace(/\(eval code/g,"("),p=f.match(/ (\((.+):(\d+):(\d+)\)$)/),f=(f=p?f.replace(p[0],""):f).split(/\s+/).slice(1),p=this.extractLocation(p?p[1]:f.pop());return{functionName:f.join(" ")||void 0,fileName:-1<["eval","<anonymous>"].indexOf(p[0])?void 0:p[0],lineNumber:p[1],columnNumber:p[2],source:w}},this)},parseFFOrSafari:function(_){return _.stack.split(`
`).filter(function(w){return!w.match(d)},this).map(function(w){var f,p;return(w=-1<w.indexOf(" > eval")?w.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1"):w).indexOf("@")===-1&&w.indexOf(":")===-1?{functionName:w}:{functionName:(p=w.match(f=/((.*".+"[^@]*)?[^@]*)(?:@)/))&&p[1]?p[1]:void 0,fileName:(p=this.extractLocation(w.replace(f,"")))[0],lineNumber:p[1],columnNumber:p[2],source:w}},this)},parseOpera:function(_){return!_.stacktrace||-1<_.message.indexOf(`
`)&&_.message.split(`
`).length>_.stacktrace.split(`
`).length?this.parseOpera9(_):_.stack?this.parseOpera11(_):this.parseOpera10(_)},parseOpera9:function(_){for(var w=/Line (\d+).*script (?:in )?(\S+)/i,f=_.message.split(`
`),p=[],b=2,y=f.length;b<y;b+=2){var m=w.exec(f[b]);m&&p.push({fileName:m[2],lineNumber:m[1],source:f[b]})}return p},parseOpera10:function(_){for(var w=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,f=_.stacktrace.split(`
`),p=[],b=0,y=f.length;b<y;b+=2){var m=w.exec(f[b]);m&&p.push({functionName:m[3]||void 0,fileName:m[2],lineNumber:m[1],source:f[b]})}return p},parseOpera11:function(_){return _.stack.split(`
`).filter(function(w){return!!w.match(h)&&!w.match(/^Error created at/)},this).map(function(w){var f,b=w.split("@"),p=this.extractLocation(b.pop()),b=b.shift()||"";return{functionName:b.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0,args:(f=b.match(/\(([^)]*)\)/)?b.replace(/^[^(]+\(([^)]*)\)$/,"$1"):f)===void 0||f==="[arguments not available]"?void 0:f.split(","),fileName:p[0],lineNumber:p[1],columnNumber:p[2],source:w}},this)}}}t.default._getErrorStackParser=function(){return new l},t=t.default,c.default=t},{"../main":283,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.match":201,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206}],278:[function(t,o,c){function l(_){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(_)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var h=(h=t("../main"))&&h.__esModule?h:{default:h};(function(_){if(!(_&&_.__esModule)&&!(_===null||d(_)!=="object"&&typeof _!="function")){var w=a();if(w&&w.has(_))return w.get(_);var f,p={},b=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(f in _){var y;Object.prototype.hasOwnProperty.call(_,f)&&((y=b?Object.getOwnPropertyDescriptor(_,f):null)&&(y.get||y.set)?Object.defineProperty(p,f,y):p[f]=_[f])}p.default=_,w&&w.set(_,p)}})(t("../constants")),t("../internationalization");function a(){var _;return typeof WeakMap!="function"?null:(_=new WeakMap,a=function(){return _},_)}function d(_){return(d=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(w){return l(w)}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":l(w)})(_)}h.default._validateParameters=h.default._clearValidateParamsCache=function(){},t=h.default,c.default=t},{"../../../docs/parameterData.json":void 0,"../constants":272,"../internationalization":281,"../main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.function.name":174,"core-js/modules/es.map":175,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],279:[function(t,o,c){function l(_){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(_)}function h(_){return(h=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(w){return l(w)}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":l(w)})(_)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var a=function(_){if(_&&_.__esModule)return _;if(_===null||h(_)!=="object"&&typeof _!="function")return{default:_};var w=d();if(w&&w.has(_))return w.get(_);var f,p={},b=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(f in _){var y;Object.prototype.hasOwnProperty.call(_,f)&&((y=b?Object.getOwnPropertyDescriptor(_,f):null)&&(y.get||y.set)?Object.defineProperty(p,f,y):p[f]=_[f])}return p.default=_,w&&w.set(_,p),p}(t("./constants"));function d(){var _;return typeof WeakMap!="function"?null:(_=new WeakMap,d=function(){return _},_)}c.default={modeAdjust:function(_,w,f,p,b){var y;return b===a.CORNER?y={x:_,y:w,w:Math.abs(f),h:Math.abs(p)}:b===a.CORNERS?y={x:Math.min(_,f),y:Math.min(w,p),w:Math.abs(f-_),h:Math.abs(p-w)}:b===a.RADIUS?y={x:_-(f=Math.abs(f)),y:w-(p=Math.abs(p)),w:2*f,h:2*p}:b===a.CENTER&&(y={x:_-.5*(f=Math.abs(f)),y:w-.5*(p=Math.abs(p)),w:f,h:p}),y}}},{"./constants":272,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],280:[function(t,o,c){t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator");var l=(h=t("../core/main"))&&h.__esModule?h:{default:h};t("./internationalization");var h=Promise.resolve();Promise.all([new Promise(function(a,d){document.readyState==="complete"?a():window.addEventListener("load",a,!1)}),h]).then(function(){var a;window._setupDone!==void 0?console.warn("p5.js seems to have been imported multiple times. Please remove the duplicate import"):window.mocha||(a=new Event("p5Ready"),window.dispatchEvent(a),(window.setup&&typeof window.setup=="function"||window.draw&&typeof window.draw=="function")&&!l.default.instance&&new l.default)})},{"../core/main":283,"./internationalization":281,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.string.iterator":200,"core-js/modules/web.dom-collections.iterator":246}],281:[function(t,o,c){t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(c,"__esModule",{value:!0}),c.setTranslatorLanguage=c.currentTranslatorLanguage=c.availableTranslatorLanguages=c.initialize=c.translator=void 0;var l,h,a=_(t("i18next")),d=_(t("i18next-browser-languagedetector"));function _(p){return p&&p.__esModule?p:{default:p}}function w(p,b){for(var y=0;y<b.length;y++){var m=b[y];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(p,m.key,m)}}var f=function(){function p(m,g){if(!(this instanceof p))throw new TypeError("Cannot call a class as a function");this.init(m,g)}var b,y;return b=p,(y=[{key:"fetchWithTimeout",value:function(m,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:2e3;return Promise.race([fetch(m,g),new Promise(function(S,j){return setTimeout(function(){return j(new Error("timeout"))},v)})])}},{key:"init",value:function(m){var g=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};this.services=m,this.options=g}},{key:"read",value:function(m,g,v){var S=this.options.loadPath;m===this.options.fallback?v(null,l[m][g]):h.includes(m)?(S=this.services.interpolator.interpolate(S,{lng:m,ns:g}),this.loadUrl(S,v)):v("Not found",!1)}},{key:"loadUrl",value:function(m,g){this.fetchWithTimeout(m).then(function(v){if(v.ok)return v.json();throw new Error("failed loading ".concat(m))},function(){throw new Error("failed loading ".concat(m))}).then(function(v){return g(null,v)}).catch(g)}}])&&w(b.prototype,y),p}();f.type="backend",c.translator=function(p,b){console.debug("p5.js translator called before translations were loaded"),a.default.t(p,b)},c.initialize=function(){return a.default.use(d.default).use(f).init({fallbackLng:"en",nestingPrefix:"$tr(",nestingSuffix:")",defaultNS:"translation",returnEmptyString:!1,interpolation:{escapeValue:!1},detection:{checkWhitelist:!1,order:["querystring","navigator","htmlTag","path","subdomain"],caches:[]},backend:{fallback:"en",loadPath:"https://cdn.jsdelivr.net/npm/p5/translations/{{lng}}/{{ns}}.json"},partialBundledLanguages:!0,resources:l}).then(function(p){c.translator=p},function(p){return console.debug("Translations failed to load (".concat(p,")"))})},c.availableTranslatorLanguages=function(){return a.default.languages},c.currentTranslatorLanguage=function(p){return a.default.language},c.setTranslatorLanguage=function(p){return a.default.changeLanguage(p||void 0,function(b){return console.debug("Translations failed to load (".concat(b,")"))})}},{"../../translations":void 0,"../../translations/dev":void 0,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/web.dom-collections.iterator":246,i18next:3,"i18next-browser-languagedetector":3}],282:[function(t,o,c){Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0,t=(t=t("./main"))&&t.__esModule?t:{default:t},t.default.prototype.pushStyle=function(){throw new Error("pushStyle() not used, see push()")},t.default.prototype.popStyle=function(){throw new Error("popStyle() not used, see pop()")},t.default.prototype.popMatrix=function(){throw new Error("popMatrix() not used, see pop()")},t.default.prototype.pushMatrix=function(){throw new Error("pushMatrix() not used, see push()")},t=t.default,c.default=t},{"./main":283}],283:[function(t,o,c){function l(p){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(p)}function h(p){return(h=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(b){return l(b)}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":l(b)})(p)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0,t("./shim");var a=function(p){if(p&&p.__esModule)return p;if(p===null||h(p)!=="object"&&typeof p!="function")return{default:p};var b=d();if(b&&b.has(p))return b.get(p);var y,m={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(y in p){var v;Object.prototype.hasOwnProperty.call(p,y)&&((v=g?Object.getOwnPropertyDescriptor(p,y):null)&&(v.get||v.set)?Object.defineProperty(m,y,v):m[y]=p[y])}return m.default=p,b&&b.set(p,m),m}(t("./constants"));function d(){var p;return typeof WeakMap!="function"?null:(p=new WeakMap,d=function(){return p},p)}function _(p,b){for(var y=0;y<b.length;y++){var m=b[y];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(p,m.key,m)}}var w,f=function(){function p(m,S){var v=this;if(!(this instanceof p))throw new TypeError("Cannot call a class as a function");this._setupDone=!1,this._preloadDone=!1,this._pixelDensity=Math.ceil(window.devicePixelRatio)||1,this._maxAllowedPixelDimensions=0,this._userNode=S,this._curElement=null,this._elements=[],this._glAttributes=null,this._requestAnimId=0,this._preloadCount=0,this._isGlobal=!1,this._loop=!0,this._startListener=null,this._initializeInstanceVariables(),this._defaultCanvasSize={width:100,height:100},this._events={mousemove:null,mousedown:null,mouseup:null,dragend:null,dragover:null,click:null,dblclick:null,mouseover:null,mouseout:null,keydown:null,keyup:null,keypress:null,touchstart:null,touchmove:null,touchend:null,resize:null,blur:null},this._millisStart=-1,this._recording=!1,this.touchstart=!1,this.touchend=!1,this._lcg_random_state=null,this._gaussian_previous=!1,this._events.wheel=null,this._loadingScreenId="p5_loading",this._registeredMethods={};var S=Object.getOwnPropertyNames(p.prototype._registeredMethods),j=!0,A=!1,L=void 0;try{for(var C,T=S[Symbol.iterator]();!(j=(C=T.next()).done);j=!0){var R=C.value;this._registeredMethods[R]=p.prototype._registeredMethods[R].slice()}}catch(J){A=!0,L=J}finally{try{j||T.return==null||T.return()}finally{if(A)throw L}}window.DeviceOrientationEvent&&(this._events.deviceorientation=null),window.DeviceMotionEvent&&!window._isNodeWebkit&&(this._events.devicemotion=null),p.prototype.callRegisteredHooksFor=function(J){var Z=this||p.prototype,K=this._isGlobal?window:this;if(Z._registeredMethods.hasOwnProperty(J)){var Z=Z._registeredMethods[J],se=!0,J=!1,le=void 0;try{for(var M,G=Z[Symbol.iterator]();!(se=(M=G.next()).done);se=!0){var X=M.value;typeof X=="function"&&X.call(K)}}catch(ce){J=!0,le=ce}finally{try{se||G.return==null||G.return()}finally{if(J)throw le}}}},this._start=function(){v._userNode&&typeof v._userNode=="string"&&(v._userNode=document.getElementById(v._userNode));var J=v._isGlobal?window:v;if(J.preload){v.callRegisteredHooksFor("beforePreload");var Z,K=document.getElementById(v._loadingScreenId),se=(K||((K=document.createElement("div")).innerHTML="Loading...",K.style.position="absolute",K.id=v._loadingScreenId,(v._userNode||document.body).appendChild(K)),v._preloadMethods);for(Z in se){se[Z]=se[Z]||p;var le=se[Z];le!==p.prototype&&le!==p||(v._isGlobal&&(window[Z]=v._wrapPreload(v,Z)),le=v),v._registeredPreloadMethods[Z]=le[Z],le[Z]=v._wrapPreload(le,Z)}J.preload(),v._runIfPreloadsAreDone()}else v._setup(),v._recording||v._draw()},this._runIfPreloadsAreDone=function(){var J,Z=this._isGlobal?window:this;Z._preloadCount===0&&((J=document.getElementById(Z._loadingScreenId))&&J.parentNode.removeChild(J),this.callRegisteredHooksFor("afterPreload"),this._setupDone||(this._lastTargetFrameTime=window.performance.now(),this._lastRealFrameTime=window.performance.now(),Z._setup(),this._recording||Z._draw()))},this._decrementPreload=function(){var J=this._isGlobal?window:this;J._preloadDone||typeof J.preload!="function"||(J._setProperty("_preloadCount",J._preloadCount-1),J._runIfPreloadsAreDone())},this._wrapPreload=function(J,Z){var K=this;return function(){K._incrementPreload();for(var se=arguments.length,le=new Array(se),M=0;M<se;M++)le[M]=arguments[M];return K._registeredPreloadMethods[Z].apply(J,le)}},this._incrementPreload=function(){var J=this._isGlobal?window:this;J._preloadDone||J._setProperty("_preloadCount",J._preloadCount+1)},this._setup=function(){v.callRegisteredHooksFor("beforeSetup"),v.createCanvas(v._defaultCanvasSize.width,v._defaultCanvasSize.height,"p2d");var J=v._isGlobal?window:v;if(typeof J.preload=="function")for(var Z in v._preloadMethods)J[Z]=v._preloadMethods[Z][Z],J[Z]&&v&&(J[Z]=J[Z].bind(v));v._millisStart=window.performance.now(),J._preloadDone=!0,typeof J.setup=="function"&&J.setup();var K=document.getElementsByTagName("canvas"),se=!0,le=!1,M=void 0;try{for(var G,X=K[Symbol.iterator]();!(se=(G=X.next()).done);se=!0){var ee=G.value;ee.dataset.hidden==="true"&&(ee.style.visibility="",delete ee.dataset.hidden)}}catch(ae){le=!0,M=ae}finally{try{se||X.return==null||X.return()}finally{if(le)throw M}}v._lastTargetFrameTime=window.performance.now(),v._lastRealFrameTime=window.performance.now(),v._setupDone=!0,(v._accessibleOutputs.grid||v._accessibleOutputs.text)&&v._updateAccsOutput(),v.callRegisteredHooksFor("afterSetup")},this._draw=function(Z){var Z=Z||window.performance.now(),K=Z-v._lastTargetFrameTime,se=1e3/v._targetFrameRate;(!v._loop||se-5<=K)&&(v.deltaTime=Z-v._lastRealFrameTime,v._setProperty("deltaTime",v.deltaTime),v._frameRate=1e3/v.deltaTime,v.redraw(),v._lastTargetFrameTime=Math.max(v._lastTargetFrameTime+se,Z),v._lastRealFrameTime=Z,v._updateMouseCoords!==void 0&&(v._updateMouseCoords(),v._setProperty("movedX",0),v._setProperty("movedY",0))),v._loop&&(v._requestAnimId=window.requestAnimationFrame(v._draw))},this._setProperty=function(J,Z){v[J]=Z,v._isGlobal&&(window[J]=Z)},this.remove=function(){v._startListener&&window.removeEventListener("load",v._startListener,!1);var J=document.getElementById(v._loadingScreenId);if(J&&(J.parentNode.removeChild(J),v._incrementPreload()),v._curElement){for(var Z in v._loop=!1,v._requestAnimId&&window.cancelAnimationFrame(v._requestAnimId),v._events)window.removeEventListener(Z,v._events[Z]);var K=!0,J=!1,se=void 0;try{for(var le,M=v._elements[Symbol.iterator]();!(K=(le=M.next()).done);K=!0){var G,X=le.value;for(G in X.elt&&X.elt.parentNode&&X.elt.parentNode.removeChild(X.elt),X._events)X.elt.removeEventListener(G,X._events[G])}}catch(ve){J=!0,se=ve}finally{try{K||M.return==null||M.return()}finally{if(J)throw se}}var ee=v;v._registeredMethods.remove.forEach(function(ve){ve!==void 0&&ve.call(ee)})}if(v._isGlobal){for(var ae in p.prototype)try{delete window[ae]}catch{window[ae]=void 0}for(var ce in v)if(v.hasOwnProperty(ce))try{delete window[ce]}catch{window[ce]=void 0}p.instance=null}},this._updateWindowSize(),this._registeredMethods.init.forEach(function(J){J!==void 0&&J.call(this)},this),this._setupPromisePreloads();var D,k,F=this._createFriendlyGlobalFunctionBinder();if(m)m(this),p._checkForUserDefinedFunctions(this);else{for(var P in this._isGlobal=!0,p.instance=this,p.prototype)typeof p.prototype[P]=="function"?(D=P.substring(2),this._events.hasOwnProperty(D)||(Math.hasOwnProperty(P)&&Math[P]===p.prototype[P]?F(P,p.prototype[P]):F(P,p.prototype[P].bind(this)))):F(P,p.prototype[P]);for(var q in this)this.hasOwnProperty(q)&&F(q,this[q])}for(k in this._events){var z=this["_on".concat(k)];z&&(z=z.bind(this),window.addEventListener(k,z,{passive:!1}),this._events[k]=z)}function H(){v._setProperty("focused",!0)}function Q(){v._setProperty("focused",!1)}window.addEventListener("focus",H),window.addEventListener("blur",Q),this.registerMethod("remove",function(){window.removeEventListener("focus",H),window.removeEventListener("blur",Q)}),document.readyState==="complete"?this._start():(this._startListener=this._start.bind(this),window.addEventListener("load",this._startListener,!1))}var b,y;return b=p,(y=[{key:"_initializeInstanceVariables",value:function(){this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1},this._styles=[],this._bezierDetail=20,this._curveDetail=20,this._colorMode=a.RGB,this._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},this._downKeys={}}},{key:"registerPreloadMethod",value:function(m,g){p.prototype._preloadMethods.hasOwnProperty(m)||(p.prototype._preloadMethods[m]=g)}},{key:"registerMethod",value:function(m,g){var v=this||p.prototype;v._registeredMethods.hasOwnProperty(m)||(v._registeredMethods[m]=[]),v._registeredMethods[m].push(g)}},{key:"unregisterMethod",value:function(m,g){var v=this||p.prototype;if(v._registeredMethods.hasOwnProperty(m)){for(var S=v._registeredMethods[m],j=[],A=0;A<S.length;A++)S[A]===g&&j.push(A);for(var L=j.length-1;0<=L;L--)S.splice(j[L],1)}}},{key:"_createFriendlyGlobalFunctionBinder",value:function(){var m=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},g=m.globalObject||window;return m.log||console.log.bind(console),function(v,S){p.disableFriendlyErrors,g[v]=S}}}])&&_(b.prototype,y),p}();for(w in f.instance=null,f.disableFriendlyErrors=!1,a)f.prototype[w]=a[w];f.VERSION=a.VERSION,f.prototype._preloadMethods={loadJSON:f.prototype,loadImage:f.prototype,loadStrings:f.prototype,loadXML:f.prototype,loadBytes:f.prototype,loadTable:f.prototype,loadFont:f.prototype,loadModel:f.prototype,loadShader:f.prototype},f.prototype._registeredMethods={init:[],pre:[],post:[],remove:[]},f.prototype._registeredPreloadMethods={},c.default=f},{"./constants":272,"./shim":294,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-own-property-names":187,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],284:[function(t,o,c){Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var l=(t=t("./main"))&&t.__esModule?t:{default:t};function h(a,d){for(var _=0;_<d.length;_++){var w=d[_];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(a,w.key,w)}}l.default.Element=function(){function a(f,p){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.elt=f,this._pInst=this._pixelsState=p,this._events={},this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight}var d,_,w;return d=a,w=[{key:"_adjustListener",value:function(f,p,b){return p===!1?l.default.Element._detachListener(f,b):l.default.Element._attachListener(f,p,b),this}},{key:"_attachListener",value:function(f,p,b){b._events[f]&&l.default.Element._detachListener(f,b),p=p.bind(b),b.elt.addEventListener(f,p,!1),b._events[f]=p}},{key:"_detachListener",value:function(f,p){var b=p._events[f];p.elt.removeEventListener(f,b,!1),p._events[f]=null}}],(_=[{key:"parent",value:function(f){return f===void 0?this.elt.parentNode:(typeof f=="string"?(f[0]==="#"&&(f=f.substring(1)),f=document.getElementById(f)):f instanceof l.default.Element&&(f=f.elt),f.appendChild(this.elt),this)}},{key:"id",value:function(f){return f===void 0?this.elt.id:(this.elt.id=f,this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this)}},{key:"class",value:function(f){return f===void 0?this.elt.className:(this.elt.className=f,this)}},{key:"mousePressed",value:function(f){return l.default.Element._adjustListener("mousedown",function(p){return this._pInst._setProperty("mouseIsPressed",!0),this._pInst._setMouseButton(p),f.call(this,p)},this),this}},{key:"doubleClicked",value:function(f){return l.default.Element._adjustListener("dblclick",f,this),this}},{key:"mouseWheel",value:function(f){return l.default.Element._adjustListener("wheel",f,this),this}},{key:"mouseReleased",value:function(f){return l.default.Element._adjustListener("mouseup",f,this),this}},{key:"mouseClicked",value:function(f){return l.default.Element._adjustListener("click",f,this),this}},{key:"mouseMoved",value:function(f){return l.default.Element._adjustListener("mousemove",f,this),this}},{key:"mouseOver",value:function(f){return l.default.Element._adjustListener("mouseover",f,this),this}},{key:"mouseOut",value:function(f){return l.default.Element._adjustListener("mouseout",f,this),this}},{key:"touchStarted",value:function(f){return l.default.Element._adjustListener("touchstart",f,this),this}},{key:"touchMoved",value:function(f){return l.default.Element._adjustListener("touchmove",f,this),this}},{key:"touchEnded",value:function(f){return l.default.Element._adjustListener("touchend",f,this),this}},{key:"dragOver",value:function(f){return l.default.Element._adjustListener("dragover",f,this),this}},{key:"dragLeave",value:function(f){return l.default.Element._adjustListener("dragleave",f,this),this}},{key:"_setProperty",value:function(f,p){this[f]=p}}])&&h(d.prototype,_),w&&h(d,w),a}(),t=l.default.Element,c.default=t},{"./main":283}],285:[function(t,o,c){function l(v){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S})(v)}function h(v){return(h=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(S){return l(S)}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":l(S)})(v)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.get-prototype-of"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var a=(g=t("./main"))&&g.__esModule?g:{default:g},d=function(v){if(v&&v.__esModule)return v;if(v===null||h(v)!=="object"&&typeof v!="function")return{default:v};var S=_();if(S&&S.has(v))return S.get(v);var j,A={},L=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(j in v){var C;Object.prototype.hasOwnProperty.call(v,j)&&((C=L?Object.getOwnPropertyDescriptor(v,j):null)&&(C.get||C.set)?Object.defineProperty(A,j,C):A[j]=v[j])}return A.default=v,S&&S.set(v,A),A}(t("./constants"));function _(){var v;return typeof WeakMap!="function"?null:(v=new WeakMap,_=function(){return v},v)}function w(v,S){for(var j=0;j<S.length;j++){var A=S[j];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(v,A.key,A)}}function f(v,S){return(f=Object.setPrototypeOf||function(j,A){return j.__proto__=A,j})(v,S)}function p(v){return function(){var S,j=m(v);return b(this,function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(S=m(this).constructor,Reflect.construct(j,arguments,S)):j.apply(this,arguments))}}function b(v,S){return!S||h(S)!=="object"&&typeof S!="function"?y(v):S}function y(v){if(v===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}function m(v){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(S){return S.__proto__||Object.getPrototypeOf(S)})(v)}a.default.Graphics=function(v){var S=A;if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(v&&v.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),v&&f(S,v);var j=p(A);function A(L,C,q,R,D){var k;if(!(this instanceof A))throw new TypeError("Cannot call a class as a function");P=D||document.createElement("canvas"),(k=j.call(this,P,R)).canvas=P;var F,P=q||d.P2D,q=R._userNode||document.body;for(F in D||q.appendChild(k.canvas),a.default.prototype)k[F]||(typeof a.default.prototype[F]=="function"?k[F]=a.default.prototype[F].bind(y(k)):k[F]=a.default.prototype[F]);return a.default.prototype._initializeInstanceVariables.apply(y(k)),k.width=L,k.height=C,k._pixelDensity=R._pixelDensity,P===d.WEBGL?(k._renderer=new a.default.RendererGL(k.canvas,y(k),!1),L=(D=k._renderer._adjustDimensions(L,C)).adjustedWidth,C=D.adjustedHeight):k._renderer=new a.default.Renderer2D(k.canvas,y(k),!1),R._elements.push(y(k)),Object.defineProperty(y(k),"deltaTime",{get:function(){return this._pInst.deltaTime}}),k._renderer.resize(L,C),k._renderer._applyDefaults(),b(k,y(k))}return S=A,(v=[{key:"reset",value:function(){this._renderer.resetMatrix(),this._renderer.isP3D&&this._renderer._update()}},{key:"remove",value:function(){this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt);var L,C=this._pInst._elements.indexOf(this);for(L in C!==-1&&this._pInst._elements.splice(C,1),this._events)this.elt.removeEventListener(L,this._events[L]);this._renderer=void 0,this.canvas=void 0,this.elt=void 0}},{key:"createFramebuffer",value:function(L){return new a.default.Framebuffer(this,L)}}])&&w(S.prototype,v),A}(a.default.Element);var g=a.default.Graphics;c.default=g},{"./constants":272,"./main":283,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],286:[function(t,o,c){function l(v){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S})(v)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var h=(m=t("./main"))&&m.__esModule?m:{default:m},a=function(v){if(v&&v.__esModule)return v;if(v===null||_(v)!=="object"&&typeof v!="function")return{default:v};var S=d();if(S&&S.has(v))return S.get(v);var j,A={},L=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(j in v){var C;Object.prototype.hasOwnProperty.call(v,j)&&((C=L?Object.getOwnPropertyDescriptor(v,j):null)&&(C.get||C.set)?Object.defineProperty(A,j,C):A[j]=v[j])}return A.default=v,S&&S.set(v,A),A}(t("../core/constants"));function d(){var v;return typeof WeakMap!="function"?null:(v=new WeakMap,d=function(){return v},v)}function _(v){return(_=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(S){return l(S)}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":l(S)})(v)}function w(v,S){for(var j=0;j<S.length;j++){var A=S[j];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(v,A.key,A)}}function f(v,S){return(f=Object.setPrototypeOf||function(j,A){return j.__proto__=A,j})(v,S)}function p(v){return function(){var S,j,A=y(v);return S=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(S=y(this).constructor,Reflect.construct(A,arguments,S)):A.apply(this,arguments),A=this,!(j=S)||_(j)!=="object"&&typeof j!="function"?b(A):j}}function b(v){if(v===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}function y(v){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(S){return S.__proto__||Object.getPrototypeOf(S)})(v)}var m=function(v){var S=A;if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(v&&v.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),v&&f(S,v);var j=p(A);function A(L,C,T){var R;if(this instanceof A)return(R=j.call(this,L,C)).canvas=L,R._pixelsState=C,T?(R._isMainCanvas=!0,R._pInst._setProperty("_curElement",b(R)),R._pInst._setProperty("canvas",R.canvas),R._pInst._setProperty("width",R.width),R._pInst._setProperty("height",R.height)):(R.canvas.style.display="none",R._styles=[]),R._clipping=!1,R._clipInvert=!1,R._textSize=12,R._textLeading=15,R._textFont="sans-serif",R._textStyle=a.NORMAL,R._textAscent=null,R._textDescent=null,R._textAlign=a.LEFT,R._textBaseline=a.BASELINE,R._textWrap=a.WORD,R._rectMode=a.CORNER,R._ellipseMode=a.CENTER,R._curveTightness=0,R._imageMode=a.CORNER,R._tint=null,R._doStroke=!0,R._doFill=!0,R._strokeSet=!1,R._fillSet=!1,R._leadingSet=!1,R._pushPopDepth=0,R;throw new TypeError("Cannot call a class as a function")}return S=A,(v=[{key:"push",value:function(){return this._pushPopDepth++,{properties:{_doStroke:this._doStroke,_strokeSet:this._strokeSet,_doFill:this._doFill,_fillSet:this._fillSet,_tint:this._tint,_imageMode:this._imageMode,_rectMode:this._rectMode,_ellipseMode:this._ellipseMode,_textFont:this._textFont,_textLeading:this._textLeading,_leadingSet:this._leadingSet,_textSize:this._textSize,_textAlign:this._textAlign,_textBaseline:this._textBaseline,_textStyle:this._textStyle,_textWrap:this._textWrap}}}},{key:"pop",value:function(L){this._pushPopDepth--,L.properties&&Object.assign(this,L.properties)}},{key:"beginClip",value:function(){var L=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};if(this._clipping)throw new Error("It looks like you're trying to clip while already in the middle of clipping. Did you forget to endClip()?");this._clipping=!0,this._clipInvert=L.invert}},{key:"endClip",value:function(){if(!this._clipping)throw new Error("It looks like you've called endClip() without beginClip(). Did you forget to call beginClip() first?");this._clipping=!1}},{key:"resize",value:function(L,C){this.width=L,this.height=C,this.elt.width=L*this._pInst._pixelDensity,this.elt.height=C*this._pInst._pixelDensity,this.elt.style.width="".concat(L,"px"),this.elt.style.height="".concat(C,"px"),this._isMainCanvas&&(this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height))}},{key:"get",value:function(L,C,T,R){var D=this._pixelsState,k=D._pixelDensity,F=this.canvas;if(L===void 0&&C===void 0)L=C=0,T=D.width,R=D.height;else if(L*=k,C*=k,T===void 0&&R===void 0)return L<0||C<0||L>=F.width||C>=F.height?[0,0,0,0]:this._getPixel(L,C);return D=new h.default.Image(T*k,R*k),D.pixelDensity(k),D.canvas.getContext("2d").drawImage(F,L,C,T*k,R*k,0,0,T*k,R*k),D}},{key:"textLeading",value:function(L){return typeof L=="number"?(this._setProperty("_leadingSet",!0),this._setProperty("_textLeading",L),this._pInst):this._textLeading}},{key:"textStyle",value:function(L){return L?(L!==a.NORMAL&&L!==a.ITALIC&&L!==a.BOLD&&L!==a.BOLDITALIC||this._setProperty("_textStyle",L),this._applyTextProperties()):this._textStyle}},{key:"textAscent",value:function(){return this._textAscent===null&&this._updateTextMetrics(),this._textAscent}},{key:"textDescent",value:function(){return this._textDescent===null&&this._updateTextMetrics(),this._textDescent}},{key:"textAlign",value:function(L,C){return L!==void 0?(this._setProperty("_textAlign",L),C!==void 0&&this._setProperty("_textBaseline",C),this._applyTextProperties()):{horizontal:this._textAlign,vertical:this._textBaseline}}},{key:"textWrap",value:function(L){return this._setProperty("_textWrap",L),this._textWrap}},{key:"text",value:function(L,C,T,R,D){var k,F,P,q,z=this._pInst,H=this._textWrap,Q=Number.MAX_VALUE,J=T;if((this._doFill||this._doStroke)&&L!==void 0){if(k=(L=(L=typeof L!="string"?L.toString():L).replace(/(\t)/g,"  ")).split(`
`),R!==void 0){switch(this._rectMode===a.CENTER&&(C-=R/2),this._textAlign){case a.CENTER:C+=R/2;break;case a.RIGHT:C+=R}if(D!==void 0){this._rectMode===a.CENTER&&(T-=D/2,J-=D/2);var L=T,Z=z.textAscent();switch(this._textBaseline){case a.BOTTOM:q=T+D,T=Math.max(q,T),J+=Z;break;case a.CENTER:q=T+D/2,T=Math.max(q,T),J+=Z/2}Q=T+D-Z,this._textBaseline===a.CENTER&&(Q=L+D-Z/2)}else this._textBaseline!==a.BOTTOM&&this._textBaseline!==a.CENTER||(J=T-(L=z.textSize()*this._textLeading)/2,Q=T+L/2);if(H===a.WORD){for(var K=[],se=0;se<k.length;se++){for(var le="",M=k[se].split(" "),G=0;G<M.length;G++)F="".concat(le+M[G])+" ",le=R<(P=this.textWidth(F))&&0<le.length?(K.push(le),"".concat(M[G])+" "):F;K.push(le)}var X=0;this._textBaseline===a.CENTER?X=(K.length-1)*z.textLeading()/2:this._textBaseline===a.BOTTOM&&(X=(K.length-1)*z.textLeading());for(var ee=0;ee<k.length;ee++){le="",M=k[ee].split(" ");for(var ae=0;ae<M.length;ae++)F="".concat(le+M[ae])+" ",R<(P=this.textWidth(F))&&0<le.length?(this._renderText(z,le.trim(),C,T-X,Q,J),le="".concat(M[ae])+" ",T+=z.textLeading()):le=F;this._renderText(z,le.trim(),C,T-X,Q,J),T+=z.textLeading()}}else{for(var ce=[],pe=0;pe<k.length;pe++)for(var ve=k[pe].split(le=""),ge=0;ge<ve.length;ge++)F="".concat(le+ve[ge]),(P=this.textWidth(F))<=R?le+=ve[ge]:R<P&&0<le.length&&(ce.push(le),le="".concat(ve[ge]));ce.push(le);var Se=0;this._textBaseline===a.CENTER?Se=(ce.length-1)*z.textLeading()/2:this._textBaseline===a.BOTTOM&&(Se=(ce.length-1)*z.textLeading());for(var xe=0;xe<k.length;xe++){ve=k[xe].split(le="");for(var he=0;he<ve.length;he++)F="".concat(le+ve[he]),(P=this.textWidth(F))<=R?le+=ve[he]:R<P&&0<le.length&&(this._renderText(z,le.trim(),C,T-Se,Q,J),T+=z.textLeading(),le="".concat(ve[he]))}this._renderText(z,le.trim(),C,T-Se,Q,J),T+=z.textLeading()}}else{var je=0;this._textBaseline===a.CENTER?je=(k.length-1)*z.textLeading()/2:this._textBaseline===a.BOTTOM&&(je=(k.length-1)*z.textLeading());for(var Ce=0;Ce<k.length;Ce++)this._renderText(z,k[Ce],C,T-je,Q,J-je),T+=z.textLeading()}return z}}},{key:"_applyDefaults",value:function(){return this}},{key:"_isOpenType",value:function(){var L=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this._textFont;return _(L)==="object"&&L.font&&L.font.supported}},{key:"_updateTextMetrics",value:function(){var L,C,T,R,D,k;return this._isOpenType()?(this._setProperty("_textAscent",this._textFont._textAscent()),this._setProperty("_textDescent",this._textFont._textDescent())):((L=document.createElement("span")).style.fontFamily=this._textFont,L.style.fontSize="".concat(this._textSize,"px"),L.innerHTML="ABCjgq|",(k=document.createElement("div")).style.display="inline-block",k.style.width="1px",k.style.height="0px",R=((C=document.createElement("div")).appendChild(L),C.appendChild(k),C.style.height="0px",C.style.overflow="hidden",document.body.appendChild(C),k.style.verticalAlign="baseline",g(k)),D=g(L),T=R[1]-D[1],R=(k.style.verticalAlign="bottom",g(k)),D=g(L),k=R[1]-D[1]-T,document.body.removeChild(C),this._setProperty("_textAscent",T),this._setProperty("_textDescent",k)),this}}])&&w(S.prototype,v),A}(h.default.Element);function g(v){var S=0,j=0;if(v.offsetParent)for(;S+=v.offsetLeft,j+=v.offsetTop,v=v.offsetParent;);else S+=v.offsetLeft,j+=v.offsetTop;return[S,j]}m.prototype.textSize=function(v){return typeof v=="number"?(this._setProperty("_textSize",v),this._leadingSet||this._setProperty("_textLeading",v*a._DEFAULT_LEADMULT),this._applyTextProperties()):this._textSize},h.default.Renderer=m,t=h.default.Renderer,c.default=t},{"../core/constants":272,"./main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],287:[function(v,o,c){function l(S){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j})(S)}function h(S){return(h=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(j){return l(j)}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":l(j)})(S)}v("core-js/modules/es.symbol"),v("core-js/modules/es.symbol.description"),v("core-js/modules/es.symbol.iterator"),v("core-js/modules/es.array.concat"),v("core-js/modules/es.array.fill"),v("core-js/modules/es.array.iterator"),v("core-js/modules/es.array.join"),v("core-js/modules/es.array.slice"),v("core-js/modules/es.function.name"),v("core-js/modules/es.object.get-own-property-descriptor"),v("core-js/modules/es.object.get-prototype-of"),v("core-js/modules/es.object.to-string"),v("core-js/modules/es.reflect.construct"),v("core-js/modules/es.reflect.get"),v("core-js/modules/es.regexp.exec"),v("core-js/modules/es.regexp.to-string"),v("core-js/modules/es.string.iterator"),v("core-js/modules/es.weak-map"),v("core-js/modules/web.dom-collections.iterator"),v("core-js/modules/es.array.concat"),v("core-js/modules/es.array.fill"),v("core-js/modules/es.array.join"),v("core-js/modules/es.array.slice"),v("core-js/modules/es.function.name"),v("core-js/modules/es.object.get-prototype-of"),v("core-js/modules/es.object.to-string"),v("core-js/modules/es.regexp.exec"),v("core-js/modules/es.regexp.to-string"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var a=(g=v("./main"))&&g.__esModule?g:{default:g},d=function(S){if(S&&S.__esModule)return S;if(S===null||h(S)!=="object"&&typeof S!="function")return{default:S};var j=_();if(j&&j.has(S))return j.get(S);var A,L={},C=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(A in S){var T;Object.prototype.hasOwnProperty.call(S,A)&&((T=C?Object.getOwnPropertyDescriptor(S,A):null)&&(T.get||T.set)?Object.defineProperty(L,A,T):L[A]=S[A])}return L.default=S,j&&j.set(S,L),L}(v("./constants"));function _(){var S;return typeof WeakMap!="function"?null:(S=new WeakMap,_=function(){return S},S)}function w(S,j){for(var A=0;A<j.length;A++){var L=j[A];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(S,L.key,L)}}function f(S,j,A){return(f=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(R,C,T){var R=function(D,k){for(;!Object.prototype.hasOwnProperty.call(D,k)&&(D=y(D))!==null;);return D}(R,C);if(R)return(R=Object.getOwnPropertyDescriptor(R,C)).get?R.get.call(T):R.value})(S,j,A||S)}function p(S,j){return(p=Object.setPrototypeOf||function(A,L){return A.__proto__=L,A})(S,j)}function b(S){return function(){var j,A=y(S),A=(j=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(j=y(this).constructor,Reflect.construct(A,arguments,j)):A.apply(this,arguments),this);if(!j||h(j)!=="object"&&typeof j!="function"){if(A!==void 0)return A;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return j}}function y(S){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(j){return j.__proto__||Object.getPrototypeOf(j)})(S)}v("./p5.Renderer");var m="rgba(0,0,0,0)",g=function(S){var j=L;if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function");j.prototype=Object.create(S&&S.prototype,{constructor:{value:j,writable:!0,configurable:!0}}),S&&p(j,S);var A=b(L);function L(C,T,R){if(this instanceof L)return(C=A.call(this,C,T,R)).drawingContext=C.canvas.getContext("2d"),C._pInst._setProperty("drawingContext",C.drawingContext),C;throw new TypeError("Cannot call a class as a function")}return j=L,(S=[{key:"getFilterGraphicsLayer",value:function(){var C;return this.filterGraphicsLayer||(C=(this._pInst instanceof a.default.Graphics?this._pInst:this)._pInst,this.filterGraphicsLayer=new a.default.Graphics(this.width,this.height,d.WEBGL,C)),this.filterGraphicsLayer.width===this.width&&this.filterGraphicsLayer.height===this.height||this.filterGraphicsLayer.resizeCanvas(this.width,this.height),this.filterGraphicsLayer.pixelDensity()!==this._pInst.pixelDensity()&&this.filterGraphicsLayer.pixelDensity(this._pInst.pixelDensity()),this.filterGraphicsLayer}},{key:"_applyDefaults",value:function(){this._cachedFillStyle=this._cachedStrokeStyle=void 0,this._cachedBlendMode=d.BLEND,this._setFill(d._DEFAULT_FILL),this._setStroke(d._DEFAULT_STROKE),this.drawingContext.lineCap=d.ROUND,this.drawingContext.font="normal 12px sans-serif"}},{key:"resize",value:function(C,T){f(y(L.prototype),"resize",this).call(this,C,T),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity)}},{key:"background",value:function(){var C,T;this.drawingContext.save(),this.resetMatrix(),(arguments.length<=0?void 0:arguments[0])instanceof a.default.Image?0<=(arguments.length<=1?void 0:arguments[1])?(C=arguments.length<=0?void 0:arguments[0],this.drawingContext.globalAlpha=(arguments.length<=1?void 0:arguments[1])/255,this._pInst.image(C,0,0,this.width,this.height)):this._pInst.image(arguments.length<=0?void 0:arguments[0],0,0,this.width,this.height):(C=this._getFill(),T=(T=this._pInst).color.apply(T,arguments),this._pInst._addAccsOutput()&&this._pInst._accsBackground(T.levels),T=T.toString(),this._setFill(T),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.fillRect(0,0,this.width,this.height),this._setFill(C),this._isErasing&&this._pInst.erase()),this.drawingContext.restore()}},{key:"clear",value:function(){this.drawingContext.save(),this.resetMatrix(),this.drawingContext.clearRect(0,0,this.width,this.height),this.drawingContext.restore()}},{key:"fill",value:function(){var C=(C=this._pInst).color.apply(C,arguments);this._setFill(C.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("fill",C.levels)}},{key:"stroke",value:function(){var C=(C=this._pInst).color.apply(C,arguments);this._setStroke(C.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("stroke",C.levels)}},{key:"erase",value:function(C,T){this._isErasing||(this._cachedFillStyle=this.drawingContext.fillStyle,C=this._pInst.color(255,C).toString(),this.drawingContext.fillStyle=C,this._cachedStrokeStyle=this.drawingContext.strokeStyle,C=this._pInst.color(255,T).toString(),this.drawingContext.strokeStyle=C,T=this._cachedBlendMode,this.blendMode(d.REMOVE),this._cachedBlendMode=T,this._isErasing=!0)}},{key:"noErase",value:function(){this._isErasing&&(this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode),this._isErasing=!1)}},{key:"beginClip",value:function(){var C=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},C=(f(y(L.prototype),"beginClip",this).call(this,C),this._cachedFillStyle=this.drawingContext.fillStyle,this._pInst.color(255,0).toString()),C=(this.drawingContext.fillStyle=C,this._cachedStrokeStyle=this.drawingContext.strokeStyle,this._pInst.color(255,0).toString()),C=(this.drawingContext.strokeStyle=C,this._cachedBlendMode);this.blendMode(d.BLEND),this._cachedBlendMode=C,this.drawingContext.beginPath(),this._clipInvert&&(this.drawingContext.moveTo(-2*this.width,-2*this.height),this.drawingContext.lineTo(-2*this.width,2*this.height),this.drawingContext.lineTo(2*this.width,2*this.height),this.drawingContext.lineTo(2*this.width,-2*this.height),this.drawingContext.closePath())}},{key:"endClip",value:function(){this._doFillStrokeClose(),this.drawingContext.clip(),f(y(L.prototype),"endClip",this).call(this),this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode)}},{key:"image",value:function(C,T,R,D,k,F,P,q,z){C.gifProperties&&C._animateGif(this._pInst);try{a.default.MediaElement&&C instanceof a.default.MediaElement&&C._ensureCanvas();var H=(H=this._tint&&C.canvas?this._getTintedImageCanvas(C):H)||C.canvas||C.elt,Q=1;C.width&&0<C.width&&(Q=H.width/C.width),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.drawImage(H,Q*T,Q*R,Q*D,Q*k,F,P,q,z),this._isErasing&&this._pInst.erase()}catch(J){if(J.name!=="NS_ERROR_NOT_AVAILABLE")throw J}}},{key:"_getTintedImageCanvas",value:function(C){if(!C.canvas)return C;C.tintCanvas||(C.tintCanvas=document.createElement("canvas")),C.tintCanvas.width!==C.canvas.width&&(C.tintCanvas.width=C.canvas.width),C.tintCanvas.height!==C.canvas.height&&(C.tintCanvas.height=C.canvas.height);var T=C.tintCanvas.getContext("2d");return T.save(),T.clearRect(0,0,C.canvas.width,C.canvas.height),(this._tint[0]<255||this._tint[1]<255||this._tint[2]<255)&&(T.drawImage(C.canvas,0,0),T.globalCompositeOperation="luminosity",T.drawImage(C.canvas,0,0),T.globalCompositeOperation="color",T.drawImage(C.canvas,0,0),T.globalCompositeOperation="multiply",T.fillStyle="rgb(".concat(this._tint.slice(0,3).join(", "),")"),T.fillRect(0,0,C.canvas.width,C.canvas.height),T.globalCompositeOperation="destination-in"),T.globalAlpha=this._tint[3]/255,T.drawImage(C.canvas,0,0),T.restore(),C.tintCanvas}},{key:"blendMode",value:function(C){if(C===d.SUBTRACT)console.warn("blendMode(SUBTRACT) only works in WEBGL mode.");else{if(C!==d.BLEND&&C!==d.REMOVE&&C!==d.DARKEST&&C!==d.LIGHTEST&&C!==d.DIFFERENCE&&C!==d.MULTIPLY&&C!==d.EXCLUSION&&C!==d.SCREEN&&C!==d.REPLACE&&C!==d.OVERLAY&&C!==d.HARD_LIGHT&&C!==d.SOFT_LIGHT&&C!==d.DODGE&&C!==d.BURN&&C!==d.ADD)throw new Error("Mode ".concat(C," not recognized."));this._cachedBlendMode=C,this.drawingContext.globalCompositeOperation=C}}},{key:"blend",value:function(){for(var C=this.drawingContext.globalCompositeOperation,T=arguments.length,R=new Array(T),D=0;D<T;D++)R[D]=arguments[D];var k=R[R.length-1],F=Array.prototype.slice.call(R,0,R.length-1);this.drawingContext.globalCompositeOperation=k,a.default.prototype.copy.apply(this,F),this.drawingContext.globalCompositeOperation=C}},{key:"_getPixel",value:function(C,T){return C=this.drawingContext.getImageData(C,T,1,1).data,[C[0],C[1],C[2],C[3]]}},{key:"loadPixels",value:function(){var C=this._pixelsState,T=C._pixelDensity,R=this.width*T,T=this.height*T,R=this.drawingContext.getImageData(0,0,R,T);C._setProperty("imageData",R),C._setProperty("pixels",R.data)}},{key:"set",value:function(C,T,R){C=Math.floor(C),T=Math.floor(T);var D=this._pixelsState;if(R instanceof a.default.Image)this.drawingContext.save(),this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(D._pixelDensity,D._pixelDensity),this.drawingContext.clearRect(C,T,R.width,R.height),this.drawingContext.drawImage(R.canvas,C,T),this.drawingContext.restore();else{var k=0,F=0,P=0,q=0,z=4*(T*D._pixelDensity*(this.width*D._pixelDensity)+C*D._pixelDensity);if(D.imageData||D.loadPixels(),typeof R=="number")z<D.pixels.length&&(P=F=k=R,q=255);else if(Array.isArray(R)){if(R.length<4)throw new Error("pixel array must be of the form [R, G, B, A]");z<D.pixels.length&&(k=R[0],F=R[1],P=R[2],q=R[3])}else R instanceof a.default.Color&&z<D.pixels.length&&(k=R.levels[0],F=R.levels[1],P=R.levels[2],q=R.levels[3]);for(var H=0;H<D._pixelDensity;H++)for(var Q=0;Q<D._pixelDensity;Q++)z=4*((T*D._pixelDensity+Q)*this.width*D._pixelDensity+(C*D._pixelDensity+H)),D.pixels[z]=k,D.pixels[z+1]=F,D.pixels[z+2]=P,D.pixels[z+3]=q}}},{key:"updatePixels",value:function(C,T,R,D){var k=this._pixelsState,F=k._pixelDensity;C===void 0&&T===void 0&&R===void 0&&D===void 0&&(T=C=0,R=this.width,D=this.height),C*=F,T*=F,R*=F,D*=F,this.gifProperties&&(this.gifProperties.frames[this.gifProperties.displayIndex].image=k.imageData),this.drawingContext.putImageData(k.imageData,0,0,C,T,R,D)}},{key:"arc",value:function(z,H,Q,J,k,F,P){var q=this.drawingContext,z=z+Q/2,H=H+J/2,Q=Q/2,J=J/2,Z=!(P===d.CHORD||P===d.OPEN||(F-k)%d.TWO_PI==0);return this._doFill&&(this._clipping||q.beginPath(),q.ellipse(z,H,Q,J,0,k,F),Z&&q.lineTo(z,H),q.closePath(),this._clipping||q.fill()),this._doStroke&&(this._clipping||q.beginPath(),q.ellipse(z,H,Q,J,0,k,F),P===d.PIE&&Z&&q.lineTo(z,H),P!==d.PIE&&P!==d.CHORD||q.closePath(),this._clipping||q.stroke()),this}},{key:"ellipse",value:function(q){var T=this.drawingContext,R=this._doFill,D=this._doStroke,k=parseFloat(q[0]),F=parseFloat(q[1]),P=parseFloat(q[2]),q=parseFloat(q[3]);if(R&&!D){if(this._getFill()===m)return this}else if(!R&&D&&this._getStroke()===m)return this;k+=P/2,F+=q/2,P/=2,q/=2,this._clipping||T.beginPath(),T.ellipse(k,F,P,q,0,0,2*Math.PI),T.closePath(),!this._clipping&&R&&T.fill(),!this._clipping&&D&&T.stroke()}},{key:"line",value:function(C,T,R,D){var k=this.drawingContext;return this._doStroke&&this._getStroke()!==m&&(this._clipping||k.beginPath(),k.moveTo(C,T),k.lineTo(R,D),k.stroke()),this}},{key:"point",value:function(C,T){var R,D,k=this.drawingContext;return!this._doStroke||this._getStroke()===m?this:(R=this._getStroke(),D=this._getFill(),this._clipping||this._setFill(R),this._clipping||k.beginPath(),k.arc(C,T,k.lineWidth/2,0,d.TWO_PI,!1),void(this._clipping||(k.fill(),this._setFill(D))))}},{key:"quad",value:function(C,T,R,D,k,F,P,q){var z=this.drawingContext,H=this._doFill,Q=this._doStroke;if(H&&!Q){if(this._getFill()===m)return this}else if(!H&&Q&&this._getStroke()===m)return this;return this._clipping||z.beginPath(),z.moveTo(C,T),z.lineTo(R,D),z.lineTo(k,F),z.lineTo(P,q),z.closePath(),!this._clipping&&H&&z.fill(),!this._clipping&&Q&&z.stroke(),this}},{key:"rect",value:function(Q){var T,R,D=Q[0],k=Q[1],F=Q[2],P=Q[3],q=Q[4],z=Q[5],H=Q[6],Q=Q[7],J=this.drawingContext,Z=this._doFill,K=this._doStroke;if(Z&&!K){if(this._getFill()===m)return this}else if(!Z&&K&&this._getStroke()===m)return this;return this._clipping||J.beginPath(),q===void 0?J.rect(D,k,F,P):(z===void 0&&(z=q),H===void 0&&(H=z),Q===void 0&&(Q=H),K=(Z=Math.abs(F))/2,R=(T=Math.abs(P))/2,J.roundRect(D,k,F,P,[q=T<2*(q=Z<2*q?K:q)?R:q,z=T<2*(z=Z<2*z?K:z)?R:z,H=T<2*(H=Z<2*H?K:H)?R:H,Q=T<2*(Q=Z<2*Q?K:Q)?R:Q])),!this._clipping&&this._doFill&&J.fill(),!this._clipping&&this._doStroke&&J.stroke(),this}},{key:"triangle",value:function(H){var T=this.drawingContext,R=this._doFill,D=this._doStroke,k=H[0],F=H[1],P=H[2],q=H[3],z=H[4],H=H[5];if(R&&!D){if(this._getFill()===m)return this}else if(!R&&D&&this._getStroke()===m)return this;this._clipping||T.beginPath(),T.moveTo(k,F),T.lineTo(P,q),T.lineTo(z,H),T.closePath(),!this._clipping&&R&&T.fill(),!this._clipping&&D&&T.stroke()}},{key:"endShape",value:function(C,T,R,D,k,F,P){if(T.length!==0&&(this._doStroke||this._doFill)){var q,z,H,Q=C===d.CLOSE,J=(Q&&!F&&T.push(T[0]),T.length);if(R&&P===null){if(3<J){var Z=[],K=1-this._curveTightness;for(this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(T[1][0],T[1][1]),z=1;z+2<J;z++)q=T[z],Z[0]=[q[0],q[1]],Z[1]=[q[0]+(K*T[z+1][0]-K*T[z-1][0])/6,q[1]+(K*T[z+1][1]-K*T[z-1][1])/6],Z[2]=[T[z+1][0]+(K*T[z][0]-K*T[z+2][0])/6,T[z+1][1]+(K*T[z][1]-K*T[z+2][1])/6],Z[3]=[T[z+1][0],T[z+1][1]],this.drawingContext.bezierCurveTo(Z[1][0],Z[1][1],Z[2][0],Z[2][1],Z[3][0],Z[3][1]);Q&&this.drawingContext.lineTo(T[z+1][0],T[z+1][1]),this._doFillStrokeClose(Q)}}else if(D&&P===null){for(this._clipping||this.drawingContext.beginPath(),z=0;z<J;z++)T[z].isVert?T[z].moveTo?this.drawingContext.moveTo(T[z][0],T[z][1]):this.drawingContext.lineTo(T[z][0],T[z][1]):this.drawingContext.bezierCurveTo(T[z][0],T[z][1],T[z][2],T[z][3],T[z][4],T[z][5]);this._doFillStrokeClose(Q)}else if(k&&P===null){for(this._clipping||this.drawingContext.beginPath(),z=0;z<J;z++)T[z].isVert?T[z].moveTo?this.drawingContext.moveTo(T[z][0],T[z][1]):this.drawingContext.lineTo(T[z][0],T[z][1]):this.drawingContext.quadraticCurveTo(T[z][0],T[z][1],T[z][2],T[z][3]);this._doFillStrokeClose(Q)}else if(P===d.POINTS)for(z=0;z<J;z++)q=T[z],this._doStroke&&this._pInst.stroke(q[6]),this._pInst.point(q[0],q[1]);else if(P===d.LINES)for(z=0;z+1<J;z+=2)q=T[z],this._doStroke&&this._pInst.stroke(T[z+1][6]),this._pInst.line(q[0],q[1],T[z+1][0],T[z+1][1]);else if(P===d.TRIANGLES)for(z=0;z+2<J;z+=3)q=T[z],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(q[0],q[1]),this.drawingContext.lineTo(T[z+1][0],T[z+1][1]),this.drawingContext.lineTo(T[z+2][0],T[z+2][1]),this.drawingContext.closePath(),!this._clipping&&this._doFill&&(this._pInst.fill(T[z+2][5]),this.drawingContext.fill()),!this._clipping&&this._doStroke&&(this._pInst.stroke(T[z+2][6]),this.drawingContext.stroke());else if(P===d.TRIANGLE_STRIP)for(z=0;z+1<J;z++)q=T[z],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(T[z+1][0],T[z+1][1]),this.drawingContext.lineTo(q[0],q[1]),!this._clipping&&this._doStroke&&this._pInst.stroke(T[z+1][6]),!this._clipping&&this._doFill&&this._pInst.fill(T[z+1][5]),z+2<J&&(this.drawingContext.lineTo(T[z+2][0],T[z+2][1]),!this._clipping&&this._doStroke&&this._pInst.stroke(T[z+2][6]),!this._clipping&&this._doFill&&this._pInst.fill(T[z+2][5])),this._doFillStrokeClose(Q);else if(P===d.TRIANGLE_FAN){if(2<J){for(this._clipping||this.drawingContext.beginPath(),z=2;z<J;z++)q=T[z],this.drawingContext.moveTo(T[0][0],T[0][1]),this.drawingContext.lineTo(T[z-1][0],T[z-1][1]),this.drawingContext.lineTo(q[0],q[1]),this.drawingContext.lineTo(T[0][0],T[0][1]),z<J-1&&(this._doFill&&q[5]!==T[z+1][5]||this._doStroke&&q[6]!==T[z+1][6])&&(!this._clipping&&this._doFill&&(this._pInst.fill(q[5]),this.drawingContext.fill(),this._pInst.fill(T[z+1][5])),!this._clipping&&this._doStroke&&(this._pInst.stroke(q[6]),this.drawingContext.stroke(),this._pInst.stroke(T[z+1][6])),this.drawingContext.closePath(),this._clipping||this.drawingContext.beginPath());this._doFillStrokeClose(Q)}}else if(P===d.QUADS)for(z=0;z+3<J;z+=4){for(q=T[z],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(q[0],q[1]),H=1;H<4;H++)this.drawingContext.lineTo(T[z+H][0],T[z+H][1]);this.drawingContext.lineTo(q[0],q[1]),!this._clipping&&this._doFill&&this._pInst.fill(T[z+3][5]),!this._clipping&&this._doStroke&&this._pInst.stroke(T[z+3][6]),this._doFillStrokeClose(Q)}else if(P===d.QUAD_STRIP){if(3<J)for(z=0;z+1<J;z+=2)q=T[z],this._clipping||this.drawingContext.beginPath(),z+3<J?(this.drawingContext.moveTo(T[z+2][0],T[z+2][1]),this.drawingContext.lineTo(q[0],q[1]),this.drawingContext.lineTo(T[z+1][0],T[z+1][1]),this.drawingContext.lineTo(T[z+3][0],T[z+3][1]),!this._clipping&&this._doFill&&this._pInst.fill(T[z+3][5]),!this._clipping&&this._doStroke&&this._pInst.stroke(T[z+3][6])):(this.drawingContext.moveTo(q[0],q[1]),this.drawingContext.lineTo(T[z+1][0],T[z+1][1])),this._doFillStrokeClose(Q)}else{for(this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(T[0][0],T[0][1]),z=1;z<J;z++)(q=T[z]).isVert&&(q.moveTo?(Q&&this.drawingContext.closePath(),this.drawingContext.moveTo(q[0],q[1])):this.drawingContext.lineTo(q[0],q[1]));this._doFillStrokeClose(Q)}F=k=D=R=!1,Q&&T.pop()}return this}},{key:"strokeCap",value:function(C){return C!==d.ROUND&&C!==d.SQUARE&&C!==d.PROJECT||(this.drawingContext.lineCap=C),this}},{key:"strokeJoin",value:function(C){return C!==d.ROUND&&C!==d.BEVEL&&C!==d.MITER||(this.drawingContext.lineJoin=C),this}},{key:"strokeWeight",value:function(C){return this.drawingContext.lineWidth=C===void 0||C===0?1e-4:C,this}},{key:"_getFill",value:function(){return this._cachedFillStyle||(this._cachedFillStyle=this.drawingContext.fillStyle),this._cachedFillStyle}},{key:"_setFill",value:function(C){C!==this._cachedFillStyle&&(this.drawingContext.fillStyle=C,this._cachedFillStyle=C)}},{key:"_getStroke",value:function(){return this._cachedStrokeStyle||(this._cachedStrokeStyle=this.drawingContext.strokeStyle),this._cachedStrokeStyle}},{key:"_setStroke",value:function(C){C!==this._cachedStrokeStyle&&(this.drawingContext.strokeStyle=C,this._cachedStrokeStyle=C)}},{key:"bezier",value:function(C,T,R,D,k,F,P,q){return this._pInst.beginShape(),this._pInst.vertex(C,T),this._pInst.bezierVertex(R,D,k,F,P,q),this._pInst.endShape(),this}},{key:"curve",value:function(C,T,R,D,k,F,P,q){return this._pInst.beginShape(),this._pInst.curveVertex(C,T),this._pInst.curveVertex(R,D),this._pInst.curveVertex(k,F),this._pInst.curveVertex(P,q),this._pInst.endShape(),this}},{key:"_doFillStrokeClose",value:function(C){C&&this.drawingContext.closePath(),!this._clipping&&this._doFill&&this.drawingContext.fill(),!this._clipping&&this._doStroke&&this.drawingContext.stroke()}},{key:"applyMatrix",value:function(C,T,R,D,k,F){this.drawingContext.transform(C,T,R,D,k,F)}},{key:"resetMatrix",value:function(){return this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),this}},{key:"rotate",value:function(C){this.drawingContext.rotate(C)}},{key:"scale",value:function(C,T){return this.drawingContext.scale(C,T),this}},{key:"translate",value:function(C,T){return C instanceof a.default.Vector&&(T=C.y,C=C.x),this.drawingContext.translate(C,T),this}},{key:"_renderText",value:function(C,T,R,D,k,F){if(!(D<F||k<=D))return C.push(),this._isOpenType()?this._textFont._renderPath(T,R,D,{renderer:this}):(this._doStroke&&this._strokeSet&&this.drawingContext.strokeText(T,R,D),!this._clipping&&this._doFill&&(this._fillSet||this._setFill(d._DEFAULT_TEXT_FILL),this.drawingContext.fillText(T,R,D))),C.pop(),C}},{key:"textWidth",value:function(C){return this._isOpenType()?this._textFont._textWidth(C,this._textSize):this.drawingContext.measureText(C).width}},{key:"_applyTextProperties",value:function(){var C=this._pInst,T=(this._setProperty("_textAscent",null),this._setProperty("_textDescent",null),T=this._textFont,this._isOpenType()&&(T=this._textFont.font.familyName,this._setProperty("_textStyle",this._textFont.font.styleName)),T||"sans-serif");return/\s/.exec(T)&&(T='"'.concat(T,'"')),this.drawingContext.font="".concat(this._textStyle||"normal"," ").concat(this._textSize||12,"px ").concat(T),this.drawingContext.textAlign=this._textAlign,this._textBaseline===d.CENTER?this.drawingContext.textBaseline=d._CTX_MIDDLE:this.drawingContext.textBaseline=this._textBaseline,C}},{key:"push",value:function(){return this.drawingContext.save(),f(y(L.prototype),"push",this).call(this)}},{key:"pop",value:function(C){this.drawingContext.restore(),this._cachedFillStyle=this.drawingContext.fillStyle,this._cachedStrokeStyle=this.drawingContext.strokeStyle,f(y(L.prototype),"pop",this).call(this,C)}}])&&w(j.prototype,S),L}(a.default.Renderer),v=(g.prototype.text=function(S,j,A,R,C){R!==void 0&&this.drawingContext.textBaseline===d.BASELINE&&(T=!0,this.drawingContext.textBaseline=d.TOP);var T,R=a.default.Renderer.prototype.text.apply(this,arguments);return T&&(this.drawingContext.textBaseline=d.BASELINE),R},a.default.Renderer2D=g,a.default.Renderer2D);c.default=v},{"./constants":272,"./main":283,"./p5.Renderer":286,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.function.name":174,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.reflect.get":193,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],288:[function(t,o,c){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator");var l=(t=t("./main"))&&t.__esModule?t:{default:t};l.default.prototype._promisePreloads=[];function h(){return{}}var a=!(l.default.prototype.registerPromisePreload=function(d){l.default.prototype._promisePreloads.push(d)});l.default.prototype._setupPromisePreloads=function(){var d=!0,_=!1,w=void 0;try{for(var f,p=this._promisePreloads[Symbol.iterator]();!(d=(f=p.next()).done);d=!0){var b=f.value,y=this,m=b.method,g=b.addCallbacks,v=b.legacyPreloadSetup,S=b.target||this,j=S[m].bind(S);if(S===l.default.prototype){if(a)continue;y=null,j=S[m]}S[m]=this._wrapPromisePreload(y,j,g),v&&(S[v.method]=this._legacyPreloadGenerator(y,v,S[m]))}}catch(A){_=!0,w=A}finally{try{d||p.return==null||p.return()}finally{if(_)throw w}}a=!0},l.default.prototype._wrapPromisePreload=function(d,_,w){var f=function(){for(var p=this,b=(this._incrementPreload(),null),y=null,m=arguments.length,g=new Array(m),v=0;v<m;v++)g[v]=arguments[v];if(w)for(var S=g.length-1;0<=S&&!y&&typeof g[S]=="function";S--)y=b,b=g.pop();var j=Promise.resolve(_.apply(this,g));return b&&j.then(b),y&&j.catch(y),j.then(function(){return p._decrementPreload()}),j};return f=d?f.bind(d):f},l.default.prototype._legacyPreloadGenerator=function(d,p,w){var f=p.createBaseObject||h,p=function(){var b=this;this._incrementPreload();for(var y=arguments.length,m=new Array(y),g=0;g<y;g++)m[g]=arguments[g];var v=f.apply(this,m);return w.apply(this,m).then(function(S){Object.assign(v,S),b._decrementPreload()}),v};return p=d?p.bind(d):p}},{"./main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],289:[function(t,o,c){function l(p){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(p)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var h=(f=t("./main"))&&f.__esModule?f:{default:f},a=function(p){if(p&&p.__esModule)return p;if(p===null||_(p)!=="object"&&typeof p!="function")return{default:p};var b=d();if(b&&b.has(p))return b.get(p);var y,m={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(y in p){var v;Object.prototype.hasOwnProperty.call(p,y)&&((v=g?Object.getOwnPropertyDescriptor(p,y):null)&&(v.get||v.set)?Object.defineProperty(m,y,v):m[y]=p[y])}return m.default=p,b&&b.set(p,m),m}(t("./constants"));function d(){var p;return typeof WeakMap!="function"?null:(p=new WeakMap,d=function(){return p},p)}function _(p){return(_=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(b){return l(b)}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":l(b)})(p)}t("./p5.Graphics"),t("./p5.Renderer2D"),t("../webgl/p5.RendererGL");var w="defaultCanvas0",f=(h.default.prototype.createCanvas=function(p,b,y,m){var g,v,S;if(h.default._validateParameters("createCanvas",arguments),arguments[2]instanceof HTMLCanvasElement?(y=a.P2D,m=arguments[2]):g=y||a.P2D,m)(S=document.getElementById(w))&&S.parentNode.removeChild(S),S=m,this._defaultGraphicsCreated=!1;else{if(g===a.WEBGL)(S=document.getElementById(w))&&(S.parentNode.removeChild(S),v=this._renderer,this._elements=this._elements.filter(function(A){return A!==v})),(S=document.createElement("canvas")).id=w,S.classList.add("p5Canvas");else if(this._defaultGraphicsCreated)S=this.canvas;else{S=m||document.createElement("canvas");for(var j=0;document.getElementById("defaultCanvas".concat(j));)j++;w="defaultCanvas".concat(j),S.id=w,S.classList.add("p5Canvas")}this._setupDone||(S.dataset.hidden=!0,S.style.visibility="hidden"),(this._userNode||(document.getElementsByTagName("main").length===0&&(y=document.createElement("main"),document.body.appendChild(y)),document.getElementsByTagName("main")[0])).appendChild(S)}return g===a.WEBGL?(this._setProperty("_renderer",new h.default.RendererGL(S,this,!0)),this._elements.push(this._renderer),p=(m=this._renderer._adjustDimensions(p,b)).adjustedWidth,b=m.adjustedHeight):this._defaultGraphicsCreated||(this._setProperty("_renderer",new h.default.Renderer2D(S,this,!0)),this._defaultGraphicsCreated=!0,this._elements.push(this._renderer)),this._renderer.resize(p,b),this._renderer._applyDefaults(),this._renderer},h.default.prototype.resizeCanvas=function(p,b,y){if(h.default._validateParameters("resizeCanvas",arguments),this._renderer){var m,g,v,S={};for(m in this.drawingContext){var j=this.drawingContext[m];_(j)!=="object"&&typeof j!="function"&&(S[m]=j)}for(v in this._renderer instanceof h.default.RendererGL&&(p=(g=this._renderer._adjustDimensions(p,b)).adjustedWidth,b=g.adjustedHeight),this.width=p,this.height=b,this._renderer.resize(p,b),S)try{this.drawingContext[v]=S[v]}catch{}y||this.redraw()}this._addAccsOutput()&&this._updateAccsOutput()},h.default.prototype.noCanvas=function(){this.canvas&&this.canvas.parentNode.removeChild(this.canvas)},h.default.prototype.createGraphics=function(p,b){for(var y=arguments.length,m=new Array(2<y?y-2:0),g=2;g<y;g++)m[g-2]=arguments[g];return m[0]instanceof HTMLCanvasElement&&(m[1]=m[0],m[0]=a.P2D),h.default._validateParameters("createGraphics",arguments),new h.default.Graphics(p,b,m[0],this,m[1])},h.default.prototype.createFramebuffer=function(p){return new h.default.Framebuffer(this,p)},h.default.prototype.clearDepth=function(p){this._assert3d("clearDepth"),this._renderer.clearDepth(p)},h.default.prototype.blendMode=function(p){h.default._validateParameters("blendMode",arguments),p===a.NORMAL&&(console.warn("NORMAL has been deprecated for use in blendMode. defaulting to BLEND instead."),p=a.BLEND),this._renderer.blendMode(p)},h.default);c.default=f},{"../webgl/p5.RendererGL":341,"./constants":272,"./main":283,"./p5.Graphics":285,"./p5.Renderer2D":287,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],290:[function(t,o,c){function l(b){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(b)}function h(b){return(h=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(y){return l(y)}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":l(y)})(b)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.slice"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var a=f(t("../main")),d=function(b){if(b&&b.__esModule)return b;if(b===null||h(b)!=="object"&&typeof b!="function")return{default:b};var y=w();if(y&&y.has(b))return y.get(b);var m,g={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(m in b){var S;Object.prototype.hasOwnProperty.call(b,m)&&((S=v?Object.getOwnPropertyDescriptor(b,m):null)&&(S.get||S.set)?Object.defineProperty(g,m,S):g[m]=b[m])}return g.default=b,y&&y.set(b,g),g}(t("../constants")),_=f(t("../helpers"));function w(){var b;return typeof WeakMap!="function"?null:(b=new WeakMap,w=function(){return b},b)}function f(b){return b&&b.__esModule?b:{default:b}}function p(b){return function(y){if(Array.isArray(y)){for(var m=0,g=new Array(y.length);m<y.length;m++)g[m]=y[m];return g}}(b)||function(y){if(Symbol.iterator in Object(y)||Object.prototype.toString.call(y)==="[object Arguments]")return Array.from(y)}(b)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}t("../friendly_errors/fes_core"),t("../friendly_errors/file_errors"),t("../friendly_errors/validate_params"),a.default.prototype._normalizeArcAngles=function(b,y,m,g,v){var S;return b-=d.TWO_PI*Math.floor(b/d.TWO_PI),y-=d.TWO_PI*Math.floor(y/d.TWO_PI),S=Math.min(Math.abs(b-y),d.TWO_PI-Math.abs(b-y)),v&&(b=b<=d.HALF_PI?Math.atan(m/g*Math.tan(b)):b>d.HALF_PI&&b<=3*d.HALF_PI?Math.atan(m/g*Math.tan(b))+d.PI:Math.atan(m/g*Math.tan(b))+d.TWO_PI,y=y<=d.HALF_PI?Math.atan(m/g*Math.tan(y)):y>d.HALF_PI&&y<=3*d.HALF_PI?Math.atan(m/g*Math.tan(y))+d.PI:Math.atan(m/g*Math.tan(y))+d.TWO_PI),y<b&&(y+=d.TWO_PI),{start:b,stop:y,correspondToSamePoint:S<1e-5}},a.default.prototype.arc=function(b,y,m,g,v,S,j,A){return a.default._validateParameters("arc",arguments),(this._renderer._doStroke||this._renderer._doFill)&&v!==S&&(v=this._toRadians(v),S=this._toRadians(S),b=_.default.modeAdjust(b,y,m,g,this._renderer._ellipseMode),(y=this._normalizeArcAngles(v,S,b.w,b.h,!0)).correspondToSamePoint?this._renderer.ellipse([b.x,b.y,b.w,b.h,A]):(this._renderer.arc(b.x,b.y,b.w,b.h,y.start,y.stop,j,A),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("arc",[b.x,b.y,b.w,b.h,y.start,y.stop,j]))),this},a.default.prototype.ellipse=function(b,y,m,g,v){return a.default._validateParameters("ellipse",arguments),this._renderEllipse.apply(this,arguments)},a.default.prototype.circle=function(){for(var b=arguments.length,y=new Array(b),m=0;m<b;m++)y[m]=arguments[m];a.default._validateParameters("circle",y);var g=y.slice(0,2);return g.push(y[2],y[2]),this._renderEllipse.apply(this,p(g))},a.default.prototype._renderEllipse=function(b,y,m,g,v){return(this._renderer._doStroke||this._renderer._doFill)&&(b=_.default.modeAdjust(b,y,m,g=g===void 0?m:g,this._renderer._ellipseMode),this._renderer.ellipse([b.x,b.y,b.w,b.h,v]),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("ellipse",[b.x,b.y,b.w,b.h])),this},a.default.prototype.line=function(){for(var b,y=arguments.length,m=new Array(y),g=0;g<y;g++)m[g]=arguments[g];return a.default._validateParameters("line",m),this._renderer._doStroke&&(b=this._renderer).line.apply(b,m),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("line",m),this},a.default.prototype.point=function(){for(var b,y=arguments.length,m=new Array(y),g=0;g<y;g++)m[g]=arguments[g];return a.default._validateParameters("point",m),this._renderer._doStroke&&(m.length===1&&m[0]instanceof a.default.Vector?this._renderer.point.call(this._renderer,m[0].x,m[0].y,m[0].z):((b=this._renderer).point.apply(b,m),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("point",m))),this},a.default.prototype.quad=function(){for(var b,y=arguments.length,m=new Array(y),g=0;g<y;g++)m[g]=arguments[g];return a.default._validateParameters("quad",m),(this._renderer._doStroke||this._renderer._doFill)&&(this._renderer.isP3D&&m.length<12?this._renderer.quad.call(this._renderer,m[0],m[1],0,m[2],m[3],0,m[4],m[5],0,m[6],m[7],0,m[8],m[9]):((b=this._renderer).quad.apply(b,m),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("quadrilateral",m))),this},a.default.prototype.rect=function(){for(var b=arguments.length,y=new Array(b),m=0;m<b;m++)y[m]=arguments[m];return a.default._validateParameters("rect",y),this._renderRect.apply(this,y)},a.default.prototype.square=function(b,y,m,g,v,S,j){return a.default._validateParameters("square",arguments),this._renderRect.call(this,b,y,m,m,g,v,S,j)},a.default.prototype._renderRect=function(){if(this._renderer._doStroke||this._renderer._doFill){arguments.length===3&&(arguments[3]=arguments[2]);for(var b=_.default.modeAdjust(arguments[0],arguments[1],arguments[2],arguments[3],this._renderer._rectMode),y=(this._renderer._rectMode===d.CORNER&&(b.w=arguments[2],b.h=arguments[3]),[b.x,b.y,b.w,b.h]),m=4;m<arguments.length;m++)y[m]=arguments[m];this._renderer.rect(y),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("rectangle",[b.x,b.y,b.w,b.h])}return this},a.default.prototype.triangle=function(){for(var b=arguments.length,y=new Array(b),m=0;m<b;m++)y[m]=arguments[m];return a.default._validateParameters("triangle",y),(this._renderer._doStroke||this._renderer._doFill)&&this._renderer.triangle(y),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("triangle",y),this},t=a.default,c.default=t},{"../constants":272,"../friendly_errors/fes_core":274,"../friendly_errors/file_errors":275,"../friendly_errors/validate_params":278,"../helpers":279,"../main":283,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],291:[function(t,o,c){function l(f){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(f)}function h(f){return(h=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(p){return l(p)}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":l(p)})(f)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var a=(w=t("../main"))&&w.__esModule?w:{default:w},d=function(f){if(f&&f.__esModule)return f;if(f===null||h(f)!=="object"&&typeof f!="function")return{default:f};var p=_();if(p&&p.has(f))return p.get(f);var b,y={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(b in f){var g;Object.prototype.hasOwnProperty.call(f,b)&&((g=m?Object.getOwnPropertyDescriptor(f,b):null)&&(g.get||g.set)?Object.defineProperty(y,b,g):y[b]=f[b])}return y.default=f,p&&p.set(f,y),y}(t("../constants"));function _(){var f;return typeof WeakMap!="function"?null:(f=new WeakMap,_=function(){return f},f)}a.default.prototype.ellipseMode=function(f){return a.default._validateParameters("ellipseMode",arguments),f!==d.CORNER&&f!==d.CORNERS&&f!==d.RADIUS&&f!==d.CENTER||(this._renderer._ellipseMode=f),this},a.default.prototype.noSmooth=function(){return this._renderer.isP3D?this.setAttributes("antialias",!1):"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!1),this},a.default.prototype.rectMode=function(f){return a.default._validateParameters("rectMode",arguments),f!==d.CORNER&&f!==d.CORNERS&&f!==d.RADIUS&&f!==d.CENTER||(this._renderer._rectMode=f),this},a.default.prototype.smooth=function(){return this._renderer.isP3D?this.setAttributes("antialias",!0):"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!0),this},a.default.prototype.strokeCap=function(f){return a.default._validateParameters("strokeCap",arguments),f!==d.ROUND&&f!==d.SQUARE&&f!==d.PROJECT||this._renderer.strokeCap(f),this},a.default.prototype.strokeJoin=function(f){return a.default._validateParameters("strokeJoin",arguments),f!==d.ROUND&&f!==d.BEVEL&&f!==d.MITER||this._renderer.strokeJoin(f),this},a.default.prototype.strokeWeight=function(f){return a.default._validateParameters("strokeWeight",arguments),this._renderer.strokeWeight(f),this};var w=a.default;c.default=w},{"../constants":272,"../main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],292:[function(t,o,c){Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var l=(h=t("../main"))&&h.__esModule?h:{default:h};t("../friendly_errors/fes_core"),t("../friendly_errors/file_errors"),t("../friendly_errors/validate_params"),l.default.prototype.bezier=function(){for(var a,d=arguments.length,_=new Array(d),w=0;w<d;w++)_[w]=arguments[w];return l.default._validateParameters("bezier",_),(this._renderer._doStroke||this._renderer._doFill)&&(a=this._renderer).bezier.apply(a,_),this},l.default.prototype.bezierDetail=function(a){return l.default._validateParameters("bezierDetail",arguments),this._bezierDetail=a,this},l.default.prototype.bezierPoint=function(a,d,_,w,f){l.default._validateParameters("bezierPoint",arguments);var p=1-f;return Math.pow(p,3)*a+3*Math.pow(p,2)*f*d+3*p*Math.pow(f,2)*_+Math.pow(f,3)*w},l.default.prototype.bezierTangent=function(a,d,_,w,f){l.default._validateParameters("bezierTangent",arguments);var p=1-f;return 3*w*Math.pow(f,2)-3*_*Math.pow(f,2)+6*_*p*f-6*d*p*f+3*d*Math.pow(p,2)-3*a*Math.pow(p,2)},l.default.prototype.curve=function(){for(var a,d=arguments.length,_=new Array(d),w=0;w<d;w++)_[w]=arguments[w];return l.default._validateParameters("curve",_),this._renderer._doStroke&&(a=this._renderer).curve.apply(a,_),this},l.default.prototype.curveDetail=function(a){return l.default._validateParameters("curveDetail",arguments),this._curveDetail=a<3?3:a,this},l.default.prototype.curveTightness=function(a){return l.default._validateParameters("curveTightness",arguments),this._renderer._curveTightness=a,this},l.default.prototype.curvePoint=function(a,d,_,w,f){l.default._validateParameters("curvePoint",arguments);var p=this._renderer._curveTightness,b=f*f*f,y=f*f;return a*((p-1)/2*b+(1-p)*y+(p-1)/2*f)+d*((p+3)/2*b+(-5-p)/2*y+1)+_*((-3-p)/2*b+(p+2)*y+(1-p)/2*f)+w*((1-p)/2*b+(p-1)/2*y)},l.default.prototype.curveTangent=function(a,d,_,w,y){l.default._validateParameters("curveTangent",arguments);var p=this._renderer._curveTightness,b=y*y*3,y=2*y;return a*((p-1)/2*b+(1-p)*y+(p-1)/2)+d*((p+3)/2*b+(-5-p)/2*y)+_*((-3-p)/2*b+(p+2)*y+(1-p)/2)+w*((1-p)/2*b+(p-1)/2*y)};var h=l.default;c.default=h},{"../friendly_errors/fes_core":274,"../friendly_errors/file_errors":275,"../friendly_errors/validate_params":278,"../main":283}],293:[function(t,o,c){function l(j){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A})(j)}function h(j){return(h=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(A){return l(A)}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":l(A)})(j)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.slice"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var a=(S=t("../main"))&&S.__esModule?S:{default:S},d=function(j){if(j&&j.__esModule)return j;if(j===null||h(j)!=="object"&&typeof j!="function")return{default:j};var A=_();if(A&&A.has(j))return A.get(j);var L,C={},T=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(L in j){var R;Object.prototype.hasOwnProperty.call(j,L)&&((R=T?Object.getOwnPropertyDescriptor(j,L):null)&&(R.get||R.set)?Object.defineProperty(C,L,R):C[L]=j[L])}return C.default=j,A&&A.set(j,C),C}(t("../constants"));function _(){var j;return typeof WeakMap!="function"?null:(j=new WeakMap,_=function(){return j},j)}var w=null,f=[],p=[],b=!1,y=!1,m=!1,g=!1,v=!0,S=(a.default.prototype.beginContour=function(){return this._renderer.isP3D?this._renderer.beginContour():(p=[],g=!0),this},a.default.prototype.beginShape=function(j){var A;return a.default._validateParameters("beginShape",arguments),this._renderer.isP3D?(A=this._renderer).beginShape.apply(A,arguments):(w=j===d.POINTS||j===d.LINES||j===d.TRIANGLES||j===d.TRIANGLE_FAN||j===d.TRIANGLE_STRIP||j===d.QUADS||j===d.QUAD_STRIP?j:null,f=[],p=[]),this},a.default.prototype.bezierVertex=function(){for(var j,A=arguments.length,L=new Array(A),C=0;C<A;C++)L[C]=arguments[C];if(a.default._validateParameters("bezierVertex",L),this._renderer.isP3D)(j=this._renderer).bezierVertex.apply(j,L);else if(f.length===0)a.default._friendlyError("vertex() must be used once before calling bezierVertex()","bezierVertex");else{b=!0;for(var T=[],R=0;R<L.length;R++)T[R]=L[R];T.isVert=!1,(g?p:f).push(T)}return this},a.default.prototype.curveVertex=function(){for(var j,A=arguments.length,L=new Array(A),C=0;C<A;C++)L[C]=arguments[C];return a.default._validateParameters("curveVertex",L),this._renderer.isP3D?(j=this._renderer).curveVertex.apply(j,L):(y=!0,this.vertex(L[0],L[1])),this},a.default.prototype.endContour=function(){if(!this._renderer.isP3D){var j=p[0].slice();j.isVert=p[0].isVert,j.moveTo=!1,p.push(j),v&&(f.push(f[0]),v=!1);for(var A=0;A<p.length;A++)f.push(p[A])}return this},a.default.prototype.endShape=function(j){var A=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1;if(a.default._validateParameters("endShape",arguments),A<1&&(console.log("🌸 p5.js says: You can not have less than one instance"),A=1),this._renderer.isP3D)this._renderer.endShape(j,y,b,m,g,w,A);else{if(A!==1&&console.log("🌸 p5.js says: Instancing is only supported in WebGL2 mode"),f.length===0)return this;if(!this._renderer._doStroke&&!this._renderer._doFill)return this;A=j===d.CLOSE,A&&!g&&f.push(f[0]),this._renderer.endShape(j,f,y,b,m,g,w),v=!(g=m=b=y=!1),A&&f.pop()}return this},a.default.prototype.quadraticVertex=function(){for(var j,A=arguments.length,L=new Array(A),C=0;C<A;C++)L[C]=arguments[C];if(a.default._validateParameters("quadraticVertex",L),this._renderer.isP3D)(j=this._renderer).quadraticVertex.apply(j,L);else{if(this._contourInited)return(j={}).x=L[0],j.y=L[1],j.x3=L[2],j.y3=L[3],j.type=d.QUADRATIC,this._contourVertices.push(j),this;if(0<f.length){m=!0;for(var T=[],R=0;R<L.length;R++)T[R]=L[R];T.isVert=!1,(g?p:f).push(T)}else a.default._friendlyError("vertex() must be used once before calling quadraticVertex()","quadraticVertex")}return this},a.default.prototype.vertex=function(j,A,L,C,T){var R;return this._renderer.isP3D?(R=this._renderer).vertex.apply(R,arguments):((R=[]).isVert=!0,R[0]=j,R[1]=A,R[2]=0,R[3]=0,R[4]=0,R[5]=this._renderer._getFill(),R[6]=this._renderer._getStroke(),L&&(R.moveTo=L),(g?(p.length===0&&(R.moveTo=!0),p):f).push(R)),this},a.default.prototype.normal=function(j,A,L){var C;return this._assert3d("normal"),a.default._validateParameters("normal",arguments),(C=this._renderer).normal.apply(C,arguments),this},a.default);c.default=S},{"../constants":272,"../main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],294:[function(t,o,c){},{}],295:[function(t,o,c){t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.assign"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0,t=(t=t("./main"))&&t.__esModule?t:{default:t},t.default.prototype.noLoop=function(){this._loop=!1},t.default.prototype.loop=function(){this._loop||(this._loop=!0,this._setupDone&&this._draw())},t.default.prototype.isLooping=function(){return this._loop},t.default.prototype.push=function(){this._styles.push({props:{_colorMode:this._colorMode},renderer:this._renderer.push()})},t.default.prototype.pop=function(){var l=this._styles.pop();l?(this._renderer.pop(l.renderer),Object.assign(this,l.props)):console.warn("pop() was called without matching push()")},t.default.prototype.redraw=function(l){if(!this._inUserDraw&&this._setupDone){var h=parseInt(l),a=((isNaN(h)||h<1)&&(h=1),this._isGlobal?window:this);if(typeof a.draw=="function"){a.setup===void 0&&a.scale(a._pixelDensity,a._pixelDensity);for(var d=0;d<h;d++){a.resetMatrix(),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._updateAccsOutput(),a._renderer.isP3D&&a._renderer._update(),a._setProperty("frameCount",a.frameCount+1),this.callRegisteredHooksFor("pre"),this._inUserDraw=!0;try{a.draw()}finally{this._inUserDraw=!1}this.callRegisteredHooksFor("post")}}}},t=t.default,c.default=t},{"./main":283,"core-js/modules/es.object.assign":183}],296:[function(t,o,c){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var l=(t=t("./main"))&&t.__esModule?t:{default:t};function h(a){return function(d){if(Array.isArray(d)){for(var _=0,w=new Array(d.length);_<d.length;_++)w[_]=d[_];return w}}(a)||function(d){if(Symbol.iterator in Object(d)||Object.prototype.toString.call(d)==="[object Arguments]")return Array.from(d)}(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}l.default.prototype.applyMatrix=function(){var a=(arguments.length<=0?void 0:arguments[0])instanceof Object.getPrototypeOf(Uint8Array);return Array.isArray(arguments.length<=0?void 0:arguments[0])||a?(a=this._renderer).applyMatrix.apply(a,h(arguments.length<=0?void 0:arguments[0])):(a=this._renderer).applyMatrix.apply(a,arguments),this},l.default.prototype.resetMatrix=function(){return this._renderer.resetMatrix(),this},l.default.prototype.rotate=function(a,d){return l.default._validateParameters("rotate",arguments),this._renderer.rotate(this._toRadians(a),d),this},l.default.prototype.rotateX=function(a){return this._assert3d("rotateX"),l.default._validateParameters("rotateX",arguments),this._renderer.rotateX(this._toRadians(a)),this},l.default.prototype.rotateY=function(a){return this._assert3d("rotateY"),l.default._validateParameters("rotateY",arguments),this._renderer.rotateY(this._toRadians(a)),this},l.default.prototype.rotateZ=function(a){return this._assert3d("rotateZ"),l.default._validateParameters("rotateZ",arguments),this._renderer.rotateZ(this._toRadians(a)),this},l.default.prototype.scale=function(a,d,_){var w;return l.default._validateParameters("scale",arguments),a instanceof l.default.Vector?(a=(w=a).x,d=w.y,_=w.z):Array.isArray(a)&&(a=(w=a)[0],d=w[1],_=w[2]||1),isNaN(d)?d=_=a:isNaN(_)&&(_=1),this._renderer.scale(a,d,_),this},l.default.prototype.shearX=function(a){return l.default._validateParameters("shearX",arguments),a=this._toRadians(a),this._renderer.applyMatrix(1,0,Math.tan(a),1,0,0),this},l.default.prototype.shearY=function(a){return l.default._validateParameters("shearY",arguments),a=this._toRadians(a),this._renderer.applyMatrix(1,Math.tan(a),0,1,0,0),this},l.default.prototype.translate=function(a,d,_){return l.default._validateParameters("translate",arguments),this._renderer.isP3D?this._renderer.translate(a,d,_):this._renderer.translate(a,d),this},t=l.default,c.default=t},{"./main":283,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/web.dom-collections.iterator":246}],297:[function(t,o,c){function l(_){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(_)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator");var h=(t=t("../core/main"))&&t.__esModule?t:{default:t};function a(_){return function(w){if(Array.isArray(w)){for(var f=0,p=new Array(w.length);f<w.length;f++)p[f]=w[f];return p}}(_)||function(w){if(Symbol.iterator in Object(w)||Object.prototype.toString.call(w)==="[object Arguments]")return Array.from(w)}(_)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function d(_){return(d=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(w){return l(w)}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":l(w)})(_)}h.default.prototype.storeItem=function(_,w){typeof _!="string"&&console.log("The argument that you passed to storeItem() - ".concat(_," is not a string.")),_.endsWith("p5TypeID")&&console.log("The argument that you passed to storeItem() - ".concat(_," must not end with 'p5TypeID'.")),w===void 0&&console.log("You cannot store undefined variables using storeItem().");var f=d(w);switch(f){case"number":case"boolean":w=w.toString();break;case"object":w instanceof h.default.Color?f="p5.Color":w instanceof h.default.Vector&&(f="p5.Vector",w=[w.x,w.y,w.z]),w=JSON.stringify(w)}localStorage.setItem(_,w),_="".concat(_,"p5TypeID"),localStorage.setItem(_,f)},h.default.prototype.getItem=function(_){var w=localStorage.getItem(_),f=localStorage.getItem("".concat(_,"p5TypeID"));if(f===void 0)console.log("Unable to determine type of item stored under ".concat(_,"in local storage. Did you save the item with something other than setItem()?"));else if(w!==null)switch(f){case"number":w=parseFloat(w);break;case"boolean":w=w==="true";break;case"object":w=JSON.parse(w);break;case"p5.Color":w=JSON.parse(w),w=this.color.apply(this,a(w.levels));break;case"p5.Vector":w=JSON.parse(w),w=this.createVector.apply(this,a(w))}return w},h.default.prototype.clearStorage=function(){var _=this;Object.keys(localStorage).forEach(function(w){w.endsWith("p5TypeID")&&_.removeItem(w.replace("p5TypeID",""))})},h.default.prototype.removeItem=function(_){typeof _!="string"&&console.log("The argument that you passed to removeItem() - ".concat(_," is not a string.")),localStorage.removeItem(_),localStorage.removeItem("".concat(_,"p5TypeID"))}},{"../core/main":283,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.ends-with":198,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],298:[function(t,o,c){function l(m){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(m)}function h(m){return(h=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(g){return l(g)}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":l(g)})(m)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.object.keys"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var a=(t=t("../core/main"))&&t.__esModule?t:{default:t};function d(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function");m.prototype=Object.create(g&&g.prototype,{constructor:{value:m,writable:!0,configurable:!0}}),g&&_(m,g)}function _(m,g){return(_=Object.setPrototypeOf||function(v,S){return v.__proto__=S,v})(m,g)}function w(m){return function(){var g,v=f(m),v=(g=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(g=f(this).constructor,Reflect.construct(v,arguments,g)):v.apply(this,arguments),this);if(!g||h(g)!=="object"&&typeof g!="function"){if(v!==void 0)return v;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return g}}function f(m){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(g){return g.__proto__||Object.getPrototypeOf(g)})(m)}function p(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")}function b(m,g){for(var v=0;v<g.length;v++){var S=g[v];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(m,S.key,S)}}function y(m,g,v){g&&b(m.prototype,g)}a.default.prototype.createStringDict=function(m,g){return a.default._validateParameters("createStringDict",arguments),new a.default.StringDict(m,g)},a.default.prototype.createNumberDict=function(m,g){return a.default._validateParameters("createNumberDict",arguments),new a.default.NumberDict(m,g)},a.default.TypedDict=function(){function m(g,v){return p(this,m),g instanceof Object?this.data=g:(this.data={},this.data[g]=v),this}return y(m,[{key:"size",value:function(){return Object.keys(this.data).length}},{key:"hasKey",value:function(g){return this.data.hasOwnProperty(g)}},{key:"get",value:function(g){if(this.data.hasOwnProperty(g))return this.data[g];console.log("".concat(g," does not exist in this Dictionary"))}},{key:"set",value:function(g,v){this._validate(v)?this.data[g]=v:console.log("Those values dont work for this dictionary type.")}},{key:"_addObj",value:function(g){for(var v in g)this.set(v,g[v])}},{key:"create",value:function(g,v){g instanceof Object&&v===void 0?this._addObj(g):g!==void 0?this.set(g,v):console.log("In order to create a new Dictionary entry you must pass an object or a key, value pair")}},{key:"clear",value:function(){this.data={}}},{key:"remove",value:function(g){if(!this.data.hasOwnProperty(g))throw new Error("".concat(g," does not exist in this Dictionary"));delete this.data[g]}},{key:"print",value:function(){for(var g in this.data)console.log("key:".concat(g," value:").concat(this.data[g]))}},{key:"saveTable",value:function(g){var v,S="";for(v in this.data)S+="".concat(v,",").concat(this.data[v],`
`);var j=new Blob([S],{type:"text/csv"});a.default.prototype.downloadFile(j,g||"mycsv","csv")}},{key:"saveJSON",value:function(g,v){a.default.prototype.saveJSON(this.data,g,v)}},{key:"_validate",value:function(g){return!0}}]),m}(),a.default.StringDict=function(){d(g,a.default.TypedDict);var m=w(g);function g(){p(this,g);for(var v=arguments.length,S=new Array(v),j=0;j<v;j++)S[j]=arguments[j];return m.call.apply(m,[this].concat(S))}return y(g,[{key:"_validate",value:function(v){return typeof v=="string"}}]),g}(),a.default.NumberDict=function(){d(g,a.default.TypedDict);var m=w(g);function g(){p(this,g);for(var v=arguments.length,S=new Array(v),j=0;j<v;j++)S[j]=arguments[j];return m.call.apply(m,[this].concat(S))}return y(g,[{key:"_validate",value:function(v){return typeof v=="number"}},{key:"add",value:function(v,S){this.data.hasOwnProperty(v)?this.data[v]+=S:console.log("The key - ".concat(v," does not exist in this dictionary."))}},{key:"sub",value:function(v,S){this.add(v,-S)}},{key:"mult",value:function(v,S){this.data.hasOwnProperty(v)?this.data[v]*=S:console.log("The key - ".concat(v," does not exist in this dictionary."))}},{key:"div",value:function(v,S){this.data.hasOwnProperty(v)?this.data[v]/=S:console.log("The key - ".concat(v," does not exist in this dictionary."))}},{key:"_valueTest",value:function(v){if(Object.keys(this.data).length===0)throw new Error("Unable to search for a minimum or maximum value on an empty NumberDict");if(Object.keys(this.data).length===1)return this.data[Object.keys(this.data)[0]];var S,j=this.data[Object.keys(this.data)[0]];for(S in this.data)this.data[S]*v<j*v&&(j=this.data[S]);return j}},{key:"minValue",value:function(){return this._valueTest(1)}},{key:"maxValue",value:function(){return this._valueTest(-1)}},{key:"_keyTest",value:function(v){if(Object.keys(this.data).length===0)throw new Error("Unable to use minValue on an empty NumberDict");if(Object.keys(this.data).length===1)return Object.keys(this.data)[0];for(var S=Object.keys(this.data)[0],j=1;j<Object.keys(this.data).length;j++)Object.keys(this.data)[j]*v<S*v&&(S=Object.keys(this.data)[j]);return S}},{key:"minKey",value:function(){return this._keyTest(1)}},{key:"maxKey",value:function(){return this._keyTest(-1)}}]),g}(),t=a.default.TypedDict,c.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],299:[function(t,o,c){function l(j){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A})(j)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var h=(t=t("../core/main"))&&t.__esModule?t:{default:t};function a(j,A){for(var L=0;L<A.length;L++){var C=A[L];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(j,C.key,C)}}function d(j,A,L){A&&a(j.prototype,A),L&&a(j,L)}function _(j,A){return(_=Object.setPrototypeOf||function(L,C){return L.__proto__=C,L})(j,A)}function w(j){return function(){var A,L,C=p(j);return A=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(A=p(this).constructor,Reflect.construct(C,arguments,A)):C.apply(this,arguments),C=this,!(L=A)||y(L)!=="object"&&typeof L!="function"?f(C):L}}function f(j){if(j===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j}function p(j){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(A){return A.__proto__||Object.getPrototypeOf(A)})(j)}function b(j,A){if(!(j instanceof A))throw new TypeError("Cannot call a class as a function")}function y(j){return(y=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(A){return l(A)}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":l(A)})(j)}function m(j,A,L){return(A._userNode||document.body).appendChild(j),L=new(L?h.default.MediaElement:h.default.Element)(j,A),A._elements.push(L),L}h.default.prototype.select=function(j,A){return h.default._validateParameters("select",arguments),A=this._getContainer(A).querySelector(j),A?this._wrapElement(A):null},h.default.prototype.selectAll=function(j,A){h.default._validateParameters("selectAll",arguments);var L=[],C=this._getContainer(A).querySelectorAll(j);if(C)for(var T=0;T<C.length;T++){var R=this._wrapElement(C[T]);L.push(R)}return L},h.default.prototype._getContainer=function(j){var A=document;return typeof j=="string"?A=document.querySelector(j)||document:j instanceof h.default.Element?A=j.elt:j instanceof HTMLElement&&(A=j),A},h.default.prototype._wrapElement=function(j){var A,L=Array.prototype.slice.call(j.children);return j.tagName==="INPUT"&&j.type==="checkbox"?((A=new h.default.Element(j,this)).checked=function(){return arguments.length===0?this.elt.checked:(this.elt.checked=!(arguments.length<=0||!arguments[0]),this)},A):j.tagName==="VIDEO"||j.tagName==="AUDIO"?new h.default.MediaElement(j,this):j.tagName==="SELECT"?this.createSelect(new h.default.Element(j,this)):0<L.length&&L.every(function(C){return C.tagName==="INPUT"||C.tagName==="LABEL"})&&(j.tagName==="DIV"||j.tagName==="SPAN")?this.createRadio(new h.default.Element(j,this)):new h.default.Element(j,this)},h.default.prototype.removeElements=function(j){h.default._validateParameters("removeElements",arguments),this._elements.filter(function(A){return!(A.elt instanceof HTMLCanvasElement)}).map(function(A){return A.remove()})},h.default.Element.prototype.changed=function(j){return h.default.Element._adjustListener("change",j,this),this},h.default.Element.prototype.input=function(j){return h.default.Element._adjustListener("input",j,this),this},h.default.prototype.createDiv=function(){var j=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",A=document.createElement("div");return A.innerHTML=j,m(A,this)},h.default.prototype.createP=function(){var j=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",A=document.createElement("p");return A.innerHTML=j,m(A,this)},h.default.prototype.createSpan=function(){var j=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",A=document.createElement("span");return A.innerHTML=j,m(A,this)},h.default.prototype.createImg=function(){h.default._validateParameters("createImg",arguments);var j,A=document.createElement("img"),L=arguments;return 1<L.length&&typeof L[1]=="string"&&(A.alt=L[1]),2<L.length&&typeof L[2]=="string"&&(A.crossOrigin=L[2]),A.src=L[0],j=m(A,this),A.addEventListener("load",function(){j.width=A.offsetWidth||A.width,j.height=A.offsetHeight||A.height;var C=L[L.length-1];typeof C=="function"&&C(j)}),j},h.default.prototype.createA=function(j,A,L){h.default._validateParameters("createA",arguments);var C=document.createElement("a");return C.href=j,C.innerHTML=A,L&&(C.target=L),m(C,this)},h.default.prototype.createSlider=function(j,A,L,C){h.default._validateParameters("createSlider",arguments);var T=document.createElement("input");return T.type="range",T.min=j,T.max=A,C===0?T.step=1e-18:C&&(T.step=C),typeof L=="number"&&(T.value=L),m(T,this)},h.default.prototype.createButton=function(j,A){h.default._validateParameters("createButton",arguments);var L=document.createElement("button");return L.innerHTML=j,A&&(L.value=A),m(L,this)},h.default.prototype.createCheckbox=function(){for(var j=arguments.length,A=new Array(j),L=0;L<j;L++)A[L]=arguments[L];h.default._validateParameters("createCheckbox",A);var C=document.createElement("div"),T=document.createElement("input"),R=(T.type="checkbox",document.createElement("label")),D=(R.appendChild(T),C.appendChild(R),m(C,this));return D.checked=function(){var k=D.elt.firstElementChild.getElementsByTagName("input")[0];if(k){if(arguments.length===0)return k.checked;k.checked=!(arguments.length<=0||!arguments[0])}return D},this.value=function(k){return D.value=k,this},A[0]&&(D.value(A[0]),(C=document.createElement("span")).innerHTML=A[0],R.appendChild(C)),A[1]&&(T.checked=!0),D},h.default.prototype.createSelect=function(){for(var j,A=arguments.length,L=new Array(A),C=0;C<A;C++)L[C]=arguments[C];h.default._validateParameters("createSelect",L);var T,R=L[0];return R instanceof h.default.Element&&R.elt instanceof HTMLSelectElement?this.elt=(j=R).elt:R instanceof HTMLSelectElement?(j=m(R,this),this.elt=R):(T=document.createElement("select"),R&&typeof R=="boolean"&&T.setAttribute("multiple","true"),j=m(T,this),this.elt=T),j.option=function(D,k){var F;if(D!==void 0){for(var P,q=0;q<this.elt.length;q+=1)if(this.elt[q].textContent===D){F=q;break}F!==void 0?k===!1?this.elt.remove(F):this.elt[F].value=k:((P=document.createElement("option")).textContent=D,P.value=k===void 0?D:k,this.elt.appendChild(P),this._pInst._elements.push(P))}},j.selected=function(D){if(D!==void 0){for(var k=0;k<this.elt.length;k+=1)this.elt[k].value.toString()===D.toString()&&(this.elt.selectedIndex=k);return this}if(this.elt.getAttribute("multiple")){var F=[],P=!0,q=!1,z=void 0;try{for(var H,Q=this.elt.selectedOptions[Symbol.iterator]();!(P=(H=Q.next()).done);P=!0){var J=H.value;F.push(J.value)}}catch(Z){q=!0,z=Z}finally{try{P||Q.return==null||Q.return()}finally{if(q)throw z}}return F}return this.elt.value},j.disable=function(D){if(typeof D=="string")for(var k=0;k<this.elt.length;k++)this.elt[k].value.toString()===D&&(this.elt[k].disabled=!0,this.elt[k].selected=!1);else this.elt.disabled=!0;return this},j.enable=function(D){if(typeof D=="string")for(var k=0;k<this.elt.length;k++)this.elt[k].value.toString()===D&&(this.elt[k].disabled=!1,this.elt[k].selected=!1);else{this.elt.disabled=!1;for(var F=0;F<this.elt.length;F++)this.elt[F].disabled=!1,this.elt[F].selected=!1}return this},j};var g=0;function v(j,D,L,C){var T=document.createElement(D),R=(typeof(L=L||"")=="string"&&(L=[L]),!0),D=!1,k=void 0;try{for(var F,P=L[Symbol.iterator]();!(R=(F=P.next()).done);R=!0){var q=F.value,z=document.createElement("source");z.setAttribute("src",q),T.appendChild(z)}}catch(Q){D=!0,k=Q}finally{try{R||P.return==null||P.return()}finally{if(D)throw k}}typeof C=="function"&&T.addEventListener("canplaythrough",function Q(){C(),T.removeEventListener("canplaythrough",Q)});var H=m(T,j,!0);return H.loadedmetadata=!1,T.addEventListener("loadedmetadata",function(){H.width=T.videoWidth,H.height=T.videoHeight,H.elt.width===0&&(H.elt.width=T.videoWidth),H.elt.height===0&&(H.elt.height=T.videoHeight),H.presetPlaybackRate&&(H.elt.playbackRate=H.presetPlaybackRate,delete H.presetPlaybackRate),H.loadedmetadata=!0}),H}h.default.prototype.createRadio=function(){function j(D){return D instanceof HTMLInputElement&&D.type==="radio"}function A(D){return D instanceof HTMLLabelElement}var L,C,T,R=arguments.length<=0?void 0:arguments[0];return R instanceof h.default.Element&&(R.elt instanceof HTMLDivElement||R.elt instanceof HTMLSpanElement)?(L=R,this.elt=R.elt):R instanceof HTMLDivElement||R instanceof HTMLSpanElement?(L=m(R,this),C=this.elt=R,typeof(arguments.length<=1?void 0:arguments[1])=="string"&&(T=arguments.length<=1?void 0:arguments[1])):(typeof R=="string"&&(T=R),C=document.createElement("div"),L=m(C,this),this.elt=C),L._name=T||"radioOption_".concat(g++),L._getOptionsArray=function(){return Array.from(this.elt.children).filter(function(D){return j(D)||A(D)&&j(D.firstElementChild)}).map(function(D){return j(D)?D:D.firstElementChild})},L.option=function(D,k){var F,P,q,z=!0,H=!1,Q=void 0;try{for(var J,Z=L._getOptionsArray()[Symbol.iterator]();!(z=(J=Z.next()).done);z=!0){var K=J.value;if(K.value===D){F=K;break}}}catch(se){H=!0,Q=se}finally{try{z||Z.return==null||Z.return()}finally{if(H)throw Q}}return F===void 0&&((F=document.createElement("input")).setAttribute("type","radio"),F.setAttribute("value",D)),F.setAttribute("name",L._name),A(F.parentElement)?P=F.parentElement:(P=document.createElement("label")).insertAdjacentElement("afterbegin",F),P.lastElementChild instanceof HTMLSpanElement?q=P.lastElementChild:(q=document.createElement("span"),F.insertAdjacentElement("afterend",q)),q.innerHTML=k===void 0?D:k,this.elt.appendChild(P),F},L.remove=function(D){var k=!0,F=!1,P=void 0;try{for(var q,z=L._getOptionsArray()[Symbol.iterator]();!(k=(q=z.next()).done);k=!0){var H=q.value;if(H.value===D)return void(A(H.parentElement)?H.parentElement:H).remove()}}catch(Q){F=!0,P=Q}finally{try{k||z.return==null||z.return()}finally{if(F)throw P}}},L.value=function(){var D="",k=!0,F=!1,P=void 0;try{for(var q,z=L._getOptionsArray()[Symbol.iterator]();!(k=(q=z.next()).done);k=!0){var H=q.value;if(H.checked){D=H.value;break}}}catch(Q){F=!0,P=Q}finally{try{k||z.return==null||z.return()}finally{if(F)throw P}}return D},L.selected=function(D){var k=null;if(D===void 0){var F=!0,P=!1,q=void 0;try{for(var z,H=L._getOptionsArray()[Symbol.iterator]();!(F=(z=H.next()).done);F=!0){var Q=z.value;if(Q.checked){k=Q;break}}}catch(le){P=!0,q=le}finally{try{F||H.return==null||H.return()}finally{if(P)throw q}}}else{L._getOptionsArray().forEach(function(G){G.checked=!1,G.removeAttribute("checked")});var J=!0,P=!1,q=void 0;try{for(var Z,K=L._getOptionsArray()[Symbol.iterator]();!(J=(Z=K.next()).done);J=!0){var se=Z.value;se.value===D&&(se.setAttribute("checked",!0),se.checked=!0,k=se)}}catch(G){P=!0,q=G}finally{try{J||K.return==null||K.return()}finally{if(P)throw q}}}return k},L.disable=function(){var D=!(0<arguments.length&&arguments[0]!==void 0)||arguments[0],k=!0,F=!1,P=void 0;try{for(var q,z=L._getOptionsArray()[Symbol.iterator]();!(k=(q=z.next()).done);k=!0)q.value.setAttribute("disabled",D)}catch(H){F=!0,P=H}finally{try{k||z.return==null||z.return()}finally{if(F)throw P}}},L},h.default.prototype.createColorPicker=function(j){h.default._validateParameters("createColorPicker",arguments);var A=document.createElement("input");return A.type="color",j?j instanceof h.default.Color?A.value=j.toString("#rrggbb"):(h.default.prototype._colorMode="rgb",h.default.prototype._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},A.value=h.default.prototype.color(j).toString("#rrggbb")):A.value="#000000",(A=m(A,this)).color=function(){return j&&(j.mode&&(h.default.prototype._colorMode=j.mode),j.maxes&&(h.default.prototype._colorMaxes=j.maxes)),h.default.prototype.color(this.elt.value)},A},h.default.prototype.createInput=function(){var j=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",A=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"text",L=(h.default._validateParameters("createInput",arguments),document.createElement("input"));return L.setAttribute("value",j),L.setAttribute("type",A),m(L,this)},h.default.prototype.createFileInput=function(j){var A,L=1<arguments.length&&arguments[1]!==void 0&&arguments[1];if(h.default._validateParameters("createFileInput",arguments),window.File&&window.FileReader&&window.FileList&&window.Blob)return(A=document.createElement("input")).setAttribute("type","file"),L&&A.setAttribute("multiple",!0),A.addEventListener("change",function(C){var T=!0,R=!1,D=void 0;try{for(var k,F=C.target.files[Symbol.iterator]();!(T=(k=F.next()).done);T=!0){var P=k.value;h.default.File._load(P,j)}}catch(q){R=!0,D=q}finally{try{T||F.return==null||F.return()}finally{if(R)throw D}}},!1),m(A,this);console.log("The File APIs are not fully supported in this browser. Cannot create element.")},h.default.prototype.createVideo=function(j,A){return h.default._validateParameters("createVideo",arguments),v(this,"video",j,A)},h.default.prototype.createAudio=function(j,A){return h.default._validateParameters("createAudio",arguments),v(this,"audio",j,A)},h.default.prototype.VIDEO="video",h.default.prototype.AUDIO="audio",navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(j){var A=navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return A?new Promise(function(L,C){A.call(navigator,j,L,C)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}),h.default.prototype.createCapture=function(){for(var j=arguments.length,A=new Array(j),L=0;L<j;L++)A[L]=arguments[L];if(h.default._validateParameters("createCapture",A),!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new DOMException("getUserMedia not supported in this browser");for(var C,T=!0,R=!0,D=!1,k=0,F=A;k<F.length;k++){var P=F[k];P===h.default.prototype.VIDEO?R=!1:P===h.default.prototype.AUDIO?T=!1:y(P)==="object"?(P.flipped!==void 0&&(D=P.flipped,delete P.flipped),q=Object.assign({},q,P)):typeof P=="function"&&(C=P)}var q=Object.assign({},{video:T,audio:R},q),z=document.createElement("video"),H=(z.setAttribute("playsinline",""),navigator.mediaDevices.getUserMedia(q).then(function(Q){try{"srcObject"in z?z.srcObject=Q:z.src=window.URL.createObjectURL(Q)}catch{z.src=Q}}).catch(function(Q){Q.name==="NotFoundError"&&h.default._friendlyError("No webcam found on this device","createCapture"),Q.name==="NotAllowedError"&&h.default._friendlyError("Access to the camera was denied","createCapture"),console.error(Q)}),m(z,this,!0));return H.loadedmetadata=!1,z.addEventListener("loadedmetadata",function(){z.play(),z.width?(H.width=z.width,H.height=z.height,D&&(H.elt.style.transform="scaleX(-1)")):(H.width=H.elt.width=z.videoWidth,H.height=H.elt.height=z.videoHeight),H.loadedmetadata=!0,C&&C(z.srcObject)}),H.flipped=D,H},h.default.prototype.createElement=function(j,A){return h.default._validateParameters("createElement",arguments),j=document.createElement(j),A!==void 0&&(j.innerHTML=A),m(j,this)},h.default.Element.prototype.addClass=function(j){return this.elt.className?this.hasClass(j)||(this.elt.className=this.elt.className+" "+j):this.elt.className=j,this},h.default.Element.prototype.removeClass=function(j){return this.elt.classList.remove(j),this},h.default.Element.prototype.hasClass=function(j){return this.elt.classList.contains(j)},h.default.Element.prototype.toggleClass=function(j){return this.elt.classList.contains(j)?this.elt.classList.remove(j):this.elt.classList.add(j),this},h.default.Element.prototype.child=function(j){return j===void 0?this.elt.childNodes:(typeof j=="string"?(j[0]==="#"&&(j=j.substring(1)),j=document.getElementById(j)):j instanceof h.default.Element&&(j=j.elt),j instanceof HTMLElement&&this.elt.appendChild(j),this)},h.default.Element.prototype.center=function(j){var A=this.elt.style.display,L=this.elt.style.display==="none",C=this.parent().style.display==="none",T={x:this.elt.offsetLeft,y:this.elt.offsetTop},R=(L&&this.show(),C&&this.parent().show(),this.elt.style.display="block",this.position(0,0),Math.abs(this.parent().offsetWidth-this.elt.offsetWidth)),D=Math.abs(this.parent().offsetHeight-this.elt.offsetHeight);return j==="both"||j===void 0?this.position(R/2+this.parent().offsetLeft,D/2+this.parent().offsetTop):j==="horizontal"?this.position(R/2+this.parent().offsetLeft,T.y):j==="vertical"&&this.position(T.x,D/2+this.parent().offsetTop),this.style("display",A),L&&this.hide(),C&&this.parent().hide(),this},h.default.Element.prototype.html=function(){return arguments.length===0?this.elt.innerHTML:(arguments.length<=1||!arguments[1]?this.elt.innerHTML=arguments.length<=0?void 0:arguments[0]:this.elt.insertAdjacentHTML("beforeend",arguments.length<=0?void 0:arguments[0]),this)},h.default.Element.prototype.position=function(){return arguments.length===0?{x:this.elt.offsetLeft,y:this.elt.offsetTop}:(this.elt.style.position=(arguments.length<=2?void 0:arguments[2])!=="static"&&(arguments.length<=2?void 0:arguments[2])!=="fixed"&&(arguments.length<=2?void 0:arguments[2])!=="relative"&&(arguments.length<=2?void 0:arguments[2])!=="sticky"&&(arguments.length<=2?void 0:arguments[2])!=="initial"&&(arguments.length<=2?void 0:arguments[2])!=="inherit"?"absolute":arguments.length<=2?void 0:arguments[2],this.elt.style.left=(arguments.length<=0?void 0:arguments[0])+"px",this.elt.style.top=(arguments.length<=1?void 0:arguments[1])+"px",this.x=arguments.length<=0?void 0:arguments[0],this.y=arguments.length<=1?void 0:arguments[1],this)},h.default.Element.prototype._translate=function(){this.elt.style.position="absolute";var j="";return this.elt.style.transform&&(j=(j=this.elt.style.transform.replace(/translate3d\(.*\)/g,"")).replace(/translate[X-Z]?\(.*\)/g,"")),arguments.length===2?this.elt.style.transform="translate("+(arguments.length<=0?void 0:arguments[0])+"px, "+(arguments.length<=1?void 0:arguments[1])+"px)":2<arguments.length&&(this.elt.style.transform="translate3d("+(arguments.length<=0?void 0:arguments[0])+"px,"+(arguments.length<=1?void 0:arguments[1])+"px,"+(arguments.length<=2?void 0:arguments[2])+"px)",this.elt.parentElement.style.perspective=arguments.length===3?"1000px":(arguments.length<=3?void 0:arguments[3])+"px"),this.elt.style.transform+=j,this},h.default.Element.prototype._rotate=function(){var j="";return this.elt.style.transform&&(j=(j=this.elt.style.transform.replace(/rotate3d\(.*\)/g,"")).replace(/rotate[X-Z]?\(.*\)/g,"")),arguments.length===1?this.elt.style.transform="rotate("+(arguments.length<=0?void 0:arguments[0])+"deg)":arguments.length===2?this.elt.style.transform="rotate("+(arguments.length<=0?void 0:arguments[0])+"deg, "+(arguments.length<=1?void 0:arguments[1])+"deg)":arguments.length===3&&(this.elt.style.transform="rotateX("+(arguments.length<=0?void 0:arguments[0])+"deg)",this.elt.style.transform+="rotateY("+(arguments.length<=1?void 0:arguments[1])+"deg)",this.elt.style.transform+="rotateZ("+(arguments.length<=2?void 0:arguments[2])+"deg)"),this.elt.style.transform+=j,this},h.default.Element.prototype.style=function(j,A){if((A=A instanceof h.default.Color?"rgba("+A.levels[0]+","+A.levels[1]+","+A.levels[2]+","+A.levels[3]/255+")":A)===void 0){if(j.indexOf(":")===-1)return window.getComputedStyle(this.elt).getPropertyValue(j);for(var L=j.split(";"),C=0;C<L.length;C++){var T=L[C].split(":");T[0]&&T[1]&&(this.elt.style[T[0].trim()]=T[1].trim())}}else this.elt.style[j]=A,j!=="width"&&j!=="height"&&j!=="left"&&j!=="top"||(A=window.getComputedStyle(this.elt).getPropertyValue(j).replace(/[^\d.]/g,""),this[j]=Math.round(parseFloat(A,10)));return this},h.default.Element.prototype.attribute=function(j,A){if(this.elt.firstChild==null||this.elt.firstChild.type!=="checkbox"&&this.elt.firstChild.type!=="radio")return A===void 0?this.elt.getAttribute(j):(this.elt.setAttribute(j,A),this);if(A===void 0)return this.elt.firstChild.getAttribute(j);for(var L=0;L<this.elt.childNodes.length;L++)this.elt.childNodes[L].setAttribute(j,A)},h.default.Element.prototype.removeAttribute=function(j){if(this.elt.firstChild!=null&&(this.elt.firstChild.type==="checkbox"||this.elt.firstChild.type==="radio"))for(var A=0;A<this.elt.childNodes.length;A++)this.elt.childNodes[A].removeAttribute(j);return this.elt.removeAttribute(j),this},h.default.Element.prototype.value=function(){return 0<arguments.length?(this.elt.value=arguments.length<=0?void 0:arguments[0],this):this.elt.type==="range"?parseFloat(this.elt.value):this.elt.value},h.default.Element.prototype.show=function(){return this.elt.style.display="block",this},h.default.Element.prototype.hide=function(){return this.elt.style.display="none",this},h.default.Element.prototype.size=function(j,A){if(arguments.length===0)return{width:this.elt.offsetWidth,height:this.elt.offsetHeight};var L=j,C=A,T=h.default.prototype.AUTO;if(L!==T||C!==T){if(L===T?L=A*this.width/this.height:C===T&&(C=j*this.height/this.width),this.elt instanceof HTMLCanvasElement){var R,D={},k=this.elt.getContext("2d");for(R in k)D[R]=k[R];for(R in this.elt.setAttribute("width",L*this._pInst._pixelDensity),this.elt.setAttribute("height",C*this._pInst._pixelDensity),this.elt.style.width=L+"px",this.elt.style.height=C+"px",this._pInst.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),D)this.elt.getContext("2d")[R]=D[R]}else this.elt.style.width=L+"px",this.elt.style.height=C+"px",this.elt.width=L,this.elt.height=C;this.width=L,this.height=C,this._pInst&&this._pInst._curElement&&this._pInst._curElement.elt===this.elt&&(this._pInst._setProperty("width",L),this._pInst._setProperty("height",C))}return this},h.default.Element.prototype.remove=function(){this instanceof h.default.MediaElement&&(this.stop(),(A=this.elt.srcObject)!==null&&A.getTracks().forEach(function(L){L.stop()}));var j,A=this._pInst._elements.indexOf(this);for(j in A!==-1&&this._pInst._elements.splice(A,1),this._events)this.elt.removeEventListener(j,this._events[j]);this.elt&&this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt)},h.default.Element.prototype.drop=function(j,A){var L;return window.File&&window.FileReader&&window.FileList&&window.Blob?(this._dragDisabled||(this._dragDisabled=!0,this.elt.addEventListener("dragover",L=function(C){C.preventDefault()}),this.elt.addEventListener("dragleave",L)),h.default.Element._attachListener("drop",function(T){T.preventDefault(),typeof A=="function"&&A.call(this,T);var T=T.dataTransfer.files,R=!0,D=!1,k=void 0;try{for(var F,P=T[Symbol.iterator]();!(R=(F=P.next()).done);R=!0){var q=F.value;h.default.File._load(q,j)}}catch(z){D=!0,k=z}finally{try{R||P.return==null||P.return()}finally{if(D)throw k}}},this)):console.log("The File APIs are not fully supported in this browser."),this},h.default.Element.prototype.draggable=function(j){var A,L="ontouchstart"in window,C=0,T=0,R=0,D=0,k=L?"touchend":"mouseup",F=L?"touchmove":"mousemove";function P(z){var H;z=z||window.event,D=L?(H=z.changedTouches,C=R-parseInt(H[0].clientX),T=D-parseInt(H[0].clientY),R=parseInt(H[0].clientX),parseInt(H[0].clientY)):(C=R-parseInt(z.clientX),T=D-parseInt(z.clientY),R=parseInt(z.clientX),parseInt(z.clientY)),j.style.left=j.offsetLeft-C+"px",j.style.top=j.offsetTop-T+"px"}function q(){document.removeEventListener(k,q,!1),document.removeEventListener(F,P,!1)}return j===void 0?A=j=this.elt:j!==this.elt&&j.elt!==this.elt&&(j=j.elt,A=this.elt),A.addEventListener(L?"touchstart":"mousedown",function(z){{var H;z=z||window.event,D=L?(H=z.changedTouches,R=parseInt(H[0].clientX),parseInt(H[0].clientY)):(R=parseInt(z.clientX),parseInt(z.clientY))}return document.addEventListener(k,q,!1),document.addEventListener(F,P,!1),!1},!1),A.style.cursor="move",this};function S(j,A,L,C){b(this,S),this.callback=j,this.time=A,this.id=L,this.val=C}t=function(j){var A=C;if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(j&&j.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),j&&_(A,j);var L=w(C);function C(T,R){b(this,C);var D=f(R=L.call(this,T,R));return R.elt.crossOrigin="anonymous",R._prevTime=0,R._cueIDCounter=0,R._cues=[],R.pixels=[],R._pixelsState=f(R),R._pixelDensity=1,R._modified=!1,R._frameOnCanvas=-1,Object.defineProperty(D,"src",{get:function(){var k=D.elt.children[0].src,F=D.elt.src===window.location.href?"":D.elt.src;return k===window.location.href?F:k},set:function(k){for(var F=0;F<D.elt.children.length;F++)D.elt.removeChild(D.elt.children[F]);var P=document.createElement("source");P.src=k,T.appendChild(P),D.elt.src=k,D.modified=!0}}),D._onended=function(){},D.elt.onended=function(){D._onended(D)},R}return d(C,[{key:"play",value:function(){var T;return this.elt.currentTime===this.elt.duration&&(this.elt.currentTime=0),1<this.elt.readyState||this.elt.load(),(T=this.elt.play())&&T.catch&&T.catch(function(R){R.name==="NotAllowedError"?console.error(R):console.error("Media play method encountered an unexpected error",R)}),this}},{key:"stop",value:function(){return this.elt.pause(),this.elt.currentTime=0,this}},{key:"pause",value:function(){return this.elt.pause(),this}},{key:"loop",value:function(){return this.elt.setAttribute("loop",!0),this.play(),this}},{key:"noLoop",value:function(){return this.elt.removeAttribute("loop"),this}},{key:"_setupAutoplayFailDetection",value:function(){var T=setTimeout(function(){console.error(e)},500);this.elt.addEventListener("play",function(){return clearTimeout(T)},{passive:!0,once:!0})}},{key:"autoplay",value:function(T){var R=this,D=this.elt.getAttribute("autoplay");return this.elt.setAttribute("autoplay",T),T&&!D&&(T=function(){return R._setupAutoplayFailDetection()},this.elt.readyState===4?T():this.elt.addEventListener("canplay",T,{passive:!0,once:!0})),this}},{key:"volume",value:function(T){if(T===void 0)return this.elt.volume;this.elt.volume=T}},{key:"speed",value:function(T){if(T===void 0)return this.presetPlaybackRate||this.elt.playbackRate;this.loadedmetadata?this.elt.playbackRate=T:this.presetPlaybackRate=T}},{key:"time",value:function(T){return T===void 0?this.elt.currentTime:(this.elt.currentTime=T,this)}},{key:"duration",value:function(){return this.elt.duration}},{key:"_ensureCanvas",value:function(){this.canvas||(this.canvas=document.createElement("canvas"),this.drawingContext=this.canvas.getContext("2d"),this.setModified(!0));var T=this._frameOnCanvas!==this._pInst.frameCount;this.loadedmetadata&&T&&(this.canvas.width!==this.elt.width&&(this.canvas.width=this.elt.width,this.canvas.height=this.elt.height,this.width=this.canvas.width,this.height=this.canvas.height),this.drawingContext.clearRect(0,0,this.canvas.width,this.canvas.height),this.flipped===!0&&(this.drawingContext.save(),this.drawingContext.scale(-1,1),this.drawingContext.translate(-this.canvas.width,0)),this.drawingContext.drawImage(this.elt,0,0,this.canvas.width,this.canvas.height),this.flipped===!0&&this.drawingContext.restore(),this.setModified(!0),this._frameOnCanvas=this._pInst.frameCount)}},{key:"loadPixels",value:function(){this._ensureCanvas();for(var T=arguments.length,R=new Array(T),D=0;D<T;D++)R[D]=arguments[D];return h.default.Renderer2D.prototype.loadPixels.apply(this,R)}},{key:"updatePixels",value:function(T,R,D,k){return this.loadedmetadata&&(this._ensureCanvas(),h.default.Renderer2D.prototype.updatePixels.call(this,T,R,D,k)),this.setModified(!0),this}},{key:"get",value:function(){this._ensureCanvas();for(var T=arguments.length,R=new Array(T),D=0;D<T;D++)R[D]=arguments[D];return h.default.Renderer2D.prototype.get.apply(this,R)}},{key:"_getPixel",value:function(){this.loadPixels();for(var T=arguments.length,R=new Array(T),D=0;D<T;D++)R[D]=arguments[D];return h.default.Renderer2D.prototype._getPixel.apply(this,R)}},{key:"set",value:function(T,R,D){this.loadedmetadata&&(this._ensureCanvas(),h.default.Renderer2D.prototype.set.call(this,T,R,D),this.setModified(!0))}},{key:"copy",value:function(){this._ensureCanvas();for(var T=arguments.length,R=new Array(T),D=0;D<T;D++)R[D]=arguments[D];h.default.prototype.copy.apply(this,R)}},{key:"mask",value:function(){this.loadPixels(),this.setModified(!0);for(var T=arguments.length,R=new Array(T),D=0;D<T;D++)R[D]=arguments[D];h.default.Image.prototype.mask.apply(this,R)}},{key:"isModified",value:function(){return this._modified}},{key:"setModified",value:function(T){this._modified=T}},{key:"onended",value:function(T){return this._onended=T,this}},{key:"connect",value:function(T){var R,D;if(typeof h.default.prototype.getAudioContext=="function")R=h.default.prototype.getAudioContext(),D=h.default.soundOut.input;else try{D=(R=T.context).destination}catch{throw"connect() is meant to be used with Web Audio API or p5.sound.js"}this.audioSourceNode||(this.audioSourceNode=R.createMediaElementSource(this.elt),this.audioSourceNode.connect(D)),T?T.input?this.audioSourceNode.connect(T.input):this.audioSourceNode.connect(T):this.audioSourceNode.connect(D)}},{key:"disconnect",value:function(){if(!this.audioSourceNode)throw"nothing to disconnect";this.audioSourceNode.disconnect()}},{key:"showControls",value:function(){this.elt.style["text-align"]="inherit",this.elt.controls=!0}},{key:"hideControls",value:function(){this.elt.controls=!1}},{key:"addCue",value:function(T,F,D){var k=this._cueIDCounter++,F=new S(F,T,k,D);return this._cues.push(F),this.elt.ontimeupdate||(this.elt.ontimeupdate=this._onTimeUpdate.bind(this)),k}},{key:"removeCue",value:function(T){for(var R=0;R<this._cues.length;R++)this._cues[R].id===T&&(console.log(T),this._cues.splice(R,1));this._cues.length===0&&(this.elt.ontimeupdate=null)}},{key:"clearCues",value:function(){this._cues=[],this.elt.ontimeupdate=null}},{key:"_onTimeUpdate",value:function(){for(var T=this.time(),R=0;R<this._cues.length;R++){var D=this._cues[R].time,k=this._cues[R].val;this._prevTime<D&&D<=T&&this._cues[R].callback(k)}this._prevTime=T}}]),C}(h.default.Element),h.default.MediaElement=t,t=function(){function j(A,L){b(this,j),this.file=A,this._pInst=L,L=A.type.split("/"),this.type=L[0],this.subtype=L[1],this.name=A.name,this.size=A.size,this.data=void 0}return d(j,null,[{key:"_createLoader",value:function(A,L){var C=new FileReader;return C.onload=function(T){var R,D=new h.default.File(A);D.file.type==="application/json"?D.data=JSON.parse(T.target.result):D.file.type==="text/xml"?(R=new DOMParser().parseFromString(T.target.result,"text/xml"),D.data=new h.default.XML(R.documentElement)):D.data=T.target.result,L(D)},C}},{key:"_load",value:function(A,L){var C;/^text\//.test(A.type)||A.type==="application/json"?h.default.File._createLoader(A,L).readAsText(A):/^(video|audio)\//.test(A.type)?((C=new h.default.File(A)).data=URL.createObjectURL(A),L(C)):h.default.File._createLoader(A,L).readAsDataURL(A)}}]),j}(),h.default.File=t,t=h.default,c.default=t},{"../core/main":283,"core-js/modules/es.array.every":155,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.function.name":174,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246,"core-js/modules/web.url":248}],300:[function(y,o,c){Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var l=(y=y("../core/main"))&&y.__esModule?y:{default:y};l.default.prototype.deviceOrientation=1<window.innerWidth/window.innerHeight?"landscape":"portrait",l.default.prototype.accelerationX=0,l.default.prototype.accelerationY=0,l.default.prototype.accelerationZ=0,l.default.prototype.pAccelerationX=0,l.default.prototype.pAccelerationY=0,l.default.prototype.pAccelerationZ=0,l.default.prototype._updatePAccelerations=function(){this._setProperty("pAccelerationX",this.accelerationX),this._setProperty("pAccelerationY",this.accelerationY),this._setProperty("pAccelerationZ",this.accelerationZ)},l.default.prototype.rotationX=0,l.default.prototype.rotationY=0,l.default.prototype.rotationZ=0,l.default.prototype.pRotationX=0,l.default.prototype.pRotationY=0;var h=l.default.prototype.pRotationZ=0,a=0,d=0,_="clockwise",w="clockwise",f="clockwise",p=(l.default.prototype.pRotateDirectionX=void 0,l.default.prototype.pRotateDirectionY=void 0,l.default.prototype.pRotateDirectionZ=void 0,l.default.prototype._updatePRotations=function(){this._setProperty("pRotationX",this.rotationX),this._setProperty("pRotationY",this.rotationY),this._setProperty("pRotationZ",this.rotationZ)},l.default.prototype.turnAxis=void 0,.5),b=30,y=(l.default.prototype.setMoveThreshold=function(m){l.default._validateParameters("setMoveThreshold",arguments),p=m},l.default.prototype.setShakeThreshold=function(m){l.default._validateParameters("setShakeThreshold",arguments),b=m},l.default.prototype._ondeviceorientation=function(m){this._updatePRotations(),this._setProperty("rotationX",this._fromDegrees(m.beta)),this._setProperty("rotationY",this._fromDegrees(m.gamma)),this._setProperty("rotationZ",this._fromDegrees(m.alpha)),this._handleMotion()},l.default.prototype._ondevicemotion=function(m){this._updatePAccelerations(),this._setProperty("accelerationX",2*m.acceleration.x),this._setProperty("accelerationY",2*m.acceleration.y),this._setProperty("accelerationZ",2*m.acceleration.z),this._handleMotion()},l.default.prototype._handleMotion=function(){window.orientation===90||window.orientation===-90?this._setProperty("deviceOrientation","landscape"):window.orientation===0?this._setProperty("deviceOrientation","portrait"):window.orientation===void 0&&this._setProperty("deviceOrientation","undefined");var m,g,v,S,j,A=this._isGlobal?window:this;typeof A.deviceMoved=="function"&&(Math.abs(this.accelerationX-this.pAccelerationX)>p||Math.abs(this.accelerationY-this.pAccelerationY)>p||Math.abs(this.accelerationZ-this.pAccelerationZ)>p)&&A.deviceMoved(),typeof A.deviceTurned=="function"&&(g=this._toDegrees(this.rotationX)+180,v=this._toDegrees(this.pRotationX)+180,m=h+180,0<g-v&&g-v<270||g-v<-270?_="clockwise":(g-v<0||270<g-v)&&(_="counter-clockwise"),_!==this.pRotateDirectionX&&(m=g),90<Math.abs(g-m)&&Math.abs(g-m)<270&&(m=g,this._setProperty("turnAxis","X"),A.deviceTurned()),this.pRotateDirectionX=_,h=m-180,v=this._toDegrees(this.rotationY)+180,g=this._toDegrees(this.pRotationY)+180,m=a+180,0<v-g&&v-g<270||v-g<-270?w="clockwise":(v-g<0||270<v-this.pRotationY)&&(w="counter-clockwise"),w!==this.pRotateDirectionY&&(m=v),90<Math.abs(v-m)&&Math.abs(v-m)<270&&(m=v,this._setProperty("turnAxis","Y"),A.deviceTurned()),this.pRotateDirectionY=w,a=m-180,0<(g=this._toDegrees(this.rotationZ))-(v=this._toDegrees(this.pRotationZ))&&g-v<270||g-v<-270?f="clockwise":(g-v<0||270<g-v)&&(f="counter-clockwise"),f!==this.pRotateDirectionZ&&(d=g),90<Math.abs(g-d)&&Math.abs(g-d)<270&&(d=g,this._setProperty("turnAxis","Z"),A.deviceTurned()),this.pRotateDirectionZ=f,this._setProperty("turnAxis",void 0)),typeof A.deviceShaken=="function"&&(this.pAccelerationX!==null&&(S=Math.abs(this.accelerationX-this.pAccelerationX),j=Math.abs(this.accelerationY-this.pAccelerationY)),b<S+j&&A.deviceShaken())},l.default);c.default=y},{"../core/main":283}],301:[function(t,o,c){Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var l=(t=t("../core/main"))&&t.__esModule?t:{default:t};l.default.prototype.isKeyPressed=!1,l.default.prototype.keyIsPressed=!1,l.default.prototype.key="",l.default.prototype.keyCode=0,l.default.prototype._onkeydown=function(h){var a;this._downKeys[h.which]||(this._setProperty("isKeyPressed",!0),this._setProperty("keyIsPressed",!0),this._setProperty("keyCode",h.which),this._downKeys[h.which]=!0,this._setProperty("key",h.key||String.fromCharCode(h.which)||h.which),typeof(a=this._isGlobal?window:this).keyPressed!="function"||h.charCode||a.keyPressed(h)===!1&&h.preventDefault())},l.default.prototype._onkeyup=function(h){this._downKeys[h.which]=!1,this._areDownKeys()||(this._setProperty("isKeyPressed",!1),this._setProperty("keyIsPressed",!1)),this._setProperty("_lastKeyCodeTyped",null),this._setProperty("key",h.key||String.fromCharCode(h.which)||h.which),this._setProperty("keyCode",h.which);var a=this._isGlobal?window:this;typeof a.keyReleased=="function"&&a.keyReleased(h)===!1&&h.preventDefault()},l.default.prototype._onkeypress=function(h){var a;h.which!==this._lastKeyCodeTyped&&(this._setProperty("_lastKeyCodeTyped",h.which),this._setProperty("key",h.key||String.fromCharCode(h.which)||h.which),typeof(a=this._isGlobal?window:this).keyTyped=="function"&&a.keyTyped(h)===!1&&h.preventDefault())},l.default.prototype._onblur=function(h){this._downKeys={}},l.default.prototype.keyIsDown=function(h){return l.default._validateParameters("keyIsDown",arguments),this._downKeys[h]||!1},l.default.prototype._areDownKeys=function(){for(var h in this._downKeys)if(this._downKeys.hasOwnProperty(h)&&this._downKeys[h]===!0)return!0;return!1},t=l.default,c.default=t},{"../core/main":283}],302:[function(t,o,c){function l(w){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(w)}function h(w){return(h=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(f){return l(f)}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":l(f)})(w)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var a=(a=t("../core/main"))&&a.__esModule?a:{default:a},d=function(w){if(w&&w.__esModule)return w;if(w===null||h(w)!=="object"&&typeof w!="function")return{default:w};var f=_();if(f&&f.has(w))return f.get(w);var p,b={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(p in w){var m;Object.prototype.hasOwnProperty.call(w,p)&&((m=y?Object.getOwnPropertyDescriptor(w,p):null)&&(m.get||m.set)?Object.defineProperty(b,p,m):b[p]=w[p])}return b.default=w,f&&f.set(w,b),b}(t("../core/constants"));function _(){var w;return typeof WeakMap!="function"?null:(w=new WeakMap,_=function(){return w},w)}a.default.prototype.movedX=0,a.default.prototype.movedY=0,a.default.prototype._hasMouseInteracted=!1,a.default.prototype.mouseX=0,a.default.prototype.mouseY=0,a.default.prototype.pmouseX=0,a.default.prototype.pmouseY=0,a.default.prototype.winMouseX=0,a.default.prototype.winMouseY=0,a.default.prototype.pwinMouseX=0,a.default.prototype.pwinMouseY=0,a.default.prototype.mouseButton=0,a.default.prototype.mouseIsPressed=!1,a.default.prototype._updateNextMouseCoords=function(w){var f,p,b,y,m;this._curElement!==null&&(!w.touches||0<w.touches.length)&&(f=this._curElement.elt,p=this.width,b=this.height,(y=w)&&!y.clientX&&(y.touches?y=y.touches[0]:y.changedTouches&&(y=y.changedTouches[0])),m=f.getBoundingClientRect(),p=f.scrollWidth/p||1,f=f.scrollHeight/b||1,b={x:(y.clientX-m.left)/p,y:(y.clientY-m.top)/f,winX:y.clientX,winY:y.clientY,id:y.identifier},this._setProperty("movedX",w.movementX),this._setProperty("movedY",w.movementY),this._setProperty("mouseX",b.x),this._setProperty("mouseY",b.y),this._setProperty("winMouseX",b.winX),this._setProperty("winMouseY",b.winY)),this._hasMouseInteracted||(this._updateMouseCoords(),this._setProperty("_hasMouseInteracted",!0))},a.default.prototype._updateMouseCoords=function(){this._setProperty("pmouseX",this.mouseX),this._setProperty("pmouseY",this.mouseY),this._setProperty("pwinMouseX",this.winMouseX),this._setProperty("pwinMouseY",this.winMouseY),this._setProperty("_pmouseWheelDeltaY",this._mouseWheelDeltaY)},a.default.prototype._setMouseButton=function(w){w.button===1?this._setProperty("mouseButton",d.CENTER):w.button===2?this._setProperty("mouseButton",d.RIGHT):this._setProperty("mouseButton",d.LEFT)},a.default.prototype._onmousemove=function(w){var f=this._isGlobal?window:this;this._updateNextMouseCoords(w),this.mouseIsPressed?typeof f.mouseDragged=="function"?f.mouseDragged(w)===!1&&w.preventDefault():typeof f.touchMoved=="function"&&f.touchMoved(w)===!1&&w.preventDefault():typeof f.mouseMoved=="function"&&f.mouseMoved(w)===!1&&w.preventDefault()},a.default.prototype._onmousedown=function(w){var f=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._setMouseButton(w),this._updateNextMouseCoords(w),this.touchstart||(typeof f.mousePressed=="function"?f.mousePressed(w)===!1&&w.preventDefault():typeof f.touchStarted=="function"&&f.touchStarted(w)===!1&&w.preventDefault(),this.touchstart=!1)},a.default.prototype._onmouseup=function(w){var f=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!1),this.touchend||(typeof f.mouseReleased=="function"?f.mouseReleased(w)===!1&&w.preventDefault():typeof f.touchEnded=="function"&&f.touchEnded(w)===!1&&w.preventDefault(),this.touchend=!1)},a.default.prototype._ondragend=a.default.prototype._onmouseup,a.default.prototype._ondragover=a.default.prototype._onmousemove,a.default.prototype._onclick=function(w){var f=this._isGlobal?window:this;typeof f.mouseClicked=="function"&&f.mouseClicked(w)===!1&&w.preventDefault()},a.default.prototype._ondblclick=function(w){var f=this._isGlobal?window:this;typeof f.doubleClicked=="function"&&f.doubleClicked(w)===!1&&w.preventDefault()},a.default.prototype._mouseWheelDeltaY=0,a.default.prototype._pmouseWheelDeltaY=0,a.default.prototype._onwheel=function(w){var f=this._isGlobal?window:this;this._setProperty("_mouseWheelDeltaY",w.deltaY),typeof f.mouseWheel=="function"&&(w.delta=w.deltaY,f.mouseWheel(w)===!1&&w.preventDefault())},a.default.prototype.requestPointerLock=function(){var w=this._curElement.elt;return w.requestPointerLock=w.requestPointerLock||w.mozRequestPointerLock,w.requestPointerLock?(w.requestPointerLock(),!0):(console.log("requestPointerLock is not implemented in this browser"),!1)},a.default.prototype.exitPointerLock=function(){document.exitPointerLock()},t=a.default,c.default=t},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],303:[function(t,o,c){Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype.touches=[],t.default.prototype._updateTouchCoords=function(l){if(this._curElement!==null){for(var h=[],a=0;a<l.touches.length;a++)h[a]=function(m,y,g,f){var p=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,b=m.getBoundingClientRect(),y=m.scrollWidth/y||1,m=m.scrollHeight/g||1,g=f.touches[p]||f.changedTouches[p];return{x:(g.clientX-b.left)/y,y:(g.clientY-b.top)/m,winX:g.clientX,winY:g.clientY,id:g.identifier}}(this._curElement.elt,this.width,this.height,l,a);this._setProperty("touches",h)}},t.default.prototype._ontouchstart=function(l){var h=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._updateTouchCoords(l),this._updateNextMouseCoords(l),this._updateMouseCoords(),typeof h.touchStarted=="function"&&(h.touchStarted(l)===!1&&l.preventDefault(),this.touchstart=!0)},t.default.prototype._ontouchmove=function(l){var h=this._isGlobal?window:this;this._updateTouchCoords(l),this._updateNextMouseCoords(l),typeof h.touchMoved=="function"?h.touchMoved(l)===!1&&l.preventDefault():typeof h.mouseDragged=="function"&&h.mouseDragged(l)===!1&&l.preventDefault()},t.default.prototype._ontouchend=function(l){this._setProperty("mouseIsPressed",!1),this._updateTouchCoords(l),this._updateNextMouseCoords(l);var h=this._isGlobal?window:this;typeof h.touchEnded=="function"&&(h.touchEnded(l)===!1&&l.preventDefault(),this.touchend=!0)},t=t.default,c.default=t},{"../core/main":283}],304:[function(t,o,c){t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.int32-array"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.int32-array"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var l,h,a,d,_={_toPixels:function(w){var f,p;return w instanceof ImageData?w.data:w.getContext("2d")?w.getContext("2d").getImageData(0,0,w.width,w.height).data:w.getContext("webgl")?(p=(f=w.getContext("webgl")).drawingBufferWidth*f.drawingBufferHeight*4,p=new Uint8Array(p),f.readPixels(0,0,w.width,w.height,f.RGBA,f.UNSIGNED_BYTE,p),p):void 0},_getARGB:function(w,f){return f*=4,w[3+f]<<24&4278190080|w[f]<<16&16711680|w[1+f]<<8&65280|255&w[2+f]},_setPixels:function(w,f){for(var p,b=0,y=w.length;b<y;b++)w[0+(p=4*b)]=(16711680&f[b])>>>16,w[1+p]=(65280&f[b])>>>8,w[2+p]=255&f[b],w[3+p]=(4278190080&f[b])>>>24},_toImageData:function(w){return w instanceof ImageData?w:w.getContext("2d").getImageData(0,0,w.width,w.height)},_createImageData:function(w,f){return _._tmpCanvas=document.createElement("canvas"),_._tmpCtx=_._tmpCanvas.getContext("2d"),this._tmpCtx.createImageData(w,f)},apply:function(w,m,p){var b=w.getContext("2d"),y=b.getImageData(0,0,w.width,w.height),m=m(y,p);m instanceof ImageData?b.putImageData(m,0,0,0,0,w.width,w.height):b.putImageData(y,0,0,0,0,w.width,w.height)},threshold:function(w){for(var f=1<arguments.length&&arguments[1]!==void 0?arguments[1]:.5,p=_._toPixels(w),b=Math.floor(255*f),y=0;y<p.length;y+=4){var m=void 0,m=b<=.2126*p[y]+.7152*p[y+1]+.0722*p[y+2]?255:0;p[y]=p[y+1]=p[y+2]=m}},gray:function(w){for(var f=_._toPixels(w),p=0;p<f.length;p+=4){var b=f[p],y=f[p+1],m=f[p+2];f[p]=f[p+1]=f[p+2]=.2126*b+.7152*y+.0722*m}},opaque:function(w){for(var f=_._toPixels(w),p=0;p<f.length;p+=4)f[p+3]=255;return f},invert:function(w){for(var f=_._toPixels(w),p=0;p<f.length;p+=4)f[p]=255-f[p],f[p+1]=255-f[p+1],f[p+2]=255-f[p+2]},posterize:function(w){var f=1<arguments.length&&arguments[1]!==void 0?arguments[1]:4,p=_._toPixels(w);if(f<2||255<f)throw new Error("Level must be greater than 2 and less than 255 for posterize");for(var b=f-1,y=0;y<p.length;y+=4){var m=p[y],g=p[y+1],v=p[y+2];p[y]=255*(m*f>>8)/b,p[y+1]=255*(g*f>>8)/b,p[y+2]=255*(v*f>>8)/b}},dilate:function(w){for(var f,p,b,y,m,g,v,S,j,A=_._toPixels(w),L=0,C=A.length?A.length/4:0,T=new Int32Array(C);L<C;)for(p=(f=L)+w.width;L<p;)y=b=_._getARGB(A,L),(j=L-1)<f&&(j=L),p<=(S=L+1)&&(S=L),(m=L-w.width)<0&&(m=0),C<=(g=L+w.width)&&(g=L),m=_._getARGB(A,m),j=_._getARGB(A,j),g=_._getARGB(A,g),(y=77*(y>>16&255)+151*(y>>8&255)+28*(255&y))<(v=77*(j>>16&255)+151*(j>>8&255)+28*(255&j))&&(b=j,y=v),y<(v=77*((j=_._getARGB(A,S))>>16&255)+151*(j>>8&255)+28*(255&j))&&(b=j,y=v),y<(S=77*(m>>16&255)+151*(m>>8&255)+28*(255&m))&&(b=m,y=S),y<(j=77*(g>>16&255)+151*(g>>8&255)+28*(255&g))&&(b=g,y=j),T[L++]=b;_._setPixels(A,T)},erode:function(w){for(var f,p,b,y,m,g,v,S,j,A=_._toPixels(w),L=0,C=A.length?A.length/4:0,T=new Int32Array(C);L<C;)for(p=(f=L)+w.width;L<p;)y=b=_._getARGB(A,L),(j=L-1)<f&&(j=L),p<=(S=L+1)&&(S=L),(m=L-w.width)<0&&(m=0),C<=(g=L+w.width)&&(g=L),m=_._getARGB(A,m),j=_._getARGB(A,j),g=_._getARGB(A,g),(v=77*(j>>16&255)+151*(j>>8&255)+28*(255&j))<(y=77*(y>>16&255)+151*(y>>8&255)+28*(255&y))&&(b=j,y=v),(v=77*((j=_._getARGB(A,S))>>16&255)+151*(j>>8&255)+28*(255&j))<y&&(b=j,y=v),(S=77*(m>>16&255)+151*(m>>8&255)+28*(255&m))<y&&(b=m,y=S),(j=77*(g>>16&255)+151*(g>>8&255)+28*(255&g))<y&&(b=g,y=j),T[L++]=b;_._setPixels(A,T)},blur:function(w,f){for(var p,b,y,m,g,v,S,j,A,L,C=_._toPixels(w),T=w.width,R=w.height,D=T*R,k=new Int32Array(D),F=0;F<D;F++)k[F]=_._getARGB(C,F);var P,q,z,H,Q,J,Z,K,se=new Int32Array(D),le=new Int32Array(D),M=new Int32Array(D),G=new Int32Array(D),X=0,ee=3.5*f|0;if(l!==(ee=ee<1?1:ee<248?ee:248)){h=1+(l=ee)<<1,a=new Int32Array(h),d=new Array(h);for(var ae=0;ae<h;ae++)d[ae]=new Int32Array(256);for(var ce=1,pe=ee-1;ce<ee;ce++){a[ee+ce]=a[pe]=J=pe*pe,Z=d[ee+ce],K=d[pe--];for(var ve=0;ve<256;ve++)Z[ve]=K[ve]=J*ve}Q=a[ee]=ee*ee,Z=d[ee];for(var ge=0;ge<256;ge++)Z[ge]=Q*ge}for(q=0;q<R;q++){for(P=0;P<T;P++){if(m=y=b=g=p=0,(v=P-l)<0)L=-v,v=0;else{if(T<=v)break;L=0}for(z=L;z<h&&!(T<=v);z++){var Se=k[v+X];H=d[z],g+=H[(-16777216&Se)>>>24],b+=H[(16711680&Se)>>16],y+=H[(65280&Se)>>8],m+=H[255&Se],p+=a[z],v++}se[S=X+P]=g/p,le[S]=b/p,M[S]=y/p,G[S]=m/p}X+=T}for(A=(j=-l)*T,q=X=0;q<R;q++){for(P=0;P<T;P++){if(m=y=b=g=p=0,j<0)L=S=-j,v=P;else{if(R<=j)break;L=0,S=j,v=P+A}for(z=L;z<h&&!(R<=S);z++)H=d[z],g+=H[se[v]],b+=H[le[v]],y+=H[M[v]],m+=H[G[v]],p+=a[z],S++,v+=T;k[P+X]=g/p<<24|b/p<<16|y/p<<8|m/p}X+=T,A+=T,j++}_._setPixels(C,k)}};c.default=_},{"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.int32-array":225,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242}],305:[function(t,o,c){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var l=a(t("../core/main")),h=a(t("omggif"));function a(_){return _&&_.__esModule?_:{default:_}}function d(_){return function(w){if(Array.isArray(w)){for(var f=0,p=new Array(w.length);f<w.length;f++)p[f]=w[f];return p}}(_)||function(w){if(Symbol.iterator in Object(w)||Object.prototype.toString.call(w)==="[object Arguments]")return Array.from(w)}(_)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}l.default.prototype.createImage=function(_,w){return l.default._validateParameters("createImage",arguments),new l.default.Image(_,w)},l.default.prototype.saveCanvas=function(){for(var _,w,f,p,b,y,m=arguments.length,g=new Array(m),v=0;v<m;v++)g[v]=arguments[v];switch(l.default._validateParameters("saveCanvas",g),g[0]instanceof HTMLCanvasElement?(_=g[0],g.shift()):g[0]instanceof l.default.Element?(_=g[0].elt,g.shift()):g[0]instanceof l.default.Framebuffer?(p=g[0],(b=this.createGraphics(p.width,p.height)).pixelDensity(pixelDensity()),p.loadPixels(),b.loadPixels(),b.pixels.set(p.pixels),b.updatePixels(),_=b.elt,g.shift()):_=this._curElement&&this._curElement.elt,1<=g.length&&(w=g[0]),f=(f=2<=g.length?g[1]:f)||l.default.prototype._checkFileExtension(w,f)[1]||"png"){default:y="image/png";break;case"webp":y="image/webp";break;case"jpeg":case"jpg":y="image/jpeg"}_.toBlob(function(S){l.default.prototype.downloadFile(S,w,f),b&&b.remove()},y)},l.default.prototype.encodeAndDownloadGif=function(_,w){for(var f=_.gifProperties,p=f.loopLimit,b=(p===1?p=null:p===null&&(p=0),new Uint8Array(_.width*_.height*f.numFrames)),y=[],m={},g=0;g<f.numFrames;g++){for(var v=new Set,S=f.frames[g].image.data,j=S.length,A=new Uint32Array(_.width*_.height),L=0,C=0;L<j;L+=4,C++){var T=S[L+0]<<16|S[L+1]<<8|S[L+2]<<0;v.add(T),A[C]=T}var R=d(v).sort().toString();m[R]===void 0?m[R]={freq:1,frames:[g]}:(m[R].freq+=1,m[R].frames.push(g)),y.push(A)}for(var F=[],D=Object.keys(m).sort(function(M,G){return m[G].freq-m[M].freq}),k=D[0].split(",").map(function(M){return parseInt(M)}),F=F.concat(m[k].frames),P=new Set(k),q=1;q<D.length;q++){var z=D[q].split(",").map(function(M){return parseInt(M)}).filter(function(M){return!P.has(M)});if(k.length+z.length<=256){for(var H=0;H<z.length;H++)k.push(z[H]),P.add(z[H]);F=F.concat(m[D[q]].frames)}}F=new Set(F);for(var Q={},J=0;J<k.length;J++)Q[k[J]]||(Q[k[J]]=J);for(var Z=1;Z<k.length;)Z<<=1;k.length=Z;for(var p={loop:p,palette:new Uint32Array(k)},K=new h.default.GifWriter(b,_.width,_.height,p),se={},le=0;le<f.numFrames;le++)(function(G){var X=!F.has(G),ee=X?[]:k,ae=new Uint8Array(_.width*_.height),ce={},pe=new Set,ve=(y[G].forEach(function(je,Ce){X?(ce[je]===void 0&&(ce[je]=ee.length,ee.push(je)),ae[Ce]=ce[je]):ae[Ce]=Q[je],0<G&&y[G-1][Ce]!==je&&pe.add(je)}),{}),ge=ee.filter(function(je){return!pe.has(je)});if(0<ge.length){var ge=ge[0],Se=(X?ce:Q)[ge];if(0<G){for(var xe=0;xe<y[G].length;xe++)y[G-1][xe]===y[G][xe]&&(ae[xe]=Se);ve.transparent=Se,se.frameOpts.disposal=1}}if(ve.delay=f.frames[G].delay/10,X){for(var he=1;he<ee.length;)he<<=1;ee.length=he,ve.palette=new Uint32Array(ee)}0<G&&K.addFrame(0,0,_.width,_.height,se.pixelPaletteIndex,se.frameOpts),se={pixelPaletteIndex:ae,frameOpts:ve}})(le);se.frameOpts.disposal=1,K.addFrame(0,0,_.width,_.height,se.pixelPaletteIndex,se.frameOpts),p=new Blob([b.slice(0,K.end())],{type:"image/gif"}),l.default.prototype.downloadFile(p,w,"gif")},l.default.prototype.saveFrames=function(_,w,f,y,b){l.default._validateParameters("saveFrames",arguments),f=l.default.prototype.constrain(f=f||3,0,15),f*=1e3;var y=l.default.prototype.constrain(y||15,0,22),m=0,g=l.default.prototype._makeFrame,v=this._curElement.elt,S=[],j=setInterval(function(){S.push(g(_+m,w,v)),m++},1e3/y);setTimeout(function(){if(clearInterval(j),b)b(S);else for(var A=0,L=S;A<L.length;A++){var C=L[A];l.default.prototype.downloadFile(C.imageData,C.filename,C.ext)}S=[]},.01+f)},l.default.prototype._makeFrame=function(_,w,b){var p,b=this?this._curElement.elt:b;if(w)switch(w.toLowerCase()){case"png":p="image/png";break;case"jpeg":case"jpg":p="image/jpeg";break;default:p="image/png"}else w="png",p="image/png";var b=(b=b.toDataURL(p)).replace(p,"image/octet-stream"),y={};return y.imageData=b,y.filename=_,y.ext=w,y},t=l.default,c.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint32-array":241,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246,omggif:256}],306:[function(t,o,c){function l(v){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S})(v)}function h(v){return(h=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(S){return l(S)}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":l(S)})(v)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.copy-within"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint8-clamped-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.copy-within"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint8-clamped-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0,t("regenerator-runtime/runtime");var a=b(t("../core/main")),d=b(t("../core/helpers")),_=function(v){if(v&&v.__esModule)return v;if(v===null||h(v)!=="object"&&typeof v!="function")return{default:v};var S=p();if(S&&S.has(v))return S.get(v);var j,A={},L=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(j in v){var C;Object.prototype.hasOwnProperty.call(v,j)&&((C=L?Object.getOwnPropertyDescriptor(v,j):null)&&(C.get||C.set)?Object.defineProperty(A,j,C):A[j]=v[j])}return A.default=v,S&&S.set(v,A),A}(t("../core/constants")),w=b(t("omggif")),f=t("gifenc");function p(){var v;return typeof WeakMap!="function"?null:(v=new WeakMap,p=function(){return v},v)}function b(v){return v&&v.__esModule?v:{default:v}}function y(v,S,j,A,L,C,T){try{var R=v[C](T),D=R.value}catch(k){return void j(k)}R.done?S(D):Promise.resolve(D).then(A,L)}function m(v,S,j,A,L,C,T,R,D,k,F){var P,q,z,H,Q,J,Z,K,se;return v===_.COVER&&(P=S,z=j,Z=C,K=T,J=R,se=D,q=k,H=F,Q=Math.max(Z/q,K/H),Z/=Q,K/=Q,Q=J,J=se,P===_.CENTER?Q+=(q-Z)/2:P===_.RIGHT&&(Q+=q-Z),z===_.CENTER?J+=(H-K)/2:z===_.BOTTOM&&(J+=H-K),R=(se={x:Q,y:J,w:Z,h:K}).x,D=se.y,k=se.w,F=se.h),v===_.CONTAIN&&(P=S,q=j,z=A,H=L,Q=C,J=T,Z=k,K=F,se=Math.max(Z/Q,K/J),Z/=se,K/=se,se=z,z=H,P===_.CENTER?se+=(Q-Z)/2:P===_.RIGHT&&(se+=Q-Z),q===_.CENTER?z+=(J-K)/2:q===_.BOTTOM&&(z+=J-K),A=(v={x:se,y:z,w:Z,h:K}).x,L=v.y,C=v.w,T=v.h),{sx:R,sy:D,sw:k,sh:F,dx:A,dy:L,dw:C,dh:T}}function g(v,S){return 0<v&&v<S?v:S}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),a.default.prototype.loadImage=function(v,S,j){a.default._validateParameters("loadImage",arguments);var A=new a.default.Image(1,1,this),L=this,C=new Request(v,{method:"GET",mode:"cors"});return fetch(v,C).then(function(T){var R,D=T.headers.get("content-type");D===null&&console.warn("The image you loaded does not have a Content-Type header. If you are using the online editor consider reuploading the asset."),D&&D.includes("image/gif")?T.arrayBuffer().then(function(k){if(k){for(var k=new Uint8Array(k),F=A,P=S,q=j,z=(function(X){L._decrementPreload()}).bind(L),H=new w.default.GifReader(k),Q=(F.width=F.canvas.width=H.width,F.height=F.canvas.height=H.height,[]),J=H.numFrames(),Z=new Uint8ClampedArray(F.width*F.height*4),K=0;K<J;K++){var se=H.frameInfo(K),le=F.drawingContext.getImageData(0,0,F.width,F.height),M=(Z=le.data.slice(),function(X,ee){try{ee.decodeAndBlitFrameRGBA(X,Z)}catch(ae){a.default._friendlyFileLoadError(8,F.src),typeof q=="function"?q(ae):console.error(ae)}}(K,H),new ImageData(Z,F.width,F.height)),M=(F.drawingContext.putImageData(M,0,0),se.delay);M===0&&(M=10),Q.push({image:F.drawingContext.getImageData(0,0,F.width,F.height),delay:10*M}),se.disposal===2?F.drawingContext.clearRect(se.x,se.y,se.width,se.height):se.disposal===3&&F.drawingContext.putImageData(le,0,0,se.x,se.y,se.width,se.height)}(k=H.loopCount())===null?k=1:k===0&&(k=null),F.drawingContext.putImageData(Q[0].image,0,0),1<Q.length&&(F.gifProperties={displayIndex:0,loopLimit:k,loopCount:0,frames:Q,numFrames:J,playing:!0,timeDisplayed:0,lastChangeTime:0}),typeof P=="function"&&P(F),z()}},function(k){typeof j=="function"?(j(k),L._decrementPreload()):console.error(k)}):((R=new Image).onload=function(){A.width=A.canvas.width=R.width,A.height=A.canvas.height=R.height,A.drawingContext.drawImage(R,0,0),A.modified=!0,typeof S=="function"&&S(A),L._decrementPreload()},R.onerror=function(k){a.default._friendlyFileLoadError(0,R.src),typeof j=="function"?(j(k),L._decrementPreload()):console.error(k)},v.indexOf("data:image/")!==0&&(R.crossOrigin="Anonymous"),R.src=v),A.modified=!0}).catch(function(T){a.default._friendlyFileLoadError(0,v),typeof j=="function"?(j(T),L._decrementPreload()):console.error(T)}),A},a.default.prototype.saveGif=function(){v=regeneratorRuntime.mark(function j(A,L){var C,T,R,D,k,F,P,q,z,H,Q,J,Z,K,se,le,M,G,X,ee,ae,ce,pe,ve,ge,Se,xe=arguments;return regeneratorRuntime.wrap(function(he){for(;;)switch(he.prev=he.next){case 0:if(C=2<xe.length&&xe[2]!==void 0?xe[2]:{delay:0,units:"seconds",silent:!1,notificationDuration:0,notificationID:"progressBar"},typeof A!="string")throw TypeError("fileName parameter must be a string");he.next=3;break;case 3:if(typeof L!="number")throw TypeError("Duration parameter must be a number");he.next=5;break;case 5:if(T=C&&C.delay||0,R=C&&C.units||"seconds",D=C&&C.silent||!1,k=C&&C.notificationDuration||0,F=C&&C.notificationID||"progressBar",typeof T!="number")throw TypeError("Delay parameter must be a number");he.next=12;break;case 12:if(R!=="seconds"&&R!=="frames")throw TypeError('Units parameter must be either "frames" or "seconds"');he.next=14;break;case 14:if(typeof D!="boolean")throw TypeError("Silent parameter must be a boolean");he.next=16;break;case 16:if(typeof k!="number")throw TypeError("Notification duration parameter must be a number");he.next=18;break;case 18:if(typeof F!="string")throw TypeError("Notification ID parameter must be a string");he.next=20;break;case 20:return this._recording=!0,H=this._targetFrameRate,P=(P=1/(H=H!==1/0&&H!==void 0&&H!==0?H:60)*1e3)<20?20:P,z=(q=R==="seconds"?L*H:L)+(H=R==="seconds"?T*H:T),H=H,this.frameCount=H,Q=this._pixelDensity,this.pixelDensity(1),J=[],document.getElementById(F)!==null&&document.getElementById(F).remove(),D||((Z=this.createP("")).id(F),Z.style("font-size","16px"),Z.style("font-family","Montserrat"),Z.style("background-color","#ffffffa0"),Z.style("padding","8px"),Z.style("border-radius","10px"),Z.position(0,0)),this._renderer instanceof a.default.RendererGL&&(se=this.drawingContext,K=new Uint8Array(se.drawingBufferWidth*se.drawingBufferHeight*4)),this.noLoop(),he.next=39,Promise.resolve();case 39:if(H<z)return this.redraw(),ve=void 0,ve=this._renderer instanceof a.default.RendererGL?(K=new Uint8Array(se.drawingBufferWidth*se.drawingBufferHeight*4),se.readPixels(0,0,se.drawingBufferWidth,se.drawingBufferHeight,se.RGBA,se.UNSIGNED_BYTE,K),function(je,Ce,De){for(var Oe=parseInt(De/2),ke=4*Ce,Fe=new Uint8Array(4*Ce),Je=0;Je<Oe;++Je){var Ue=Je*ke,mt=(De-Je-1)*ke;Fe.set(je.subarray(Ue,Ue+ke)),je.copyWithin(Ue,mt,mt+ke),je.set(Fe,mt)}return je}(K,this.width,this.height)):this.drawingContext.getImageData(0,0,this.width,this.height).data,J.push(ve),H++,D||Z.html("Saved frame <b>"+J.length.toString()+"</b> out of "+q.toString()),he.next=48,new Promise(function(je){return setTimeout(je,0)});he.next=50;break;case 48:he.next=39;break;case 50:D||Z.html("Frames processed, generating color palette..."),this.loop(),this.pixelDensity(Q),le=(0,f.GIFEncoder)(),M=function(je){for(var Ce=new Uint8Array(je.length*je[0].length),De=0;De<je.length;De++)Ce.set(je[De],De*je[0].length);var Oe=(0,f.quantize)(Ce,256,{format:"rgba4444",oneBitAlpha:!0});return Oe.length===256?Oe[Oe.length-1]=[255*Math.random(),255*Math.random(),255*Math.random(),0]:Oe.push([255*Math.random(),255*Math.random(),255*Math.random(),0]),Oe}(J),G={},X=function(je){for(var Ce=je.length/4,De=new Uint8Array(Ce),Oe=0;Oe<Ce;Oe++){var ke=je[4*Oe]<<24|je[4*Oe+1]<<16|je[4*Oe+2]<<8|je[4*Oe+3];G[ke]===void 0&&(G[ke]=(0,f.nearestColorIndex)(M,je.slice(4*Oe,4*(Oe+1)))),De[Oe]=G[ke]}return De},ee=M.length-1,ae=[],ce=0;case 60:if(!(ce<J.length)){he.next=71;break}if(pe=X(J[ce]),ve=pe.slice(),ce===0)le.writeFrame(pe,this.width,this.height,{palette:M,delay:P,dispose:1});else{for(ge=0;ge<pe.length;ge++)pe[ge]===ae[ge]&&(pe[ge]=ee);le.writeFrame(pe,this.width,this.height,{delay:P,transparent:!0,transparentIndex:ee,dispose:1})}return ae=ve,D||Z.html("Rendered frame <b>"+ce.toString()+"</b> out of "+q.toString()),he.next=68,new Promise(function(je){return setTimeout(je,0)});case 68:ce++,he.next=60;break;case 71:le.finish(),Se=le.bytesView(),Se=new Blob([Se],{type:"image/gif"}),J=[],this._recording=!1,this.loop(),D||(Z.html("Done. Downloading your gif!🌸"),0<k&&setTimeout(function(){return Z.remove()},1e3*k)),a.default.prototype.downloadFile(Se,A,"gif");case 80:case"end":return he.stop()}},j,this)});var v,S=function(){var j=this,A=arguments;return new Promise(function(L,C){var T=v.apply(j,A);function R(k){y(T,L,C,R,D,"next",k)}function D(k){y(T,L,C,R,D,"throw",k)}R(void 0)})};return function(j,A){return S.apply(this,arguments)}}(),a.default.prototype.image=function(v,S,j,A,H,Q,J,Z,se,k,F,P){a.default._validateParameters("image",arguments);var K=v.width,q=v.height,z=(P=P||_.CENTER,F=F||_.CENTER,v.elt&&(K=K!==void 0?K:v.elt.width,q=q!==void 0?q:v.elt.height),v.elt&&v.elt.videoWidth&&!v.canvas&&(K=K!==void 0?K:v.elt.videoWidth,q=q!==void 0?q:v.elt.videoHeight),A||K),H=H||q,Q=Q||0,J=J||0,Z=g(Z!==void 0?Z:K,K),K=g(se!==void 0?se:q,q),se=1;v.elt&&!v.canvas&&v.elt.style.width&&(se=v.elt.videoWidth&&!A?v.elt.videoWidth:v.elt.width,se/=parseInt(v.elt.style.width,10)),Q*=se,J*=se,K*=se,Z*=se,q=m(k,F,P,(q=d.default.modeAdjust(S,j,z,H,this._renderer._imageMode)).x,q.y,q.w,q.h,Q,J,Z,K),this._renderer.image(v,q.sx,q.sy,q.sw,q.sh,q.dx,q.dy,q.dw,q.dh)},a.default.prototype.tint=function(){for(var v=arguments.length,S=new Array(v),j=0;j<v;j++)S[j]=arguments[j];a.default._validateParameters("tint",S);var A=this.color.apply(this,S);this._renderer._tint=A.levels},a.default.prototype.noTint=function(){this._renderer._tint=null},a.default.prototype._getTintedImageCanvas=a.default.Renderer2D.prototype._getTintedImageCanvas,a.default.prototype.imageMode=function(v){a.default._validateParameters("imageMode",arguments),v!==_.CORNER&&v!==_.CORNERS&&v!==_.CENTER||(this._renderer._imageMode=v)},t=a.default,c.default=t},{"../core/constants":272,"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/helpers":279,"../core/main":283,"core-js/modules/es.array.copy-within":154,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.typed-array.uint8-clamped-array":243,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246,gifenc:253,omggif:256,"regenerator-runtime/runtime":260}],307:[function(t,o,c){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var l=a(t("../core/main")),h=a(t("./filters"));function a(_){return _&&_.__esModule?_:{default:_}}function d(_,w){for(var f=0;f<w.length;f++){var p=w[f];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(_,p.key,p)}}l.default.Image=function(){function _(p,b){if(!(this instanceof _))throw new TypeError("Cannot call a class as a function");this.width=p,this.height=b,this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.drawingContext=this.canvas.getContext("2d"),(this._pixelsState=this)._pixelDensity=1,this.gifProperties=null,this._modified=!1,this.pixels=[]}var w,f;return w=_,(f=[{key:"pixelDensity",value:function(p){return p!==void 0?(p<=0&&(l.default._friendlyParamError({type:"INVALID_VALUE",format:{types:["Number"]},position:1},"pixelDensity"),p=1),this._pixelDensity=p,this.width/=p,this.height/=p,this):this._pixelDensity}},{key:"_animateGif",value:function(m){var b,y=this.gifProperties,m=m._lastRealFrameTime||window.performance.now();y.lastChangeTime===0&&(y.lastChangeTime=m),y.playing&&(y.timeDisplayed=m-y.lastChangeTime,b=y.frames[y.displayIndex].delay,y.timeDisplayed>=b&&(b=Math.floor(y.timeDisplayed/b),y.timeDisplayed=0,y.lastChangeTime=m,y.displayIndex+=b,y.loopCount=Math.floor(y.displayIndex/y.numFrames),y.loopLimit!==null&&y.loopCount>=y.loopLimit?y.playing=!1:(m=y.displayIndex%y.numFrames,this.drawingContext.putImageData(y.frames[m].image,0,0),y.displayIndex=m,this.setModified(!0))))}},{key:"_setProperty",value:function(p,b){this[p]=b,this.setModified(!0)}},{key:"loadPixels",value:function(){l.default.Renderer2D.prototype.loadPixels.call(this),this.setModified(!0)}},{key:"updatePixels",value:function(p,b,y,m){l.default.Renderer2D.prototype.updatePixels.call(this,p,b,y,m),this.setModified(!0)}},{key:"get",value:function(p,b,y,m){return l.default._validateParameters("p5.Image.get",arguments),l.default.Renderer2D.prototype.get.apply(this,arguments)}},{key:"_getPixel",value:function(){for(var p=arguments.length,b=new Array(p),y=0;y<p;y++)b[y]=arguments[y];return l.default.Renderer2D.prototype._getPixel.apply(this,b)}},{key:"set",value:function(p,b,y){l.default.Renderer2D.prototype.set.call(this,p,b,y),this.setModified(!0)}},{key:"resize",value:function(p,b){p===0&&b===0?(p=this.canvas.width,b=this.canvas.height):p===0?p=this.canvas.width*b/this.canvas.height:b===0&&(b=this.canvas.height*p/this.canvas.width),p=Math.floor(p),b=Math.floor(b);var y=document.createElement("canvas");if(y.width=p,y.height=b,this.gifProperties)for(var m=this.gifProperties,g=0;g<m.numFrames;g++){for(var v=this.drawingContext.createImageData(p,b),S=(T=T=C=L=A=void 0,m.frames[g].image),j=v,A=0,L=0;L<j.height;L++)for(var C=0;C<j.width;C++){var T=Math.floor(C*S.width/j.width),T=4*(Math.floor(L*S.height/j.height)*S.width+T);j.data[A++]=S.data[T++],j.data[A++]=S.data[T++],j.data[A++]=S.data[T++],j.data[A++]=S.data[+T]}m.frames[g].image=v}y.getContext("2d").drawImage(this.canvas,0,0,this.canvas.width,this.canvas.height,0,0,y.width,y.height),this.canvas.width=this.width=p,this.canvas.height=this.height=b,this.drawingContext.drawImage(y,0,0,p,b,0,0,p,b),0<this.pixels.length&&this.loadPixels(),this.setModified(!0)}},{key:"copy",value:function(){for(var p=arguments.length,b=new Array(p),y=0;y<p;y++)b[y]=arguments[y];l.default.prototype.copy.apply(this,b)}},{key:"mask",value:function(p){var b=this.drawingContext.globalCompositeOperation,y=this._pixelDensity,m=1,g=[p=p===void 0?this:p,0,0,(m=p instanceof l.default.Renderer?p._pInst._pixelDensity:m)*p.width,m*p.height,0,0,y*this.width,y*this.height];if(this.drawingContext.globalCompositeOperation="destination-in",this.gifProperties){for(var v=0;v<this.gifProperties.frames.length;v++)this.drawingContext.putImageData(this.gifProperties.frames[v].image,0,0),this.copy.apply(this,g),this.gifProperties.frames[v].image=this.drawingContext.getImageData(0,0,y*this.width,y*this.height);this.drawingContext.putImageData(this.gifProperties.frames[this.gifProperties.displayIndex].image,0,0)}else this.copy.apply(this,g);this.drawingContext.globalCompositeOperation=b,this.setModified(!0)}},{key:"filter",value:function(p,b){h.default.apply(this.canvas,h.default[p],b),this.setModified(!0)}},{key:"blend",value:function(){for(var p=arguments.length,b=new Array(p),y=0;y<p;y++)b[y]=arguments[y];l.default._validateParameters("p5.Image.blend",arguments),l.default.prototype.blend.apply(this,b),this.setModified(!0)}},{key:"setModified",value:function(p){this._modified=p}},{key:"isModified",value:function(){return this._modified}},{key:"save",value:function(p,b){this.gifProperties?l.default.prototype.encodeAndDownloadGif(this,p):l.default.prototype.saveCanvas(this.canvas,p,b)}},{key:"reset",value:function(){var p;this.gifProperties&&((p=this.gifProperties).playing=!0,p.timeSinceStart=0,p.timeDisplayed=0,p.lastChangeTime=0,p.loopCount=0,p.displayIndex=0,this.drawingContext.putImageData(p.frames[0].image,0,0))}},{key:"getCurrentFrame",value:function(){var p;if(this.gifProperties)return(p=this.gifProperties).displayIndex%p.numFrames}},{key:"setFrame",value:function(p){var b;this.gifProperties&&(p<(b=this.gifProperties).numFrames&&0<=p?(b.timeDisplayed=0,b.lastChangeTime=0,b.displayIndex=p,this.drawingContext.putImageData(b.frames[p].image,0,0)):console.log("Cannot set GIF to a frame number that is higher than total number of frames or below zero."))}},{key:"numFrames",value:function(){if(this.gifProperties)return this.gifProperties.numFrames}},{key:"play",value:function(){this.gifProperties&&(this.gifProperties.playing=!0)}},{key:"pause",value:function(){this.gifProperties&&(this.gifProperties.playing=!1)}},{key:"delay",value:function(p,b){if(this.gifProperties){var y=this.gifProperties;if(b<y.numFrames&&0<=b)y.frames[b].delay=p;else{var m=!0,b=!1,g=void 0;try{for(var v,S=y.frames[Symbol.iterator]();!(m=(v=S.next()).done);m=!0)v.value.delay=p}catch(A){b=!0,g=A}finally{try{m||S.return==null||S.return()}finally{if(b)throw g}}}}}}])&&d(w.prototype,f),_}(),t=l.default.Image,c.default=t},{"../core/main":283,"./filters":304,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],308:[function(t,o,c){t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.filter"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var l=a(t("../core/main")),h=a(t("./filters"));function a(d){return d&&d.__esModule?d:{default:d}}t("../color/p5.Color"),l.default.prototype.pixels=[],l.default.prototype.blend=function(){for(var d,_=arguments.length,w=new Array(_),f=0;f<_;f++)w[f]=arguments[f];l.default._validateParameters("blend",w),this._renderer?(d=this._renderer).blend.apply(d,w):l.default.Renderer2D.prototype.blend.apply(this,w)},l.default.prototype.copy=function(){for(var d,_,w,f,p,b,y,m,g,v=arguments.length,S=new Array(v),j=0;j<v;j++)S[j]=arguments[j];if(l.default._validateParameters("copy",S),S.length===9)d=S[0],_=S[1],w=S[2],f=S[3],p=S[4],b=S[5],y=S[6],m=S[7],g=S[8];else{if(S.length!==8)throw new Error("Signature not supported");d=this,_=S[0],w=S[1],f=S[2],p=S[3],b=S[4],y=S[5],m=S[6],g=S[7]}l.default.prototype._copyHelper(this,d,_,w,f,p,b,y,m,g)},l.default.prototype._copyHelper=function(d,_,w,f,p,b,y,m,g,v){var S=_.canvas.width/_.width,j=0,A=0;_._renderer&&_._renderer.isP3D&&(j=_.width/2,A=_.height/2),d._renderer&&d._renderer.isP3D?(d.push(),d.resetMatrix(),d.noLights(),d.blendMode(d.BLEND),d.imageMode(d.CORNER),l.default.RendererGL.prototype.image.call(d._renderer,_,w+j,f+A,p,b,y,m,g,v),d.pop()):d.drawingContext.drawImage(_.canvas,S*(w+j),S*(f+A),S*p,S*b,y,m,g,v)},l.default.prototype.getFilterGraphicsLayer=function(){return this._renderer.getFilterGraphicsLayer()},l.default.prototype.filter=function(){for(var d=arguments.length,_=new Array(d),w=0;w<d;w++)_[w]=arguments[w];l.default._validateParameters("filter",_);var y=(function(){var m,g={shader:void 0,operation:void 0,value:void 0,useWebGL:!0};return(arguments.length<=0?void 0:arguments[0])instanceof l.default.Shader?g.shader=arguments.length<=0?void 0:arguments[0]:(g.operation=arguments.length<=0?void 0:arguments[0],1<arguments.length&&typeof(arguments.length<=1?void 0:arguments[1])=="number"&&(g.value=arguments.length<=1?void 0:arguments[1]),((m=arguments.length-1)<0||arguments.length<=m?void 0:arguments[m])===!1&&(g.useWebGL=!1)),g}).apply(void 0,_),f=y.shader,p=y.operation,b=y.value,y=y.useWebGL;this._renderer.isP3D&&f?l.default.RendererGL.prototype.filter.call(this._renderer,f):y||this._renderer.isP3D?(!y&&this._renderer.isP3D&&console.warn("filter() with useWebGL=false is not supported in WEBGL"),this._renderer.isP3D?l.default.RendererGL.prototype.filter.call(this._renderer,p,b):((f=this.getFilterGraphicsLayer()).copy(this._renderer,0,0,this.width,this.height,-this.width/2,-this.height/2,this.width,this.height),this._renderer.clear(),this._renderer.resetMatrix(),f.filter.apply(f,_),this.copy(f._renderer,0,0,this.width,this.height,0,0,this.width,this.height),f.clear())):this.canvas!==void 0?h.default.apply(this.canvas,h.default[p],b):h.default.apply(this.elt,h.default[p],b)},l.default.prototype.get=function(d,_,w,f){var p;return l.default._validateParameters("get",arguments),(p=this._renderer).get.apply(p,arguments)},l.default.prototype.loadPixels=function(){for(var d=arguments.length,_=new Array(d),w=0;w<d;w++)_[w]=arguments[w];l.default._validateParameters("loadPixels",_),this._renderer.loadPixels()},l.default.prototype.set=function(d,_,w){this._renderer.set(d,_,w)},l.default.prototype.updatePixels=function(d,_,w,f){l.default._validateParameters("updatePixels",arguments),this.pixels.length!==0&&this._renderer.updatePixels(d,_,w,f)},t=l.default,c.default=t},{"../color/p5.Color":270,"../core/main":283,"./filters":304,"core-js/modules/es.array.filter":157}],309:[function(t,o,c){function l(b){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(b)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.from-entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.from-entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var h=_(t("../core/main")),a=(t("whatwg-fetch"),t("es6-promise/auto"),_(t("fetch-jsonp"))),d=_(t("file-saver"));function _(b){return b&&b.__esModule?b:{default:b}}function w(b){return(w=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(y){return l(y)}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":l(y)})(b)}function f(b){return b.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function p(b,y){y&&y!==!0&&y!=="true"||(y="");var m="";return(b=b||"untitled")&&b.includes(".")&&(m=b.split(".").pop()),y&&m!==y&&(m=y,b="".concat(b,".").concat(m)),[b,m]}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),h.default.prototype.loadJSON=function(){for(var b=arguments.length,y=new Array(b),m=0;m<b;m++)y[m]=arguments[m];h.default._validateParameters("loadJSON",y);for(var g,v,S,j=y[0],A={},L="json",C=1;C<y.length;C++){var T=y[C];typeof T=="string"?T!=="jsonp"&&T!=="json"||(L=T):typeof T=="function"?g?v=T:g=T:w(T)==="object"&&(T.hasOwnProperty("jsonpCallback")||T.hasOwnProperty("jsonpCallbackFunction"))&&(L="jsonp",S=T)}var R=this;return this.httpDo(j,"GET",S,L,function(D){for(var k in D)A[k]=D[k];g!==void 0&&g(D),R._decrementPreload()},function(D){if(h.default._friendlyFileLoadError(5,j),!v)throw D;v(D)}),A},h.default.prototype.loadStrings=function(){for(var b=arguments.length,y=new Array(b),m=0;m<b;m++)y[m]=arguments[m];h.default._validateParameters("loadStrings",y);for(var g,v,S=[],j=1;j<y.length;j++){var A=y[j];typeof A=="function"&&(g===void 0?g=A:v===void 0&&(v=A))}var L=this;return h.default.prototype.httpDo.call(this,y[0],"GET","text",function(C){for(var T=C.replace(/\r\n/g,"\r").replace(/\n/g,"\r").split(/\r/),R=0,D=T.length;R<D;R+=32768)Array.prototype.push.apply(S,T.slice(R,Math.min(R+32768,D)));g!==void 0&&g(S),L._decrementPreload()},function(C){if(h.default._friendlyFileLoadError(3,C),!v)throw C;v(C)}),S},h.default.prototype.loadTable=function(b){var y,m,g,v=!1,S=b.substring(b.lastIndexOf(".")+1,b.length);S==="csv"?g=",":S==="ssv"?g=";":S==="tsv"&&(g="	");for(var j=1;j<arguments.length;j++)typeof arguments[j]=="function"?y===void 0?y=arguments[j]:m===void 0&&(m=arguments[j]):typeof arguments[j]=="string"&&(arguments[j]==="header"&&(v=!0),arguments[j]==="csv"?g=",":arguments[j]==="ssv"?g=";":arguments[j]==="tsv"&&(g="	"));var A=new h.default.Table,L=this;return this.httpDo(b,"GET","table",function(C){for(var T,R,D={},k=0,F=[],P=0,q=null,z=function(){D.currentState=k,D.token=""},H=function(){q.push(D.token),z()},Q=function(){D.currentState=4,F.push(q),q=null};;){if((T=C[P++])==null){if(D.escaped)throw new Error("Unclosed quote in file.");if(q){H(),Q();break}}if(q===null&&(D.escaped=!1,q=[],z()),D.currentState===k){if(T==='"'){D.escaped=!0,D.currentState=1;continue}D.currentState=1}if(D.currentState===1&&D.escaped)if(T==='"')C[P]==='"'?(D.token+='"',P++):(D.escaped=!1,D.currentState=2);else{if(T==="\r")continue;D.token+=T}else T==="\r"?(C[P]===`
`&&P++,H(),Q()):T===`
`?(H(),Q()):T===g?H():D.currentState===1&&(D.token+=T)}if(v)A.columns=F.shift();else for(var J=0;J<F[0].length;J++)A.columns[J]="null";for(var Z=0;Z<F.length;Z++)(F[Z].length!==1||F[Z][0]!=="undefined"&&F[Z][0]!=="")&&((R=new h.default.TableRow).arr=F[Z],R.obj=function(K,se){if((se=se||[])===void 0)for(var le=0;le<K.length;le++)se[le.toString()]=le;return Object.fromEntries(se.map(function(M,G){return[M,K[G]]}))}(F[Z],A.columns),A.addRow(R));typeof y=="function"&&y(A),L._decrementPreload()},function(C){h.default._friendlyFileLoadError(2,b),m?m(C):console.error(C)}),A},h.default.prototype.loadXML=function(){for(var b=arguments.length,y=new Array(b),m=0;m<b;m++)y[m]=arguments[m];for(var g,v,S=new h.default.XML,j=1;j<y.length;j++){var A=y[j];typeof A=="function"&&(g===void 0?g=A:v===void 0&&(v=A))}var L=this;return this.httpDo(y[0],"GET","xml",function(C){for(var T in C)S[T]=C[T];g!==void 0&&g(S),L._decrementPreload()},function(C){if(h.default._friendlyFileLoadError(1,C),!v)throw C;v(C)}),S},h.default.prototype.loadBytes=function(b,y,m){var g={},v=this;return this.httpDo(b,"GET","arrayBuffer",function(S){g.bytes=new Uint8Array(S),typeof y=="function"&&y(g),v._decrementPreload()},function(S){if(h.default._friendlyFileLoadError(6,b),!m)throw S;m(S)}),g},h.default.prototype.httpGet=function(){for(var b=arguments.length,y=new Array(b),m=0;m<b;m++)y[m]=arguments[m];return h.default._validateParameters("httpGet",y),y.splice(1,0,"GET"),h.default.prototype.httpDo.apply(this,y)},h.default.prototype.httpPost=function(){for(var b=arguments.length,y=new Array(b),m=0;m<b;m++)y[m]=arguments[m];return h.default._validateParameters("httpPost",y),y.splice(1,0,"POST"),h.default.prototype.httpDo.apply(this,y)},h.default.prototype.httpDo=function(){for(var b,y,m,g={},v=0,S="text/plain",j=arguments.length-1;0<j&&typeof(j<0||arguments.length<=j?void 0:arguments[j])=="function";j--)v++;var A=arguments.length-v,L=arguments.length<=0?void 0:arguments[0];if(A==2&&typeof L=="string"&&w(arguments.length<=1?void 0:arguments[1])==="object")F=new Request(L,arguments.length<=1?void 0:arguments[1]),y=arguments.length<=2?void 0:arguments[2],m=arguments.length<=3?void 0:arguments[3];else{for(var C,T="GET",R=1;R<arguments.length;R++){var D=R<0||arguments.length<=R?void 0:arguments[R];if(typeof D=="string")D==="GET"||D==="POST"||D==="PUT"||D==="DELETE"?T=D:D==="json"||D==="jsonp"||D==="binary"||D==="arrayBuffer"||D==="xml"||D==="text"||D==="table"?b=D:C=D;else if(typeof D=="number")C=D.toString();else if(w(D)==="object")if(D.hasOwnProperty("jsonpCallback")||D.hasOwnProperty("jsonpCallbackFunction"))for(var k in D)g[k]=D[k];else S=D instanceof h.default.XML?(C=D.serialize(),"application/xml"):(C=JSON.stringify(D),"application/json");else typeof D=="function"&&(y?m=D:y=D)}var A=T==="GET"?new Headers:new Headers({"Content-Type":S}),F=new Request(L,{method:T,mode:"cors",body:C,headers:A})}return(A=(A=(b=b||(L.includes("json")?"json":L.includes("xml")?"xml":"text"))==="jsonp"?(0,a.default)(L,g):fetch(F)).then(function(P){if(!P.ok)throw(q=new Error(P.body)).status=P.status,q.ok=!1,q;var q=0;switch((q=b!=="jsonp"?P.headers.get("content-length"):q)&&64e6<q&&h.default._friendlyFileLoadError(7,L),b){case"json":case"jsonp":return P.json();case"binary":return P.blob();case"arrayBuffer":return P.arrayBuffer();case"xml":return P.text().then(function(z){return z=new DOMParser().parseFromString(z,"text/xml"),new h.default.XML(z.documentElement)});default:return P.text()}})).then(y||function(){}),A.catch(m||console.error),A},window.URL=window.URL||window.webkitURL,h.default.prototype._pWriters=[],h.default.prototype.createWriter=function(b,y){var m,g;for(g in h.default.prototype._pWriters)if(h.default.prototype._pWriters[g].name===b)return m=new h.default.PrintWriter(b+this.millis(),y),h.default.prototype._pWriters.push(m),m;return m=new h.default.PrintWriter(b,y),h.default.prototype._pWriters.push(m),m},h.default.PrintWriter=function(b,y){var m=this;this.name=b,this.content="",this.write=function(g){this.content+=g},this.print=function(g){this.content+="".concat(g,`
`)},this.clear=function(){this.content=""},this.close=function(){var g,v=[];for(g in v.push(this.content),h.default.prototype.writeFile(v,b,y),h.default.prototype._pWriters)h.default.prototype._pWriters[g].name===this.name&&h.default.prototype._pWriters.splice(g,1);m.clear(),m={}}},h.default.prototype.save=function(b,y,m){var g=arguments,v=(this._curElement||this).elt;if(g.length===0)h.default.prototype.saveCanvas(v);else if(g[0]instanceof h.default.Renderer||g[0]instanceof h.default.Graphics)h.default.prototype.saveCanvas(g[0].elt,g[1],g[2]);else if(g.length===1&&typeof g[0]=="string")h.default.prototype.saveCanvas(v,g[0]);else switch(p(g[1],g[2])[1]){case"json":return void h.default.prototype.saveJSON(g[0],g[1],g[2]);case"txt":return void h.default.prototype.saveStrings(g[0],g[1],g[2]);default:g[0]instanceof Array?h.default.prototype.saveStrings(g[0],g[1],g[2]):g[0]instanceof h.default.Table?h.default.prototype.saveTable(g[0],g[1],g[2]):g[0]instanceof h.default.Image?h.default.prototype.saveCanvas(g[0].canvas,g[1]):g[0]instanceof h.default.SoundFile&&h.default.prototype.saveSound(g[0],g[1],g[2],g[3])}},h.default.prototype.saveJSON=function(b,y,m){h.default._validateParameters("saveJSON",arguments),m=m?JSON.stringify(b):JSON.stringify(b,void 0,2),this.saveStrings(m.split(`
`),y,"json")},h.default.prototype.saveJSONObject=h.default.prototype.saveJSON,h.default.prototype.saveJSONArray=h.default.prototype.saveJSON,h.default.prototype.saveStrings=function(b,y,m,g){h.default._validateParameters("saveStrings",arguments);for(var v=this.createWriter(y,m||"txt"),S=0;S<b.length;S++)g?v.write(b[S]+`\r
`):v.write(b[S]+`
`);v.close(),v.clear()},h.default.prototype.saveTable=function(b,y,m){h.default._validateParameters("saveTable",arguments),g=m===void 0?y.substring(y.lastIndexOf(".")+1,y.length):m;var g,v=this.createWriter(y,g),S=b.columns,j=g==="tsv"?"	":",";if(g!=="html"){if(S[0]!=="0"){for(var A=0;A<S.length;A++)A<S.length-1?v.write(S[A]+j):v.write(S[A]);v.write(`
`)}for(var L=0;L<b.rows.length;L++){for(var C=void 0,C=0;C<b.rows[L].arr.length;C++)C<b.rows[L].arr.length-1?g==="csv"&&String(b.rows[L].arr[C]).includes(",")?v.write('"'+b.rows[L].arr[C]+'"'+j):v.write(b.rows[L].arr[C]+j):g==="csv"&&String(b.rows[L].arr[C]).includes(",")?v.write('"'+b.rows[L].arr[C]+'"'):v.write(b.rows[L].arr[C]);v.write(`
`)}}else{if(v.print("<html>"),v.print("<head>"),v.print('  <meta http-equiv="content-type" content="text/html;charset=utf-8" />'),v.print("</head>"),v.print("<body>"),v.print("  <table>"),S[0]!=="0"){v.print("    <tr>");for(var T=0;T<S.length;T++){var R=f(S[T]);v.print("      <td>".concat(R)),v.print("      </td>")}v.print("    </tr>")}for(var D=0;D<b.rows.length;D++){v.print("    <tr>");for(var k=0;k<b.columns.length;k++){var F=f(b.rows[D].getString(k));v.print("      <td>".concat(F)),v.print("      </td>")}v.print("    </tr>")}v.print("  </table>"),v.print("</body>"),v.print("</html>")}v.close(),v.clear()},h.default.prototype.writeFile=function(v,y,m){var g="application/octet-stream",v=(h.default.prototype._isSafari()&&(g="text/plain"),new Blob(v,{type:g}));h.default.prototype.downloadFile(v,y,m)},h.default.prototype.downloadFile=function(b,v,S){var g,v=p(v,S),S=v[0];b instanceof Blob?d.default.saveAs(b,S):((g=document.createElement("a")).href=b,g.download=S,g.onclick=function(j){document.body.removeChild(j.target),j.stopPropagation()},g.style.display="none",document.body.appendChild(g),h.default.prototype._isSafari()&&(b=(b=`Hello, Safari user! To download this file...
1. Go to File --> Save As.
2. Choose "Page Source" as the Format.
`)+'3. Name it with this extension: ."'.concat(v[1],'"'),alert(b)),g.click())},h.default.prototype._checkFileExtension=p,h.default.prototype._isSafari=function(){return window.HTMLElement.toString().includes("Constructor")},t=h.default,c.default=t},{"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.function.name":174,"core-js/modules/es.object.from-entries":185,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/web.dom-collections.iterator":246,"core-js/modules/web.url":248,"es6-promise/auto":249,"fetch-jsonp":251,"file-saver":252,"whatwg-fetch":261}],310:[function(t,o,c){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var l=(t=t("../core/main"))&&t.__esModule?t:{default:t};function h(a,d){for(var _=0;_<d.length;_++){var w=d[_];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(a,w.key,w)}}l.default.Table=function(){function a(){var w=0<arguments.length&&arguments[0]!==void 0?arguments[0]:[],f=this,p=a;if(!(f instanceof p))throw new TypeError("Cannot call a class as a function");this.columns=[],this.rows=w}var d,_;return d=a,(_=[{key:"addRow",value:function(w){if(w=w||new l.default.TableRow,w.arr===void 0||w.obj===void 0)throw new Error("invalid TableRow: ".concat(w));return(w.table=this).rows.push(w),w}},{key:"removeRow",value:function(w){this.rows[w].table=null,w=this.rows.splice(w+1,this.rows.length),this.rows.pop(),this.rows=this.rows.concat(w)}},{key:"getRow",value:function(w){return this.rows[w]}},{key:"getRows",value:function(){return this.rows}},{key:"findRow",value:function(w,f){if(typeof f=="string"){for(var p=0;p<this.rows.length;p++)if(this.rows[p].obj[f]===w)return this.rows[p]}else for(var b=0;b<this.rows.length;b++)if(this.rows[b].arr[f]===w)return this.rows[b];return null}},{key:"findRows",value:function(w,f){var p=[];if(typeof f=="string")for(var b=0;b<this.rows.length;b++)this.rows[b].obj[f]===w&&p.push(this.rows[b]);else for(var y=0;y<this.rows.length;y++)this.rows[y].arr[f]===w&&p.push(this.rows[y]);return p}},{key:"matchRow",value:function(w,f){if(typeof f=="number"){for(var p=0;p<this.rows.length;p++)if(this.rows[p].arr[f].match(w))return this.rows[p]}else for(var b=0;b<this.rows.length;b++)if(this.rows[b].obj[f].match(w))return this.rows[b];return null}},{key:"matchRows",value:function(w,f){var p=[];if(typeof f=="number")for(var b=0;b<this.rows.length;b++)this.rows[b].arr[f].match(w)&&p.push(this.rows[b]);else for(var y=0;y<this.rows.length;y++)this.rows[y].obj[f].match(w)&&p.push(this.rows[y]);return p}},{key:"getColumn",value:function(w){var f=[];if(typeof w=="string")for(var p=0;p<this.rows.length;p++)f.push(this.rows[p].obj[w]);else for(var b=0;b<this.rows.length;b++)f.push(this.rows[b].arr[w]);return f}},{key:"clearRows",value:function(){delete this.rows,this.rows=[]}},{key:"addColumn",value:function(w){this.columns.push(w||null)}},{key:"getColumnCount",value:function(){return this.columns.length}},{key:"getRowCount",value:function(){return this.rows.length}},{key:"removeTokens",value:function(w,f){for(var p=[],b=0;b<w.length;b++)p.push(w.charAt(b).replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"));var y=new RegExp(p.join("|"),"g");if(f===void 0)for(var m=0;m<this.columns.length;m++)for(var g=0;g<this.rows.length;g++){var v=(v=this.rows[g].arr[m]).replace(y,"");this.rows[g].arr[m]=v,this.rows[g].obj[this.columns[m]]=v}else if(typeof f=="string")for(var S=0;S<this.rows.length;S++){var j=(j=this.rows[S].obj[f]).replace(y,""),A=(this.rows[S].obj[f]=j,this.columns.indexOf(f));this.rows[S].arr[A]=j}else for(var L=0;L<this.rows.length;L++){var C=(C=this.rows[L].arr[f]).replace(y,"");this.rows[L].arr[f]=C,this.rows[L].obj[this.columns[f]]=C}}},{key:"trim",value:function(w){var f=new RegExp(" ","g");if(w===void 0)for(var p=0;p<this.columns.length;p++)for(var b=0;b<this.rows.length;b++){var y=(y=this.rows[b].arr[p]).replace(f,"");this.rows[b].arr[p]=y,this.rows[b].obj[this.columns[p]]=y}else if(typeof w=="string")for(var m=0;m<this.rows.length;m++){var g=(g=this.rows[m].obj[w]).replace(f,""),v=(this.rows[m].obj[w]=g,this.columns.indexOf(w));this.rows[m].arr[v]=g}else for(var S=0;S<this.rows.length;S++){var j=(j=this.rows[S].arr[w]).replace(f,"");this.rows[S].arr[w]=j,this.rows[S].obj[this.columns[w]]=j}}},{key:"removeColumn",value:function(b){typeof b=="string"?p=this.columns.indexOf(f=b):f=this.columns[p=b];var f,p,b=this.columns.splice(p+1,this.columns.length);this.columns.pop(),this.columns=this.columns.concat(b);for(var y=0;y<this.rows.length;y++){var m=this.rows[y].arr,g=m.splice(p+1,m.length);m.pop(),this.rows[y].arr=m.concat(g),delete this.rows[y].obj[f]}}},{key:"set",value:function(w,f,p){this.rows[w].set(f,p)}},{key:"setNum",value:function(w,f,p){this.rows[w].setNum(f,p)}},{key:"setString",value:function(w,f,p){this.rows[w].setString(f,p)}},{key:"get",value:function(w,f){return this.rows[w].get(f)}},{key:"getNum",value:function(w,f){return this.rows[w].getNum(f)}},{key:"getString",value:function(w,f){return this.rows[w].getString(f)}},{key:"getObject",value:function(w){for(var f,p={},b=0;b<this.rows.length;b++)if(f=this.rows[b].obj,typeof w=="string"){if(!(0<=this.columns.indexOf(w)))throw new Error('This table has no column named "'.concat(w,'"'));p[f[w]]=f}else p[b]=this.rows[b].obj;return p}},{key:"getArray",value:function(){for(var w=[],f=0;f<this.rows.length;f++)w.push(this.rows[f].arr);return w}}])&&h(d.prototype,_),a}(),t=l.default,c.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.join":166,"core-js/modules/es.array.splice":171,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.match":201,"core-js/modules/es.string.replace":204}],311:[function(t,o,c){t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.from-entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.from-entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t};function l(h,a){for(var d=0;d<a.length;d++){var _=a[d];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(h,_.key,_)}}t.default.TableRow=function(){function h(_,w){if(!(this instanceof h))throw new TypeError("Cannot call a class as a function");var f=[];_&&(f=_.split(w=w||",")),this.arr=f,this.obj=Object.fromEntries(f.entries()),this.table=null}var a,d;return a=h,(d=[{key:"set",value:function(_,w){if(typeof _=="string"){var f=this.table.columns.indexOf(_);if(!(0<=f))throw new Error('This table has no column named "'.concat(_,'"'));this.obj[_]=w,this.arr[f]=w}else{if(!(_<this.table.columns.length))throw new Error("Column #".concat(_," is out of the range of this table"));this.arr[_]=w,f=this.table.columns[_],this.obj[f]=w}}},{key:"setNum",value:function(_,w){w=parseFloat(w),this.set(_,w)}},{key:"setString",value:function(_,w){w=w.toString(),this.set(_,w)}},{key:"get",value:function(_){return(typeof _=="string"?this.obj:this.arr)[_]}},{key:"getNum",value:function(_){var w=parseFloat(typeof _=="string"?this.obj[_]:this.arr[_]);if(w.toString()==="NaN")throw"Error: ".concat(this.obj[_]," is NaN (Not a Number)");return w}},{key:"getString",value:function(_){return(typeof _=="string"?this.obj:this.arr)[_].toString()}}])&&l(a.prototype,d),h}(),t=t.default,c.default=t},{"../core/main":283,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.from-entries":185,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.split":206,"core-js/modules/web.dom-collections.iterator":246}],312:[function(t,o,c){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var l=(t=t("../core/main"))&&t.__esModule?t:{default:t};function h(d,_){for(var w=0;w<_.length;w++){var f=_[w];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(d,f.key,f)}}function a(d){for(var _=[],w=0;w<d.length;w++)_.push(new l.default.XML(d[w]));return _}l.default.XML=function(){function d(f){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");f?this.DOM=f:(f=document.implementation.createDocument(null,"doc"),this.DOM=f.createElement("root"))}var _,w;return _=d,(w=[{key:"getParent",value:function(){return new l.default.XML(this.DOM.parentElement)}},{key:"getName",value:function(){return this.DOM.tagName}},{key:"setName",value:function(f){var p=this.DOM.innerHTML,b=this.DOM.attributes,y=document.implementation.createDocument(null,"default").createElement(f);y.innerHTML=p;for(var m=0;m<b.length;m++)y.setAttribute(b[m].nodeName,b[m].nodeValue);this.DOM=y}},{key:"hasChildren",value:function(){return 0<this.DOM.children.length}},{key:"listChildren",value:function(){for(var f=[],p=0;p<this.DOM.childNodes.length;p++)f.push(this.DOM.childNodes[p].nodeName);return f}},{key:"getChildren",value:function(f){return a(f?this.DOM.getElementsByTagName(f):this.DOM.children)}},{key:"getChild",value:function(f){if(typeof f!="string")return new l.default.XML(this.DOM.children[f]);var p=!0,b=!1,y=void 0;try{for(var m,g=this.DOM.children[Symbol.iterator]();!(p=(m=g.next()).done);p=!0){var v=m.value;if(v.tagName===f)return new l.default.XML(v)}}catch(S){b=!0,y=S}finally{try{p||g.return==null||g.return()}finally{if(b)throw y}}}},{key:"addChild",value:function(f){f instanceof l.default.XML&&this.DOM.appendChild(f.DOM)}},{key:"removeChild",value:function(f){var p=-1;if(typeof f=="string"){for(var b=0;b<this.DOM.children.length;b++)if(this.DOM.children[b].tagName===f){p=b;break}}else p=f;p!==-1&&this.DOM.removeChild(this.DOM.children[p])}},{key:"getAttributeCount",value:function(){return this.DOM.attributes.length}},{key:"listAttributes",value:function(){var f=[],p=!0,b=!1,y=void 0;try{for(var m,g=this.DOM.attributes[Symbol.iterator]();!(p=(m=g.next()).done);p=!0){var v=m.value;f.push(v.nodeName)}}catch(S){b=!0,y=S}finally{try{p||g.return==null||g.return()}finally{if(b)throw y}}return f}},{key:"hasAttribute",value:function(f){var p={},b=!0,y=!1,m=void 0;try{for(var g,v=this.DOM.attributes[Symbol.iterator]();!(b=(g=v.next()).done);b=!0){var S=g.value;p[S.nodeName]=S.nodeValue}}catch(j){y=!0,m=j}finally{try{b||v.return==null||v.return()}finally{if(y)throw m}}return!!p[f]}},{key:"getNum",value:function(f,p){var b={},y=!0,m=!1,g=void 0;try{for(var v,S=this.DOM.attributes[Symbol.iterator]();!(y=(v=S.next()).done);y=!0){var j=v.value;b[j.nodeName]=j.nodeValue}}catch(A){m=!0,g=A}finally{try{y||S.return==null||S.return()}finally{if(m)throw g}}return Number(b[f])||p||0}},{key:"getString",value:function(f,p){var b={},y=!0,m=!1,g=void 0;try{for(var v,S=this.DOM.attributes[Symbol.iterator]();!(y=(v=S.next()).done);y=!0){var j=v.value;b[j.nodeName]=j.nodeValue}}catch(A){m=!0,g=A}finally{try{y||S.return==null||S.return()}finally{if(m)throw g}}return b[f]?String(b[f]):p||null}},{key:"setAttribute",value:function(f,p){this.DOM.setAttribute(f,p)}},{key:"getContent",value:function(f){var p=this.DOM.textContent;return(p=p.replace(/\s\s+/g,","))||f||null}},{key:"setContent",value:function(f){this.DOM.children.length||(this.DOM.textContent=f)}},{key:"serialize",value:function(){return new XMLSerializer().serializeToString(this.DOM)}}])&&h(_.prototype,w),d}(),t=l.default,c.default=t},{"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],313:[function(t,o,c){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.string.includes"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var l=(t=t("../core/main"))&&t.__esModule?t:{default:t};function h(a){return function(d){if(Array.isArray(d)){for(var _=0,w=new Array(d.length);_<d.length;_++)w[_]=d[_];return w}}(a)||function(d){if(Symbol.iterator in Object(d)||Object.prototype.toString.call(d)==="[object Arguments]")return Array.from(d)}(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}l.default.prototype.abs=Math.abs,l.default.prototype.ceil=Math.ceil,l.default.prototype.constrain=function(a,d,_){return l.default._validateParameters("constrain",arguments),Math.max(Math.min(a,_),d)},l.default.prototype.dist=function(){for(var a=arguments.length,d=new Array(a),_=0;_<a;_++)d[_]=arguments[_];return l.default._validateParameters("dist",d),d.length===4?Math.hypot(d[2]-d[0],d[3]-d[1]):d.length===6?Math.hypot(d[3]-d[0],d[4]-d[1],d[5]-d[2]):void 0},l.default.prototype.exp=Math.exp,l.default.prototype.floor=Math.floor,l.default.prototype.lerp=function(a,d,_){return l.default._validateParameters("lerp",arguments),_*(d-a)+a},l.default.prototype.log=Math.log,l.default.prototype.mag=function(a,d){return l.default._validateParameters("mag",arguments),Math.hypot(a,d)},l.default.prototype.map=function(a,d,_,w,f,p){return l.default._validateParameters("map",arguments),a=(a-d)/(_-d)*(f-w)+w,p?w<f?this.constrain(a,w,f):this.constrain(a,f,w):a},l.default.prototype.max=function(){for(var a=function(f){return Math.max.apply(Math,h(f))},d=arguments.length,_=new Array(d),w=0;w<d;w++)_[w]=arguments[w];return Array.isArray(_[0])?a(_[0]):a(_)},l.default.prototype.min=function(){for(var a=function(f){return Math.min.apply(Math,h(f))},d=arguments.length,_=new Array(d),w=0;w<d;w++)_[w]=arguments[w];return Array.isArray(_[0])?a(_[0]):a(_)},l.default.prototype.norm=function(a,d,_){return l.default._validateParameters("norm",arguments),this.map(a,d,_,0,1)},l.default.prototype.pow=Math.pow,l.default.prototype.round=function(a,d){return d?(d=Math.pow(10,d),Math.round(a*d)/d):Math.round(a)},l.default.prototype.sq=function(a){return a*a},l.default.prototype.sqrt=Math.sqrt,l.default.prototype.fract=function(w){l.default._validateParameters("fract",arguments);var d,_=0,w=Number(w);return isNaN(w)||Math.abs(w)===1/0?w:(w<0&&(w=-w,_=1),String(w).includes(".")&&!String(w).includes("e")?(d=String(w),d=+("0"+d.slice(d.indexOf("."))),Math.abs(_-d)):w<1?Math.abs(_-w):0)},t=l.default,c.default=t},{"../core/main":283,"core-js/modules/es.array.from":162,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.hypot":176,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],314:[function(t,o,c){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var l=(t=t("../core/main"))&&t.__esModule?t:{default:t};function h(d,_,w){return(h=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?Reflect.construct:function(f,p,b){var y=[null];return y.push.apply(y,p),p=new(Function.bind.apply(f,y)),b&&a(p,b.prototype),p}).apply(null,arguments)}function a(d,_){return(a=Object.setPrototypeOf||function(w,f){return w.__proto__=f,w})(d,_)}l.default.prototype.createVector=function(d,_,w){return this instanceof l.default?h(l.default.Vector,[this._fromRadians.bind(this),this._toRadians.bind(this)].concat(Array.prototype.slice.call(arguments))):new l.default.Vector(d,_,w)},t=l.default,c.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196}],315:[function(w,o,c){Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0,w=(w=w("../core/main"))&&w.__esModule?w:{default:w};function l(f){return .5*(1-Math.cos(f*Math.PI))}var h,a=4095,d=4,_=.5,w=(w.default.prototype.noise=function(f){var p=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0;if(h==null){h=new Array(4096);for(var y=0;y<4096;y++)h[y]=Math.random()}f<0&&(f=-f),p<0&&(p=-p),b<0&&(b=-b);for(var m,g,v=Math.floor(f),S=Math.floor(p),j=Math.floor(b),A=f-v,L=p-S,C=b-j,T=0,R=.5,D=0;D<d;D++){var k=v+(S<<4)+(j<<8),F=l(A),P=l(L),q=h[k&a];q+=F*(h[k+1&a]-q),m=h[k+16&a],q+=P*((m+=F*(h[k+16+1&a]-m))-q),m=h[(k+=256)&a],m+=F*(h[k+1&a]-m),g=h[k+16&a],m+=P*((g+=F*(h[k+16+1&a]-g))-m),T+=(q+=l(C)*(m-q))*R,R*=_,v<<=1,S<<=1,j<<=1,1<=(A*=2)&&(v++,A--),1<=(L*=2)&&(S++,L--),1<=(C*=2)&&(j++,C--)}return T},w.default.prototype.noiseDetail=function(f,p){0<f&&(d=f),0<p&&(_=p)},w.default.prototype.noiseSeed=function(f){y=4294967296;var p,b,y,m={setSeed:function(v){b=p=(v??Math.random()*y)>>>0},getSeed:function(){return p},rand:function(){return(b=(1664525*b+1013904223)%y)/y}};m.setSeed(f),h=new Array(4096);for(var g=0;g<4096;g++)h[g]=m.rand()},w.default);c.default=w},{"../core/main":283}],316:[function(t,o,c){function l(p){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(p)}function h(p){return(h=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(b){return l(b)}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":l(b)})(p)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.some"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.number.epsilon"),t("core-js/modules/es.number.is-finite"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.some"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.number.epsilon"),t("core-js/modules/es.number.is-finite"),t("core-js/modules/es.string.sub"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var a=(f=t("../core/main"))&&f.__esModule?f:{default:f},d=function(p){if(p&&p.__esModule)return p;if(p===null||h(p)!=="object"&&typeof p!="function")return{default:p};var b=_();if(b&&b.has(p))return b.get(p);var y,m={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(y in p){var v;Object.prototype.hasOwnProperty.call(p,y)&&((v=g?Object.getOwnPropertyDescriptor(p,y):null)&&(v.get||v.set)?Object.defineProperty(m,y,v):m[y]=p[y])}return m.default=p,b&&b.set(p,m),m}(t("../core/constants"));function _(){var p;return typeof WeakMap!="function"?null:(p=new WeakMap,_=function(){return p},p)}function w(p,b){for(var y=0;y<b.length;y++){var m=b[y];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(p,m.key,m)}}a.default.Vector=function(){function p(){var j=this,g=p;if(!(j instanceof g))throw new TypeError("Cannot call a class as a function");var v,S,j=typeof(arguments.length<=0?void 0:arguments[0])=="function"?(this.isPInst=!0,this._fromRadians=arguments.length<=0?void 0:arguments[0],this._toRadians=arguments.length<=1?void 0:arguments[1],v=(arguments.length<=2?void 0:arguments[2])||0,S=(arguments.length<=3?void 0:arguments[3])||0,(arguments.length<=4?void 0:arguments[4])||0):(v=(arguments.length<=0?void 0:arguments[0])||0,S=(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0);this.x=v,this.y=S,this.z=j}var b,y,m;return b=p,m=[{key:"fromAngle",value:function(g){var v=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1;return new a.default.Vector(v*Math.cos(g),v*Math.sin(g),0)}},{key:"fromAngles",value:function(C,A){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:1,j=Math.cos(A),A=Math.sin(A),L=Math.cos(C),C=Math.sin(C);return new a.default.Vector(S*C*A,-S*L,S*C*j)}},{key:"random2D",value:function(){return this.fromAngle(Math.random()*d.TWO_PI)}},{key:"random3D",value:function(){var g=Math.random()*d.TWO_PI,v=2*Math.random()-1,j=Math.sqrt(1-v*v),S=j*Math.cos(g),j=j*Math.sin(g);return new a.default.Vector(S,j,v)}},{key:"copy",value:function(g){return g.copy(g)}},{key:"add",value:function(){for(var g=arguments.length,v=new Array(g),S=0;S<g;S++)v[S]=arguments[S];var j=v[0],A=v[1],L=v[2];return L?L.set(j):(L=j.copy(),v.length===3&&a.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.add")),L.add(A),L}},{key:"rem",value:function(g,v){if(g instanceof a.default.Vector&&v instanceof a.default.Vector)return(g=g.copy()).rem(v),g}},{key:"sub",value:function(){for(var g=arguments.length,v=new Array(g),S=0;S<g;S++)v[S]=arguments[S];var j=v[0],A=v[1],L=v[2];return L?L.set(j):(L=j.copy(),v.length===3&&a.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.sub")),L.sub(A),L}},{key:"mult",value:function(){for(var g=arguments.length,v=new Array(g),S=0;S<g;S++)v[S]=arguments[S];var j=v[0],A=v[1],L=v[2];return L?L.set(j):(L=j.copy(),v.length===3&&a.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.mult")),L.mult(A),L}},{key:"rotate",value:function(){for(var g=arguments.length,v=new Array(g),S=0;S<g;S++)v[S]=arguments[S];var j=v[0],A=v[1],L=v[2];return v.length===2?L=j.copy():(L instanceof a.default.Vector||a.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.rotate"),L.set(j)),L.rotate(A),L}},{key:"div",value:function(){for(var g=arguments.length,v=new Array(g),S=0;S<g;S++)v[S]=arguments[S];var j=v[0],A=v[1],L=v[2];return L?L.set(j):(L=j.copy(),v.length===3&&a.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.div")),L.div(A),L}},{key:"dot",value:function(g,v){return g.dot(v)}},{key:"cross",value:function(g,v){return g.cross(v)}},{key:"dist",value:function(g,v){return g.dist(v)}},{key:"lerp",value:function(){for(var g=arguments.length,v=new Array(g),S=0;S<g;S++)v[S]=arguments[S];var j=v[0],A=v[1],L=v[2],C=v[3];return C?C.set(j):(C=j.copy(),v.length===4&&a.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.lerp")),C.lerp(A,L),C}},{key:"slerp",value:function(){for(var g=arguments.length,v=new Array(g),S=0;S<g;S++)v[S]=arguments[S];var j=v[0],A=v[1],L=v[2],C=v[3];return C?C.set(j):(C=j.copy(),v.length===4&&a.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.slerp")),C.slerp(A,L),C}},{key:"mag",value:function(g){return g.mag()}},{key:"magSq",value:function(g){return g.magSq()}},{key:"normalize",value:function(){for(var g=arguments.length,v=new Array(g),S=0;S<g;S++)v[S]=arguments[S];var j=v[0],A=v[1];return v.length<2?A=j.copy():(A instanceof a.default.Vector||a.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.normalize"),A.set(j)),A.normalize()}},{key:"limit",value:function(){for(var g=arguments.length,v=new Array(g),S=0;S<g;S++)v[S]=arguments[S];var j=v[0],A=v[1],L=v[2];return v.length<3?L=j.copy():(L instanceof a.default.Vector||a.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.limit"),L.set(j)),L.limit(A)}},{key:"setMag",value:function(){for(var g=arguments.length,v=new Array(g),S=0;S<g;S++)v[S]=arguments[S];var j=v[0],A=v[1],L=v[2];return v.length<3?L=j.copy():(L instanceof a.default.Vector||a.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.setMag"),L.set(j)),L.setMag(A)}},{key:"heading",value:function(g){return g.heading()}},{key:"angleBetween",value:function(g,v){return g.angleBetween(v)}},{key:"reflect",value:function(){for(var g=arguments.length,v=new Array(g),S=0;S<g;S++)v[S]=arguments[S];var j=v[0],A=v[1],L=v[2];return v.length<3?L=j.copy():(L instanceof a.default.Vector||a.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.reflect"),L.set(j)),L.reflect(A)}},{key:"array",value:function(g){return g.array()}},{key:"equals",value:function(g,v){var S;return g instanceof a.default.Vector?S=g:Array.isArray(g)?S=new a.default.Vector().set(g):a.default._friendlyError("The v1 parameter should be of type Array or p5.Vector","p5.Vector.equals"),S.equals(v)}}],(y=[{key:"toString",value:function(){return"p5.Vector Object : [".concat(this.x,", ").concat(this.y,", ").concat(this.z,"]")}},{key:"set",value:function(g,v,S){return g instanceof a.default.Vector?(this.x=g.x||0,this.y=g.y||0,this.z=g.z||0):Array.isArray(g)?(this.x=g[0]||0,this.y=g[1]||0,this.z=g[2]||0):(this.x=g||0,this.y=v||0,this.z=S||0),this}},{key:"copy",value:function(){return this.isPInst?new a.default.Vector(this._fromRadians,this._toRadians,this.x,this.y,this.z):new a.default.Vector(this.x,this.y,this.z)}},{key:"add",value:function(g,v,S){return g instanceof a.default.Vector?(this.x+=g.x||0,this.y+=g.y||0,this.z+=g.z||0):Array.isArray(g)?(this.x+=g[0]||0,this.y+=g[1]||0,this.z+=g[2]||0):(this.x+=g||0,this.y+=v||0,this.z+=S||0),this}},{key:"calculateRemainder2D",value:function(g,v){return g!==0&&(this.x=this.x%g),v!==0&&(this.y=this.y%v),this}},{key:"calculateRemainder3D",value:function(g,v,S){return g!==0&&(this.x=this.x%g),v!==0&&(this.y=this.y%v),S!==0&&(this.z=this.z%S),this}},{key:"rem",value:function(){for(var g=arguments.length,v=new Array(g),S=0;S<g;S++)v[S]=arguments[S];var j,A,L,C=v[0],T=v[1],R=v[2];if(C instanceof a.default.Vector){if([C.x,C.y,C.z].every(Number.isFinite))return j=parseFloat(C.x),A=parseFloat(C.y),L=parseFloat(C.z),this.calculateRemainder3D(j,A,L)}else if(Array.isArray(C)){if(C.every(Number.isFinite))return C.length===2?this.calculateRemainder2D(C[0],C[1]):C.length===3?this.calculateRemainder3D(C[0],C[1],C[2]):void 0}else if(v.length===1){if(Number.isFinite(C)&&C!==0)return this.x=this.x%C,this.y=this.y%C,this.z=this.z%C,this}else if(v.length===2){if(v.every(Number.isFinite))return this.calculateRemainder2D(C,T)}else if(v.length===3&&v.every(Number.isFinite))return this.calculateRemainder3D(C,T,R)}},{key:"sub",value:function(g,v,S){return g instanceof a.default.Vector?(this.x-=g.x||0,this.y-=g.y||0,this.z-=g.z||0):Array.isArray(g)?(this.x-=g[0]||0,this.y-=g[1]||0,this.z-=g[2]||0):(this.x-=g||0,this.y-=v||0,this.z-=S||0),this}},{key:"mult",value:function(){for(var g=arguments.length,v=new Array(g),S=0;S<g;S++)v[S]=arguments[S];var j,A=v[0],L=v[1],C=v[2];return A instanceof a.default.Vector?Number.isFinite(A.x)&&Number.isFinite(A.y)&&Number.isFinite(A.z)&&typeof A.x=="number"&&typeof A.y=="number"&&typeof A.z=="number"?(this.x*=A.x,this.y*=A.y,this.z*=A.z):console.warn("p5.Vector.prototype.mult:","x contains components that are either undefined or not finite numbers"):Array.isArray(A)?A.every(function(T){return Number.isFinite(T)})&&A.every(function(T){return typeof T=="number"})?A.length===1?(this.x*=A[0],this.y*=A[0],this.z*=A[0]):A.length===2?(this.x*=A[0],this.y*=A[1]):A.length===3&&(this.x*=A[0],this.y*=A[1],this.z*=A[2]):console.warn("p5.Vector.prototype.mult:","x contains elements that are either undefined or not finite numbers"):(j=v).every(function(T){return Number.isFinite(T)})&&j.every(function(T){return typeof T=="number"})?(v.length===1&&(this.x*=A,this.y*=A,this.z*=A),v.length===2&&(this.x*=A,this.y*=L),v.length===3&&(this.x*=A,this.y*=L,this.z*=C)):console.warn("p5.Vector.prototype.mult:","x, y, or z arguments are either undefined or not a finite number"),this}},{key:"div",value:function(){for(var g=arguments.length,v=new Array(g),S=0;S<g;S++)v[S]=arguments[S];var j=v[0],A=v[1],L=v[2];if(j instanceof a.default.Vector)if(Number.isFinite(j.x)&&Number.isFinite(j.y)&&Number.isFinite(j.z)&&typeof j.x=="number"&&typeof j.y=="number"&&typeof j.z=="number"){var C=j.z===0&&this.z===0;if(j.x===0||j.y===0||!C&&j.z===0)return console.warn("p5.Vector.prototype.div:","divide by 0"),this;this.x/=j.x,this.y/=j.y,C||(this.z/=j.z)}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if(Array.isArray(j))if(j.every(Number.isFinite)&&j.every(function(T){return typeof T=="number"})){if(j.some(function(T){return T===0}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;j.length===1?(this.x/=j[0],this.y/=j[0],this.z/=j[0]):j.length===2?(this.x/=j[0],this.y/=j[1]):j.length===3&&(this.x/=j[0],this.y/=j[1],this.z/=j[2])}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if(v.every(Number.isFinite)&&v.every(function(T){return typeof T=="number"})){if(v.some(function(T){return T===0}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;v.length===1&&(this.x/=j,this.y/=j,this.z/=j),v.length===2&&(this.x/=j,this.y/=A),v.length===3&&(this.x/=j,this.y/=A,this.z/=L)}else console.warn("p5.Vector.prototype.div:","x, y, or z arguments are either undefined or not a finite number");return this}},{key:"mag",value:function(){return Math.sqrt(this.magSq())}},{key:"magSq",value:function(){var g=this.x,v=this.y,S=this.z;return g*g+v*v+S*S}},{key:"dot",value:function(g,v,S){return g instanceof a.default.Vector?this.dot(g.x,g.y,g.z):this.x*(g||0)+this.y*(v||0)+this.z*(S||0)}},{key:"cross",value:function(j){var v=this.y*j.z-this.z*j.y,S=this.z*j.x-this.x*j.z,j=this.x*j.y-this.y*j.x;return this.isPInst?new a.default.Vector(this._fromRadians,this._toRadians,v,S,j):new a.default.Vector(v,S,j)}},{key:"dist",value:function(g){return g.copy().sub(this).mag()}},{key:"normalize",value:function(){var g=this.mag();return g!==0&&this.mult(1/g),this}},{key:"limit",value:function(g){var v=this.magSq();return g*g<v&&this.div(Math.sqrt(v)).mult(g),this}},{key:"setMag",value:function(g){return this.normalize().mult(g)}},{key:"heading",value:function(){var g=Math.atan2(this.y,this.x);return this.isPInst?this._fromRadians(g):g}},{key:"setHeading",value:function(g){this.isPInst&&(g=this._toRadians(g));var v=this.mag();return this.x=v*Math.cos(g),this.y=v*Math.sin(g),this}},{key:"rotate",value:function(v){var v=this.heading()+v,S=(this.isPInst&&(v=this._toRadians(v)),this.mag());return this.x=Math.cos(v)*S,this.y=Math.sin(v)*S,this}},{key:"angleBetween",value:function(g){var v;return this.magSq()*g.magSq()==0?NaN:(v=this.cross(g),g=Math.atan2(v.mag(),this.dot(g))*Math.sign(v.z||1),this.isPInst?this._fromRadians(g):g)}},{key:"lerp",value:function(g,v,S,j){return g instanceof a.default.Vector?this.lerp(g.x,g.y,g.z,v):(this.x+=(g-this.x)*j||0,this.y+=(v-this.y)*j||0,this.z+=(S-this.z)*j||0,this)}},{key:"slerp",value:function(g,v){if(v!==0){if(v===1)return this.set(g);var S=this.mag(),j=g.mag();if(S*j==0)this.mult(1-v).add(g.x*v,g.y*v,g.z*v);else{var A=this.cross(g),L=A.mag(),C=Math.atan2(L,this.dot(g));if(0<L)A.x/=L,A.y/=L,A.z/=L;else{if(C<.5*Math.PI)return this.mult(1-v).add(g.x*v,g.y*v,g.z*v),this;this.z===0&&g.z===0?A.set(0,0,1):this.x!==0?A.set(this.y,-this.x,0).normalize():A.set(1,0,0)}L=A.cross(this),g=1-v+v*j/S,A=g*Math.cos(v*C),j=g*Math.sin(v*C),this.x=this.x*A+L.x*j,this.y=this.y*A+L.y*j,this.z=this.z*A+L.z*j}}return this}},{key:"reflect",value:function(g){return g=a.default.Vector.normalize(g),this.sub(g.mult(2*this.dot(g)))}},{key:"array",value:function(){return[this.x||0,this.y||0,this.z||0]}},{key:"equals",value:function(L,v,S){var j,A,L=L instanceof a.default.Vector?(j=L.x||0,A=L.y||0,L.z||0):Array.isArray(L)?(j=L[0]||0,A=L[1]||0,L[2]||0):(j=L||0,A=v||0,S||0);return this.x===j&&this.y===A&&this.z===L}},{key:"clampToZero",value:function(){return this.x=this._clampToZero(this.x),this.y=this._clampToZero(this.y),this.z=this._clampToZero(this.z),this}},{key:"_clampToZero",value:function(g){return Math.abs(+(g||0))<=Number.EPSILON?0:g}}])&&w(b.prototype,y),m&&w(b,m),p}();var f=a.default.Vector;c.default=f},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.every":155,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.some":170,"core-js/modules/es.math.sign":178,"core-js/modules/es.number.constructor":179,"core-js/modules/es.number.epsilon":180,"core-js/modules/es.number.is-finite":181,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.sub":208,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],317:[function(_,o,c){Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var l=(_=_("../core/main"))&&_.__esModule?_:{default:_},h="_lcg_random_state",a=4294967296,d=0,_=(l.default.prototype._lcg=function(w){return this[w]=(1664525*this[w]+1013904223)%a,this[w]/a},l.default.prototype._lcgSetSeed=function(w,f){this[w]=(f??Math.random()*a)>>>0},l.default.prototype.randomSeed=function(w){this._lcgSetSeed(h,w),this._gaussian_previous=!1},l.default.prototype.random=function(w,f){var p,b;return l.default._validateParameters("random",arguments),p=this[h]!=null?this._lcg(h):Math.random(),w===void 0?p:f===void 0?Array.isArray(w)?w[Math.floor(p*w.length)]:p*w:(f<w&&(b=w,w=f,f=b),p*(f-w)+w)},l.default.prototype.randomGaussian=function(w){var f,p,b,y,m=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1;if(this._gaussian_previous)f=d,this._gaussian_previous=!1;else{for(;1<=(y=(p=this.random(2)-1)*p+(b=this.random(2)-1)*b););f=p*(y=Math.sqrt(-2*Math.log(y)/y)),d=b*y,this._gaussian_previous=!0}return f*m+(w||0)},l.default);c.default=_},{"../core/main":283}],318:[function(t,o,c){function l(f){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(f)}function h(f){return(h=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(p){return l(p)}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":l(p)})(f)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var a=(w=t("../core/main"))&&w.__esModule?w:{default:w},d=function(f){if(f&&f.__esModule)return f;if(f===null||h(f)!=="object"&&typeof f!="function")return{default:f};var p=_();if(p&&p.has(f))return p.get(f);var b,y={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(b in f){var g;Object.prototype.hasOwnProperty.call(f,b)&&((g=m?Object.getOwnPropertyDescriptor(f,b):null)&&(g.get||g.set)?Object.defineProperty(y,b,g):y[b]=f[b])}return y.default=f,p&&p.set(f,y),y}(t("../core/constants"));function _(){var f;return typeof WeakMap!="function"?null:(f=new WeakMap,_=function(){return f},f)}a.default.prototype._angleMode=d.RADIANS,a.default.prototype.acos=function(f){return this._fromRadians(Math.acos(f))},a.default.prototype.asin=function(f){return this._fromRadians(Math.asin(f))},a.default.prototype.atan=function(f){return this._fromRadians(Math.atan(f))},a.default.prototype.atan2=function(f,p){return this._fromRadians(Math.atan2(f,p))},a.default.prototype.cos=function(f){return Math.cos(this._toRadians(f))},a.default.prototype.sin=function(f){return Math.sin(this._toRadians(f))},a.default.prototype.tan=function(f){return Math.tan(this._toRadians(f))},a.default.prototype.degrees=function(f){return f*d.RAD_TO_DEG},a.default.prototype.radians=function(f){return f*d.DEG_TO_RAD},a.default.prototype.angleMode=function(f){if(a.default._validateParameters("angleMode",arguments),f===void 0)return this._angleMode;f!==d.DEGREES&&f!==d.RADIANS||f!==this._angleMode&&(f===d.RADIANS?(this._setProperty("pRotationX",this.pRotationX*d.DEG_TO_RAD),this._setProperty("pRotationY",this.pRotationY*d.DEG_TO_RAD),this._setProperty("pRotationZ",this.pRotationZ*d.DEG_TO_RAD)):(this._setProperty("pRotationX",this.pRotationX*d.RAD_TO_DEG),this._setProperty("pRotationY",this.pRotationY*d.RAD_TO_DEG),this._setProperty("pRotationZ",this.pRotationZ*d.RAD_TO_DEG)),this._angleMode=f)},a.default.prototype._toRadians=function(f){return this._angleMode===d.DEGREES?f*d.DEG_TO_RAD:f},a.default.prototype._toDegrees=function(f){return this._angleMode===d.RADIANS?f*d.RAD_TO_DEG:f},a.default.prototype._fromRadians=function(f){return this._angleMode===d.DEGREES?f*d.RAD_TO_DEG:f},a.default.prototype._fromDegrees=function(f){return this._angleMode===d.RADIANS?f*d.DEG_TO_RAD:f};var w=a.default;c.default=w},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],319:[function(t,o,c){t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var l=(t=t("../core/main"))&&t.__esModule?t:{default:t};l.default.prototype.textAlign=function(h,a){var d;return l.default._validateParameters("textAlign",arguments),(d=this._renderer).textAlign.apply(d,arguments)},l.default.prototype.textLeading=function(h){var a;return l.default._validateParameters("textLeading",arguments),(a=this._renderer).textLeading.apply(a,arguments)},l.default.prototype.textSize=function(h){var a;return l.default._validateParameters("textSize",arguments),(a=this._renderer).textSize.apply(a,arguments)},l.default.prototype.textStyle=function(h){var a;return l.default._validateParameters("textStyle",arguments),(a=this._renderer).textStyle.apply(a,arguments)},l.default.prototype.textWidth=function(){for(var h=arguments.length,a=new Array(h),d=0;d<h;d++)a[d]=arguments[d];if(a[0]+="",l.default._validateParameters("textWidth",a),a[0].length===0)return 0;for(var _=a[0].replace(/\t/g,"  ").split(/\r?\n|\r|\n/g),w=[],f=0;f<_.length;f++)w.push(this._renderer.textWidth(_[f]));return Math.max.apply(Math,w)},l.default.prototype.textAscent=function(){for(var h=arguments.length,a=new Array(h),d=0;d<h;d++)a[d]=arguments[d];return l.default._validateParameters("textAscent",a),this._renderer.textAscent()},l.default.prototype.textDescent=function(){for(var h=arguments.length,a=new Array(h),d=0;d<h;d++)a[d]=arguments[d];return l.default._validateParameters("textDescent",a),this._renderer.textDescent()},l.default.prototype._updateTextMetrics=function(){return this._renderer._updateTextMetrics()},l.default.prototype.textWrap=function(h){return l.default._validateParameters("textWrap",[h]),this._renderer.textWrap(h)},t=l.default,c.default=t},{"../core/main":283,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206}],320:[function(t,o,c){function l(b){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(b)}function h(b){return(h=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(y){return l(y)}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":l(y)})(b)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.split"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var a=(p=t("../core/main"))&&p.__esModule?p:{default:p},d=f(t("../core/constants")),_=f(t("opentype.js"));function w(){var b;return typeof WeakMap!="function"?null:(b=new WeakMap,w=function(){return b},b)}function f(b){if(b&&b.__esModule)return b;if(b===null||h(b)!=="object"&&typeof b!="function")return{default:b};var y=w();if(y&&y.has(b))return y.get(b);var m,g,v={},S=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(m in b)Object.prototype.hasOwnProperty.call(b,m)&&((g=S?Object.getOwnPropertyDescriptor(b,m):null)&&(g.get||g.set)?Object.defineProperty(v,m,g):v[m]=b[m]);return v.default=b,y&&y.set(b,v),v}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),a.default.prototype.loadFont=function(b,y,m){a.default._validateParameters("loadFont",arguments);var g=new a.default.Font(this),v=this;return _.load(b,function(A,L){if(A)return a.default._friendlyFileLoadError(4,b),m!==void 0?m(A):void console.error(A,b);g.font=L,y!==void 0&&y(g),v._decrementPreload();var A=b.split("\\").pop().split("/").pop(),L=A.lastIndexOf("."),C=L<1?null:A.slice(L+1);["ttf","otf","woff","woff2"].includes(C)&&(C=A.slice(0,L!==-1?L:0),(A=document.createElement("style")).appendChild(document.createTextNode(`
@font-face {
font-family: `.concat(C,`;
src: url(`).concat(b,`);
}
`))),document.head.appendChild(A))}),g},a.default.prototype.text=function(b,y,m,g,v){var S;return a.default._validateParameters("text",arguments),this._renderer._doFill||this._renderer._doStroke?(S=this._renderer).text.apply(S,arguments):this},a.default.prototype.textFont=function(b,y){if(a.default._validateParameters("textFont",arguments),arguments.length){if(b)return this._renderer._setProperty("_textFont",b),y&&(this._renderer._setProperty("_textSize",y),this._renderer._leadingSet||this._renderer._setProperty("_textLeading",y*d._DEFAULT_LEADMULT)),this._renderer._applyTextProperties();throw new Error("null font passed to textFont")}return this._renderer._textFont};var p=a.default;c.default=p},{"../core/constants":272,"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246,"opentype.js":257}],321:[function(t,o,c){function l(T){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(R){return typeof R}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R})(T)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var h=(h=t("../core/main"))&&h.__esModule?h:{default:h},a=function(T){if(T&&T.__esModule)return T;if(T===null||_(T)!=="object"&&typeof T!="function")return{default:T};var R=d();if(R&&R.has(T))return R.get(T);var D,k={},F=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(D in T){var P;Object.prototype.hasOwnProperty.call(T,D)&&((P=F?Object.getOwnPropertyDescriptor(T,D):null)&&(P.get||P.set)?Object.defineProperty(k,D,P):k[D]=T[D])}return k.default=T,R&&R.set(T,k),k}(t("../core/constants"));function d(){var T;return typeof WeakMap!="function"?null:(T=new WeakMap,d=function(){return T},T)}function _(T){return(_=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(R){return l(R)}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":l(R)})(T)}function w(T,R){for(var D=0;D<R.length;D++){var k=R[D];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(T,k.key,k)}}function f(T,R){var D=T.length;return T[R<0?R%D+D:R%D]}function p(T,R,D,k){var F,P,q;return k?(p.tmpPoint1===void 0&&(p.tmpPoint1=[],p.tmpPoint2=[]),P=p.tmpPoint1,q=p.tmpPoint2,P.x=R.x-T.x,P.y=R.y-T.y,q.x=D.x-R.x,q.y=D.y-R.y,F=P.x*q.x+P.y*q.y,P=Math.sqrt(P.x*P.x+P.y*P.y),q=Math.sqrt(q.x*q.x+q.y*q.y),Math.acos(F/(P*q))<k):(R[0]-T[0])*(D[1]-T[1])-(D[0]-T[0])*(R[1]-T[1])==0}function b(G,ee,X,ae,ce,P,q,z,H){var Q=1-H,Z=Math.pow(Q,3),K=Math.pow(Q,2),M=H*H,se=M*H,J=Z*G+3*K*H*X+3*Q*H*H*ce+se*q,Z=Z*ee+3*K*H*ae+3*Q*H*H*P+se*z,K=G+2*H*(X-G)+M*(ce-2*X+G),se=ee+2*H*(ae-ee)+M*(P-2*ae+ee),le=X+2*H*(ce-X)+M*(q-2*ce+X),M=ae+2*H*(P-ae)+M*(z-2*P+ae),G=Q*G+H*X,X=Q*ee+H*ae,ee=Q*ce+H*q,ae=Q*P+H*z,ce=90-180*Math.atan2(K-le,se-M)/Math.PI;return(le<K||se<M)&&(ce+=180),{x:J,y:Z,m:{x:K,y:se},n:{x:le,y:M},start:{x:G,y:X},end:{x:ee,y:ae},alpha:ce}}function y(T,R,D,k,F,P,q,z,H){return H==null?L(T,R,D,k,F,P,q,z):b(T,R,D,k,F,P,q,z,function(Q,J,Z,K,se,le,M,G,X){if(!(X<0||L(Q,J,Z,K,se,le,M,G)<X)){var ee,ae=.5,ce=1-ae;for(ee=L(Q,J,Z,K,se,le,M,G,ce);.01<Math.abs(ee-X);)ee=L(Q,J,Z,K,se,le,M,G,ce+=(ee<X?1:-1)*(ae/=2));return ce}}(T,R,D,k,F,P,q,z,H))}function m(T,R,D){for(var k,F,P,q,z,H=0,Q=0,J=(T=function(Z,K){function se(Oe,ke,Fe){var Je,Ue;if(!Oe)return["C",ke.x,ke.y,ke.x,ke.y,ke.x,ke.y];switch(Oe[0]in{T:1,Q:1}||(ke.qx=ke.qy=null),Oe[0]){case"M":ke.X=Oe[1],ke.Y=Oe[2];break;case"A":Oe=["C"].concat(v.apply(0,[ke.x,ke.y].concat(Oe.slice(1))));break;case"S":Ue=Fe==="C"||Fe==="S"?(Je=2*ke.x-ke.bx,2*ke.y-ke.by):(Je=ke.x,ke.y),Oe=["C",Je,Ue].concat(Oe.slice(1));break;case"T":Fe==="Q"||Fe==="T"?(ke.qx=2*ke.x-ke.qx,ke.qy=2*ke.y-ke.qy):(ke.qx=ke.x,ke.qy=ke.y),Oe=["C"].concat(A(ke.x,ke.y,ke.qx,ke.qy,Oe[1],Oe[2]));break;case"Q":ke.qx=Oe[1],ke.qy=Oe[2],Oe=["C"].concat(A(ke.x,ke.y,Oe[1],Oe[2],Oe[3],Oe[4]));break;case"L":Oe=["C"].concat(j(ke.x,ke.y,Oe[1],Oe[2]));break;case"H":Oe=["C"].concat(j(ke.x,ke.y,Oe[1],ke.y));break;case"V":Oe=["C"].concat(j(ke.x,ke.y,ke.x,Oe[1]));break;case"Z":Oe=["C"].concat(j(ke.x,ke.y,ke.X,ke.Y))}return Oe}function le(Oe,ke){if(7<Oe[ke].length){Oe[ke].shift();for(var Fe=Oe[ke];Fe.length;)pe[ke]="A",ee&&(ve[ke]="A"),Oe.splice(ke++,0,["C"].concat(Fe.splice(0,6)));Oe.splice(ke,1),G=Math.max(X.length,ee&&ee.length||0)}}function M(Oe,ke,Fe,Je,Ue){Oe&&ke&&Oe[Ue][0]==="M"&&ke[Ue][0]!=="M"&&(ke.splice(Ue,0,["M",Je.x,Je.y]),Fe.bx=0,Fe.by=0,Fe.x=Oe[Ue][1],Fe.y=Oe[Ue][2],G=Math.max(X.length,ee&&ee.length||0))}var G,X=g(Z),ee=K&&g(K),ae={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},ce={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},pe=[],ve=[],ge="",Se="";G=Math.max(X.length,ee&&ee.length||0);for(var xe=0;xe<G;xe++){(ge=X[xe]?X[xe][0]:ge)!=="C"&&(pe[xe]=ge,xe&&(Se=pe[xe-1])),X[xe]=se(X[xe],ae,Se),pe[xe]!=="A"&&ge==="C"&&(pe[xe]="C"),le(X,xe),ee&&((ge=ee[xe]?ee[xe][0]:ge)!=="C"&&(ve[xe]=ge,xe&&(Se=ve[xe-1])),ee[xe]=se(ee[xe],ce,Se),ve[xe]!=="A"&&ge==="C"&&(ve[xe]="C"),le(ee,xe)),M(X,ee,ae,ce,xe),M(ee,X,ce,ae,xe);var he=X[xe],je=ee&&ee[xe],Ce=he.length,De=ee&&je.length;ae.x=he[Ce-2],ae.y=he[Ce-1],ae.bx=parseFloat(he[Ce-4])||ae.x,ae.by=parseFloat(he[Ce-3])||ae.y,ce.bx=ee&&(parseFloat(je[De-4])||ce.x),ce.by=ee&&(parseFloat(je[De-3])||ce.y),ce.x=ee&&je[De-2],ce.y=ee&&je[De-1]}return ee?[X,ee]:X}(T)).length;Q<J;Q++){if((P=T[Q])[0]==="M")k=+P[1],F=+P[2];else{if(R<H+(q=y(k,F,P[1],P[2],P[3],P[4],P[5],P[6]))&&!D)return{x:(z=y(k,F,P[1],P[2],P[3],P[4],P[5],P[6],R-H)).x,y:z.y,alpha:z.alpha};H+=q,k=+P[5],F=+P[6]}P.shift()}return z=(z=D?H:b(k,F,P[0],P[1],P[2],P[3],P[4],P[5],1)).alpha?{x:z.x,y:z.y,alpha:z.alpha}:z}function g(T){var R=[],D=0,k=0,F=0,P=0,q=0;if(T){T[0][0]==="M"&&(F=D=+T[0][1],P=k=+T[0][2],q++,R[0]=["M",D,k]);for(var z,H,Q=T.length===3&&T[0][0]==="M"&&T[1][0].toUpperCase()==="R"&&T[2][0].toUpperCase()==="Z",J=q,Z=T.length;J<Z;J++){if(R.push(z=[]),(H=T[J])[0]!==H[0].toUpperCase())switch(z[0]=H[0].toUpperCase(),z[0]){case"A":z[1]=H[1],z[2]=H[2],z[3]=H[3],z[4]=H[4],z[5]=H[5],z[6]=+(H[6]+D),z[7]=+(H[7]+k);break;case"V":z[1]=+H[1]+k;break;case"H":z[1]=+H[1]+D;break;case"R":for(var K,se=2,le=(K=[D,k].concat(H.slice(1))).length;se<le;se++)K[se]=+K[se]+D,K[++se]=+K[se]+k;R.pop(),R=R.concat(S(K,Q));break;case"M":F=+H[1]+D,P=+H[2]+k;break;default:for(var M=1,G=H.length;M<G;M++)z[M]=+H[M]+(M%2?D:k)}else if(H[0]==="R")K=[D,k].concat(H.slice(1)),R.pop(),R=R.concat(S(K,Q)),z=["R"].concat(H.slice(-2));else for(var X=0,ee=H.length;X<ee;X++)z[X]=H[X];switch(z[0]){case"Z":D=F,k=P;break;case"H":D=z[1];break;case"V":k=z[1];break;case"M":F=z[z.length-2],P=z[z.length-1];break;default:D=z[z.length-2],k=z[z.length-1]}}}return R}function v(T,R,D,k,ee,pe,ae,z,H,Q){function J(De,Oe,ke){return{x:De*Math.cos(ke)-Oe*Math.sin(ke),y:De*Math.sin(ke)+Oe*Math.cos(ke)}}var Z,G=Math.PI,X=120*G/180,K=G/180*(+ee||0),se=[],le=(Q?(xe=Q[0],Z=Q[1],ge=Q[2],Se=Q[3]):(T=(ce=J(T,R,-K)).x,R=ce.y,1<(le=(M=(T-(z=(ce=J(z,H,-K)).x))/2)*M/(D*D)+(ce=(R-(H=ce.y))/2)*ce/(k*k))&&(D*=le=Math.sqrt(le),k*=le),le=D*D,ve=k*k,ge=(pe=(pe===ae?-1:1)*Math.sqrt(Math.abs((le*ve-le*ce*ce-ve*M*M)/(le*ce*ce+ve*M*M))))*D*ce/k+(T+z)/2,Se=pe*-k*M/D+(R+H)/2,xe=Math.asin(((R-Se)/k).toFixed(9)),Z=Math.asin(((H-Se)/k).toFixed(9)),(xe=T<ge?G-xe:xe)<0&&(xe=2*G+xe),(Z=z<ge?G-Z:Z)<0&&(Z=2*G+Z),ae&&Z<xe&&(xe-=2*G),!ae&&xe<Z&&(Z-=2*G)),Z-xe),M=(Math.abs(le)>X&&(ve=Z,ce=z,pe=H,Z=xe+X*(ae&&xe<Z?1:-1),se=v(z=ge+D*Math.cos(Z),H=Se+k*Math.sin(Z),D,k,ee,0,ae,ce,pe,[Z,ve,ge,Se])),le=Z-xe,Math.cos(xe)),G=Math.sin(xe),X=Math.cos(Z),ee=Math.sin(Z),ae=Math.tan(le/4),ce=4/3*D*ae,pe=4/3*k*ae,ve=[T,R],ge=[T+ce*G,R-pe*M],Se=[z+ce*ee,H-pe*X],xe=[z,H];if(ge[0]=2*ve[0]-ge[0],ge[1]=2*ve[1]-ge[1],Q)return[ge,Se,xe].concat(se);for(var he=[],je=0,Ce=(se=[ge,Se,xe].concat(se).join().split(",")).length;je<Ce;je++)he[je]=je%2?J(se[je-1],se[je],K).y:J(se[je],se[je+1],K).x;return he}function S(T,R){for(var D=[],k=0,F=T.length;k<F-2*!R;k+=2){var P=[{x:+T[k-2],y:+T[k-1]},{x:+T[k],y:+T[k+1]},{x:+T[k+2],y:+T[k+3]},{x:+T[k+4],y:+T[k+5]}];R?k?F-4===k?P[3]={x:+T[0],y:+T[1]}:F-2===k&&(P[2]={x:+T[0],y:+T[1]},P[3]={x:+T[2],y:+T[3]}):P[0]={x:+T[F-2],y:+T[F-1]}:F-4===k?P[3]=P[2]:k||(P[0]={x:+T[k],y:+T[k+1]}),D.push(["C",(-P[0].x+6*P[1].x+P[2].x)/6,(-P[0].y+6*P[1].y+P[2].y)/6,(P[1].x+6*P[2].x-P[3].x)/6,(P[1].y+6*P[2].y-P[3].y)/6,P[2].x,P[2].y])}return D}function j(T,R,D,k){return[T,R,D,k,D,k]}function A(T,R,D,k,F,P){return[1/3*T+2/3*D,1/3*R+2/3*k,1/3*F+2/3*D,1/3*P+2/3*k,F,P]}function L(T,R,D,k,F,P,q,z,H){for(var Q=(H=1<(H=H??1)?1:H<0?0:H)/2,J=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],Z=0,K=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],se=0;se<12;se++){var M=Q*J[se]+Q,le=C(M,T,D,F,q),M=C(M,R,k,P,z);Z+=K[se]*Math.sqrt(le*le+M*M)}return Q*Z}function C(T,R,D,k,F){return T*(T*(-3*R+9*D-9*k+3*F)+6*R-12*D+6*k)-3*R+3*D}h.default.Font=function(){function T(k){if(!(this instanceof T))throw new TypeError("Cannot call a class as a function");this.parent=k,this.cache={},this.font=void 0}var R,D;return R=T,(D=[{key:"textBounds",value:function(k){var F=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,P=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0,Q=3<arguments.length?arguments[3]:void 0,q=4<arguments.length?arguments[4]:void 0,z=q&&q.renderer&&q.renderer._pInst||this.parent,H=z._renderer.drawingContext,Q=(H.textAlign||a.LEFT,H.textBaseline||a.BASELINE,Q||z._renderer._textSize);if(!ce){for(var J=[],Z=[],K=[],se=(K[0]=[],[]),le=this._scale(Q),M=z._renderer.textLeading(),G=0,X=(this.font.forEachGlyph(k,F,P,Q,q,function(ge,Se,xe,he){var je=ge.getMetrics();ge.index===0?K[G+=1]=[]:(K[G].push(Se+je.xMin*le),K[G].push(Se+je.xMax*le),se.push(xe+G*M+-je.yMin*le),se.push(xe+G*M+-je.yMax*le))}),0<K[G].length&&(J[G]=Math.min.apply(null,K[G]),Z[G]=Math.max.apply(null,K[G])),0),ee=0;ee<=G;ee++){J[ee]=Math.min.apply(null,K[ee]),Z[ee]=Math.max.apply(null,K[ee]);var ae=Z[ee]-J[ee];X<ae&&(X=ae)}var H=Math.min.apply(null,J),ce={x:H,y:P=Math.min.apply(null,se),h:Math.max.apply(null,se)-P,w:X,advance:H-F},Q=this._handleAlignment(z._renderer,k,ce.x,ce.y,ce.w+ce.advance);ce.x=Q.x,ce.y=Q.y}return ce}},{key:"textToPoints",value:function(k,F,P,q,z){var H,Q=F,J=[],Z=this.parent,K=k.split(/\r?\n|\r|\n/g);q=q||this.parent._renderer._textSize;for(var se,le,M,G=0;G<K.length;G++){var X=0;F=Q;for(var ee=(ee=K[G]).replace("	","  "),ae=this._getGlyphs(ee),ce=0;ce<ae.length;ce++){if(le=ee,!((M=ae)[se=ce].name&&M[se].name==="space"||le.length===M.length&&le[se]===" "))for(var pe=function(xe){for(var he,je=[],Ce=0;Ce<xe.length;Ce++)xe[Ce].type==="M"&&(he&&je.push(he),he=[]),he.push(function(De){var Oe=[De.type];return De.type==="M"||De.type==="L"?Oe.push(De.x,De.y):De.type==="C"?Oe.push(De.x1,De.y1,De.x2,De.y2,De.x,De.y):De.type==="Q"&&Oe.push(De.x1,De.y1,De.x,De.y),Oe}(xe[Ce]));return je.push(he),je}(ae[ce].getPath(F,P,q).commands),ve=0;ve<pe.length;ve++)for(var ge=function(xe,he){for(var he=function(Fe,Je){if(_(Fe)!=="object")Fe=Je;else for(var Ue in Je)Fe[Ue]===void 0&&(Fe[Ue]=Je[Ue]);return Fe}(he,{sampleFactor:.1,simplifyThreshold:0}),je=m(xe,0,1),Ce=je/(je*he.sampleFactor),De=[],Oe=0;Oe<je;Oe+=Ce)De.push(m(xe,Oe));return he.simplifyThreshold&&function(ke){for(var Fe=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,Je=0,Ue=ke.length-1;3<ke.length&&0<=Ue;--Ue)p(f(ke,Ue-1),f(ke,Ue),f(ke,Ue+1),Fe)&&(ke.splice(Ue%ke.length,1),Je++)}(De,he.simplifyThreshold),De}(pe[ve],z),Se=0;Se<ge.length;Se++)ge[Se].x+=X,H=this._handleAlignment(Z._renderer,ee,ge[Se].x,ge[Se].y),ge[Se].x=H.x,ge[Se].y=H.y,J.push(ge[Se]);X+=ae[ce].advanceWidth*this._scale(q)}P+=this.parent._renderer._textLeading}return J}},{key:"_getGlyphs",value:function(k){return this.font.stringToGlyphs(k)}},{key:"_getPath",value:function(k,H,P,q){var z=(q&&q.renderer&&q.renderer._pInst||this.parent)._renderer,H=this._handleAlignment(z,k,H,P);return this.font.getPath(k,H.x,H.y,z._textSize,q)}},{key:"_getPathData",value:function(k,F,P,q){var z=3;return typeof k=="string"&&2<arguments.length?k=this._getPath(k,F,P,q):_(F)==="object"&&(q=F),q&&typeof q.decimals=="number"&&(z=q.decimals),k.toPathData(z)}},{key:"_getSVG",value:function(k,F,P,q){var z=3;return typeof k=="string"&&2<arguments.length?k=this._getPath(k,F,P,q):_(F)==="object"&&(q=F),q&&(typeof q.decimals=="number"&&(z=q.decimals),typeof q.strokeWidth=="number"&&(k.strokeWidth=q.strokeWidth),q.fill!==void 0&&(k.fill=q.fill),q.stroke!==void 0&&(k.stroke=q.stroke)),k.toSVG(z)}},{key:"_renderPath",value:function(Q,Z,K,q){var z=q&&q.renderer||this.parent._renderer,H=z.drawingContext,Q=(_(Q)==="object"&&Q.commands?Q:this._getPath(Q,Z,K,q)).commands,J=(z._clipping||H.beginPath(),!0),Z=!1,K=void 0;try{for(var se,le=Q[Symbol.iterator]();!(J=(se=le.next()).done);J=!0){var M=se.value;M.type==="M"?H.moveTo(M.x,M.y):M.type==="L"?H.lineTo(M.x,M.y):M.type==="C"?H.bezierCurveTo(M.x1,M.y1,M.x2,M.y2,M.x,M.y):M.type==="Q"?H.quadraticCurveTo(M.x1,M.y1,M.x,M.y):M.type==="Z"&&H.closePath()}}catch(G){Z=!0,K=G}finally{try{J||le.return==null||le.return()}finally{if(Z)throw K}}return z._doStroke&&z._strokeSet&&!z._clipping&&H.stroke(),z._doFill&&!z._clipping&&(z._fillSet||z._setFill(a._DEFAULT_TEXT_FILL),H.fill()),this}},{key:"_textWidth",value:function(k,F){return this.font.getAdvanceWidth(k,F)}},{key:"_textAscent",value:function(k){return this.font.ascender*this._scale(k)}},{key:"_textDescent",value:function(k){return-this.font.descender*this._scale(k)}},{key:"_scale",value:function(k){return 1/this.font.unitsPerEm*(k||this.parent._renderer._textSize)}},{key:"_handleAlignment",value:function(k,F,P,q,z){var H=k._textSize;switch(z===void 0&&(z=this._textWidth(F,H)),k._textAlign){case a.CENTER:P-=z/2;break;case a.RIGHT:P-=z}switch(k._textBaseline){case a.TOP:q+=this._textAscent(H);break;case a.CENTER:q+=this._textAscent(H)/2;break;case a.BOTTOM:q-=this._textDescent(H)}return{x:P,y:q}}}])&&w(R.prototype,D),T}(),t=h.default,c.default=t},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.function.name":174,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],322:[function(t,o,c){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.array-buffer.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.array-buffer.constructor"),t("core-js/modules/es.object.to-string"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype.append=function(l,h){return l.push(h),l},t.default.prototype.arrayCopy=function(l,h,a,d,_){var w,f;l=_!==void 0?(f=Math.min(_,l.length),w=d,l.slice(h,f+h)):(f=a!==void 0?(f=a,Math.min(f,l.length)):l.length,a=h,l.slice(w=0,f)),Array.prototype.splice.apply(a,[w,f].concat(l))},t.default.prototype.concat=function(l,h){return l.concat(h)},t.default.prototype.reverse=function(l){return l.reverse()},t.default.prototype.shorten=function(l){return l.pop(),l},t.default.prototype.shuffle=function(l,h){for(var a,d,_=ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(l),w=(l=h||_?l:l.slice()).length;1<w;)a=this.random(0,1)*w|0,d=l[--w],l[w]=l[a],l[a]=d;return l},t.default.prototype.sort=function(l,d){var a=d?l.slice(0,Math.min(d,l.length)):l,d=d?l.slice(Math.min(d,l.length)):[];return(a=typeof a[0]=="string"?a.sort():a.sort(function(_,w){return _-w})).concat(d)},t.default.prototype.splice=function(l,h,a){return Array.prototype.splice.apply(l,[a,0].concat(h)),l},t.default.prototype.subset=function(l,h,a){return a!==void 0?l.slice(h,h+a):l.slice(h,l.length)},t=t.default,c.default=t},{"../core/main":283,"core-js/modules/es.array-buffer.constructor":152,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.to-string":190}],323:[function(t,o,c){t("core-js/modules/es.array.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.repeat"),t("core-js/modules/es.array.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.repeat"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var l=(t=t("../core/main"))&&t.__esModule?t:{default:t};l.default.prototype.float=function(h){return h instanceof Array?h.map(parseFloat):parseFloat(h)},l.default.prototype.int=function(h){var a=1<arguments.length&&arguments[1]!==void 0?arguments[1]:10;return h===1/0||h==="Infinity"?1/0:h===-1/0||h==="-Infinity"?-1/0:typeof h=="string"?parseInt(h,a):typeof h=="number"?0|h:typeof h=="boolean"?h?1:0:h instanceof Array?h.map(function(d){return l.default.prototype.int(d,a)}):void 0},l.default.prototype.str=function(h){return h instanceof Array?h.map(l.default.prototype.str):String(h)},l.default.prototype.boolean=function(h){return typeof h=="number"?h!==0:typeof h=="string"?h.toLowerCase()==="true":typeof h=="boolean"?h:h instanceof Array?h.map(l.default.prototype.boolean):void 0},l.default.prototype.byte=function(h){return h=l.default.prototype.int(h,10),typeof h=="number"?(h+128)%256-128:h instanceof Array?h.map(l.default.prototype.byte):void 0},l.default.prototype.char=function(h){return typeof h!="number"||isNaN(h)?h instanceof Array?h.map(l.default.prototype.char):typeof h=="string"?l.default.prototype.char(parseInt(h,10)):void 0:String.fromCharCode(h)},l.default.prototype.unchar=function(h){return typeof h=="string"&&h.length===1?h.charCodeAt(0):h instanceof Array?h.map(l.default.prototype.unchar):void 0},l.default.prototype.hex=function(h,a){if(a=a??8,h instanceof Array)return h.map(function(_){return l.default.prototype.hex(_,a)});if(h===1/0||h===-1/0)return(h===1/0?"F":"0").repeat(a);if(typeof h=="number"){h<0&&(h=4294967295+h+1);for(var d=Number(h).toString(16).toUpperCase();d.length<a;)d="0".concat(d);return d=d.length>=a?d.substring(d.length-a,d.length):d}},l.default.prototype.unhex=function(h){return h instanceof Array?h.map(l.default.prototype.unhex):parseInt("0x".concat(h),16)},t=l.default,c.default=t},{"../core/main":283,"core-js/modules/es.array.map":168,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.repeat":203}],324:[function(t,o,c){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.pad-start"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.pad-start"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var l=(f=t("../core/main"))&&f.__esModule?f:{default:f};function h(p,b){return function(y){if(Array.isArray(y))return y}(p)||function(y,m){if(Symbol.iterator in Object(y)||Object.prototype.toString.call(y)==="[object Arguments]"){var g=[],v=!0,S=!1,j=void 0;try{for(var A,L=y[Symbol.iterator]();!(v=(A=L.next()).done)&&(g.push(A.value),!m||g.length!==m);v=!0);}catch(C){S=!0,j=C}finally{try{v||L.return==null||L.return()}finally{if(S)throw j}}return g}}(p,b)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function a(p,b,y){var m,g=p<0,S=h((p=Math.abs(p)).toString().split("."),2),v=S[0],S=S[1];return y===void 0?(v=v.padStart(b,"0"),m=S?v+"."+S:v,g?"-"+m:m):(v=(m=h(p.toFixed(y).toString().split("."),2))[0],S=m[1],v=v.padStart(b,"0"),p=S===void 0?v:v+"."+S,g?"-"+p:p)}function d(g,b){var y=(g=g.toString()).indexOf("."),m=y!==-1?g.substring(y):"",g=(g=y!==-1?g.substring(0,y):g).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");if(b===0)m="";else if(b!==void 0)if(b>m.length)for(var v=b-(m+=y===-1?".":"").length+1,S=0;S<v;S++)m+="0";else m=m.substring(0,b+1);return g+m}function _(p){return 0<parseFloat(p)?"+".concat(p.toString()):p.toString()}function w(p){return 0<=parseFloat(p)?" ".concat(p.toString()):p.toString()}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),l.default.prototype.join=function(p,b){return l.default._validateParameters("join",arguments),p.join(b)},l.default.prototype.match=function(p,b){return l.default._validateParameters("match",arguments),p.match(b)},l.default.prototype.matchAll=function(p,b){l.default._validateParameters("matchAll",arguments);for(var y=new RegExp(b,"g"),m=y.exec(p),g=[];m!==null;)g.push(m),m=y.exec(p);return g},l.default.prototype.nf=function(p,b,y){return l.default._validateParameters("nf",arguments),p instanceof Array?p.map(function(m){return a(m,b,y)}):Object.prototype.toString.call(p)==="[object Arguments]"?p.length===3?this.nf(p[0],p[1],p[2]):p.length===2?this.nf(p[0],p[1]):this.nf(p[0]):a(p,b,y)},l.default.prototype.nfc=function(p,b){return l.default._validateParameters("nfc",arguments),p instanceof Array?p.map(function(y){return d(y,b)}):d(p,b)},l.default.prototype.nfp=function(){for(var p=arguments.length,b=new Array(p),y=0;y<p;y++)b[y]=arguments[y];l.default._validateParameters("nfp",b);var m=l.default.prototype.nf.apply(this,b);return m instanceof Array?m.map(_):_(m)},l.default.prototype.nfs=function(){for(var p=arguments.length,b=new Array(p),y=0;y<p;y++)b[y]=arguments[y];l.default._validateParameters("nfs",b);var m=l.default.prototype.nf.apply(this,b);return m instanceof Array?m.map(w):w(m)},l.default.prototype.split=function(p,b){return l.default._validateParameters("split",arguments),p.split(b)},l.default.prototype.splitTokens=function(p,b){var y,m;return l.default._validateParameters("splitTokens",arguments),m=b!==void 0?(m=/\]/g.exec(b=b),(y=/\[/g.exec(b))&&m?(b=b.slice(0,m.index)+b.slice(m.index+1),y=/\[/g.exec(b),b=b.slice(0,y.index)+b.slice(y.index+1),new RegExp("[\\[".concat(b,"\\]]"),"g")):m?(b=b.slice(0,m.index)+b.slice(m.index+1),new RegExp("[".concat(b,"\\]]"),"g")):y?(b=b.slice(0,y.index)+b.slice(y.index+1),new RegExp("[".concat(b,"\\[]"),"g")):new RegExp("[".concat(b,"]"),"g")):/\s/g,p.split(m).filter(function(g){return g})},l.default.prototype.trim=function(p){return l.default._validateParameters("trim",arguments),p instanceof Array?p.map(this.trim):p.trim()};var f=l.default;c.default=f},{"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.pad-start":202,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],325:[function(t,o,c){Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype.day=function(){return new Date().getDate()},t.default.prototype.hour=function(){return new Date().getHours()},t.default.prototype.minute=function(){return new Date().getMinutes()},t.default.prototype.millis=function(){return this._millisStart===-1?0:window.performance.now()-this._millisStart},t.default.prototype.month=function(){return new Date().getMonth()+1},t.default.prototype.second=function(){return new Date().getSeconds()},t.default.prototype.year=function(){return new Date().getFullYear()},t=t.default,c.default=t},{"../core/main":283}],326:[function(t,o,c){function l(p){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(p)}function h(p){return(h=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(b){return l(b)}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":l(b)})(p)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var a=(f=t("../core/main"))&&f.__esModule?f:{default:f},d=(t("./p5.Geometry"),function(p){if(p&&p.__esModule)return p;if(p===null||h(p)!=="object"&&typeof p!="function")return{default:p};var b=_();if(b&&b.has(p))return b.get(p);var y,m={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(y in p){var v;Object.prototype.hasOwnProperty.call(p,y)&&((v=g?Object.getOwnPropertyDescriptor(p,y):null)&&(v.get||v.set)?Object.defineProperty(m,y,v):m[y]=p[y])}return m.default=p,b&&b.set(p,m),m}(t("../core/constants")));function _(){var p;return typeof WeakMap!="function"?null:(p=new WeakMap,_=function(){return p},p)}a.default.prototype.beginGeometry=function(){return this._renderer.beginGeometry()},a.default.prototype.endGeometry=function(){return this._renderer.endGeometry()},a.default.prototype.buildGeometry=function(p){return this._renderer.buildGeometry(p)},a.default.prototype.freeGeometry=function(p){this._renderer._freeBuffers(p.gid)},a.default.prototype.plane=function(){var p,b=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,y=1<arguments.length&&arguments[1]!==void 0?arguments[1]:b,m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:1,g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:1,v=(this._assert3d("plane"),a.default._validateParameters("plane",arguments),"plane|".concat(m,"|").concat(g));return this._renderer.geometryInHash(v)||((p=new a.default.Geometry(m,g,function(){for(var S,j,A=0;A<=this.detailY;A++)for(var L=A/this.detailY,C=0;C<=this.detailX;C++)S=C/this.detailX,j=new a.default.Vector(S-.5,L-.5,0),this.vertices.push(j),this.uvs.push(S,L)})).computeFaces().computeNormals(),m<=1&&g<=1?p._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on plane objects with more than 1 detailX or 1 detailY"),this._renderer.createBuffers(v,p)),this._renderer.drawBuffersScaled(v,b,y,1),this},a.default.prototype.box=function(p,b,y,m,g){this._assert3d("box"),a.default._validateParameters("box",arguments),p===void 0&&(p=50),b===void 0&&(b=p),y===void 0&&(y=b);var v,S=this._renderer.attributes&&this._renderer.attributes.perPixelLighting,S=(g===void 0&&(g=S?1:4),"box|".concat(m=m===void 0?S?1:4:m,"|").concat(g));return this._renderer.geometryInHash(S)||((v=new a.default.Geometry(m,g,function(){var j=this;this.edges=[[0,1],[1,3],[3,2],[6,7],[8,9],[9,11],[14,15],[16,17],[17,19],[18,19],[20,21],[22,23]],[[0,4,2,6],[1,3,5,7],[0,1,4,5],[2,6,3,7],[0,2,1,3],[4,5,6,7]].forEach(function(A,L){for(var L=4*L,C=0;C<4;C++){var T=A[C],T=new a.default.Vector((2*(1&T)-1)/2,((2&T)-1)/2,((4&T)/2-1)/2);j.vertices.push(T),j.uvs.push(1&C,(2&C)/2)}j.faces.push([L,1+L,2+L]),j.faces.push([2+L,1+L,3+L])})})).computeNormals(),m<=4&&g<=4?v._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on box objects with more than 4 detailX or 4 detailY"),this._renderer.createBuffers(S,v)),this._renderer.drawBuffersScaled(S,p,b,y),this},a.default.prototype.sphere=function(){var p=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:24,y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:16;return this._assert3d("sphere"),a.default._validateParameters("sphere",arguments),this.ellipsoid(p,p,p,b,y),this};function w(p,b,y,m,g,v,S){p=p<=0?1:p,b=b<0?0:b,y=y<=0?p:y,m=m<3?3:m;for(var j,A,L=(v=v===void 0||v)?-2:0,C=(g=g<1?1:g)+((S=S===void 0?b!==0:S)?2:0),T=Math.atan2(p-b,y),R=Math.sin(T),D=Math.cos(T),k=L;k<=C;++k){var F=k/g,P=y*F,q=void 0,q=k<0?(F=P=0,p):g<k?(P=y,F=1,b):p+(b-p)*F;for(k!==-2&&k!==g+2||(q=0),P-=y/2,j=0;j<m;++j){var z=j/(m-1),Q=2*Math.PI*z,H=Math.sin(Q),Q=Math.cos(Q),J=(this.vertices.push(new a.default.Vector(H*q,P,Q*q)),void 0),J=k<0?new a.default.Vector(0,-1,0):g<k&&b?new a.default.Vector(0,1,0):new a.default.Vector(H*D,R,Q*D);this.vertexNormals.push(J),this.uvs.push(z,F)}}var Z=0;if(v){for(A=0;A<m;++A)this.faces.push([Z+A,Z+m+(A+1)%m,Z+m+A]);Z+=2*m}for(k=0;k<g;++k){for(j=0;j<m;++j){var K=(j+1)%m;this.faces.push([Z+j,Z+K,Z+m+K]),this.faces.push([Z+j,Z+m+K,Z+m+j])}Z+=m}if(S)for(Z+=m,j=0;j<m;++j)this.faces.push([Z+j,Z+(j+1)%m,Z+m])}a.default.prototype.cylinder=function(){var p,b=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,y=1<arguments.length&&arguments[1]!==void 0?arguments[1]:b,m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:24,g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:1,v=!(4<arguments.length&&arguments[4]!==void 0)||arguments[4],S=!(5<arguments.length&&arguments[5]!==void 0)||arguments[5],j=(this._assert3d("cylinder"),a.default._validateParameters("cylinder",arguments),"cylinder|".concat(m,"|").concat(g,"|").concat(v,"|").concat(S));return this._renderer.geometryInHash(j)||(p=new a.default.Geometry(m,g),w.call(p,1,1,1,m,g,v,S),m<=24&&g<=16?p._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cylinder objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(j,p)),this._renderer.drawBuffersScaled(j,b,y,b),this},a.default.prototype.cone=function(){var p,b=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,y=1<arguments.length&&arguments[1]!==void 0?arguments[1]:b,m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:24,g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:1,v=!(4<arguments.length&&arguments[4]!==void 0)||arguments[4],S=(this._assert3d("cone"),a.default._validateParameters("cone",arguments),"cone|".concat(m,"|").concat(g,"|").concat(v));return this._renderer.geometryInHash(S)||(p=new a.default.Geometry(m,g),w.call(p,1,0,1,m,g,v,!1),m<=24&&g<=16?p._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cone objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(S,p)),this._renderer.drawBuffersScaled(S,b,y,b),this},a.default.prototype.ellipsoid=function(){var p,b=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,y=1<arguments.length&&arguments[1]!==void 0?arguments[1]:b,m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:b,g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:24,v=4<arguments.length&&arguments[4]!==void 0?arguments[4]:16,S=(this._assert3d("ellipsoid"),a.default._validateParameters("ellipsoid",arguments),"ellipsoid|".concat(g,"|").concat(v));return this._renderer.geometryInHash(S)||((p=new a.default.Geometry(g,v,function(){for(var j=0;j<=this.detailY;j++)for(var A=j/this.detailY,L=Math.PI*A-Math.PI/2,C=Math.cos(L),T=Math.sin(L),R=0;R<=this.detailX;R++){var D=R/this.detailX,F=2*Math.PI*D,k=Math.cos(F),F=Math.sin(F),F=new a.default.Vector(C*F,T,C*k);this.vertices.push(F),this.vertexNormals.push(F),this.uvs.push(D,A)}})).computeFaces(),g<=24&&v<=24?p._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on ellipsoids with more than 24 detailX or 24 detailY"),this._renderer.createBuffers(S,p)),this._renderer.drawBuffersScaled(S,b,y,m),this},a.default.prototype.torus=function(p,S,y,m){if(this._assert3d("torus"),a.default._validateParameters("torus",arguments),p===void 0)p=50;else if(!p)return;if(S===void 0)S=10;else if(!S)return;y===void 0&&(y=24),m===void 0&&(m=16);var g,v=(S/p).toPrecision(4),S="torus|".concat(v,"|").concat(y,"|").concat(m);return this._renderer.geometryInHash(S)||((g=new a.default.Geometry(y,m,function(){for(var j=0;j<=this.detailY;j++)for(var A=j/this.detailY,L=2*Math.PI*A,C=Math.cos(L),T=Math.sin(L),R=1+v*C,D=0;D<=this.detailX;D++){var k=D/this.detailX,F=2*Math.PI*k,q=Math.cos(F),F=Math.sin(F),P=new a.default.Vector(R*q,R*F,v*T),q=new a.default.Vector(C*q,C*F,T);this.vertices.push(P),this.vertexNormals.push(q),this.uvs.push(k,A)}})).computeFaces(),y<=24&&m<=16?g._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw strokes on torus object with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(S,g)),this._renderer.drawBuffersScaled(S,p,p,p),this},a.default.RendererGL.prototype.point=function(p,b){var y=[];return y.push(new a.default.Vector(p,b,2<arguments.length&&arguments[2]!==void 0?arguments[2]:0)),this._drawPoints(y,this.immediateMode.buffers.point),this},a.default.RendererGL.prototype.triangle=function(S){var b=S[0],y=S[1],m=S[2],g=S[3],v=S[4],S=S[5],j=(this.geometryInHash("tri")||((j=new a.default.Geometry(1,1,function(){var C=[];C.push(new a.default.Vector(0,0,0)),C.push(new a.default.Vector(1,0,0)),C.push(new a.default.Vector(0,1,0)),this.edges=[[0,1],[1,2],[2,0]],this.vertices=C,this.faces=[[0,1,2]],this.uvs=[0,0,1,0,1,1]}))._edgesToVertices(),j.computeNormals(),this.createBuffers("tri",j)),this.uModelMatrix.copy());try{var A=Math.sign(b*g-m*y+m*S-v*g+v*y-b*S),L=new a.default.Matrix([m-b,g-y,0,0,v-b,S-y,0,0,0,0,A,0,b,y,0,1]).mult(this.uModelMatrix);this.uModelMatrix=L,this.drawBuffers("tri")}finally{this.uModelMatrix=j}return this},a.default.RendererGL.prototype.ellipse=function(p){this.arc(p[0],p[1],p[2],p[3],0,d.TWO_PI,d.OPEN,p[4])},a.default.RendererGL.prototype.arc=function(){var p,b=arguments.length<=0?void 0:arguments[0],y=arguments.length<=1?void 0:arguments[1],m=arguments.length<=2?void 0:arguments[2],g=arguments.length<=3?void 0:arguments[3],v=arguments.length<=4?void 0:arguments[4],S=arguments.length<=5?void 0:arguments[5],j=arguments.length<=6?void 0:arguments[6],A=(arguments.length<=7?void 0:arguments[7])||25,L=(Math.abs(S-v)>=d.TWO_PI?"".concat(C="ellipse","|"):"".concat(C="arc","|").concat(v,"|").concat(S,"|").concat(j,"|")).concat(A,"|"),C=(this.geometryInHash(L)||((p=new a.default.Geometry(A,1,function(){if(v.toFixed(10)!==S.toFixed(10)){j!==d.PIE&&j!==void 0||(this.vertices.push(new a.default.Vector(.5,.5,0)),this.uvs.push([.5,.5]));for(var T=0;T<=A;T++){var D=(S-v)*(T/A)+v,R=.5+Math.cos(D)/2,D=.5+Math.sin(D)/2;this.vertices.push(new a.default.Vector(R,D,0)),this.uvs.push([R,D]),T<A-1&&(this.faces.push([0,T+1,T+2]),this.edges.push([T+1,T+2]))}switch(j){case d.PIE:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,1]),this.edges.push([this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,this.vertices.length-1]);break;case d.CHORD:this.edges.push([0,1]),this.edges.push([0,this.vertices.length-1]);break;case d.OPEN:this.edges.push([0,1]);break;default:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([this.vertices.length-2,this.vertices.length-1])}}})).computeNormals(),A<=50?p._edgesToVertices(p):this._doStroke&&console.log("Cannot apply a stroke to an ".concat(C," with more than 50 detail")),this.createBuffers(L,p)),this.uModelMatrix.copy());try{this.uModelMatrix.translate([b,y,0]),this.uModelMatrix.scale(m,g,1),this.drawBuffers(L)}finally{this.uModelMatrix=C}return this},a.default.RendererGL.prototype.rect=function(p){var b=p[0],y=p[1],m=p[2],g=p[3];if(p[4]===void 0){var j=this._pInst._glAttributes.perPixelLighting,v=p[4]||(j?1:24),S=p[5]||(j?1:16),j="rect|".concat(v,"|").concat(S),A=(this.geometryInHash(j)||((A=new a.default.Geometry(v,S,function(){for(var J=0;J<=this.detailY;J++)for(var Z=J/this.detailY,K=0;K<=this.detailX;K++){var se=K/this.detailX,le=new a.default.Vector(se,Z,0);this.vertices.push(le),this.uvs.push(se,Z)}0<v&&0<S&&(this.edges=[[0,v],[v,(v+1)*(S+1)-1],[(v+1)*(S+1)-1,(v+1)*S],[(v+1)*S,0]])})).computeFaces().computeNormals()._edgesToVertices(),this.createBuffers(j,A)),this.uModelMatrix.copy());try{this.uModelMatrix.translate([b,y,0]),this.uModelMatrix.scale(m,g,1),this.drawBuffers(j)}finally{this.uModelMatrix=A}}else{var j=p[4],A=p[5]===void 0?j:p[5],L=p[6]===void 0?A:p[6],p=p[7]===void 0?L:p[7],F=m,C=g,D=((F+=b)<b&&(D=b,b=F,F=D),(C+=y)<y&&(D=y,y=C,C=D),Math.min((F-b)/2,(C-y)/2)),T=(D<j&&(j=D),D<A&&(A=D),D<L&&(L=D),D<p&&(p=D),b),R=y,D=F,b=C,k=(this.beginShape(),A!==0?(this.vertex(D-A,R),this.quadraticVertex(D,R,D,R+A)):this.vertex(D,R),L!==0?(this.vertex(D,b-L),this.quadraticVertex(D,b,D-L,b)):this.vertex(D,b),p!==0?(this.vertex(T+p,b),this.quadraticVertex(T,b,T,b-p)):this.vertex(T,b),j!==0?(this.vertex(T,R+j),this.quadraticVertex(T,R,T+j,R)):this.vertex(T,R),!(this.immediateMode.geometry.uvs.length=0)),y=!1,F=void 0;try{for(var P,q=this.immediateMode.geometry.vertices[Symbol.iterator]();!(k=(P=q.next()).done);k=!0){var z=P.value,H=(z.x-T)/m,Q=(z.y-R)/g;this.immediateMode.geometry.uvs.push(H,Q)}}catch(M){y=!0,F=M}finally{try{k||q.return==null||q.return()}finally{if(y)throw F}}this.endShape(d.CLOSE)}return this},a.default.RendererGL.prototype.quad=function(p,b,y,m,g,v,S,j,A,L,C,T){var R=12<arguments.length&&arguments[12]!==void 0?arguments[12]:2,D=13<arguments.length&&arguments[13]!==void 0?arguments[13]:2,k="quad|".concat(p,"|").concat(b,"|").concat(y,"|").concat(m,"|").concat(g,"|").concat(v,"|").concat(S,"|").concat(j,"|").concat(A,"|").concat(L,"|").concat(C,"|").concat(T,"|").concat(R,"|").concat(D);if(!this.geometryInHash(k)){var F=new a.default.Geometry(R,D,function(){for(var K=1/(this.detailX-1),se=1/(this.detailY-1),le=0;le<this.detailY;le++)for(var M=0;M<this.detailX;M++){var G=M*K,X=le*se;this.vertices.push(new a.default.Vector((1-G)*((1-X)*p+X*L)+G*((1-X)*m+X*S),(1-G)*((1-X)*b+X*C)+G*((1-X)*g+X*j),(1-G)*((1-X)*y+X*T)+G*((1-X)*v+X*A))),this.uvs.push([G,X])}});F.faces=[];for(var P=0;P<D-1;P++)for(var q=0;q<R-1;q++){var z=q+P*R,H=q+1+(P+1)*R,Q=q+(P+1)*R;F.faces.push([z,q+1+P*R,H]),F.faces.push([z,H,Q])}F.computeNormals();for(var J=[F.edges.length=0,2,3,1],Z=0;Z<J.length;Z++)F.edges.push([J[Z],J[(Z+1)%J.length]]);F._edgesToVertices(),this.createBuffers(k,F)}return this.drawBuffers(k),this},a.default.RendererGL.prototype.bezier=function(p,b,y,m,g,v,S,j,A,L,C,T){arguments.length===8&&(C=j,L=S,j=v,S=g,g=m,m=y,y=v=A=T=0);var R=this._pInst._bezierDetail||20;this.beginShape();for(var D=0;D<=R;D++){var k=Math.pow(1-D/R,3),F=D/R*3*Math.pow(1-D/R,2),P=3*Math.pow(D/R,2)*(1-D/R),q=Math.pow(D/R,3);this.vertex(p*k+m*F+S*P+L*q,b*k+g*F+j*P+C*q,y*k+v*F+A*P+T*q)}return this.endShape(),this},a.default.RendererGL.prototype.curve=function(p,b,y,m,g,v,S,j,A,L,C,T){arguments.length===8&&(L=S,C=j,S=g,j=m,g=m=y,y=v=A=T=0);var R=this._pInst._curveDetail;this.beginShape();for(var D=0;D<=R;D++){var k=.5*Math.pow(D/R,3),F=.5*Math.pow(D/R,2),P=D/R*.5;this.vertex(k*(3*m-p-3*S+L)+F*(2*p-5*m+4*S-L)+P*(-p+S)+2*m*.5,k*(3*g-b-3*j+C)+F*(2*b-5*g+4*j-C)+P*(-b+j)+2*g*.5,k*(3*v-y-3*A+T)+F*(2*y-5*v+4*A-T)+P*(-y+A)+2*v*.5)}return this.endShape(),this},a.default.RendererGL.prototype.line=function(){return arguments.length===6?(this.beginShape(d.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]),this.vertex(arguments.length<=3?void 0:arguments[3],arguments.length<=4?void 0:arguments[4],arguments.length<=5?void 0:arguments[5]),this.endShape()):arguments.length===4&&(this.beginShape(d.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],0),this.vertex(arguments.length<=2?void 0:arguments[2],arguments.length<=3?void 0:arguments[3],0),this.endShape()),this},a.default.RendererGL.prototype.bezierVertex=function(){if(this.immediateMode._bezierVertex.length===0)throw Error("vertex() must be used once before calling bezierVertex()");var p,b,y,m,g,v,S=[],j=[],A=arguments.length;if(this._lookUpTableBezier.length===0||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var L=1/this._lutBezierDetail,C=L,T=1,R=0;C<1;){if(v=parseFloat(C.toFixed(6)),this._lookUpTableBezier[R]=this._bezierCoefficients(v),T.toFixed(6)===L.toFixed(6)){v=parseFloat(T.toFixed(6))+parseFloat(C.toFixed(6)),++R,this._lookUpTableBezier[R]=this._bezierCoefficients(v);break}C+=L,T-=L,++R}}for(var D=this._lookUpTableBezier.length,k=[],F=0;F<4;F++)k.push([]);k[0]=this.immediateMode.geometry.vertexColors.slice(-4),k[3]=this.curFillColor.slice();var P=[];for(F=0;F<4;F++)P.push([]);if(P[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),P[3]=this.curStrokeColor.slice(),A===6){this.isBezier=!0;var S=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2],arguments.length<=4?void 0:arguments[4]],j=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3],arguments.length<=5?void 0:arguments[5]],q=Math.hypot(S[0]-S[1],j[0]-j[1]),H=Math.hypot(S[1]-S[2],j[1]-j[2]),z=Math.hypot(S[2]-S[3],j[2]-j[3]),H=q+H+z;for(q/=H,z/=H,g=0;g<4;g++)k[1].push(k[0][g]*(1-q)+k[3][g]*q),k[2].push(k[0][g]*z+k[3][g]*(1-z)),P[1].push(P[0][g]*(1-q)+P[3][g]*q),P[2].push(P[0][g]*z+P[3][g]*(1-z));for(m=0;m<D;m++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],F=p=b=0;F<4;F++){for(g=0;g<4;g++)this.curFillColor[g]+=this._lookUpTableBezier[m][F]*k[F][g],this.curStrokeColor[g]+=this._lookUpTableBezier[m][F]*P[F][g];p+=S[F]*this._lookUpTableBezier[m][F],b+=j[F]*this._lookUpTableBezier[m][F]}this.vertex(p,b)}this.curFillColor=k[3],this.curStrokeColor=P[3],this.immediateMode._bezierVertex[0]=arguments.length<=4?void 0:arguments[4],this.immediateMode._bezierVertex[1]=arguments.length<=5?void 0:arguments[5]}else if(A===9){this.isBezier=!0,S=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3],arguments.length<=6?void 0:arguments[6]],j=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4],arguments.length<=7?void 0:arguments[7]];var Q=[this.immediateMode._bezierVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5],arguments.length<=8?void 0:arguments[8]],J=Math.hypot(S[0]-S[1],j[0]-j[1],Q[0]-Q[1]),H=Math.hypot(S[1]-S[2],j[1]-j[2],Q[1]-Q[2]),Z=Math.hypot(S[2]-S[3],j[2]-j[3],Q[2]-Q[3]),A=J+H+Z;for(J/=A,Z/=A,g=0;g<4;g++)k[1].push(k[0][g]*(1-J)+k[3][g]*J),k[2].push(k[0][g]*Z+k[3][g]*(1-Z)),P[1].push(P[0][g]*(1-J)+P[3][g]*J),P[2].push(P[0][g]*Z+P[3][g]*(1-Z));for(m=0;m<D;m++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],F=p=b=y=0;F<4;F++){for(g=0;g<4;g++)this.curFillColor[g]+=this._lookUpTableBezier[m][F]*k[F][g],this.curStrokeColor[g]+=this._lookUpTableBezier[m][F]*P[F][g];p+=S[F]*this._lookUpTableBezier[m][F],b+=j[F]*this._lookUpTableBezier[m][F],y+=Q[F]*this._lookUpTableBezier[m][F]}this.vertex(p,b,y)}this.curFillColor=k[3],this.curStrokeColor=P[3],this.immediateMode._bezierVertex[0]=arguments.length<=6?void 0:arguments[6],this.immediateMode._bezierVertex[1]=arguments.length<=7?void 0:arguments[7],this.immediateMode._bezierVertex[2]=arguments.length<=8?void 0:arguments[8]}},a.default.RendererGL.prototype.quadraticVertex=function(){if(this.immediateMode._quadraticVertex.length===0)throw Error("vertex() must be used once before calling quadraticVertex()");var p,b,y,m,g,v,S=[],j=[],A=arguments.length;if(this._lookUpTableQuadratic.length===0||this._lutQuadraticDetail!==this._pInst._curveDetail){this._lookUpTableQuadratic=[],this._lutQuadraticDetail=this._pInst._curveDetail;for(var L=1/this._lutQuadraticDetail,C=L,T=1,R=0;C<1;){if(v=parseFloat(C.toFixed(6)),this._lookUpTableQuadratic[R]=this._quadraticCoefficients(v),T.toFixed(6)===L.toFixed(6)){v=parseFloat(T.toFixed(6))+parseFloat(C.toFixed(6)),++R,this._lookUpTableQuadratic[R]=this._quadraticCoefficients(v);break}C+=L,T-=L,++R}}for(var D=this._lookUpTableQuadratic.length,k=[],F=0;F<3;F++)k.push([]);k[0]=this.immediateMode.geometry.vertexColors.slice(-4),k[2]=this.curFillColor.slice();var P=[];for(F=0;F<3;F++)P.push([]);if(P[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),P[2]=this.curStrokeColor.slice(),A===4){this.isQuadratic=!0;var S=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2]],j=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3]],q=Math.hypot(S[0]-S[1],j[0]-j[1]);for(q/=q+Math.hypot(S[1]-S[2],j[1]-j[2]),g=0;g<4;g++)k[1].push(k[0][g]*(1-q)+k[2][g]*q),P[1].push(P[0][g]*(1-q)+P[2][g]*q);for(m=0;m<D;m++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],F=p=b=0;F<3;F++){for(g=0;g<4;g++)this.curFillColor[g]+=this._lookUpTableQuadratic[m][F]*k[F][g],this.curStrokeColor[g]+=this._lookUpTableQuadratic[m][F]*P[F][g];p+=S[F]*this._lookUpTableQuadratic[m][F],b+=j[F]*this._lookUpTableQuadratic[m][F]}this.vertex(p,b)}this.curFillColor=k[2],this.curStrokeColor=P[2],this.immediateMode._quadraticVertex[0]=arguments.length<=2?void 0:arguments[2],this.immediateMode._quadraticVertex[1]=arguments.length<=3?void 0:arguments[3]}else if(A===6){this.isQuadratic=!0,S=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3]],j=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4]];var z=[this.immediateMode._quadraticVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5]],H=Math.hypot(S[0]-S[1],j[0]-j[1],z[0]-z[1]);for(H/=H+Math.hypot(S[1]-S[2],j[1]-j[2],z[1]-z[2]),g=0;g<4;g++)k[1].push(k[0][g]*(1-H)+k[2][g]*H),P[1].push(P[0][g]*(1-H)+P[2][g]*H);for(m=0;m<D;m++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],F=p=b=y=0;F<3;F++){for(g=0;g<4;g++)this.curFillColor[g]+=this._lookUpTableQuadratic[m][F]*k[F][g],this.curStrokeColor[g]+=this._lookUpTableQuadratic[m][F]*P[F][g];p+=S[F]*this._lookUpTableQuadratic[m][F],b+=j[F]*this._lookUpTableQuadratic[m][F],y+=z[F]*this._lookUpTableQuadratic[m][F]}this.vertex(p,b,y)}this.curFillColor=k[2],this.curStrokeColor=P[2],this.immediateMode._quadraticVertex[0]=arguments.length<=3?void 0:arguments[3],this.immediateMode._quadraticVertex[1]=arguments.length<=4?void 0:arguments[4],this.immediateMode._quadraticVertex[2]=arguments.length<=5?void 0:arguments[5]}},a.default.RendererGL.prototype.curveVertex=function(){var p,b,y,m,g,v,S=[],j=[],A=arguments.length;if(this._lookUpTableBezier.length===0||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var L=1/this._lutBezierDetail,C=L,T=1,R=0;C<1;){if(v=parseFloat(C.toFixed(6)),this._lookUpTableBezier[R]=this._bezierCoefficients(v),T.toFixed(6)===L.toFixed(6)){v=parseFloat(T.toFixed(6))+parseFloat(C.toFixed(6)),++R,this._lookUpTableBezier[R]=this._bezierCoefficients(v);break}C+=L,T-=L,++R}}var D=this._lookUpTableBezier.length;if(A===2){if(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.length===8){for(this.isCurve=!0,S=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[6]]),j=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[7]]),g=0;g<D;g++)b=S[0]*this._lookUpTableBezier[g][0]+S[1]*this._lookUpTableBezier[g][1]+S[2]*this._lookUpTableBezier[g][2]+S[3]*this._lookUpTableBezier[g][3],y=j[0]*this._lookUpTableBezier[g][0]+j[1]*this._lookUpTableBezier[g][1]+j[2]*this._lookUpTableBezier[g][2]+j[3]*this._lookUpTableBezier[g][3],this.vertex(b,y);for(g=0;g<A;g++)this.immediateMode._curveVertex.shift()}}else if(A===3&&(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.push(arguments.length<=2?void 0:arguments[2]),this.immediateMode._curveVertex.length===12)){for(this.isCurve=!0,S=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[6],this.immediateMode._curveVertex[9]]),j=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[7],this.immediateMode._curveVertex[10]]),p=this._bezierToCatmull([this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[8],this.immediateMode._curveVertex[11]]),g=0;g<D;g++)b=S[0]*this._lookUpTableBezier[g][0]+S[1]*this._lookUpTableBezier[g][1]+S[2]*this._lookUpTableBezier[g][2]+S[3]*this._lookUpTableBezier[g][3],y=j[0]*this._lookUpTableBezier[g][0]+j[1]*this._lookUpTableBezier[g][1]+j[2]*this._lookUpTableBezier[g][2]+j[3]*this._lookUpTableBezier[g][3],m=p[0]*this._lookUpTableBezier[g][0]+p[1]*this._lookUpTableBezier[g][1]+p[2]*this._lookUpTableBezier[g][2]+p[3]*this._lookUpTableBezier[g][3],this.vertex(b,y,m);for(g=0;g<A;g++)this.immediateMode._curveVertex.shift()}},a.default.RendererGL.prototype.image=function(p,T,y,R,g,v,S,j,A){this._isErasing&&this.blendMode(this._cachedBlendMode),this._pInst.push(),this._pInst.noLights(),this._pInst.noStroke(),this._pInst.texture(p),this._pInst.textureMode(d.NORMAL);var L=0,C=(T<=p.width&&(L=T/p.width),1),T=(T+R<=p.width&&(C=(T+R)/p.width),0),R=(y<=p.height&&(T=y/p.height),1);y+g<=p.height&&(R=(y+g)/p.height),this.beginShape(),this.vertex(v,S,0,L,T),this.vertex(v+j,S,0,C,T),this.vertex(v+j,S+A,0,C,R),this.vertex(v,S+A,0,L,R),this.endShape(d.CLOSE),this._pInst.pop(),this._isErasing&&this.blendMode(d.REMOVE)};var f=a.default;c.default=f},{"../core/constants":272,"../core/main":283,"./p5.Geometry":335,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.hypot":176,"core-js/modules/es.math.sign":178,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],327:[function(t,o,c){function l(b){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(b)}function h(b){return(h=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(y){return l(y)}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":l(y)})(b)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.map"),t("core-js/modules/es.object.assign"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var a=(p=t("../core/main"))&&p.__esModule?p:{default:p},d=function(b){if(b&&b.__esModule)return b;if(b===null||h(b)!=="object"&&typeof b!="function")return{default:b};var y=_();if(y&&y.has(b))return y.get(b);var m,g={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(m in b){var S;Object.prototype.hasOwnProperty.call(b,m)&&((S=v?Object.getOwnPropertyDescriptor(b,m):null)&&(S.get||S.set)?Object.defineProperty(g,m,S):g[m]=b[m])}return g.default=b,y&&y.set(b,g),g}(t("../core/constants"));function _(){var b;return typeof WeakMap!="function"?null:(b=new WeakMap,_=function(){return b},b)}function w(b){return function(y){if(Array.isArray(y)){for(var m=0,g=new Array(y.length);m<y.length;m++)g[m]=y[m];return g}}(b)||function(y){if(Symbol.iterator in Object(y)||Object.prototype.toString.call(y)==="[object Arguments]")return Array.from(y)}(b)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function f(b,y){for(var m=0;m<y.length;m++){var g=y[m];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(b,g.key,g)}}var p=function(){function b(g){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");(this.renderer=g)._pInst.push(),this.identityMatrix=new a.default.Matrix,g.uModelMatrix=new a.default.Matrix,this.geometry=new a.default.Geometry,this.geometry.gid="_p5_GeometryBuilder_".concat(b.nextGeometryId),b.nextGeometryId++,this.hasTransform=!1}var y,m;return y=b,(m=[{key:"transformVertices",value:function(g){var v=this;return this.hasTransform?g.map(function(S){return v.renderer.uModelMatrix.multiplyPoint(S)}):g}},{key:"transformNormals",value:function(g){var v=this;return this.hasTransform?g.map(function(S){return v.renderer.uNMatrix.multiplyVec3(S)}):g}},{key:"addGeometry",value:function(g){for(var v,S=this,j=(this.hasTransform=!this.renderer.uModelMatrix.mat4.every(function(L,C){return L===S.identityMatrix.mat4[C]}),this.hasTransform&&this.renderer.uNMatrix.inverseTranspose(this.renderer.uModelMatrix),this.geometry.vertices.length),A=((v=this.geometry.vertices).push.apply(v,w(this.transformVertices(g.vertices))),(v=this.geometry.vertexNormals).push.apply(v,w(this.transformNormals(g.vertexNormals))),(v=this.geometry.uvs).push.apply(v,w(g.uvs)),this.renderer._doFill&&(v=this.geometry.faces).push.apply(v,w(g.faces.map(function(L){return L.map(function(C){return C+j})}))),this.renderer._doStroke&&(v=this.geometry.edges).push.apply(v,w(g.edges.map(function(L){return L.map(function(C){return C+j})}))),w(g.vertexColors));A.length<4*g.vertices.length;)A.push.apply(A,w(this.renderer.curFillColor));(v=this.geometry.vertexColors).push.apply(v,w(A))}},{key:"addImmediate",value:function(){var g=this.renderer.immediateMode.geometry,v=this.renderer.immediateMode.shapeMode,S=[];if(this.renderer._doFill)if(v===d.TRIANGLE_STRIP||v===d.QUAD_STRIP)for(var j=2;j<g.vertices.length;j++)j%2==0?S.push([j,j-1,j-2]):S.push([j,j-2,j-1]);else if(v===d.TRIANGLE_FAN)for(var A=2;A<g.vertices.length;A++)S.push([0,A-1,A]);else for(var L=0;L<g.vertices.length;L+=3)S.push([L,L+1,L+2]);this.addGeometry(Object.assign({},g,{faces:S}))}},{key:"addRetained",value:function(g){this.addGeometry(g.model)}},{key:"finish",value:function(){return this.renderer._pInst.pop(),this.geometry}}])&&f(y.prototype,m),b}();p.nextGeometryId=0,c.default=p},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.every":155,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],328:[function(t,o,c){function l(f){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(f)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var h=(w=t("../core/main"))&&w.__esModule?w:{default:w},a=function(f){if(f&&f.__esModule)return f;if(f===null||_(f)!=="object"&&typeof f!="function")return{default:f};var p=d();if(p&&p.has(f))return p.get(f);var b,y={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(b in f){var g;Object.prototype.hasOwnProperty.call(f,b)&&((g=m?Object.getOwnPropertyDescriptor(f,b):null)&&(g.get||g.set)?Object.defineProperty(y,b,g):y[b]=f[b])}return y.default=f,p&&p.set(f,y),y}(t("../core/constants"));function d(){var f;return typeof WeakMap!="function"?null:(f=new WeakMap,d=function(){return f},f)}function _(f){return(_=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(p){return l(p)}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":l(p)})(f)}h.default.prototype.orbitControl=function(f,p,b,A){var m=this,g=(this._assert3d("orbitControl"),h.default._validateParameters("orbitControl",arguments),this._renderer._curCamera);f===void 0&&(f=1),p===void 0&&(p=f),b===void 0&&(b=1),_(A)!=="object"&&(A={}),this.contextMenuDisabled!==!0&&(this.canvas.oncontextmenu=function(){return!1},this._setProperty("contextMenuDisabled",!0)),this.wheelDefaultDisabled!==!0&&(this.canvas.onwheel=function(){return!1},this._setProperty("wheelDefaultDisabled",!0));var C=A.disableTouchActions;this.touchActionsDisabled===!0||C!==void 0&&!C||(this.canvas.style["touch-action"]="none",this._setProperty("touchActionsDisabled",!0));var v,S,j,C=A.freeRotation,A=C!==void 0&&C,L=[],C=(this.touches.forEach(function(q){m._renderer.prevTouches.forEach(function(z){q.id===z.id&&(z={x:q.x,y:q.y,px:z.x,py:z.y},L.push(z))})}),this._renderer.prevTouches=this.touches,0),T=0,R=0,D=0,k=0,F=this.height<this.width?this.height:this.width,P=!1;return 0<L.length?(P=0<L[0].x&&L[0].x<this.width&&0<L[0].y&&L[0].y<this.height,L.length===1?(T=-f*((v=L[0]).x-v.px)/F,R=p*(v.y-v.py)/F):(v=L[0],S=L[1],C=-(Math.hypot(v.x-S.x,v.y-S.y)-Math.hypot(v.px-S.px,v.py-S.py))*b*4e-4,D=.5*(v.x+S.x)-.5*(v.px+S.px),k=.5*(v.y+S.y)-.5*(v.py+S.py)),0<this.touches.length?P&&(this._renderer.executeRotateAndMove=!0,this._renderer.executeZoom=!0):(this._renderer.executeRotateAndMove=!1,this._renderer.executeZoom=!1)):(P=0<this.mouseX&&this.mouseX<this.width&&0<this.mouseY&&this.mouseY<this.height,this._mouseWheelDeltaY!==0?(C=Math.sign(this._mouseWheelDeltaY)*b,C*=.01,this._mouseWheelDeltaY=0,P&&(this._renderer.executeZoom=!0)):this._renderer.executeZoom=!1,this.mouseIsPressed?(this.mouseButton===this.LEFT?(T=-f*this.movedX/F,R=p*this.movedY/F):this.mouseButton===this.RIGHT&&(D=this.movedX,k=this.movedY*g.yScale),P&&(this._renderer.executeRotateAndMove=!0)):this._renderer.executeRotateAndMove=!1),C!==0&&this._renderer.executeZoom&&(this._renderer.zoomVelocity+=C),.001<Math.abs(this._renderer.zoomVelocity)?(A?g._orbitFree(0,0,this._renderer.zoomVelocity):g._orbit(0,0,this._renderer.zoomVelocity),g.projMatrix.mat4[15]!==0&&(g.projMatrix.mat4[0]*=Math.pow(10,-this._renderer.zoomVelocity),g.projMatrix.mat4[5]*=Math.pow(10,-this._renderer.zoomVelocity),this._renderer.uPMatrix.mat4[0]=g.projMatrix.mat4[0],this._renderer.uPMatrix.mat4[5]=g.projMatrix.mat4[5]),this._renderer.zoomVelocity*=.85):this._renderer.zoomVelocity=0,T===0&&R===0||!this._renderer.executeRotateAndMove||this._renderer.rotateVelocity.add(.6*T,.6*R),1e-6<this._renderer.rotateVelocity.magSq()?(A?g._orbitFree(-this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0):g._orbit(this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0),this._renderer.rotateVelocity.mult(.85)):this._renderer.rotateVelocity.set(0,0),D===0&&k===0||!this._renderer.executeRotateAndMove||(v=2*D/this.width,S=2*-k/this.height,this._renderer.moveVelocity.add(.15*v,.15*S)),1e-6<this._renderer.moveVelocity.magSq()?(b=g._getLocalAxes(),f=g.eyeX-g.centerX,p=g.eyeY-g.centerY,F=g.eyeZ-g.centerZ,P=Math.sqrt(f*f+p*p+F*F),C=new h.default.Vector(g.centerX,g.centerY,g.centerZ),C=g.cameraMatrix.multiplyPoint(C),(C=this._renderer.uPMatrix.multiplyAndNormalizePoint(C)).x-=this._renderer.moveVelocity.x,C.y-=this._renderer.moveVelocity.y,R=(T=this._renderer.uPMatrix.mat4)[15]===0?(j=(T[8]+C.x)/T[0]*P,(T[9]+C.y)/T[5]*P):(j=(C.x-T[12])/T[0],(C.y-T[13])/T[5]),g.setPosition(g.eyeX+j*b.x[0]+R*b.y[0],g.eyeY+j*b.x[1]+R*b.y[1],g.eyeZ+j*b.x[2]+R*b.y[2]),this._renderer.moveVelocity.mult(.85)):this._renderer.moveVelocity.set(0,0),this},h.default.prototype.debugMode=function(){this._assert3d("debugMode");for(var f=arguments.length,p=new Array(f),b=0;b<f;b++)p[b]=arguments[b];h.default._validateParameters("debugMode",p);for(var y=this._registeredMethods.post.length-1;0<=y;y--)this._registeredMethods.post[y].toString()!==this._grid().toString()&&this._registeredMethods.post[y].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(y,1);p[0]===a.GRID?this.registerMethod("post",this._grid(p[1],p[2],p[3],p[4],p[5])):p[0]===a.AXES?this.registerMethod("post",this._axesIcon(p[1],p[2],p[3],p[4])):(this.registerMethod("post",this._grid(p[0],p[1],p[2],p[3],p[4])),this.registerMethod("post",this._axesIcon(p[5],p[6],p[7],p[8])))},h.default.prototype.noDebugMode=function(){this._assert3d("noDebugMode");for(var f=this._registeredMethods.post.length-1;0<=f;f--)this._registeredMethods.post[f].toString()!==this._grid().toString()&&this._registeredMethods.post[f].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(f,1)},h.default.prototype._grid=function(f,p,b,y,m){f===void 0&&(f=this.width/2),p===void 0&&(p=Math.round(f/30)<4?4:Math.round(f/30)),b===void 0&&(b=0),y===void 0&&(y=0),m===void 0&&(m=0);var g=f/p,v=f/2;return function(){this.push(),this.stroke(255*this._renderer.curStrokeColor[0],255*this._renderer.curStrokeColor[1],255*this._renderer.curStrokeColor[2]),this._renderer.uModelMatrix.reset();for(var S=0;S<=p;S++)this.beginShape(this.LINES),this.vertex(-v+b,y,S*g-v+m),this.vertex(v+b,y,S*g-v+m),this.endShape();for(var j=0;j<=p;j++)this.beginShape(this.LINES),this.vertex(j*g-v+b,y,-v+m),this.vertex(j*g-v+b,y,v+m),this.endShape();this.pop()}},h.default.prototype._axesIcon=function(f,p,b,y){return f===void 0&&(f=40<this.width/20?this.width/20:40),p===void 0&&(p=-this.width/4),b===void 0&&(b=p),y===void 0&&(y=p),function(){this.push(),this._renderer.uModelMatrix.reset(),this.strokeWeight(2),this.stroke(255,0,0),this.beginShape(this.LINES),this.vertex(p,b,y),this.vertex(p+f,b,y),this.endShape(),this.stroke(0,255,0),this.beginShape(this.LINES),this.vertex(p,b,y),this.vertex(p,b+f,y),this.endShape(),this.stroke(0,0,255),this.beginShape(this.LINES),this.vertex(p,b,y),this.vertex(p,b,y+f),this.endShape(),this.pop()}};var w=h.default;c.default=w},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.splice":171,"core-js/modules/es.math.hypot":176,"core-js/modules/es.math.sign":178,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],329:[function(t,o,c){t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.filter"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var l=(t=t("../core/main"))&&t.__esModule?t:{default:t};l.default.prototype.ambientLight=function(h,a,d,_){this._assert3d("ambientLight"),l.default._validateParameters("ambientLight",arguments);var w=this.color.apply(this,arguments);return this._renderer.ambientLightColors.push(w._array[0],w._array[1],w._array[2]),this._renderer._enableLighting=!0,this},l.default.prototype.specularColor=function(h,a,d){this._assert3d("specularColor"),l.default._validateParameters("specularColor",arguments);var _=this.color.apply(this,arguments);return this._renderer.specularColors=[_._array[0],_._array[1],_._array[2]],this},l.default.prototype.directionalLight=function(h,m,y,_,w,f){this._assert3d("directionalLight"),l.default._validateParameters("directionalLight",arguments),h=h instanceof l.default.Color?h:this.color(h,m,y);var p,b,m=arguments[arguments.length-1],y=typeof m=="number"?(p=arguments[arguments.length-3],b=arguments[arguments.length-2],arguments[arguments.length-1]):(p=m.x,b=m.y,m.z),m=Math.sqrt(p*p+b*b+y*y);return this._renderer.directionalLightDirections.push(p/m,b/m,y/m),this._renderer.directionalLightDiffuseColors.push(h._array[0],h._array[1],h._array[2]),Array.prototype.push.apply(this._renderer.directionalLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},l.default.prototype.pointLight=function(h,y,m,_,w,f){this._assert3d("pointLight"),l.default._validateParameters("pointLight",arguments),h=h instanceof l.default.Color?h:this.color(h,y,m);var p,b,y=arguments[arguments.length-1],m=typeof y=="number"?(p=arguments[arguments.length-3],b=arguments[arguments.length-2],arguments[arguments.length-1]):(p=y.x,b=y.y,y.z);return this._renderer.pointLightPositions.push(p,b,m),this._renderer.pointLightDiffuseColors.push(h._array[0],h._array[1],h._array[2]),Array.prototype.push.apply(this._renderer.pointLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},l.default.prototype.imageLight=function(h){this._renderer.activeImageLight=h,this._renderer._enableLighting=!0},l.default.prototype.panorama=function(h){this.filter(this._renderer._getSphereMapping(h))},l.default.prototype.lights=function(){this._assert3d("lights");var h=this.color("rgb(128,128,128)");return this.ambientLight(h),this.directionalLight(h,0,0,-1),this},l.default.prototype.lightFalloff=function(h,a,d){return this._assert3d("lightFalloff"),l.default._validateParameters("lightFalloff",arguments),h<0&&(h=0,console.warn("Value of constant argument in lightFalloff() should be never be negative. Set to 0.")),a<0&&(a=0,console.warn("Value of linear argument in lightFalloff() should be never be negative. Set to 0.")),d<0&&(d=0,console.warn("Value of quadratic argument in lightFalloff() should be never be negative. Set to 0.")),h===0&&a===0&&d===0&&(h=1,console.warn("Either one of the three arguments in lightFalloff() should be greater than zero. Set constant argument to 1.")),this._renderer.constantAttenuation=h,this._renderer.linearAttenuation=a,this._renderer.quadraticAttenuation=d,this},l.default.prototype.spotLight=function(h,a,d,_,w,f,p,b,y,m,g){this._assert3d("spotLight"),l.default._validateParameters("spotLight",arguments);var v,S,j,A=arguments.length;switch(A){case 11:case 10:v=this.color(h,a,d),S=new l.default.Vector(_,w,f),j=new l.default.Vector(p,b,y);break;case 9:h instanceof l.default.Color?(v=h,S=new l.default.Vector(a,d,_),j=new l.default.Vector(w,f,p),m=b,g=y):_ instanceof l.default.Vector?(v=this.color(h,a,d),S=_,j=new l.default.Vector(w,f,p),m=b,g=y):p instanceof l.default.Vector?(v=this.color(h,a,d),S=new l.default.Vector(_,w,f),j=p,m=b,g=y):(v=this.color(h,a,d),S=new l.default.Vector(_,w,f),j=new l.default.Vector(p,b,y));break;case 8:m=(j=h instanceof l.default.Color?(v=h,S=new l.default.Vector(a,d,_),new l.default.Vector(w,f,p)):_ instanceof l.default.Vector?(v=this.color(h,a,d),S=_,new l.default.Vector(w,f,p)):(v=this.color(h,a,d),S=new l.default.Vector(_,w,f),p),b);break;case 7:h instanceof l.default.Color&&a instanceof l.default.Vector?(v=h,S=a,j=new l.default.Vector(d,_,w),m=f,g=p):h instanceof l.default.Color&&w instanceof l.default.Vector?(v=h,S=new l.default.Vector(a,d,_),j=w,m=f,g=p):_ instanceof l.default.Vector&&w instanceof l.default.Vector?(v=this.color(h,a,d),S=_,j=w,m=f,g=p):j=h instanceof l.default.Color?(v=h,S=new l.default.Vector(a,d,_),new l.default.Vector(w,f,p)):_ instanceof l.default.Vector?(v=this.color(h,a,d),S=_,new l.default.Vector(w,f,p)):(v=this.color(h,a,d),S=new l.default.Vector(_,w,f),p);break;case 6:_ instanceof l.default.Vector&&w instanceof l.default.Vector?(v=this.color(h,a,d),S=_,j=w,m=f):h instanceof l.default.Color&&w instanceof l.default.Vector?(v=h,S=new l.default.Vector(a,d,_),j=w,m=f):h instanceof l.default.Color&&a instanceof l.default.Vector&&(v=h,S=a,j=new l.default.Vector(d,_,w),m=f);break;case 5:h instanceof l.default.Color&&a instanceof l.default.Vector&&d instanceof l.default.Vector?(v=h,S=a,j=d,m=_,g=w):_ instanceof l.default.Vector&&w instanceof l.default.Vector?(v=this.color(h,a,d),S=_,j=w):h instanceof l.default.Color&&w instanceof l.default.Vector?(v=h,S=new l.default.Vector(a,d,_),j=w):h instanceof l.default.Color&&a instanceof l.default.Vector&&(v=h,S=a,j=new l.default.Vector(d,_,w));break;case 4:v=h,S=a,j=d,m=_;break;case 3:v=h,S=a,j=d;break;default:return console.warn("Sorry, input for spotlight() is not in prescribed format. Too ".concat(A<3?"few":"many"," arguments were provided")),this}return this._renderer.spotLightDiffuseColors.push(v._array[0],v._array[1],v._array[2]),Array.prototype.push.apply(this._renderer.spotLightSpecularColors,this._renderer.specularColors),this._renderer.spotLightPositions.push(S.x,S.y,S.z),j.normalize(),this._renderer.spotLightDirections.push(j.x,j.y,j.z),m===void 0&&(m=Math.PI/3),g!==void 0&&g<1?(g=1,console.warn("Value of concentration needs to be greater than 1. Setting it to 1")):g===void 0&&(g=100),m=this._renderer._pInst._toRadians(m),this._renderer.spotLightAngle.push(Math.cos(m)),this._renderer.spotLightConc.push(g),this._renderer._enableLighting=!0,this},l.default.prototype.noLights=function(){this._assert3d("noLights");for(var h=arguments.length,a=new Array(h),d=0;d<h;d++)a[d]=arguments[d];return l.default._validateParameters("noLights",a),this._renderer.activeImageLight=null,this._renderer._enableLighting=!1,this._renderer.ambientLightColors.length=0,this._renderer.specularColors=[1,1,1],this._renderer.directionalLightDirections.length=0,this._renderer.directionalLightDiffuseColors.length=0,this._renderer.directionalLightSpecularColors.length=0,this._renderer.pointLightPositions.length=0,this._renderer.pointLightDiffuseColors.length=0,this._renderer.pointLightSpecularColors.length=0,this._renderer.spotLightPositions.length=0,this._renderer.spotLightDirections.length=0,this._renderer.spotLightDiffuseColors.length=0,this._renderer.spotLightSpecularColors.length=0,this._renderer.spotLightAngle.length=0,this._renderer.spotLightConc.length=0,this._renderer.constantAttenuation=1,this._renderer.linearAttenuation=0,this._renderer.quadraticAttenuation=0,this._renderer._useShininess=1,this._renderer._useMetalness=0,this},t=l.default,c.default=t},{"../core/main":283,"core-js/modules/es.array.filter":157}],330:[function(t,o,c){function l(m){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(m)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0,t("regenerator-runtime/runtime");var h=(y=t("../core/main"))&&y.__esModule?y:{default:y};function a(m){return function(g){if(Array.isArray(g)){for(var v=0,S=new Array(g.length);v<g.length;v++)S[v]=g[v];return S}}(m)||function(g){if(Symbol.iterator in Object(g)||Object.prototype.toString.call(g)==="[object Arguments]")return Array.from(g)}(m)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function d(m,g,v,S,j,A,L){try{var C=m[A](L),T=C.value}catch(R){return void v(R)}C.done?g(T):Promise.resolve(T).then(S,j)}function _(m){return function(){var g=this,v=arguments;return new Promise(function(S,j){var A=m.apply(g,v);function L(T){d(A,S,j,L,C,"next",T)}function C(T){d(A,S,j,L,C,"throw",T)}L(void 0)})}}function w(m){return(w=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(g){return l(g)}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":l(g)})(m)}function f(m,g,v){for(var S=2<arguments.length&&v!==void 0?v:{},j={v:[],vt:[],vn:[]},A={},L=null,C=new Set,T=!1,R=!1,D=0;D<g.length;++D){var k=g[D].trim().split(/\b\s+/);if(0<k.length){if(k[0]==="usemtl")L=k[1];else if(k[0]==="v"||k[0]==="vn"){var F=new h.default.Vector(parseFloat(k[1]),parseFloat(k[2]),parseFloat(k[3]));j[k[0]].push(F)}else if(k[0]==="vt")F=[parseFloat(k[1]),1-parseFloat(k[2])],j[k[0]].push(F);else if(k[0]==="f")for(var P=3;P<k.length;++P){for(var q=[],z=[1,P-1,P],H=0;H<z.length;++H){for(var Q,J=k[z[H]],Z=J.split("/"),K=0;K<Z.length;K++)Z[K]=parseInt(Z[K])-1;A[J]||(A[J]={}),A[J][L]===void 0?(Q=m.vertices.length,m.vertices.push(j.v[Z[0]].copy()),m.uvs.push(j.vt[Z[1]]?j.vt[Z[1]].slice():[0,0]),m.vertexNormals.push(j.vn[Z[2]]?j.vn[Z[2]].copy():new h.default.Vector),A[J][L]=Q,q.push(Q),L&&S[L]&&S[L].diffuseColor&&C.add(j.v[Z[0]])):q.push(A[J][L])}if(q[0]!==q[1]&&q[0]!==q[2]&&q[1]!==q[2])if(m.faces.push(q),L&&S[L]&&S[L].diffuseColor)for(var T=T=!0,se=S[L].diffuseColor,le=0;le<q.length;le++)m.vertexColors.push(se[0]),m.vertexColors.push(se[1]),m.vertexColors.push(se[2]);else R=!0}}}if(m.vertexNormals.length===0&&m.computeNormals(),T===R)throw new Error("Model coloring is inconsistent. Either all vertices should have colors or none should.")}function p(m,g){if(function(xe){for(var he=new DataView(xe),je=[115,111,108,105,100],Ce=0;Ce<5;Ce++)if(function(De,Oe,ke){for(var Fe=0,Je=De.length;Fe<Je;Fe++)if(De[Fe]!==Oe.getUint8(ke+Fe,!1))return;return 1}(je,he,Ce))return;return 1}(g)){for(var v,S,j,A,L,C,T,R=m,D=new DataView(g),k=D.getUint32(80,!0),F=!1,P=0;P<70;P++)D.getUint32(P,!1)===1129270351&&D.getUint8(P+4)===82&&D.getUint8(P+5)===61&&(F=!0,A=[],L=D.getUint8(P+6)/255,C=D.getUint8(P+7)/255,T=D.getUint8(P+8)/255);for(var q=0;q<k;q++){for(var z,H=84+50*q,Q=D.getFloat32(H,!0),J=D.getFloat32(4+H,!0),Z=D.getFloat32(8+H,!0),K=(F&&(z=D.getUint16(48+H,!0),j=32768&z?(v=L,S=C,T):(v=(31&z)/31,S=(z>>5&31)/31,(z>>10&31)/31)),new h.default.Vector(Q,J,Z)),se=1;se<=3;se++){var le=H+12*se,le=new h.default.Vector(D.getFloat32(le,!0),D.getFloat32(4+le,!0),D.getFloat32(8+le,!0));R.vertices.push(le),R.vertexNormals.push(K),F&&A.push(v,S,j)}R.faces.push([3*q,3*q+1,3*q+2]),R.uvs.push([0,0],[0,0],[0,0])}}else if(g=new DataView(g),"TextDecoder"in window)for(var M,G,X=m,ee=new TextDecoder("utf-8").decode(g).split(`
`),ae="",ce=[],pe=0;pe<ee.length;++pe){for(var ve=ee[pe].trim(),ge=ve.split(" "),Se=0;Se<ge.length;++Se)ge[Se]===""&&ge.splice(Se,1);if(ge.length!==0)switch(ae){case"":if(ge[0]!=="solid")return console.error(ve),void console.error('Invalid state "'.concat(ge[0],'", should be "solid"'));ae="solid";break;case"solid":if(ge[0]!=="facet"||ge[1]!=="normal")return console.error(ve),void console.error('Invalid state "'.concat(ge[0],'", should be "facet normal"'));M=new h.default.Vector(parseFloat(ge[2]),parseFloat(ge[3]),parseFloat(ge[4])),X.vertexNormals.push(M,M,M),ae="facet normal";break;case"facet normal":if(ge[0]!=="outer"||ge[1]!=="loop")return console.error(ve),void console.error('Invalid state "'.concat(ge[0],'", should be "outer loop"'));ae="vertex";break;case"vertex":if(ge[0]==="vertex")G=new h.default.Vector(parseFloat(ge[1]),parseFloat(ge[2]),parseFloat(ge[3])),X.vertices.push(G),X.uvs.push([0,0]),ce.push(X.vertices.indexOf(G));else{if(ge[0]!=="endloop")return console.error(ve),void console.error('Invalid state "'.concat(ge[0],'", should be "vertex" or "endloop"'));X.faces.push(ce),ce=[],ae="endloop"}break;case"endloop":if(ge[0]!=="endfacet")return console.error(ve),void console.error('Invalid state "'.concat(ge[0],'", should be "endfacet"'));ae="endfacet";break;case"endfacet":if(ge[0]!=="endsolid"){if(ge[0]!=="facet"||ge[1]!=="normal")return console.error(ve),void console.error('Invalid state "'.concat(ge[0],'", should be "endsolid" or "facet normal"'));M=new h.default.Vector(parseFloat(ge[2]),parseFloat(ge[3]),parseFloat(ge[4])),X.vertexNormals.push(M,M,M),ae="facet normal"}break;default:console.error('Invalid state "'.concat(ae,'"'))}}else console.warn("Sorry, ASCII STL loading only works in browsers that support TextDecoder (https://caniuse.com/#feat=textencoder)")}t("./p5.Geometry"),h.default.prototype.loadModel=function(m,g){h.default._validateParameters("loadModel",arguments);var v,S,j=!1,A=!1,L=!1,C=m.slice(-4),T=(g&&w(g)==="object"?(j=g.normalize||!1,v=g.successCallback,S=g.failureCallback,C=g.fileType||C,A=g.flipU||!1,L=g.flipV||!1):typeof g=="boolean"?(j=g,v=arguments[2],S=arguments[3],arguments[4]!==void 0&&(C=arguments[4])):(v=typeof g=="function"?g:void 0,S=arguments[2],arguments[3]!==void 0&&(C=arguments[3])),new h.default.Geometry),R=(T.gid="".concat(m,"|").concat(j),this);function D(){return(D=_(regeneratorRuntime.mark(function F(P){var q,z,H,Q;return regeneratorRuntime.wrap(function(J){for(;;)switch(J.prev=J.next){case 0:for(q=[],z=0;z<P.length;z++)(H=P[z].match(/^mtllib (.+)/))&&function(){var Z="",K=H[1],se=m.split("/");Z=1<se.length?(se.pop(),se.join("/")+"/"+K):K,q.push(function(){return k.apply(this,arguments)}(Z).then(function(le){return le?(M=R,G=Z,new Promise(function(X,ee){var ae=null,ce={};M.loadStrings(G,function(pe){for(var ve=0;ve<pe.length;++ve){var ge,Se=pe[ve].trim().split(/\s+/);Se[0]==="newmtl"?(ge=Se[1],ce[ae=ge]={}):Se[0]==="Kd"?ce[ae].diffuseColor=[parseFloat(Se[1]),parseFloat(Se[2]),parseFloat(Se[3])]:Se[0]==="Ka"?ce[ae].ambientColor=[parseFloat(Se[1]),parseFloat(Se[2]),parseFloat(Se[3])]:Se[0]==="Ks"?ce[ae].specularColor=[parseFloat(Se[1]),parseFloat(Se[2]),parseFloat(Se[3])]:Se[0]==="map_Kd"&&(ce[ae].texturePath=Se[1])}X(ce)},ee)})):(console.warn("MTL file not found or error in parsing; proceeding without materials: ".concat(Z)),{});var M,G}).catch(function(le){return console.warn("Error loading MTL file: ".concat(Z),le),{}}))}();return J.prev=2,J.next=5,Promise.all(q);case 5:return Q=J.sent,Q=Object.assign.apply(Object,[{}].concat(a(Q))),J.abrupt("return",Q);case 10:return J.prev=10,J.t0=J.catch(2),J.abrupt("return",{});case 13:case"end":return J.stop()}},F,null,[[2,10]])}))).apply(this,arguments)}function k(){return(k=_(regeneratorRuntime.mark(function F(P){var q;return regeneratorRuntime.wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return z.prev=0,z.next=3,fetch(P,{method:"HEAD"});case 3:return q=z.sent,z.abrupt("return",q.ok);case 7:return z.prev=7,z.t0=z.catch(0),z.abrupt("return",!1);case 10:case"end":return z.stop()}},F,null,[[0,7]])}))).apply(this,arguments)}return C.match(/\.stl$/i)?this.httpDo(m,"GET","arrayBuffer",function(F){p(T,F),j&&T.normalize(),A&&T.flipU(),L&&T.flipV(),R._decrementPreload(),typeof v=="function"&&v(T)},S):C.match(/\.obj$/i)?this.loadStrings(m,function(){var F=_(regeneratorRuntime.mark(function P(q){var z;return regeneratorRuntime.wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return H.prev=0,H.next=3,function(){return D.apply(this,arguments)}(q);case 3:z=H.sent,f(T,q,z),H.next=11;break;case 7:return H.prev=7,H.t0=H.catch(0),S?S(H.t0):h.default._friendlyError("Error during parsing: "+H.t0.message),H.abrupt("return");case 11:return H.prev=11,j&&T.normalize(),A&&T.flipU(),L&&T.flipV(),T._makeTriangleEdges(),R._decrementPreload(),typeof v=="function"&&v(T),H.finish(11);case 19:case"end":return H.stop()}},P,null,[[0,7,11,19]])}));return function(P){return F.apply(this,arguments)}}(),S):(h.default._friendlyFileLoadError(3,m),S?S():h.default._friendlyError("Sorry, the file type is invalid. Only OBJ and STL files are supported.")),T},h.default.prototype.model=function(m){this._assert3d("model"),h.default._validateParameters("model",arguments),0<m.vertices.length&&(this._renderer.geometryInHash(m.gid)||(m._edgesToVertices(),this._renderer.createBuffers(m.gid,m)),this._renderer.drawBuffers(m.gid))};var b=0,y=(h.default.prototype.createModel=function(m){var g,v,S=1<arguments.length&&arguments[1]!==void 0?arguments[1]:" ",C=2<arguments.length?arguments[2]:void 0,j=(h.default._validateParameters("createModel",arguments),!1),A=!1,L=!1,C=(C&&w(C)==="object"?(j=C.normalize||!1,g=C.successCallback,v=C.failureCallback,A=C.flipU||!1,L=C.flipV||!1):v=typeof C=="boolean"?(j=C,g=arguments[3],arguments[4]):(g=typeof arguments[2]=="function"?arguments[2]:void 0,arguments[3]),new h.default.Geometry);if(C.gid="".concat(S,"|").concat(j,"|").concat(b++),S.match(/\.stl$/i))try{p(C,new TextEncoder().encode(m).buffer)}catch(T){return void(v?v(T):h.default._friendlyError("Error during parsing: "+T.message))}else if(S.match(/\.obj$/i))try{f(C,m.split(`
`))}catch(T){return void(v?v(T):h.default._friendlyError("Error during parsing: "+T.message))}else h.default._friendlyFileLoadError(3,m),v?v():h.default._friendlyError("Sorry, the file type is invalid. Only OBJ and STL files are supported.");return j&&C.normalize(),A&&C.flipU(),L&&C.flipV(),C._makeTriangleEdges(),typeof g=="function"&&g(C),C},h.default);c.default=y},{"../core/main":283,"./p5.Geometry":335,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.from":162,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246,"regenerator-runtime/runtime":260}],331:[function(t,o,c){function l(f){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(f)}function h(f){return(h=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(p){return l(p)}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":l(p)})(f)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var a=(w=t("../core/main"))&&w.__esModule?w:{default:w},d=function(f){if(f&&f.__esModule)return f;if(f===null||h(f)!=="object"&&typeof f!="function")return{default:f};var p=_();if(p&&p.has(f))return p.get(f);var b,y={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(b in f){var g;Object.prototype.hasOwnProperty.call(f,b)&&((g=m?Object.getOwnPropertyDescriptor(f,b):null)&&(g.get||g.set)?Object.defineProperty(y,b,g):y[b]=f[b])}return y.default=f,p&&p.set(f,y),y}(t("../core/constants"));function _(){var f;return typeof WeakMap!="function"?null:(f=new WeakMap,_=function(){return f},f)}t("./p5.Texture"),a.default.prototype.loadShader=function(f,p,b,y){a.default._validateParameters("loadShader",arguments),y=y||console.error;function m(){v._decrementPreload(),b&&b(g)}var g=new a.default.Shader,v=this,S=!1,j=!1;return this.loadStrings(f,function(A){g._vertSrc=A.join(`
`),j=!0,S&&m()},y),this.loadStrings(p,function(A){g._fragSrc=A.join(`
`),S=!0,j&&m()},y),g},a.default.prototype.createShader=function(f,p,b){return a.default._validateParameters("createShader",arguments),new a.default.Shader(this._renderer,f,p,b)},a.default.prototype.createFilterShader=function(f){a.default._validateParameters("createFilterShader",arguments);var p=f.includes("#version 300 es")?`#version 300 es
    uniform mat4 uModelViewMatrix;
    uniform mat4 uProjectionMatrix;

    in vec3 aPosition;
    in vec2 aTexCoord;
    out vec2 vTexCoord;

    void main() {
      // transferring texcoords for the frag shader
      vTexCoord = aTexCoord;

      // copy position with a fourth coordinate for projection (1.0 is normal)
      vec4 positionVec4 = vec4(aPosition, 1.0);

      // project to 3D space
      gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
    }
  `:`
    uniform mat4 uModelViewMatrix;
    uniform mat4 uProjectionMatrix;

    attribute vec3 aPosition;
    // texcoords only come from p5 to vertex shader
    // so pass texcoords on to the fragment shader in a varying variable
    attribute vec2 aTexCoord;
    varying vec2 vTexCoord;

    void main() {
      // transferring texcoords for the frag shader
      vTexCoord = aTexCoord;

      // copy position with a fourth coordinate for projection (1.0 is normal)
      vec4 positionVec4 = vec4(aPosition, 1.0);

      // project to 3D space
      gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
    }
  `,p=new a.default.Shader(this._renderer,p,f);return this._renderer.GL?p.ensureCompiledOnContext(this):p.ensureCompiledOnContext(this._renderer.getFilterGraphicsLayer()),p},a.default.prototype.shader=function(f){return this._assert3d("shader"),a.default._validateParameters("shader",arguments),f.ensureCompiledOnContext(this),f.isStrokeShader()?this._renderer.userStrokeShader=f:(this._renderer.userFillShader=f,this._renderer._useNormalMaterial=!1),f.setDefaultUniforms(),this},a.default.prototype.baseMaterialShader=function(){return this._assert3d("baseMaterialShader"),this._renderer.baseMaterialShader()},a.default.prototype.baseNormalShader=function(){return this._assert3d("baseNormalShader"),this._renderer.baseNormalShader()},a.default.prototype.baseColorShader=function(){return this._assert3d("baseColorShader"),this._renderer.baseColorShader()},a.default.prototype.baseStrokeShader=function(){return this._assert3d("baseStrokeShader"),this._renderer.baseStrokeShader()},a.default.prototype.resetShader=function(){return this._renderer.userFillShader=this._renderer.userStrokeShader=null,this},a.default.prototype.texture=function(f){return this._assert3d("texture"),a.default._validateParameters("texture",arguments),f.gifProperties&&f._animateGif(this),this._renderer.drawMode=d.TEXTURE,this._renderer._useNormalMaterial=!1,this._renderer._tex=f,this._renderer._setProperty("_doFill",!0),this},a.default.prototype.textureMode=function(f){f!==d.IMAGE&&f!==d.NORMAL?console.warn("You tried to set ".concat(f," textureMode only supports IMAGE & NORMAL ")):this._renderer.textureMode=f},a.default.prototype.textureWrap=function(f){var p=1<arguments.length&&arguments[1]!==void 0?arguments[1]:f,b=(this._renderer.textureWrapX=f,this._renderer.textureWrapY=p,!0),y=!1,m=void 0;try{for(var g,v=this._renderer.textures.values()[Symbol.iterator]();!(b=(g=v.next()).done);b=!0)g.value.setWrapMode(f,p)}catch(S){y=!0,m=S}finally{try{b||v.return==null||v.return()}finally{if(y)throw m}}},a.default.prototype.normalMaterial=function(){this._assert3d("normalMaterial");for(var f=arguments.length,p=new Array(f),b=0;b<f;b++)p[b]=arguments[b];return a.default._validateParameters("normalMaterial",p),this._renderer.drawMode=d.FILL,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!0,this._renderer.curFillColor=[1,1,1,1],this._renderer._setProperty("_doFill",!0),this.noStroke(),this},a.default.prototype.ambientMaterial=function(f,p,b){this._assert3d("ambientMaterial"),a.default._validateParameters("ambientMaterial",arguments);var y=a.default.prototype.color.apply(this,arguments);return this._renderer._hasSetAmbient=!0,this._renderer.curAmbientColor=y._array,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._setProperty("_doFill",!0),this},a.default.prototype.emissiveMaterial=function(f,p,b,y){this._assert3d("emissiveMaterial"),a.default._validateParameters("emissiveMaterial",arguments);var m=a.default.prototype.color.apply(this,arguments);return this._renderer.curEmissiveColor=m._array,this._renderer._useEmissiveMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this},a.default.prototype.specularMaterial=function(f,p,b,y){this._assert3d("specularMaterial"),a.default._validateParameters("specularMaterial",arguments);var m=a.default.prototype.color.apply(this,arguments);return this._renderer.curSpecularColor=m._array,this._renderer._useSpecularMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this},a.default.prototype.shininess=function(f){return this._assert3d("shininess"),a.default._validateParameters("shininess",arguments),this._renderer._useShininess=f=f<1?1:f,this},a.default.prototype.metalness=function(f){return this._assert3d("metalness"),f=1-Math.exp(-f/100),this._renderer._useMetalness=f,this},a.default.RendererGL.prototype._applyColorBlend=function(f,m){var b=this.GL,y=this.drawMode===d.TEXTURE,m=m||this.userFillShader||this.userStrokeShader||this.userPointShader||y||this.curBlendMode!==d.BLEND||f[f.length-1]<1||this._isErasing;return m!==this._isBlending&&(m||this.curBlendMode!==d.BLEND&&this.curBlendMode!==d.ADD?b.enable(b.BLEND):b.disable(b.BLEND),b.depthMask(!0),this._isBlending=m),this._applyBlendMode(),f},a.default.RendererGL.prototype._applyBlendMode=function(){if(this._cachedBlendMode!==this.curBlendMode){var f=this.GL;switch(this.curBlendMode){case d.BLEND:f.blendEquation(f.FUNC_ADD),f.blendFunc(f.ONE,f.ONE_MINUS_SRC_ALPHA);break;case d.ADD:f.blendEquation(f.FUNC_ADD),f.blendFunc(f.ONE,f.ONE);break;case d.REMOVE:f.blendEquation(f.FUNC_ADD),f.blendFunc(f.ZERO,f.ONE_MINUS_SRC_ALPHA);break;case d.MULTIPLY:f.blendEquation(f.FUNC_ADD),f.blendFunc(f.DST_COLOR,f.ONE_MINUS_SRC_ALPHA);break;case d.SCREEN:f.blendEquation(f.FUNC_ADD),f.blendFunc(f.ONE,f.ONE_MINUS_SRC_COLOR);break;case d.EXCLUSION:f.blendEquationSeparate(f.FUNC_ADD,f.FUNC_ADD),f.blendFuncSeparate(f.ONE_MINUS_DST_COLOR,f.ONE_MINUS_SRC_COLOR,f.ONE,f.ONE);break;case d.REPLACE:f.blendEquation(f.FUNC_ADD),f.blendFunc(f.ONE,f.ZERO);break;case d.SUBTRACT:f.blendEquationSeparate(f.FUNC_REVERSE_SUBTRACT,f.FUNC_ADD),f.blendFuncSeparate(f.ONE,f.ONE,f.ONE,f.ONE_MINUS_SRC_ALPHA);break;case d.DARKEST:this.blendExt?(f.blendEquationSeparate(this.blendExt.MIN||this.blendExt.MIN_EXT,f.FUNC_ADD),f.blendFuncSeparate(f.ONE,f.ONE,f.ONE,f.ONE)):console.warn("blendMode(DARKEST) does not work in your browser in WEBGL mode.");break;case d.LIGHTEST:this.blendExt?(f.blendEquationSeparate(this.blendExt.MAX||this.blendExt.MAX_EXT,f.FUNC_ADD),f.blendFuncSeparate(f.ONE,f.ONE,f.ONE,f.ONE)):console.warn("blendMode(LIGHTEST) does not work in your browser in WEBGL mode.");break;default:console.error("Oops! Somehow RendererGL set curBlendMode to an unsupported mode.")}this._isErasing||(this._cachedBlendMode=this.curBlendMode)}};var w=a.default;c.default=w},{"../core/constants":272,"../core/main":283,"./p5.Texture":343,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],332:[function(t,o,c){t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.string.sub"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var l=(t=t("../core/main"))&&t.__esModule?t:{default:t};function h(a,d){for(var _=0;_<d.length;_++){var w=d[_];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(a,w.key,w)}}l.default.prototype.camera=function(){var a;this._assert3d("camera");for(var d=arguments.length,_=new Array(d),w=0;w<d;w++)_[w]=arguments[w];return l.default._validateParameters("camera",_),(a=this._renderer._curCamera).camera.apply(a,_),this},l.default.prototype.perspective=function(){var a;this._assert3d("perspective");for(var d=arguments.length,_=new Array(d),w=0;w<d;w++)_[w]=arguments[w];return l.default._validateParameters("perspective",_),(a=this._renderer._curCamera).perspective.apply(a,_),this},l.default.prototype.linePerspective=function(a){if(l.default._validateParameters("linePerspective",arguments),!(this._renderer instanceof l.default.RendererGL))throw new Error("linePerspective() must be called in WebGL mode.");if(a===void 0)return this._renderer._curCamera.useLinePerspective;this._renderer._curCamera.useLinePerspective=a},l.default.prototype.ortho=function(){var a;this._assert3d("ortho");for(var d=arguments.length,_=new Array(d),w=0;w<d;w++)_[w]=arguments[w];return l.default._validateParameters("ortho",_),(a=this._renderer._curCamera).ortho.apply(a,_),this},l.default.prototype.frustum=function(){var a;this._assert3d("frustum");for(var d=arguments.length,_=new Array(d),w=0;w<d;w++)_[w]=arguments[w];return l.default._validateParameters("frustum",_),(a=this._renderer._curCamera).frustum.apply(a,_),this},l.default.prototype.createCamera=function(){this._assert3d("createCamera");var a=new l.default.Camera(this._renderer);return a._computeCameraDefaultSettings(),a._setDefaultCamera(),this._renderer._curCamera=a},l.default.Camera=function(){function a(w){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this._renderer=w,this.cameraType="default",this.useLinePerspective=!0,this.cameraMatrix=new l.default.Matrix,this.projMatrix=new l.default.Matrix,this.yScale=1}var d,_;return d=a,(_=[{key:"perspective",value:function(y,f,p,b){this.cameraType=0<arguments.length?"custom":"default",y===void 0?(y=this.defaultCameraFOV,this.cameraFOV=y):this.cameraFOV=this._renderer._pInst._toRadians(y),f===void 0&&(f=this.defaultAspectRatio),p===void 0&&(p=this.defaultCameraNear),b===void 0&&(b=this.defaultCameraFar),p<=1e-4&&(p=.01,console.log("Avoid perspective near plane values close to or below 0. Setting value to 0.01.")),b<p&&console.log("Perspective far plane value is less than near plane value. Nothing will be shown."),this.aspectRatio=f,this.cameraNear=p,this.cameraFar=b,this.projMatrix=l.default.Matrix.identity();var y=1/Math.tan(this.cameraFOV/2),m=1/(this.cameraNear-this.cameraFar);this.projMatrix.set(y/f,0,0,0,0,-y*this.yScale,0,0,0,0,(b+p)*m,-1,0,0,2*b*p*m,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix)}},{key:"ortho",value:function(C,L,p,b,y,m){var T=this.fbo||this._renderer,T=(C===void 0&&(C=-T.width/2),L===void 0&&(L=+T.width/2),p===void 0&&(p=-T.height/2),b===void 0&&(b=+T.height/2),y===void 0&&(y=0),m===void 0&&(m=Math.max(T.width,T.height)+800),this.cameraNear=y,L-C),g=b-p,v=(this.cameraFar=m)-y,S=2/T,j=2/g*this.yScale,A=-2/v,L=-(L+C)/T,C=-(b+p)/g,T=-(m+y)/v;this.projMatrix=l.default.Matrix.identity(),this.projMatrix.set(S,0,0,0,0,-j,0,0,0,0,A,0,L,C,T,1),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix),this.cameraType="custom"}},{key:"frustum",value:function(C,L,p,b,y,m){C===void 0&&(C=.05*-this._renderer.width),L===void 0&&(L=.05*+this._renderer.width),p===void 0&&(p=.05*+this._renderer.height),b===void 0&&(b=.05*-this._renderer.height),y===void 0&&(y=this.defaultCameraNear),m===void 0&&(m=this.defaultCameraFar),this.cameraNear=y;var T=L-C,g=b-p,v=(this.cameraFar=m)-y,S=2*y/T,j=2*y/g*this.yScale,A=-2*m*y/v,L=(L+C)/T,C=(b+p)/g,T=-(m+y)/v;this.projMatrix=l.default.Matrix.identity(),this.projMatrix.set(S,0,0,0,0,-j,0,0,L,C,T,-1,0,0,A,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix),this.cameraType="custom"}},{key:"_rotateView",value:function(S,f,p,b){var y=this.centerX,m=this.centerY,g=this.centerZ,v=(y-=this.eyeX,m-=this.eyeY,g-=this.eyeZ,l.default.Matrix.identity(this._renderer._pInst)),S=(v.rotate(this._renderer._pInst._toRadians(S),f,p,b),[y*v.mat4[0]+m*v.mat4[4]+g*v.mat4[8],y*v.mat4[1]+m*v.mat4[5]+g*v.mat4[9],y*v.mat4[2]+m*v.mat4[6]+g*v.mat4[10]]);S[0]+=this.eyeX,S[1]+=this.eyeY,S[2]+=this.eyeZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,S[0],S[1],S[2],this.upX,this.upY,this.upZ)}},{key:"roll",value:function(p){var f=this._getLocalAxes(),p=l.default.Quat.fromAxisAngle(this._renderer._pInst._toRadians(p),f.z[0],f.z[1],f.z[2]).rotateVector(new l.default.Vector(this.upX,this.upY,this.upZ));this.camera(this.eyeX,this.eyeY,this.eyeZ,this.centerX,this.centerY,this.centerZ,p.x,p.y,p.z)}},{key:"pan",value:function(w){var f=this._getLocalAxes();this._rotateView(w,f.y[0],f.y[1],f.y[2])}},{key:"tilt",value:function(w){var f=this._getLocalAxes();this._rotateView(w,f.x[0],f.x[1],f.x[2])}},{key:"lookAt",value:function(w,f,p){this.camera(this.eyeX,this.eyeY,this.eyeZ,w,f,p,this.upX,this.upY,this.upZ)}},{key:"camera",value:function(w,f,p,b,y,m,g,v,S){return w===void 0&&(w=this.defaultEyeX,f=this.defaultEyeY,p=this.defaultEyeZ,b=w,y=f,v=1,S=g=m=0),this.eyeX=w,this.eyeY=f,this.eyeZ=p,b!==void 0&&(this.centerX=b,this.centerY=y,this.centerZ=m),g!==void 0&&(this.upX=g,this.upY=v,this.upZ=S),b=this._getLocalAxes(),this.cameraMatrix.set(b.x[0],b.y[0],b.z[0],0,b.x[1],b.y[1],b.z[1],0,b.x[2],b.y[2],b.z[2],0,0,0,0,1),y=-w,this.cameraMatrix.translate([y,-f,-p]),this._isActive()&&this._renderer.uViewMatrix.set(this.cameraMatrix),this}},{key:"move",value:function(b,y,p){var m=this._getLocalAxes(),b=[m.x[0]*b,m.x[1]*b,m.x[2]*b],y=[m.y[0]*y,m.y[1]*y,m.y[2]*y],m=[m.z[0]*p,m.z[1]*p,m.z[2]*p];this.camera(this.eyeX+b[0]+y[0]+m[0],this.eyeY+b[1]+y[1]+m[1],this.eyeZ+b[2]+y[2]+m[2],this.centerX+b[0]+y[0]+m[0],this.centerY+b[1]+y[1]+m[1],this.centerZ+b[2]+y[2]+m[2],this.upX,this.upY,this.upZ)}},{key:"setPosition",value:function(w,f,p){var b=w-this.eyeX,y=f-this.eyeY,m=p-this.eyeZ;this.camera(w,f,p,this.centerX+b,this.centerY+y,this.centerZ+m,this.upX,this.upY,this.upZ)}},{key:"set",value:function(w){for(var f=0,p=["eyeX","eyeY","eyeZ","centerX","centerY","centerZ","upX","upY","upZ","cameraFOV","aspectRatio","cameraNear","cameraFar","cameraType","yScale","useLinePerspective"];f<p.length;f++){var b=p[f];this[b]=w[b]}this.cameraMatrix=w.cameraMatrix.copy(),this.projMatrix=w.projMatrix.copy(),this._isActive()&&(this._renderer.uModelMatrix.reset(),this._renderer.uViewMatrix.set(this.cameraMatrix),this._renderer.uPMatrix.set(this.projMatrix))}},{key:"slerp",value:function(w,f,p){var b,y,m,g,v,S,j,A,L,C,T,R,D,k,F,P,q,z;p===0?this.set(w):p===1?this.set(f):(this.projMatrix.mat4[15]!==0&&(this.projMatrix.mat4[0]=w.projMatrix.mat4[0]*Math.pow(f.projMatrix.mat4[0]/w.projMatrix.mat4[0],p),this.projMatrix.mat4[5]=w.projMatrix.mat4[5]*Math.pow(f.projMatrix.mat4[5]/w.projMatrix.mat4[5],p),this._isActive()&&(this._renderer.uPMatrix.mat4=this.projMatrix.mat4.slice())),g=new l.default.Vector(w.eyeX,w.eyeY,w.eyeZ),v=new l.default.Vector(f.eyeX,f.eyeY,f.eyeZ),P=new l.default.Vector(w.centerX,w.centerY,w.centerZ),z=new l.default.Vector(f.centerX,f.centerY,f.centerZ),m=l.default.Vector.dist(g,P),b=l.default.Vector.dist(v,z),b=m*Math.pow(b/m,p),m=l.default.Vector.sub(g,v),y=1,1e-6<(q=(k=g.copy().sub(v).sub(P).add(z)).magSq())&&(y=l.default.Vector.dot(m,k)/q,y=Math.max(0,Math.min(y,1))),m=l.default.Vector.lerp(l.default.Vector.lerp(g,P,y),l.default.Vector.lerp(v,z,y),p),k=w.cameraMatrix.createSubMatrix3x3(),q=f.cameraMatrix.createSubMatrix3x3(),g=k.row(2),P=q.row(2),v=k.row(1),z=q.row(1),w=new l.default.Vector,f=new l.default.Vector,S=new l.default.Vector,j=new l.default.Vector,1-(A=.5*((k=(q=q.mult3x3(k.copy().transpose3x3())).diagonal())[0]+k[1]+k[2]-1))<1e-7?(w.set(l.default.Vector.lerp(g,P,p)).normalize(),S.set(w).mult(y*b).add(m),j.set(w).mult((y-1)*b).add(m),f.set(l.default.Vector.lerp(v,z,p)).normalize()):(P=1/(1-A),z=Math.max(k[0],k[1],k[2]),R=q.mat3[1]+q.mat3[3],D=q.mat3[2]+q.mat3[6],F=q.mat3[5]+q.mat3[7],z=z===k[0]?(C=.5*R*(P/=L=Math.sqrt((k[0]-A)*P)),T=.5*D*P,.5*(q.mat3[7]-q.mat3[5])/L):z===k[1]?(T=.5*F*(P/=C=Math.sqrt((k[1]-A)*P)),L=.5*R*P,.5*(q.mat3[2]-q.mat3[6])/C):(L=.5*D*(P/=T=Math.sqrt((k[2]-A)*P)),C=.5*F*P,.5*(q.mat3[3]-q.mat3[1])/T),R=p*Math.atan2(z,A),D=Math.cos(R),k=Math.sin(R),(z=new l.default.Matrix("mat3",[D+(F=1-D)*L*L,F*(P=L*C)+k*T,F*(q=T*L)-k*C,F*P-k*T,D+F*C*C,F*(p=C*T)+k*L,F*q+k*C,F*p-k*L,D+F*T*T])).multiplyVec3(g,w),S.set(w).mult(y*b).add(m),j.set(w).mult((y-1)*b).add(m),z.multiplyVec3(v,f)),this.camera(S.x,S.y,S.z,j.x,j.y,j.z,f.x,f.y,f.z))}},{key:"_computeCameraDefaultSettings",value:function(){this.defaultAspectRatio=this._renderer.width/this._renderer.height,this.defaultEyeX=0,this.defaultEyeY=0,this.defaultEyeZ=800,this.defaultCameraFOV=2*Math.atan(this._renderer.height/2/this.defaultEyeZ),this.defaultCenterX=0,this.defaultCenterY=0,this.defaultCenterZ=0,this.defaultCameraNear=.1*this.defaultEyeZ,this.defaultCameraFar=10*this.defaultEyeZ}},{key:"_setDefaultCamera",value:function(){this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.eyeX=this.defaultEyeX,this.eyeY=this.defaultEyeY,this.eyeZ=this.defaultEyeZ,this.centerX=this.defaultCenterX,this.centerY=this.defaultCenterY,this.centerZ=this.defaultCenterZ,this.upX=0,this.upY=1,this.upZ=0,this.cameraNear=this.defaultCameraNear,this.cameraFar=this.defaultCameraFar,this.perspective(),this.camera(),this.cameraType="default"}},{key:"_resize",value:function(){this.cameraType==="default"&&(this._computeCameraDefaultSettings(),this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.perspective())}},{key:"copy",value:function(){var w=new l.default.Camera(this._renderer);return w.cameraFOV=this.cameraFOV,w.aspectRatio=this.aspectRatio,w.eyeX=this.eyeX,w.eyeY=this.eyeY,w.eyeZ=this.eyeZ,w.centerX=this.centerX,w.centerY=this.centerY,w.centerZ=this.centerZ,w.upX=this.upX,w.upY=this.upY,w.upZ=this.upZ,w.cameraNear=this.cameraNear,w.cameraFar=this.cameraFar,w.cameraType=this.cameraType,w.useLinePerspective=this.useLinePerspective,w.cameraMatrix=this.cameraMatrix.copy(),w.projMatrix=this.projMatrix.copy(),w.yScale=this.yScale,w}},{key:"_getLocalAxes",value:function(){var w=this.eyeX-this.centerX,f=this.eyeY-this.centerY,p=this.eyeZ-this.centerZ,g=Math.sqrt(w*w+f*f+p*p),g=(g!==0&&(w/=g,f/=g,p/=g),this.upX),b=(v=this.upY)*p-(S=this.upZ)*f,y=-g*p+S*w,m=g*f-v*w,g=f*m-p*y,v=-w*m+p*b,S=w*y-f*b,j=Math.sqrt(b*b+y*y+m*m),j=(j!==0&&(b/=j,y/=j,m/=j),Math.sqrt(g*g+v*v+S*S));return j!==0&&(g/=j,v/=j,S/=j),{x:[b,y,m],y:[g,v,S],z:[w,f,p]}}},{key:"_orbit",value:function(w,j,S){var y=this.eyeX-this.centerX,m=this.eyeY-this.centerY,g=this.eyeZ-this.centerZ,b=Math.hypot(y,m,g),y=new l.default.Vector(y,m,g).normalize(),m=new l.default.Vector(this.upX,this.upY,this.upZ).normalize(),g=l.default.Vector.cross(m,y).normalize(),v=l.default.Vector.cross(g,m),S=((b=(b*=Math.pow(10,S))<this.cameraNear?this.cameraNear:b)>this.cameraFar&&(b=this.cameraFar),Math.acos(Math.max(-1,Math.min(1,l.default.Vector.dot(y,m))))+j),j=w;(S<=0||S>=Math.PI)&&(this.upX*=-1,this.upY*=-1,this.upZ*=-1),m.mult(Math.cos(S)),v.mult(Math.cos(j)*Math.sin(S)),g.mult(Math.sin(j)*Math.sin(S)),y.set(m).add(v).add(g),this.eyeX=b*y.x+this.centerX,this.eyeY=b*y.y+this.centerY,this.eyeZ=b*y.z+this.centerZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,this.centerX,this.centerY,this.centerZ,this.upX,this.upY,this.upZ)}},{key:"_orbitFree",value:function(S,j,L){var y=this.eyeX-this.centerX,m=this.eyeY-this.centerY,g=this.eyeZ-this.centerZ,b=Math.hypot(y,m,g),y=new l.default.Vector(y,m,g).normalize(),m=new l.default.Vector(this.upX,this.upY,this.upZ),g=l.default.Vector.cross(m,y).normalize(),v=l.default.Vector.cross(y,g),C=Math.atan2(j,S),C=(v.mult(Math.sin(C)),g.mult(Math.cos(C)).add(v),Math.sqrt(S*S+j*j)),v=l.default.Vector.cross(y,g),S=((b=(b*=Math.pow(10,L))<this.cameraNear?this.cameraNear:b)>this.cameraFar&&(b=this.cameraFar),Math.cos(C)),j=Math.sin(C),L=m.dot(y),C=m.dot(g),A=L*S+C*j,L=-L*j+C*S,C=m.dot(v);m.x=A*y.x+L*g.x+C*v.x,m.y=A*y.y+L*g.y+C*v.y,m.z=A*y.z+L*g.z+C*v.z,g.mult(-j),y.mult(S).add(g).mult(b),this.camera(y.x+this.centerX,y.y+this.centerY,y.z+this.centerZ,this.centerX,this.centerY,this.centerZ,m.x,m.y,m.z)}},{key:"_isActive",value:function(){return this===this._renderer._curCamera}}])&&h(d.prototype,_),a}(),l.default.prototype.setCamera=function(a){this._renderer._curCamera=a,this._renderer.uPMatrix.set(a.projMatrix),this._renderer.uViewMatrix.set(a.cameraMatrix)},t=l.default.Camera,c.default=t},{"../core/main":283,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.hypot":176,"core-js/modules/es.string.sub":208}],333:[function(t,o,c){t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.log2"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.log2"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t};function l(h,a){for(var d=0;d<a.length;d++){var _=a[d];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(h,_.key,_)}}t.default.DataArray=function(){function h(){var _=0<arguments.length&&arguments[0]!==void 0?arguments[0]:128,w=this,f=h;if(!(w instanceof f))throw new TypeError("Cannot call a class as a function");this.length=0,this.data=new Float32Array(_),this.initialLength=_}var a,d;return a=h,(d=[{key:"dataArray",value:function(){return this.subArray(0,this.length)}},{key:"clear",value:function(){this.length=0}},{key:"rescale",value:function(){var _;this.length<this.data.length/2&&(_=1<<Math.ceil(Math.log2(this.length)),(_=new Float32Array(_)).set(this.data.subarray(0,this.length),0),this.data=_)}},{key:"reset",value:function(){this.clear(),this.data=new Float32Array(this.initialLength)}},{key:"push",value:function(){for(var _=arguments.length,w=new Array(_),f=0;f<_;f++)w[f]=arguments[f];this.ensureLength(this.length+w.length),this.data.set(w,this.length),this.length+=w.length}},{key:"slice",value:function(_,w){return this.data.slice(_,Math.min(w,this.length))}},{key:"subArray",value:function(_,w){return this.data.subarray(_,Math.min(w,this.length))}},{key:"ensureLength",value:function(_){for(;this.data.length<_;){var w=new Float32Array(2*this.data.length);w.set(this.data,0),this.data=w}}}])&&l(a.prototype,d),h}(),t=t.default.DataArray,c.default=t},{"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.log2":177,"core-js/modules/es.object.to-string":190,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239}],334:[function(R,o,c){function l(D){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(k){return typeof k}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k})(D)}function h(D){return(h=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(k){return l(k)}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":l(k)})(D)}R("core-js/modules/es.symbol"),R("core-js/modules/es.symbol.description"),R("core-js/modules/es.symbol.iterator"),R("core-js/modules/es.array.fill"),R("core-js/modules/es.array.includes"),R("core-js/modules/es.array.iterator"),R("core-js/modules/es.object.get-own-property-descriptor"),R("core-js/modules/es.object.get-prototype-of"),R("core-js/modules/es.object.to-string"),R("core-js/modules/es.reflect.construct"),R("core-js/modules/es.reflect.get"),R("core-js/modules/es.regexp.to-string"),R("core-js/modules/es.string.includes"),R("core-js/modules/es.string.iterator"),R("core-js/modules/es.typed-array.float32-array"),R("core-js/modules/es.typed-array.uint8-array"),R("core-js/modules/es.typed-array.uint8-clamped-array"),R("core-js/modules/es.typed-array.copy-within"),R("core-js/modules/es.typed-array.every"),R("core-js/modules/es.typed-array.fill"),R("core-js/modules/es.typed-array.filter"),R("core-js/modules/es.typed-array.find"),R("core-js/modules/es.typed-array.find-index"),R("core-js/modules/es.typed-array.for-each"),R("core-js/modules/es.typed-array.includes"),R("core-js/modules/es.typed-array.index-of"),R("core-js/modules/es.typed-array.iterator"),R("core-js/modules/es.typed-array.join"),R("core-js/modules/es.typed-array.last-index-of"),R("core-js/modules/es.typed-array.map"),R("core-js/modules/es.typed-array.reduce"),R("core-js/modules/es.typed-array.reduce-right"),R("core-js/modules/es.typed-array.reverse"),R("core-js/modules/es.typed-array.set"),R("core-js/modules/es.typed-array.slice"),R("core-js/modules/es.typed-array.some"),R("core-js/modules/es.typed-array.sort"),R("core-js/modules/es.typed-array.subarray"),R("core-js/modules/es.typed-array.to-locale-string"),R("core-js/modules/es.typed-array.to-string"),R("core-js/modules/es.weak-map"),R("core-js/modules/web.dom-collections.iterator"),R("core-js/modules/es.array.fill"),R("core-js/modules/es.array.includes"),R("core-js/modules/es.array.iterator"),R("core-js/modules/es.object.get-prototype-of"),R("core-js/modules/es.object.to-string"),R("core-js/modules/es.string.includes"),R("core-js/modules/es.typed-array.float32-array"),R("core-js/modules/es.typed-array.uint8-array"),R("core-js/modules/es.typed-array.uint8-clamped-array"),R("core-js/modules/es.typed-array.copy-within"),R("core-js/modules/es.typed-array.every"),R("core-js/modules/es.typed-array.fill"),R("core-js/modules/es.typed-array.filter"),R("core-js/modules/es.typed-array.find"),R("core-js/modules/es.typed-array.find-index"),R("core-js/modules/es.typed-array.for-each"),R("core-js/modules/es.typed-array.includes"),R("core-js/modules/es.typed-array.index-of"),R("core-js/modules/es.typed-array.iterator"),R("core-js/modules/es.typed-array.join"),R("core-js/modules/es.typed-array.last-index-of"),R("core-js/modules/es.typed-array.map"),R("core-js/modules/es.typed-array.reduce"),R("core-js/modules/es.typed-array.reduce-right"),R("core-js/modules/es.typed-array.reverse"),R("core-js/modules/es.typed-array.set"),R("core-js/modules/es.typed-array.slice"),R("core-js/modules/es.typed-array.some"),R("core-js/modules/es.typed-array.sort"),R("core-js/modules/es.typed-array.subarray"),R("core-js/modules/es.typed-array.to-locale-string"),R("core-js/modules/es.typed-array.to-string"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var a=(T=R("../core/main"))&&T.__esModule?T:{default:T},d=function(D){if(D&&D.__esModule)return D;if(D===null||h(D)!=="object"&&typeof D!="function")return{default:D};var k=f();if(k&&k.has(D))return k.get(D);var F,P={},q=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(F in D){var z;Object.prototype.hasOwnProperty.call(D,F)&&((z=q?Object.getOwnPropertyDescriptor(D,F):null)&&(z.get||z.set)?Object.defineProperty(P,F,z):P[F]=D[F])}return P.default=D,k&&k.set(D,P),P}(R("../core/constants")),_=R("./p5.Texture"),w=R("./p5.RendererGL");function f(){var D;return typeof WeakMap!="function"?null:(D=new WeakMap,f=function(){return D},D)}function p(D,k){return function(F){if(Array.isArray(F))return F}(D)||function(F,P){if(Symbol.iterator in Object(F)||Object.prototype.toString.call(F)==="[object Arguments]"){var q=[],z=!0,H=!1,Q=void 0;try{for(var J,Z=F[Symbol.iterator]();!(z=(J=Z.next()).done)&&(q.push(J.value),!P||q.length!==P);z=!0);}catch(K){H=!0,Q=K}finally{try{z||Z.return==null||Z.return()}finally{if(H)throw Q}}return q}}(D,k)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function b(D,k,F){return k in D?Object.defineProperty(D,k,{value:F,enumerable:!0,configurable:!0,writable:!0}):D[k]=F,D}function y(D,k){if(!(D instanceof k))throw new TypeError("Cannot call a class as a function")}function m(D,k){for(var F=0;F<k.length;F++){var P=k[F];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(D,P.key,P)}}function g(D,k,F){k&&m(D.prototype,k)}function v(D,k,F){return(v=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(H,q,z){var H=function(Q,J){for(;!Object.prototype.hasOwnProperty.call(Q,J)&&(Q=A(Q))!==null;);return Q}(H,q);if(H)return(H=Object.getOwnPropertyDescriptor(H,q)).get?H.get.call(z):H.value})(D,k,F||D)}function S(D,k){return(S=Object.setPrototypeOf||function(F,P){return F.__proto__=P,F})(D,k)}function j(D){return function(){var k,F=A(D),F=(k=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(k=A(this).constructor,Reflect.construct(F,arguments,k)):F.apply(this,arguments),this);if(!k||h(k)!=="object"&&typeof k!="function"){if(F!==void 0)return F;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return k}}function A(D){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(k){return k.__proto__||Object.getPrototypeOf(k)})(D)}var L=function(D){var k=P;if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function");k.prototype=Object.create(D&&D.prototype,{constructor:{value:k,writable:!0,configurable:!0}}),D&&S(k,D);var F=j(P);function P(q){var z;return y(this,P),(z=F.call(this,q.target._renderer)).fbo=q,z.yScale=-1,z}return g(P,[{key:"_computeCameraDefaultSettings",value:function(){v(A(P.prototype),"_computeCameraDefaultSettings",this).call(this),this.defaultAspectRatio=this.fbo.width/this.fbo.height,this.defaultCameraFOV=2*Math.atan(this.fbo.height/2/this.defaultEyeZ)}}]),P}(a.default.Camera),C=(a.default.FramebufferCamera=L,function(){function D(k,F){y(this,D),this.framebuffer=k,this.property=F}return g(D,[{key:"rawTexture",value:function(){return this.framebuffer[this.property]}},{key:"width",get:function(){return this.framebuffer.width*this.framebuffer.density}},{key:"height",get:function(){return this.framebuffer.height*this.framebuffer.density}}]),D}()),T=(a.default.FramebufferTexture=C,function(){function D(k){var F=this,P=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},q=(y(this,D),this.target=k,this.target._renderer.framebuffers.add(this),this._isClipApplied=!1,this.pixels=[],this.format=P.format||d.UNSIGNED_BYTE,this.channels=P.channels||(k._renderer._pInst._glAttributes.alpha?d.RGBA:d.RGB),this.useDepth=P.depth===void 0||P.depth,this.depthFormat=P.depthFormat||d.FLOAT,this.textureFiltering=P.textureFiltering||d.LINEAR,P.antialias===void 0?this.antialiasSamples=k._renderer._pInst._glAttributes.antialias?2:0:typeof P.antialias=="number"?this.antialiasSamples=P.antialias:this.antialiasSamples=P.antialias?2:0,this.antialias=0<this.antialiasSamples,this.antialias&&k.webglVersion!==d.WEBGL2&&(console.warn("Antialiasing is unsupported in a WebGL 1 context"),this.antialias=!1),this.density=P.density||k.pixelDensity(),k._renderer.GL);if(this.gl=q,P.width&&P.height?(z=k._renderer._adjustDimensions(P.width,P.height),this.width=z.adjustedWidth,this.height=z.adjustedHeight,this._autoSized=!1):(P.width===void 0!=(P.height===void 0)&&console.warn("Please supply both width and height for a framebuffer to give it a size. Only one was given, so the framebuffer will match the size of its canvas."),this.width=k.width,this.height=k.height,this._autoSized=!0),this._checkIfFormatsAvailable(),P.stencil&&!this.useDepth&&console.warn("A stencil buffer can only be used if also using depth. Since the framebuffer has no depth buffer, the stencil buffer will be ignored."),this.useStencil=this.useDepth&&(P.stencil===void 0||P.stencil),this.framebuffer=q.createFramebuffer(),!this.framebuffer)throw new Error("Unable to create a framebuffer");if(this.antialias&&(this.aaFramebuffer=q.createFramebuffer(),!this.aaFramebuffer))throw new Error("Unable to create a framebuffer for antialiasing");this._recreateTextures();var z=this.target._renderer._curCamera;this.defaultCamera=this.createCamera(),this.filterCamera=this.createCamera(),this.target._renderer._curCamera=z,this.draw(function(){return F.target.clear()})}return g(D,[{key:"resize",value:function(k,F){this._autoSized=!1;var P=this.target._renderer._adjustDimensions(k,F);k=P.adjustedWidth,F=P.adjustedHeight,this.width=k,this.height=F,this._handleResize()}},{key:"pixelDensity",value:function(k){if(!k)return this.density;this._autoSized=!1,this.density=k,this._handleResize()}},{key:"autoSized",value:function(k){if(k===void 0)return this._autoSized;this._autoSized=k,this._handleResize()}},{key:"_checkIfFormatsAvailable",value:function(){var k=this.gl,k=(this.useDepth&&this.target.webglVersion===d.WEBGL&&!k.getExtension("WEBGL_depth_texture")&&(console.warn("Unable to create depth textures in this environment. Falling back to a framebuffer without depth."),this.useDepth=!1),this.useDepth&&this.target.webglVersion===d.WEBGL&&this.depthFormat===d.FLOAT&&(console.warn("FLOAT depth format is unavailable in WebGL 1. Defaulting to UNSIGNED_INT."),this.depthFormat=d.UNSIGNED_INT),[d.UNSIGNED_BYTE,d.FLOAT,d.HALF_FLOAT].includes(this.format)||(console.warn("Unknown Framebuffer format. Please use UNSIGNED_BYTE, FLOAT, or HALF_FLOAT. Defaulting to UNSIGNED_BYTE."),this.format=d.UNSIGNED_BYTE),this.useDepth&&![d.UNSIGNED_INT,d.FLOAT].includes(this.depthFormat)&&(console.warn("Unknown Framebuffer depth format. Please use UNSIGNED_INT or FLOAT. Defaulting to FLOAT."),this.depthFormat=d.FLOAT),(0,_.checkWebGLCapabilities)(this.target._renderer));k.float||this.format!==d.FLOAT||(console.warn("This environment does not support FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=d.UNSIGNED_BYTE),this.useDepth&&!k.float&&this.depthFormat===d.FLOAT&&(console.warn("This environment does not support FLOAT depth textures. Falling back to UNSIGNED_INT."),this.depthFormat=d.UNSIGNED_INT),k.halfFloat||this.format!==d.HALF_FLOAT||(console.warn("This environment does not support HALF_FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=d.UNSIGNED_BYTE),this.channels===d.RGB&&[d.FLOAT,d.HALF_FLOAT].includes(this.format)&&(console.warn("FLOAT and HALF_FLOAT formats do not work cross-platform with only RGB channels. Falling back to RGBA."),this.channels=d.RGBA)}},{key:"_recreateTextures",value:function(){var k=this.gl,F=(this._updateSize(),k.getParameter(k.TEXTURE_BINDING_2D)),P=k.getParameter(k.FRAMEBUFFER_BINDING),q=k.createTexture();if(!q)throw new Error("Unable to create color texture");k.bindTexture(k.TEXTURE_2D,q);var z=this._glColorFormat();if(k.texImage2D(k.TEXTURE_2D,0,z.internalFormat,this.width*this.density,this.height*this.density,0,z.format,z.type,null),this.colorTexture=q,k.bindFramebuffer(k.FRAMEBUFFER,this.framebuffer),k.framebufferTexture2D(k.FRAMEBUFFER,k.COLOR_ATTACHMENT0,k.TEXTURE_2D,q,0),this.useDepth){var q=k.createTexture();if(!q)throw new Error("Unable to create depth texture");var H=this._glDepthFormat();k.bindTexture(k.TEXTURE_2D,q),k.texImage2D(k.TEXTURE_2D,0,H.internalFormat,this.width*this.density,this.height*this.density,0,H.format,H.type,null),k.framebufferTexture2D(k.FRAMEBUFFER,this.useStencil?k.DEPTH_STENCIL_ATTACHMENT:k.DEPTH_ATTACHMENT,k.TEXTURE_2D,q,0),this.depthTexture=q}this.antialias&&(this.colorRenderbuffer=k.createRenderbuffer(),k.bindRenderbuffer(k.RENDERBUFFER,this.colorRenderbuffer),k.renderbufferStorageMultisample(k.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,k.getParameter(k.MAX_SAMPLES))),z.internalFormat,this.width*this.density,this.height*this.density),this.useDepth&&(H=this._glDepthFormat(),this.depthRenderbuffer=k.createRenderbuffer(),k.bindRenderbuffer(k.RENDERBUFFER,this.depthRenderbuffer),k.renderbufferStorageMultisample(k.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,k.getParameter(k.MAX_SAMPLES))),H.internalFormat,this.width*this.density,this.height*this.density)),k.bindFramebuffer(k.FRAMEBUFFER,this.aaFramebuffer),k.framebufferRenderbuffer(k.FRAMEBUFFER,k.COLOR_ATTACHMENT0,k.RENDERBUFFER,this.colorRenderbuffer),this.useDepth&&k.framebufferRenderbuffer(k.FRAMEBUFFER,this.useStencil?k.DEPTH_STENCIL_ATTACHMENT:k.DEPTH_ATTACHMENT,k.RENDERBUFFER,this.depthRenderbuffer)),this.useDepth&&(this.depth=new C(this,"depthTexture"),q=k.NEAREST,this.depthP5Texture=new a.default.Texture(this.target._renderer,this.depth,{minFilter:q,magFilter:q}),this.target._renderer.textures.set(this.depth,this.depthP5Texture)),this.color=new C(this,"colorTexture"),z=this.textureFiltering===d.LINEAR?k.LINEAR:k.NEAREST,this.colorP5Texture=new a.default.Texture(this.target._renderer,this.color,{minFilter:z,magFilter:z}),this.target._renderer.textures.set(this.color,this.colorP5Texture),k.bindTexture(k.TEXTURE_2D,F),k.bindFramebuffer(k.FRAMEBUFFER,P)}},{key:"_glColorFormat",value:function(){var k,F,P=this.gl,q=this.format===d.FLOAT?P.FLOAT:this.format===d.HALF_FLOAT?this.target.webglVersion===d.WEBGL2?P.HALF_FLOAT:P.getExtension("OES_texture_half_float").HALF_FLOAT_OES:P.UNSIGNED_BYTE,z=this.channels===d.RGBA?P.RGBA:P.RGB;return{internalFormat:this.target.webglVersion===d.WEBGL2?(b(F={},P.FLOAT,b({},P.RGBA,P.RGBA32F)),b(F,P.HALF_FLOAT,b({},P.RGBA,P.RGBA16F)),b(F,P.UNSIGNED_BYTE,(b(k={},P.RGBA,P.RGBA8),b(k,P.RGB,P.RGB8),k)),F[q][z]):this.format===d.HALF_FLOAT?P.RGBA:z,format:z,type:q}}},{key:"_glDepthFormat",value:function(){var P=this.gl,k=this.useStencil?this.depthFormat===d.FLOAT?P.FLOAT_32_UNSIGNED_INT_24_8_REV:this.target.webglVersion===d.WEBGL2?P.UNSIGNED_INT_24_8:P.getExtension("WEBGL_depth_texture").UNSIGNED_INT_24_8_WEBGL:this.depthFormat===d.FLOAT?P.FLOAT:P.UNSIGNED_INT,F=this.useStencil?P.DEPTH_STENCIL:P.DEPTH_COMPONENT,P=this.useStencil?this.depthFormat===d.FLOAT?P.DEPTH32F_STENCIL8:this.target.webglVersion===d.WEBGL2?P.DEPTH24_STENCIL8:P.DEPTH_STENCIL:this.target.webglVersion===d.WEBGL2?this.depthFormat===d.FLOAT?P.DEPTH_COMPONENT32F:P.DEPTH_COMPONENT24:P.DEPTH_COMPONENT;return{internalFormat:P,format:F,type:k}}},{key:"_updateSize",value:function(){this._autoSized&&(this.width=this.target.width,this.height=this.target.height,this.density=this.target.pixelDensity())}},{key:"_canvasSizeChanged",value:function(){this._autoSized&&this._handleResize()}},{key:"_handleResize",value:function(){var q=this.color,k=this.depth,F=this.colorRenderbuffer,P=this.depthRenderbuffer,q=(this._deleteTexture(q),k&&this._deleteTexture(k),this.gl);F&&q.deleteRenderbuffer(F),P&&q.deleteRenderbuffer(P),this._recreateTextures(),this.defaultCamera._resize()}},{key:"createCamera",value:function(){var k=new L(this);return k._computeCameraDefaultSettings(),k._setDefaultCamera(),this.target._renderer._curCamera=k}},{key:"_deleteTexture",value:function(k){this.gl.deleteTexture(k.rawTexture()),this.target._renderer.textures.delete(k)}},{key:"remove",value:function(){var k=this.gl;this._deleteTexture(this.color),this.depth&&this._deleteTexture(this.depth),k.deleteFramebuffer(this.framebuffer),this.aaFramebuffer&&k.deleteFramebuffer(this.aaFramebuffer),this.depthRenderbuffer&&k.deleteRenderbuffer(this.depthRenderbuffer),this.colorRenderbuffer&&k.deleteRenderbuffer(this.colorRenderbuffer),this.target._renderer.framebuffers.delete(this)}},{key:"begin",value:function(){this.prevFramebuffer=this.target._renderer.activeFramebuffer(),this.prevFramebuffer&&this.prevFramebuffer._beforeEnd(),this.target._renderer.activeFramebuffers.push(this),this._beforeBegin(),this.target.push(),this.target.setCamera(this.defaultCamera),this.target.resetMatrix(),this.target._renderer.uViewMatrix.set(this.target._renderer._curCamera.cameraMatrix),this.target._renderer.uModelMatrix.reset(),this.target._renderer._applyStencilTestIfClipping()}},{key:"_framebufferToBind",value:function(){return this.antialias?this.aaFramebuffer:this.framebuffer}},{key:"_beforeBegin",value:function(){var k=this.gl;k.bindFramebuffer(k.FRAMEBUFFER,this._framebufferToBind()),this.target._renderer.viewport(this.width*this.density,this.height*this.density)}},{key:"_beforeEnd",value:function(){if(this.antialias){var k=this.gl,F=(k.bindFramebuffer(k.READ_FRAMEBUFFER,this.aaFramebuffer),k.bindFramebuffer(k.DRAW_FRAMEBUFFER,this.framebuffer),[[k.COLOR_BUFFER_BIT,this.colorP5Texture.glMagFilter]]);this.useDepth&&F.push([k.DEPTH_BUFFER_BIT,this.depthP5Texture.glMagFilter]);for(var P=0,q=F;P<q.length;P++){var H=p(q[P],2),z=H[0],H=H[1];k.blitFramebuffer(0,0,this.width*this.density,this.height*this.density,0,0,this.width*this.density,this.height*this.density,z,H)}}}},{key:"end",value:function(){var k=this.gl;if(this.target.pop(),this.target._renderer.activeFramebuffers.pop()!==this)throw new Error("It looks like you've called end() while another Framebuffer is active.");this._beforeEnd(),this.prevFramebuffer?this.prevFramebuffer._beforeBegin():(k.bindFramebuffer(k.FRAMEBUFFER,null),this.target._renderer.viewport(this.target._renderer._origViewport.width,this.target._renderer._origViewport.height)),this.target._renderer._applyStencilTestIfClipping()}},{key:"draw",value:function(k){this.begin(),k(),this.end()}},{key:"loadPixels",value:function(){var k=this.gl,F=this.target._renderer.activeFramebuffer(),P=(k.bindFramebuffer(k.FRAMEBUFFER,this.framebuffer),this._glColorFormat());this.pixels=(0,w.readPixelsWebGL)(this.pixels,k,this.framebuffer,0,0,this.width*this.density,this.height*this.density,P.format,P.type),F?k.bindFramebuffer(k.FRAMEBUFFER,F._framebufferToBind()):k.bindFramebuffer(k.FRAMEBUFFER,null)}},{key:"get",value:function(k,F,P,q){a.default._validateParameters("p5.Framebuffer.get",arguments);var z=this._glColorFormat();if(k===void 0&&F===void 0)F=k=0,P=this.width,q=this.height;else if(P===void 0&&q===void 0)return(k<0||F<0||k>=this.width||F>=this.height)&&(console.warn("The x and y values passed to p5.Framebuffer.get are outside of its range and will be clamped."),k=this.target.constrain(k,0,this.width-1),F=this.target.constrain(F,0,this.height-1)),(0,w.readPixelWebGL)(this.gl,this.framebuffer,k*this.density,F*this.density,z.format,z.type);k=this.target.constrain(k,0,this.width-1),F=this.target.constrain(F,0,this.height-1),P=this.target.constrain(P,1,this.width-k),q=this.target.constrain(q,1,this.height-F);for(var H=(0,w.readPixelsWebGL)(void 0,this.gl,this.framebuffer,k*this.density,F*this.density,P*this.density,q*this.density,z.format,z.type),Q=new Uint8ClampedArray(P*q*this.density*this.density*4),J=(Q.fill(255),z.type===this.gl.RGB?3:4),Z=0;Z<q*this.density;Z++)for(var K=0;K<P*this.density;K++)for(var se=0;se<4;se++){var le,M=4*(Z*P*this.density+K)+se;se<J&&(le=J==4?M:(Z*P*this.density+K)*J+se,Q[M]=H[le])}return k=new a.default.Image(P*this.density,q*this.density),k.imageData=k.canvas.getContext("2d").createImageData(k.width,k.height),k.imageData.data.set(Q),k.pixels=k.imageData.data,k.updatePixels(),this.density!==1&&k.resize(P,q),k}},{key:"updatePixels",value:function(){var k=this.gl,F=(this.colorP5Texture.bindTexture(),this._glColorFormat()),P=F.format===k.RGBA?4:3,P=this.width*this.height*this.density*this.density*P,q=F.type===k.UNSIGNED_BYTE?Uint8Array:Float32Array;if(!(this.pixels instanceof q)||this.pixels.length!==P)throw new Error("The pixels array has not been set correctly. Please call loadPixels() before updatePixels().");k.texImage2D(k.TEXTURE_2D,0,F.internalFormat,this.width*this.density,this.height*this.density,0,F.format,F.type,this.pixels),this.colorP5Texture.unbindTexture(),q=this.target._renderer.activeFramebuffer(),this.antialias?(this.begin(),this.target.push(),this.target.imageMode(this.target.CENTER),this.target.resetMatrix(),this.target.noStroke(),this.target.clear(),this.target.image(this,0,0),this.target.pop(),this.useDepth&&(k.clearDepth(1),k.clear(k.DEPTH_BUFFER_BIT)),this.end()):(k.bindFramebuffer(k.FRAMEBUFFER,this.framebuffer),this.useDepth&&(k.clearDepth(1),k.clear(k.DEPTH_BUFFER_BIT)),q?k.bindFramebuffer(k.FRAMEBUFFER,q._framebufferToBind()):k.bindFramebuffer(k.FRAMEBUFFER,null))}}]),D}()),R=a.default.Framebuffer=T;c.default=R},{"../core/constants":272,"../core/main":283,"./p5.RendererGL":341,"./p5.Texture":343,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.reflect.get":193,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.typed-array.uint8-clamped-array":243,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],335:[function(t,o,c){function l(y){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(y)}function h(y){return(h=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(m){return l(m)}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":l(m)})(y)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.flat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.unscopables.flat"),t("core-js/modules/es.array-buffer.constructor"),t("core-js/modules/es.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.entries"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.flat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.unscopables.flat"),t("core-js/modules/es.array-buffer.constructor"),t("core-js/modules/es.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.sub"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var a=(b=t("../core/main"))&&b.__esModule?b:{default:b},d=function(y){if(y&&y.__esModule)return y;if(y===null||h(y)!=="object"&&typeof y!="function")return{default:y};var m=_();if(m&&m.has(y))return m.get(y);var g,v={},S=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(g in y){var j;Object.prototype.hasOwnProperty.call(y,g)&&((j=S?Object.getOwnPropertyDescriptor(y,g):null)&&(j.get||j.set)?Object.defineProperty(v,g,j):v[g]=y[g])}return v.default=y,m&&m.set(y,v),v}(t("../core/constants"));function _(){var y;return typeof WeakMap!="function"?null:(y=new WeakMap,_=function(){return y},y)}function w(y){return function(m){if(Array.isArray(m)){for(var g=0,v=new Array(m.length);g<m.length;g++)v[g]=m[g];return v}}(y)||function(m){if(Symbol.iterator in Object(m)||Object.prototype.toString.call(m)==="[object Arguments]")return Array.from(m)}(y)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function f(y,m){return function(g){if(Array.isArray(g))return g}(y)||function(g,v){if(Symbol.iterator in Object(g)||Object.prototype.toString.call(g)==="[object Arguments]"){var S=[],j=!0,A=!1,L=void 0;try{for(var C,T=g[Symbol.iterator]();!(j=(C=T.next()).done)&&(S.push(C.value),!v||S.length!==v);j=!0);}catch(R){A=!0,L=R}finally{try{j||T.return==null||T.return()}finally{if(A)throw L}}return S}}(y,m)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function p(y,m){for(var g=0;g<m.length;g++){var v=m[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(y,v.key,v)}}a.default.Geometry=function(){function y(v,S,j){if(!(this instanceof y))throw new TypeError("Cannot call a class as a function");this.vertices=[],this.boundingBoxCache=null,this.lineVertices=new a.default.DataArray,this.lineTangentsIn=new a.default.DataArray,this.lineTangentsOut=new a.default.DataArray,this.lineSides=new a.default.DataArray,this.vertexNormals=[],this.faces=[],this.uvs=[],this.edges=[],this.vertexColors=[],this.vertexStrokeColors=[],this.lineVertexColors=new a.default.DataArray,this.detailX=v!==void 0?v:1,this.detailY=S!==void 0?S:1,this.dirtyFlags={},this._hasFillTransparency=void 0,this._hasStrokeTransparency=void 0,j instanceof Function&&j.call(this)}var m,g;return m=y,(g=[{key:"calculateBoundingBox",value:function(){if(!this.boundingBoxCache){for(var v=new a.default.Vector(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),S=new a.default.Vector(Number.MIN_VALUE,Number.MIN_VALUE,Number.MIN_VALUE),j=0;j<this.vertices.length;j++){var A=this.vertices[j];v.x=Math.min(v.x,A.x),v.y=Math.min(v.y,A.y),v.z=Math.min(v.z,A.z),S.x=Math.max(S.x,A.x),S.y=Math.max(S.y,A.y),S.z=Math.max(S.z,A.z)}var L=new a.default.Vector(S.x-v.x,S.y-v.y,S.z-v.z),C=new a.default.Vector((v.x+S.x)/2,(v.y+S.y)/2,(v.z+S.z)/2);this.boundingBoxCache={min:v,max:S,size:L,offset:C}}return this.boundingBoxCache}},{key:"reset",value:function(){this._hasFillTransparency=void 0,this._hasStrokeTransparency=void 0,this.lineVertices.clear(),this.lineTangentsIn.clear(),this.lineTangentsOut.clear(),this.lineSides.clear(),this.vertices.length=0,this.edges.length=0,this.vertexColors.length=0,this.vertexStrokeColors.length=0,this.lineVertexColors.clear(),this.vertexNormals.length=0,this.uvs.length=0,this.dirtyFlags={}}},{key:"hasFillTransparency",value:function(){if(this._hasFillTransparency===void 0){this._hasFillTransparency=!1;for(var v=0;v<this.vertexColors.length;v+=4)if(this.vertexColors[v+3]<1){this._hasFillTransparency=!0;break}}return this._hasFillTransparency}},{key:"hasStrokeTransparency",value:function(){if(this._hasStrokeTransparency===void 0){this._hasStrokeTransparency=!1;for(var v=0;v<this.lineVertexColors.length;v+=4)if(this.lineVertexColors[v+3]<1){this._hasStrokeTransparency=!0;break}}return this._hasStrokeTransparency}},{key:"clearColors",value:function(){return this.vertexColors=[],this}},{key:"saveObj",value:function(){var v=this,S=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"model.obj",j="";if(this.vertices.forEach(function(C){j+="v ".concat(C.x," ").concat(C.y," ").concat(C.z,`
`)}),this.uvs&&0<this.uvs.length)for(var A=0;A<this.uvs.length;A+=2)j+="vt ".concat(this.uvs[A]," ").concat(this.uvs[A+1],`
`);this.vertexNormals&&0<this.vertexNormals.length&&this.vertexNormals.forEach(function(C){j+="vn ".concat(C.x," ").concat(C.y," ").concat(C.z,`
`)}),this.faces.forEach(function(C){var T="f";C.forEach(function(R){T=T+" "+(R+1),(0<v.vertexNormals.length||0<v.uvs.length)&&(T+="/",0<v.uvs.length&&(T+=R+1),T+="/",0<v.vertexNormals.length&&(T+=R+1))}),j+=T+`
`});var L=new Blob([j],{type:"text/plain"});a.default.prototype.downloadFile(L,S,"obj")}},{key:"saveStl",value:function(){var v=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"model.stl",S=(1<arguments.length&&arguments[1]!==void 0?arguments[1]:{}).binary,S=S!==void 0&&S,j=v.substring(0,v.lastIndexOf(".")),A=[],L=!0,C=!1,T=void 0;try{for(var R,D=this.faces[Symbol.iterator]();!(L=(R=D.next()).done);L=!0){var k=R.value,F=a.default.Vector.sub(this.vertices[k[1]],this.vertices[k[0]]),P=a.default.Vector.sub(this.vertices[k[2]],this.vertices[k[0]]),q=F.y*P.z-F.z*P.y,z=F.z*P.x-F.x*P.z,H=F.x*P.y-F.y*P.x;A.push(new a.default.Vector(q,z,H).normalize())}}catch(ke){C=!0,T=ke}finally{try{L||D.return==null||D.return()}finally{if(C)throw T}}if(S){var Q,J=80,C=2*this.faces.length+3*this.faces.length*4*4+80+4,T=new ArrayBuffer(C);(Q=new DataView(T)).setUint32(J,this.faces.length,!0),J+=4;for(var Z=0,K=Object.entries(this.faces);Z<K.length;Z++){var se=f(K[Z],2),M=se[0],se=se[1],M=A[M],le=(Q.setFloat32(J,M.x,!0),J+=4,Q.setFloat32(J,M.y,!0),J+=4,Q.setFloat32(J,M.z,!0),J+=4,!0),M=!1,G=void 0;try{for(var X,ee=se[Symbol.iterator]();!(le=(X=ee.next()).done);le=!0){var ae=X.value,ce=this.vertices[ae];Q.setFloat32(J,ce.x,!0),J+=4,Q.setFloat32(J,ce.y,!0),J+=4,Q.setFloat32(J,ce.z,!0),J+=4}}catch(Je){M=!0,G=Je}finally{try{le||ee.return==null||ee.return()}finally{if(M)throw G}}Q.setUint16(J,0,!0),J+=2}}else{Q="solid "+j+`
`;for(var pe=0,ve=Object.entries(this.faces);pe<ve.length;pe++){var ge=f(ve[pe],2),xe=ge[0],ge=ge[1],xe=A[xe],Se=(Q=Q+(" facet norm "+xe.x+" "+xe.y+" "+xe.z+`
`)+`  outer loop
`,!0),xe=!1,he=void 0;try{for(var je,Ce=ge[Symbol.iterator]();!(Se=(je=Ce.next()).done);Se=!0){var De=je.value,Oe=this.vertices[De];Q+="   vertex "+Oe.x+" "+Oe.y+" "+Oe.z+`
`}}catch(ke){xe=!0,he=ke}finally{try{Se||Ce.return==null||Ce.return()}finally{if(xe)throw he}}Q=Q+`  endloop
 endfacet
`}Q+="endsolid "+j+`
`}S=new Blob([Q],{type:"text/plain"}),a.default.prototype.downloadFile(S,v,"stl")}},{key:"flipU",value:function(){this.uvs=this.uvs.flat().map(function(v,S){return S%2==0?1-v:v})}},{key:"flipV",value:function(){this.uvs=this.uvs.flat().map(function(v,S){return S%2==0?v:1-v})}},{key:"computeFaces",value:function(){this.faces.length=0;for(var v,S,j,A=this.detailX+1,L=0;L<this.detailY;L++)for(var C=0;C<this.detailX;C++)S=(L+1)*A+C+1,this.faces.push([L*A+C,v=L*A+C+1,j=(L+1)*A+C]),this.faces.push([j,v,S]);return this}},{key:"_getFaceNormal",value:function(S){var S=this.faces[S],j=this.vertices[S[0]],L=this.vertices[S[1]],S=this.vertices[S[2]],L=a.default.Vector.sub(L,j),S=a.default.Vector.sub(S,j),j=a.default.Vector.cross(L,S),A=a.default.Vector.mag(j),L=A/(a.default.Vector.mag(L)*a.default.Vector.mag(S));return L===0||isNaN(L)?(console.warn("p5.Geometry.prototype._getFaceNormal:","face has colinear sides or a repeated vertex"),j):(1<L&&(L=1),j.mult(Math.asin(L)/A))}},{key:"computeNormals",value:function(){var v,S=this,j=0<arguments.length&&arguments[0]!==void 0?arguments[0]:d.FLAT,A=(1<arguments.length&&arguments[1]!==void 0?arguments[1]:{}).roundToPrecision,L=this.vertexNormals,C=this.vertices,T=this.faces;if(j===d.SMOOTH){for(var R={},D=[],k=Math.pow(10,A===void 0?3:A),F=function(Q){return Math.round(Q*k)/k},P=function(Q){return"".concat(F(Q.x),",").concat(F(Q.y),",").concat(F(Q.z))},q=0;q<C.length;q++){var z=C[q],H=P(z);R[H]===void 0&&(R[H]=D.length,D.push(z))}T.forEach(function(Q){for(var J=0;J<3;++J){var Z=Q[J],Z=C[Z],Z=P(Z);Q[J]=R[Z]}}),this.edges.forEach(function(Q){for(var J=0;J<2;++J){var Z=Q[J],Z=C[Z],Z=P(Z);Q[J]=R[Z]}}),this.vertices=C=D}for(v=L.length=0;v<C.length;++v)L.push(new a.default.Vector);for(T.forEach(function(Q,J){for(var Z=S._getFaceNormal(J),K=0;K<3;++K){var se=Q[K];L[se].add(Z)}}),v=0;v<C.length;++v)L[v].normalize();return this}},{key:"averageNormals",value:function(){for(var v=0;v<=this.detailY;v++){var S=this.detailX+1,j=a.default.Vector.add(this.vertexNormals[v*S],this.vertexNormals[v*S+this.detailX]),j=a.default.Vector.div(j,2);this.vertexNormals[v*S]=j,this.vertexNormals[v*S+this.detailX]=j}return this}},{key:"averagePoleNormals",value:function(){for(var v=new a.default.Vector(0,0,0),S=0;S<this.detailX;S++)v.add(this.vertexNormals[S]);for(var v=a.default.Vector.div(v,this.detailX),j=0;j<this.detailX;j++)this.vertexNormals[j]=v;v=new a.default.Vector(0,0,0);for(var A=this.vertices.length-1;A>this.vertices.length-1-this.detailX;A--)v.add(this.vertexNormals[A]);v=a.default.Vector.div(v,this.detailX);for(var L=this.vertices.length-1;L>this.vertices.length-1-this.detailX;L--)this.vertexNormals[L]=v;return this}},{key:"_makeTriangleEdges",value:function(){for(var v=this.edges.length=0;v<this.faces.length;v++)this.edges.push([this.faces[v][0],this.faces[v][1]]),this.edges.push([this.faces[v][1],this.faces[v][2]]),this.edges.push([this.faces[v][2],this.faces[v][0]]);return this}},{key:"_edgesToVertices",value:function(){this.lineVertices.clear(),this.lineTangentsIn.clear(),this.lineTangentsOut.clear(),this.lineSides.clear();for(var v,S=new Map,j=new Set,A=0;A<this.edges.length;A++){var L,C=this.edges[A-1],T=this.edges[A],R=this.vertices[T[0]],D=this.vertices[T[1]],k=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*T[0],4*(T[0]+1)):[0,0,0,0],F=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*T[1],4*(T[1]+1)):[0,0,0,0],P=D.copy().sub(R).normalize(),q=0<P.magSq();q&&this._addSegment(R,D,k,F,P),0<A&&C[1]===T[0]?j.has(T[0])||(j.add(T[0]),S.delete(T[0]),v&&q&&P.dot(v)<1-1e-8&&this._addJoin(R,v,P,k)):(q&&!j.has(T[0])&&((L=S.get(T[0]))?(this._addJoin(R,L.dir,P,k),S.delete(T[0]),j.add(T[0])):S.set(T[0],{point:R,dir:P.copy().mult(-1),color:k})),v&&!j.has(C[1])&&((L=S.get(C[1]))?(this._addJoin(this.vertices[C[1]],v,L.dir.copy().mult(-1),k),S.delete(C[1]),j.add(C[1])):S.set(C[1],{point:this.vertices[C[1]],dir:v,color:k}),v=void 0)),A!==this.edges.length-1||j.has(T[1])||((R=S.get(T[1]))?(this._addJoin(D,P,R.dir.copy().mult(-1),F),S.delete(T[1]),j.add(T[1])):S.set(T[1],{point:D,dir:P,color:F})),q&&(v=P)}var z=!0,H=!1,Q=void 0;try{for(var J,Z=S.values()[Symbol.iterator]();!(z=(J=Z.next()).done);z=!0){var K=J.value,se=K.point,le=K.dir,M=K.color;this._addCap(se,le,M)}}catch(G){H=!0,Q=G}finally{try{z||Z.return==null||Z.return()}finally{if(H)throw Q}}return this}},{key:"_addSegment",value:function(C,T,j,A,L){var C=C.array(),T=T.array(),R=L.array();this.lineSides.push(1,1,-1,1,-1,-1);for(var D=0,k=[this.lineTangentsIn,this.lineTangentsOut];D<k.length;D++)for(var F=k[D],P=0;P<6;P++)F.push.apply(F,w(R));return(L=this.lineVertices).push.apply(L,w(C).concat(w(T),w(C),w(T),w(T),w(C))),(L=this.lineVertexColors).push.apply(L,w(j).concat(w(A),w(j),w(A),w(A),w(j))),this}},{key:"_addCap",value:function(v,S,j){for(var A,L=v.array(),C=S.array(),T=[0,0,0],R=0;R<6;R++)(A=this.lineVertices).push.apply(A,w(L)),(A=this.lineTangentsIn).push.apply(A,w(C)),(A=this.lineTangentsOut).push.apply(A,T),(A=this.lineVertexColors).push.apply(A,w(j));return this.lineSides.push(-1,2,-2,1,2,-1),this}},{key:"_addJoin",value:function(v,S,j,A){for(var L,C=v.array(),T=S.array(),R=j.array(),D=0;D<12;D++)(L=this.lineVertices).push.apply(L,w(C)),(L=this.lineTangentsIn).push.apply(L,w(T)),(L=this.lineTangentsOut).push.apply(L,w(R)),(L=this.lineVertexColors).push.apply(L,w(A));return this.lineSides.push(-1,-3,-2,-1,0,-3),this.lineSides.push(3,1,2,3,0,1),this}},{key:"normalize",value:function(){if(0<this.vertices.length){for(var v=this.vertices[0].copy(),S=this.vertices[0].copy(),j=0;j<this.vertices.length;j++)v.x=Math.max(v.x,this.vertices[j].x),S.x=Math.min(S.x,this.vertices[j].x),v.y=Math.max(v.y,this.vertices[j].y),S.y=Math.min(S.y,this.vertices[j].y),v.z=Math.max(v.z,this.vertices[j].z),S.z=Math.min(S.z,this.vertices[j].z);for(var A=a.default.Vector.lerp(v,S,.5),L=a.default.Vector.sub(v,S),C=200/Math.max(Math.max(L.x,L.y),L.z),T=0;T<this.vertices.length;T++)this.vertices[T].sub(A),this.vertices[T].mult(C)}return this}}])&&p(m.prototype,g),y}();var b=a.default.Geometry;c.default=b},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array-buffer.constructor":152,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.flat":160,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.unscopables.flat":173,"core-js/modules/es.map":175,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.entries":184,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.sub":208,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],336:[function(_,o,c){_("core-js/modules/es.array.iterator"),_("core-js/modules/es.object.to-string"),_("core-js/modules/es.typed-array.float32-array"),_("core-js/modules/es.typed-array.copy-within"),_("core-js/modules/es.typed-array.every"),_("core-js/modules/es.typed-array.fill"),_("core-js/modules/es.typed-array.filter"),_("core-js/modules/es.typed-array.find"),_("core-js/modules/es.typed-array.find-index"),_("core-js/modules/es.typed-array.for-each"),_("core-js/modules/es.typed-array.includes"),_("core-js/modules/es.typed-array.index-of"),_("core-js/modules/es.typed-array.iterator"),_("core-js/modules/es.typed-array.join"),_("core-js/modules/es.typed-array.last-index-of"),_("core-js/modules/es.typed-array.map"),_("core-js/modules/es.typed-array.reduce"),_("core-js/modules/es.typed-array.reduce-right"),_("core-js/modules/es.typed-array.reverse"),_("core-js/modules/es.typed-array.set"),_("core-js/modules/es.typed-array.slice"),_("core-js/modules/es.typed-array.some"),_("core-js/modules/es.typed-array.sort"),_("core-js/modules/es.typed-array.subarray"),_("core-js/modules/es.typed-array.to-locale-string"),_("core-js/modules/es.typed-array.to-string"),_("core-js/modules/es.array.iterator"),_("core-js/modules/es.object.to-string"),_("core-js/modules/es.typed-array.float32-array"),_("core-js/modules/es.typed-array.copy-within"),_("core-js/modules/es.typed-array.every"),_("core-js/modules/es.typed-array.fill"),_("core-js/modules/es.typed-array.filter"),_("core-js/modules/es.typed-array.find"),_("core-js/modules/es.typed-array.find-index"),_("core-js/modules/es.typed-array.for-each"),_("core-js/modules/es.typed-array.includes"),_("core-js/modules/es.typed-array.index-of"),_("core-js/modules/es.typed-array.iterator"),_("core-js/modules/es.typed-array.join"),_("core-js/modules/es.typed-array.last-index-of"),_("core-js/modules/es.typed-array.map"),_("core-js/modules/es.typed-array.reduce"),_("core-js/modules/es.typed-array.reduce-right"),_("core-js/modules/es.typed-array.reverse"),_("core-js/modules/es.typed-array.set"),_("core-js/modules/es.typed-array.slice"),_("core-js/modules/es.typed-array.some"),_("core-js/modules/es.typed-array.sort"),_("core-js/modules/es.typed-array.subarray"),_("core-js/modules/es.typed-array.to-locale-string"),_("core-js/modules/es.typed-array.to-string"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var l=(_=_("../core/main"))&&_.__esModule?_:{default:_};function h(w,f){for(var p=0;p<f.length;p++){var b=f[p];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(w,b.key,b)}}var a=Array,d=function(w){return Array.isArray(w)},_=(typeof Float32Array<"u"&&(a=Float32Array,d=function(w){return Array.isArray(w)||w instanceof Float32Array}),l.default.Matrix=function(){function w(){var y=this,m=w;if(y instanceof m)return arguments.length&&((y=arguments.length-1)<0||arguments.length<=y?void 0:arguments[y])instanceof l.default&&(this.p5=(m=arguments.length-1)<0||arguments.length<=m?void 0:arguments[m]),(arguments.length<=0?void 0:arguments[0])==="mat3"?this.mat3=Array.isArray(arguments.length<=1?void 0:arguments[1])?arguments.length<=1?void 0:arguments[1]:new a([1,0,0,0,1,0,0,0,1]):this.mat4=Array.isArray(arguments.length<=0?void 0:arguments[0])?arguments.length<=0?void 0:arguments[0]:new a([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this;throw new TypeError("Cannot call a class as a function")}var f,p,b;return f=w,b=[{key:"identity",value:function(y){return new l.default.Matrix(y)}}],(p=[{key:"reset",value:function(){return this.mat3?this.mat3.set([1,0,0,0,1,0,0,0,1]):this.mat4&&this.mat4.set([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this}},{key:"set",value:function(y){var m=arguments;if(y instanceof l.default.Matrix?m=y.mat4:d(y)&&(m=y),m.length!==16)l.default._friendlyError("Expected 16 values but received ".concat(m.length,"."),"p5.Matrix.set");else for(var g=0;g<16;g++)this.mat4[g]=m[g];return this}},{key:"get",value:function(){return new l.default.Matrix(this.mat4,this.p5)}},{key:"copy",value:function(){var y;return this.mat3!==void 0?((y=new l.default.Matrix("mat3",this.p5)).mat3[0]=this.mat3[0],y.mat3[1]=this.mat3[1],y.mat3[2]=this.mat3[2],y.mat3[3]=this.mat3[3],y.mat3[4]=this.mat3[4],y.mat3[5]=this.mat3[5],y.mat3[6]=this.mat3[6],y.mat3[7]=this.mat3[7],y.mat3[8]=this.mat3[8]):((y=new l.default.Matrix(this.p5)).mat4[0]=this.mat4[0],y.mat4[1]=this.mat4[1],y.mat4[2]=this.mat4[2],y.mat4[3]=this.mat4[3],y.mat4[4]=this.mat4[4],y.mat4[5]=this.mat4[5],y.mat4[6]=this.mat4[6],y.mat4[7]=this.mat4[7],y.mat4[8]=this.mat4[8],y.mat4[9]=this.mat4[9],y.mat4[10]=this.mat4[10],y.mat4[11]=this.mat4[11],y.mat4[12]=this.mat4[12],y.mat4[13]=this.mat4[13],y.mat4[14]=this.mat4[14],y.mat4[15]=this.mat4[15]),y}},{key:"transpose",value:function(y){var m,g,v,S,j,A;return y instanceof l.default.Matrix?(m=y.mat4[1],g=y.mat4[2],v=y.mat4[3],S=y.mat4[6],j=y.mat4[7],A=y.mat4[11],this.mat4[0]=y.mat4[0],this.mat4[1]=y.mat4[4],this.mat4[2]=y.mat4[8],this.mat4[3]=y.mat4[12],this.mat4[4]=m,this.mat4[5]=y.mat4[5],this.mat4[6]=y.mat4[9],this.mat4[7]=y.mat4[13],this.mat4[8]=g,this.mat4[9]=S,this.mat4[10]=y.mat4[10],this.mat4[11]=y.mat4[14],this.mat4[12]=v,this.mat4[13]=j,this.mat4[14]=A,this.mat4[15]=y.mat4[15]):d(y)&&(m=y[1],g=y[2],v=y[3],S=y[6],j=y[7],A=y[11],this.mat4[0]=y[0],this.mat4[1]=y[4],this.mat4[2]=y[8],this.mat4[3]=y[12],this.mat4[4]=m,this.mat4[5]=y[5],this.mat4[6]=y[9],this.mat4[7]=y[13],this.mat4[8]=g,this.mat4[9]=S,this.mat4[10]=y[10],this.mat4[11]=y[14],this.mat4[12]=v,this.mat4[13]=j,this.mat4[14]=A,this.mat4[15]=y[15]),this}},{key:"invert",value:function(H){H instanceof l.default.Matrix?(m=H.mat4[0],g=H.mat4[1],v=H.mat4[2],S=H.mat4[3],j=H.mat4[4],A=H.mat4[5],L=H.mat4[6],C=H.mat4[7],T=H.mat4[8],R=H.mat4[9],D=H.mat4[10],k=H.mat4[11],F=H.mat4[12],P=H.mat4[13],q=H.mat4[14],z=H.mat4[15]):d(H)&&(m=H[0],g=H[1],v=H[2],S=H[3],j=H[4],A=H[5],L=H[6],C=H[7],T=H[8],R=H[9],D=H[10],k=H[11],F=H[12],P=H[13],q=H[14],z=H[15]);var m,g,v,S,j,A,L,C,T,R,D,k,F,P,q,z,H=m*A-g*j,Q=m*L-v*j,J=m*C-S*j,Z=g*L-v*A,K=g*C-S*A,se=v*C-S*L,le=T*P-R*F,M=T*q-D*F,G=T*z-k*F,X=R*q-D*P,ee=R*z-k*P,ae=D*z-k*q,ce=H*ae-Q*ee+J*X+Z*G-K*M+se*le;return ce?(this.mat4[0]=(A*ae-L*ee+C*X)*(ce=1/ce),this.mat4[1]=(v*ee-g*ae-S*X)*ce,this.mat4[2]=(P*se-q*K+z*Z)*ce,this.mat4[3]=(D*K-R*se-k*Z)*ce,this.mat4[4]=(L*G-j*ae-C*M)*ce,this.mat4[5]=(m*ae-v*G+S*M)*ce,this.mat4[6]=(q*J-F*se-z*Q)*ce,this.mat4[7]=(T*se-D*J+k*Q)*ce,this.mat4[8]=(j*ee-A*G+C*le)*ce,this.mat4[9]=(g*G-m*ee-S*le)*ce,this.mat4[10]=(F*K-P*J+z*H)*ce,this.mat4[11]=(R*J-T*K-k*H)*ce,this.mat4[12]=(A*M-j*X-L*le)*ce,this.mat4[13]=(m*X-g*M+v*le)*ce,this.mat4[14]=(P*Q-F*Z-q*H)*ce,this.mat4[15]=(T*Z-R*Q+D*H)*ce,this):null}},{key:"invert3x3",value:function(){var y=this.mat3[0],m=this.mat3[1],g=this.mat3[2],v=this.mat3[3],S=this.mat3[4],j=this.mat3[5],A=this.mat3[6],L=this.mat3[7],C=this.mat3[8],T=C*S-j*L,R=-C*v+j*A,D=L*v-S*A,k=y*T+m*R+g*D;return k?(this.mat3[0]=T*(k=1/k),this.mat3[1]=(-C*m+g*L)*k,this.mat3[2]=(j*m-g*S)*k,this.mat3[3]=R*k,this.mat3[4]=(C*y-g*A)*k,this.mat3[5]=(-j*y+g*v)*k,this.mat3[6]=D*k,this.mat3[7]=(-L*y+m*A)*k,this.mat3[8]=(S*y-m*v)*k,this):null}},{key:"transpose3x3",value:function(y){var m=(y=y===void 0?this.mat3:y)[1],g=y[2],v=y[5];return this.mat3[0]=y[0],this.mat3[1]=y[3],this.mat3[2]=y[6],this.mat3[3]=m,this.mat3[4]=y[4],this.mat3[5]=y[7],this.mat3[6]=g,this.mat3[7]=v,this.mat3[8]=y[8],this}},{key:"inverseTranspose",value:function(y){if(y=y.mat4,this.mat3===void 0?l.default._friendlyError("sorry, this function only works with mat3"):(this.mat3[0]=y[0],this.mat3[1]=y[1],this.mat3[2]=y[2],this.mat3[3]=y[4],this.mat3[4]=y[5],this.mat3[5]=y[6],this.mat3[6]=y[8],this.mat3[7]=y[9],this.mat3[8]=y[10]),y=this.invert3x3(),y)y.transpose3x3(this.mat3);else for(var m=0;m<9;m++)this.mat3[m]=0;return this}},{key:"determinant",value:function(){var y=this.mat4[0]*this.mat4[5]-this.mat4[1]*this.mat4[4],m=this.mat4[0]*this.mat4[6]-this.mat4[2]*this.mat4[4],g=this.mat4[0]*this.mat4[7]-this.mat4[3]*this.mat4[4],v=this.mat4[1]*this.mat4[6]-this.mat4[2]*this.mat4[5],S=this.mat4[1]*this.mat4[7]-this.mat4[3]*this.mat4[5],j=this.mat4[2]*this.mat4[7]-this.mat4[3]*this.mat4[6],A=this.mat4[8]*this.mat4[13]-this.mat4[9]*this.mat4[12],L=this.mat4[8]*this.mat4[14]-this.mat4[10]*this.mat4[12],C=this.mat4[8]*this.mat4[15]-this.mat4[11]*this.mat4[12],T=this.mat4[9]*this.mat4[14]-this.mat4[10]*this.mat4[13],R=this.mat4[9]*this.mat4[15]-this.mat4[11]*this.mat4[13];return y*(this.mat4[10]*this.mat4[15]-this.mat4[11]*this.mat4[14])-m*R+g*T+v*C-S*L+j*A}},{key:"mult",value:function(g){var m;if(g===this||g===this.mat4)m=this.copy().mat4;else if(g instanceof l.default.Matrix)m=g.mat4;else if(d(g))m=g;else{if(arguments.length!==16)return;m=arguments}var g=this.mat4[0],v=this.mat4[1],S=this.mat4[2],j=this.mat4[3];return this.mat4[0]=g*m[0]+v*m[4]+S*m[8]+j*m[12],this.mat4[1]=g*m[1]+v*m[5]+S*m[9]+j*m[13],this.mat4[2]=g*m[2]+v*m[6]+S*m[10]+j*m[14],this.mat4[3]=g*m[3]+v*m[7]+S*m[11]+j*m[15],g=this.mat4[4],v=this.mat4[5],S=this.mat4[6],j=this.mat4[7],this.mat4[4]=g*m[0]+v*m[4]+S*m[8]+j*m[12],this.mat4[5]=g*m[1]+v*m[5]+S*m[9]+j*m[13],this.mat4[6]=g*m[2]+v*m[6]+S*m[10]+j*m[14],this.mat4[7]=g*m[3]+v*m[7]+S*m[11]+j*m[15],g=this.mat4[8],v=this.mat4[9],S=this.mat4[10],j=this.mat4[11],this.mat4[8]=g*m[0]+v*m[4]+S*m[8]+j*m[12],this.mat4[9]=g*m[1]+v*m[5]+S*m[9]+j*m[13],this.mat4[10]=g*m[2]+v*m[6]+S*m[10]+j*m[14],this.mat4[11]=g*m[3]+v*m[7]+S*m[11]+j*m[15],g=this.mat4[12],v=this.mat4[13],S=this.mat4[14],j=this.mat4[15],this.mat4[12]=g*m[0]+v*m[4]+S*m[8]+j*m[12],this.mat4[13]=g*m[1]+v*m[5]+S*m[9]+j*m[13],this.mat4[14]=g*m[2]+v*m[6]+S*m[10]+j*m[14],this.mat4[15]=g*m[3]+v*m[7]+S*m[11]+j*m[15],this}},{key:"apply",value:function(g){var m;if(g===this||g===this.mat4)m=this.copy().mat4;else if(g instanceof l.default.Matrix)m=g.mat4;else if(d(g))m=g;else{if(arguments.length!==16)return;m=arguments}var g=this.mat4,v=g[0],S=g[4],j=g[8],A=g[12],v=(g[0]=m[0]*v+m[1]*S+m[2]*j+m[3]*A,g[4]=m[4]*v+m[5]*S+m[6]*j+m[7]*A,g[8]=m[8]*v+m[9]*S+m[10]*j+m[11]*A,g[12]=m[12]*v+m[13]*S+m[14]*j+m[15]*A,g[1]),S=g[5],j=g[9],A=g[13],v=(g[1]=m[0]*v+m[1]*S+m[2]*j+m[3]*A,g[5]=m[4]*v+m[5]*S+m[6]*j+m[7]*A,g[9]=m[8]*v+m[9]*S+m[10]*j+m[11]*A,g[13]=m[12]*v+m[13]*S+m[14]*j+m[15]*A,g[2]),S=g[6],j=g[10],A=g[14],v=(g[2]=m[0]*v+m[1]*S+m[2]*j+m[3]*A,g[6]=m[4]*v+m[5]*S+m[6]*j+m[7]*A,g[10]=m[8]*v+m[9]*S+m[10]*j+m[11]*A,g[14]=m[12]*v+m[13]*S+m[14]*j+m[15]*A,g[3]),S=g[7],j=g[11],A=g[15];return g[3]=m[0]*v+m[1]*S+m[2]*j+m[3]*A,g[7]=m[4]*v+m[5]*S+m[6]*j+m[7]*A,g[11]=m[8]*v+m[9]*S+m[10]*j+m[11]*A,g[15]=m[12]*v+m[13]*S+m[14]*j+m[15]*A,this}},{key:"scale",value:function(y,m,g){return y instanceof l.default.Vector?(m=y.y,g=y.z,y=y.x):y instanceof Array&&(m=y[1],g=y[2],y=y[0]),this.mat4[0]*=y,this.mat4[1]*=y,this.mat4[2]*=y,this.mat4[3]*=y,this.mat4[4]*=m,this.mat4[5]*=m,this.mat4[6]*=m,this.mat4[7]*=m,this.mat4[8]*=g,this.mat4[9]*=g,this.mat4[10]*=g,this.mat4[11]*=g,this}},{key:"rotate",value:function(H,ee,X,v){ee instanceof l.default.Vector?(X=ee.y,v=ee.z,ee=ee.x):ee instanceof Array&&(X=ee[1],v=ee[2],ee=ee[0]);var S=Math.sqrt(ee*ee+X*X+v*v),S=(ee*=1/S,X*=1/S,v*=1/S,this.mat4[0]),j=this.mat4[1],A=this.mat4[2],L=this.mat4[3],C=this.mat4[4],T=this.mat4[5],R=this.mat4[6],D=this.mat4[7],k=this.mat4[8],F=this.mat4[9],P=this.mat4[10],q=this.mat4[11],z=Math.sin(H),H=Math.cos(H),Q=1-H,J=ee*ee*Q+H,Z=X*ee*Q+v*z,K=v*ee*Q-X*z,se=ee*X*Q-v*z,le=X*X*Q+H,M=v*X*Q+ee*z,G=ee*v*Q+X*z,X=X*v*Q-ee*z,ee=v*v*Q+H;return this.mat4[0]=S*J+C*Z+k*K,this.mat4[1]=j*J+T*Z+F*K,this.mat4[2]=A*J+R*Z+P*K,this.mat4[3]=L*J+D*Z+q*K,this.mat4[4]=S*se+C*le+k*M,this.mat4[5]=j*se+T*le+F*M,this.mat4[6]=A*se+R*le+P*M,this.mat4[7]=L*se+D*le+q*M,this.mat4[8]=S*G+C*X+k*ee,this.mat4[9]=j*G+T*X+F*ee,this.mat4[10]=A*G+R*X+P*ee,this.mat4[11]=L*G+D*X+q*ee,this}},{key:"translate",value:function(v){var m=v[0],g=v[1],v=v[2]||0;this.mat4[12]+=this.mat4[0]*m+this.mat4[4]*g+this.mat4[8]*v,this.mat4[13]+=this.mat4[1]*m+this.mat4[5]*g+this.mat4[9]*v,this.mat4[14]+=this.mat4[2]*m+this.mat4[6]*g+this.mat4[10]*v,this.mat4[15]+=this.mat4[3]*m+this.mat4[7]*g+this.mat4[11]*v}},{key:"rotateX",value:function(y){this.rotate(y,1,0,0)}},{key:"rotateY",value:function(y){this.rotate(y,0,1,0)}},{key:"rotateZ",value:function(y){this.rotate(y,0,0,1)}},{key:"perspective",value:function(S,m,g,v){var S=1/Math.tan(S/2),j=1/(g-v);return this.mat4[0]=S/m,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=S,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=(v+g)*j,this.mat4[11]=-1,this.mat4[12]=0,this.mat4[13]=0,this.mat4[14]=2*v*g*j,this.mat4[15]=0,this}},{key:"ortho",value:function(y,m,g,v,S,j){var A=1/(y-m),L=1/(g-v),C=1/(S-j);return this.mat4[0]=-2*A,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=-2*L,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=2*C,this.mat4[11]=0,this.mat4[12]=(y+m)*A,this.mat4[13]=(v+g)*L,this.mat4[14]=(j+S)*C,this.mat4[15]=1,this}},{key:"multiplyVec4",value:function(y,m,g,v){var S=new Array(4),j=this.mat4;return S[0]=j[0]*y+j[4]*m+j[8]*g+j[12]*v,S[1]=j[1]*y+j[5]*m+j[9]*g+j[13]*v,S[2]=j[2]*y+j[6]*m+j[10]*g+j[14]*v,S[3]=j[3]*y+j[7]*m+j[11]*g+j[15]*v,S}},{key:"multiplyPoint",value:function(g){var v=g.x,m=g.y,g=g.z,v=this.multiplyVec4(v,m,g,1);return new l.default.Vector(v[0],v[1],v[2])}},{key:"multiplyAndNormalizePoint",value:function(g){var v=g.x,m=g.y,g=g.z,v=this.multiplyVec4(v,m,g,1);return v[0]/=v[3],v[1]/=v[3],v[2]/=v[3],new l.default.Vector(v[0],v[1],v[2])}},{key:"multiplyDirection",value:function(g){var v=g.x,m=g.y,g=g.z,v=this.multiplyVec4(v,m,g,0);return new l.default.Vector(v[0],v[1],v[2])}},{key:"mult3x3",value:function(g){var m;if(g===this||g===this.mat3)m=this.copy().mat3;else if(g instanceof l.default.Matrix)m=g.mat3;else if(d(g))m=g;else{if(arguments.length!==9)return;m=arguments}var g=this.mat3[0],v=this.mat3[1],S=this.mat3[2];return this.mat3[0]=g*m[0]+v*m[3]+S*m[6],this.mat3[1]=g*m[1]+v*m[4]+S*m[7],this.mat3[2]=g*m[2]+v*m[5]+S*m[8],g=this.mat3[3],v=this.mat3[4],S=this.mat3[5],this.mat3[3]=g*m[0]+v*m[3]+S*m[6],this.mat3[4]=g*m[1]+v*m[4]+S*m[7],this.mat3[5]=g*m[2]+v*m[5]+S*m[8],g=this.mat3[6],v=this.mat3[7],S=this.mat3[8],this.mat3[6]=g*m[0]+v*m[3]+S*m[6],this.mat3[7]=g*m[1]+v*m[4]+S*m[7],this.mat3[8]=g*m[2]+v*m[5]+S*m[8],this}},{key:"column",value:function(y){return new l.default.Vector(this.mat3[3*y],this.mat3[3*y+1],this.mat3[3*y+2])}},{key:"row",value:function(y){return new l.default.Vector(this.mat3[y],this.mat3[y+3],this.mat3[y+6])}},{key:"diagonal",value:function(){return this.mat3!==void 0?[this.mat3[0],this.mat3[4],this.mat3[8]]:[this.mat4[0],this.mat4[5],this.mat4[10],this.mat4[15]]}},{key:"multiplyVec3",value:function(y,m){return(m=m===void 0?y.copy():m).x=this.row(0).dot(y),m.y=this.row(1).dot(y),m.z=this.row(2).dot(y),m}},{key:"createSubMatrix3x3",value:function(){var y=new l.default.Matrix("mat3");return y.mat3[0]=this.mat4[0],y.mat3[1]=this.mat4[1],y.mat3[2]=this.mat4[2],y.mat3[3]=this.mat4[4],y.mat3[4]=this.mat4[5],y.mat3[5]=this.mat4[6],y.mat3[6]=this.mat4[8],y.mat3[7]=this.mat4[9],y.mat3[8]=this.mat4[10],y}}])&&h(f.prototype,p),b&&h(f,b),w}(),l.default.Matrix);c.default=_},{"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239}],337:[function(t,o,c){Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var l=(t=t("../core/main"))&&t.__esModule?t:{default:t};function h(a,d){for(var _=0;_<d.length;_++){var w=d[_];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(a,w.key,w)}}l.default.Quat=function(){function a(f,p,b,y){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.w=f,this.vec=new l.default.Vector(p,b,y)}var d,_,w;return d=a,w=[{key:"fromAxisAngle",value:function(f,g,b,y){var m=Math.cos(f/2),g=new l.default.Vector(g,b,y).normalize().mult(Math.sin(f/2));return new l.default.Quat(m,g.x,g.y,g.z)}}],(_=[{key:"conjugate",value:function(){return new l.default.Quat(this.w,-this.vec.x,-this.vec.y,-this.vec.z)}},{key:"multiply",value:function(f){return new l.default.Quat(this.w*f.w-this.vec.x*f.vec.x-this.vec.y*f.vec.y-this.vec.z-f.vec.z,this.w*f.vec.x+this.vec.x*f.w+this.vec.y*f.vec.z-this.vec.z*f.vec.y,this.w*f.vec.y-this.vec.x*f.vec.z+this.vec.y*f.w+this.vec.z*f.vec.x,this.w*f.vec.z+this.vec.x*f.vec.y-this.vec.y*f.vec.x+this.vec.z*f.w)}},{key:"rotateVector",value:function(f){return new l.default.Vector.mult(f,this.w*this.w-this.vec.dot(this.vec)).add(l.default.Vector.mult(this.vec,2*f.dot(this.vec))).add(l.default.Vector.mult(this.vec,2*this.w).cross(f)).clampToZero()}},{key:"rotateBy",value:function(f){return f.multiply(this).multiply(f.conjugate()).vec.clampToZero()}}])&&h(d.prototype,_),w&&h(d,w),a}(),t=l.default.Quat,c.default=t},{"../core/main":283}],338:[function(t,o,c){t("core-js/modules/es.array.map"),t("core-js/modules/es.array.map"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t};function l(h,a){for(var d=0;d<a.length;d++){var _=a[d];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(h,_.key,_)}}t.default.RenderBuffer=function(){function h(_,w,f,p,b,y){if(!(this instanceof h))throw new TypeError("Cannot call a class as a function");this.size=_,this.src=w,this.dst=f,this.attr=p,this._renderer=b,this.map=y}var a,d;return a=h,(d=[{key:"_prepareBuffer",value:function(_,w){var f,p,b,g=w.attributes,y=this._renderer.GL,m=_.model||_,g=g[this.attr];g&&(f=_[this.dst],0<(p=m[this.src]).length?((b=!f)&&(_[this.dst]=f=y.createBuffer()),y.bindBuffer(y.ARRAY_BUFFER,f),!b&&m.dirtyFlags[this.src]===!1||(b=(_=this.map)?_(p):p,this._renderer._bindBuffer(f,y.ARRAY_BUFFER,b),m.dirtyFlags[this.src]=!1),w.enableAttrib(g,this.size)):(_=g.location)!==-1&&this._renderer.registerEnabled.has(_)&&(y.disableVertexAttribArray(_),this._renderer.registerEnabled.delete(_)))}}])&&l(a.prototype,d),h}(),t=t.default.RenderBuffer,c.default=t},{"../core/main":283,"core-js/modules/es.array.map":168}],339:[function(t,o,c){function l(b){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(b)}function h(b){return(h=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(y){return l(y)}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":l(y)})(b)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.find-index"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.map"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.find-index"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.map"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var a=(p=t("../core/main"))&&p.__esModule?p:{default:p},d=function(b){if(b&&b.__esModule)return b;if(b===null||h(b)!=="object"&&typeof b!="function")return{default:b};var y=_();if(y&&y.has(b))return y.get(b);var m,g={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(m in b){var S;Object.prototype.hasOwnProperty.call(b,m)&&((S=v?Object.getOwnPropertyDescriptor(b,m):null)&&(S.get||S.set)?Object.defineProperty(g,m,S):g[m]=b[m])}return g.default=b,y&&y.set(b,g),g}(t("../core/constants"));function _(){var b;return typeof WeakMap!="function"?null:(b=new WeakMap,_=function(){return b},b)}function w(b){return function(y){if(Array.isArray(y)){for(var m=0,g=new Array(y.length);m<y.length;m++)g[m]=y[m];return g}}(b)||function(y){if(Symbol.iterator in Object(y)||Object.prototype.toString.call(y)==="[object Arguments]")return Array.from(y)}(b)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}t("./p5.RenderBuffer"),a.default.RendererGL.prototype.beginShape=function(b){return this.immediateMode.shapeMode=b!==void 0?b:d.TESS,this.immediateMode.geometry.reset(),this.immediateMode.contourIndices=[],this};var f={vertices:1,vertexNormals:1,vertexColors:4,vertexStrokeColors:4,uvs:2},p=(a.default.RendererGL.prototype.beginContour=function(){if(this.immediateMode.shapeMode!==d.TESS)throw new Error("WebGL mode can only use contours with beginShape(TESS).");this.immediateMode.contourIndices.push(this.immediateMode.geometry.vertices.length)},a.default.RendererGL.prototype.vertex=function(b,y){if(this.immediateMode.shapeMode===d.QUADS&&this.immediateMode.geometry.vertices.length%6==3)for(var m in f){var g=f[m],m=this.immediateMode.geometry[m];m.push.apply(m,w(m.slice(m.length-3*g,m.length-2*g)).concat(w(m.slice(m.length-g,m.length))))}var v,S,j=v=S=0,A=(arguments.length===3?j=arguments[2]:arguments.length===4?(v=arguments[2],S=arguments[3]):arguments.length===5&&(j=arguments[2],v=arguments[3],S=arguments[4]),new a.default.Vector(b,y,j)),A=(this.immediateMode.geometry.vertices.push(A),this.immediateMode.geometry.vertexNormals.push(this._currentNormal),this.curFillColor||[.5,.5,.5,1]),A=(this.immediateMode.geometry.vertexColors.push(A[0],A[1],A[2],A[3]),this.curStrokeColor||[.5,.5,.5,1]);return this.immediateMode.geometry.vertexStrokeColors.push(A[0],A[1],A[2],A[3]),this.textureMode!==d.IMAGE||this.isProcessingVertices||(this._tex!==null?0<this._tex.width&&0<this._tex.height&&(v/=this._tex.width,S/=this._tex.height):this.userFillShader===void 0&&this.userStrokeShader===void 0&&this.userPointShader===void 0&&this._tex===null&&4<=arguments.length&&console.warn("You must first call texture() before using vertex() with image based u and v coordinates")),this.immediateMode.geometry.uvs.push(v,S),this.immediateMode._bezierVertex[0]=b,this.immediateMode._bezierVertex[1]=y,this.immediateMode._bezierVertex[2]=j,this.immediateMode._quadraticVertex[0]=b,this.immediateMode._quadraticVertex[1]=y,this.immediateMode._quadraticVertex[2]=j,this},a.default.RendererGL.prototype.normal=function(b,y,m){return b instanceof a.default.Vector?this._currentNormal=b:this._currentNormal=new a.default.Vector(b,y,m),this},a.default.RendererGL.prototype.endShape=function(b,y,m,g,v,S){var j,A=6<arguments.length&&arguments[6]!==void 0?arguments[6]:1;return this.immediateMode.shapeMode===d.POINTS?this._drawPoints(this.immediateMode.geometry.vertices,this.immediateMode.buffers.point):(this.immediateMode.geometry.vertices.length===3&&this.immediateMode.shapeMode===d.TESS&&(this.immediateMode.shapeMode=d.TRIANGLES),this.isProcessingVertices=!0,this._processVertices.apply(this,arguments),j=this.isProcessingVertices=!1,this.immediateMode.shapeMode!==d.LINE_STRIP&&this.immediateMode.shapeMode!==d.LINES||(this.immediateMode.shapeMode=d.TRIANGLE_FAN,j=!0),this.immediateMode.shapeMode===d.QUADS?this.immediateMode.shapeMode=d.TRIANGLES:this.immediateMode.shapeMode===d.QUAD_STRIP&&(this.immediateMode.shapeMode=d.TRIANGLE_STRIP),this._doFill&&!j&&!this.geometryBuilder&&3<=this.immediateMode.geometry.vertices.length&&this._drawImmediateFill(A),this._doStroke&&!this.geometryBuilder&&1<=this.immediateMode.geometry.lineVertices.length&&this._drawImmediateStroke(),this.geometryBuilder&&this.geometryBuilder.addImmediate(),this.isBezier=!1,this.isQuadratic=!1,this.isCurve=!1,this.immediateMode._bezierVertex.length=0,this.immediateMode._quadraticVertex.length=0,this.immediateMode._curveVertex.length=0),this},a.default.RendererGL.prototype._processVertices=function(b){var y;this.immediateMode.geometry.vertices.length!==0&&(y=this._doStroke,b=b===d.CLOSE,y&&(this.immediateMode.geometry.edges=this._calculateEdges(this.immediateMode.shapeMode,this.immediateMode.geometry.vertices,b),this.geometryBuilder||this.immediateMode.geometry._edgesToVertices()),y=this.immediateMode.shapeMode===d.TESS,b=0<this.immediateMode.contourIndices.length,this._doFill&&(this.isBezier||this.isQuadratic||this.isCurve||y||b)&&this.immediateMode.shapeMode!==d.LINES&&this._tesselateShape())},a.default.RendererGL.prototype._calculateEdges=function(b,y,m){var g=[],v=0,S=this.immediateMode.contourIndices.slice(),j=0;switch(b){case d.TRIANGLE_STRIP:for(v=0;v<y.length-2;v++)g.push([v,v+1]),g.push([v,v+2]);g.push([v,v+1]);break;case d.TRIANGLE_FAN:for(v=1;v<y.length-1;v++)g.push([0,v]),g.push([v,v+1]);g.push([0,y.length-1]);break;case d.TRIANGLES:for(v=0;v<y.length-2;v+=3)g.push([v,v+1]),g.push([v+1,v+2]),g.push([v+2,v]);break;case d.LINES:for(v=0;v<y.length-1;v+=2)g.push([v,v+1]);break;case d.QUADS:for(v=0;v<y.length-5;v+=6)g.push([v,v+1]),g.push([v+1,v+2]),g.push([v+3,v+5]),g.push([v+4,v+5]);break;case d.QUAD_STRIP:for(v=0;v<y.length-2;v+=2)g.push([v,v+1]),g.push([v,v+2]),g.push([v+1,v+3]);g.push([v,v+1]);break;default:for(v=0;v<y.length;v++)v+1<y.length&&v+1!==S[0]?g.push([v,v+1]):((m||j)&&g.push([v,j]),0<S.length&&(j=S.shift()))}return b!==d.TESS&&m&&g.push([y.length-1,0]),g},a.default.RendererGL.prototype._tesselateShape=function(){for(var b=this,y=(this.immediateMode.shapeMode=d.TRIANGLES,[[]]),m=0;m<this.immediateMode.geometry.vertices.length;m++)0<this.immediateMode.contourIndices.length&&this.immediateMode.contourIndices[0]===m&&(this.immediateMode.contourIndices.shift(),y.push([])),y[y.length-1].push(this.immediateMode.geometry.vertices[m].x,this.immediateMode.geometry.vertices[m].y,this.immediateMode.geometry.vertices[m].z,this.immediateMode.geometry.uvs[2*m],this.immediateMode.geometry.uvs[2*m+1],this.immediateMode.geometry.vertexColors[4*m],this.immediateMode.geometry.vertexColors[4*m+1],this.immediateMode.geometry.vertexColors[4*m+2],this.immediateMode.geometry.vertexColors[4*m+3],this.immediateMode.geometry.vertexNormals[m].x,this.immediateMode.geometry.vertexNormals[m].y,this.immediateMode.geometry.vertexNormals[m].z);for(var g,v=this._triangulate(y),S=this.immediateMode.geometry.vertices,j=(this.immediateMode.geometry.vertices=[],this.immediateMode.geometry.vertexNormals=[],this.immediateMode.geometry.uvs=[],[]),A=0,L=v.length;A<L;A+=a.default.RendererGL.prototype.tessyVertexSize)j.push.apply(j,w(v.slice(A+5,A+9))),this.normal.apply(this,w(v.slice(A+9,A+12))),this.vertex.apply(this,w(v.slice(A,A+5)));this.geometryBuilder&&(g=new Map,this.immediateMode.geometry.edges=this.immediateMode.geometry.edges.map(function(C){return C.map(function(T){if(!g.has(T)){var R=S[T],D=b.immediateMode.geometry.vertices.findIndex(function(Q){return R.x===Q.x&&R.y===Q.y&&R.z===Q.z});if(D===-1){for(var k=1/0,F=0,P=0;P<b.immediateMode.geometry.vertices.length;P++){var z=b.immediateMode.geometry.vertices[P],H=R.x-z.x,q=R.y-z.y,z=R.z-z.z,H=H*H+q*q+z*z;H<k&&(k=H,F=P)}D=F}g.set(T,D)}return g.get(T)})})),this.immediateMode.geometry.vertexColors=j},a.default.RendererGL.prototype._drawImmediateFill=function(){var b,y=0<arguments.length&&arguments[0]!==void 0?arguments[0]:1,m=this.GL,g=(this._useVertexColor=0<this.immediateMode.geometry.vertexColors.length,b=this._getImmediateFillShader(),this._setFillUniforms(b),!0),v=!1,S=void 0;try{for(var j,A=this.immediateMode.buffers.fill[Symbol.iterator]();!(g=(j=A.next()).done);g=!0)j.value._prepareBuffer(this.immediateMode.geometry,b)}catch(L){v=!0,S=L}finally{try{g||A.return==null||A.return()}finally{if(v)throw S}}if(b.disableRemainingAttributes(),this._applyColorBlend(this.curFillColor,this.immediateMode.geometry.hasFillTransparency()),y===1)m.drawArrays(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length);else try{m.drawArraysInstanced(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length,y)}catch{console.log("🌸 p5.js says: Instancing is only supported in WebGL2 mode")}b.unbindShader()},a.default.RendererGL.prototype._drawImmediateStroke=function(){var b=this.GL,y=(this._useLineColor=0<this.immediateMode.geometry.vertexStrokeColors.length,this._getImmediateStrokeShader()),m=(this._setStrokeUniforms(y),!0),g=!1,v=void 0;try{for(var S,j=this.immediateMode.buffers.stroke[Symbol.iterator]();!(m=(S=j.next()).done);m=!0)S.value._prepareBuffer(this.immediateMode.geometry,y)}catch(A){g=!0,v=A}finally{try{m||j.return==null||j.return()}finally{if(g)throw v}}y.disableRemainingAttributes(),this._applyColorBlend(this.curStrokeColor,this.immediateMode.geometry.hasFillTransparency()),b.drawArrays(b.TRIANGLES,0,this.immediateMode.geometry.lineVertices.length/3),y.unbindShader()},a.default.RendererGL);c.default=p},{"../core/constants":272,"../core/main":283,"./p5.RenderBuffer":338,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.find-index":158,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.map":175,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],340:[function(t,o,c){function l(f){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(f)}function h(f){return(h=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(p){return l(p)}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":l(p)})(f)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.some"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.uint16-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.some"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.uint16-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var a=(w=t("../core/main"))&&w.__esModule?w:{default:w},d=(t("./p5.RendererGL"),t("./p5.RenderBuffer"),function(f){if(f&&f.__esModule)return f;if(f===null||h(f)!=="object"&&typeof f!="function")return{default:f};var p=_();if(p&&p.has(f))return p.get(f);var b,y={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(b in f){var g;Object.prototype.hasOwnProperty.call(f,b)&&((g=m?Object.getOwnPropertyDescriptor(f,b):null)&&(g.get||g.set)?Object.defineProperty(y,b,g):y[b]=f[b])}return y.default=f,p&&p.set(f,y),y}(t("../core/constants")));function _(){var f;return typeof WeakMap!="function"?null:(f=new WeakMap,_=function(){return f},f)}a.default.RendererGL.prototype.freeGeometry=function(f){f.gid?this._freeBuffers(f.gid):console.warn("The model you passed to freeGeometry does not have an id!")},a.default.RendererGL.prototype._initBufferDefaults=function(f){var p;return this._freeBuffers(f),1e3<Object.keys(this.retainedMode.geometry).length&&(p=Object.keys(this.retainedMode.geometry)[0],this._freeBuffers(p)),this.retainedMode.geometry[f]={}},a.default.RendererGL.prototype._freeBuffers=function(f){var p,b=this.retainedMode.geometry[f];function y(m){var g=!0,v=!1,S=void 0;try{for(var j,A=m[Symbol.iterator]();!(g=(j=A.next()).done);g=!0){var L=j.value;b[L.dst]&&(p.deleteBuffer(b[L.dst]),b[L.dst]=null)}}catch(C){v=!0,S=C}finally{try{g||A.return==null||A.return()}finally{if(v)throw S}}}b&&(delete this.retainedMode.geometry[f],p=this.GL,b.indexBuffer&&p.deleteBuffer(b.indexBuffer),y(this.retainedMode.buffers.stroke),y(this.retainedMode.buffers.fill))},a.default.RendererGL.prototype.createBuffers=function(v,p){var b,y,m,g=this.GL,v=this._initBufferDefaults(v),S=(v.model=p,v.indexBuffer);return p.faces.length?(S=S||(v.indexBuffer=g.createBuffer()),m=(y=(b=a.default.RendererGL.prototype._flatten(p.faces)).some(function(j){return 65535<j}))?Uint32Array:Uint16Array,this._bindBuffer(S,g.ELEMENT_ARRAY_BUFFER,b,m),v.indexBufferType=y?g.UNSIGNED_INT:g.UNSIGNED_SHORT,v.vertexCount=3*p.faces.length):(S&&(g.deleteBuffer(S),v.indexBuffer=null),v.vertexCount=p.vertices?p.vertices.length:0),v.lineVertexCount=p.lineVertices?p.lineVertices.length/3:0,v},a.default.RendererGL.prototype.drawBuffers=function(f){var p=this.GL,b=this.retainedMode.geometry[f];if(!this.geometryBuilder&&this._doFill&&0<this.retainedMode.geometry[f].vertexCount){this._useVertexColor=0<b.model.vertexColors.length;var y=this._getRetainedFillShader(),m=(this._setFillUniforms(y),!0),g=!1,v=void 0;try{for(var S,j=this.retainedMode.buffers.fill[Symbol.iterator]();!(m=(S=j.next()).done);m=!0)S.value._prepareBuffer(b,y)}catch(R){g=!0,v=R}finally{try{m||j.return==null||j.return()}finally{if(g)throw v}}y.disableRemainingAttributes(),b.indexBuffer&&this._bindBuffer(b.indexBuffer,p.ELEMENT_ARRAY_BUFFER),this._applyColorBlend(this.curFillColor,b.model.hasFillTransparency()),this._drawElements(p.TRIANGLES,f),y.unbindShader()}if(!this.geometryBuilder&&this._doStroke&&0<b.lineVertexCount){this._useLineColor=0<b.model.vertexStrokeColors.length;var A=this._getRetainedStrokeShader(),L=(this._setStrokeUniforms(A),!0),g=!1,v=void 0;try{for(var C,T=this.retainedMode.buffers.stroke[Symbol.iterator]();!(L=(C=T.next()).done);L=!0)C.value._prepareBuffer(b,A)}catch(k){g=!0,v=k}finally{try{L||T.return==null||T.return()}finally{if(g)throw v}}A.disableRemainingAttributes(),this._applyColorBlend(this.curStrokeColor,b.model.hasStrokeTransparency()),this._drawArrays(p.TRIANGLES,f),A.unbindShader()}return this.geometryBuilder&&this.geometryBuilder.addRetained(b),this},a.default.RendererGL.prototype.drawBuffersScaled=function(f,p,b,y){var m=this.uModelMatrix.copy();try{this.uModelMatrix.scale(p,b,y),this.drawBuffers(f)}finally{this.uModelMatrix=m}},a.default.RendererGL.prototype._drawArrays=function(f,p){return this.GL.drawArrays(f,0,this.retainedMode.geometry[p].lineVertexCount),this},a.default.RendererGL.prototype._drawElements=function(f,b){var b=this.retainedMode.geometry[b],y=this.GL;if(b.indexBuffer){if(this._pInst.webglVersion!==d.WEBGL2&&b.indexBufferType===y.UNSIGNED_INT&&!y.getExtension("OES_element_index_uint"))throw new Error("Unable to render a 3d model with > 65535 triangles. Your web browser does not support the WebGL Extension OES_element_index_uint.");y.drawElements(y.TRIANGLES,b.vertexCount,b.indexBufferType,0)}else y.drawArrays(f||y.TRIANGLES,0,b.vertexCount)},a.default.RendererGL.prototype._drawPoints=function(f,p){var b=this.GL,y=this._getImmediatePointShader();this._setPointUniforms(y),this._bindBuffer(p,b.ARRAY_BUFFER,this._vToNArray(f),Float32Array,b.STATIC_DRAW),y.enableAttrib(y.attributes.aPosition,3),this._applyColorBlend(this.curStrokeColor),b.drawArrays(b.Points,0,f.length),y.unbindShader()};var w=a.default.RendererGL;c.default=w},{"../core/constants":272,"../core/main":283,"./p5.RenderBuffer":338,"./p5.RendererGL":341,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.some":170,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint16-array":240,"core-js/modules/es.typed-array.uint32-array":241,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],341:[function(P,o,c){function l(Z){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(K){return typeof K}:function(K){return K&&typeof Symbol=="function"&&K.constructor===Symbol&&K!==Symbol.prototype?"symbol":typeof K})(Z)}function h(Z){return(h=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(K){return l(K)}:function(K){return K&&typeof Symbol=="function"&&K.constructor===Symbol&&K!==Symbol.prototype?"symbol":l(K)})(Z)}P("core-js/modules/es.symbol"),P("core-js/modules/es.symbol.description"),P("core-js/modules/es.symbol.iterator"),P("core-js/modules/es.array.concat"),P("core-js/modules/es.array.copy-within"),P("core-js/modules/es.array.every"),P("core-js/modules/es.array.fill"),P("core-js/modules/es.array.flat"),P("core-js/modules/es.array.flat-map"),P("core-js/modules/es.array.from"),P("core-js/modules/es.array.includes"),P("core-js/modules/es.array.iterator"),P("core-js/modules/es.array.map"),P("core-js/modules/es.array.slice"),P("core-js/modules/es.array.some"),P("core-js/modules/es.array.unscopables.flat"),P("core-js/modules/es.array.unscopables.flat-map"),P("core-js/modules/es.map"),P("core-js/modules/es.object.assign"),P("core-js/modules/es.object.get-own-property-descriptor"),P("core-js/modules/es.object.get-prototype-of"),P("core-js/modules/es.object.to-string"),P("core-js/modules/es.reflect.construct"),P("core-js/modules/es.reflect.get"),P("core-js/modules/es.regexp.to-string"),P("core-js/modules/es.set"),P("core-js/modules/es.string.includes"),P("core-js/modules/es.string.iterator"),P("core-js/modules/es.typed-array.float32-array"),P("core-js/modules/es.typed-array.float64-array"),P("core-js/modules/es.typed-array.int16-array"),P("core-js/modules/es.typed-array.uint8-array"),P("core-js/modules/es.typed-array.uint16-array"),P("core-js/modules/es.typed-array.uint32-array"),P("core-js/modules/es.typed-array.copy-within"),P("core-js/modules/es.typed-array.every"),P("core-js/modules/es.typed-array.fill"),P("core-js/modules/es.typed-array.filter"),P("core-js/modules/es.typed-array.find"),P("core-js/modules/es.typed-array.find-index"),P("core-js/modules/es.typed-array.for-each"),P("core-js/modules/es.typed-array.includes"),P("core-js/modules/es.typed-array.index-of"),P("core-js/modules/es.typed-array.iterator"),P("core-js/modules/es.typed-array.join"),P("core-js/modules/es.typed-array.last-index-of"),P("core-js/modules/es.typed-array.map"),P("core-js/modules/es.typed-array.reduce"),P("core-js/modules/es.typed-array.reduce-right"),P("core-js/modules/es.typed-array.reverse"),P("core-js/modules/es.typed-array.set"),P("core-js/modules/es.typed-array.slice"),P("core-js/modules/es.typed-array.some"),P("core-js/modules/es.typed-array.sort"),P("core-js/modules/es.typed-array.subarray"),P("core-js/modules/es.typed-array.to-locale-string"),P("core-js/modules/es.typed-array.to-string"),P("core-js/modules/es.weak-map"),P("core-js/modules/web.dom-collections.iterator"),P("core-js/modules/es.symbol"),P("core-js/modules/es.symbol.description"),P("core-js/modules/es.symbol.iterator"),P("core-js/modules/es.array.concat"),P("core-js/modules/es.array.copy-within"),P("core-js/modules/es.array.every"),P("core-js/modules/es.array.fill"),P("core-js/modules/es.array.flat"),P("core-js/modules/es.array.flat-map"),P("core-js/modules/es.array.from"),P("core-js/modules/es.array.includes"),P("core-js/modules/es.array.iterator"),P("core-js/modules/es.array.map"),P("core-js/modules/es.array.slice"),P("core-js/modules/es.array.some"),P("core-js/modules/es.array.unscopables.flat"),P("core-js/modules/es.array.unscopables.flat-map"),P("core-js/modules/es.map"),P("core-js/modules/es.object.assign"),P("core-js/modules/es.object.to-string"),P("core-js/modules/es.set"),P("core-js/modules/es.string.includes"),P("core-js/modules/es.string.iterator"),P("core-js/modules/es.typed-array.float32-array"),P("core-js/modules/es.typed-array.float64-array"),P("core-js/modules/es.typed-array.int16-array"),P("core-js/modules/es.typed-array.uint8-array"),P("core-js/modules/es.typed-array.uint16-array"),P("core-js/modules/es.typed-array.uint32-array"),P("core-js/modules/es.typed-array.copy-within"),P("core-js/modules/es.typed-array.every"),P("core-js/modules/es.typed-array.fill"),P("core-js/modules/es.typed-array.filter"),P("core-js/modules/es.typed-array.find"),P("core-js/modules/es.typed-array.find-index"),P("core-js/modules/es.typed-array.for-each"),P("core-js/modules/es.typed-array.includes"),P("core-js/modules/es.typed-array.index-of"),P("core-js/modules/es.typed-array.iterator"),P("core-js/modules/es.typed-array.join"),P("core-js/modules/es.typed-array.last-index-of"),P("core-js/modules/es.typed-array.map"),P("core-js/modules/es.typed-array.reduce"),P("core-js/modules/es.typed-array.reduce-right"),P("core-js/modules/es.typed-array.reverse"),P("core-js/modules/es.typed-array.set"),P("core-js/modules/es.typed-array.slice"),P("core-js/modules/es.typed-array.some"),P("core-js/modules/es.typed-array.sort"),P("core-js/modules/es.typed-array.subarray"),P("core-js/modules/es.typed-array.to-locale-string"),P("core-js/modules/es.typed-array.to-string"),P("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(c,"__esModule",{value:!0}),c.readPixelsWebGL=Q,c.readPixelWebGL=J,c.default=void 0;var a=b(P("../core/main")),d=function(Z){if(Z&&Z.__esModule)return Z;if(Z===null||h(Z)!=="object"&&typeof Z!="function")return{default:Z};var K=p();if(K&&K.has(Z))return K.get(Z);var se,le={},M=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(se in Z){var G;Object.prototype.hasOwnProperty.call(Z,se)&&((G=M?Object.getOwnPropertyDescriptor(Z,se):null)&&(G.get||G.set)?Object.defineProperty(le,se,G):le[se]=Z[se])}return le.default=Z,K&&K.set(Z,le),le}(P("../core/constants")),_=b(P("./GeometryBuilder")),w=b(P("libtess")),f=(P("./p5.Shader"),P("./p5.Camera"),P("../core/p5.Renderer"),P("./p5.Matrix"),P("./p5.Framebuffer"),P("path"),P("./p5.Texture"));function p(){var Z;return typeof WeakMap!="function"?null:(Z=new WeakMap,p=function(){return Z},Z)}function b(Z){return Z&&Z.__esModule?Z:{default:Z}}function y(Z){return function(K){if(Array.isArray(K)){for(var se=0,le=new Array(K.length);se<K.length;se++)le[se]=K[se];return le}}(Z)||function(K){if(Symbol.iterator in Object(K)||Object.prototype.toString.call(K)==="[object Arguments]")return Array.from(K)}(Z)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function m(Z,K){for(var se=0;se<K.length;se++){var le=K[se];le.enumerable=le.enumerable||!1,le.configurable=!0,"value"in le&&(le.writable=!0),Object.defineProperty(Z,le.key,le)}}function g(Z,K,se){return(g=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(X,M,G){var X=function(ee,ae){for(;!Object.prototype.hasOwnProperty.call(ee,ae)&&(ee=A(ee))!==null;);return ee}(X,M);if(X)return(X=Object.getOwnPropertyDescriptor(X,M)).get?X.get.call(G):X.value})(Z,K,se||Z)}function v(Z,K){return(v=Object.setPrototypeOf||function(se,le){return se.__proto__=le,se})(Z,K)}function S(Z){return function(){var K,se,le=A(Z);return K=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(K=A(this).constructor,Reflect.construct(le,arguments,K)):le.apply(this,arguments),le=this,!(se=K)||h(se)!=="object"&&typeof se!="function"?j(le):se}}function j(Z){if(Z===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Z}function A(Z){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(K){return K.__proto__||Object.getPrototypeOf(K)})(Z)}function L(Z,K,se){K in Z?Object.defineProperty(Z,K,{value:se,enumerable:!0,configurable:!0,writable:!0}):Z[K]=se}function C(Z,K){F+="#define STROKE_CAP_".concat(Z," ").concat(K,`
`),D[d[Z]]=K}function T(Z,K){F+="#define STROKE_JOIN_".concat(Z," ").concat(K,`
`),k[d[Z]]=K}var R,D={},k={},F="",P=(C("ROUND",0),C("PROJECT",1),C("SQUARE",2),T("ROUND",0),T("MITER",1),T("BEVEL",2),`#define PI 3.141592

precision highp float;
precision highp int;

uniform mat4 uViewMatrix;

uniform bool uUseLighting;

uniform int uAmbientLightCount;
uniform vec3 uAmbientColor[5];
uniform mat3 uCameraRotation;
uniform int uDirectionalLightCount;
uniform vec3 uLightingDirection[5];
uniform vec3 uDirectionalDiffuseColors[5];
uniform vec3 uDirectionalSpecularColors[5];

uniform int uPointLightCount;
uniform vec3 uPointLightLocation[5];
uniform vec3 uPointLightDiffuseColors[5];	
uniform vec3 uPointLightSpecularColors[5];

uniform int uSpotLightCount;
uniform float uSpotLightAngle[5];
uniform float uSpotLightConc[5];
uniform vec3 uSpotLightDiffuseColors[5];
uniform vec3 uSpotLightSpecularColors[5];
uniform vec3 uSpotLightLocation[5];
uniform vec3 uSpotLightDirection[5];

uniform bool uSpecular;
uniform float uShininess;
uniform float uMetallic;

uniform float uConstantAttenuation;
uniform float uLinearAttenuation;
uniform float uQuadraticAttenuation;

// setting from  _setImageLightUniforms()
// boolean to initiate the calculateImageDiffuse and calculateImageSpecular
uniform bool uUseImageLight;
// texture for use in calculateImageDiffuse
uniform sampler2D environmentMapDiffused;
// texture for use in calculateImageSpecular
uniform sampler2D environmentMapSpecular;

const float specularFactor = 2.0;
const float diffuseFactor = 0.73;

struct LightResult {
  float specular;
  float diffuse;
};

float _phongSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float shininess) {

  vec3 R = reflect(lightDirection, surfaceNormal);
  return pow(max(0.0, dot(R, viewDirection)), shininess);
}

float _lambertDiffuse(vec3 lightDirection, vec3 surfaceNormal) {
  return max(0.0, dot(-lightDirection, surfaceNormal));
}

LightResult _light(vec3 viewDirection, vec3 normal, vec3 lightVector, float shininess, float metallic) {

  vec3 lightDir = normalize(lightVector);

  //compute our diffuse & specular terms
  LightResult lr;
  float specularIntensity = mix(1.0, 0.4, metallic);
  float diffuseIntensity = mix(1.0, 0.1, metallic);
  if (uSpecular)
    lr.specular = (_phongSpecular(lightDir, viewDirection, normal, shininess)) * specularIntensity;
    lr.diffuse = _lambertDiffuse(lightDir, normal) * diffuseIntensity;
  return lr;
}

// converts the range of "value" from [min1 to max1] to [min2 to max2]
float map(float value, float min1, float max1, float min2, float max2) {
  return min2 + (value - min1) * (max2 - min2) / (max1 - min1);
}

vec2 mapTextureToNormal( vec3 v ){
  // x = r sin(phi) cos(theta)   
  // y = r cos(phi)  
  // z = r sin(phi) sin(theta)
  float phi = acos( v.y );
  // if phi is 0, then there are no x, z components
  float theta = 0.0;
  // else 
  theta = acos(v.x / sin(phi));
  float sinTheta = v.z / sin(phi);
  if (sinTheta < 0.0) {
    // Turn it into -theta, but in the 0-2PI range
    theta = 2.0 * PI - theta;
  }
  theta = theta / (2.0 * 3.14159);
  phi = phi / 3.14159 ;
  
  vec2 angles = vec2( fract(theta + 0.25), 1.0 - phi );
  return angles;
}


vec3 calculateImageDiffuse(vec3 vNormal, vec3 vViewPosition, float metallic){
  // make 2 seperate builds 
  vec3 worldCameraPosition =  vec3(0.0, 0.0, 0.0);  // hardcoded world camera position
  vec3 worldNormal = normalize(vNormal * uCameraRotation);
  vec2 newTexCoor = mapTextureToNormal( worldNormal );
  vec4 texture = TEXTURE( environmentMapDiffused, newTexCoor );
  // this is to make the darker sections more dark
  // png and jpg usually flatten the brightness so it is to reverse that
  return mix(smoothstep(vec3(0.0), vec3(1.0), texture.xyz), vec3(0.0), metallic);
}

vec3 calculateImageSpecular(vec3 vNormal, vec3 vViewPosition, float shininess, float metallic){
  vec3 worldCameraPosition =  vec3(0.0, 0.0, 0.0);
  vec3 worldNormal = normalize(vNormal);
  vec3 lightDirection = normalize( vViewPosition - worldCameraPosition );
  vec3 R = reflect(lightDirection, worldNormal) * uCameraRotation;
  vec2 newTexCoor = mapTextureToNormal( R );
#ifdef WEBGL2
  // In p5js the range of shininess is >= 1,
  // Therefore roughness range will be ([0,1]*8)*20 or [0, 160]
  // The factor of 8 is because currently the getSpecularTexture
  // only calculated 8 different levels of roughness
  // The factor of 20 is just to spread up this range so that,
  // [1, max] of shininess is converted to [0,160] of roughness
  float roughness = 20. / shininess;
  vec4 outColor = textureLod(environmentMapSpecular, newTexCoor, roughness * 8.);
#else
  vec4 outColor = TEXTURE(environmentMapSpecular, newTexCoor);
#endif
  // this is to make the darker sections more dark
  // png and jpg usually flatten the brightness so it is to reverse that
  return mix(
    pow(outColor.xyz, vec3(10)),
    pow(outColor.xyz, vec3(1.2)),
    metallic 
  );
}

void totalLight(
  vec3 modelPosition,
  vec3 normal,
  float shininess,
  float metallic,
  out vec3 totalDiffuse,
  out vec3 totalSpecular
) {

  totalSpecular = vec3(0.0);

  if (!uUseLighting) {
    totalDiffuse = vec3(1.0);
    return;
  }

  totalDiffuse = vec3(0.0);

  vec3 viewDirection = normalize(-modelPosition);

  for (int j = 0; j < 5; j++) {
    if (j < uDirectionalLightCount) {
      vec3 lightVector = (uViewMatrix * vec4(uLightingDirection[j], 0.0)).xyz;
      vec3 lightColor = uDirectionalDiffuseColors[j];
      vec3 specularColor = uDirectionalSpecularColors[j];
      LightResult result = _light(viewDirection, normal, lightVector, shininess, metallic);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if (j < uPointLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uPointLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
      //calculate attenuation
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);
      vec3 lightColor = lightFalloff * uPointLightDiffuseColors[j];
      vec3 specularColor = lightFalloff * uPointLightSpecularColors[j];

      LightResult result = _light(viewDirection, normal, lightVector, shininess, metallic);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if(j < uSpotLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uSpotLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
    
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);

      vec3 lightDirection = (uViewMatrix * vec4(uSpotLightDirection[j], 0.0)).xyz;
      float spotDot = dot(normalize(lightVector), normalize(lightDirection));
      float spotFalloff;
      if(spotDot < uSpotLightAngle[j]) {
        spotFalloff = 0.0;
      }
      else {
        spotFalloff = pow(spotDot, uSpotLightConc[j]);
      }
      lightFalloff *= spotFalloff;

      vec3 lightColor = uSpotLightDiffuseColors[j];
      vec3 specularColor = uSpotLightSpecularColors[j];
     
      LightResult result = _light(viewDirection, normal, lightVector, shininess, metallic);
      
      totalDiffuse += result.diffuse * lightColor * lightFalloff;
      totalSpecular += result.specular * lightColor * specularColor * lightFalloff;
    }
  }

  if( uUseImageLight ){
    totalDiffuse += calculateImageDiffuse(normal, modelPosition, metallic);
    totalSpecular += calculateImageSpecular(normal, modelPosition, shininess, metallic);
  }

  totalDiffuse *= diffuseFactor;
  totalSpecular *= specularFactor;
}
`),q={sphereMappingFrag:`#define PI 3.141592

precision highp float;
  
uniform sampler2D uSampler;
uniform mat3 uNewNormalMatrix;
uniform float uFovY;
uniform float uAspect;

varying vec2 vTexCoord;
  
void main() {
    float uFovX = uFovY * uAspect; 
    vec4 newTexColor = texture2D(uSampler, vTexCoord);
    float angleY = mix(uFovY/2.0,  -uFovY/2.0, vTexCoord.y);
    float angleX = mix(uFovX/2.0, -uFovX/2.0, vTexCoord.x);
    vec3 rotatedNormal = vec3( angleX, angleY, 1.0 );
    rotatedNormal = uNewNormalMatrix * normalize(rotatedNormal);
    float temp = rotatedNormal.z;
    rotatedNormal.z = rotatedNormal.x;
    rotatedNormal.x = -temp;
    vec2 suv;
    suv.y = 0.5 + 0.5 * (-rotatedNormal.y);
    suv.x = atan(rotatedNormal.z, rotatedNormal.x) / (2.0 * PI) + 0.5;
    newTexColor = texture2D(uSampler, suv.xy);
    gl_FragColor = newTexColor;
}
`,immediateVert:`IN vec3 aPosition;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform float uResolution;
uniform float uPointSize;

OUT vec4 vColor;
void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vColor = aVertexColor;
  gl_PointSize = uPointSize;
}
`,vertexColorVert:`IN vec3 aPosition;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

OUT vec4 vColor;

void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vColor = aVertexColor;
}
`,vertexColorFrag:`IN vec4 vColor;
void main(void) {
  OUT_COLOR = vec4(vColor.rgb, 1.) * vColor.a;
}
`,normalVert:`IN vec3 aPosition;
IN vec3 aNormal;
IN vec2 aTexCoord;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

uniform vec4 uMaterialColor;
uniform bool uUseVertexColor;

OUT vec3 vVertexNormal;
OUT highp vec2 vVertTexCoord;
OUT vec4 vColor;

void main(void) {
  HOOK_beforeVertex();
  vec4 positionVec4 = vec4(HOOK_getWorldPosition(
    (uModelViewMatrix * vec4(HOOK_getLocalPosition(aPosition), 1.0)).xyz
  ), 1.);

  gl_Position = uProjectionMatrix * positionVec4;

  vVertexNormal = HOOK_getWorldNormal(normalize(uNormalMatrix * HOOK_getLocalNormal(aNormal)));
  vVertTexCoord = HOOK_getUV(aTexCoord);
  vColor = HOOK_getVertexColor(uUseVertexColor ? aVertexColor : uMaterialColor);
  HOOK_afterVertex();
}
`,normalFrag:`IN vec3 vVertexNormal;
void main(void) {
  HOOK_beforeFragment();
  OUT_COLOR = HOOK_getFinalColor(vec4(vVertexNormal, 1.0));
  HOOK_afterFragment();
}
`,basicFrag:`IN vec4 vColor;
void main(void) {
  HOOK_beforeFragment();
  OUT_COLOR = HOOK_getFinalColor(vec4(vColor.rgb, 1.) * vColor.a);
  HOOK_afterFragment();
}
`,lightVert:P+`// include lighting.glgl

IN vec3 aPosition;
IN vec3 aNormal;
IN vec2 aTexCoord;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

uniform bool uUseVertexColor;
uniform vec4 uMaterialColor;

OUT highp vec2 vVertTexCoord;
OUT vec3 vDiffuseColor;
OUT vec3 vSpecularColor;
OUT vec4 vColor;

void main(void) {

  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * viewModelPosition;

  vec3 vertexNormal = normalize(uNormalMatrix * aNormal);
  vVertTexCoord = aTexCoord;

  totalLight(viewModelPosition.xyz, vertexNormal, vDiffuseColor, vSpecularColor);

  for (int i = 0; i < 8; i++) {
    if (i < uAmbientLightCount) {
      vDiffuseColor += uAmbientColor[i];
    }
  }
  
  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);
}
`,lightTextureFrag:`uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;
uniform bool uEmissive;

IN highp vec2 vVertTexCoord;
IN vec3 vDiffuseColor;
IN vec3 vSpecularColor;
IN vec4 vColor;

void main(void) {
  if(uEmissive && !isTexture) {
    OUT_COLOR = vColor;
  }
  else {
    vec4 baseColor = isTexture
      // Textures come in with premultiplied alpha. To apply tint and still have
      // premultiplied alpha output, we need to multiply the RGB channels by the
      // tint RGB, and all channels by the tint alpha.
      ? TEXTURE(uSampler, vVertTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)
      // Colors come in with unmultiplied alpha, so we need to multiply the RGB
      // channels by alpha to convert it to premultiplied alpha.
      : vec4(vColor.rgb * vColor.a, vColor.a);
    OUT_COLOR = vec4(baseColor.rgb * vDiffuseColor + vSpecularColor, baseColor.a);
  }
}
`,phongVert:`precision highp int;

IN vec3 aPosition;
IN vec3 aNormal;
IN vec2 aTexCoord;
IN vec4 aVertexColor;

uniform vec3 uAmbientColor[5];

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;
uniform int uAmbientLightCount;

uniform bool uUseVertexColor;
uniform vec4 uMaterialColor;

OUT vec3 vNormal;
OUT vec2 vTexCoord;
OUT vec3 vViewPosition;
OUT vec3 vAmbientColor;
OUT vec4 vColor;

void main(void) {
  HOOK_beforeVertex();
  vec4 viewModelPosition = vec4(HOOK_getWorldPosition(
    (uModelViewMatrix * vec4(HOOK_getLocalPosition(aPosition), 1.0)).xyz
  ), 1.);

  // Pass varyings to fragment shader
  vViewPosition = viewModelPosition.xyz;
  gl_Position = uProjectionMatrix * viewModelPosition;  

  vNormal = HOOK_getWorldNormal(uNormalMatrix * HOOK_getLocalNormal(aNormal));
  vTexCoord = HOOK_getUV(aTexCoord);

  // TODO: this should be a uniform
  vAmbientColor = vec3(0.0);
  for (int i = 0; i < 5; i++) {
    if (i < uAmbientLightCount) {
      vAmbientColor += uAmbientColor[i];
    }
  }
  
  vColor = HOOK_getVertexColor((uUseVertexColor ? aVertexColor : uMaterialColor));
  HOOK_afterVertex();
}
`,phongFrag:P+`// include lighting.glsl
precision highp int;

uniform bool uHasSetAmbient;
uniform vec4 uSpecularMatColor;
uniform vec4 uAmbientMatColor;
uniform vec4 uEmissiveMatColor;

uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;

IN vec3 vNormal;
IN vec2 vTexCoord;
IN vec3 vViewPosition;
IN vec3 vAmbientColor;
IN vec4 vColor;

struct ColorComponents {
  vec3 baseColor;
  float opacity;
  vec3 ambientColor;
  vec3 specularColor;
  vec3 diffuse;
  vec3 ambient;
  vec3 specular;
  vec3 emissive;
};

struct Inputs {
  vec3 normal;
  vec2 texCoord;
  vec3 ambientLight;
  vec3 ambientMaterial;
  vec3 specularMaterial;
  vec3 emissiveMaterial;
  vec4 color;
  float shininess;
  float metalness;
};

void main(void) {
  HOOK_beforeFragment();

  Inputs inputs;
  inputs.normal = normalize(vNormal);
  inputs.texCoord = vTexCoord;
  inputs.ambientLight = vAmbientColor;
  inputs.color = isTexture
      // Textures come in with premultiplied alpha. To apply tint and still have
      // premultiplied alpha output, we need to multiply the RGB channels by the
      // tint RGB, and all channels by the tint alpha.
      ? TEXTURE(uSampler, vTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)
      // Colors come in with unmultiplied alpha, so we need to multiply the RGB
      // channels by alpha to convert it to premultiplied alpha.
      : vec4(vColor.rgb * vColor.a, vColor.a);
  inputs.shininess = uShininess;
  inputs.metalness = uMetallic;
  inputs.ambientMaterial = uHasSetAmbient ? uAmbientMatColor.rgb : inputs.color.rgb;
  inputs.specularMaterial = uSpecularMatColor.rgb;
  inputs.emissiveMaterial = uEmissiveMatColor.rgb;
  inputs = HOOK_getPixelInputs(inputs);

  vec3 diffuse;
  vec3 specular;
  totalLight(vViewPosition, inputs.normal, inputs.shininess, inputs.metalness, diffuse, specular);

  // Calculating final color as result of all lights (plus emissive term).

  vec2 texCoord = inputs.texCoord;
  vec4 baseColor = inputs.color;
  ColorComponents c;
  c.opacity = baseColor.a;
  c.baseColor = baseColor.rgb;
  c.ambientColor = inputs.ambientMaterial;
  c.specularColor = inputs.specularMaterial;
  c.diffuse = diffuse;
  c.ambient = inputs.ambientLight;
  c.specular = specular;
  c.emissive = inputs.emissiveMaterial;
  OUT_COLOR = HOOK_getFinalColor(HOOK_combineColors(c));
  HOOK_afterFragment();
}
`,fontVert:`IN vec3 aPosition;
IN vec2 aTexCoord;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

uniform vec4 uGlyphRect;
uniform float uGlyphOffset;

OUT vec2 vTexCoord;
OUT float w;

void main() {
  vec4 positionVec4 = vec4(aPosition, 1.0);

  // scale by the size of the glyph's rectangle
  positionVec4.xy *= uGlyphRect.zw - uGlyphRect.xy;

  // Expand glyph bounding boxes by 1px on each side to give a bit of room
  // for antialiasing
  vec3 newOrigin = (uModelViewMatrix * vec4(0., 0., 0., 1.)).xyz;
  vec3 newDX = (uModelViewMatrix * vec4(1., 0., 0., 1.)).xyz;
  vec3 newDY = (uModelViewMatrix * vec4(0., 1., 0., 1.)).xyz;
  vec2 pixelScale = vec2(
    1. / length(newOrigin - newDX),
    1. / length(newOrigin - newDY)
  );
  vec2 offset = pixelScale * normalize(aTexCoord - vec2(0.5, 0.5)) * vec2(1., -1.);
  vec2 textureOffset = offset * (1. / vec2(
    uGlyphRect.z - uGlyphRect.x,
    uGlyphRect.w - uGlyphRect.y
  ));

  // move to the corner of the glyph
  positionVec4.xy += uGlyphRect.xy;

  // move to the letter's line offset
  positionVec4.x += uGlyphOffset;

  positionVec4.xy += offset;
  
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vTexCoord = aTexCoord + textureOffset;
  w = gl_Position.w;
}
`,fontFrag:`#ifndef WEBGL2
#extension GL_OES_standard_derivatives : enable
#endif

#if 0
  // simulate integer math using floats
	#define int float
	#define ivec2 vec2
	#define INT(x) float(x)

	int ifloor(float v) { return floor(v); }
	ivec2 ifloor(vec2 v) { return floor(v); }

#else
  // use native integer math
	precision highp int;
	#define INT(x) x

	int ifloor(float v) { return int(v); }
	int ifloor(int v) { return v; }
	ivec2 ifloor(vec2 v) { return ivec2(v); }

#endif

uniform sampler2D uSamplerStrokes;
uniform sampler2D uSamplerRowStrokes;
uniform sampler2D uSamplerRows;
uniform sampler2D uSamplerColStrokes;
uniform sampler2D uSamplerCols;

uniform ivec2 uStrokeImageSize;
uniform ivec2 uCellsImageSize;
uniform ivec2 uGridImageSize;

uniform ivec2 uGridOffset;
uniform ivec2 uGridSize;
uniform vec4 uMaterialColor;

IN vec2 vTexCoord;

// some helper functions
int ROUND(float v) { return ifloor(v + 0.5); }
ivec2 ROUND(vec2 v) { return ifloor(v + 0.5); }
float saturate(float v) { return clamp(v, 0.0, 1.0); }
vec2 saturate(vec2 v) { return clamp(v, 0.0, 1.0); }

int mul(float v1, int v2) {
  return ifloor(v1 * float(v2));
}

ivec2 mul(vec2 v1, ivec2 v2) {
  return ifloor(v1 * vec2(v2) + 0.5);
}

// unpack a 16-bit integer from a float vec2
int getInt16(vec2 v) {
  ivec2 iv = ROUND(v * 255.0);
  return iv.x * INT(128) + iv.y;
}

vec2 pixelScale;
vec2 coverage = vec2(0.0);
vec2 weight = vec2(0.5);
const float minDistance = 1.0/8192.0;
const float hardness = 1.05; // amount of antialias

// the maximum number of curves in a glyph
const int N = INT(250);

// retrieves an indexed pixel from a sampler
vec4 getTexel(sampler2D sampler, int pos, ivec2 size) {
  int width = size.x;
  int y = ifloor(pos / width);
  int x = pos - y * width;  // pos % width

  return TEXTURE(sampler, (vec2(x, y) + 0.5) / vec2(size));
}

void calulateCrossings(vec2 p0, vec2 p1, vec2 p2, out vec2 C1, out vec2 C2) {

  // get the coefficients of the quadratic in t
  vec2 a = p0 - p1 * 2.0 + p2;
  vec2 b = p0 - p1;
  vec2 c = p0 - vTexCoord;

  // found out which values of 't' it crosses the axes
  vec2 surd = sqrt(max(vec2(0.0), b * b - a * c));
  vec2 t1 = ((b - surd) / a).yx;
  vec2 t2 = ((b + surd) / a).yx;

  // approximate straight lines to avoid rounding errors
  if (abs(a.y) < 0.001)
    t1.x = t2.x = c.y / (2.0 * b.y);

  if (abs(a.x) < 0.001)
    t1.y = t2.y = c.x / (2.0 * b.x);

  // plug into quadratic formula to find the corrdinates of the crossings
  C1 = ((a * t1 - b * 2.0) * t1 + c) * pixelScale;
  C2 = ((a * t2 - b * 2.0) * t2 + c) * pixelScale;
}

void coverageX(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  // determine on which side of the x-axis the points lie
  bool y0 = p0.y > vTexCoord.y;
  bool y1 = p1.y > vTexCoord.y;
  bool y2 = p2.y > vTexCoord.y;

  // could web be under the curve (after t1)?
  if (y1 ? !y2 : y0) {
    // add the coverage for t1
    coverage.x += saturate(C1.x + 0.5);
    // calculate the anti-aliasing for t1
    weight.x = min(weight.x, abs(C1.x));
  }

  // are we outside the curve (after t2)?
  if (y1 ? !y0 : y2) {
    // subtract the coverage for t2
    coverage.x -= saturate(C2.x + 0.5);
    // calculate the anti-aliasing for t2
    weight.x = min(weight.x, abs(C2.x));
  }
}

// this is essentially the same as coverageX, but with the axes swapped
void coverageY(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  bool x0 = p0.x > vTexCoord.x;
  bool x1 = p1.x > vTexCoord.x;
  bool x2 = p2.x > vTexCoord.x;

  if (x1 ? !x2 : x0) {
    coverage.y -= saturate(C1.y + 0.5);
    weight.y = min(weight.y, abs(C1.y));
  }

  if (x1 ? !x0 : x2) {
    coverage.y += saturate(C2.y + 0.5);
    weight.y = min(weight.y, abs(C2.y));
  }
}

void main() {

  // calculate the pixel scale based on screen-coordinates
  pixelScale = hardness / fwidth(vTexCoord);

  // which grid cell is this pixel in?
  ivec2 gridCoord = ifloor(vTexCoord * vec2(uGridSize));

  // intersect curves in this row
  {
    // the index into the row info bitmap
    int rowIndex = gridCoord.y + uGridOffset.y;
    // fetch the info texel
    vec4 rowInfo = getTexel(uSamplerRows, rowIndex, uGridImageSize);
    // unpack the rowInfo
    int rowStrokeIndex = getInt16(rowInfo.xy);
    int rowStrokeCount = getInt16(rowInfo.zw);

    for (int iRowStroke = INT(0); iRowStroke < N; iRowStroke++) {
      if (iRowStroke >= rowStrokeCount)
        break;

      // each stroke is made up of 3 points: the start and control point
      // and the start of the next curve.
      // fetch the indices of this pair of strokes:
      vec4 strokeIndices = getTexel(uSamplerRowStrokes, rowStrokeIndex++, uCellsImageSize);

      // unpack the stroke index
      int strokePos = getInt16(strokeIndices.xy);

      // fetch the two strokes
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);

      // calculate the coverage
      coverageX(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  // intersect curves in this column
  {
    int colIndex = gridCoord.x + uGridOffset.x;
    vec4 colInfo = getTexel(uSamplerCols, colIndex, uGridImageSize);
    int colStrokeIndex = getInt16(colInfo.xy);
    int colStrokeCount = getInt16(colInfo.zw);
    
    for (int iColStroke = INT(0); iColStroke < N; iColStroke++) {
      if (iColStroke >= colStrokeCount)
        break;

      vec4 strokeIndices = getTexel(uSamplerColStrokes, colStrokeIndex++, uCellsImageSize);

      int strokePos = getInt16(strokeIndices.xy);
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);
      coverageY(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  weight = saturate(1.0 - weight * 2.0);
  float distance = max(weight.x + weight.y, minDistance); // manhattan approx.
  float antialias = abs(dot(coverage, weight) / distance);
  float cover = min(abs(coverage.x), abs(coverage.y));
  OUT_COLOR = vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a;
  OUT_COLOR *= saturate(max(antialias, cover));
}
`,lineVert:F+`/*
  Part of the Processing project - http://processing.org
  Copyright (c) 2012-15 The Processing Foundation
  Copyright (c) 2004-12 Ben Fry and Casey Reas
  Copyright (c) 2001-04 Massachusetts Institute of Technology
  This library is free software; you can redistribute it and/or
  modify it under the terms of the GNU Lesser General Public
  License as published by the Free Software Foundation, version 2.1.
  This library is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
  Lesser General Public License for more details.
  You should have received a copy of the GNU Lesser General
  Public License along with this library; if not, write to the
  Free Software Foundation, Inc., 59 Temple Place, Suite 330,
  Boston, MA  02111-1307  USA
*/

#define PROCESSING_LINE_SHADER

precision mediump int;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform float uStrokeWeight;

uniform bool uUseLineColor;
uniform vec4 uMaterialColor;

uniform vec4 uViewport;
uniform int uPerspective;
uniform int uStrokeJoin;

IN vec4 aPosition;
IN vec3 aTangentIn;
IN vec3 aTangentOut;
IN float aSide;
IN vec4 aVertexColor;

OUT vec4 vColor;
OUT vec2 vTangent;
OUT vec2 vCenter;
OUT vec2 vPosition;
OUT float vMaxDist;
OUT float vCap;
OUT float vJoin;
OUT float vStrokeWeight;

vec2 lineIntersection(vec2 aPoint, vec2 aDir, vec2 bPoint, vec2 bDir) {
  // Rotate and translate so a starts at the origin and goes out to the right
  bPoint -= aPoint;
  vec2 rotatedBFrom = vec2(
    bPoint.x*aDir.x + bPoint.y*aDir.y,
    bPoint.y*aDir.x - bPoint.x*aDir.y
  );
  vec2 bTo = bPoint + bDir;
  vec2 rotatedBTo = vec2(
    bTo.x*aDir.x + bTo.y*aDir.y,
    bTo.y*aDir.x - bTo.x*aDir.y
  );
  float intersectionDistance =
    rotatedBTo.x + (rotatedBFrom.x - rotatedBTo.x) * rotatedBTo.y /
    (rotatedBTo.y - rotatedBFrom.y);
  return aPoint + aDir * intersectionDistance;
}

void main() {
  HOOK_beforeVertex();
  // Caps have one of either the in or out tangent set to 0
  vCap = (aTangentIn == vec3(0.)) != (aTangentOut == (vec3(0.)))
    ? 1. : 0.;

  // Joins have two unique, defined tangents
  vJoin = (
    aTangentIn != vec3(0.) &&
    aTangentOut != vec3(0.) &&
    aTangentIn != aTangentOut
  ) ? 1. : 0.;

  vec4 localPosition = vec4(HOOK_getLocalPosition(aPosition.xyz), 1.);
  vec4 posp = vec4(HOOK_getWorldPosition((uModelViewMatrix * localPosition).xyz), 1.);
  vec4 posqIn = posp + uModelViewMatrix * vec4(aTangentIn, 0);
  vec4 posqOut = posp + uModelViewMatrix * vec4(aTangentOut, 0);
  float strokeWeight = HOOK_getStrokeWeight(uStrokeWeight);
  vStrokeWeight = strokeWeight;

  float facingCamera = pow(
    // The word space tangent's z value is 0 if it's facing the camera
    abs(normalize(posqIn-posp).z),

    // Using pow() here to ramp \`facingCamera\` up from 0 to 1 really quickly
    // so most lines get scaled and don't get clipped
    0.25
  );

  // Moving vertices slightly toward the camera
  // to avoid depth-fighting with the fill triangles.
  // A mix of scaling and offsetting is used based on distance
  // Discussion here:
  // https://github.com/processing/p5.js/issues/7200 

  // using a scale <1 moves the lines towards nearby camera
  // in order to prevent popping effects due to half of
  // the line disappearing behind the geometry faces.
  float zDistance = -posp.z; 
  float distanceFactor = smoothstep(0.0, 800.0, zDistance); 
  
  // Discussed here:
  // http://www.opengl.org/discussion_boards/ubbthreads.php?ubb=showflat&Number=252848  
  float scale = mix(1., 0.995, facingCamera);
  float dynamicScale = mix(scale, 1.0, distanceFactor); // Closer = more scale, farther = less

  posp.xyz = posp.xyz * dynamicScale;
  posqIn.xyz = posqIn.xyz * dynamicScale;
  posqOut.xyz = posqOut.xyz * dynamicScale;

  // Moving vertices slightly toward camera when far away 
  // https://github.com/processing/p5.js/issues/6956 
  float zOffset = mix(-0.00045, -1., facingCamera);
  float dynamicZAdjustment = mix(0.0, zOffset, distanceFactor); // Closer = less zAdjustment, farther = more

  posp.z -= dynamicZAdjustment;
  posqIn.z -= dynamicZAdjustment;
  posqOut.z -= dynamicZAdjustment;
  
  vec4 p = uProjectionMatrix * posp;
  vec4 qIn = uProjectionMatrix * posqIn;
  vec4 qOut = uProjectionMatrix * posqOut;
  vCenter = HOOK_getLineCenter(p.xy);

  // formula to convert from clip space (range -1..1) to screen space (range 0..[width or height])
  // screen_p = (p.xy/p.w + <1,1>) * 0.5 * uViewport.zw

  // prevent division by W by transforming the tangent formula (div by 0 causes
  // the line to disappear, see https://github.com/processing/processing/issues/5183)
  // t = screen_q - screen_p
  //
  // tangent is normalized and we don't care which aDirection it points to (+-)
  // t = +- normalize( screen_q - screen_p )
  // t = +- normalize( (q.xy/q.w+<1,1>)*0.5*uViewport.zw - (p.xy/p.w+<1,1>)*0.5*uViewport.zw )
  //
  // extract common factor, <1,1> - <1,1> cancels out
  // t = +- normalize( (q.xy/q.w - p.xy/p.w) * 0.5 * uViewport.zw )
  //
  // convert to common divisor
  // t = +- normalize( ((q.xy*p.w - p.xy*q.w) / (p.w*q.w)) * 0.5 * uViewport.zw )
  //
  // remove the common scalar divisor/factor, not needed due to normalize and +-
  // (keep uViewport - can't remove because it has different components for x and y
  //  and corrects for aspect ratio, see https://github.com/processing/processing/issues/5181)
  // t = +- normalize( (q.xy*p.w - p.xy*q.w) * uViewport.zw )

  vec2 tangentIn = normalize((qIn.xy*p.w - p.xy*qIn.w) * uViewport.zw);
  vec2 tangentOut = normalize((qOut.xy*p.w - p.xy*qOut.w) * uViewport.zw);

  vec2 curPerspScale;
  if(uPerspective == 1) {
    // Perspective ---
    // convert from world to clip by multiplying with projection scaling factor
    // to get the right thickness (see https://github.com/processing/processing/issues/5182)

    // The y value of the projection matrix may be flipped if rendering to a Framebuffer.
    // Multiplying again by its sign here negates the flip to get just the scale.
    curPerspScale = (uProjectionMatrix * vec4(1, sign(uProjectionMatrix[1][1]), 0, 0)).xy;
  } else {
    // No Perspective ---
    // multiply by W (to cancel out division by W later in the pipeline) and
    // convert from screen to clip (derived from clip to screen above)
    curPerspScale = p.w / (0.5 * uViewport.zw);
  }

  vec2 offset;
  if (vJoin == 1.) {
    vTangent = normalize(tangentIn + tangentOut);
    vec2 normalIn = vec2(-tangentIn.y, tangentIn.x);
    vec2 normalOut = vec2(-tangentOut.y, tangentOut.x);
    float side = sign(aSide);
    float sideEnum = abs(aSide);

    // We generate vertices for joins on either side of the centerline, but
    // the "elbow" side is the only one needing a join. By not setting the
    // offset for the other side, all its vertices will end up in the same
    // spot and not render, effectively discarding it.
    if (sign(dot(tangentOut, vec2(-tangentIn.y, tangentIn.x))) != side) {
      // Side enums:
      //   1: the side going into the join
      //   2: the middle of the join
      //   3: the side going out of the join
      if (sideEnum == 2.) {
        // Calculate the position + tangent on either side of the join, and
        // find where the lines intersect to find the elbow of the join
        vec2 c = (posp.xy/posp.w + vec2(1.,1.)) * 0.5 * uViewport.zw;
        vec2 intersection = lineIntersection(
          c + (side * normalIn * strokeWeight / 2.),
          tangentIn,
          c + (side * normalOut * strokeWeight / 2.),
          tangentOut
        );
        offset = (intersection - c);

        // When lines are thick and the angle of the join approaches 180, the
        // elbow might be really far from the center. We'll apply a limit to
        // the magnitude to avoid lines going across the whole screen when this
        // happens.
        float mag = length(offset);
        float maxMag = 3. * strokeWeight;
        if (mag > maxMag) {
          offset *= maxMag / mag;
        }
      } else if (sideEnum == 1.) {
        offset = side * normalIn * strokeWeight / 2.;
      } else if (sideEnum == 3.) {
        offset = side * normalOut * strokeWeight / 2.;
      }
    }
    if (uStrokeJoin == STROKE_JOIN_BEVEL) {
      vec2 avgNormal = vec2(-vTangent.y, vTangent.x);
      vMaxDist = abs(dot(avgNormal, normalIn * strokeWeight / 2.));
    } else {
      vMaxDist = strokeWeight / 2.;
    }
  } else {
    vec2 tangent = aTangentIn == vec3(0.) ? tangentOut : tangentIn;
    vTangent = tangent;
    vec2 normal = vec2(-tangent.y, tangent.x);

    float normalOffset = sign(aSide);
    // Caps will have side values of -2 or 2 on the edge of the cap that
    // extends out from the line
    float tangentOffset = abs(aSide) - 1.;
    offset = (normal * normalOffset + tangent * tangentOffset) *
      strokeWeight * 0.5;
    vMaxDist = strokeWeight / 2.;
  }
  vPosition = HOOK_getLinePosition(vCenter + offset);

  gl_Position.xy = p.xy + offset.xy * curPerspScale;
  gl_Position.zw = p.zw;
  
  vColor = HOOK_getVertexColor(uUseLineColor ? aVertexColor : uMaterialColor);
  HOOK_afterVertex();
}
`,lineFrag:F+`precision mediump int;

uniform vec4 uMaterialColor;
uniform int uStrokeCap;
uniform int uStrokeJoin;

IN vec4 vColor;
IN vec2 vTangent;
IN vec2 vCenter;
IN vec2 vPosition;
IN float vStrokeWeight;
IN float vMaxDist;
IN float vCap;
IN float vJoin;

float distSquared(vec2 a, vec2 b) {
  vec2 aToB = b - a;
  return dot(aToB, aToB);
}

struct Inputs {
  vec4 color;
  vec2 tangent;
  vec2 center;
  vec2 position;
  float strokeWeight;
};

void main() {
  HOOK_beforeFragment();

  Inputs inputs;
  inputs.color = vColor;
  inputs.tangent = vTangent;
  inputs.center = vCenter;
  inputs.position = vPosition;
  inputs.strokeWeight = vStrokeWeight;
  inputs = HOOK_getPixelInputs(inputs);

  if (vCap > 0.) {
    if (
      uStrokeCap == STROKE_CAP_ROUND &&
      HOOK_shouldDiscard(distSquared(inputs.position, inputs.center) > inputs.strokeWeight * inputs.strokeWeight * 0.25)
    ) {
      discard;
    } else if (
      uStrokeCap == STROKE_CAP_SQUARE &&
      HOOK_shouldDiscard(dot(inputs.position - inputs.center, inputs.tangent) > 0.)
    ) {
      discard;
    // Use full area for PROJECT
    } else if (HOOK_shouldDiscard(false)) {
      discard;
    }
  } else if (vJoin > 0.) {
    if (
      uStrokeJoin == STROKE_JOIN_ROUND &&
      HOOK_shouldDiscard(distSquared(inputs.position, inputs.center) > inputs.strokeWeight * inputs.strokeWeight * 0.25)
    ) {
      discard;
    } else if (uStrokeJoin == STROKE_JOIN_BEVEL) {
      vec2 normal = vec2(-inputs.tangent.y, inputs.tangent.x);
      if (HOOK_shouldDiscard(abs(dot(inputs.position - inputs.center, normal)) > vMaxDist)) {
        discard;
      }
    // Use full area for MITER
    } else if (HOOK_shouldDiscard(false)) {
      discard;
    }
  }
  OUT_COLOR = HOOK_getFinalColor(vec4(inputs.color.rgb, 1.) * inputs.color.a);
  HOOK_afterFragment();
}
`,pointVert:`IN vec3 aPosition;
uniform float uPointSize;
OUT float vStrokeWeight;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

void main() {
  HOOK_beforeVertex();
  vec4 viewModelPosition = vec4(HOOK_getWorldPosition(
    (uModelViewMatrix * vec4(HOOK_getLocalPosition(aPosition), 1.0)).xyz
  ), 1.);
  gl_Position = uProjectionMatrix * viewModelPosition;  

  float pointSize = HOOK_getPointSize(uPointSize);

	gl_PointSize = pointSize;
	vStrokeWeight = pointSize;
  HOOK_afterVertex();
}
`,pointFrag:`precision mediump int;
uniform vec4 uMaterialColor;
IN float vStrokeWeight;

void main(){
  HOOK_beforeFragment();
  float mask = 0.0;

  // make a circular mask using the gl_PointCoord (goes from 0 - 1 on a point)
  // might be able to get a nicer edge on big strokeweights with smoothstep but slightly less performant

  mask = step(0.98, length(gl_PointCoord * 2.0 - 1.0));

  // if strokeWeight is 1 or less lets just draw a square
  // this prevents weird artifacting from carving circles when our points are really small
  // if strokeWeight is larger than 1, we just use it as is

  mask = mix(0.0, mask, clamp(floor(vStrokeWeight - 0.5),0.0,1.0));

  // throw away the borders of the mask
  // otherwise we get weird alpha blending issues

  if(HOOK_shouldDiscard(mask > 0.98)){
    discard;
  }

  OUT_COLOR = HOOK_getFinalColor(vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a);
  HOOK_afterFragment();
}
`,imageLightVert:`precision highp float;
attribute vec3 aPosition;
attribute vec3 aNormal;
attribute vec2 aTexCoord;

varying vec3 localPos;
varying vec3 vWorldNormal;
varying vec3 vWorldPosition;
varying vec2 vTexCoord;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

void main() {
  // Multiply the position by the matrix.
  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * viewModelPosition;  
  
  // orient the normals and pass to the fragment shader
  vWorldNormal = uNormalMatrix * aNormal;
  
  // send the view position to the fragment shader
  vWorldPosition = (uModelViewMatrix * vec4(aPosition, 1.0)).xyz;
  
  localPos = vWorldPosition;
  vTexCoord = aTexCoord;
}


/*
in the vertex shader we'll compute the world position and world oriented normal of the vertices and pass those to the fragment shader as varyings.
*/
`,imageLightDiffusedFrag:`precision highp float;
varying vec3 localPos;

// the HDR cubemap converted (can be from an equirectangular environment map.)
uniform sampler2D environmentMap;
varying vec2 vTexCoord;

const float PI = 3.14159265359;

vec2 nTOE( vec3 v ){
  // x = r sin(phi) cos(theta)   
  // y = r cos(phi)  
  // z = r sin(phi) sin(theta)
  float phi = acos( v.y );
  // if phi is 0, then there are no x, z components
  float theta = 0.0;
  // else 
  theta = acos(v.x / sin(phi));
  float sinTheta = v.z / sin(phi);
  if (sinTheta < 0.0) {
    // Turn it into -theta, but in the 0-2PI range
    theta = 2.0 * PI - theta;
  }
  theta = theta / (2.0 * 3.14159);
  phi = phi / 3.14159 ;
  
  vec2 angles = vec2( phi, theta );
  return angles;
}

float random(vec2 p) {
  vec3 p3  = fract(vec3(p.xyx) * .1031);
  p3 += dot(p3, p3.yzx + 33.33);
  return fract((p3.x + p3.y) * p3.z);
}

void main()
{   	 
	// the sample direction equals the hemisphere's orientation
  float phi = vTexCoord.x * 2.0 * PI;
  float theta = vTexCoord.y * PI;
  float x = sin(theta) * cos(phi);
  float y = sin(theta) * sin(phi);
  float z = cos(theta);
  vec3 normal = vec3( x, y, z);

	// Discretely sampling the hemisphere given the integral's
  // spherical coordinates translates to the following fragment code:
	vec3 irradiance = vec3(0.0);  
	vec3 up	= vec3(0.0, 1.0, 0.0);
	vec3 right = normalize(cross(up, normal));
	up = normalize(cross(normal, right));

	//  We specify a fixed sampleDelta delta value to traverse
  // the hemisphere; decreasing or increasing the sample delta
  // will increase or decrease the accuracy respectively.
	const float sampleDelta = 0.100;
	float nrSamples = 0.0;
  float randomOffset = random(gl_FragCoord.xy) * sampleDelta;
	for(float rawPhi = 0.0; rawPhi < 2.0 * PI; rawPhi += sampleDelta)
	{
    float phi = rawPhi + randomOffset;
    for(float rawTheta = 0.0; rawTheta < ( 0.5 ) * PI; rawTheta += sampleDelta)
    {
      float theta = rawTheta + randomOffset;
      // spherical to cartesian (in tangent space) // tangent space to world // add each sample result to irradiance
      float x = sin(theta) * cos(phi);
      float y = sin(theta) * sin(phi);
      float z = cos(theta);
      vec3 tangentSample = vec3( x, y, z);
      
      vec3 sampleVec = tangentSample.x * right + tangentSample.y * up + tangentSample.z * normal;
        irradiance += (texture2D(environmentMap, nTOE(sampleVec)).xyz) * cos(theta) * sin(theta);
      nrSamples++;
    }
	}
	// divide by the total number of samples taken, giving us the average sampled irradiance.
	irradiance = PI * irradiance * (1.0 / float(nrSamples )) ;
  
 
	gl_FragColor = vec4(irradiance, 1.0);
}`,imageLightSpecularFrag:`precision highp float;\r
varying vec3 localPos;\r
varying vec2 vTexCoord;\r
\r
// our texture\r
uniform sampler2D environmentMap;\r
uniform float roughness;\r
\r
const float PI = 3.14159265359;\r
\r
float VanDerCorput(int bits);\r
vec2 HammersleyNoBitOps(int i, int N);\r
vec3 ImportanceSampleGGX(vec2 Xi, vec3 N, float roughness);\r
\r
\r
vec2 nTOE( vec3 v ){\r
  // x = r sin(phi) cos(theta)   \r
  // y = r cos(phi)  \r
  // z = r sin(phi) sin(theta)\r
  float phi = acos( v.y );\r
  // if phi is 0, then there are no x, z components\r
  float theta = 0.0;\r
  // else \r
  theta = acos(v.x / sin(phi));\r
  float sinTheta = v.z / sin(phi);\r
  if (sinTheta < 0.0) {\r
    // Turn it into -theta, but in the 0-2PI range\r
    theta = 2.0 * PI - theta;\r
  }\r
  theta = theta / (2.0 * 3.14159);\r
  phi = phi / 3.14159 ;\r
  \r
  vec2 angles = vec2( phi, theta );\r
  return angles;\r
}\r
\r
\r
void main(){\r
  const int SAMPLE_COUNT = 400; // 4096\r
  int lowRoughnessLimit = int(pow(2.0,(roughness+0.1)*20.0));\r
  float totalWeight = 0.0;\r
  vec3 prefilteredColor = vec3(0.0);\r
  float phi = vTexCoord.x * 2.0 * PI;\r
  float theta = vTexCoord.y * PI;\r
  float x = sin(theta) * cos(phi);\r
  float y = sin(theta) * sin(phi);\r
  float z = cos(theta);\r
  vec3 N = vec3(x,y,z);\r
  vec3 V = N;\r
  for (int i = 0; i < SAMPLE_COUNT; ++i)\r
  {\r
    // break at smaller sample numbers for low roughness levels\r
    if(i == lowRoughnessLimit)\r
    {\r
      break;\r
    }\r
    vec2 Xi = HammersleyNoBitOps(i, SAMPLE_COUNT);\r
    vec3 H = ImportanceSampleGGX(Xi, N, roughness);\r
    vec3 L = normalize(2.0 * dot(V, H) * H - V);\r
\r
    float NdotL = max(dot(N, L), 0.0);\r
    if (NdotL > 0.0)\r
    {\r
      prefilteredColor += texture2D(environmentMap, nTOE(L)).xyz * NdotL;\r
      totalWeight += NdotL;\r
    }\r
  }\r
  prefilteredColor = prefilteredColor / totalWeight;\r
\r
  gl_FragColor = vec4(prefilteredColor, 1.0);\r
}\r
\r
vec3 ImportanceSampleGGX(vec2 Xi, vec3 N, float roughness){\r
  float a = roughness * roughness;\r
\r
  float phi = 2.0 * PI * Xi.x;\r
  float cosTheta = sqrt((1.0 - Xi.y) / (1.0 + (a * a - 1.0) * Xi.y));\r
  float sinTheta = sqrt(1.0 - cosTheta * cosTheta);\r
  // from spherical coordinates to cartesian coordinates\r
  vec3 H;\r
  H.x = cos(phi) * sinTheta;\r
  H.y = sin(phi) * sinTheta;\r
  H.z = cosTheta;\r
\r
  // from tangent-space vector to world-space sample vector\r
  vec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);\r
  vec3 tangent = normalize(cross(up, N));\r
  vec3 bitangent = cross(N, tangent);\r
\r
  vec3 sampleVec = tangent * H.x + bitangent * H.y + N * H.z;\r
  return normalize(sampleVec);\r
}\r
\r
\r
float VanDerCorput(int n, int base)\r
{\r
#ifdef WEBGL2\r
\r
    uint bits = uint(n);\r
    bits = (bits << 16u) | (bits >> 16u);\r
    bits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);\r
    bits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);\r
    bits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);\r
    bits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);\r
    return float(bits) * 2.3283064365386963e-10; // / 0x100000000\r
\r
#else\r
\r
  float invBase = 1.0 / float(base);\r
  float denom = 1.0;\r
  float result = 0.0;\r
\r
\r
  for (int i = 0; i < 32; ++i)\r
  {\r
        if (n > 0)\r
        {\r
        denom = mod(float(n), 2.0);\r
        result += denom * invBase;\r
        invBase = invBase / 2.0;\r
        n = int(float(n) / 2.0);\r
        }\r
  }\r
\r
\r
  return result;\r
\r
#endif\r
}\r
\r
vec2 HammersleyNoBitOps(int i, int N)\r
{\r
  return vec2(float(i) / float(N), VanDerCorput(i, 2));\r
}\r
`},z=q.sphereMappingFrag;for(R in q)q[R]=`#ifdef WEBGL2

#define IN in
#define OUT out

#ifdef FRAGMENT_SHADER
out vec4 outColor;
#define OUT_COLOR outColor
#endif
#define TEXTURE texture

#else

#ifdef FRAGMENT_SHADER
#define IN varying
#else
#define IN attribute
#endif
#define OUT varying
#define TEXTURE texture2D

#ifdef FRAGMENT_SHADER
#define OUT_COLOR gl_FragColor
#endif

#endif
`+q[R];L(P={},d.GRAY,`precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  return dot(color, vec3(0.2126, 0.7152, 0.0722));
}

void main() {
  vec4 tex = texture2D(tex0, vTexCoord);
  float gray = luma(tex.rgb);
  gl_FragColor = vec4(gray, gray, gray, tex.a);
}
`),L(P,d.ERODE,`// Reduces the bright areas in an image

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform vec2 texelSize;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  // weights 77, 151, 28 taken from src/image/filters.js
  return dot(color, vec3(0.300781, 0.589844, 0.109375));
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  float lum = luma(color.rgb);

  // set current color as the darkest neighbor color

  vec4 neighbors[4];
  neighbors[0] = texture2D(tex0, vTexCoord + vec2( texelSize.x, 0.0));
  neighbors[1] = texture2D(tex0, vTexCoord + vec2(-texelSize.x, 0.0));
  neighbors[2] = texture2D(tex0, vTexCoord + vec2(0.0,  texelSize.y));
  neighbors[3] = texture2D(tex0, vTexCoord + vec2(0.0, -texelSize.y));

  for (int i = 0; i < 4; i++) {
    vec4 neighborColor = neighbors[i];
    float neighborLum = luma(neighborColor.rgb);

    if (neighborLum < lum) {
      color = neighborColor;
      lum = neighborLum;
    }
  }

  gl_FragColor = color;
}
`),L(P,d.DILATE,`// Increase the bright areas in an image

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform vec2 texelSize;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  // weights 77, 151, 28 taken from src/image/filters.js
  return dot(color, vec3(0.300781, 0.589844, 0.109375));
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  float lum = luma(color.rgb);

  // set current color as the brightest neighbor color

  vec4 neighbors[4];
  neighbors[0] = texture2D(tex0, vTexCoord + vec2( texelSize.x, 0.0));
  neighbors[1] = texture2D(tex0, vTexCoord + vec2(-texelSize.x, 0.0));
  neighbors[2] = texture2D(tex0, vTexCoord + vec2(0.0,  texelSize.y));
  neighbors[3] = texture2D(tex0, vTexCoord + vec2(0.0, -texelSize.y));

  for (int i = 0; i < 4; i++) {
    vec4 neighborColor = neighbors[i];
    float neighborLum = luma(neighborColor.rgb);

    if (neighborLum > lum) {
      color = neighborColor;
      lum = neighborLum;
    }
  }

  gl_FragColor = color;
}
`),L(P,d.BLUR,`precision highp float;

// Two-pass blur filter, unweighted kernel.
// See also a similar blur at Adam Ferriss' repo of shader examples:
// https://github.com/aferriss/p5jsShaderExamples/blob/gh-pages/4_image-effects/4-9_single-pass-blur/effect.frag


uniform sampler2D tex0;
varying vec2 vTexCoord;
uniform vec2 direction;
uniform vec2 canvasSize;
uniform float radius;

float random(vec2 p) {
  vec3 p3  = fract(vec3(p.xyx) * .1031);
  p3 += dot(p3, p3.yzx + 33.33);
  return fract((p3.x + p3.y) * p3.z);
}

// This isn't a real Gaussian weight, it's a quadratic weight. It's what the
// CPU mode's blur uses though, so we also use it here to match.
float quadWeight(float x, float e) {
  return pow(e-abs(x), 2.);
}

void main(){
  vec2 uv = vTexCoord;

  // A reasonable maximum number of samples
  const float maxSamples = 64.0;

  float numSamples = floor(7. * radius);
  if (fract(numSamples / 2.) == 0.) {
    numSamples++;
  }
  vec4 avg = vec4(0.0);
  float total = 0.0;

  // Calculate the spacing to avoid skewing if numSamples > maxSamples
  float spacing = 1.0;
  if (numSamples > maxSamples) {
    spacing = numSamples / maxSamples;
    numSamples = maxSamples;
  }

  float randomOffset = (spacing - 1.0) * mix(-0.5, 0.5, random(gl_FragCoord.xy));
  for (float i = 0.0; i < maxSamples; i++) {
    if (i >= numSamples) break;

    float sample = i * spacing - (numSamples - 1.0) * 0.5 * spacing + randomOffset;
    vec2 sampleCoord = uv + vec2(sample, sample) / canvasSize * direction;
    float weight = quadWeight(sample, (numSamples - 1.0) * 0.5 * spacing);

    avg += weight * texture2D(tex0, sampleCoord);
    total += weight;
  }

  avg /= total;
  gl_FragColor = avg;
}
`),L(P,d.POSTERIZE,`// Limit color space for a stylized cartoon / poster effect

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform float filterParameter;

vec3 quantize(vec3 color, float n) {
  // restrict values to N options/bins
  // and floor each channel to nearest value
  //
  // eg. when N = 5, values = 0.0, 0.25, 0.50, 0.75, 1.0
  // then quantize (0.1, 0.7, 0.9) -> (0.0, 0.5, 1.0)

  color = color * n;
  color = floor(color);
  color = color / (n - 1.0);
  return color;
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);

  vec3 restrictedColor = quantize(color.rgb / color.a, filterParameter);

  gl_FragColor = vec4(restrictedColor.rgb * color.a, color.a);
}
`),L(P,d.OPAQUE,`// Set alpha channel to entirely opaque

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  gl_FragColor = vec4(color.rgb / color.a, 1.0);
}
`),L(P,d.INVERT,`// Set each pixel to inverse value
// Note that original INVERT does not change the opacity, so this follows suit

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;

void main() {
vec4 color = texture2D(tex0, vTexCoord);
vec3 origColor = color.rgb / color.a;
vec3 invertedColor = vec3(1.0) - origColor;
gl_FragColor = vec4(invertedColor * color.a, color.a);
}
`),L(P,d.THRESHOLD,`// Convert pixels to either white or black, 
// depending on if their luma is above or below filterParameter

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform float filterParameter;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  return dot(color, vec3(0.2126, 0.7152, 0.0722));
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  float gray = luma(color.rgb / color.a);
  // floor() used to match src/image/filters.js
  float threshold = floor(filterParameter * 255.0) / 255.0;
  float blackOrWhite = step(threshold, gray);
  gl_FragColor = vec4(vec3(blackOrWhite) * color.a, color.a);
}
`);var H=P;function Q(Z,K,ve,le,M,G,X,ee,ae,ce){var pe=K.getParameter(K.FRAMEBUFFER_BINDING),ve=(K.bindFramebuffer(K.FRAMEBUFFER,ve),ee===K.RGBA?4:3),ge=G*X*ve,Se=ae===K.UNSIGNED_BYTE?Uint8Array:Float32Array;if(Z instanceof Se&&Z.length===ge||(Z=new Se(ge)),K.readPixels(le,ce?ce-M-X:M,G,X,ee,ae,Z),K.bindFramebuffer(K.FRAMEBUFFER,pe),ce)for(var xe=Math.floor(X/2),he=new Se(G*ve),je=0;je<xe;je++){var Ce=je*G*4,De=(X-je-1)*G*4;he.set(Z.subarray(Ce,Ce+4*G)),Z.copyWithin(Ce,De,De+4*G),Z.set(he,De)}return Z}function J(Z,ae,se,le,M,G,X){var ee=Z.getParameter(Z.FRAMEBUFFER_BINDING),ae=(Z.bindFramebuffer(Z.FRAMEBUFFER,ae),M===Z.RGBA?4:3),ae=new(G===Z.UNSIGNED_BYTE?Uint8Array:Float32Array)(ae);return Z.readPixels(se,X?X-le-1:le,1,1,M,G,ae),Z.bindFramebuffer(Z.FRAMEBUFFER,ee),Array.from(ae)}a.default.prototype.setAttributes=function(Z,K){if(this._glAttributes===void 0)console.log("You are trying to use setAttributes on a p5.Graphics object that does not use a WEBGL renderer.");else{var se=!0;if(K!==void 0?(this._glAttributes===null&&(this._glAttributes={}),this._glAttributes[Z]!==K&&(this._glAttributes[Z]=K,se=!1)):Z instanceof Object&&this._glAttributes!==Z&&(this._glAttributes=Z,se=!1),this._renderer.isP3D&&!se){if(!this._setupDone){for(var le in this._renderer.retainedMode.geometry)if(this._renderer.retainedMode.geometry.hasOwnProperty(le))return void a.default._friendlyError("Sorry, Could not set the attributes, you need to call setAttributes() before calling the other drawing methods in setup()")}this.push(),this._renderer._resetContext(),this.pop(),this._renderer._curCamera&&(this._renderer._curCamera._renderer=this._renderer)}}},a.default.RendererGL=function(Z){var K=le;if(typeof Z!="function"&&Z!==null)throw new TypeError("Super expression must either be null or a function");K.prototype=Object.create(Z&&Z.prototype,{constructor:{value:K,writable:!0,configurable:!0}}),Z&&v(K,Z);var se=S(le);function le(M,G,X,ee){if(this instanceof le)return(M=se.call(this,M,G,X))._setAttributeDefaults(G),M._initContext(),M.isP3D=!0,M.geometryBuilder=void 0,M.GL=M.drawingContext,M._pInst._setProperty("drawingContext",M.drawingContext),M._isErasing=!1,M._clipDepths=[],M._isClipApplied=!1,M._stencilTestOn=!1,M._enableLighting=!1,M.ambientLightColors=[],M.mixedAmbientLight=[],M.mixedSpecularColor=[],M.specularColors=[1,1,1],M.directionalLightDirections=[],M.directionalLightDiffuseColors=[],M.directionalLightSpecularColors=[],M.pointLightPositions=[],M.pointLightDiffuseColors=[],M.pointLightSpecularColors=[],M.spotLightPositions=[],M.spotLightDirections=[],M.spotLightDiffuseColors=[],M.spotLightSpecularColors=[],M.spotLightAngle=[],M.spotLightConc=[],M.activeImageLight=null,M.diffusedTextures=new Map,M.specularTextures=new Map,M.drawMode=d.FILL,M.curFillColor=M._cachedFillStyle=[1,1,1,1],M.curAmbientColor=M._cachedFillStyle=[1,1,1,1],M.curSpecularColor=M._cachedFillStyle=[0,0,0,0],M.curEmissiveColor=M._cachedFillStyle=[0,0,0,0],M.curStrokeColor=M._cachedStrokeStyle=[0,0,0,1],M.curBlendMode=d.BLEND,M.preEraseBlend=void 0,M._cachedBlendMode=void 0,M.webglVersion===d.WEBGL2?M.blendExt=M.GL:M.blendExt=M.GL.getExtension("EXT_blend_minmax"),M._isBlending=!1,M._hasSetAmbient=!1,M._useSpecularMaterial=!1,M._useEmissiveMaterial=!1,M._useNormalMaterial=!1,M._useShininess=1,M._useMetalness=0,M._useLineColor=!1,M._useVertexColor=!1,M.registerEnabled=new Set,M._tint=[255,255,255,255],M.constantAttenuation=1,M.linearAttenuation=0,M.quadraticAttenuation=0,M.uModelMatrix=new a.default.Matrix,M.uViewMatrix=new a.default.Matrix,M.uMVMatrix=new a.default.Matrix,M.uPMatrix=new a.default.Matrix,M.uNMatrix=new a.default.Matrix("mat3"),M.curMatrix=new a.default.Matrix("mat3"),M._currentNormal=new a.default.Vector(0,0,1),M._curCamera=new a.default.Camera(j(M)),M._curCamera._computeCameraDefaultSettings(),M._curCamera._setDefaultCamera(),M.filterCamera=new a.default.Camera(j(M)),M.filterCamera._computeCameraDefaultSettings(),M.filterCamera._setDefaultCamera(),M.prevTouches=[],M.zoomVelocity=0,M.rotateVelocity=new a.default.Vector(0,0),M.moveVelocity=new a.default.Vector(0,0),M.executeZoom=!1,M.executeRotateAndMove=!1,M.specularShader=void 0,M.sphereMapping=void 0,M.diffusedShader=void 0,M._defaultLightShader=void 0,M._defaultImmediateModeShader=void 0,M._defaultNormalShader=void 0,M._defaultColorShader=void 0,M._defaultPointShader=void 0,M.userFillShader=void 0,M.userStrokeShader=void 0,M.userPointShader=void 0,M.retainedMode={geometry:{},buffers:{stroke:[new a.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",j(M)),new a.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",j(M)),new a.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",j(M)),new a.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",j(M)),new a.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",j(M))],fill:[new a.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",j(M),M._vToNArray),new a.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",j(M),M._vToNArray),new a.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",j(M)),new a.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",j(M)),new a.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",j(M),M._flatten)],text:[new a.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",j(M),M._vToNArray),new a.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",j(M),M._flatten)]}},M.immediateMode={geometry:new a.default.Geometry,shapeMode:d.TRIANGLE_FAN,contourIndices:[],_bezierVertex:[],_quadraticVertex:[],_curveVertex:[],buffers:{fill:[new a.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",j(M),M._vToNArray),new a.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",j(M),M._vToNArray),new a.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",j(M)),new a.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",j(M)),new a.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",j(M),M._flatten)],stroke:[new a.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",j(M)),new a.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",j(M)),new a.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",j(M)),new a.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",j(M)),new a.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",j(M))],point:M.GL.createBuffer()}},M.pointSize=5,M.curStrokeWeight=1,M.curStrokeCap=d.ROUND,M.curStrokeJoin=d.ROUND,M.textures=new Map,M.framebuffers=new Set,M.activeFramebuffers=[],M.filterShader=void 0,M.filterLayer=void 0,M.filterLayerTemp=void 0,M.defaultFilterShaders={},M.textureMode=d.IMAGE,M.textureWrapX=d.CLAMP,M.textureWrapY=d.CLAMP,M._tex=null,M._curveTightness=6,M._lookUpTableBezier=[],M._lookUpTableQuadratic=[],M._lutBezierDetail=0,M._lutQuadraticDetail=0,M.isProcessingVertices=!1,M._tessy=M._initTessy(),M.fontInfos={},M._curShader=void 0,M;throw new TypeError("Cannot call a class as a function")}return K=le,(Z=[{key:"beginGeometry",value:function(){if(this.geometryBuilder)throw new Error("It looks like `beginGeometry()` is being called while another p5.Geometry is already being build.");this.geometryBuilder=new _.default(this)}},{key:"endGeometry",value:function(){var M;if(this.geometryBuilder)return M=this.geometryBuilder.finish(),this.geometryBuilder=void 0,M;throw new Error("Make sure you call beginGeometry() before endGeometry()!")}},{key:"buildGeometry",value:function(M){return this.beginGeometry(),M(),this.endGeometry()}},{key:"_setAttributeDefaults",value:function(M){var G={alpha:!0,depth:!0,stencil:!0,antialias:navigator.userAgent.toLowerCase().includes("safari"),premultipliedAlpha:!0,preserveDrawingBuffer:!0,perPixelLighting:!0,version:2};M._glAttributes===null?M._glAttributes=G:M._glAttributes=Object.assign(G,M._glAttributes)}},{key:"_initContext",value:function(){if(this._pInst._glAttributes.version!==1&&(this.drawingContext=this.canvas.getContext("webgl2",this._pInst._glAttributes)),this.webglVersion=this.drawingContext?d.WEBGL2:d.WEBGL,this._pInst._setProperty("webglVersion",this.webglVersion),this.drawingContext||(this.drawingContext=this.canvas.getContext("webgl",this._pInst._glAttributes)||this.canvas.getContext("experimental-webgl",this._pInst._glAttributes)),this.drawingContext===null)throw new Error("Error creating webgl context");var M=this.drawingContext;M.enable(M.DEPTH_TEST),M.depthFunc(M.LEQUAL),M.viewport(0,0,M.drawingBufferWidth,M.drawingBufferHeight),M.pixelStorei(M.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),this._viewport=this.drawingContext.getParameter(this.drawingContext.VIEWPORT)}},{key:"_getParam",value:function(){var M=this.drawingContext;return M.getParameter(M.MAX_TEXTURE_SIZE)}},{key:"_adjustDimensions",value:function(M,G){this._maxTextureSize||(this._maxTextureSize=this._getParam());var ee=this._maxTextureSize,ee=(a.default.prototype._maxAllowedPixelDimensions,Math.floor(ee/this.pixelDensity())),X=Math.min(M,ee),ee=Math.min(G,ee);return X===M&&ee===G||console.warn("Warning: The requested width/height exceeds hardware limits. "+"Adjusting dimensions to width: ".concat(X,", height: ").concat(ee,".")),{adjustedWidth:X,adjustedHeight:ee}}},{key:"_resetContext",value:function(M,G){var X,ee=this.width,ae=this.height,pe=this.canvas.id,ce=this._pInst instanceof a.default.Graphics,pe=(ce?((X=this._pInst).canvas.parentNode.removeChild(X.canvas),X.canvas=document.createElement("canvas"),(X._pInst._userNode||document.body).appendChild(X.canvas),a.default.Element.call(X,X.canvas,X._pInst),X.width=ee,X.height=ae):((X=this.canvas)&&X.parentNode.removeChild(X),(X=document.createElement("canvas")).id=pe,(this._pInst._userNode||document.body).appendChild(X),this._pInst.canvas=X,this.canvas=X),new a.default.RendererGL(this._pInst.canvas,this._pInst,!ce));this._pInst._setProperty("_renderer",pe),pe.resize(ee,ae),pe._applyDefaults(),ce||this._pInst._elements.push(pe),typeof G=="function"&&setTimeout(function(){G.apply(window._renderer,M)},0)}},{key:"_update",value:function(){this.uModelMatrix.reset(),this.uViewMatrix.set(this._curCamera.cameraMatrix),this.ambientLightColors.length=0,this.specularColors=[1,1,1],this.directionalLightDirections.length=0,this.directionalLightDiffuseColors.length=0,this.directionalLightSpecularColors.length=0,this.pointLightPositions.length=0,this.pointLightDiffuseColors.length=0,this.pointLightSpecularColors.length=0,this.spotLightPositions.length=0,this.spotLightDirections.length=0,this.spotLightDiffuseColors.length=0,this.spotLightSpecularColors.length=0,this.spotLightAngle.length=0,this.spotLightConc.length=0,this._enableLighting=!1,this._tint=[255,255,255,255],this.GL.clearStencil(0),this.GL.clear(this.GL.DEPTH_BUFFER_BIT|this.GL.STENCIL_BUFFER_BIT),this.GL.disable(this.GL.STENCIL_TEST)}},{key:"background",value:function(){var ee=(ee=this._pInst).color.apply(ee,arguments),M=ee.levels[0]/255,G=ee.levels[1]/255,X=ee.levels[2]/255,ee=ee.levels[3]/255;this.clear(M,G,X,ee)}},{key:"fill",value:function(M,G,X,ee){var ae=a.default.prototype.color.apply(this._pInst,arguments);this.curFillColor=ae._array,this.drawMode=d.FILL,this._useNormalMaterial=!1,this._tex=null}},{key:"stroke",value:function(M,G,X,ee){var ae=a.default.prototype.color.apply(this._pInst,arguments);this.curStrokeColor=ae._array}},{key:"strokeCap",value:function(M){this.curStrokeCap=M}},{key:"strokeJoin",value:function(M){this.curStrokeJoin=M}},{key:"getFilterLayer",value:function(){return this.filterLayer||(this.filterLayer=this._pInst.createFramebuffer()),this.filterLayer}},{key:"getFilterLayerTemp",value:function(){return this.filterLayerTemp||(this.filterLayerTemp=this._pInst.createFramebuffer()),this.filterLayerTemp}},{key:"matchSize",value:function(M,G){M.width===G.width&&M.height===G.height||M.resize(G.width,G.height),M.pixelDensity()!==G.pixelDensity()&&M.pixelDensity(G.pixelDensity())}},{key:"filter",value:function(){var M,G,X=this,ee=this.getFilterLayer(),ae=void 0,ce=void 0,pe=(typeof(arguments.length<=0?void 0:arguments[0])=="string"?(ce=arguments.length<=0?void 0:arguments[0],L(M={},d.BLUR,3),L(M,d.POSTERIZE,4),L(M,d.THRESHOLD,.5),ae=ce in(M=M)&&(arguments.length<=1?void 0:arguments[1])===void 0?M[ce]:arguments.length<=1?void 0:arguments[1],ce in this.defaultFilterShaders||(this.defaultFilterShaders[ce]=new a.default.Shader(ee._renderer,`uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

attribute vec3 aPosition;
// texcoords only come from p5 to vertex shader
// so pass texcoords on to the fragment shader in a varying variable
attribute vec2 aTexCoord;
varying vec2 vTexCoord;

void main() {
  // transferring texcoords for the frag shader
  vTexCoord = aTexCoord;

  // copy position with a fourth coordinate for projection (1.0 is normal)
  vec4 positionVec4 = vec4(aPosition, 1.0);

  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
}
`,H[ce])),this.filterShader=this.defaultFilterShaders[ce]):this.filterShader=arguments.length<=0?void 0:arguments[0],this.activeFramebuffer()||this),ve=(this.matchSize(ee,pe),ee.draw(function(){return X._pInst.clear()}),[1/(pe.width*pe.pixelDensity()),1/(pe.height*pe.pixelDensity())]);ce===d.BLUR?(G=this.getFilterLayerTemp(),this.matchSize(G,pe),this._pInst.push(),this._pInst.noStroke(),this._pInst.blendMode(d.BLEND),this._pInst.shader(this.filterShader),this.filterShader.setUniform("texelSize",ve),this.filterShader.setUniform("canvasSize",[pe.width,pe.height]),this.filterShader.setUniform("radius",Math.max(1,ae)),G.draw(function(){X.filterShader.setUniform("direction",[1,0]),X.filterShader.setUniform("tex0",pe),X._pInst.clear(),X._pInst.shader(X.filterShader),X._pInst.noLights(),X._pInst.plane(pe.width,pe.height)}),ee.draw(function(){X.filterShader.setUniform("direction",[0,1]),X.filterShader.setUniform("tex0",G),X._pInst.clear(),X._pInst.shader(X.filterShader),X._pInst.noLights(),X._pInst.plane(pe.width,pe.height)}),this._pInst.pop()):ee.draw(function(){X._pInst.noStroke(),X._pInst.blendMode(d.BLEND),X._pInst.shader(X.filterShader),X.filterShader.setUniform("tex0",pe),X.filterShader.setUniform("texelSize",ve),X.filterShader.setUniform("canvasSize",[pe.width,pe.height]),X.filterShader.setUniform("filterParameter",ae),X._pInst.noLights(),X._pInst.plane(pe.width,pe.height)}),this._pInst.push(),this._pInst.noStroke(),this.clear(),this._pInst.push(),this._pInst.imageMode(d.CORNER),this._pInst.blendMode(d.BLEND),pe.filterCamera._resize(),this._pInst.setCamera(pe.filterCamera),this._pInst.resetMatrix(),this._pInst.image(ee,-pe.width/2,-pe.height/2,pe.width,pe.height),this._pInst.clearDepth(),this._pInst.pop(),this._pInst.pop()}},{key:"pixelDensity",value:function(M){return M?this._pInst.pixelDensity(M):this._pInst.pixelDensity()}},{key:"blendMode",value:function(M){M===d.DARKEST||M===d.LIGHTEST||M===d.ADD||M===d.BLEND||M===d.SUBTRACT||M===d.SCREEN||M===d.EXCLUSION||M===d.REPLACE||M===d.MULTIPLY||M===d.REMOVE?this.curBlendMode=M:M!==d.BURN&&M!==d.OVERLAY&&M!==d.HARD_LIGHT&&M!==d.SOFT_LIGHT&&M!==d.DODGE||console.warn("BURN, OVERLAY, HARD_LIGHT, SOFT_LIGHT, and DODGE only work for blendMode in 2D mode.")}},{key:"erase",value:function(M,G){this._isErasing||(this.preEraseBlend=this.curBlendMode,this._isErasing=!0,this.blendMode(d.REMOVE),this._cachedFillStyle=this.curFillColor.slice(),this.curFillColor=[1,1,1,M/255],this._cachedStrokeStyle=this.curStrokeColor.slice(),this.curStrokeColor=[1,1,1,G/255])}},{key:"noErase",value:function(){this._isErasing&&(this.curFillColor=this._cachedFillStyle.slice(),this.curStrokeColor=this._cachedStrokeStyle.slice(),this.curBlendMode=this.preEraseBlend,this.blendMode(this.preEraseBlend),this._isErasing=!1,this._applyBlendMode())}},{key:"drawTarget",value:function(){return this.activeFramebuffers[this.activeFramebuffers.length-1]||this}},{key:"beginClip",value:function(){var M=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},M=(g(A(le.prototype),"beginClip",this).call(this,M),this.drawTarget()._isClipApplied=!0,this.GL);M.clearStencil(0),M.clear(M.STENCIL_BUFFER_BIT),M.enable(M.STENCIL_TEST),this._stencilTestOn=!0,M.stencilFunc(M.ALWAYS,1,255),M.stencilOp(M.KEEP,M.KEEP,M.REPLACE),M.disable(M.DEPTH_TEST),this._pInst.push(),this._pInst.resetShader(),this._doFill&&this._pInst.fill(0,0),this._doStroke&&this._pInst.stroke(0,0)}},{key:"endClip",value:function(){this._pInst.pop();var M=this.GL;M.stencilOp(M.KEEP,M.KEEP,M.KEEP),M.stencilFunc(this._clipInvert?M.EQUAL:M.NOTEQUAL,0,255),M.enable(M.DEPTH_TEST),this._clipDepths.push(this._pushPopDepth),g(A(le.prototype),"endClip",this).call(this)}},{key:"_clearClip",value:function(){this.GL.clearStencil(1),this.GL.clear(this.GL.STENCIL_BUFFER_BIT),0<this._clipDepths.length&&this._clipDepths.pop(),this.drawTarget()._isClipApplied=!1}},{key:"strokeWeight",value:function(M){this.curStrokeWeight!==M&&(this.pointSize=M,this.curStrokeWeight=M)}},{key:"_getPixel",value:function(M,G){var X=this.GL;return J(X,null,M,G,X.RGBA,X.UNSIGNED_BYTE,this._pInst.height*this._pInst.pixelDensity())}},{key:"loadPixels",value:function(){var M,G,X=this._pixelsState;this._pInst._glAttributes.preserveDrawingBuffer!==!0?console.log("loadPixels only works in WebGL when preserveDrawingBuffer is true."):(M=this._pInst._pixelDensity,G=this.GL,X._setProperty("pixels",Q(X.pixels,G,null,0,0,this.width*M,this.height*M,G.RGBA,G.UNSIGNED_BYTE,this.height*M)))}},{key:"updatePixels",value:function(){var M=this._getTempFramebuffer();M.pixels=this._pixelsState.pixels,M.updatePixels(),this._pInst.push(),this._pInst.resetMatrix(),this._pInst.clear(),this._pInst.imageMode(d.CENTER),this._pInst.image(M,0,0),this._pInst.pop(),this.GL.clearDepth(1),this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}},{key:"_getTempFramebuffer",value:function(){return this._tempFramebuffer||(this._tempFramebuffer=this._pInst.createFramebuffer({format:d.UNSIGNED_BYTE,useDepth:this._pInst._glAttributes.depth,depthFormat:d.UNSIGNED_INT,antialias:this._pInst._glAttributes.antialias})),this._tempFramebuffer}},{key:"geometryInHash",value:function(M){return this.retainedMode.geometry[M]!==void 0}},{key:"viewport",value:function(M,G){this._viewport=[0,0,M,G],this.GL.viewport(0,0,M,G)}},{key:"resize",value:function(ae,ee){a.default.Renderer.prototype.resize.call(this,ae,ee),this._origViewport={width:this.GL.drawingBufferWidth,height:this.GL.drawingBufferHeight},this.viewport(this._origViewport.width,this._origViewport.height),this._curCamera._resize();var ae=this._pixelsState,X=(ae.pixels!==void 0&&ae._setProperty("pixels",new Uint8Array(this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4)),!0),ee=!1,ae=void 0;try{for(var ce,pe=this.framebuffers[Symbol.iterator]();!(X=(ce=pe.next()).done);X=!0)ce.value._canvasSizeChanged()}catch(ve){ee=!0,ae=ve}finally{try{X||pe.return==null||pe.return()}finally{if(ee)throw ae}}}},{key:"clear",value:function(){var M=(arguments.length<=0?void 0:arguments[0])||0,G=(arguments.length<=1?void 0:arguments[1])||0,X=(arguments.length<=2?void 0:arguments[2])||0,ee=(arguments.length<=3?void 0:arguments[3])||0,ae=this.activeFramebuffer();ae&&ae.format===d.UNSIGNED_BYTE&&!ae.antialias&&ee===0&&(ee=1e-10),this.GL.clearColor(M*ee,G*ee,X*ee,ee),this.GL.clearDepth(1),this.GL.clear(this.GL.COLOR_BUFFER_BIT|this.GL.DEPTH_BUFFER_BIT)}},{key:"clearDepth",value:function(){this.GL.clearDepth(0<arguments.length&&arguments[0]!==void 0?arguments[0]:1),this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}},{key:"applyMatrix",value:function(M,G,X,ee,ae,ce){arguments.length===16?a.default.Matrix.prototype.apply.apply(this.uModelMatrix,arguments):this.uModelMatrix.apply([M,G,0,0,X,ee,0,0,0,0,1,0,ae,ce,0,1])}},{key:"translate",value:function(M,G,X){return M instanceof a.default.Vector&&(X=M.z,G=M.y,M=M.x),this.uModelMatrix.translate([M,G,X]),this}},{key:"scale",value:function(M,G,X){return this.uModelMatrix.scale(M,G,X),this}},{key:"rotate",value:function(M,G){return G===void 0?this.rotateZ(M):(a.default.Matrix.prototype.rotate.apply(this.uModelMatrix,arguments),this)}},{key:"rotateX",value:function(M){return this.rotate(M,1,0,0),this}},{key:"rotateY",value:function(M){return this.rotate(M,0,1,0),this}},{key:"rotateZ",value:function(M){return this.rotate(M,0,0,1),this}},{key:"push",value:function(){var M=a.default.Renderer.prototype.push.apply(this),G=M.properties;return G.uModelMatrix=this.uModelMatrix.copy(),G.uViewMatrix=this.uViewMatrix.copy(),G.uPMatrix=this.uPMatrix.copy(),G._curCamera=this._curCamera,this._curCamera=this._curCamera.copy(),G.ambientLightColors=this.ambientLightColors.slice(),G.specularColors=this.specularColors.slice(),G.directionalLightDirections=this.directionalLightDirections.slice(),G.directionalLightDiffuseColors=this.directionalLightDiffuseColors.slice(),G.directionalLightSpecularColors=this.directionalLightSpecularColors.slice(),G.pointLightPositions=this.pointLightPositions.slice(),G.pointLightDiffuseColors=this.pointLightDiffuseColors.slice(),G.pointLightSpecularColors=this.pointLightSpecularColors.slice(),G.spotLightPositions=this.spotLightPositions.slice(),G.spotLightDirections=this.spotLightDirections.slice(),G.spotLightDiffuseColors=this.spotLightDiffuseColors.slice(),G.spotLightSpecularColors=this.spotLightSpecularColors.slice(),G.spotLightAngle=this.spotLightAngle.slice(),G.spotLightConc=this.spotLightConc.slice(),G.userFillShader=this.userFillShader,G.userStrokeShader=this.userStrokeShader,G.userPointShader=this.userPointShader,G.pointSize=this.pointSize,G.curStrokeWeight=this.curStrokeWeight,G.curStrokeColor=this.curStrokeColor,G.curFillColor=this.curFillColor,G.curAmbientColor=this.curAmbientColor,G.curSpecularColor=this.curSpecularColor,G.curEmissiveColor=this.curEmissiveColor,G._hasSetAmbient=this._hasSetAmbient,G._useSpecularMaterial=this._useSpecularMaterial,G._useEmissiveMaterial=this._useEmissiveMaterial,G._useShininess=this._useShininess,G._useMetalness=this._useMetalness,G.constantAttenuation=this.constantAttenuation,G.linearAttenuation=this.linearAttenuation,G.quadraticAttenuation=this.quadraticAttenuation,G._enableLighting=this._enableLighting,G._useNormalMaterial=this._useNormalMaterial,G._tex=this._tex,G.drawMode=this.drawMode,G._currentNormal=this._currentNormal,G.curBlendMode=this.curBlendMode,G.activeImageLight=this.activeImageLight,G.textureMode=this.textureMode,M}},{key:"pop",value:function(){var M;0<this._clipDepths.length&&this._pushPopDepth===this._clipDepths[this._clipDepths.length-1]&&this._clearClip();for(var G=arguments.length,X=new Array(G),ee=0;ee<G;ee++)X[ee]=arguments[ee];(M=g(A(le.prototype),"pop",this)).call.apply(M,[this].concat(X)),this._applyStencilTestIfClipping()}},{key:"_applyStencilTestIfClipping",value:function(){var M=this.drawTarget();M._isClipApplied!==this._stencilTestOn&&(M._isClipApplied?(this.GL.enable(this.GL.STENCIL_TEST),this._stencilTestOn=!0):(this.GL.disable(this.GL.STENCIL_TEST),this._stencilTestOn=!1))}},{key:"resetMatrix",value:function(){return this.uModelMatrix.reset(),this.uViewMatrix.set(this._curCamera.cameraMatrix),this}},{key:"_getImmediateStrokeShader",value:function(){var M=this.userStrokeShader;return M&&M.isStrokeShader()?M:this._getLineShader()}},{key:"_getRetainedStrokeShader",value:function(){return this._getImmediateStrokeShader()}},{key:"_getSphereMapping",value:function(M){return this.sphereMapping||(this.sphereMapping=this._pInst.createFilterShader(z)),this.uNMatrix.inverseTranspose(this.uViewMatrix),this.uNMatrix.invert3x3(this.uNMatrix),this.sphereMapping.setUniform("uFovY",this._curCamera.cameraFOV),this.sphereMapping.setUniform("uAspect",this._curCamera.aspectRatio),this.sphereMapping.setUniform("uNewNormalMatrix",this.uNMatrix.mat3),this.sphereMapping.setUniform("uSampler",M),this.sphereMapping}},{key:"_getImmediateFillShader",value:function(){var M=this.userFillShader;if(this._useNormalMaterial&&(!M||!M.isNormalShader()))return this._getNormalShader();if(this._enableLighting){if(!M||!M.isLightShader())return this._getLightShader()}else if(this._tex){if(!M||!M.isTextureShader())return this._getLightShader()}else if(!M)return this._getImmediateModeShader();return M}},{key:"_getRetainedFillShader",value:function(){if(this._useNormalMaterial)return this._getNormalShader();var M=this.userFillShader;if(this._enableLighting){if(!M||!M.isLightShader())return this._getLightShader()}else if(this._tex){if(!M||!M.isTextureShader())return this._getLightShader()}else if(!M)return this._getColorShader();return M}},{key:"_getImmediatePointShader",value:function(){var M=this.userPointShader;return M&&M.isPointShader()?M:this._getPointShader()}},{key:"_getRetainedLineShader",value:function(){return this._getImmediateLineShader()}},{key:"baseMaterialShader",value:function(){if(this._pInst._glAttributes.perPixelLighting)return this._getLightShader();throw new Error("The material shader does not support hooks without perPixelLighting. Try turning it back on.")}},{key:"_getLightShader",value:function(){return this._defaultLightShader||(this._pInst._glAttributes.perPixelLighting?this._defaultLightShader=new a.default.Shader(this,this._webGL2CompatibilityPrefix("vert","highp")+q.phongVert,this._webGL2CompatibilityPrefix("frag","highp")+q.phongFrag,{vertex:{"void beforeVertex":"() {}","vec3 getLocalPosition":"(vec3 position) { return position; }","vec3 getWorldPosition":"(vec3 position) { return position; }","vec3 getLocalNormal":"(vec3 normal) { return normal; }","vec3 getWorldNormal":"(vec3 normal) { return normal; }","vec2 getUV":"(vec2 uv) { return uv; }","vec4 getVertexColor":"(vec4 color) { return color; }","void afterVertex":"() {}"},fragment:{"void beforeFragment":"() {}","Inputs getPixelInputs":"(Inputs inputs) { return inputs; }","vec4 combineColors":`(ColorComponents components) {
                vec4 color = vec4(0.);
                color.rgb += components.diffuse * components.baseColor;
                color.rgb += components.ambient * components.ambientColor;
                color.rgb += components.specular * components.specularColor;
                color.rgb += components.emissive;
                color.a = components.opacity;
                return color;
              }`,"vec4 getFinalColor":"(vec4 color) { return color; }","void afterFragment":"() {}"}}):this._defaultLightShader=new a.default.Shader(this,this._webGL2CompatibilityPrefix("vert","highp")+q.lightVert,this._webGL2CompatibilityPrefix("frag","highp")+q.lightTextureFrag)),this._defaultLightShader}},{key:"_getImmediateModeShader",value:function(){return this._defaultImmediateModeShader||(this._defaultImmediateModeShader=new a.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+q.immediateVert,this._webGL2CompatibilityPrefix("frag","mediump")+q.vertexColorFrag)),this._defaultImmediateModeShader}},{key:"baseNormalShader",value:function(){return this._getNormalShader()}},{key:"_getNormalShader",value:function(){return this._defaultNormalShader||(this._defaultNormalShader=new a.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+q.normalVert,this._webGL2CompatibilityPrefix("frag","mediump")+q.normalFrag,{vertex:{"void beforeVertex":"() {}","vec3 getLocalPosition":"(vec3 position) { return position; }","vec3 getWorldPosition":"(vec3 position) { return position; }","vec3 getLocalNormal":"(vec3 normal) { return normal; }","vec3 getWorldNormal":"(vec3 normal) { return normal; }","vec2 getUV":"(vec2 uv) { return uv; }","vec4 getVertexColor":"(vec4 color) { return color; }","void afterVertex":"() {}"},fragment:{"void beforeFragment":"() {}","vec4 getFinalColor":"(vec4 color) { return color; }","void afterFragment":"() {}"}})),this._defaultNormalShader}},{key:"baseColorShader",value:function(){return this._getColorShader()}},{key:"_getColorShader",value:function(){return this._defaultColorShader||(this._defaultColorShader=new a.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+q.normalVert,this._webGL2CompatibilityPrefix("frag","mediump")+q.basicFrag,{vertex:{"void beforeVertex":"() {}","vec3 getLocalPosition":"(vec3 position) { return position; }","vec3 getWorldPosition":"(vec3 position) { return position; }","vec3 getLocalNormal":"(vec3 normal) { return normal; }","vec3 getWorldNormal":"(vec3 normal) { return normal; }","vec2 getUV":"(vec2 uv) { return uv; }","vec4 getVertexColor":"(vec4 color) { return color; }","void afterVertex":"() {}"},fragment:{"void beforeFragment":"() {}","vec4 getFinalColor":"(vec4 color) { return color; }","void afterFragment":"() {}"}})),this._defaultColorShader}},{key:"pointShader",value:function(){return this._getPointShader()}},{key:"_getPointShader",value:function(){return this._defaultPointShader||(this._defaultPointShader=new a.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+q.pointVert,this._webGL2CompatibilityPrefix("frag","mediump")+q.pointFrag,{vertex:{"void beforeVertex":"() {}","vec3 getLocalPosition":"(vec3 position) { return position; }","vec3 getWorldPosition":"(vec3 position) { return position; }","float getPointSize":"(float size) { return size; }","void afterVertex":"() {}"},fragment:{"void beforeFragment":"() {}","vec4 getFinalColor":"(vec4 color) { return color; }","bool shouldDiscard":"(bool outside) { return outside; }","void afterFragment":"() {}"}})),this._defaultPointShader}},{key:"baseStrokeShader",value:function(){return this._getLineShader()}},{key:"_getLineShader",value:function(){return this._defaultLineShader||(this._defaultLineShader=new a.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+q.lineVert,this._webGL2CompatibilityPrefix("frag","mediump")+q.lineFrag,{vertex:{"void beforeVertex":"() {}","vec3 getLocalPosition":"(vec3 position) { return position; }","vec3 getWorldPosition":"(vec3 position) { return position; }","float getStrokeWeight":"(float weight) { return weight; }","vec2 getLineCenter":"(vec2 center) { return center; }","vec2 getLinePosition":"(vec2 position) { return position; }","vec4 getVertexColor":"(vec4 color) { return color; }","void afterVertex":"() {}"},fragment:{"void beforeFragment":"() {}","Inputs getPixelInputs":"(Inputs inputs) { return inputs; }","vec4 getFinalColor":"(vec4 color) { return color; }","bool shouldDiscard":"(bool outside) { return outside; }","void afterFragment":"() {}"}})),this._defaultLineShader}},{key:"_getFontShader",value:function(){return this._defaultFontShader||(this.webglVersion===d.WEBGL&&this.GL.getExtension("OES_standard_derivatives"),this._defaultFontShader=new a.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+q.fontVert,this._webGL2CompatibilityPrefix("frag","mediump")+q.fontFrag)),this._defaultFontShader}},{key:"_webGL2CompatibilityPrefix",value:function(M,G){var X="";return this.webglVersion===d.WEBGL2&&(X+=`#version 300 es
#define WEBGL2
`),M==="vert"?X+=`#define VERTEX_SHADER
`:M==="frag"&&(X+=`#define FRAGMENT_SHADER
`),G&&(X+="precision ".concat(G,` float;
`)),X}},{key:"_getEmptyTexture",value:function(){var M;return this._emptyTexture||((M=new a.default.Image(1,1)).set(0,0,255),this._emptyTexture=new a.default.Texture(this,M)),this._emptyTexture}},{key:"getTexture",value:function(M){M instanceof a.default.Framebuffer&&(M=M.color);var G=this.textures.get(M);return G||(G=new a.default.Texture(this,M),this.textures.set(M,G),G)}},{key:"getDiffusedTexture",value:function(M){var G,X,ee=this;return this.diffusedTextures.get(M)!=null?this.diffusedTextures.get(M):(G=Math.floor(M.height/M.width*200),X=this._pInst.createFramebuffer({width:200,height:G,density:1}),this.diffusedShader||(this.diffusedShader=this._pInst.createShader(q.imageLightVert,q.imageLightDiffusedFrag)),X.draw(function(){ee._pInst.shader(ee.diffusedShader),ee.diffusedShader.setUniform("environmentMap",M),ee._pInst.noStroke(),ee._pInst.rectMode(d.CENTER),ee._pInst.noLights(),ee._pInst.rect(0,0,200,G)}),this.diffusedTextures.set(M,X),X)}},{key:"getSpecularTexture",value:function(M){var G=this;if(this.specularTextures.get(M)!=null)return this.specularTextures.get(M);for(var X,ee=[],ae=this._pInst.createFramebuffer({width:512,height:512,density:1}),ce=Math.log(512)/Math.log(2),pe=(this.specularShader||(this.specularShader=this._pInst.createShader(q.imageLightVert,q.imageLightSpecularFrag)),512);1<=pe;pe/=2)(function(ve){ae.resize(ve,ve);var ge=1-Math.log(ve)/Math.log(2)/ce;ae.draw(function(){G._pInst.shader(G.specularShader),G._pInst.clear(),G.specularShader.setUniform("environmentMap",M),G.specularShader.setUniform("roughness",ge),G._pInst.noStroke(),G._pInst.noLights(),G._pInst.plane(ve,ve)}),ee.push(ae.get().drawingContext.getImageData(0,0,ve,ve))})(pe);return ae.remove(),X=new f.MipmapTexture(this,ee,{}),this.specularTextures.set(M,X),X}},{key:"activeFramebuffer",value:function(){return this.activeFramebuffers[this.activeFramebuffers.length-1]||null}},{key:"createFramebuffer",value:function(M){return new a.default.Framebuffer(this,M)}},{key:"_setStrokeUniforms",value:function(M){M.bindShader(),M.setUniform("uUseLineColor",this._useLineColor),M.setUniform("uMaterialColor",this.curStrokeColor),M.setUniform("uStrokeWeight",this.curStrokeWeight),M.setUniform("uStrokeCap",D[this.curStrokeCap]),M.setUniform("uStrokeJoin",k[this.curStrokeJoin])}},{key:"_setFillUniforms",value:function(M){var G=this,X=(M.bindShader(),this.mixedSpecularColor=y(this.curSpecularColor),0<this._useMetalness&&(this.mixedSpecularColor=this.mixedSpecularColor.map(function(ee,ae){return G.curFillColor[ae]*G._useMetalness+ee*(1-G._useMetalness)})),M.setUniform("uUseVertexColor",this._useVertexColor),M.setUniform("uMaterialColor",this.curFillColor),M.setUniform("isTexture",!!this._tex),this._tex&&M.setUniform("uSampler",this._tex),M.setUniform("uTint",this._tint),M.setUniform("uHasSetAmbient",this._hasSetAmbient),M.setUniform("uAmbientMatColor",this.curAmbientColor),M.setUniform("uSpecularMatColor",this.mixedSpecularColor),M.setUniform("uEmissiveMatColor",this.curEmissiveColor),M.setUniform("uSpecular",this._useSpecularMaterial),M.setUniform("uEmissive",this._useEmissiveMaterial),M.setUniform("uShininess",this._useShininess),M.setUniform("uMetallic",this._useMetalness),this._setImageLightUniforms(M),M.setUniform("uUseLighting",this._enableLighting),this.pointLightDiffuseColors.length/3),X=(M.setUniform("uPointLightCount",X),M.setUniform("uPointLightLocation",this.pointLightPositions),M.setUniform("uPointLightDiffuseColors",this.pointLightDiffuseColors),M.setUniform("uPointLightSpecularColors",this.pointLightSpecularColors),this.directionalLightDiffuseColors.length/3),X=(M.setUniform("uDirectionalLightCount",X),M.setUniform("uLightingDirection",this.directionalLightDirections),M.setUniform("uDirectionalDiffuseColors",this.directionalLightDiffuseColors),M.setUniform("uDirectionalSpecularColors",this.directionalLightSpecularColors),this.ambientLightColors.length/3),X=(this.mixedAmbientLight=y(this.ambientLightColors),0<this._useMetalness&&(this.mixedAmbientLight=this.mixedAmbientLight.map(function(ee){return ee-=G._useMetalness,Math.max(0,ee)})),M.setUniform("uAmbientLightCount",X),M.setUniform("uAmbientColor",this.mixedAmbientLight),this.spotLightDiffuseColors.length/3);M.setUniform("uSpotLightCount",X),M.setUniform("uSpotLightAngle",this.spotLightAngle),M.setUniform("uSpotLightConc",this.spotLightConc),M.setUniform("uSpotLightDiffuseColors",this.spotLightDiffuseColors),M.setUniform("uSpotLightSpecularColors",this.spotLightSpecularColors),M.setUniform("uSpotLightLocation",this.spotLightPositions),M.setUniform("uSpotLightDirection",this.spotLightDirections),M.setUniform("uConstantAttenuation",this.constantAttenuation),M.setUniform("uLinearAttenuation",this.linearAttenuation),M.setUniform("uQuadraticAttenuation",this.quadraticAttenuation),M.bindTextures()}},{key:"_setImageLightUniforms",value:function(M){var G;M.setUniform("uUseImageLight",this.activeImageLight!=null),this.activeImageLight&&(G=this.getDiffusedTexture(this.activeImageLight),M.setUniform("environmentMapDiffused",G),G=this.getSpecularTexture(this.activeImageLight),M.setUniform("environmentMapSpecular",G))}},{key:"_setPointUniforms",value:function(M){M.bindShader(),M.setUniform("uMaterialColor",this.curStrokeColor),M.setUniform("uPointSize",this.pointSize*this._pInst._pixelDensity)}},{key:"_bindBuffer",value:function(M,G,X,ee,ae){G=G||this.GL.ARRAY_BUFFER,this.GL.bindBuffer(G,M),X!==void 0&&((M=X)instanceof a.default.DataArray?M=X.dataArray():M instanceof(ee||Float32Array)||(M=new(ee||Float32Array)(M)),this.GL.bufferData(G,M,ae||this.GL.STATIC_DRAW))}},{key:"_arraysEqual",value:function(M,G){return M.length===G.length&&M.every(function(X,ee){return X===G[ee]})}},{key:"_isTypedArray",value:function(M){return[Float32Array,Float64Array,Int16Array,Uint16Array,Uint32Array].some(function(G){return M instanceof G})}},{key:"_flatten",value:function(M){return M.flat()}},{key:"_vToNArray",value:function(M){return M.flatMap(function(G){return[G.x,G.y,G.z]})}},{key:"_bezierCoefficients",value:function(M){var G=M*M,X=1-M,ee=X*X;return[ee*X,3*ee*M,3*X*G,G*M]}},{key:"_quadraticCoefficients",value:function(M){var G=1-M;return[G*G,2*G*M,M*M]}},{key:"_bezierToCatmull",value:function(M){return[M[1],M[1]+(M[2]-M[0])/this._curveTightness,M[2]-(M[3]-M[1])/this._curveTightness,M[2]]}},{key:"_initTessy",value:function(){var M=new w.default.GluTesselator;return M.gluTessCallback(w.default.gluEnum.GLU_TESS_VERTEX_DATA,function(G,X){var ee=!0,ae=!1,ce=void 0;try{for(var pe,ve=G[Symbol.iterator]();!(ee=(pe=ve.next()).done);ee=!0){var ge=pe.value;X.push(ge)}}catch(Se){ae=!0,ce=Se}finally{try{ee||ve.return==null||ve.return()}finally{if(ae)throw ce}}}),M.gluTessCallback(w.default.gluEnum.GLU_TESS_BEGIN,function(G){G!==w.default.primitiveType.GL_TRIANGLES&&console.log("expected TRIANGLES but got type: ".concat(G))}),M.gluTessCallback(w.default.gluEnum.GLU_TESS_ERROR,function(G){console.log("error callback"),console.log("error number: ".concat(G))}),M.gluTessCallback(w.default.gluEnum.GLU_TESS_COMBINE,function(G,X,ee){for(var ae=new Array(a.default.RendererGL.prototype.tessyVertexSize).fill(0),ce=0;ce<ee.length;ce++)for(var pe=0;pe<ae.length;pe++)ee[ce]!==0&&X[ce]&&(ae[pe]+=X[ce][pe]*ee[ce]);return ae}),M.gluTessCallback(w.default.gluEnum.GLU_TESS_EDGE_FLAG,function(G){}),M.gluTessProperty(w.default.gluEnum.GLU_TESS_WINDING_RULE,w.default.windingRule.GLU_TESS_WINDING_NONZERO),M}},{key:"_triangulate",value:function(M){var G=M[0]?M[0][2]:void 0,X=!0,ee=!0,ge=!1,xe=void 0;try{for(var ae,ce=M[Symbol.iterator]();!(ee=(ae=ce.next()).done);ee=!0)for(var pe=ae.value,ve=0;ve<pe.length;ve+=a.default.RendererGL.prototype.tessyVertexSize)if(pe[ve+2]!==G){X=!1;break}}catch(Fe){ge=!0,xe=Fe}finally{try{ee||ce.return==null||ce.return()}finally{if(ge)throw xe}}X?this._tessy.gluTessNormal(0,0,1):this._tessy.gluTessNormal(0,0,0);var ge=[],Se=(this._tessy.gluTessBeginPolygon(ge),!0),xe=!1,he=void 0;try{for(var je,Ce=M[Symbol.iterator]();!(Se=(je=Ce.next()).done);Se=!0){var De=je.value;this._tessy.gluTessBeginContour();for(var Oe=0;Oe<De.length;Oe+=a.default.RendererGL.prototype.tessyVertexSize){var ke=De.slice(Oe,Oe+a.default.RendererGL.prototype.tessyVertexSize);this._tessy.gluTessVertex(ke,ke)}this._tessy.gluTessEndContour()}}catch(Fe){xe=!0,he=Fe}finally{try{Se||Ce.return==null||Ce.return()}finally{if(xe)throw he}}return this._tessy.gluTessEndPolygon(),ge}}])&&m(K.prototype,Z),le}(a.default.Renderer),a.default.prototype._assert3d=function(Z){if(!this._renderer.isP3D)throw new Error("".concat(Z,"() is only supported in WEBGL mode. If you'd like to use 3D graphics and WebGL, see  https://p5js.org/examples/form-3d-primitives.html for more information."))},a.default.RendererGL.prototype.tessyVertexSize=12,P=a.default.RendererGL,c.default=P},{"../core/constants":272,"../core/main":283,"../core/p5.Renderer":286,"./GeometryBuilder":327,"./p5.Camera":332,"./p5.Framebuffer":334,"./p5.Matrix":336,"./p5.Shader":342,"./p5.Texture":343,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.copy-within":154,"core-js/modules/es.array.every":155,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.flat":160,"core-js/modules/es.array.flat-map":159,"core-js/modules/es.array.from":162,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.some":170,"core-js/modules/es.array.unscopables.flat":173,"core-js/modules/es.array.unscopables.flat-map":172,"core-js/modules/es.map":175,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.reflect.get":193,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.float64-array":220,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.int16-array":224,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint16-array":240,"core-js/modules/es.typed-array.uint32-array":241,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246,libtess:255,path:258}],342:[function(t,o,c){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var l=(t=t("../core/main"))&&t.__esModule?t:{default:t};function h(d,_){return function(w){if(Array.isArray(w))return w}(d)||function(w,f){if(Symbol.iterator in Object(w)||Object.prototype.toString.call(w)==="[object Arguments]"){var p=[],b=!0,y=!1,m=void 0;try{for(var g,v=w[Symbol.iterator]();!(b=(g=v.next()).done)&&(p.push(g.value),!f||p.length!==f);b=!0);}catch(S){y=!0,m=S}finally{try{b||v.return==null||v.return()}finally{if(y)throw m}}return p}}(d,_)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function a(d,_){for(var w=0;w<_.length;w++){var f=_[w];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(d,f.key,f)}}l.default.Shader=function(){function d(f,p,b){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:{},m=this,g=d;if(!(m instanceof g))throw new TypeError("Cannot call a class as a function");this._renderer=f,this._vertSrc=p,this._fragSrc=b,this._vertShader=-1,this._fragShader=-1,this._glProgram=0,this._loadedAttributes=!1,this.attributes={},this._loadedUniforms=!1,this.uniforms={},this._bound=!1,this.samplers=[],this.hooks={uniforms:y.uniforms||{},declarations:y.declarations,helpers:y.helpers||{},vertex:y.vertex||{},fragment:y.fragment||{},modified:{vertex:y.modified&&y.modified.vertex||{},fragment:y.modified&&y.modified.fragment||{}}}}var _,w;return _=d,(w=[{key:"shaderSrc",value:function(j,p){var b,y,m,g,v,j=h(j.split("void main"),2),S=j[0],j=j[1],A="";for(b in this.hooks.uniforms)A+="uniform ".concat(b,`;
`);for(y in this.hooks.declarations&&(A+=this.hooks.declarations+`
`),this.hooks[p].declarations&&(A+=this.hooks[p].declarations+`
`),this.hooks.helpers)A+="".concat(y).concat(this.hooks.helpers[y],`
`);for(m in this.hooks[p])m!=="declarations"&&(g=(v=h(m.split(" "),2))[0],v=v[1],this.hooks.modified[p][m]&&(A+="#define AUGMENTED_HOOK_"+v+`
`),A+=g+" HOOK_"+v+this.hooks[p][m]+`
`);return S+A+"void main"+j}},{key:"version",value:function(){var f=/#version (.+)$/.exec(this.vertSrc());return f?f[1]:"100 es"}},{key:"vertSrc",value:function(){return this.shaderSrc(this._vertSrc,"vertex")}},{key:"fragSrc",value:function(){return this.shaderSrc(this._fragSrc,"fragment")}},{key:"inspectHooks",value:function(){for(var f in console.log("==== Vertex shader hooks: ===="),this.hooks.vertex)console.log((this.hooks.modified.vertex[f]?"[MODIFIED] ":"")+f+this.hooks.vertex[f]);for(var p in console.log(""),console.log("==== Fragment shader hooks: ===="),this.hooks.fragment)console.log((this.hooks.modified.fragment[p]?"[MODIFIED] ":"")+p+this.hooks.fragment[p]);for(var b in console.log(""),console.log("==== Helper functions: ===="),this.hooks.helpers)console.log(b+this.hooks.helpers[b])}},{key:"modify",value:function(f){l.default._validateParameters("p5.Shader.modify",arguments);var p,b={vertex:{},fragment:{},helpers:{}};for(p in f)p!=="declarations"&&p!=="uniforms"&&(p==="vertexDeclarations"?b.vertex.declarations=(b.vertex.declarations||"")+`
`+f[p]:p==="fragmentDeclarations"?b.fragment.declarations=(b.fragment.declarations||"")+`
`+f[p]:this.hooks.vertex[p]?b.vertex[p]=f[p]:this.hooks.fragment[p]?b.fragment[p]=f[p]:b.helpers[p]=f[p]);var y,m,g=Object.assign({},this.hooks.modified.vertex),v=Object.assign({},this.hooks.modified.fragment);for(y in b.vertex||{})y!=="declarations"&&(g[y]=!0);for(m in b.fragment||{})m!=="declarations"&&(v[m]=!0);return new l.default.Shader(this._renderer,this._vertSrc,this._fragSrc,{declarations:(this.hooks.declarations||"")+`
`+(f.declarations||""),uniforms:Object.assign({},this.hooks.uniforms,f.uniforms||{}),fragment:Object.assign({},this.hooks.fragment,b.fragment||{}),vertex:Object.assign({},this.hooks.vertex,b.vertex||{}),helpers:Object.assign({},this.hooks.helpers,b.helpers||{}),modified:{vertex:g,fragment:v}})}},{key:"init",value:function(){if(this._glProgram===0){var f,p=this._renderer.GL;if(this._vertShader=p.createShader(p.VERTEX_SHADER),p.shaderSource(this._vertShader,this.vertSrc()),p.compileShader(this._vertShader),!p.getShaderParameter(this._vertShader,p.COMPILE_STATUS))return f=p.getShaderInfoLog(this._vertShader),console.error(f),null;if(this._fragShader=p.createShader(p.FRAGMENT_SHADER),p.shaderSource(this._fragShader,this.fragSrc()),p.compileShader(this._fragShader),!p.getShaderParameter(this._fragShader,p.COMPILE_STATUS))return f=p.getShaderInfoLog(this._fragShader),console.error(f),null;this._glProgram=p.createProgram(),p.attachShader(this._glProgram,this._vertShader),p.attachShader(this._glProgram,this._fragShader),p.linkProgram(this._glProgram),p.getProgramParameter(this._glProgram,p.LINK_STATUS)||l.default._friendlyError("Snap! Error linking shader program: ".concat(p.getProgramInfoLog(this._glProgram))),this._loadAttributes(),this._loadUniforms()}return this}},{key:"setDefaultUniforms",value:function(){for(var f in this.hooks.uniforms){var p=h(f.split(" "),2)[1],f=this.hooks.uniforms[f],b=void 0;(b=f instanceof Function?f():f)!=null&&this.setUniform(p,b)}}},{key:"copyToContext",value:function(f){var p=new l.default.Shader(f._renderer,this._vertSrc,this._fragSrc);return p.ensureCompiledOnContext(f),p}},{key:"ensureCompiledOnContext",value:function(f){if(this._glProgram!==0&&this._renderer!==f._renderer)throw new Error("The shader being run is attached to a different context. Do you need to copy it to this context first with .copyToContext()?");this._glProgram===0&&(this._renderer=f._renderer,this.init())}},{key:"_loadAttributes",value:function(){if(!this._loadedAttributes){this.attributes={};for(var f=this._renderer.GL,p=f.getProgramParameter(this._glProgram,f.ACTIVE_ATTRIBUTES),b=0;b<p;++b){var y=f.getActiveAttrib(this._glProgram,b),m=y.name,g=f.getAttribLocation(this._glProgram,m),v={};v.name=m,v.location=g,v.index=b,v.type=y.type,v.size=y.size,this.attributes[m]=v}this._loadedAttributes=!0}}},{key:"_loadUniforms",value:function(){if(!this._loadedUniforms){for(var f=this._renderer.GL,p=f.getProgramParameter(this._glProgram,f.ACTIVE_UNIFORMS),b=0,y=0;y<p;++y){var m=f.getActiveUniform(this._glProgram,y),g={},v=(g.location=f.getUniformLocation(this._glProgram,m.name),g.size=m.size,m.name);1<m.size&&(v=v.substring(0,v.indexOf("[0]"))),g.name=v,g.type=m.type,g._cachedData=void 0,g.type===f.SAMPLER_2D&&(g.samplerIndex=b,b++,this.samplers.push(g)),g.isArray=1<m.size||g.type===f.FLOAT_MAT3||g.type===f.FLOAT_MAT4||g.type===f.FLOAT_VEC2||g.type===f.FLOAT_VEC3||g.type===f.FLOAT_VEC4||g.type===f.INT_VEC2||g.type===f.INT_VEC4||g.type===f.INT_VEC3,this.uniforms[v]=g}this._loadedUniforms=!0}}},{key:"compile",value:function(){}},{key:"bindShader",value:function(){this.init(),this._bound||(this.useProgram(),this._bound=!0,this._setMatrixUniforms(),this.setUniform("uViewport",this._renderer._viewport))}},{key:"unbindShader",value:function(){return this._bound&&(this.unbindTextures(),this._bound=!1),this}},{key:"bindTextures",value:function(){var f=this._renderer.GL,p=!0,b=!1,y=void 0;try{for(var m,g=this.samplers[Symbol.iterator]();!(p=(m=g.next()).done);p=!0){var v=m.value,S=v.texture;S===void 0&&(S=this._renderer._getEmptyTexture()),f.activeTexture(f.TEXTURE0+v.samplerIndex),S.bindTexture(),S.update(),f.uniform1i(v.location,v.samplerIndex)}}catch(j){b=!0,y=j}finally{try{p||g.return==null||g.return()}finally{if(b)throw y}}}},{key:"updateTextures",value:function(){var f=!0,p=!1,b=void 0;try{for(var y,m=this.samplers[Symbol.iterator]();!(f=(y=m.next()).done);f=!0){var g=y.value.texture;g&&g.update()}}catch(v){p=!0,b=v}finally{try{f||m.return==null||m.return()}finally{if(p)throw b}}}},{key:"unbindTextures",value:function(){var f=!0,p=!1,b=void 0;try{for(var y,m=this.samplers[Symbol.iterator]();!(f=(y=m.next()).done);f=!0){var g=y.value;this.setUniform(g.name,this._renderer._getEmptyTexture())}}catch(v){p=!0,b=v}finally{try{f||m.return==null||m.return()}finally{if(p)throw b}}}},{key:"_setMatrixUniforms",value:function(){var f=this._renderer.uModelMatrix,p=this._renderer.uViewMatrix,b=this._renderer.uPMatrix,y=f.copy().mult(p),m=(this._renderer.uMVMatrix=y).copy();m.mult(b),this.isStrokeShader()&&this.setUniform("uPerspective",this._renderer._curCamera.useLinePerspective?1:0),this.setUniform("uViewMatrix",p.mat4),this.setUniform("uProjectionMatrix",b.mat4),this.setUniform("uModelMatrix",f.mat4),this.setUniform("uModelViewMatrix",y.mat4),this.setUniform("uModelViewProjectionMatrix",m.mat4),this.uniforms.uNormalMatrix&&(this._renderer.uNMatrix.inverseTranspose(this._renderer.uMVMatrix),this.setUniform("uNormalMatrix",this._renderer.uNMatrix.mat3)),this.uniforms.uCameraRotation&&(this._renderer.curMatrix.inverseTranspose(this._renderer.uViewMatrix),this.setUniform("uCameraRotation",this._renderer.curMatrix.mat3))}},{key:"useProgram",value:function(){var f=this._renderer.GL;return this._renderer._curShader!==this&&(f.useProgram(this._glProgram),this._renderer._curShader=this),this}},{key:"setUniform",value:function(f,p){var b=this.uniforms[f];if(b){var y=this._renderer.GL;if(b.isArray){if(b._cachedData&&this._renderer._arraysEqual(b._cachedData,p))return;b._cachedData=p.slice(0)}else{if(b._cachedData&&b._cachedData===p)return;Array.isArray(p)?b._cachedData=p.slice(0):b._cachedData=p}var m=b.location;switch(this.useProgram(),b.type){case y.BOOL:p===!0?y.uniform1i(m,1):y.uniform1i(m,0);break;case y.INT:1<b.size?p.length&&y.uniform1iv(m,p):y.uniform1i(m,p);break;case y.FLOAT:1<b.size?p.length&&y.uniform1fv(m,p):y.uniform1f(m,p);break;case y.FLOAT_MAT3:y.uniformMatrix3fv(m,!1,p);break;case y.FLOAT_MAT4:y.uniformMatrix4fv(m,!1,p);break;case y.FLOAT_VEC2:1<b.size?p.length&&y.uniform2fv(m,p):y.uniform2f(m,p[0],p[1]);break;case y.FLOAT_VEC3:1<b.size?p.length&&y.uniform3fv(m,p):y.uniform3f(m,p[0],p[1],p[2]);break;case y.FLOAT_VEC4:1<b.size?p.length&&y.uniform4fv(m,p):y.uniform4f(m,p[0],p[1],p[2],p[3]);break;case y.INT_VEC2:1<b.size?p.length&&y.uniform2iv(m,p):y.uniform2i(m,p[0],p[1]);break;case y.INT_VEC3:1<b.size?p.length&&y.uniform3iv(m,p):y.uniform3i(m,p[0],p[1],p[2]);break;case y.INT_VEC4:1<b.size?p.length&&y.uniform4iv(m,p):y.uniform4i(m,p[0],p[1],p[2],p[3]);break;case y.SAMPLER_2D:y.activeTexture(y.TEXTURE0+b.samplerIndex),b.texture=p instanceof l.default.Texture?p:this._renderer.getTexture(p),y.uniform1i(m,b.samplerIndex),b.texture.src.gifProperties&&b.texture.src._animateGif(this._renderer._pInst)}return this}}},{key:"isLightShader",value:function(){return[this.attributes.aNormal,this.uniforms.uUseLighting,this.uniforms.uAmbientLightCount,this.uniforms.uDirectionalLightCount,this.uniforms.uPointLightCount,this.uniforms.uAmbientColor,this.uniforms.uDirectionalDiffuseColors,this.uniforms.uDirectionalSpecularColors,this.uniforms.uPointLightLocation,this.uniforms.uPointLightDiffuseColors,this.uniforms.uPointLightSpecularColors,this.uniforms.uLightingDirection,this.uniforms.uSpecular].some(function(f){return f!==void 0})}},{key:"isNormalShader",value:function(){return this.attributes.aNormal!==void 0}},{key:"isTextureShader",value:function(){return 0<this.samplers.length}},{key:"isColorShader",value:function(){return this.attributes.aVertexColor!==void 0||this.uniforms.uMaterialColor!==void 0}},{key:"isTexLightShader",value:function(){return this.isLightShader()&&this.isTextureShader()}},{key:"isStrokeShader",value:function(){return this.uniforms.uStrokeWeight!==void 0}},{key:"enableAttrib",value:function(f,p,b,y,m,g){var v;return f&&(f=f.location)!==-1&&(v=this._renderer.GL,this._renderer.registerEnabled.has(f)||(v.enableVertexAttribArray(f),this._renderer.registerEnabled.add(f)),this._renderer.GL.vertexAttribPointer(f,p,b||v.FLOAT,y||!1,m||0,g||0)),this}},{key:"disableRemainingAttributes",value:function(){var f=this,p=!0,b=!1,y=void 0;try{for(var m,g=this._renderer.registerEnabled.values()[Symbol.iterator]();!(p=(m=g.next()).done);p=!0)(function(){var v=m.value;Object.keys(f.attributes).some(function(S){return f.attributes[S].location===v})||(f._renderer.GL.disableVertexAttribArray(v),f._renderer.registerEnabled.delete(v))})()}catch(v){b=!0,y=v}finally{try{p||g.return==null||g.return()}finally{if(b)throw y}}}}])&&a(_.prototype,w),d}(),t=l.default.Shader,c.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.some":170,"core-js/modules/es.function.name":174,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],343:[function(t,o,c){function l(S){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j})(S)}function h(S){return(h=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(j){return l(j)}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":l(j)})(S)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(c,"__esModule",{value:!0}),c.checkWebGLCapabilities=v,c.default=c.MipmapTexture=void 0;var a=(g=t("../core/main"))&&g.__esModule?g:{default:g},d=function(S){if(S&&S.__esModule)return S;if(S===null||h(S)!=="object"&&typeof S!="function")return{default:S};var j=_();if(j&&j.has(S))return j.get(S);var A,L={},C=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(A in S){var T;Object.prototype.hasOwnProperty.call(S,A)&&((T=C?Object.getOwnPropertyDescriptor(S,A):null)&&(T.get||T.set)?Object.defineProperty(L,A,T):L[A]=S[A])}return L.default=S,j&&j.set(S,L),L}(t("../core/constants"));function _(){var S;return typeof WeakMap!="function"?null:(S=new WeakMap,_=function(){return S},S)}function w(S,j){return(w=Object.setPrototypeOf||function(A,L){return A.__proto__=L,A})(S,j)}function f(S){return function(){var j,A=p(S),A=(j=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(j=p(this).constructor,Reflect.construct(A,arguments,j)):A.apply(this,arguments),this);if(!j||h(j)!=="object"&&typeof j!="function"){if(A!==void 0)return A;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return j}}function p(S){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(j){return j.__proto__||Object.getPrototypeOf(j)})(S)}function b(S,j){if(!(S instanceof j))throw new TypeError("Cannot call a class as a function")}function y(S,j){for(var A=0;A<j.length;A++){var L=j[A];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(S,L.key,L)}}function m(S,j,A){j&&y(S.prototype,j)}a.default.Texture=function(){function S(R,A,T){b(this,S),this._renderer=R;var C=this._renderer.GL,T=(T=T||{},this.src=A,this.glTex=void 0,this.glTarget=C.TEXTURE_2D,this.glFormat=T.format||C.RGBA,this.mipmaps=!1,this.glMinFilter=T.minFilter||C.LINEAR,this.glMagFilter=T.magFilter||C.LINEAR,this.glWrapS=T.wrapS||C.CLAMP_TO_EDGE,this.glWrapT=T.wrapT||C.CLAMP_TO_EDGE,this.glDataType=T.dataType||C.UNSIGNED_BYTE,v(R)),R=(this.glFormat!==C.HALF_FLOAT||T.halfFloat||(console.log("This device does not support dataType HALF_FLOAT. Falling back to FLOAT."),this.glDataType=C.FLOAT),this.glFormat!==C.HALF_FLOAT||this.glMinFilter!==C.LINEAR&&this.glMagFilter!==C.LINEAR||T.halfFloatLinear||(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===C.LINEAR&&(this.glMinFilter=C.NEAREST),this.glMagFilter===C.LINEAR&&(this.glMagFilter=C.NEAREST)),this.glFormat!==C.FLOAT||T.float||(console.log("This device does not support dataType FLOAT. Falling back to UNSIGNED_BYTE."),this.glDataType=C.UNSIGNED_BYTE),this.glFormat!==C.FLOAT||this.glMinFilter!==C.LINEAR&&this.glMagFilter!==C.LINEAR||T.floatLinear||(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===C.LINEAR&&(this.glMinFilter=C.NEAREST),this.glMagFilter===C.LINEAR&&(this.glMagFilter=C.NEAREST)),this.isSrcMediaElement=a.default.MediaElement!==void 0&&A instanceof a.default.MediaElement,this._videoPrevUpdateTime=0,this.isSrcHTMLElement=a.default.Element!==void 0&&A instanceof a.default.Element&&!(A instanceof a.default.Graphics)&&!(A instanceof a.default.Renderer),this.isSrcP5Image=A instanceof a.default.Image,this.isSrcP5Graphics=A instanceof a.default.Graphics,this.isSrcP5Renderer=A instanceof a.default.Renderer,this.isImageData=typeof ImageData<"u"&&A instanceof ImageData,this.isFramebufferTexture=A instanceof a.default.FramebufferTexture,this._getTextureDataFromSource());return this.width=R.width,this.height=R.height,this.init(R),this}return m(S,[{key:"_getTextureDataFromSource",value:function(){var j;return this.isFramebufferTexture?j=this.src.rawTexture():this.isSrcP5Image?j=this.src.canvas:this.isSrcMediaElement||this.isSrcP5Graphics||this.isSrcP5Renderer||this.isSrcHTMLElement?(this.src._ensureCanvas&&this.src._ensureCanvas(),j=this.src.canvas||this.src.elt):this.isImageData&&(j=this.src),j}},{key:"init",value:function(j){var A,L=this._renderer.GL;this.isFramebufferTexture||(this.glTex=L.createTexture()),this.glWrapS=this._renderer.textureWrapX,this.glWrapT=this._renderer.textureWrapY,this.setWrapMode(this.glWrapS,this.glWrapT),this.bindTexture(),L.texParameteri(L.TEXTURE_2D,L.TEXTURE_MAG_FILTER,this.glMagFilter),L.texParameteri(L.TEXTURE_2D,L.TEXTURE_MIN_FILTER,this.glMinFilter),this.isFramebufferTexture||(this.width===0||this.height===0||this.isSrcMediaElement&&!this.src.loadedmetadata?(A=new Uint8Array([1,1,1,1]),L.texImage2D(this.glTarget,0,L.RGBA,1,1,0,this.glFormat,this.glDataType,A)):L.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,j))}},{key:"update",value:function(){var j,A,L,C=this.src;return C.width!==0&&C.height!==0&&!this.isFramebufferTexture&&(j=this._getTextureDataFromSource(),A=!1,L=this._renderer.GL,j.width!==this.width||j.height!==this.height?(A=!0,this.width=j.width||C.width,this.height=j.height||C.height,this.isSrcP5Image?C.setModified(!1):(this.isSrcMediaElement||this.isSrcHTMLElement)&&C.setModified(!0)):this.isSrcP5Image?C.isModified()&&C.setModified(!(A=!0)):this.isSrcMediaElement?C.isModified()?C.setModified(!(A=!0)):C.loadedmetadata&&this._videoPrevUpdateTime!==C.time()&&(this._videoPrevUpdateTime=C.time(),A=!0):this.isImageData?C._dirty&&(A=!(C._dirty=!1)):A=!0,A&&(this.bindTexture(),L.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,j)),A)}},{key:"bindTexture",value:function(){return this._renderer.GL.bindTexture(this.glTarget,this.getTexture()),this}},{key:"unbindTexture",value:function(){this._renderer.GL.bindTexture(this.glTarget,null)}},{key:"getTexture",value:function(){return this.isFramebufferTexture?this.src.rawTexture():this.glTex}},{key:"setInterpolation",value:function(j,A){var L=this._renderer.GL;this.glMinFilter=this.glFilter(j),this.glMagFilter=this.glFilter(A),this.bindTexture(),L.texParameteri(L.TEXTURE_2D,L.TEXTURE_MIN_FILTER,this.glMinFilter),L.texParameteri(L.TEXTURE_2D,L.TEXTURE_MAG_FILTER,this.glMagFilter),this.unbindTexture()}},{key:"glFilter",value:function(j){var A=this._renderer.GL;return j===d.NEAREST?A.NEAREST:A.LINEAR}},{key:"setWrapMode",value:function(j,A){function L(D){return(D&D-1)==0}var C=this._renderer.GL,R=this._getTextureDataFromSource(),R=R.naturalWidth&&R.naturalHeight?(T=R.naturalWidth,R.naturalHeight):(T=this.width,this.height),T=L(T),R=L(R);j===d.REPEAT?this._renderer.webglVersion===d.WEBGL2||T&&R?this.glWrapS=C.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=C.CLAMP_TO_EDGE):j===d.MIRROR?this._renderer.webglVersion===d.WEBGL2||T&&R?this.glWrapS=C.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=C.CLAMP_TO_EDGE):this.glWrapS=C.CLAMP_TO_EDGE,A===d.REPEAT?this._renderer.webglVersion===d.WEBGL2||T&&R?this.glWrapT=C.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=C.CLAMP_TO_EDGE):A===d.MIRROR?this._renderer.webglVersion===d.WEBGL2||T&&R?this.glWrapT=C.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=C.CLAMP_TO_EDGE):this.glWrapT=C.CLAMP_TO_EDGE,this.bindTexture(),C.texParameteri(C.TEXTURE_2D,C.TEXTURE_WRAP_S,this.glWrapS),C.texParameteri(C.TEXTURE_2D,C.TEXTURE_WRAP_T,this.glWrapT),this.unbindTexture()}}]),S}();var g=function(S){var j=L;if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function");j.prototype=Object.create(S&&S.prototype,{constructor:{value:j,writable:!0,configurable:!0}}),S&&w(j,S);var A=f(L);function L(C,T,R){return b(this,L),T=(C=A.call(this,C,T,R))._renderer.GL,C.glMinFilter===T.LINEAR&&(C.glMinFilter=T.LINEAR_MIPMAP_LINEAR),C}return m(L,[{key:"glFilter",value:function(C){return this._renderer.GL.LINEAR_MIPMAP_LINEAR}},{key:"_getTextureDataFromSource",value:function(){return this.src}},{key:"init",value:function(C){var T=this._renderer.GL;this.glTex=T.createTexture(),this.bindTexture();for(var R=0;R<C.length;R++)T.texImage2D(this.glTarget,R,this.glFormat,this.glFormat,this.glDataType,C[R]);this.glMinFilter=T.LINEAR_MIPMAP_LINEAR,T.texParameteri(T.TEXTURE_2D,T.TEXTURE_MAG_FILTER,this.glMagFilter),T.texParameteri(T.TEXTURE_2D,T.TEXTURE_MIN_FILTER,this.glMinFilter),this.unbindTexture()}},{key:"update",value:function(){}}]),L}(a.default.Texture);function v(C){var j=C.GL,C=C.webglVersion,A=C===d.WEBGL2?j.getExtension("EXT_color_buffer_float")&&j.getExtension("EXT_float_blend"):j.getExtension("OES_texture_float"),L=A&&j.getExtension("OES_texture_float_linear"),C=C===d.WEBGL2?j.getExtension("EXT_color_buffer_float"):j.getExtension("OES_texture_half_float");return{float:A,floatLinear:L,halfFloat:C,halfFloatLinear:C&&j.getExtension("OES_texture_half_float_linear")}}c.MipmapTexture=g,t=a.default.Texture,c.default=t},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],344:[function(t,o,c){function l(S){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j})(S)}function h(S){return(h=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(j){return l(j)}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":l(j)})(S)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.sub"),t("core-js/modules/web.dom-collections.iterator");var a,d=(a=t("../core/main"))&&a.__esModule?a:{default:a},_=function(S){if(S&&S.__esModule)return S;if(S===null||h(S)!=="object"&&typeof S!="function")return{default:S};var j=w();if(j&&j.has(S))return j.get(S);var A,L={},C=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(A in S){var T;Object.prototype.hasOwnProperty.call(S,A)&&((T=C?Object.getOwnPropertyDescriptor(S,A):null)&&(T.get||T.set)?Object.defineProperty(L,A,T):L[A]=S[A])}return L.default=S,j&&j.set(S,L),L}(t("../core/constants"));function w(){var S;return typeof WeakMap!="function"?null:(S=new WeakMap,w=function(){return S},S)}function f(S,j){if(!(S instanceof j))throw new TypeError("Cannot call a class as a function")}function p(S,j){for(var A=0;A<j.length;A++){var L=j[A];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(S,L.key,L)}}function b(S,j,A){j&&p(S.prototype,j)}t("./p5.Shader"),t("./p5.RendererGL.Retained"),d.default.RendererGL.prototype._applyTextProperties=function(){this._setProperty("_textAscent",null),this._setProperty("_textDescent",null)},d.default.RendererGL.prototype.textWidth=function(S){return this._isOpenType()?this._textFont._textWidth(S,this._textSize):0};var y=function(){function S(j,A){f(this,S),this.width=j,this.height=A,this.infos=[]}return b(S,[{key:"findImage",value:function(j){var A,L,C=this.width*this.height;if(C<j)throw new Error("font is too complex to render in 3D");for(var T=this.infos.length-1;0<=T;--T){var R=this.infos[T];if(R.index+j<C){L=(A=R).imageData;break}}if(!A){try{L=new ImageData(this.width,this.height)}catch{var D=document.getElementsByTagName("canvas")[0],k=!D,F=(D||((D=document.createElement("canvas")).style.display="none",document.body.appendChild(D)),D.getContext("2d"));F&&(L=F.createImageData(this.width,this.height)),k&&document.body.removeChild(D)}this.infos.push(A={index:0,imageData:L})}return F=A.index,A.index+=j,L._dirty=!0,{imageData:L,index:F}}}]),S}();function m(R,j,A,L,C){var T=R.imageData.data,R=4*R.index++;T[R++]=j,T[R++]=A,T[R++]=L,T[+R]=C}var g=Math.sqrt(3),v=function(){function S(j){f(this,S),this.font=j,this.strokeImageInfos=new y(64,64),this.colDimImageInfos=new y(64,64),this.rowDimImageInfos=new y(64,64),this.colCellImageInfos=new y(64,64),this.rowCellImageInfos=new y(64,64),this.glyphInfos={}}return b(S,[{key:"getGlyphInfo",value:function(j){var A=this.glyphInfos[j.index];if(!A){var L=j.getBoundingBox(),C=L.x1,T=L.y1,R=L.x2-C,D=L.y2-T,k=j.path.commands;if(R==0||D==0||!k.length)return this.glyphInfos[j.index]={};for(var F=[],P=[],q=[],z=8;0<=z;--z)q.push([]);for(z=8;0<=z;--z)P.push([]);var H,Q,J,Z,K=function(){function ut(it,ft,lt,Le){f(this,ut),this.p0=it,this.c0=ft,this.c1=lt,this.p1=Le}return b(ut,[{key:"toQuadratic",value:function(){return{x:this.p0.x,y:this.p0.y,x1:this.p1.x,y1:this.p1.y,cx:(3*(this.c0.x+this.c1.x)-(this.p0.x+this.p1.x))/4,cy:(3*(this.c0.y+this.c1.y)-(this.p0.y+this.p1.y))/4}}},{key:"quadError",value:function(){return d.default.Vector.sub(d.default.Vector.sub(this.p1,this.p0),d.default.Vector.mult(d.default.Vector.sub(this.c1,this.c0),3)).mag()/2}},{key:"split",value:function(et){var ft=d.default.Vector.lerp(this.p0,this.c0,et),Le=d.default.Vector.lerp(this.c0,this.c1,et),lt=d.default.Vector.lerp(ft,Le,et),Le=(this.c1=d.default.Vector.lerp(this.c1,this.p1,et),this.c0=d.default.Vector.lerp(Le,this.c1,et),d.default.Vector.lerp(lt,this.c0,et)),et=new ut(this.p0,ft,lt,Le);return this.p0=Le,et}},{key:"splitInflections",value:function(){var it=d.default.Vector.sub(this.c0,this.p0),ft=d.default.Vector.sub(d.default.Vector.sub(this.c1,this.c0),it),lt=d.default.Vector.sub(d.default.Vector.sub(d.default.Vector.sub(this.p1,this.c1),it),d.default.Vector.mult(ft,2)),Le=[],et=ft.x*lt.y-ft.y*lt.x;return et!==0&&0<=(it=(lt=it.x*lt.y-it.y*lt.x)*lt-4*et*(it.x*ft.y-it.y*ft.x))&&(et<0&&(et=-et,lt=-lt),it=(-lt+(ft=Math.sqrt(it)))/(2*et),0<(lt=(-lt-ft)/(2*et))&&lt<1&&(Le.push(this.split(lt)),it=1-(1-it)/(1-lt)),0<it&&it<1&&Le.push(this.split(it))),Le.push(this),Le}}]),ut}(),se=!0,le=!1,M=void 0;try{for(var G,X=k[Symbol.iterator]();!(se=(G=X.next()).done);se=!0){var ee=G.value,ae=(ee.x-C)/R,ce=(ee.y-T)/D;if(!Ue(H,Q,ae,ce)){switch(ee.type){case"M":J=ae,Z=ce;break;case"L":Je(H,Q,ae,ce);break;case"Q":var pe=(ee.x1-C)/R,ve=(ee.y1-T)/D;ke([H,ae,pe],[Q,ce,ve],{x:H,y:Q,cx:pe,cy:ve});break;case"Z":Ue(H,Q,J,Z)?F.push({x:H,y:Q}):(Je(H,Q,J,Z),F.push({x:J,y:Z}));break;case"C":for(var ge=function(me,Ne,Xe,lt,Le,et,Be,de){var me=new K(new d.default.Vector(me,Ne),new d.default.Vector(Xe,lt),new d.default.Vector(Le,et),new d.default.Vector(Be,de)).splitInflections(),ie=[],ye=30/g,Me=!0,Ne=!1,Xe=void 0;try{for(var ct,yt=me[Symbol.iterator]();!(Me=(ct=yt.next()).done);Me=!0){for(var vt=ct.value,bt=[],Nt=void 0;!(.125<=(Nt=ye/vt.quadError()));){var Tt=Math.pow(Nt,.3333333333333333),St=vt.split(Tt),Lt=vt.split(1-Tt/(1-Tt));ie.push(St),bt.push(vt),vt=Lt}Nt<1&&ie.push(vt.split(.5)),ie.push(vt),Array.prototype.push.apply(ie,bt.reverse())}}catch(kt){Ne=!0,Xe=kt}finally{try{Me||yt.return==null||yt.return()}finally{if(Ne)throw Xe}}return ie}(H,Q,(ee.x1-C)/R,(ee.y1-T)/D,(ee.x2-C)/R,(ee.y2-T)/D,ae,ce),Se=0;Se<ge.length;Se++){var xe=ge[Se].toQuadratic();ke([xe.x,xe.x1,xe.cx],[xe.y,xe.y1,xe.cy],xe)}break;default:throw new Error("unknown command type: ".concat(ee.type))}H=ae,Q=ce}}}catch(ut){le=!0,M=ut}finally{try{se||X.return==null||X.return()}finally{if(le)throw M}}for(var he=F.length,je=this.strokeImageInfos.findImage(he),Ce=je.index,De=0;De<he;++De){var Oe=F[De];m(je,Fe(Oe.x),Fe(Oe.y),Fe(Oe.cx),Fe(Oe.cy))}(A=this.glyphInfos[j.index]={glyph:j,uGlyphRect:[L.x1,-L.y1,L.x2,-L.y2],strokeImageInfo:je,strokes:F,colInfo:mt(q,this.colDimImageInfos,this.colCellImageInfos),rowInfo:mt(P,this.rowDimImageInfos,this.rowCellImageInfos)}).uGridOffset=[A.colInfo.dimOffset,A.rowInfo.dimOffset]}return A;function ke(ut,it,ft){var lt=F.length;function Le(ie,ye,Me){for(var Ne=ie.length;0<Ne--;){var Xe=ie[Ne];Xe<ye&&(ye=Xe),Me<Xe&&(Me=Xe)}return{min:ye,max:Me}}F.push(ft);for(var ft=Le(ut,1,0),ut=Math.max(Math.floor(9*ft.min-.5),0),et=Math.min(Math.ceil(9*ft.max+.5),9),Be=ut;Be<et;++Be)q[Be].push(lt);for(var ft=Le(it,1,0),ut=Math.max(Math.floor(9*ft.min-.5),0),de=Math.min(Math.ceil(9*ft.max+.5),9),me=ut;me<de;++me)P[me].push(lt)}function Fe(ut){return(ut=(ft=255)*ut)<(it=0)?it:ft<ut?ft:ut;var it,ft}function Je(ut,it,ft,lt){ke([ut,ft],[it,lt],{x:ut,y:it,cx:(ut+ft)/2,cy:(it+lt)/2})}function Ue(ut,it,ft,lt){return Math.abs(ft-ut)<1e-5&&Math.abs(lt-it)<1e-5}function mt(ut,it,ft){for(var lt=ut.length,Le=it.findImage(lt),it=Le.index,et=0,Be=0;Be<lt;++Be)et+=ut[Be].length;for(var de=ft.findImage(et),me=0;me<lt;++me){var ie=ut[me],ye=ie.length,Me=de.index;m(Le,Me>>7,127&Me,ye>>7,127&ye);for(var Ne=0;Ne<ye;++Ne){var Xe=ie[Ne]+Ce;m(de,Xe>>7,127&Xe,0,0)}}return{cellImageInfo:de,dimOffset:it,dimImageInfo:Le}}}}]),S}();d.default.RendererGL.prototype._renderText=function(S,j,A,L,C){if(this._textFont&&typeof this._textFont!="string"){if(!(C<=L)&&this._doFill){if(this._isOpenType()){S.push();var C=this._doStroke,T=this.drawMode,R=(this._doStroke=!1,this.drawMode=_.TEXTURE,this._textFont.font),D=(D=this._textFont._fontInfo)||(this._textFont._fontInfo=new v(R)),A=this._textFont._handleAlignment(this,j,A,L),L=this._textSize/R.unitsPerEm,k=(this.translate(A.x,A.y,0),this.scale(L,L,1),this.GL),A=!this._defaultFontShader,F=this._getFontShader(),P=(F.init(),F.bindShader(),A&&(F.setUniform("uGridImageSize",[64,64]),F.setUniform("uCellsImageSize",[64,64]),F.setUniform("uStrokeImageSize",[64,64]),F.setUniform("uGridSize",[9,9])),this._applyColorBlend(this.curFillColor),this.retainedMode.geometry.glyph),q=(P||((L=this._textGeom=new d.default.Geometry(1,1,function(){for(var Se=0;Se<=1;Se++)for(var xe=0;xe<=1;xe++)this.vertices.push(new d.default.Vector(xe,Se,0)),this.uvs.push(xe,Se)})).computeFaces().computeNormals(),P=this.createBuffers("glyph",L)),!0),A=!1,L=void 0;try{for(var z,H=this.retainedMode.buffers.text[Symbol.iterator]();!(q=(z=H.next()).done);q=!0)z.value._prepareBuffer(P,F)}catch(Se){A=!0,L=Se}finally{try{q||H.return==null||H.return()}finally{if(A)throw L}}this._bindBuffer(P.indexBuffer,k.ELEMENT_ARRAY_BUFFER),F.setUniform("uMaterialColor",this.curFillColor),k.pixelStorei(k.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1);try{var Q=0,J=null,Z=R.stringToGlyphs(j),K=!0,se=!1,le=void 0;try{for(var M,G=Z[Symbol.iterator]();!(K=(M=G.next()).done);K=!0){var X,ee,ae=M.value,ce=(J&&(Q+=R.getKerningValue(J,ae)),D.getGlyphInfo(ae));ce.uGlyphRect&&(X=ce.rowInfo,ee=ce.colInfo,F.setUniform("uSamplerStrokes",ce.strokeImageInfo.imageData),F.setUniform("uSamplerRowStrokes",X.cellImageInfo.imageData),F.setUniform("uSamplerRows",X.dimImageInfo.imageData),F.setUniform("uSamplerColStrokes",ee.cellImageInfo.imageData),F.setUniform("uSamplerCols",ee.dimImageInfo.imageData),F.setUniform("uGridOffset",ce.uGridOffset),F.setUniform("uGlyphRect",ce.uGlyphRect),F.setUniform("uGlyphOffset",Q),F.bindTextures(),k.drawElements(k.TRIANGLES,6,this.GL.UNSIGNED_SHORT,0)),Q+=ae.advanceWidth,J=ae}}catch(Se){se=!0,le=Se}finally{try{K||G.return==null||G.return()}finally{if(se)throw le}}}finally{F.unbindShader(),this._doStroke=C,this.drawMode=T,k.pixelStorei(k.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),S.pop()}}else console.log("WEBGL: only Opentype (.otf) and Truetype (.ttf) fonts are supported");return S}}else console.log("WEBGL: you must load and set a font before drawing text. See `loadFont` and `textFont` for more details.")}},{"../core/constants":272,"../core/main":283,"./p5.RendererGL.Retained":340,"./p5.Shader":342,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/es.string.sub":208,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}]},{},[267])(267)})}(Rg)),Rg.exports}var kF=IF();const gy=vy(kF);var yy=function(){return yy=Object.assign||function(s){for(var r,n=1,t=arguments.length;n<t;n++)for(var o in r=arguments[n])Object.prototype.hasOwnProperty.call(r,o)&&(s[o]=r[o]);return s},yy.apply(this,arguments)},MF="react-p5-wrapper";function gx(s){var r;(r=s.current)===null||r===void 0||r.remove(),s.current=null}function PF(s){var r=s.sketch,n=s.children,t=function(l,h){var a={};for(var d in l)Object.prototype.hasOwnProperty.call(l,d)&&h.indexOf(d)<0&&(a[d]=l[d]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function"){var _=0;for(d=Object.getOwnPropertySymbols(l);_<d.length;_++)h.indexOf(d[_])<0&&Object.prototype.propertyIsEnumerable.call(l,d[_])&&(a[d[_]]=l[d[_]])}return a}(s,["sketch","children"]),o=Te.createRef(),c=Te.useRef(null);return Te.useEffect(function(){o.current!==null&&(gx(c),c.current=function(l,h){return new gy(l,h)}(r,o.current))},[r]),Te.useEffect(function(){var l,h;(h=(l=c.current)===null||l===void 0?void 0:l.updateWithProps)===null||h===void 0||h.call(l,t)},[t,o]),Te.useEffect(function(){return function(){return gx(c)}},[]),Ru.createElement("div",{ref:o,className:MF},n)}var qv=Te.memo(function(s){return s.sketch===void 0?(console.error("[ReactP5Wrapper] The `sketch` prop is required."),null):Ru.createElement(PF,yy({},s))},function(s,r){return WE(s,r).length===0});const YE=()=>{const s={waveType:"sine",direction:"static",angle:0,amplitude:10,frequency:10,speed:5,thickness:1,phaseOffset:0,numLines:1,distance:0,bgColor:"#FFFFFF",lineColor:"#FF0000",selectedPalette:"none",rotationSpeed:.02,rotationRadius:150,oscillationRange:100,groups:1,groupDistance:100},[r,n]=Te.useState(s),[t,o]=Te.useState(!0),c=d=>{let _=0,w=d.height/2,f=0;const p={rainbow:["#FF0000","#FF7F00","#FFFF00","#7FFF00","#00FF00","#00FF7F","#00FFFF","#007FFF","#0000FF","#7F00FF","#FF00FF","#FF007F"],pastel:["#FFD1DC","#FFABAB","#FFC3A0","#FF677D","#D4A5A5","#392F5A","#31A2AC","#61C0BF","#6B4226","#ACD8AA"]};d.setup=()=>{d.createCanvas(d.windowWidth,d.windowHeight),d.noLoop()},d.updateWithProps=y=>{y.settings&&Object.assign(r,y.settings),y.isAnimating!==void 0&&(y.isAnimating?d.loop():d.noLoop())};const b=()=>{switch(r.direction){case"static":w=d.height/2;break;case"up":w-=r.speed,w<-d.height&&(w+=d.height);break;case"down":w+=r.speed,w>d.height&&(w-=d.height);break;case"left":_-=r.speed,_<-d.width&&(_+=d.width);break;case"right":_+=r.speed,_>d.width&&(_-=d.width);break;case"oscillateUpDown":w=d.height/2+r.oscillationRange*d.sin(f),f+=r.speed/100;break;case"oscillateRightLeft":_=d.width/2+r.oscillationRange*d.sin(f),f+=r.speed/100;break;case"circular":_=d.width/2+r.rotationRadius*d.cos(f*r.rotationSpeed),w=d.height/2+r.rotationRadius*d.sin(f*r.rotationSpeed),f+=r.speed/100;break}};d.draw=()=>{if(!t)return;d.noFill(),d.clear(),d.background(d.color(r.bgColor)),d.stroke(d.color(r.lineColor)),d.strokeWeight(r.thickness);const y=d.width/2,m=d.height/2;b();for(let g=0;g<r.groups;g++)for(let v=0;v<r.numLines;v++){d.beginShape();for(let S=0;S<=d.width;S++){const j=(S+_+r.phaseOffset*v)/r.frequency;let A;switch(r.waveType){case"sine":A=d.sin(j)*r.amplitude;break;case"tan":A=d.tan(j)*r.amplitude/4;break;case"cotan":A=1/d.tan(j)*r.amplitude/4;break;case"sawtooth":A=(j/d.PI%2-1)*r.amplitude;break;case"square":A=(d.sin(j)>=0?1:-1)*r.amplitude/2;break;case"triangle":A=2*r.amplitude/d.PI*d.asin(d.sin(j));break;default:A=d.sin(j)*r.amplitude}const L=w+g*r.groupDistance+v*r.distance,C=(S-y)*d.cos(r.angle)-A*d.sin(r.angle)+y,T=(S-y)*d.sin(r.angle)+(A+L-m)*d.cos(r.angle)+m;d.vertex(C,T)}r.selectedPalette!=="none"?d.stroke(d.color(p[r.selectedPalette][v%p[r.selectedPalette].length])):d.stroke(d.color(r.lineColor)),d.endShape()}},d.windowResized=()=>{d.resizeCanvas(d.windowWidth,d.windowHeight)}},l=()=>o(!0),h=()=>o(!1),a=()=>{n(s),o(!0)};return $.jsxs("div",{className:"relative",children:[$.jsx(RF,{settings:r,setSettings:n,startAnimation:l,stopAnimation:h,resetAnimation:a}),$.jsx(qv,{sketch:c,settings:r,isAnimating:t})]})},DF=({settings:s,setSettings:r,startAnimation:n,stopAnimation:t,resetAnimation:o})=>{const[c,l]=Te.useState(!0),{currentUser:h}=kl(),[a,d]=Te.useState(""),[_,w]=Te.useState([]),[f,p]=Te.useState({message:"",type:"success"});Te.useEffect(()=>{(async()=>{if(h)try{const S=ki(Qn,`users/${h.uid}/shape-animation-settings`),A=(await Sv(S)).docs.map(L=>L.id);w(A)}catch(S){console.error("Error fetching preset names:",S)}})()},[h]);const b=async()=>{if(!h)return;const v=new Date,S=v.toLocaleString(),j={...s,userId:h.uid,timestamp:v.toISOString(),localDateTime:S};try{const A=di(Qn,`users/${h.uid}/shape-animation-settings/current`);await Ra(A,j);const L=Object.keys(j).map(D=>({setting:D,value:j[D]})),C=ud.unparse(L),T=new Blob([C],{type:"text/csv;charset=utf-8;"}),R=_l(Sl,`users/${h.uid}/shape-animation-settings/current.csv`);await id(R,T),p({message:"Current settings saved successfully!",type:"success"})}catch(A){console.error("Error saving current settings:",A),p({message:"Error saving current settings. Please try again.",type:"error"})}},y=async()=>{if(!a||!h){p({message:"Please provide a name for the preset.",type:"error"});return}const v=new Date,S=v.toLocaleString(),j={...s,presetName:a,userId:h.uid,timestamp:v.toISOString(),localDateTime:S};try{const A=di(Qn,`users/${h.uid}/shape-animation-settings/${a}`);await Ra(A,j);const L=Object.keys(j).map(D=>({setting:D,value:j[D]})),C=ud.unparse(L),T=new Blob([C],{type:"text/csv;charset=utf-8;"}),R=_l(Sl,`users/${h.uid}/shape-animation-settings/${a}.csv`);await id(R,T),p({message:"Preset settings saved successfully!",type:"success"}),_.includes(a)||w([..._,a])}catch(A){console.error("Error saving preset settings:",A),p({message:"Error saving preset settings. Please try again.",type:"error"})}},m=async()=>{if(h)try{const v=di(Qn,`users/${h.uid}/shape-animation-settings/current`),S=await ny(v);if(S.exists()){const j=S.data();r(j),p({message:"Current settings loaded successfully!",type:"success"})}else p({message:"No current settings found.",type:"error"})}catch(v){console.error("Error loading current settings:",v),p({message:"Error loading current settings. Please try again.",type:"error"})}},g=async()=>{if(!a||!h){p({message:"Please provide the name of the preset to load.",type:"error"});return}try{const v=di(Qn,`users/${h.uid}/shape-animation-settings/${a}`),S=await ny(v);if(S.exists()){const j=S.data();r(j),p({message:"Preset settings loaded successfully!",type:"success"})}else p({message:"No settings found with that preset name.",type:"error"})}catch(v){console.error("Error loading preset settings:",v),p({message:"Error loading preset settings. Please try again.",type:"error"})}};return $.jsxs("div",{className:`fixed right-4 top-2 p-4 rounded ${c?"shadow-lg bg-transparent":""} w-60 z-50 h-full overflow-y-auto`,children:[$.jsx("button",{onClick:()=>l(!c),className:"mb-2 bg-gray-200 p-2 border rounded w-full",children:c?"Collapse Controls":"Expand Controls"}),$.jsx(lp.Collapse,{isOpened:c,children:$.jsxs("div",{className:"space-y-2",children:[$.jsxs("div",{className:"flex space-x-2",children:[$.jsx("button",{onClick:n,className:"bg-green-500 text-white p-2 rounded w-1/3",children:"Start"}),$.jsx("button",{onClick:t,className:"bg-red-500 text-white p-2 rounded w-1/3",children:"Stop"}),$.jsx("button",{onClick:o,className:"bg-gray-500 text-white p-2 rounded w-1/3",children:"Reset"})]}),$.jsx("div",{className:"flex space-x-2",children:$.jsx("input",{type:"text",placeholder:"Preset Name",value:a,onChange:v=>d(v.target.value),className:"border p-2 rounded w-full"})}),$.jsxs("div",{className:"flex space-x-2",children:[$.jsx("button",{onClick:b,className:"bg-blue-500 text-white p-2 rounded w-1/2",children:"Save Current"}),$.jsx("button",{onClick:m,className:"bg-yellow-500 text-white p-2 rounded w-1/2",children:"Load Current"})]}),$.jsxs("div",{className:"flex space-x-2",children:[$.jsx("button",{onClick:y,className:"bg-blue-500 text-white p-2 rounded w-1/2",children:"Save Preset"}),$.jsx("button",{onClick:g,className:"bg-yellow-500 text-white p-2 rounded w-1/2",children:"Load Preset"})]}),$.jsx("div",{className:"flex space-x-2",children:$.jsxs("select",{onChange:v=>d(v.target.value),value:a,className:"border p-2 rounded w-full",children:[$.jsx("option",{value:"",children:"Select Preset"}),_.map((v,S)=>$.jsx("option",{value:v,children:v},S))]})}),f.message&&$.jsx("div",{className:`alert ${f.type==="error"?"bg-red-500":"bg-green-500"} text-white p-2 rounded`,children:f.message})]})})]})},XE=()=>{const s={shapeType:"circle",numShapes:10,size:50,direction:"static",angle:0,speed:5,rotationSpeed:.02,rotationRadius:150,bgColor:"#FFFFFF",shapeColor:"#007BFF",secondColor:"#FF0000",palette:"none",rowOffset:0,columnOffset:0,rowDistance:50,columnDistance:50,layoutSelect:"random",oscillationRange:100},[r,n]=Te.useState(s),[t,o]=Te.useState(!0),c=d=>{let _=[];d.setup=()=>{d.createCanvas(d.windowWidth,d.windowHeight),w()},d.updateWithProps=p=>{p.settings&&(n(p.settings),w()),p.isAnimating!==void 0&&(p.isAnimating?d.loop():d.noLoop())},d.draw=()=>{d.background(r.bgColor);for(let p of _)p.move(),p.display()},d.windowResized=()=>{d.resizeCanvas(d.windowWidth,d.windowHeight),w()};function w(){_=[];let p,b,y;r.layoutSelect==="random"?p=r.numShapes:(b=Math.floor(d.height/(r.size+r.rowDistance)),y=Math.floor(d.width/(r.size+r.columnDistance)),p=b*y);for(let m=0;m<p;m++)_.push(new f(d,r,m,b,y))}class f{constructor(b,y,m,g,v){is(this,"p5");is(this,"settings");is(this,"index");is(this,"rows");is(this,"cols");is(this,"x");is(this,"y");is(this,"angle");is(this,"speed");this.p5=b,this.settings=y,this.index=m,this.rows=g,this.cols=v,this.initPosition()}initPosition(){this.settings.layoutSelect==="random"?(this.x=this.p5.random(this.p5.width),this.y=this.p5.random(this.p5.height)):(this.x=this.index%this.cols*(this.settings.size+this.settings.columnDistance)+this.settings.columnOffset,this.y=Math.floor(this.index/this.cols)*(this.settings.size+this.settings.rowDistance)+this.settings.rowOffset),this.angle=this.settings.angle,this.speed=this.settings.speed}move(){switch(this.settings.direction){case"up":this.y-=this.speed;break;case"down":this.y+=this.speed;break;case"left":this.x-=this.speed;break;case"right":this.x+=this.speed;break;case"oscillateUpDown":this.y+=Math.sin(this.p5.frameCount*.05)*this.settings.speed*.01*this.settings.oscillationRange;break;case"oscillateRightLeft":this.x+=Math.sin(this.p5.frameCount*.05)*this.settings.speed*.01*this.settings.oscillationRange;break;case"circular":this.x+=Math.cos(this.p5.frameCount*this.settings.rotationSpeed*.001+this.index)*this.settings.rotationRadius*.1,this.y+=Math.sin(this.p5.frameCount*this.settings.rotationSpeed*.001+this.index)*this.settings.rotationRadius*.1;break}this.x>this.p5.width&&(this.x=0),this.x<0&&(this.x=this.p5.width),this.y>this.p5.height&&(this.y=0),this.y<0&&(this.y=this.p5.height)}display(){this.p5.push(),this.p5.translate(this.x,this.y),this.p5.rotate(this.angle);let b=this.settings.palette==="none"?this.settings.shapeColor:"#000";switch(this.p5.fill(b),this.settings.shapeType){case"circle":this.p5.ellipse(0,0,this.settings.size);break;case"square":this.p5.rect(0,0,this.settings.size,this.settings.size);break;case"triangle":this.p5.triangle(-this.settings.size/2,this.settings.size/2,this.settings.size/2,this.settings.size/2,0,-this.settings.size/2);break;case"chevron":this.p5.beginShape(),this.p5.vertex(-this.settings.size/2,this.settings.size/2),this.p5.vertex(0,-this.settings.size/2),this.p5.vertex(this.settings.size/2,this.settings.size/2),this.p5.vertex(this.settings.size/4,this.settings.size/2),this.p5.vertex(0,0),this.p5.vertex(-this.settings.size/4,this.settings.size/2),this.p5.endShape(this.p5.CLOSE);break;case"diamond":this.p5.beginShape(),this.p5.vertex(0,-this.settings.size/2),this.p5.vertex(this.settings.size/2,0),this.p5.vertex(0,this.settings.size/2),this.p5.vertex(-this.settings.size/2,0),this.p5.endShape(this.p5.CLOSE);break}this.p5.pop()}}},l=()=>o(!0),h=()=>o(!1),a=()=>{n(s),o(!0)};return $.jsxs("div",{className:"relative",children:[$.jsx(DF,{settings:r,setSettings:n,startAnimation:l,stopAnimation:h,resetAnimation:a}),$.jsx(qv,{sketch:c,settings:r,isAnimating:t})]})},LF=({settings:s,setSettings:r,startAnimation:n,stopAnimation:t,resetAnimation:o})=>{const[c,l]=Te.useState(!0),{currentUser:h}=kl(),[a,d]=Te.useState(""),[_,w]=Te.useState({message:"",type:"success"}),f=(g,v)=>{const S=[...s.colors];S[g]=v,r(j=>({...j,colors:S}))},p=g=>{r(v=>({...v,duration:parseFloat(g.target.value)}))},b=g=>{r(v=>({...v,animationStyle:g.target.value}))},y=async()=>{if(!a){w({message:"Please provide a name for the preset.",type:"error"});return}const g=new Date,v=g.toLocaleString(),S={...s,presetName:a,userId:h==null?void 0:h.uid,timestamp:g.toISOString(),localDateTime:v};try{const j=di(ki(Qn,`users/${h==null?void 0:h.uid}/color-animation-settings`));await Ra(j,S);const A=Object.keys(s).map(R=>({setting:R,value:s[R]})),L=ud.unparse(A),C=new Blob([L],{type:"text/csv;charset=utf-8;"}),T=_l(Sl,`users/${h==null?void 0:h.uid}/color-animation-settings/${g.toISOString()}.csv`);await id(T,C),w({message:"Settings saved successfully!",type:"success"})}catch(j){console.error("Error saving settings:",j),w({message:"Error saving settings. Please try again.",type:"error"})}},m=async()=>{if(!a){w({message:"Please provide the name of the preset to load.",type:"error"});return}try{const g=ki(Qn,`users/${h==null?void 0:h.uid}/color-animation-settings`),v=FD(g,VD("presetName","==",a)),S=await Sv(v);if(S.empty)w({message:"No settings found with that preset name.",type:"error"});else{const A=S.docs[0].data();r(A),w({message:"Settings loaded successfully!",type:"success"})}}catch(g){console.error("Error loading settings:",g),w({message:"Error loading settings. Please try again.",type:"error"})}};return $.jsxs("div",{className:`fixed right-4 top-2 p-4 rounded ${c?"shadow-lg bg-transparent":""} w-60 z-50 h-full overflow-y-auto`,children:[$.jsx("button",{onClick:()=>l(!c),className:"mb-2 bg-gray-200 p-2 border rounded w-full",children:c?"Collapse Controls":"Expand Controls"}),$.jsx(lp.Collapse,{isOpened:c,children:$.jsxs("div",{className:"space-y-4",children:[$.jsxs("div",{className:"flex space-x-2",children:[$.jsx("button",{onClick:n,className:"bg-green-500 text-white p-2 rounded w-1/3",children:"Start"}),$.jsx("button",{onClick:t,className:"bg-red-500 text-white p-2 rounded w-1/3",children:"Stop"}),$.jsx("button",{onClick:o,className:"bg-gray-500 text-white p-2 rounded w-1/3",children:"Reset"})]}),$.jsx("div",{className:"flex space-x-2 mt-2",children:$.jsx("input",{type:"text",placeholder:"Preset Name",value:a,onChange:g=>d(g.target.value),className:"border p-2 rounded w-full"})}),$.jsxs("div",{className:"flex space-x-2 mt-2",children:[$.jsx("button",{onClick:y,className:"bg-blue-500 text-white p-2 rounded w-1/2",children:"Save"}),$.jsx("button",{onClick:m,className:"bg-yellow-500 text-white p-2 rounded w-1/2",children:"Load"})]}),_.message&&$.jsx("div",{className:`alert ${_.type==="error"?"bg-red-500":"bg-green-500"} text-white p-2 rounded`,children:_.message}),[0,1,2,3].map(g=>$.jsxs("div",{className:"control-group",children:[$.jsx("label",{className:"block mb-2",children:`Color ${g+1}:`}),$.jsx("input",{type:"color",value:s.colors[g],onChange:v=>f(g,v.target.value),className:"w-full"})]},g)),$.jsxs("div",{className:"control-group",children:[$.jsx("label",{className:"block mb-2",children:"Transition Duration (seconds):"}),$.jsx("input",{type:"range",min:"1",max:"60",value:s.duration,onChange:p,className:"w-full"})]}),$.jsxs("div",{className:"control-group",children:[$.jsx("label",{className:"block mb-2",children:"Animation Style:"}),$.jsxs("select",{value:s.animationStyle,onChange:b,className:"border p-2 rounded w-full",children:[$.jsx("option",{value:"sine",children:"Sine"}),$.jsx("option",{value:"linear",children:"Linear"}),$.jsx("option",{value:"circular",children:"Circular"}),$.jsx("option",{value:"fractal",children:"Fractal"})]})]})]})})]})},NF=({setCurrentAnimation:s})=>{const[r,n]=Te.useState({colors:["#FF0000","#00FF00","#0000FF","#FFFF00"],animationStyle:"sine",duration:1}),t=o=>{let c=0;o.setup=()=>{o.createCanvas(o.windowWidth,o.windowHeight),o.noStroke()},o.updateWithProps=l=>{l.settings&&n(l.settings)},o.draw=()=>{o.clear();const l=o.color(r.colors[0]),h=o.color(r.colors[1]),a=o.color(r.colors[2]),d=o.color(r.colors[3]);for(let _=0;_<=o.width;_+=10)for(let w=0;w<=o.height;w+=10){let f=0;switch(r.animationStyle){case"sine":f=o.map(o.sin(c+_*.01+w*.01),-1,1,0,1);break;case"linear":f=o.map(_+w,0,o.width+o.height,0,1);break;case"circular":const y=o.dist(_,w,o.width/2,o.height/2);f=o.map(y,0,o.width/2,0,1);break;case"fractal":const m=.005;f=o.noise(_*m,w*m,c*m);break;default:f=o.map(o.sin(c+_*.01+w*.01),-1,1,0,1)}const p=o.lerpColor(l,h,f),b=o.lerpColor(a,d,f);o.fill(o.lerpColor(p,b,f)),o.rect(_,w,10,10)}c+=.01*r.duration},o.windowResized=()=>{o.resizeCanvas(o.windowWidth,o.windowHeight)}};return $.jsxs("div",{className:"relative",children:[$.jsxs("div",{className:"flex justify-center mb-4",children:[$.jsx("button",{onClick:()=>s("multifunction"),className:"p-2 mx-2 bg-gray-200",children:"Multifunction Animation"}),$.jsx("button",{onClick:()=>s("shape"),className:"p-2 mx-2 bg-gray-200",children:"Shape Animation"}),$.jsx("button",{onClick:()=>s("color"),className:"p-2 mx-2 bg-blue-500 text-white",children:"Color Animation"})]}),$.jsx(LF,{settings:r,setSettings:n}),$.jsx(qv,{sketch:t,settings:r})]})},Of={backgroundColor:"blue",color:"white",border:"none",borderRadius:"5px",padding:"8px 12px",margin:"5px",cursor:"pointer",textAlign:"center",fontSize:"12px",fontWeight:"bold",transition:"background-color 0.3s ease"},UF=({displayText:s,setDisplayText:r})=>{const n=["It is a truth universally acknowledged, that a single man in possession of a good fortune, must be in want of a wife - Jane Austen.","All happy families are alike; each unhappy family is unhappy in its own way - Leo Tolstoy.","It was the best of times, it was the worst of times, it was the age of wisdom, it was the age of foolishness - Charles Dickens.","Call me Ishmael - Herman Melville.","It was a bright cold day in April, and the clocks were striking thirteen - George Orwell.","I am an invisible man - Ralph Ellison.","The sun shone, having no alternative, on the nothing new - Samuel Beckett.","If you really want to hear about it, the first thing you'll probably want to know is where I was born - J.D. Salinger.","It was a pleasure to burn - Ray Bradbury.","You don't know about me without you have read a book by the name of The Adventures of Tom Sawyer - Mark Twain.","When he was nearly thirteen, my brother Jem got his arm badly broken at the elbow - Harper Lee.","I had the story, bit by bit, from various people, and, as generally happens in such cases, each time it was a different story - Edith Wharton.","In my younger and more vulnerable years my father gave me some advice that I've been turning over in my mind ever since - F. Scott Fitzgerald.","You better not never tell nobody but God - Alice Walker.","There was no possibility of taking a walk that day - Charlotte Brontë.","The past is a foreign country; they do things differently there - L.P. Hartley.","All children, except one, grow up - J.M. Barrie.","It was love at first sight - Joseph Heller.","Into the face of the young man who sat on the terrace of the Hotel Magnifique at Cannes there crept a look of furtive shame, the shifty, hangdog look which announces that an Englishman is about to speak French - P.G. Wodehouse.","A screaming comes across the sky - Thomas Pynchon."],t=["Veni, vidi, vici - Julius Caesar.","Carpe diem - Horace.","Amor vincit omnia - Virgil.","Audere est facere - To dare is to do.","Faber est suae quisque fortunae - Every man is the artisan of his own fortune.","Alea iacta est - The die is cast - Julius Caesar.","In vino veritas - In wine, there is truth.","Si vis pacem, para bellum - If you want peace, prepare for war.","Vivere est cogitare - To live is to think - Cicero.","Ad astra per aspera - Through hardships to the stars.","Dulce et decorum est pro patria mori - It is sweet and fitting to die for one's country - Horace.","Non ducor, duco - I am not led, I lead.","Sapere aude - Dare to be wise.","Vox populi, vox Dei - The voice of the people is the voice of God.","Panem et circenses - Bread and circuses - Juvenal.","Aurora Musis amica - Dawn is a friend of the muses.","Lux et veritas - Light and truth.","O tempora, o mores! - Oh the times! Oh the customs! - Cicero.","Per aspera ad astra - Through hardships to the stars.","Veritas vos liberabit - The truth will set you free."];return $.jsxs("div",{style:{position:"relative",top:"330px",left:"1000px",width:"300px",padding:"20px",backgroundColor:"white",borderRadius:"8px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",zIndex:100},children:[$.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"10px",marginBottom:"10px"},children:[$.jsx("button",{onClick:()=>r(n[Math.floor(Math.random()*n.length)]),style:Of,children:"Historic Passage"}),$.jsx("button",{onClick:()=>r(t[Math.floor(Math.random()*t.length)]),style:Of,children:"Latin Text"})]}),$.jsx("div",{style:{textAlign:"center",overflowY:"auto",maxHeight:"300px"},children:$.jsx("span",{children:s||"Select an option to display text"})})]})},$E=({placeholder:s,displayText:r,saveKeystrokeData:n})=>{const[t,o]=Te.useState(""),[c,l]=Te.useState([]),[h,a]=Te.useState("Arial"),[d,_]=Te.useState(16),[w,f]=Te.useState(!1),[p,b]=Te.useState("#000000"),[y,m]=Te.useState("#FFFFFF"),[g,v]=Te.useState(1),[S,j]=Te.useState(!0),A=Te.useRef(c);let L=null,C=null;Te.useEffect(()=>{A.current=c},[c]);const T=P=>{const q=Date.now();if(!P.key.match(/^.$/))return;const z=C!==null?q-C:0,H=L!==null?q-L:0;l(Q=>[...Q,{key:P.key,pressTime:q,releaseTime:null,holdTime:null,lagTime:z,totalLagTime:H}]),L=q},R=P=>{const q=Date.now(),z=A.current.map(H=>H.key===P.key&&H.releaseTime===null?{...H,releaseTime:q,holdTime:q-H.pressTime}:H);l(z),C=q},D=P=>{o(P.target.value)},k=()=>{const P=F(t,r);n({keyData:c,errors:P})},F=(P,q)=>{const z=P.split(" "),H=q.split(" ");let Q=0;return z.forEach((J,Z)=>{J!==H[Z]&&Q++}),Q};return Te.useEffect(()=>(document.addEventListener("keydown",T),document.addEventListener("keyup",R),()=>{document.removeEventListener("keydown",T),document.removeEventListener("keyup",R)}),[]),$.jsxs("div",{className:"relative w-5/6  right-30 ",children:[$.jsx("div",{className:"flex flex-row justify-between items-start w-full space-x-4 p-4",children:$.jsx("div",{className:"flex-1 text-xs",children:$.jsx("textarea",{value:t,placeholder:s,onChange:D,style:{width:"100%",height:"300px",fontFamily:h,fontSize:`${d}px`,fontWeight:w?"bold":"normal",color:p,backgroundColor:`rgba(${parseInt(y.slice(1,3),16)}, ${parseInt(y.slice(3,5),16)}, ${parseInt(y.slice(5,7),16)}, ${g})`,border:"1px solid #ccc",outline:"none",padding:"10px",borderRadius:"4px",resize:"vertical",overflowY:"scroll"}})})}),$.jsx("button",{onClick:()=>j(!S),className:"flex mb-200 text-xs  bg-gray-100 p-2 border rounded w-1/4 ",children:S?" Hide Text Control":"Show Text Controls"}),$.jsx(lp.Collapse,{isOpened:S,children:$.jsxs("div",{className:"flex flex-wrap mb-200  text-xs bg-gray-200 p-200 border rounded w-1/4",children:[$.jsxs("div",{className:"w-full md:w-1/4",children:[$.jsx("label",{children:"Font:"}),$.jsxs("select",{value:h,onChange:P=>a(P.target.value),className:"border p-2 rounded w-full",children:[$.jsx("option",{value:"Arial",children:"Arial"}),$.jsx("option",{value:"Verdana",children:"Verdana"}),$.jsx("option",{value:"Times New Roman",children:"Times New Roman"}),$.jsx("option",{value:"Courier New",children:"Courier New"}),$.jsx("option",{value:"Georgia",children:"Georgia"})]})]}),$.jsxs("div",{className:"w-full md:w-1/4 text -xs",children:[$.jsx("label",{children:"Font Size:"}),$.jsx("select",{value:d,onChange:P=>_(parseInt(P.target.value)),className:"border p-2 rounded w-full",children:[...Array(31)].map((P,q)=>$.jsx("option",{value:10+q,children:10+q},q))})]}),$.jsxs("div",{className:"w-half md:w-1/4 flex items-center space-x-2",children:[$.jsx("label",{children:"Bold:"}),$.jsx("input",{type:"checkbox",checked:w,onChange:P=>f(P.target.checked),className:"border p-2 rounded"})]}),$.jsxs("div",{className:"w-full md:w-1/4",children:[$.jsx("label",{children:"Text Color:"}),$.jsx("input",{type:"color",value:p,onChange:P=>b(P.target.value),className:"w-full"})]}),$.jsxs("div",{className:"w-full md:w-1/4",children:[$.jsx("label",{children:"Background Color:"}),$.jsx("input",{type:"color",value:y,onChange:P=>m(P.target.value),className:"w-full"})]}),$.jsxs("div",{className:"w-full md:w-1/4",children:[$.jsx("label",{children:"Background Opacity:"}),$.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:g,onChange:P=>v(parseFloat(P.target.value)),className:"border p-2 rounded w-full"})]})]})}),$.jsxs("div",{className:"bg-gray-200 p-200 border rounded w-1/4",children:[$.jsx("button",{onClick:k,style:Of,children:"Submit"}),$.jsx("button",{onClick:()=>o(""),style:Of,children:"Reset"})]})]})},FF=()=>{const[s,r]=Te.useState("multifunction"),{currentUser:n}=kl(),[t,o]=Te.useState(null),[c,l]=Te.useState({}),[h,a]=Te.useState(""),d=async _=>{try{const w=new Date().toISOString(),f=di(ki(Qn,`users/${n.uid}/keystroke-data`));await Ra(f,{keyData:_,timestamp:w}),o({message:"Keystroke data saved successfully!",type:"success"})}catch(w){console.error("Error saving keystroke data:",w),o({message:"Error saving keystroke data. Please try again.",type:"error"})}};return $.jsxs("div",{className:"relative w-full",children:[$.jsxs("div",{className:"flex justify-center text-sm text-gray-600 rounded p-2 mb-4 w-full",children:[$.jsx(ap,{}),$.jsx("button",{onClick:()=>r("multifunction"),className:`p-2 mx-2 ${s==="multifunction"?"bg-blue-500 text-white rounded":"bg-gray-200"}`,children:"Multifunction Animation"}),$.jsx("button",{onClick:()=>r("shape"),className:`p-2 mx-2 ${s==="shape"?"bg-blue-500 text-white rounded":"bg-gray-200"}`,children:"Shape Animation"}),$.jsx("button",{onClick:()=>r("color"),className:`p-2 mx-2 ${s==="color"?"bg-blue-500 text-m-white rounded":"bg-gray-200"}`,children:"Color Animation"})]}),t&&$.jsx("div",{className:`alert ${t.type==="error"?"bg-red-500":"bg-green-500"} text-white p-2 rounded mb-4`,children:t.message}),s==="multifunction"&&$.jsx(YE,{settings:c,setSettings:l}),s==="shape"&&$.jsx(XE,{settings:c,setSettings:l}),s==="color"&&$.jsx(NF,{settings:c,setSettings:l}),$.jsxs("div",{children:[$.jsx("div",{className:"w-1/2 flex flex-col items-start space-y-4",className:"absolute w-full z-25 p-4",children:$.jsx($E,{placeholder:"Type here...",displayText:h,saveKeystrokeData:d})}),$.jsx("div",{className:"absolute center-1920 right-22 w-1/3 z-7 p-4",children:$.jsx(UF,{displayText:h,setDisplayText:a})})]})]})},VF=()=>$.jsxs("div",{className:"text-justify",children:[$.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Clinical Trial Disclaimer and Acknowledgment of Risk"}),$.jsx("p",{children:"Welcome to our clinical trial aimed at stabilizing Parkinson's disease and other tremor disorders through innovative visual therapy. Our approach involves altering background textures and movements to potentially reduce tremor severity. This therapeutic intervention is designed to be engaging and enjoyable for participants, resembling a game-like experience."}),$.jsx("h3",{className:"text-xl font-semibold mt-4",children:"Purpose and Scope"}),$.jsx("p",{children:"The purpose of this clinical trial is to evaluate the effectiveness of visual therapy in stabilizing tremors in individuals with Parkinson's disease and other tremor disorders. Participants will be exposed to various visual stimuli that may help reduce the severity of their tremors."}),$.jsx("h3",{className:"text-xl font-semibold mt-4",children:"Potential Risks and Discomforts"}),$.jsx("p",{children:"While the therapy is designed to be safe and enjoyable, there are potential risks and discomforts that participants should be aware of:"}),$.jsxs("ul",{className:"list-disc list-inside ml-4",children:[$.jsx("li",{children:"Exposure to visual stimuli may trigger migraines in susceptible individuals."}),$.jsx("li",{children:"Participants with a history of epilepsy or other seizure disorders may be at risk of experiencing seizures due to visual stimuli."}),$.jsx("li",{children:"Other unforeseen risks associated with visual therapy and exposure to dynamic background textures."})]}),$.jsx("p",{children:"Participants are encouraged to report any discomfort or adverse reactions to the study staff immediately."}),$.jsx("h3",{className:"text-xl font-semibold mt-4",children:"Confidentiality and Privacy"}),$.jsx("p",{children:"We are committed to protecting the privacy and confidentiality of all participants. All data collected during this study will be stored securely and only accessible to authorized personnel. Personal information will not be shared with any third parties without your explicit consent, except as required by law. This study is compliant with the Health Insurance Portability and Accountability Act (HIPAA) regulations to ensure the confidentiality and security of your health information."}),$.jsx("h3",{className:"text-xl font-semibold mt-4",children:"Voluntary Participation"}),$.jsx("p",{children:"Your participation in this clinical trial is entirely voluntary. You may withdraw from the study at any time without any penalty or loss of benefits to which you are otherwise entitled. If you decide to withdraw, please inform the study staff immediately."}),$.jsx("h3",{className:"text-xl font-semibold mt-4",children:"Acknowledgment of Understanding and Consent"}),$.jsx("p",{children:"By signing this form, you acknowledge that you have read and understood the information provided above, including the potential risks and discomforts associated with participating in this study. You agree to participate in this clinical trial and consent to the collection and use of your data as described."}),$.jsx("p",{children:"If you have any questions or concerns about this study or your rights as a participant, please contact the study staff at [Contact Information]."})]}),BF=()=>{const s=Mi(),[r,n]=Te.useState(!1),[t,o]=Te.useState(""),[c,l]=Te.useState(""),h=_=>{n(_.target.checked)},a=_=>{o(_.target.value)},d=async _=>{if(_.preventDefault(),!r||t.trim()===""){l("Please acknowledge the disclaimer and provide your signature.");return}try{await sy(ki(Qn,"disclaimers"),{acknowledged:r,signature:t,timestamp:new Date}),l(""),setTimeout(()=>{s("/thank-you",{state:{type:"disclaimer"}})},2e3)}catch(w){console.error("Error submitting disclaimer:",w),l("Error submitting disclaimer. Please try again.")}};return $.jsxs(kf,{children:[$.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Disclaimer"}),$.jsx(VF,{}),$.jsxs("form",{onSubmit:d,className:"mt-4",children:[$.jsx("div",{className:"mb-4",children:$.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[$.jsx("input",{type:"checkbox",checked:r,onChange:h,className:"mr-2"}),"I acknowledge that I have read and understood the disclaimer."]})}),$.jsx("div",{className:"mb-4",children:$.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Signature",$.jsx("input",{type:"text",value:t,onChange:a,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Enter your signature"})]})}),c&&$.jsx(Cn,{message:c,type:"error"}),$.jsx(Hs,{type:"submit",className:"w-full bg-blue-500 hover:bg-blue-700 border border-blue-700",children:"Submit"})]})]})},GF=()=>$.jsx(Gn,{children:$.jsx(BF,{})});class zF extends Te.Component{constructor(n){super(n);is(this,"myRef",Ru.createRef());is(this,"myP5",null);is(this,"Sketch",n=>{const{patternType:t,patterns:o}=this.props;n.setup=()=>{n.createCanvas(n.windowWidth,n.windowHeight),n.angleMode(n.DEGREES)},n.windowResized=()=>{n.resizeCanvas(n.windowWidth,n.windowHeight)},n.draw=()=>{switch(n.clear(),n.background(0,0,0,0),t){case"sineWave":this.drawSineWaves(n,o.sineWave);break;case"chevrons":this.drawChevrons(n,o.chevrons);break;case"checkerboard":this.drawCheckerboard(n,o.checkerboard);break;default:n.text("Select a pattern",n.width/2,n.height/2)}}});is(this,"drawSineWaves",(n,{translateSpeed:t,amplitude:o,frequency:c,rotation:l,duplicates:h})=>{n.translate(n.width/2,n.height/2),n.rotate(l);for(let a=0;a<h;a++){n.beginShape();for(let d=-n.width/2;d<n.width/2;d++){const _=o*n.sin(c*(d+n.frameCount));n.vertex(d,_)}n.endShape()}});is(this,"drawChevrons",(n,t)=>{});is(this,"drawCheckerboard",(n,t)=>{})}componentDidMount(){this.myP5=new gy(this.Sketch,this.myRef.current)}componentDidUpdate(){var n;(n=this.myP5)==null||n.remove(),this.myP5=new gy(this.Sketch,this.myRef.current)}componentWillUnmount(){var n;(n=this.myP5)==null||n.remove()}render(){const{inputValue:n,setInputValue:t,keystrokes:o,setKeystrokes:c,displayText:l,setDisplayText:h}=this.props;return $.jsxs("div",{ref:this.myRef,children:[this.props.children,$.jsx($E,{displayText:l,setDisplayText:h,inputValue:n,setInputValue:t,keystrokes:o,setKeystrokes:c,placeholder:"Type here..."})]})}}const HF=()=>$.jsx(Gn,{children:$.jsx(kf,{children:$.jsxs("div",{className:"container mx-auto px-4 py-8",children:[$.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Privacy Policy"}),$.jsx("p",{className:"mb-4",children:'This Privacy Policy explains how [Your App Name] ("we", "us", "our") collects, uses, and discloses your personal data when you use our application or website.'}),$.jsx("h2",{className:"text-2xl font-semibold mt-6 mb-2",children:"1. Information We Collect"}),$.jsx("p",{className:"mb-4",children:"We collect the following types of information:"}),$.jsxs("ul",{className:"list-disc ml-6",children:[$.jsxs("li",{children:[$.jsx("strong",{children:"Personal Information:"})," This includes your name, email address, phone number, and other data that you provide directly to us when you create an account."]}),$.jsxs("li",{children:[$.jsx("strong",{children:"Usage Data:"})," We collect data on how you use the app, such as your browsing activity, preferences, and interactions with the app's features."]}),$.jsxs("li",{children:[$.jsx("strong",{children:"Cookies:"})," We use cookies and similar technologies to track your activity on our app and hold certain information."]})]}),$.jsx("h2",{className:"text-2xl font-semibold mt-6 mb-2",children:"2. How We Use Your Data"}),$.jsx("p",{className:"mb-4",children:"We use your personal data for the following purposes:"}),$.jsxs("ul",{className:"list-disc ml-6",children:[$.jsx("li",{children:"To provide and maintain our service, including user authentication and account management."}),$.jsx("li",{children:"To personalize your experience by remembering your preferences and providing tailored content."}),$.jsx("li",{children:"To send you promotional and marketing communications with your consent."})]}),$.jsx("h2",{className:"text-2xl font-semibold mt-6 mb-2",children:"3. Sharing Your Data"}),$.jsx("p",{className:"mb-4",children:"We do not share your personal information with third parties, except:"}),$.jsxs("ul",{className:"list-disc ml-6",children:[$.jsx("li",{children:"If required by law or in response to a valid legal request."}),$.jsx("li",{children:"With third-party services for analytics, marketing, and hosting our application (e.g., Google Analytics, Firebase, etc.)."})]}),$.jsx("h2",{className:"text-2xl font-semibold mt-6 mb-2",children:"4. Data Retention"}),$.jsx("p",{className:"mb-4",children:"We will retain your personal data for as long as necessary to provide the service and fulfill the purposes outlined in this policy. You can request the deletion of your data at any time (see Data Deletion section)."}),$.jsx("h2",{className:"text-2xl font-semibold mt-6 mb-2",children:"5. Security of Your Data"}),$.jsx("p",{className:"mb-4",children:"We are committed to securing your personal data and use industry-standard methods to protect it. However, no method of transmission over the internet is completely secure."}),$.jsx("h2",{className:"text-2xl font-semibold mt-6 mb-2",children:"6. Changes to This Policy"}),$.jsx("p",{className:"mb-4",children:"We may update our Privacy Policy from time to time. We will notify you of any changes by posting the new policy on this page."}),$.jsx("h2",{className:"text-2xl font-semibold mt-6 mb-2",children:"7. Contact Us"}),$.jsx("p",{className:"mb-4",children:"If you have any questions about this Privacy Policy, please contact us at [Your Contact Email]."})]})})}),qF=()=>$.jsx(Gn,{children:$.jsx(kf,{children:$.jsxs("div",{className:"container mx-auto px-4 py-8",children:[$.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Data Deletion Policy"}),$.jsx("p",{className:"mb-4",children:'This Data Deletion Policy outlines how you can request the deletion of your personal data from [Your App Name] ("we", "us", "our").'}),$.jsx("h2",{className:"text-2xl font-semibold mt-6 mb-2",children:"1. Right to Request Data Deletion"}),$.jsx("p",{className:"mb-4",children:"You have the right to request the deletion of your personal data at any time. This includes any information that you have provided to us during registration, profile updates, or any other interaction with our service."}),$.jsx("h2",{className:"text-2xl font-semibold mt-6 mb-2",children:"2. How to Request Data Deletion"}),$.jsx("p",{className:"mb-4",children:'To request the deletion of your personal data, please contact us via email at [Your Contact Email] with the subject line "Data Deletion Request". In your email, include:'}),$.jsxs("ul",{className:"list-disc ml-6",children:[$.jsx("li",{children:"Your full name"}),$.jsx("li",{children:"Your email address associated with the account"}),$.jsx("li",{children:"Any other relevant information that will help us locate your data"})]}),$.jsx("h2",{className:"text-2xl font-semibold mt-6 mb-2",children:"3. Processing Your Request"}),$.jsx("p",{className:"mb-4",children:"Once we receive your data deletion request, we will take the necessary steps to delete your personal data from our systems within 30 days. You will receive a confirmation email once your data has been deleted."}),$.jsx("h2",{className:"text-2xl font-semibold mt-6 mb-2",children:"4. Exceptions"}),$.jsx("p",{className:"mb-4",children:"In some cases, we may be required to retain certain information for legal, security, or operational reasons. For example, we may need to retain data to comply with financial regulations or to resolve disputes."}),$.jsx("h2",{className:"text-2xl font-semibold mt-6 mb-2",children:"5. Contact Us"}),$.jsx("p",{className:"mb-4",children:"If you have any questions about this Data Deletion Policy or need assistance with your request, please contact us at [Your Contact Email]."})]})})}),WF=()=>$.jsx(Gn,{children:$.jsx(kf,{children:$.jsxs("div",{className:"p-8",children:[$.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Terms of Service"}),$.jsx("p",{className:"mb-4",children:"Welcome to our application. By accessing or using our services, you agree to be bound by the following terms and conditions. Please read them carefully."}),$.jsx("h2",{className:"text-2xl font-bold mt-6 mb-2",children:"1. Acceptance of Terms"}),$.jsx("p",{className:"mb-4",children:'By using our application, you agree to comply with and be legally bound by the terms and conditions of these Terms of Service ("Terms"). These Terms apply to all visitors, users, and others who access or use the service.'}),$.jsx("h2",{className:"text-2xl font-bold mt-6 mb-2",children:"2. Modifications"}),$.jsx("p",{className:"mb-4",children:"We reserve the right, at our sole discretion, to modify or replace these Terms at any time. If a revision is material, we will notify you by email or via a notice on our service prior to the changes taking effect. What constitutes a material change will be determined at our sole discretion."}),$.jsx("h2",{className:"text-2xl font-bold mt-6 mb-2",children:"3. User Responsibilities"}),$.jsx("p",{className:"mb-4",children:"You are responsible for safeguarding the password that you use to access the service and for any activities or actions under your password. You agree not to disclose your password to any third party. You must notify us immediately upon becoming aware of any breach of security or unauthorized use of your account."}),$.jsx("h2",{className:"text-2xl font-bold mt-6 mb-2",children:"4. Prohibited Activities"}),$.jsx("p",{className:"mb-4",children:"You agree not to engage in any of the following prohibited activities:"}),$.jsxs("ul",{className:"list-disc list-inside mb-4",children:[$.jsx("li",{children:"Copying, distributing, or disclosing any part of the service in any medium."}),$.jsx("li",{children:'Using any automated system, including but not limited to "robots," "spiders," or "offline readers" to access the service.'}),$.jsx("li",{children:"Transmitting spam, chain letters, or other unsolicited email."}),$.jsx("li",{children:"Attempting to interfere with the servers or networks connected to the service."})]}),$.jsx("h2",{className:"text-2xl font-bold mt-6 mb-2",children:"5. Termination"}),$.jsx("p",{className:"mb-4",children:"We may terminate or suspend access to our service immediately, without prior notice or liability, for any reason whatsoever, including without limitation if you breach the Terms. All provisions of the Terms which by their nature should survive termination shall survive termination, including, without limitation, ownership provisions, warranty disclaimers, indemnity, and limitations of liability."}),$.jsx("h2",{className:"text-2xl font-bold mt-6 mb-2",children:"6. Limitation of Liability"}),$.jsx("p",{className:"mb-4",children:"In no event shall our company, nor its directors, employees, partners, agents, suppliers, or affiliates, be liable for any indirect, incidental, special, consequential, or punitive damages, including without limitation, loss of profits, data, use, goodwill, or other intangible losses, resulting from (i) your use or inability to use the service; (ii) any unauthorized access to or use of our servers and/or any personal information stored therein."}),$.jsx("h2",{className:"text-2xl font-bold mt-6 mb-2",children:"7. Governing Law"}),$.jsx("p",{className:"mb-4",children:"These Terms shall be governed and construed in accordance with the laws of the country in which we operate, without regard to its conflict of law provisions."}),$.jsx("h2",{className:"text-2xl font-bold mt-6 mb-2",children:"8. Contact Us"}),$.jsxs("p",{className:"mb-4",children:["If you have any questions about these Terms, please contact us at ",$.jsx("strong",{children:"support@yourapp.com"}),"."]})]})})});class KE extends Ru.Component{constructor(r){super(r),this.state={hasError:!1,error:null}}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,n){console.error("ErrorBoundary caught an error:",r,n)}render(){var r;return this.state.hasError?$.jsxs("div",{className:"max-w-md mx-auto p-4 text-center",children:[$.jsx("h2",{className:"text-2xl font-bold mb-4 text-red-500",children:"Something went wrong."}),$.jsx("p",{className:"text-gray-700",children:((r=this.state.error)==null?void 0:r.message)||"An unexpected error occurred."})]}):this.props.children}}const YF=()=>{const s=Cl(),[r,n]=Te.useState(!1),t=s.pathname==="/therapy";Te.useEffect(()=>{const c=JSON.parse(localStorage.getItem("visitedPages")||"[]");c.includes(s.pathname)||(c.push(s.pathname),localStorage.setItem("visitedPages",JSON.stringify(c)))},[s]);const o=()=>{n(c=>!c)};return $.jsxs("div",{className:"flex flex-col min-h-screen",children:[$.jsx($U,{isVisible:r,toggleSidebar:o}),!t&&$.jsx(YU,{toggleSidebar:o}),$.jsx("div",{className:"flex flex-col flex-grow w-full p-4 ml-0",children:$.jsxs(gA,{children:[$.jsx(Qr,{path:"/",element:$.jsx(AA,{})}),$.jsx(Qr,{path:"/login",element:$.jsx(AU,{})}),$.jsx(Qr,{path:"/register",element:$.jsx(IU,{})}),$.jsx(Qr,{path:"/reset-password",element:$.jsx(kU,{})}),$.jsx(Qr,{path:"/logout",element:$.jsx(HU,{})}),$.jsx(Qr,{path:"/stablehand-welcome",element:$.jsx(eF,{})}),$.jsx(Qr,{path:"/thank-you",element:$.jsx(ZU,{})}),$.jsx(Qr,{path:"/contact",element:$.jsx(tF,{})}),$.jsx(Qr,{path:"/background",element:$.jsx(rF,{})}),$.jsx(Qr,{path:"/demographics",element:$.jsx(cF,{})}),$.jsx(Qr,{path:"/medical-interview",element:$.jsx(bF,{})}),$.jsx(Qr,{path:"/parkinson-interview",element:$.jsx(SF,{})}),$.jsx(Qr,{path:"/therapy",element:$.jsx(FF,{})}),$.jsx(Qr,{path:"/progress-notes",element:$.jsx(TF,{})}),$.jsx(Qr,{path:"/setting",element:$.jsx(jF,{})}),$.jsx(Qr,{path:"/account",element:$.jsx(EF,{})}),$.jsx(Qr,{path:"/disclaimer",element:$.jsx(GF,{})}),$.jsx(Qr,{path:"/multifuncion-animation",element:$.jsx(YE,{})}),$.jsx(Qr,{path:"/shape-animation",element:$.jsx(XE,{})}),$.jsx(Qr,{path:"/background-animation",element:$.jsx(zF,{})}),$.jsx(Qr,{path:"/privacy-policy",element:$.jsx(HF,{})}),$.jsx(Qr,{path:"/data-deletion-instructions",element:$.jsx(qF,{})}),$.jsx(Qr,{path:"/terms-of-service",element:$.jsx(WF,{})})]})}),!t&&$.jsx(QU,{})]})},XF=()=>$.jsx(KE,{children:$.jsx(SA,{children:$.jsx(UE,{children:$.jsx(YF,{})})})});function $F(){const s=document.getElementById("root");s?EC.createRoot(s).render($.jsx(Ru.StrictMode,{children:$.jsx(KE,{children:$.jsx(UE,{children:$.jsx(XF,{})})})})):console.error("Root element not found")}$F();

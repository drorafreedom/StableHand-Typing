var rN=Object.defineProperty;var nN=(n,t,i)=>t in n?rN(n,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):n[t]=i;var Ui=(n,t,i)=>nN(n,typeof t!="symbol"?t+"":t,i);function iN(n,t){for(var i=0;i<t.length;i++){const r=t[i];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in n)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(n,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function i(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=i(s);fetch(s.href,o)}})();var e0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function kb(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var T1={exports:{}},mf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YT;function sN(){if(YT)return mf;YT=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,s,o){var a=null;if(o!==void 0&&(a=""+o),s.key!==void 0&&(a=""+s.key),"key"in s){o={};for(var c in s)c!=="key"&&(o[c]=s[c])}else o=s;return s=o.ref,{$$typeof:n,type:r,key:a,ref:s!==void 0?s:null,props:o}}return mf.Fragment=t,mf.jsx=i,mf.jsxs=i,mf}var $T;function aN(){return $T||($T=1,T1.exports=sN()),T1.exports}var V=aN(),E1={exports:{}},yr={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XT;function oN(){if(XT)return yr;XT=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),a=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),y=Symbol.iterator;function d(Q){return Q===null||typeof Q!="object"?null:(Q=y&&Q[y]||Q["@@iterator"],typeof Q=="function"?Q:null)}var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,g={};function v(Q,ne,re){this.props=Q,this.context=ne,this.refs=g,this.updater=re||f}v.prototype.isReactComponent={},v.prototype.setState=function(Q,ne){if(typeof Q!="object"&&typeof Q!="function"&&Q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Q,ne,"setState")},v.prototype.forceUpdate=function(Q){this.updater.enqueueForceUpdate(this,Q,"forceUpdate")};function _(){}_.prototype=v.prototype;function x(Q,ne,re){this.props=Q,this.context=ne,this.refs=g,this.updater=re||f}var w=x.prototype=new _;w.constructor=x,b(w,v.prototype),w.isPureReactComponent=!0;var S=Array.isArray,R={H:null,A:null,T:null,S:null},D=Object.prototype.hasOwnProperty;function A(Q,ne,re,I,U,H){return re=H.ref,{$$typeof:n,type:Q,key:ne,ref:re!==void 0?re:null,props:H}}function C(Q,ne){return A(Q.type,ne,void 0,void 0,void 0,Q.props)}function j(Q){return typeof Q=="object"&&Q!==null&&Q.$$typeof===n}function P(Q){var ne={"=":"=0",":":"=2"};return"$"+Q.replace(/[=:]/g,function(re){return ne[re]})}var O=/\/+/g;function L(Q,ne){return typeof Q=="object"&&Q!==null&&Q.key!=null?P(""+Q.key):ne.toString(36)}function N(){}function q(Q){switch(Q.status){case"fulfilled":return Q.value;case"rejected":throw Q.reason;default:switch(typeof Q.status=="string"?Q.then(N,N):(Q.status="pending",Q.then(function(ne){Q.status==="pending"&&(Q.status="fulfilled",Q.value=ne)},function(ne){Q.status==="pending"&&(Q.status="rejected",Q.reason=ne)})),Q.status){case"fulfilled":return Q.value;case"rejected":throw Q.reason}}throw Q}function W(Q,ne,re,I,U){var H=typeof Q;(H==="undefined"||H==="boolean")&&(Q=null);var X=!1;if(Q===null)X=!0;else switch(H){case"bigint":case"string":case"number":X=!0;break;case"object":switch(Q.$$typeof){case n:case t:X=!0;break;case p:return X=Q._init,W(X(Q._payload),ne,re,I,U)}}if(X)return U=U(Q),X=I===""?"."+L(Q,0):I,S(U)?(re="",X!=null&&(re=X.replace(O,"$&/")+"/"),W(U,ne,re,"",function(he){return he})):U!=null&&(j(U)&&(U=C(U,re+(U.key==null||Q&&Q.key===U.key?"":(""+U.key).replace(O,"$&/")+"/")+X)),ne.push(U)),1;X=0;var ae=I===""?".":I+":";if(S(Q))for(var le=0;le<Q.length;le++)I=Q[le],H=ae+L(I,le),X+=W(I,ne,re,H,U);else if(le=d(Q),typeof le=="function")for(Q=le.call(Q),le=0;!(I=Q.next()).done;)I=I.value,H=ae+L(I,le++),X+=W(I,ne,re,H,U);else if(H==="object"){if(typeof Q.then=="function")return W(q(Q),ne,re,I,U);throw ne=String(Q),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(Q).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return X}function Y(Q,ne,re){if(Q==null)return Q;var I=[],U=0;return W(Q,I,"","",function(H){return ne.call(re,H,U++)}),I}function J(Q){if(Q._status===-1){var ne=Q._result;ne=ne(),ne.then(function(re){(Q._status===0||Q._status===-1)&&(Q._status=1,Q._result=re)},function(re){(Q._status===0||Q._status===-1)&&(Q._status=2,Q._result=re)}),Q._status===-1&&(Q._status=0,Q._result=ne)}if(Q._status===1)return Q._result.default;throw Q._result}var te=typeof reportError=="function"?reportError:function(Q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Q=="object"&&Q!==null&&typeof Q.message=="string"?String(Q.message):String(Q),error:Q});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Q);return}console.error(Q)};function ee(){}return yr.Children={map:Y,forEach:function(Q,ne,re){Y(Q,function(){ne.apply(this,arguments)},re)},count:function(Q){var ne=0;return Y(Q,function(){ne++}),ne},toArray:function(Q){return Y(Q,function(ne){return ne})||[]},only:function(Q){if(!j(Q))throw Error("React.Children.only expected to receive a single React element child.");return Q}},yr.Component=v,yr.Fragment=i,yr.Profiler=s,yr.PureComponent=x,yr.StrictMode=r,yr.Suspense=l,yr.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,yr.act=function(){throw Error("act(...) is not supported in production builds of React.")},yr.cache=function(Q){return function(){return Q.apply(null,arguments)}},yr.cloneElement=function(Q,ne,re){if(Q==null)throw Error("The argument must be a React element, but you passed "+Q+".");var I=b({},Q.props),U=Q.key,H=void 0;if(ne!=null)for(X in ne.ref!==void 0&&(H=void 0),ne.key!==void 0&&(U=""+ne.key),ne)!D.call(ne,X)||X==="key"||X==="__self"||X==="__source"||X==="ref"&&ne.ref===void 0||(I[X]=ne[X]);var X=arguments.length-2;if(X===1)I.children=re;else if(1<X){for(var ae=Array(X),le=0;le<X;le++)ae[le]=arguments[le+2];I.children=ae}return A(Q.type,U,void 0,void 0,H,I)},yr.createContext=function(Q){return Q={$$typeof:a,_currentValue:Q,_currentValue2:Q,_threadCount:0,Provider:null,Consumer:null},Q.Provider=Q,Q.Consumer={$$typeof:o,_context:Q},Q},yr.createElement=function(Q,ne,re){var I,U={},H=null;if(ne!=null)for(I in ne.key!==void 0&&(H=""+ne.key),ne)D.call(ne,I)&&I!=="key"&&I!=="__self"&&I!=="__source"&&(U[I]=ne[I]);var X=arguments.length-2;if(X===1)U.children=re;else if(1<X){for(var ae=Array(X),le=0;le<X;le++)ae[le]=arguments[le+2];U.children=ae}if(Q&&Q.defaultProps)for(I in X=Q.defaultProps,X)U[I]===void 0&&(U[I]=X[I]);return A(Q,H,void 0,void 0,null,U)},yr.createRef=function(){return{current:null}},yr.forwardRef=function(Q){return{$$typeof:c,render:Q}},yr.isValidElement=j,yr.lazy=function(Q){return{$$typeof:p,_payload:{_status:-1,_result:Q},_init:J}},yr.memo=function(Q,ne){return{$$typeof:u,type:Q,compare:ne===void 0?null:ne}},yr.startTransition=function(Q){var ne=R.T,re={};R.T=re;try{var I=Q(),U=R.S;U!==null&&U(re,I),typeof I=="object"&&I!==null&&typeof I.then=="function"&&I.then(ee,te)}catch(H){te(H)}finally{R.T=ne}},yr.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},yr.use=function(Q){return R.H.use(Q)},yr.useActionState=function(Q,ne,re){return R.H.useActionState(Q,ne,re)},yr.useCallback=function(Q,ne){return R.H.useCallback(Q,ne)},yr.useContext=function(Q){return R.H.useContext(Q)},yr.useDebugValue=function(){},yr.useDeferredValue=function(Q,ne){return R.H.useDeferredValue(Q,ne)},yr.useEffect=function(Q,ne){return R.H.useEffect(Q,ne)},yr.useId=function(){return R.H.useId()},yr.useImperativeHandle=function(Q,ne,re){return R.H.useImperativeHandle(Q,ne,re)},yr.useInsertionEffect=function(Q,ne){return R.H.useInsertionEffect(Q,ne)},yr.useLayoutEffect=function(Q,ne){return R.H.useLayoutEffect(Q,ne)},yr.useMemo=function(Q,ne){return R.H.useMemo(Q,ne)},yr.useOptimistic=function(Q,ne){return R.H.useOptimistic(Q,ne)},yr.useReducer=function(Q,ne,re){return R.H.useReducer(Q,ne,re)},yr.useRef=function(Q){return R.H.useRef(Q)},yr.useState=function(Q){return R.H.useState(Q)},yr.useSyncExternalStore=function(Q,ne,re){return R.H.useSyncExternalStore(Q,ne,re)},yr.useTransition=function(){return R.H.useTransition()},yr.version="19.0.0",yr}var KT;function jp(){return KT||(KT=1,E1.exports=oN()),E1.exports}var Ee=jp();const fd=kb(Ee),A_=iN({__proto__:null,default:fd},[Ee]);var C1={exports:{}},gf={},A1={exports:{}},j1={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QT;function lN(){return QT||(QT=1,function(n){function t(Y,J){var te=Y.length;Y.push(J);e:for(;0<te;){var ee=te-1>>>1,Q=Y[ee];if(0<s(Q,J))Y[ee]=J,Y[te]=Q,te=ee;else break e}}function i(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var J=Y[0],te=Y.pop();if(te!==J){Y[0]=te;e:for(var ee=0,Q=Y.length,ne=Q>>>1;ee<ne;){var re=2*(ee+1)-1,I=Y[re],U=re+1,H=Y[U];if(0>s(I,te))U<Q&&0>s(H,I)?(Y[ee]=H,Y[U]=te,ee=U):(Y[ee]=I,Y[re]=te,ee=re);else if(U<Q&&0>s(H,te))Y[ee]=H,Y[U]=te,ee=U;else break e}}return J}function s(Y,J){var te=Y.sortIndex-J.sortIndex;return te!==0?te:Y.id-J.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var a=Date,c=a.now();n.unstable_now=function(){return a.now()-c}}var l=[],u=[],p=1,y=null,d=3,f=!1,b=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;function w(Y){for(var J=i(u);J!==null;){if(J.callback===null)r(u);else if(J.startTime<=Y)r(u),J.sortIndex=J.expirationTime,t(l,J);else break;J=i(u)}}function S(Y){if(g=!1,w(Y),!b)if(i(l)!==null)b=!0,q();else{var J=i(u);J!==null&&W(S,J.startTime-Y)}}var R=!1,D=-1,A=5,C=-1;function j(){return!(n.unstable_now()-C<A)}function P(){if(R){var Y=n.unstable_now();C=Y;var J=!0;try{e:{b=!1,g&&(g=!1,_(D),D=-1),f=!0;var te=d;try{t:{for(w(Y),y=i(l);y!==null&&!(y.expirationTime>Y&&j());){var ee=y.callback;if(typeof ee=="function"){y.callback=null,d=y.priorityLevel;var Q=ee(y.expirationTime<=Y);if(Y=n.unstable_now(),typeof Q=="function"){y.callback=Q,w(Y),J=!0;break t}y===i(l)&&r(l),w(Y)}else r(l);y=i(l)}if(y!==null)J=!0;else{var ne=i(u);ne!==null&&W(S,ne.startTime-Y),J=!1}}break e}finally{y=null,d=te,f=!1}J=void 0}}finally{J?O():R=!1}}}var O;if(typeof x=="function")O=function(){x(P)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,N=L.port2;L.port1.onmessage=P,O=function(){N.postMessage(null)}}else O=function(){v(P,0)};function q(){R||(R=!0,O())}function W(Y,J){D=v(function(){Y(n.unstable_now())},J)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Y){Y.callback=null},n.unstable_continueExecution=function(){b||f||(b=!0,q())},n.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<Y?Math.floor(1e3/Y):5},n.unstable_getCurrentPriorityLevel=function(){return d},n.unstable_getFirstCallbackNode=function(){return i(l)},n.unstable_next=function(Y){switch(d){case 1:case 2:case 3:var J=3;break;default:J=d}var te=d;d=J;try{return Y()}finally{d=te}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(Y,J){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var te=d;d=Y;try{return J()}finally{d=te}},n.unstable_scheduleCallback=function(Y,J,te){var ee=n.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?ee+te:ee):te=ee,Y){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=te+Q,Y={id:p++,callback:J,priorityLevel:Y,startTime:te,expirationTime:Q,sortIndex:-1},te>ee?(Y.sortIndex=te,t(u,Y),i(l)===null&&Y===i(u)&&(g?(_(D),D=-1):g=!0,W(S,te-ee))):(Y.sortIndex=Q,t(l,Y),b||f||(b=!0,q())),Y},n.unstable_shouldYield=j,n.unstable_wrapCallback=function(Y){var J=d;return function(){var te=d;d=J;try{return Y.apply(this,arguments)}finally{d=te}}}}(j1)),j1}var ZT;function cN(){return ZT||(ZT=1,A1.exports=lN()),A1.exports}var R1={exports:{}},ts={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JT;function uN(){if(JT)return ts;JT=1;var n=jp();function t(l){var u="https://react.dev/errors/"+l;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)u+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(l,u,p){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:y==null?null:""+y,children:l,containerInfo:u,implementation:p}}var a=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(l,u){if(l==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return ts.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ts.createPortal=function(l,u){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(t(299));return o(l,u,null,p)},ts.flushSync=function(l){var u=a.T,p=r.p;try{if(a.T=null,r.p=2,l)return l()}finally{a.T=u,r.p=p,r.d.f()}},ts.preconnect=function(l,u){typeof l=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,r.d.C(l,u))},ts.prefetchDNS=function(l){typeof l=="string"&&r.d.D(l)},ts.preinit=function(l,u){if(typeof l=="string"&&u&&typeof u.as=="string"){var p=u.as,y=c(p,u.crossOrigin),d=typeof u.integrity=="string"?u.integrity:void 0,f=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;p==="style"?r.d.S(l,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:y,integrity:d,fetchPriority:f}):p==="script"&&r.d.X(l,{crossOrigin:y,integrity:d,fetchPriority:f,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},ts.preinitModule=function(l,u){if(typeof l=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var p=c(u.as,u.crossOrigin);r.d.M(l,{crossOrigin:p,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&r.d.M(l)},ts.preload=function(l,u){if(typeof l=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var p=u.as,y=c(p,u.crossOrigin);r.d.L(l,p,{crossOrigin:y,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},ts.preloadModule=function(l,u){if(typeof l=="string")if(u){var p=c(u.as,u.crossOrigin);r.d.m(l,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:p,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else r.d.m(l)},ts.requestFormReset=function(l){r.d.r(l)},ts.unstable_batchedUpdates=function(l,u){return l(u)},ts.useFormState=function(l,u,p){return a.H.useFormState(l,u,p)},ts.useFormStatus=function(){return a.H.useHostTransitionStatus()},ts.version="19.0.0",ts}var eE;function sR(){if(eE)return R1.exports;eE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),R1.exports=uN(),R1.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tE;function hN(){if(tE)return gf;tE=1;var n=cN(),t=jp(),i=sR();function r(h){var m="https://react.dev/errors/"+h;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)m+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+h+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(h){return!(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)}var o=Symbol.for("react.element"),a=Symbol.for("react.transitional.element"),c=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),y=Symbol.for("react.provider"),d=Symbol.for("react.consumer"),f=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),v=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),w=Symbol.for("react.offscreen"),S=Symbol.for("react.memo_cache_sentinel"),R=Symbol.iterator;function D(h){return h===null||typeof h!="object"?null:(h=R&&h[R]||h["@@iterator"],typeof h=="function"?h:null)}var A=Symbol.for("react.client.reference");function C(h){if(h==null)return null;if(typeof h=="function")return h.$$typeof===A?null:h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case l:return"Fragment";case c:return"Portal";case p:return"Profiler";case u:return"StrictMode";case g:return"Suspense";case v:return"SuspenseList"}if(typeof h=="object")switch(h.$$typeof){case f:return(h.displayName||"Context")+".Provider";case d:return(h._context.displayName||"Context")+".Consumer";case b:var m=h.render;return h=h.displayName,h||(h=m.displayName||m.name||"",h=h!==""?"ForwardRef("+h+")":"ForwardRef"),h;case _:return m=h.displayName||null,m!==null?m:C(h.type)||"Memo";case x:m=h._payload,h=h._init;try{return C(h(m))}catch{}}return null}var j=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,P=Object.assign,O,L;function N(h){if(O===void 0)try{throw Error()}catch(T){var m=T.stack.trim().match(/\n( *(at )?)/);O=m&&m[1]||"",L=-1<T.stack.indexOf(`
    at`)?" (<anonymous>)":-1<T.stack.indexOf("@")?"@unknown:0:0":""}return`
`+O+h+L}var q=!1;function W(h,m){if(!h||q)return"";q=!0;var T=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var k={DetermineComponentFrameRoot:function(){try{if(m){var Ot=function(){throw Error()};if(Object.defineProperty(Ot.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ot,[])}catch(_t){var ut=_t}Reflect.construct(h,[],Ot)}else{try{Ot.call()}catch(_t){ut=_t}h.call(Ot.prototype)}}else{try{throw Error()}catch(_t){ut=_t}(Ot=h())&&typeof Ot.catch=="function"&&Ot.catch(function(){})}}catch(_t){if(_t&&ut&&typeof _t.stack=="string")return[_t.stack,ut.stack]}return[null,null]}};k.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var G=Object.getOwnPropertyDescriptor(k.DetermineComponentFrameRoot,"name");G&&G.configurable&&Object.defineProperty(k.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var K=k.DetermineComponentFrameRoot(),fe=K[0],Ce=K[1];if(fe&&Ce){var ze=fe.split(`
`),et=Ce.split(`
`);for(G=k=0;k<ze.length&&!ze[k].includes("DetermineComponentFrameRoot");)k++;for(;G<et.length&&!et[G].includes("DetermineComponentFrameRoot");)G++;if(k===ze.length||G===et.length)for(k=ze.length-1,G=et.length-1;1<=k&&0<=G&&ze[k]!==et[G];)G--;for(;1<=k&&0<=G;k--,G--)if(ze[k]!==et[G]){if(k!==1||G!==1)do if(k--,G--,0>G||ze[k]!==et[G]){var wt=`
`+ze[k].replace(" at new "," at ");return h.displayName&&wt.includes("<anonymous>")&&(wt=wt.replace("<anonymous>",h.displayName)),wt}while(1<=k&&0<=G);break}}}finally{q=!1,Error.prepareStackTrace=T}return(T=h?h.displayName||h.name:"")?N(T):""}function Y(h){switch(h.tag){case 26:case 27:case 5:return N(h.type);case 16:return N("Lazy");case 13:return N("Suspense");case 19:return N("SuspenseList");case 0:case 15:return h=W(h.type,!1),h;case 11:return h=W(h.type.render,!1),h;case 1:return h=W(h.type,!0),h;default:return""}}function J(h){try{var m="";do m+=Y(h),h=h.return;while(h);return m}catch(T){return`
Error generating stack: `+T.message+`
`+T.stack}}function te(h){var m=h,T=h;if(h.alternate)for(;m.return;)m=m.return;else{h=m;do m=h,m.flags&4098&&(T=m.return),h=m.return;while(h)}return m.tag===3?T:null}function ee(h){if(h.tag===13){var m=h.memoizedState;if(m===null&&(h=h.alternate,h!==null&&(m=h.memoizedState)),m!==null)return m.dehydrated}return null}function Q(h){if(te(h)!==h)throw Error(r(188))}function ne(h){var m=h.alternate;if(!m){if(m=te(h),m===null)throw Error(r(188));return m!==h?null:h}for(var T=h,k=m;;){var G=T.return;if(G===null)break;var K=G.alternate;if(K===null){if(k=G.return,k!==null){T=k;continue}break}if(G.child===K.child){for(K=G.child;K;){if(K===T)return Q(G),h;if(K===k)return Q(G),m;K=K.sibling}throw Error(r(188))}if(T.return!==k.return)T=G,k=K;else{for(var fe=!1,Ce=G.child;Ce;){if(Ce===T){fe=!0,T=G,k=K;break}if(Ce===k){fe=!0,k=G,T=K;break}Ce=Ce.sibling}if(!fe){for(Ce=K.child;Ce;){if(Ce===T){fe=!0,T=K,k=G;break}if(Ce===k){fe=!0,k=K,T=G;break}Ce=Ce.sibling}if(!fe)throw Error(r(189))}}if(T.alternate!==k)throw Error(r(190))}if(T.tag!==3)throw Error(r(188));return T.stateNode.current===T?h:m}function re(h){var m=h.tag;if(m===5||m===26||m===27||m===6)return h;for(h=h.child;h!==null;){if(m=re(h),m!==null)return m;h=h.sibling}return null}var I=Array.isArray,U=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H={pending:!1,data:null,method:null,action:null},X=[],ae=-1;function le(h){return{current:h}}function he(h){0>ae||(h.current=X[ae],X[ae]=null,ae--)}function ye(h,m){ae++,X[ae]=h.current,h.current=m}var me=le(null),xe=le(null),Se=le(null),pe=le(null);function Te(h,m){switch(ye(Se,m),ye(xe,h),ye(me,null),h=m.nodeType,h){case 9:case 11:m=(m=m.documentElement)&&(m=m.namespaceURI)?wT(m):0;break;default:if(h=h===8?m.parentNode:m,m=h.tagName,h=h.namespaceURI)h=wT(h),m=ST(h,m);else switch(m){case"svg":m=1;break;case"math":m=2;break;default:m=0}}he(me),ye(me,m)}function ke(){he(me),he(xe),he(Se)}function Me(h){h.memoizedState!==null&&ye(pe,h);var m=me.current,T=ST(m,h.type);m!==T&&(ye(xe,h),ye(me,T))}function Ne(h){xe.current===h&&(he(me),he(xe)),pe.current===h&&(he(pe),uf._currentValue=H)}var Ve=Object.prototype.hasOwnProperty,Xe=n.unstable_scheduleCallback,ht=n.unstable_cancelCallback,Ke=n.unstable_shouldYield,jt=n.unstable_requestPaint,bt=n.unstable_now,gt=n.unstable_getCurrentPriorityLevel,Tt=n.unstable_ImmediatePriority,St=n.unstable_UserBlockingPriority,$e=n.unstable_NormalPriority,dt=n.unstable_LowPriority,Ge=n.unstable_IdlePriority,de=n.log,ge=n.unstable_setDisableYieldValue,ce=null,we=null;function He(h){if(we&&typeof we.onCommitFiberRoot=="function")try{we.onCommitFiberRoot(ce,h,void 0,(h.current.flags&128)===128)}catch{}}function We(h){if(typeof de=="function"&&ge(h),we&&typeof we.setStrictMode=="function")try{we.setStrictMode(ce,h)}catch{}}var rt=Math.clz32?Math.clz32:Pt,Et=Math.log,It=Math.LN2;function Pt(h){return h>>>=0,h===0?32:31-(Et(h)/It|0)|0}var Dt=128,Qt=4194304;function Gt(h){var m=h&42;if(m!==0)return m;switch(h&-h){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return h&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return h}}function Ft(h,m){var T=h.pendingLanes;if(T===0)return 0;var k=0,G=h.suspendedLanes,K=h.pingedLanes,fe=h.warmLanes;h=h.finishedLanes!==0;var Ce=T&134217727;return Ce!==0?(T=Ce&~G,T!==0?k=Gt(T):(K&=Ce,K!==0?k=Gt(K):h||(fe=Ce&~fe,fe!==0&&(k=Gt(fe))))):(Ce=T&~G,Ce!==0?k=Gt(Ce):K!==0?k=Gt(K):h||(fe=T&~fe,fe!==0&&(k=Gt(fe)))),k===0?0:m!==0&&m!==k&&!(m&G)&&(G=k&-k,fe=m&-m,G>=fe||G===32&&(fe&4194176)!==0)?m:k}function Xt(h,m){return(h.pendingLanes&~(h.suspendedLanes&~h.pingedLanes)&m)===0}function Wt(h,m){switch(h){case 1:case 2:case 4:case 8:return m+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mr(){var h=Dt;return Dt<<=1,!(Dt&4194176)&&(Dt=128),h}function pn(){var h=Qt;return Qt<<=1,!(Qt&62914560)&&(Qt=4194304),h}function Jr(h){for(var m=[],T=0;31>T;T++)m.push(h);return m}function rr(h,m){h.pendingLanes|=m,m!==268435456&&(h.suspendedLanes=0,h.pingedLanes=0,h.warmLanes=0)}function Fr(h,m,T,k,G,K){var fe=h.pendingLanes;h.pendingLanes=T,h.suspendedLanes=0,h.pingedLanes=0,h.warmLanes=0,h.expiredLanes&=T,h.entangledLanes&=T,h.errorRecoveryDisabledLanes&=T,h.shellSuspendCounter=0;var Ce=h.entanglements,ze=h.expirationTimes,et=h.hiddenUpdates;for(T=fe&~T;0<T;){var wt=31-rt(T),Ot=1<<wt;Ce[wt]=0,ze[wt]=-1;var ut=et[wt];if(ut!==null)for(et[wt]=null,wt=0;wt<ut.length;wt++){var _t=ut[wt];_t!==null&&(_t.lane&=-536870913)}T&=~Ot}k!==0&&hr(h,k,0),K!==0&&G===0&&h.tag!==0&&(h.suspendedLanes|=K&~(fe&~m))}function hr(h,m,T){h.pendingLanes|=m,h.suspendedLanes&=~m;var k=31-rt(m);h.entangledLanes|=m,h.entanglements[k]=h.entanglements[k]|1073741824|T&4194218}function on(h,m){var T=h.entangledLanes|=m;for(h=h.entanglements;T;){var k=31-rt(T),G=1<<k;G&m|h[k]&m&&(h[k]|=m),T&=~G}}function xn(h){return h&=-h,2<h?8<h?h&134217727?32:268435456:8:2}function jr(){var h=U.p;return h!==0?h:(h=window.event,h===void 0?32:VT(h.type))}function _e(h,m){var T=U.p;try{return U.p=h,m()}finally{U.p=T}}var Pe=Math.random().toString(36).slice(2),Ae="__reactFiber$"+Pe,Ie="__reactProps$"+Pe,De="__reactContainer$"+Pe,Le="__reactEvents$"+Pe,ot="__reactListeners$"+Pe,be="__reactHandles$"+Pe,Fe="__reactResources$"+Pe,qe="__reactMarker$"+Pe;function Be(h){delete h[Ae],delete h[Ie],delete h[Le],delete h[ot],delete h[be]}function ft(h){var m=h[Ae];if(m)return m;for(var T=h.parentNode;T;){if(m=T[De]||T[Ae]){if(T=m.alternate,m.child!==null||T!==null&&T.child!==null)for(h=CT(h);h!==null;){if(T=h[Ae])return T;h=CT(h)}return m}h=T,T=h.parentNode}return null}function Qe(h){if(h=h[Ae]||h[De]){var m=h.tag;if(m===5||m===6||m===13||m===26||m===27||m===3)return h}return null}function At(h){var m=h.tag;if(m===5||m===26||m===27||m===6)return h.stateNode;throw Error(r(33))}function nt(h){var m=h[Fe];return m||(m=h[Fe]={hoistableStyles:new Map,hoistableScripts:new Map}),m}function mt(h){h[qe]=!0}var vt=new Set,ir={};function Zt(h,m){nr(h,m),nr(h+"Capture",m)}function nr(h,m){for(ir[h]=m,h=0;h<m.length;h++)vt.add(m[h])}var br=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wn={},jn={};function mn(h){return Ve.call(jn,h)?!0:Ve.call(wn,h)?!1:Qn.test(h)?jn[h]=!0:(wn[h]=!0,!1)}function Hn(h,m,T){if(mn(m))if(T===null)h.removeAttribute(m);else{switch(typeof T){case"undefined":case"function":case"symbol":h.removeAttribute(m);return;case"boolean":var k=m.toLowerCase().slice(0,5);if(k!=="data-"&&k!=="aria-"){h.removeAttribute(m);return}}h.setAttribute(m,""+T)}}function Zn(h,m,T){if(T===null)h.removeAttribute(m);else{switch(typeof T){case"undefined":case"function":case"symbol":case"boolean":h.removeAttribute(m);return}h.setAttribute(m,""+T)}}function mi(h,m,T,k){if(k===null)h.removeAttribute(T);else{switch(typeof k){case"undefined":case"function":case"symbol":case"boolean":h.removeAttribute(T);return}h.setAttributeNS(m,T,""+k)}}function Jn(h){switch(typeof h){case"bigint":case"boolean":case"number":case"string":case"undefined":return h;case"object":return h;default:return""}}function Ic(h){var m=h.type;return(h=h.nodeName)&&h.toLowerCase()==="input"&&(m==="checkbox"||m==="radio")}function Ku(h){var m=Ic(h)?"checked":"value",T=Object.getOwnPropertyDescriptor(h.constructor.prototype,m),k=""+h[m];if(!h.hasOwnProperty(m)&&typeof T<"u"&&typeof T.get=="function"&&typeof T.set=="function"){var G=T.get,K=T.set;return Object.defineProperty(h,m,{configurable:!0,get:function(){return G.call(this)},set:function(fe){k=""+fe,K.call(this,fe)}}),Object.defineProperty(h,m,{enumerable:T.enumerable}),{getValue:function(){return k},setValue:function(fe){k=""+fe},stopTracking:function(){h._valueTracker=null,delete h[m]}}}}function ro(h){h._valueTracker||(h._valueTracker=Ku(h))}function Io(h){if(!h)return!1;var m=h._valueTracker;if(!m)return!0;var T=m.getValue(),k="";return h&&(k=Ic(h)?h.checked?"true":"false":h.value),h=k,h!==T?(m.setValue(h),!0):!1}function ko(h){if(h=h||(typeof document<"u"?document:void 0),typeof h>"u")return null;try{return h.activeElement||h.body}catch{return h.body}}var oa=/[\n"\\]/g;function Sn(h){return h.replace(oa,function(m){return"\\"+m.charCodeAt(0).toString(16)+" "})}function no(h,m,T,k,G,K,fe,Ce){h.name="",fe!=null&&typeof fe!="function"&&typeof fe!="symbol"&&typeof fe!="boolean"?h.type=fe:h.removeAttribute("type"),m!=null?fe==="number"?(m===0&&h.value===""||h.value!=m)&&(h.value=""+Jn(m)):h.value!==""+Jn(m)&&(h.value=""+Jn(m)):fe!=="submit"&&fe!=="reset"||h.removeAttribute("value"),m!=null?Mo(h,fe,Jn(m)):T!=null?Mo(h,fe,Jn(T)):k!=null&&h.removeAttribute("value"),G==null&&K!=null&&(h.defaultChecked=!!K),G!=null&&(h.checked=G&&typeof G!="function"&&typeof G!="symbol"),Ce!=null&&typeof Ce!="function"&&typeof Ce!="symbol"&&typeof Ce!="boolean"?h.name=""+Jn(Ce):h.removeAttribute("name")}function Ma(h,m,T,k,G,K,fe,Ce){if(K!=null&&typeof K!="function"&&typeof K!="symbol"&&typeof K!="boolean"&&(h.type=K),m!=null||T!=null){if(!(K!=="submit"&&K!=="reset"||m!=null))return;T=T!=null?""+Jn(T):"",m=m!=null?""+Jn(m):T,Ce||m===h.value||(h.value=m),h.defaultValue=m}k=k??G,k=typeof k!="function"&&typeof k!="symbol"&&!!k,h.checked=Ce?h.checked:!!k,h.defaultChecked=!!k,fe!=null&&typeof fe!="function"&&typeof fe!="symbol"&&typeof fe!="boolean"&&(h.name=fe)}function Mo(h,m,T){m==="number"&&ko(h.ownerDocument)===h||h.defaultValue===""+T||(h.defaultValue=""+T)}function Rr(h,m,T,k){if(h=h.options,m){m={};for(var G=0;G<T.length;G++)m["$"+T[G]]=!0;for(T=0;T<h.length;T++)G=m.hasOwnProperty("$"+h[T].value),h[T].selected!==G&&(h[T].selected=G),G&&k&&(h[T].defaultSelected=!0)}else{for(T=""+Jn(T),m=null,G=0;G<h.length;G++){if(h[G].value===T){h[G].selected=!0,k&&(h[G].defaultSelected=!0);return}m!==null||h[G].disabled||(m=h[G])}m!==null&&(m.selected=!0)}}function la(h,m,T){if(m!=null&&(m=""+Jn(m),m!==h.value&&(h.value=m),T==null)){h.defaultValue!==m&&(h.defaultValue=m);return}h.defaultValue=T!=null?""+Jn(T):""}function Vs(h,m,T,k){if(m==null){if(k!=null){if(T!=null)throw Error(r(92));if(I(k)){if(1<k.length)throw Error(r(93));k=k[0]}T=k}T==null&&(T=""),m=T}T=Jn(m),h.defaultValue=T,k=h.textContent,k===T&&k!==""&&k!==null&&(h.value=k)}function In(h,m){if(m){var T=h.firstChild;if(T&&T===h.lastChild&&T.nodeType===3){T.nodeValue=m;return}}h.textContent=m}var Qu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Pl(h,m,T){var k=m.indexOf("--")===0;T==null||typeof T=="boolean"||T===""?k?h.setProperty(m,""):m==="float"?h.cssFloat="":h[m]="":k?h.setProperty(m,T):typeof T!="number"||T===0||Qu.has(m)?m==="float"?h.cssFloat=T:h[m]=(""+T).trim():h[m]=T+"px"}function Pa(h,m,T){if(m!=null&&typeof m!="object")throw Error(r(62));if(h=h.style,T!=null){for(var k in T)!T.hasOwnProperty(k)||m!=null&&m.hasOwnProperty(k)||(k.indexOf("--")===0?h.setProperty(k,""):k==="float"?h.cssFloat="":h[k]="");for(var G in m)k=m[G],m.hasOwnProperty(G)&&T[G]!==k&&Pl(h,G,k)}else for(var K in m)m.hasOwnProperty(K)&&Pl(h,K,m[K])}function Dl(h){if(h.indexOf("-")===-1)return!1;switch(h){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Id=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),kc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Gs(h){return kc.test(""+h)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":h}var Es=null;function Po(h){return h=h.target||h.srcElement||window,h.correspondingUseElement&&(h=h.correspondingUseElement),h.nodeType===3?h.parentNode:h}var ca=null,Da=null;function ua(h){var m=Qe(h);if(m&&(h=m.stateNode)){var T=h[Ie]||null;e:switch(h=m.stateNode,m.type){case"input":if(no(h,T.value,T.defaultValue,T.defaultValue,T.checked,T.defaultChecked,T.type,T.name),m=T.name,T.type==="radio"&&m!=null){for(T=h;T.parentNode;)T=T.parentNode;for(T=T.querySelectorAll('input[name="'+Sn(""+m)+'"][type="radio"]'),m=0;m<T.length;m++){var k=T[m];if(k!==h&&k.form===h.form){var G=k[Ie]||null;if(!G)throw Error(r(90));no(k,G.value,G.defaultValue,G.defaultValue,G.checked,G.defaultChecked,G.type,G.name)}}for(m=0;m<T.length;m++)k=T[m],k.form===h.form&&Io(k)}break e;case"textarea":la(h,T.value,T.defaultValue);break e;case"select":m=T.value,m!=null&&Rr(h,!!T.multiple,m,!1)}}}var Mc=!1;function Zu(h,m,T){if(Mc)return h(m,T);Mc=!0;try{var k=h(m);return k}finally{if(Mc=!1,(ca!==null||Da!==null)&&(Pm(),ca&&(m=ca,h=Da,Da=ca=null,ua(m),h)))for(m=0;m<h.length;m++)ua(h[m])}}function Do(h,m){var T=h.stateNode;if(T===null)return null;var k=T[Ie]||null;if(k===null)return null;T=k[m];e:switch(m){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(k=!k.disabled)||(h=h.type,k=!(h==="button"||h==="input"||h==="select"||h==="textarea")),h=!k;break e;default:h=!1}if(h)return null;if(T&&typeof T!="function")throw Error(r(231,m,typeof T));return T}var Cs=!1;if(br)try{var io={};Object.defineProperty(io,"passive",{get:function(){Cs=!0}}),window.addEventListener("test",io,io),window.removeEventListener("test",io,io)}catch{Cs=!1}var Wn=null,Si=null,fs=null;function Na(){if(fs)return fs;var h,m=Si,T=m.length,k,G="value"in Wn?Wn.value:Wn.textContent,K=G.length;for(h=0;h<T&&m[h]===G[h];h++);var fe=T-h;for(k=1;k<=fe&&m[T-k]===G[K-k];k++);return fs=G.slice(h,1<k?1-k:void 0)}function ei(h){var m=h.keyCode;return"charCode"in h?(h=h.charCode,h===0&&m===13&&(h=13)):h=m,h===10&&(h=13),32<=h||h===13?h:0}function Zi(){return!0}function Pc(){return!1}function gn(h){function m(T,k,G,K,fe){this._reactName=T,this._targetInst=G,this.type=k,this.nativeEvent=K,this.target=fe,this.currentTarget=null;for(var Ce in h)h.hasOwnProperty(Ce)&&(T=h[Ce],this[Ce]=T?T(K):K[Ce]);return this.isDefaultPrevented=(K.defaultPrevented!=null?K.defaultPrevented:K.returnValue===!1)?Zi:Pc,this.isPropagationStopped=Pc,this}return P(m.prototype,{preventDefault:function(){this.defaultPrevented=!0;var T=this.nativeEvent;T&&(T.preventDefault?T.preventDefault():typeof T.returnValue!="unknown"&&(T.returnValue=!1),this.isDefaultPrevented=Zi)},stopPropagation:function(){var T=this.nativeEvent;T&&(T.stopPropagation?T.stopPropagation():typeof T.cancelBubble!="unknown"&&(T.cancelBubble=!0),this.isPropagationStopped=Zi)},persist:function(){},isPersistent:Zi}),m}var Or={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(h){return h.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},No=gn(Or),so=P({},Or,{view:0,detail:0}),Dc=gn(so),Lo,Fo,zs,La=P({},so,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vt,button:0,buttons:0,relatedTarget:function(h){return h.relatedTarget===void 0?h.fromElement===h.srcElement?h.toElement:h.fromElement:h.relatedTarget},movementX:function(h){return"movementX"in h?h.movementX:(h!==zs&&(zs&&h.type==="mousemove"?(Lo=h.screenX-zs.screenX,Fo=h.screenY-zs.screenY):Fo=Lo=0,zs=h),Lo)},movementY:function(h){return"movementY"in h?h.movementY:Fo}}),ps=gn(La),Nc=P({},La,{dataTransfer:0}),Ju=gn(Nc),ao=P({},so,{relatedTarget:0}),Uo=gn(ao),Nl=P({},Or,{animationName:0,elapsedTime:0,pseudoElement:0}),Bo=gn(Nl),Lc=P({},Or,{clipboardData:function(h){return"clipboardData"in h?h.clipboardData:window.clipboardData}}),Vo=gn(Lc),Fc=P({},Or,{data:0}),oo=gn(Fc),Fa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Uc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hs={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function As(h){var m=this.nativeEvent;return m.getModifierState?m.getModifierState(h):(h=Hs[h])?!!m[h]:!1}function Vt(){return As}var eh=P({},so,{key:function(h){if(h.key){var m=Fa[h.key]||h.key;if(m!=="Unidentified")return m}return h.type==="keypress"?(h=ei(h),h===13?"Enter":String.fromCharCode(h)):h.type==="keydown"||h.type==="keyup"?Uc[h.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vt,charCode:function(h){return h.type==="keypress"?ei(h):0},keyCode:function(h){return h.type==="keydown"||h.type==="keyup"?h.keyCode:0},which:function(h){return h.type==="keypress"?ei(h):h.type==="keydown"||h.type==="keyup"?h.keyCode:0}}),Go=gn(eh),Ua=P({},La,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bc=gn(Ua),Ba=P({},so,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vt}),Ur=gn(Ba),Vc=P({},Or,{propertyName:0,elapsedTime:0,pseudoElement:0}),th=gn(Vc),Ji=P({},La,{deltaX:function(h){return"deltaX"in h?h.deltaX:"wheelDeltaX"in h?-h.wheelDeltaX:0},deltaY:function(h){return"deltaY"in h?h.deltaY:"wheelDeltaY"in h?-h.wheelDeltaY:"wheelDelta"in h?-h.wheelDelta:0},deltaZ:0,deltaMode:0}),Ll=gn(Ji),Di=P({},Or,{newState:0,oldState:0}),rh=gn(Di),nh=[9,13,27,32],ha=br&&"CompositionEvent"in window,B=null;br&&"documentMode"in document&&(B=document.documentMode);var se=br&&"TextEvent"in window&&!B,ue=br&&(!ha||B&&8<B&&11>=B),Re=" ",E=!1;function M(h,m){switch(h){case"keyup":return nh.indexOf(m.keyCode)!==-1;case"keydown":return m.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function F(h){return h=h.detail,typeof h=="object"&&"data"in h?h.data:null}var z=!1;function Z(h,m){switch(h){case"compositionend":return F(m);case"keypress":return m.which!==32?null:(E=!0,Re);case"textInput":return h=m.data,h===Re&&E?null:h;default:return null}}function ie(h,m){if(z)return h==="compositionend"||!ha&&M(h,m)?(h=Na(),fs=Si=Wn=null,z=!1,h):null;switch(h){case"paste":return null;case"keypress":if(!(m.ctrlKey||m.altKey||m.metaKey)||m.ctrlKey&&m.altKey){if(m.char&&1<m.char.length)return m.char;if(m.which)return String.fromCharCode(m.which)}return null;case"compositionend":return ue&&m.locale!=="ko"?null:m.data;default:return null}}var oe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ve(h){var m=h&&h.nodeName&&h.nodeName.toLowerCase();return m==="input"?!!oe[h.type]:m==="textarea"}function Oe(h,m,T,k){ca?Da?Da.push(k):Da=[k]:ca=k,m=Um(m,"onChange"),0<m.length&&(T=new No("onChange","change",null,T,k),h.push({event:T,listeners:m}))}var je=null,Ye=null;function tt(h){yT(h,0)}function Ze(h){var m=At(h);if(Io(m))return h}function Ue(h,m){if(h==="change")return m}var xt=!1;if(br){var lt;if(br){var pt="oninput"in document;if(!pt){var it=document.createElement("div");it.setAttribute("oninput","return;"),pt=typeof it.oninput=="function"}lt=pt}else lt=!1;xt=lt&&(!document.documentMode||9<document.documentMode)}function st(){je&&(je.detachEvent("onpropertychange",zt),Ye=je=null)}function zt(h){if(h.propertyName==="value"&&Ze(Ye)){var m=[];Oe(m,Ye,h,Po(h)),Zu(tt,m)}}function ur(h,m,T){h==="focusin"?(st(),je=m,Ye=T,je.attachEvent("onpropertychange",zt)):h==="focusout"&&st()}function qt(h){if(h==="selectionchange"||h==="keyup"||h==="keydown")return Ze(Ye)}function $t(h,m){if(h==="click")return Ze(m)}function gr(h,m){if(h==="input"||h==="change")return Ze(m)}function ln(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var Tr=typeof Object.is=="function"?Object.is:ln;function vn(h,m){if(Tr(h,m))return!0;if(typeof h!="object"||h===null||typeof m!="object"||m===null)return!1;var T=Object.keys(h),k=Object.keys(m);if(T.length!==k.length)return!1;for(k=0;k<T.length;k++){var G=T[k];if(!Ve.call(m,G)||!Tr(h[G],m[G]))return!1}return!0}function gi(h){for(;h&&h.firstChild;)h=h.firstChild;return h}function yi(h,m){var T=gi(h);h=0;for(var k;T;){if(T.nodeType===3){if(k=h+T.textContent.length,h<=m&&k>=m)return{node:T,offset:m-h};h=k}e:{for(;T;){if(T.nextSibling){T=T.nextSibling;break e}T=T.parentNode}T=void 0}T=gi(T)}}function js(h,m){return h&&m?h===m?!0:h&&h.nodeType===3?!1:m&&m.nodeType===3?js(h,m.parentNode):"contains"in h?h.contains(m):h.compareDocumentPosition?!!(h.compareDocumentPosition(m)&16):!1:!1}function Xr(h){h=h!=null&&h.ownerDocument!=null&&h.ownerDocument.defaultView!=null?h.ownerDocument.defaultView:window;for(var m=ko(h.document);m instanceof h.HTMLIFrameElement;){try{var T=typeof m.contentWindow.location.href=="string"}catch{T=!1}if(T)h=m.contentWindow;else break;m=ko(h.document)}return m}function en(h){var m=h&&h.nodeName&&h.nodeName.toLowerCase();return m&&(m==="input"&&(h.type==="text"||h.type==="search"||h.type==="tel"||h.type==="url"||h.type==="password")||m==="textarea"||h.contentEditable==="true")}function Hr(h,m){var T=Xr(m);m=h.focusedElem;var k=h.selectionRange;if(T!==m&&m&&m.ownerDocument&&js(m.ownerDocument.documentElement,m)){if(k!==null&&en(m)){if(h=k.start,T=k.end,T===void 0&&(T=h),"selectionStart"in m)m.selectionStart=h,m.selectionEnd=Math.min(T,m.value.length);else if(T=(h=m.ownerDocument||document)&&h.defaultView||window,T.getSelection){T=T.getSelection();var G=m.textContent.length,K=Math.min(k.start,G);k=k.end===void 0?K:Math.min(k.end,G),!T.extend&&K>k&&(G=k,k=K,K=G),G=yi(m,K);var fe=yi(m,k);G&&fe&&(T.rangeCount!==1||T.anchorNode!==G.node||T.anchorOffset!==G.offset||T.focusNode!==fe.node||T.focusOffset!==fe.offset)&&(h=h.createRange(),h.setStart(G.node,G.offset),T.removeAllRanges(),K>k?(T.addRange(h),T.extend(fe.node,fe.offset)):(h.setEnd(fe.node,fe.offset),T.addRange(h)))}}for(h=[],T=m;T=T.parentNode;)T.nodeType===1&&h.push({element:T,left:T.scrollLeft,top:T.scrollTop});for(typeof m.focus=="function"&&m.focus(),m=0;m<h.length;m++)T=h[m],T.element.scrollLeft=T.left,T.element.scrollTop=T.top}}var Ti=br&&"documentMode"in document&&11>=document.documentMode,Kr=null,qn=null,Wr=null,Pn=!1;function Fl(h,m,T){var k=T.window===T?T.document:T.nodeType===9?T:T.ownerDocument;Pn||Kr==null||Kr!==ko(k)||(k=Kr,"selectionStart"in k&&en(k)?k={start:k.selectionStart,end:k.selectionEnd}:(k=(k.ownerDocument&&k.ownerDocument.defaultView||window).getSelection(),k={anchorNode:k.anchorNode,anchorOffset:k.anchorOffset,focusNode:k.focusNode,focusOffset:k.focusOffset}),Wr&&vn(Wr,k)||(Wr=k,k=Um(qn,"onSelect"),0<k.length&&(m=new No("onSelect","select",null,m,T),h.push({event:m,listeners:k}),m.target=Kr)))}function Rs(h,m){var T={};return T[h.toLowerCase()]=m.toLowerCase(),T["Webkit"+h]="webkit"+m,T["Moz"+h]="moz"+m,T}var zo={animationend:Rs("Animation","AnimationEnd"),animationiteration:Rs("Animation","AnimationIteration"),animationstart:Rs("Animation","AnimationStart"),transitionrun:Rs("Transition","TransitionRun"),transitionstart:Rs("Transition","TransitionStart"),transitioncancel:Rs("Transition","TransitionCancel"),transitionend:Rs("Transition","TransitionEnd")},By={},r2={};br&&(r2=document.createElement("div").style,"AnimationEvent"in window||(delete zo.animationend.animation,delete zo.animationiteration.animation,delete zo.animationstart.animation),"TransitionEvent"in window||delete zo.transitionend.transition);function Gc(h){if(By[h])return By[h];if(!zo[h])return h;var m=zo[h],T;for(T in m)if(m.hasOwnProperty(T)&&T in r2)return By[h]=m[T];return h}var n2=Gc("animationend"),i2=Gc("animationiteration"),s2=Gc("animationstart"),UP=Gc("transitionrun"),BP=Gc("transitionstart"),VP=Gc("transitioncancel"),a2=Gc("transitionend"),o2=new Map,l2="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Va(h,m){o2.set(h,m),Zt(m,[h])}var da=[],ih=0,Vy=0;function im(){for(var h=ih,m=Vy=ih=0;m<h;){var T=da[m];da[m++]=null;var k=da[m];da[m++]=null;var G=da[m];da[m++]=null;var K=da[m];if(da[m++]=null,k!==null&&G!==null){var fe=k.pending;fe===null?G.next=G:(G.next=fe.next,fe.next=G),k.pending=G}K!==0&&c2(T,G,K)}}function sm(h,m,T,k){da[ih++]=h,da[ih++]=m,da[ih++]=T,da[ih++]=k,Vy|=k,h.lanes|=k,h=h.alternate,h!==null&&(h.lanes|=k)}function Gy(h,m,T,k){return sm(h,m,T,k),am(h)}function Ul(h,m){return sm(h,null,null,m),am(h)}function c2(h,m,T){h.lanes|=T;var k=h.alternate;k!==null&&(k.lanes|=T);for(var G=!1,K=h.return;K!==null;)K.childLanes|=T,k=K.alternate,k!==null&&(k.childLanes|=T),K.tag===22&&(h=K.stateNode,h===null||h._visibility&1||(G=!0)),h=K,K=K.return;G&&m!==null&&h.tag===3&&(K=h.stateNode,G=31-rt(T),K=K.hiddenUpdates,h=K[G],h===null?K[G]=[m]:h.push(m),m.lane=T|536870912)}function am(h){if(50<rf)throw rf=0,$v=null,Error(r(185));for(var m=h.return;m!==null;)h=m,m=h.return;return h.tag===3?h.stateNode:null}var sh={},u2=new WeakMap;function fa(h,m){if(typeof h=="object"&&h!==null){var T=u2.get(h);return T!==void 0?T:(m={value:h,source:m,stack:J(m)},u2.set(h,m),m)}return{value:h,source:m,stack:J(m)}}var ah=[],oh=0,om=null,lm=0,pa=[],ma=0,zc=null,Ho=1,Wo="";function Hc(h,m){ah[oh++]=lm,ah[oh++]=om,om=h,lm=m}function h2(h,m,T){pa[ma++]=Ho,pa[ma++]=Wo,pa[ma++]=zc,zc=h;var k=Ho;h=Wo;var G=32-rt(k)-1;k&=~(1<<G),T+=1;var K=32-rt(m)+G;if(30<K){var fe=G-G%5;K=(k&(1<<fe)-1).toString(32),k>>=fe,G-=fe,Ho=1<<32-rt(m)+G|T<<G|k,Wo=K+h}else Ho=1<<K|T<<G|k,Wo=h}function zy(h){h.return!==null&&(Hc(h,1),h2(h,1,0))}function Hy(h){for(;h===om;)om=ah[--oh],ah[oh]=null,lm=ah[--oh],ah[oh]=null;for(;h===zc;)zc=pa[--ma],pa[ma]=null,Wo=pa[--ma],pa[ma]=null,Ho=pa[--ma],pa[ma]=null}var ms=null,Ni=null,Br=!1,Ga=null,lo=!1,Wy=Error(r(519));function Wc(h){var m=Error(r(418,""));throw Pd(fa(m,h)),Wy}function d2(h){var m=h.stateNode,T=h.type,k=h.memoizedProps;switch(m[Ae]=h,m[Ie]=k,T){case"dialog":Ir("cancel",m),Ir("close",m);break;case"iframe":case"object":case"embed":Ir("load",m);break;case"video":case"audio":for(T=0;T<sf.length;T++)Ir(sf[T],m);break;case"source":Ir("error",m);break;case"img":case"image":case"link":Ir("error",m),Ir("load",m);break;case"details":Ir("toggle",m);break;case"input":Ir("invalid",m),Ma(m,k.value,k.defaultValue,k.checked,k.defaultChecked,k.type,k.name,!0),ro(m);break;case"select":Ir("invalid",m);break;case"textarea":Ir("invalid",m),Vs(m,k.value,k.defaultValue,k.children),ro(m)}T=k.children,typeof T!="string"&&typeof T!="number"&&typeof T!="bigint"||m.textContent===""+T||k.suppressHydrationWarning===!0||xT(m.textContent,T)?(k.popover!=null&&(Ir("beforetoggle",m),Ir("toggle",m)),k.onScroll!=null&&Ir("scroll",m),k.onScrollEnd!=null&&Ir("scrollend",m),k.onClick!=null&&(m.onclick=Bm),m=!0):m=!1,m||Wc(h)}function f2(h){for(ms=h.return;ms;)switch(ms.tag){case 3:case 27:lo=!0;return;case 5:case 13:lo=!1;return;default:ms=ms.return}}function kd(h){if(h!==ms)return!1;if(!Br)return f2(h),Br=!0,!1;var m=!1,T;if((T=h.tag!==3&&h.tag!==27)&&((T=h.tag===5)&&(T=h.type,T=!(T!=="form"&&T!=="button")||h1(h.type,h.memoizedProps)),T=!T),T&&(m=!0),m&&Ni&&Wc(h),f2(h),h.tag===13){if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));e:{for(h=h.nextSibling,m=0;h;){if(h.nodeType===8)if(T=h.data,T==="/$"){if(m===0){Ni=Ha(h.nextSibling);break e}m--}else T!=="$"&&T!=="$!"&&T!=="$?"||m++;h=h.nextSibling}Ni=null}}else Ni=ms?Ha(h.stateNode.nextSibling):null;return!0}function Md(){Ni=ms=null,Br=!1}function Pd(h){Ga===null?Ga=[h]:Ga.push(h)}var Dd=Error(r(460)),p2=Error(r(474)),qy={then:function(){}};function m2(h){return h=h.status,h==="fulfilled"||h==="rejected"}function cm(){}function g2(h,m,T){switch(T=h[T],T===void 0?h.push(m):T!==m&&(m.then(cm,cm),m=T),m.status){case"fulfilled":return m.value;case"rejected":throw h=m.reason,h===Dd?Error(r(483)):h;default:if(typeof m.status=="string")m.then(cm,cm);else{if(h=_n,h!==null&&100<h.shellSuspendCounter)throw Error(r(482));h=m,h.status="pending",h.then(function(k){if(m.status==="pending"){var G=m;G.status="fulfilled",G.value=k}},function(k){if(m.status==="pending"){var G=m;G.status="rejected",G.reason=k}})}switch(m.status){case"fulfilled":return m.value;case"rejected":throw h=m.reason,h===Dd?Error(r(483)):h}throw Nd=m,Dd}}var Nd=null;function y2(){if(Nd===null)throw Error(r(459));var h=Nd;return Nd=null,h}var lh=null,Ld=0;function um(h){var m=Ld;return Ld+=1,lh===null&&(lh=[]),g2(lh,h,m)}function Fd(h,m){m=m.props.ref,h.ref=m!==void 0?m:null}function hm(h,m){throw m.$$typeof===o?Error(r(525)):(h=Object.prototype.toString.call(m),Error(r(31,h==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":h)))}function v2(h){var m=h._init;return m(h._payload)}function _2(h){function m(at,Je){if(h){var ct=at.deletions;ct===null?(at.deletions=[Je],at.flags|=16):ct.push(Je)}}function T(at,Je){if(!h)return null;for(;Je!==null;)m(at,Je),Je=Je.sibling;return null}function k(at){for(var Je=new Map;at!==null;)at.key!==null?Je.set(at.key,at):Je.set(at.index,at),at=at.sibling;return Je}function G(at,Je){return at=Ql(at,Je),at.index=0,at.sibling=null,at}function K(at,Je,ct){return at.index=ct,h?(ct=at.alternate,ct!==null?(ct=ct.index,ct<Je?(at.flags|=33554434,Je):ct):(at.flags|=33554434,Je)):(at.flags|=1048576,Je)}function fe(at){return h&&at.alternate===null&&(at.flags|=33554434),at}function Ce(at,Je,ct,Ct){return Je===null||Je.tag!==6?(Je=Bv(ct,at.mode,Ct),Je.return=at,Je):(Je=G(Je,ct),Je.return=at,Je)}function ze(at,Je,ct,Ct){var Ht=ct.type;return Ht===l?wt(at,Je,ct.props.children,Ct,ct.key):Je!==null&&(Je.elementType===Ht||typeof Ht=="object"&&Ht!==null&&Ht.$$typeof===x&&v2(Ht)===Je.type)?(Je=G(Je,ct.props),Fd(Je,ct),Je.return=at,Je):(Je=Rm(ct.type,ct.key,ct.props,null,at.mode,Ct),Fd(Je,ct),Je.return=at,Je)}function et(at,Je,ct,Ct){return Je===null||Je.tag!==4||Je.stateNode.containerInfo!==ct.containerInfo||Je.stateNode.implementation!==ct.implementation?(Je=Vv(ct,at.mode,Ct),Je.return=at,Je):(Je=G(Je,ct.children||[]),Je.return=at,Je)}function wt(at,Je,ct,Ct,Ht){return Je===null||Je.tag!==7?(Je=tu(ct,at.mode,Ct,Ht),Je.return=at,Je):(Je=G(Je,ct),Je.return=at,Je)}function Ot(at,Je,ct){if(typeof Je=="string"&&Je!==""||typeof Je=="number"||typeof Je=="bigint")return Je=Bv(""+Je,at.mode,ct),Je.return=at,Je;if(typeof Je=="object"&&Je!==null){switch(Je.$$typeof){case a:return ct=Rm(Je.type,Je.key,Je.props,null,at.mode,ct),Fd(ct,Je),ct.return=at,ct;case c:return Je=Vv(Je,at.mode,ct),Je.return=at,Je;case x:var Ct=Je._init;return Je=Ct(Je._payload),Ot(at,Je,ct)}if(I(Je)||D(Je))return Je=tu(Je,at.mode,ct,null),Je.return=at,Je;if(typeof Je.then=="function")return Ot(at,um(Je),ct);if(Je.$$typeof===f)return Ot(at,Cm(at,Je),ct);hm(at,Je)}return null}function ut(at,Je,ct,Ct){var Ht=Je!==null?Je.key:null;if(typeof ct=="string"&&ct!==""||typeof ct=="number"||typeof ct=="bigint")return Ht!==null?null:Ce(at,Je,""+ct,Ct);if(typeof ct=="object"&&ct!==null){switch(ct.$$typeof){case a:return ct.key===Ht?ze(at,Je,ct,Ct):null;case c:return ct.key===Ht?et(at,Je,ct,Ct):null;case x:return Ht=ct._init,ct=Ht(ct._payload),ut(at,Je,ct,Ct)}if(I(ct)||D(ct))return Ht!==null?null:wt(at,Je,ct,Ct,null);if(typeof ct.then=="function")return ut(at,Je,um(ct),Ct);if(ct.$$typeof===f)return ut(at,Je,Cm(at,ct),Ct);hm(at,ct)}return null}function _t(at,Je,ct,Ct,Ht){if(typeof Ct=="string"&&Ct!==""||typeof Ct=="number"||typeof Ct=="bigint")return at=at.get(ct)||null,Ce(Je,at,""+Ct,Ht);if(typeof Ct=="object"&&Ct!==null){switch(Ct.$$typeof){case a:return at=at.get(Ct.key===null?ct:Ct.key)||null,ze(Je,at,Ct,Ht);case c:return at=at.get(Ct.key===null?ct:Ct.key)||null,et(Je,at,Ct,Ht);case x:var xr=Ct._init;return Ct=xr(Ct._payload),_t(at,Je,ct,Ct,Ht)}if(I(Ct)||D(Ct))return at=at.get(ct)||null,wt(Je,at,Ct,Ht,null);if(typeof Ct.then=="function")return _t(at,Je,ct,um(Ct),Ht);if(Ct.$$typeof===f)return _t(at,Je,ct,Cm(Je,Ct),Ht);hm(Je,Ct)}return null}function Kt(at,Je,ct,Ct){for(var Ht=null,xr=null,Jt=Je,lr=Je=0,Ai=null;Jt!==null&&lr<ct.length;lr++){Jt.index>lr?(Ai=Jt,Jt=null):Ai=Jt.sibling;var Vr=ut(at,Jt,ct[lr],Ct);if(Vr===null){Jt===null&&(Jt=Ai);break}h&&Jt&&Vr.alternate===null&&m(at,Jt),Je=K(Vr,Je,lr),xr===null?Ht=Vr:xr.sibling=Vr,xr=Vr,Jt=Ai}if(lr===ct.length)return T(at,Jt),Br&&Hc(at,lr),Ht;if(Jt===null){for(;lr<ct.length;lr++)Jt=Ot(at,ct[lr],Ct),Jt!==null&&(Je=K(Jt,Je,lr),xr===null?Ht=Jt:xr.sibling=Jt,xr=Jt);return Br&&Hc(at,lr),Ht}for(Jt=k(Jt);lr<ct.length;lr++)Ai=_t(Jt,at,lr,ct[lr],Ct),Ai!==null&&(h&&Ai.alternate!==null&&Jt.delete(Ai.key===null?lr:Ai.key),Je=K(Ai,Je,lr),xr===null?Ht=Ai:xr.sibling=Ai,xr=Ai);return h&&Jt.forEach(function(ic){return m(at,ic)}),Br&&Hc(at,lr),Ht}function fr(at,Je,ct,Ct){if(ct==null)throw Error(r(151));for(var Ht=null,xr=null,Jt=Je,lr=Je=0,Ai=null,Vr=ct.next();Jt!==null&&!Vr.done;lr++,Vr=ct.next()){Jt.index>lr?(Ai=Jt,Jt=null):Ai=Jt.sibling;var ic=ut(at,Jt,Vr.value,Ct);if(ic===null){Jt===null&&(Jt=Ai);break}h&&Jt&&ic.alternate===null&&m(at,Jt),Je=K(ic,Je,lr),xr===null?Ht=ic:xr.sibling=ic,xr=ic,Jt=Ai}if(Vr.done)return T(at,Jt),Br&&Hc(at,lr),Ht;if(Jt===null){for(;!Vr.done;lr++,Vr=ct.next())Vr=Ot(at,Vr.value,Ct),Vr!==null&&(Je=K(Vr,Je,lr),xr===null?Ht=Vr:xr.sibling=Vr,xr=Vr);return Br&&Hc(at,lr),Ht}for(Jt=k(Jt);!Vr.done;lr++,Vr=ct.next())Vr=_t(Jt,at,lr,Vr.value,Ct),Vr!==null&&(h&&Vr.alternate!==null&&Jt.delete(Vr.key===null?lr:Vr.key),Je=K(Vr,Je,lr),xr===null?Ht=Vr:xr.sibling=Vr,xr=Vr);return h&&Jt.forEach(function(tN){return m(at,tN)}),Br&&Hc(at,lr),Ht}function Ln(at,Je,ct,Ct){if(typeof ct=="object"&&ct!==null&&ct.type===l&&ct.key===null&&(ct=ct.props.children),typeof ct=="object"&&ct!==null){switch(ct.$$typeof){case a:e:{for(var Ht=ct.key;Je!==null;){if(Je.key===Ht){if(Ht=ct.type,Ht===l){if(Je.tag===7){T(at,Je.sibling),Ct=G(Je,ct.props.children),Ct.return=at,at=Ct;break e}}else if(Je.elementType===Ht||typeof Ht=="object"&&Ht!==null&&Ht.$$typeof===x&&v2(Ht)===Je.type){T(at,Je.sibling),Ct=G(Je,ct.props),Fd(Ct,ct),Ct.return=at,at=Ct;break e}T(at,Je);break}else m(at,Je);Je=Je.sibling}ct.type===l?(Ct=tu(ct.props.children,at.mode,Ct,ct.key),Ct.return=at,at=Ct):(Ct=Rm(ct.type,ct.key,ct.props,null,at.mode,Ct),Fd(Ct,ct),Ct.return=at,at=Ct)}return fe(at);case c:e:{for(Ht=ct.key;Je!==null;){if(Je.key===Ht)if(Je.tag===4&&Je.stateNode.containerInfo===ct.containerInfo&&Je.stateNode.implementation===ct.implementation){T(at,Je.sibling),Ct=G(Je,ct.children||[]),Ct.return=at,at=Ct;break e}else{T(at,Je);break}else m(at,Je);Je=Je.sibling}Ct=Vv(ct,at.mode,Ct),Ct.return=at,at=Ct}return fe(at);case x:return Ht=ct._init,ct=Ht(ct._payload),Ln(at,Je,ct,Ct)}if(I(ct))return Kt(at,Je,ct,Ct);if(D(ct)){if(Ht=D(ct),typeof Ht!="function")throw Error(r(150));return ct=Ht.call(ct),fr(at,Je,ct,Ct)}if(typeof ct.then=="function")return Ln(at,Je,um(ct),Ct);if(ct.$$typeof===f)return Ln(at,Je,Cm(at,ct),Ct);hm(at,ct)}return typeof ct=="string"&&ct!==""||typeof ct=="number"||typeof ct=="bigint"?(ct=""+ct,Je!==null&&Je.tag===6?(T(at,Je.sibling),Ct=G(Je,ct),Ct.return=at,at=Ct):(T(at,Je),Ct=Bv(ct,at.mode,Ct),Ct.return=at,at=Ct),fe(at)):T(at,Je)}return function(at,Je,ct,Ct){try{Ld=0;var Ht=Ln(at,Je,ct,Ct);return lh=null,Ht}catch(Jt){if(Jt===Dd)throw Jt;var xr=_a(29,Jt,null,at.mode);return xr.lanes=Ct,xr.return=at,xr}finally{}}}var qc=_2(!0),b2=_2(!1),ch=le(null),dm=le(0);function x2(h,m){h=rl,ye(dm,h),ye(ch,m),rl=h|m.baseLanes}function Yy(){ye(dm,rl),ye(ch,ch.current)}function $y(){rl=dm.current,he(ch),he(dm)}var ga=le(null),co=null;function Bl(h){var m=h.alternate;ye(vi,vi.current&1),ye(ga,h),co===null&&(m===null||ch.current!==null||m.memoizedState!==null)&&(co=h)}function w2(h){if(h.tag===22){if(ye(vi,vi.current),ye(ga,h),co===null){var m=h.alternate;m!==null&&m.memoizedState!==null&&(co=h)}}else Vl()}function Vl(){ye(vi,vi.current),ye(ga,ga.current)}function qo(h){he(ga),co===h&&(co=null),he(vi)}var vi=le(0);function fm(h){for(var m=h;m!==null;){if(m.tag===13){var T=m.memoizedState;if(T!==null&&(T=T.dehydrated,T===null||T.data==="$?"||T.data==="$!"))return m}else if(m.tag===19&&m.memoizedProps.revealOrder!==void 0){if(m.flags&128)return m}else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===h)break;for(;m.sibling===null;){if(m.return===null||m.return===h)return null;m=m.return}m.sibling.return=m.return,m=m.sibling}return null}var GP=typeof AbortController<"u"?AbortController:function(){var h=[],m=this.signal={aborted:!1,addEventListener:function(T,k){h.push(k)}};this.abort=function(){m.aborted=!0,h.forEach(function(T){return T()})}},zP=n.unstable_scheduleCallback,HP=n.unstable_NormalPriority,_i={$$typeof:f,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Xy(){return{controller:new GP,data:new Map,refCount:0}}function Ud(h){h.refCount--,h.refCount===0&&zP(HP,function(){h.controller.abort()})}var Bd=null,Ky=0,uh=0,hh=null;function WP(h,m){if(Bd===null){var T=Bd=[];Ky=0,uh=r1(),hh={status:"pending",value:void 0,then:function(k){T.push(k)}}}return Ky++,m.then(S2,S2),m}function S2(){if(--Ky===0&&Bd!==null){hh!==null&&(hh.status="fulfilled");var h=Bd;Bd=null,uh=0,hh=null;for(var m=0;m<h.length;m++)(0,h[m])()}}function qP(h,m){var T=[],k={status:"pending",value:null,reason:null,then:function(G){T.push(G)}};return h.then(function(){k.status="fulfilled",k.value=m;for(var G=0;G<T.length;G++)(0,T[G])(m)},function(G){for(k.status="rejected",k.reason=G,G=0;G<T.length;G++)(0,T[G])(void 0)}),k}var T2=j.S;j.S=function(h,m){typeof m=="object"&&m!==null&&typeof m.then=="function"&&WP(h,m),T2!==null&&T2(h,m)};var Yc=le(null);function Qy(){var h=Yc.current;return h!==null?h:_n.pooledCache}function pm(h,m){m===null?ye(Yc,Yc.current):ye(Yc,m.pool)}function E2(){var h=Qy();return h===null?null:{parent:_i._currentValue,pool:h}}var Gl=0,_r=null,cn=null,ti=null,mm=!1,dh=!1,$c=!1,gm=0,Vd=0,fh=null,YP=0;function Yn(){throw Error(r(321))}function Zy(h,m){if(m===null)return!1;for(var T=0;T<m.length&&T<h.length;T++)if(!Tr(h[T],m[T]))return!1;return!0}function Jy(h,m,T,k,G,K){return Gl=K,_r=m,m.memoizedState=null,m.updateQueue=null,m.lanes=0,j.H=h===null||h.memoizedState===null?Xc:zl,$c=!1,K=T(k,G),$c=!1,dh&&(K=A2(m,T,k,G)),C2(h),K}function C2(h){j.H=uo;var m=cn!==null&&cn.next!==null;if(Gl=0,ti=cn=_r=null,mm=!1,Vd=0,fh=null,m)throw Error(r(300));h===null||Ei||(h=h.dependencies,h!==null&&Em(h)&&(Ei=!0))}function A2(h,m,T,k){_r=h;var G=0;do{if(dh&&(fh=null),Vd=0,dh=!1,25<=G)throw Error(r(301));if(G+=1,ti=cn=null,h.updateQueue!=null){var K=h.updateQueue;K.lastEffect=null,K.events=null,K.stores=null,K.memoCache!=null&&(K.memoCache.index=0)}j.H=Kc,K=m(T,k)}while(dh);return K}function $P(){var h=j.H,m=h.useState()[0];return m=typeof m.then=="function"?Gd(m):m,h=h.useState()[0],(cn!==null?cn.memoizedState:null)!==h&&(_r.flags|=1024),m}function ev(){var h=gm!==0;return gm=0,h}function tv(h,m,T){m.updateQueue=h.updateQueue,m.flags&=-2053,h.lanes&=~T}function rv(h){if(mm){for(h=h.memoizedState;h!==null;){var m=h.queue;m!==null&&(m.pending=null),h=h.next}mm=!1}Gl=0,ti=cn=_r=null,dh=!1,Vd=gm=0,fh=null}function Os(){var h={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ti===null?_r.memoizedState=ti=h:ti=ti.next=h,ti}function ri(){if(cn===null){var h=_r.alternate;h=h!==null?h.memoizedState:null}else h=cn.next;var m=ti===null?_r.memoizedState:ti.next;if(m!==null)ti=m,cn=h;else{if(h===null)throw _r.alternate===null?Error(r(467)):Error(r(310));cn=h,h={memoizedState:cn.memoizedState,baseState:cn.baseState,baseQueue:cn.baseQueue,queue:cn.queue,next:null},ti===null?_r.memoizedState=ti=h:ti=ti.next=h}return ti}var ym;ym=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Gd(h){var m=Vd;return Vd+=1,fh===null&&(fh=[]),h=g2(fh,h,m),m=_r,(ti===null?m.memoizedState:ti.next)===null&&(m=m.alternate,j.H=m===null||m.memoizedState===null?Xc:zl),h}function vm(h){if(h!==null&&typeof h=="object"){if(typeof h.then=="function")return Gd(h);if(h.$$typeof===f)return es(h)}throw Error(r(438,String(h)))}function nv(h){var m=null,T=_r.updateQueue;if(T!==null&&(m=T.memoCache),m==null){var k=_r.alternate;k!==null&&(k=k.updateQueue,k!==null&&(k=k.memoCache,k!=null&&(m={data:k.data.map(function(G){return G.slice()}),index:0})))}if(m==null&&(m={data:[],index:0}),T===null&&(T=ym(),_r.updateQueue=T),T.memoCache=m,T=m.data[m.index],T===void 0)for(T=m.data[m.index]=Array(h),k=0;k<h;k++)T[k]=S;return m.index++,T}function Yo(h,m){return typeof m=="function"?m(h):m}function _m(h){var m=ri();return iv(m,cn,h)}function iv(h,m,T){var k=h.queue;if(k===null)throw Error(r(311));k.lastRenderedReducer=T;var G=h.baseQueue,K=k.pending;if(K!==null){if(G!==null){var fe=G.next;G.next=K.next,K.next=fe}m.baseQueue=G=K,k.pending=null}if(K=h.baseState,G===null)h.memoizedState=K;else{m=G.next;var Ce=fe=null,ze=null,et=m,wt=!1;do{var Ot=et.lane&-536870913;if(Ot!==et.lane?(Pr&Ot)===Ot:(Gl&Ot)===Ot){var ut=et.revertLane;if(ut===0)ze!==null&&(ze=ze.next={lane:0,revertLane:0,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null}),Ot===uh&&(wt=!0);else if((Gl&ut)===ut){et=et.next,ut===uh&&(wt=!0);continue}else Ot={lane:0,revertLane:et.revertLane,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null},ze===null?(Ce=ze=Ot,fe=K):ze=ze.next=Ot,_r.lanes|=ut,Zl|=ut;Ot=et.action,$c&&T(K,Ot),K=et.hasEagerState?et.eagerState:T(K,Ot)}else ut={lane:Ot,revertLane:et.revertLane,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null},ze===null?(Ce=ze=ut,fe=K):ze=ze.next=ut,_r.lanes|=Ot,Zl|=Ot;et=et.next}while(et!==null&&et!==m);if(ze===null?fe=K:ze.next=Ce,!Tr(K,h.memoizedState)&&(Ei=!0,wt&&(T=hh,T!==null)))throw T;h.memoizedState=K,h.baseState=fe,h.baseQueue=ze,k.lastRenderedState=K}return G===null&&(k.lanes=0),[h.memoizedState,k.dispatch]}function sv(h){var m=ri(),T=m.queue;if(T===null)throw Error(r(311));T.lastRenderedReducer=h;var k=T.dispatch,G=T.pending,K=m.memoizedState;if(G!==null){T.pending=null;var fe=G=G.next;do K=h(K,fe.action),fe=fe.next;while(fe!==G);Tr(K,m.memoizedState)||(Ei=!0),m.memoizedState=K,m.baseQueue===null&&(m.baseState=K),T.lastRenderedState=K}return[K,k]}function j2(h,m,T){var k=_r,G=ri(),K=Br;if(K){if(T===void 0)throw Error(r(407));T=T()}else T=m();var fe=!Tr((cn||G).memoizedState,T);if(fe&&(G.memoizedState=T,Ei=!0),G=G.queue,lv(I2.bind(null,k,G,h),[h]),G.getSnapshot!==m||fe||ti!==null&&ti.memoizedState.tag&1){if(k.flags|=2048,ph(9,O2.bind(null,k,G,T,m),{destroy:void 0},null),_n===null)throw Error(r(349));K||Gl&60||R2(k,m,T)}return T}function R2(h,m,T){h.flags|=16384,h={getSnapshot:m,value:T},m=_r.updateQueue,m===null?(m=ym(),_r.updateQueue=m,m.stores=[h]):(T=m.stores,T===null?m.stores=[h]:T.push(h))}function O2(h,m,T,k){m.value=T,m.getSnapshot=k,k2(m)&&M2(h)}function I2(h,m,T){return T(function(){k2(m)&&M2(h)})}function k2(h){var m=h.getSnapshot;h=h.value;try{var T=m();return!Tr(h,T)}catch{return!0}}function M2(h){var m=Ul(h,2);m!==null&&gs(m,h,2)}function av(h){var m=Os();if(typeof h=="function"){var T=h;if(h=T(),$c){We(!0);try{T()}finally{We(!1)}}}return m.memoizedState=m.baseState=h,m.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yo,lastRenderedState:h},m}function P2(h,m,T,k){return h.baseState=T,iv(h,cn,typeof k=="function"?k:Yo)}function XP(h,m,T,k,G){if(wm(h))throw Error(r(485));if(h=m.action,h!==null){var K={payload:G,action:h,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(fe){K.listeners.push(fe)}};j.T!==null?T(!0):K.isTransition=!1,k(K),T=m.pending,T===null?(K.next=m.pending=K,D2(m,K)):(K.next=T.next,m.pending=T.next=K)}}function D2(h,m){var T=m.action,k=m.payload,G=h.state;if(m.isTransition){var K=j.T,fe={};j.T=fe;try{var Ce=T(G,k),ze=j.S;ze!==null&&ze(fe,Ce),N2(h,m,Ce)}catch(et){ov(h,m,et)}finally{j.T=K}}else try{K=T(G,k),N2(h,m,K)}catch(et){ov(h,m,et)}}function N2(h,m,T){T!==null&&typeof T=="object"&&typeof T.then=="function"?T.then(function(k){L2(h,m,k)},function(k){return ov(h,m,k)}):L2(h,m,T)}function L2(h,m,T){m.status="fulfilled",m.value=T,F2(m),h.state=T,m=h.pending,m!==null&&(T=m.next,T===m?h.pending=null:(T=T.next,m.next=T,D2(h,T)))}function ov(h,m,T){var k=h.pending;if(h.pending=null,k!==null){k=k.next;do m.status="rejected",m.reason=T,F2(m),m=m.next;while(m!==k)}h.action=null}function F2(h){h=h.listeners;for(var m=0;m<h.length;m++)(0,h[m])()}function U2(h,m){return m}function B2(h,m){if(Br){var T=_n.formState;if(T!==null){e:{var k=_r;if(Br){if(Ni){t:{for(var G=Ni,K=lo;G.nodeType!==8;){if(!K){G=null;break t}if(G=Ha(G.nextSibling),G===null){G=null;break t}}K=G.data,G=K==="F!"||K==="F"?G:null}if(G){Ni=Ha(G.nextSibling),k=G.data==="F!";break e}}Wc(k)}k=!1}k&&(m=T[0])}}return T=Os(),T.memoizedState=T.baseState=m,k={pending:null,lanes:0,dispatch:null,lastRenderedReducer:U2,lastRenderedState:m},T.queue=k,T=iS.bind(null,_r,k),k.dispatch=T,k=av(!1),K=fv.bind(null,_r,!1,k.queue),k=Os(),G={state:m,dispatch:null,action:h,pending:null},k.queue=G,T=XP.bind(null,_r,G,K,T),G.dispatch=T,k.memoizedState=h,[m,T,!1]}function V2(h){var m=ri();return G2(m,cn,h)}function G2(h,m,T){m=iv(h,m,U2)[0],h=_m(Yo)[0],m=typeof m=="object"&&m!==null&&typeof m.then=="function"?Gd(m):m;var k=ri(),G=k.queue,K=G.dispatch;return T!==k.memoizedState&&(_r.flags|=2048,ph(9,KP.bind(null,G,T),{destroy:void 0},null)),[m,K,h]}function KP(h,m){h.action=m}function z2(h){var m=ri(),T=cn;if(T!==null)return G2(m,T,h);ri(),m=m.memoizedState,T=ri();var k=T.queue.dispatch;return T.memoizedState=h,[m,k,!1]}function ph(h,m,T,k){return h={tag:h,create:m,inst:T,deps:k,next:null},m=_r.updateQueue,m===null&&(m=ym(),_r.updateQueue=m),T=m.lastEffect,T===null?m.lastEffect=h.next=h:(k=T.next,T.next=h,h.next=k,m.lastEffect=h),h}function H2(){return ri().memoizedState}function bm(h,m,T,k){var G=Os();_r.flags|=h,G.memoizedState=ph(1|m,T,{destroy:void 0},k===void 0?null:k)}function xm(h,m,T,k){var G=ri();k=k===void 0?null:k;var K=G.memoizedState.inst;cn!==null&&k!==null&&Zy(k,cn.memoizedState.deps)?G.memoizedState=ph(m,T,K,k):(_r.flags|=h,G.memoizedState=ph(1|m,T,K,k))}function W2(h,m){bm(8390656,8,h,m)}function lv(h,m){xm(2048,8,h,m)}function q2(h,m){return xm(4,2,h,m)}function Y2(h,m){return xm(4,4,h,m)}function $2(h,m){if(typeof m=="function"){h=h();var T=m(h);return function(){typeof T=="function"?T():m(null)}}if(m!=null)return h=h(),m.current=h,function(){m.current=null}}function X2(h,m,T){T=T!=null?T.concat([h]):null,xm(4,4,$2.bind(null,m,h),T)}function cv(){}function K2(h,m){var T=ri();m=m===void 0?null:m;var k=T.memoizedState;return m!==null&&Zy(m,k[1])?k[0]:(T.memoizedState=[h,m],h)}function Q2(h,m){var T=ri();m=m===void 0?null:m;var k=T.memoizedState;if(m!==null&&Zy(m,k[1]))return k[0];if(k=h(),$c){We(!0);try{h()}finally{We(!1)}}return T.memoizedState=[k,m],k}function uv(h,m,T){return T===void 0||Gl&1073741824?h.memoizedState=m:(h.memoizedState=T,h=JS(),_r.lanes|=h,Zl|=h,T)}function Z2(h,m,T,k){return Tr(T,m)?T:ch.current!==null?(h=uv(h,T,k),Tr(h,m)||(Ei=!0),h):Gl&42?(h=JS(),_r.lanes|=h,Zl|=h,m):(Ei=!0,h.memoizedState=T)}function J2(h,m,T,k,G){var K=U.p;U.p=K!==0&&8>K?K:8;var fe=j.T,Ce={};j.T=Ce,fv(h,!1,m,T);try{var ze=G(),et=j.S;if(et!==null&&et(Ce,ze),ze!==null&&typeof ze=="object"&&typeof ze.then=="function"){var wt=qP(ze,k);zd(h,m,wt,$s(h))}else zd(h,m,k,$s(h))}catch(Ot){zd(h,m,{then:function(){},status:"rejected",reason:Ot},$s())}finally{U.p=K,j.T=fe}}function QP(){}function hv(h,m,T,k){if(h.tag!==5)throw Error(r(476));var G=eS(h).queue;J2(h,G,m,H,T===null?QP:function(){return tS(h),T(k)})}function eS(h){var m=h.memoizedState;if(m!==null)return m;m={memoizedState:H,baseState:H,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yo,lastRenderedState:H},next:null};var T={};return m.next={memoizedState:T,baseState:T,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yo,lastRenderedState:T},next:null},h.memoizedState=m,h=h.alternate,h!==null&&(h.memoizedState=m),m}function tS(h){var m=eS(h).next.queue;zd(h,m,{},$s())}function dv(){return es(uf)}function rS(){return ri().memoizedState}function nS(){return ri().memoizedState}function ZP(h){for(var m=h.return;m!==null;){switch(m.tag){case 24:case 3:var T=$s();h=ql(T);var k=Yl(m,h,T);k!==null&&(gs(k,m,T),qd(k,m,T)),m={cache:Xy()},h.payload=m;return}m=m.return}}function JP(h,m,T){var k=$s();T={lane:k,revertLane:0,action:T,hasEagerState:!1,eagerState:null,next:null},wm(h)?sS(m,T):(T=Gy(h,m,T,k),T!==null&&(gs(T,h,k),aS(T,m,k)))}function iS(h,m,T){var k=$s();zd(h,m,T,k)}function zd(h,m,T,k){var G={lane:k,revertLane:0,action:T,hasEagerState:!1,eagerState:null,next:null};if(wm(h))sS(m,G);else{var K=h.alternate;if(h.lanes===0&&(K===null||K.lanes===0)&&(K=m.lastRenderedReducer,K!==null))try{var fe=m.lastRenderedState,Ce=K(fe,T);if(G.hasEagerState=!0,G.eagerState=Ce,Tr(Ce,fe))return sm(h,m,G,0),_n===null&&im(),!1}catch{}finally{}if(T=Gy(h,m,G,k),T!==null)return gs(T,h,k),aS(T,m,k),!0}return!1}function fv(h,m,T,k){if(k={lane:2,revertLane:r1(),action:k,hasEagerState:!1,eagerState:null,next:null},wm(h)){if(m)throw Error(r(479))}else m=Gy(h,T,k,2),m!==null&&gs(m,h,2)}function wm(h){var m=h.alternate;return h===_r||m!==null&&m===_r}function sS(h,m){dh=mm=!0;var T=h.pending;T===null?m.next=m:(m.next=T.next,T.next=m),h.pending=m}function aS(h,m,T){if(T&4194176){var k=m.lanes;k&=h.pendingLanes,T|=k,m.lanes=T,on(h,T)}}var uo={readContext:es,use:vm,useCallback:Yn,useContext:Yn,useEffect:Yn,useImperativeHandle:Yn,useLayoutEffect:Yn,useInsertionEffect:Yn,useMemo:Yn,useReducer:Yn,useRef:Yn,useState:Yn,useDebugValue:Yn,useDeferredValue:Yn,useTransition:Yn,useSyncExternalStore:Yn,useId:Yn};uo.useCacheRefresh=Yn,uo.useMemoCache=Yn,uo.useHostTransitionStatus=Yn,uo.useFormState=Yn,uo.useActionState=Yn,uo.useOptimistic=Yn;var Xc={readContext:es,use:vm,useCallback:function(h,m){return Os().memoizedState=[h,m===void 0?null:m],h},useContext:es,useEffect:W2,useImperativeHandle:function(h,m,T){T=T!=null?T.concat([h]):null,bm(4194308,4,$2.bind(null,m,h),T)},useLayoutEffect:function(h,m){return bm(4194308,4,h,m)},useInsertionEffect:function(h,m){bm(4,2,h,m)},useMemo:function(h,m){var T=Os();m=m===void 0?null:m;var k=h();if($c){We(!0);try{h()}finally{We(!1)}}return T.memoizedState=[k,m],k},useReducer:function(h,m,T){var k=Os();if(T!==void 0){var G=T(m);if($c){We(!0);try{T(m)}finally{We(!1)}}}else G=m;return k.memoizedState=k.baseState=G,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:h,lastRenderedState:G},k.queue=h,h=h.dispatch=JP.bind(null,_r,h),[k.memoizedState,h]},useRef:function(h){var m=Os();return h={current:h},m.memoizedState=h},useState:function(h){h=av(h);var m=h.queue,T=iS.bind(null,_r,m);return m.dispatch=T,[h.memoizedState,T]},useDebugValue:cv,useDeferredValue:function(h,m){var T=Os();return uv(T,h,m)},useTransition:function(){var h=av(!1);return h=J2.bind(null,_r,h.queue,!0,!1),Os().memoizedState=h,[!1,h]},useSyncExternalStore:function(h,m,T){var k=_r,G=Os();if(Br){if(T===void 0)throw Error(r(407));T=T()}else{if(T=m(),_n===null)throw Error(r(349));Pr&60||R2(k,m,T)}G.memoizedState=T;var K={value:T,getSnapshot:m};return G.queue=K,W2(I2.bind(null,k,K,h),[h]),k.flags|=2048,ph(9,O2.bind(null,k,K,T,m),{destroy:void 0},null),T},useId:function(){var h=Os(),m=_n.identifierPrefix;if(Br){var T=Wo,k=Ho;T=(k&~(1<<32-rt(k)-1)).toString(32)+T,m=":"+m+"R"+T,T=gm++,0<T&&(m+="H"+T.toString(32)),m+=":"}else T=YP++,m=":"+m+"r"+T.toString(32)+":";return h.memoizedState=m},useCacheRefresh:function(){return Os().memoizedState=ZP.bind(null,_r)}};Xc.useMemoCache=nv,Xc.useHostTransitionStatus=dv,Xc.useFormState=B2,Xc.useActionState=B2,Xc.useOptimistic=function(h){var m=Os();m.memoizedState=m.baseState=h;var T={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return m.queue=T,m=fv.bind(null,_r,!0,T),T.dispatch=m,[h,m]};var zl={readContext:es,use:vm,useCallback:K2,useContext:es,useEffect:lv,useImperativeHandle:X2,useInsertionEffect:q2,useLayoutEffect:Y2,useMemo:Q2,useReducer:_m,useRef:H2,useState:function(){return _m(Yo)},useDebugValue:cv,useDeferredValue:function(h,m){var T=ri();return Z2(T,cn.memoizedState,h,m)},useTransition:function(){var h=_m(Yo)[0],m=ri().memoizedState;return[typeof h=="boolean"?h:Gd(h),m]},useSyncExternalStore:j2,useId:rS};zl.useCacheRefresh=nS,zl.useMemoCache=nv,zl.useHostTransitionStatus=dv,zl.useFormState=V2,zl.useActionState=V2,zl.useOptimistic=function(h,m){var T=ri();return P2(T,cn,h,m)};var Kc={readContext:es,use:vm,useCallback:K2,useContext:es,useEffect:lv,useImperativeHandle:X2,useInsertionEffect:q2,useLayoutEffect:Y2,useMemo:Q2,useReducer:sv,useRef:H2,useState:function(){return sv(Yo)},useDebugValue:cv,useDeferredValue:function(h,m){var T=ri();return cn===null?uv(T,h,m):Z2(T,cn.memoizedState,h,m)},useTransition:function(){var h=sv(Yo)[0],m=ri().memoizedState;return[typeof h=="boolean"?h:Gd(h),m]},useSyncExternalStore:j2,useId:rS};Kc.useCacheRefresh=nS,Kc.useMemoCache=nv,Kc.useHostTransitionStatus=dv,Kc.useFormState=z2,Kc.useActionState=z2,Kc.useOptimistic=function(h,m){var T=ri();return cn!==null?P2(T,cn,h,m):(T.baseState=h,[h,T.queue.dispatch])};function pv(h,m,T,k){m=h.memoizedState,T=T(k,m),T=T==null?m:P({},m,T),h.memoizedState=T,h.lanes===0&&(h.updateQueue.baseState=T)}var mv={isMounted:function(h){return(h=h._reactInternals)?te(h)===h:!1},enqueueSetState:function(h,m,T){h=h._reactInternals;var k=$s(),G=ql(k);G.payload=m,T!=null&&(G.callback=T),m=Yl(h,G,k),m!==null&&(gs(m,h,k),qd(m,h,k))},enqueueReplaceState:function(h,m,T){h=h._reactInternals;var k=$s(),G=ql(k);G.tag=1,G.payload=m,T!=null&&(G.callback=T),m=Yl(h,G,k),m!==null&&(gs(m,h,k),qd(m,h,k))},enqueueForceUpdate:function(h,m){h=h._reactInternals;var T=$s(),k=ql(T);k.tag=2,m!=null&&(k.callback=m),m=Yl(h,k,T),m!==null&&(gs(m,h,T),qd(m,h,T))}};function oS(h,m,T,k,G,K,fe){return h=h.stateNode,typeof h.shouldComponentUpdate=="function"?h.shouldComponentUpdate(k,K,fe):m.prototype&&m.prototype.isPureReactComponent?!vn(T,k)||!vn(G,K):!0}function lS(h,m,T,k){h=m.state,typeof m.componentWillReceiveProps=="function"&&m.componentWillReceiveProps(T,k),typeof m.UNSAFE_componentWillReceiveProps=="function"&&m.UNSAFE_componentWillReceiveProps(T,k),m.state!==h&&mv.enqueueReplaceState(m,m.state,null)}function Qc(h,m){var T=m;if("ref"in m){T={};for(var k in m)k!=="ref"&&(T[k]=m[k])}if(h=h.defaultProps){T===m&&(T=P({},T));for(var G in h)T[G]===void 0&&(T[G]=h[G])}return T}var Sm=typeof reportError=="function"?reportError:function(h){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var m=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof h=="object"&&h!==null&&typeof h.message=="string"?String(h.message):String(h),error:h});if(!window.dispatchEvent(m))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",h);return}console.error(h)};function cS(h){Sm(h)}function uS(h){console.error(h)}function hS(h){Sm(h)}function Tm(h,m){try{var T=h.onUncaughtError;T(m.value,{componentStack:m.stack})}catch(k){setTimeout(function(){throw k})}}function dS(h,m,T){try{var k=h.onCaughtError;k(T.value,{componentStack:T.stack,errorBoundary:m.tag===1?m.stateNode:null})}catch(G){setTimeout(function(){throw G})}}function gv(h,m,T){return T=ql(T),T.tag=3,T.payload={element:null},T.callback=function(){Tm(h,m)},T}function fS(h){return h=ql(h),h.tag=3,h}function pS(h,m,T,k){var G=T.type.getDerivedStateFromError;if(typeof G=="function"){var K=k.value;h.payload=function(){return G(K)},h.callback=function(){dS(m,T,k)}}var fe=T.stateNode;fe!==null&&typeof fe.componentDidCatch=="function"&&(h.callback=function(){dS(m,T,k),typeof G!="function"&&(Jl===null?Jl=new Set([this]):Jl.add(this));var Ce=k.stack;this.componentDidCatch(k.value,{componentStack:Ce!==null?Ce:""})})}function eD(h,m,T,k,G){if(T.flags|=32768,k!==null&&typeof k=="object"&&typeof k.then=="function"){if(m=T.alternate,m!==null&&Wd(m,T,G,!0),T=ga.current,T!==null){switch(T.tag){case 13:return co===null?Qv():T.alternate===null&&Nn===0&&(Nn=3),T.flags&=-257,T.flags|=65536,T.lanes=G,k===qy?T.flags|=16384:(m=T.updateQueue,m===null?T.updateQueue=new Set([k]):m.add(k),Jv(h,k,G)),!1;case 22:return T.flags|=65536,k===qy?T.flags|=16384:(m=T.updateQueue,m===null?(m={transitions:null,markerInstances:null,retryQueue:new Set([k])},T.updateQueue=m):(T=m.retryQueue,T===null?m.retryQueue=new Set([k]):T.add(k)),Jv(h,k,G)),!1}throw Error(r(435,T.tag))}return Jv(h,k,G),Qv(),!1}if(Br)return m=ga.current,m!==null?(!(m.flags&65536)&&(m.flags|=256),m.flags|=65536,m.lanes=G,k!==Wy&&(h=Error(r(422),{cause:k}),Pd(fa(h,T)))):(k!==Wy&&(m=Error(r(423),{cause:k}),Pd(fa(m,T))),h=h.current.alternate,h.flags|=65536,G&=-G,h.lanes|=G,k=fa(k,T),G=gv(h.stateNode,k,G),Iv(h,G),Nn!==4&&(Nn=2)),!1;var K=Error(r(520),{cause:k});if(K=fa(K,T),ef===null?ef=[K]:ef.push(K),Nn!==4&&(Nn=2),m===null)return!0;k=fa(k,T),T=m;do{switch(T.tag){case 3:return T.flags|=65536,h=G&-G,T.lanes|=h,h=gv(T.stateNode,k,h),Iv(T,h),!1;case 1:if(m=T.type,K=T.stateNode,(T.flags&128)===0&&(typeof m.getDerivedStateFromError=="function"||K!==null&&typeof K.componentDidCatch=="function"&&(Jl===null||!Jl.has(K))))return T.flags|=65536,G&=-G,T.lanes|=G,G=fS(G),pS(G,h,T,k),Iv(T,G),!1}T=T.return}while(T!==null);return!1}var mS=Error(r(461)),Ei=!1;function Li(h,m,T,k){m.child=h===null?b2(m,null,T,k):qc(m,h.child,T,k)}function gS(h,m,T,k,G){T=T.render;var K=m.ref;if("ref"in k){var fe={};for(var Ce in k)Ce!=="ref"&&(fe[Ce]=k[Ce])}else fe=k;return Jc(m),k=Jy(h,m,T,fe,K,G),Ce=ev(),h!==null&&!Ei?(tv(h,m,G),$o(h,m,G)):(Br&&Ce&&zy(m),m.flags|=1,Li(h,m,k,G),m.child)}function yS(h,m,T,k,G){if(h===null){var K=T.type;return typeof K=="function"&&!Uv(K)&&K.defaultProps===void 0&&T.compare===null?(m.tag=15,m.type=K,vS(h,m,K,k,G)):(h=Rm(T.type,null,k,m,m.mode,G),h.ref=m.ref,h.return=m,m.child=h)}if(K=h.child,!Ev(h,G)){var fe=K.memoizedProps;if(T=T.compare,T=T!==null?T:vn,T(fe,k)&&h.ref===m.ref)return $o(h,m,G)}return m.flags|=1,h=Ql(K,k),h.ref=m.ref,h.return=m,m.child=h}function vS(h,m,T,k,G){if(h!==null){var K=h.memoizedProps;if(vn(K,k)&&h.ref===m.ref)if(Ei=!1,m.pendingProps=k=K,Ev(h,G))h.flags&131072&&(Ei=!0);else return m.lanes=h.lanes,$o(h,m,G)}return yv(h,m,T,k,G)}function _S(h,m,T){var k=m.pendingProps,G=k.children,K=(m.stateNode._pendingVisibility&2)!==0,fe=h!==null?h.memoizedState:null;if(Hd(h,m),k.mode==="hidden"||K){if(m.flags&128){if(k=fe!==null?fe.baseLanes|T:T,h!==null){for(G=m.child=h.child,K=0;G!==null;)K=K|G.lanes|G.childLanes,G=G.sibling;m.childLanes=K&~k}else m.childLanes=0,m.child=null;return bS(h,m,k,T)}if(T&536870912)m.memoizedState={baseLanes:0,cachePool:null},h!==null&&pm(m,fe!==null?fe.cachePool:null),fe!==null?x2(m,fe):Yy(),w2(m);else return m.lanes=m.childLanes=536870912,bS(h,m,fe!==null?fe.baseLanes|T:T,T)}else fe!==null?(pm(m,fe.cachePool),x2(m,fe),Vl(),m.memoizedState=null):(h!==null&&pm(m,null),Yy(),Vl());return Li(h,m,G,T),m.child}function bS(h,m,T,k){var G=Qy();return G=G===null?null:{parent:_i._currentValue,pool:G},m.memoizedState={baseLanes:T,cachePool:G},h!==null&&pm(m,null),Yy(),w2(m),h!==null&&Wd(h,m,k,!0),null}function Hd(h,m){var T=m.ref;if(T===null)h!==null&&h.ref!==null&&(m.flags|=2097664);else{if(typeof T!="function"&&typeof T!="object")throw Error(r(284));(h===null||h.ref!==T)&&(m.flags|=2097664)}}function yv(h,m,T,k,G){return Jc(m),T=Jy(h,m,T,k,void 0,G),k=ev(),h!==null&&!Ei?(tv(h,m,G),$o(h,m,G)):(Br&&k&&zy(m),m.flags|=1,Li(h,m,T,G),m.child)}function xS(h,m,T,k,G,K){return Jc(m),m.updateQueue=null,T=A2(m,k,T,G),C2(h),k=ev(),h!==null&&!Ei?(tv(h,m,K),$o(h,m,K)):(Br&&k&&zy(m),m.flags|=1,Li(h,m,T,K),m.child)}function wS(h,m,T,k,G){if(Jc(m),m.stateNode===null){var K=sh,fe=T.contextType;typeof fe=="object"&&fe!==null&&(K=es(fe)),K=new T(k,K),m.memoizedState=K.state!==null&&K.state!==void 0?K.state:null,K.updater=mv,m.stateNode=K,K._reactInternals=m,K=m.stateNode,K.props=k,K.state=m.memoizedState,K.refs={},Rv(m),fe=T.contextType,K.context=typeof fe=="object"&&fe!==null?es(fe):sh,K.state=m.memoizedState,fe=T.getDerivedStateFromProps,typeof fe=="function"&&(pv(m,T,fe,k),K.state=m.memoizedState),typeof T.getDerivedStateFromProps=="function"||typeof K.getSnapshotBeforeUpdate=="function"||typeof K.UNSAFE_componentWillMount!="function"&&typeof K.componentWillMount!="function"||(fe=K.state,typeof K.componentWillMount=="function"&&K.componentWillMount(),typeof K.UNSAFE_componentWillMount=="function"&&K.UNSAFE_componentWillMount(),fe!==K.state&&mv.enqueueReplaceState(K,K.state,null),$d(m,k,K,G),Yd(),K.state=m.memoizedState),typeof K.componentDidMount=="function"&&(m.flags|=4194308),k=!0}else if(h===null){K=m.stateNode;var Ce=m.memoizedProps,ze=Qc(T,Ce);K.props=ze;var et=K.context,wt=T.contextType;fe=sh,typeof wt=="object"&&wt!==null&&(fe=es(wt));var Ot=T.getDerivedStateFromProps;wt=typeof Ot=="function"||typeof K.getSnapshotBeforeUpdate=="function",Ce=m.pendingProps!==Ce,wt||typeof K.UNSAFE_componentWillReceiveProps!="function"&&typeof K.componentWillReceiveProps!="function"||(Ce||et!==fe)&&lS(m,K,k,fe),Wl=!1;var ut=m.memoizedState;K.state=ut,$d(m,k,K,G),Yd(),et=m.memoizedState,Ce||ut!==et||Wl?(typeof Ot=="function"&&(pv(m,T,Ot,k),et=m.memoizedState),(ze=Wl||oS(m,T,ze,k,ut,et,fe))?(wt||typeof K.UNSAFE_componentWillMount!="function"&&typeof K.componentWillMount!="function"||(typeof K.componentWillMount=="function"&&K.componentWillMount(),typeof K.UNSAFE_componentWillMount=="function"&&K.UNSAFE_componentWillMount()),typeof K.componentDidMount=="function"&&(m.flags|=4194308)):(typeof K.componentDidMount=="function"&&(m.flags|=4194308),m.memoizedProps=k,m.memoizedState=et),K.props=k,K.state=et,K.context=fe,k=ze):(typeof K.componentDidMount=="function"&&(m.flags|=4194308),k=!1)}else{K=m.stateNode,Ov(h,m),fe=m.memoizedProps,wt=Qc(T,fe),K.props=wt,Ot=m.pendingProps,ut=K.context,et=T.contextType,ze=sh,typeof et=="object"&&et!==null&&(ze=es(et)),Ce=T.getDerivedStateFromProps,(et=typeof Ce=="function"||typeof K.getSnapshotBeforeUpdate=="function")||typeof K.UNSAFE_componentWillReceiveProps!="function"&&typeof K.componentWillReceiveProps!="function"||(fe!==Ot||ut!==ze)&&lS(m,K,k,ze),Wl=!1,ut=m.memoizedState,K.state=ut,$d(m,k,K,G),Yd();var _t=m.memoizedState;fe!==Ot||ut!==_t||Wl||h!==null&&h.dependencies!==null&&Em(h.dependencies)?(typeof Ce=="function"&&(pv(m,T,Ce,k),_t=m.memoizedState),(wt=Wl||oS(m,T,wt,k,ut,_t,ze)||h!==null&&h.dependencies!==null&&Em(h.dependencies))?(et||typeof K.UNSAFE_componentWillUpdate!="function"&&typeof K.componentWillUpdate!="function"||(typeof K.componentWillUpdate=="function"&&K.componentWillUpdate(k,_t,ze),typeof K.UNSAFE_componentWillUpdate=="function"&&K.UNSAFE_componentWillUpdate(k,_t,ze)),typeof K.componentDidUpdate=="function"&&(m.flags|=4),typeof K.getSnapshotBeforeUpdate=="function"&&(m.flags|=1024)):(typeof K.componentDidUpdate!="function"||fe===h.memoizedProps&&ut===h.memoizedState||(m.flags|=4),typeof K.getSnapshotBeforeUpdate!="function"||fe===h.memoizedProps&&ut===h.memoizedState||(m.flags|=1024),m.memoizedProps=k,m.memoizedState=_t),K.props=k,K.state=_t,K.context=ze,k=wt):(typeof K.componentDidUpdate!="function"||fe===h.memoizedProps&&ut===h.memoizedState||(m.flags|=4),typeof K.getSnapshotBeforeUpdate!="function"||fe===h.memoizedProps&&ut===h.memoizedState||(m.flags|=1024),k=!1)}return K=k,Hd(h,m),k=(m.flags&128)!==0,K||k?(K=m.stateNode,T=k&&typeof T.getDerivedStateFromError!="function"?null:K.render(),m.flags|=1,h!==null&&k?(m.child=qc(m,h.child,null,G),m.child=qc(m,null,T,G)):Li(h,m,T,G),m.memoizedState=K.state,h=m.child):h=$o(h,m,G),h}function SS(h,m,T,k){return Md(),m.flags|=256,Li(h,m,T,k),m.child}var vv={dehydrated:null,treeContext:null,retryLane:0};function _v(h){return{baseLanes:h,cachePool:E2()}}function bv(h,m,T){return h=h!==null?h.childLanes&~T:0,m&&(h|=ba),h}function TS(h,m,T){var k=m.pendingProps,G=!1,K=(m.flags&128)!==0,fe;if((fe=K)||(fe=h!==null&&h.memoizedState===null?!1:(vi.current&2)!==0),fe&&(G=!0,m.flags&=-129),fe=(m.flags&32)!==0,m.flags&=-33,h===null){if(Br){if(G?Bl(m):Vl(),Br){var Ce=Ni,ze;if(ze=Ce){e:{for(ze=Ce,Ce=lo;ze.nodeType!==8;){if(!Ce){Ce=null;break e}if(ze=Ha(ze.nextSibling),ze===null){Ce=null;break e}}Ce=ze}Ce!==null?(m.memoizedState={dehydrated:Ce,treeContext:zc!==null?{id:Ho,overflow:Wo}:null,retryLane:536870912},ze=_a(18,null,null,0),ze.stateNode=Ce,ze.return=m,m.child=ze,ms=m,Ni=null,ze=!0):ze=!1}ze||Wc(m)}if(Ce=m.memoizedState,Ce!==null&&(Ce=Ce.dehydrated,Ce!==null))return Ce.data==="$!"?m.lanes=16:m.lanes=536870912,null;qo(m)}return Ce=k.children,k=k.fallback,G?(Vl(),G=m.mode,Ce=wv({mode:"hidden",children:Ce},G),k=tu(k,G,T,null),Ce.return=m,k.return=m,Ce.sibling=k,m.child=Ce,G=m.child,G.memoizedState=_v(T),G.childLanes=bv(h,fe,T),m.memoizedState=vv,k):(Bl(m),xv(m,Ce))}if(ze=h.memoizedState,ze!==null&&(Ce=ze.dehydrated,Ce!==null)){if(K)m.flags&256?(Bl(m),m.flags&=-257,m=Sv(h,m,T)):m.memoizedState!==null?(Vl(),m.child=h.child,m.flags|=128,m=null):(Vl(),G=k.fallback,Ce=m.mode,k=wv({mode:"visible",children:k.children},Ce),G=tu(G,Ce,T,null),G.flags|=2,k.return=m,G.return=m,k.sibling=G,m.child=k,qc(m,h.child,null,T),k=m.child,k.memoizedState=_v(T),k.childLanes=bv(h,fe,T),m.memoizedState=vv,m=G);else if(Bl(m),Ce.data==="$!"){if(fe=Ce.nextSibling&&Ce.nextSibling.dataset,fe)var et=fe.dgst;fe=et,k=Error(r(419)),k.stack="",k.digest=fe,Pd({value:k,source:null,stack:null}),m=Sv(h,m,T)}else if(Ei||Wd(h,m,T,!1),fe=(T&h.childLanes)!==0,Ei||fe){if(fe=_n,fe!==null){if(k=T&-T,k&42)k=1;else switch(k){case 2:k=1;break;case 8:k=4;break;case 32:k=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:k=64;break;case 268435456:k=134217728;break;default:k=0}if(k=k&(fe.suspendedLanes|T)?0:k,k!==0&&k!==ze.retryLane)throw ze.retryLane=k,Ul(h,k),gs(fe,h,k),mS}Ce.data==="$?"||Qv(),m=Sv(h,m,T)}else Ce.data==="$?"?(m.flags|=128,m.child=h.child,m=mD.bind(null,h),Ce._reactRetry=m,m=null):(h=ze.treeContext,Ni=Ha(Ce.nextSibling),ms=m,Br=!0,Ga=null,lo=!1,h!==null&&(pa[ma++]=Ho,pa[ma++]=Wo,pa[ma++]=zc,Ho=h.id,Wo=h.overflow,zc=m),m=xv(m,k.children),m.flags|=4096);return m}return G?(Vl(),G=k.fallback,Ce=m.mode,ze=h.child,et=ze.sibling,k=Ql(ze,{mode:"hidden",children:k.children}),k.subtreeFlags=ze.subtreeFlags&31457280,et!==null?G=Ql(et,G):(G=tu(G,Ce,T,null),G.flags|=2),G.return=m,k.return=m,k.sibling=G,m.child=k,k=G,G=m.child,Ce=h.child.memoizedState,Ce===null?Ce=_v(T):(ze=Ce.cachePool,ze!==null?(et=_i._currentValue,ze=ze.parent!==et?{parent:et,pool:et}:ze):ze=E2(),Ce={baseLanes:Ce.baseLanes|T,cachePool:ze}),G.memoizedState=Ce,G.childLanes=bv(h,fe,T),m.memoizedState=vv,k):(Bl(m),T=h.child,h=T.sibling,T=Ql(T,{mode:"visible",children:k.children}),T.return=m,T.sibling=null,h!==null&&(fe=m.deletions,fe===null?(m.deletions=[h],m.flags|=16):fe.push(h)),m.child=T,m.memoizedState=null,T)}function xv(h,m){return m=wv({mode:"visible",children:m},h.mode),m.return=h,h.child=m}function wv(h,m){return KS(h,m,0,null)}function Sv(h,m,T){return qc(m,h.child,null,T),h=xv(m,m.pendingProps.children),h.flags|=2,m.memoizedState=null,h}function ES(h,m,T){h.lanes|=m;var k=h.alternate;k!==null&&(k.lanes|=m),Av(h.return,m,T)}function Tv(h,m,T,k,G){var K=h.memoizedState;K===null?h.memoizedState={isBackwards:m,rendering:null,renderingStartTime:0,last:k,tail:T,tailMode:G}:(K.isBackwards=m,K.rendering=null,K.renderingStartTime=0,K.last=k,K.tail=T,K.tailMode=G)}function CS(h,m,T){var k=m.pendingProps,G=k.revealOrder,K=k.tail;if(Li(h,m,k.children,T),k=vi.current,k&2)k=k&1|2,m.flags|=128;else{if(h!==null&&h.flags&128)e:for(h=m.child;h!==null;){if(h.tag===13)h.memoizedState!==null&&ES(h,T,m);else if(h.tag===19)ES(h,T,m);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===m)break e;for(;h.sibling===null;){if(h.return===null||h.return===m)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}k&=1}switch(ye(vi,k),G){case"forwards":for(T=m.child,G=null;T!==null;)h=T.alternate,h!==null&&fm(h)===null&&(G=T),T=T.sibling;T=G,T===null?(G=m.child,m.child=null):(G=T.sibling,T.sibling=null),Tv(m,!1,G,T,K);break;case"backwards":for(T=null,G=m.child,m.child=null;G!==null;){if(h=G.alternate,h!==null&&fm(h)===null){m.child=G;break}h=G.sibling,G.sibling=T,T=G,G=h}Tv(m,!0,T,null,K);break;case"together":Tv(m,!1,null,null,void 0);break;default:m.memoizedState=null}return m.child}function $o(h,m,T){if(h!==null&&(m.dependencies=h.dependencies),Zl|=m.lanes,!(T&m.childLanes))if(h!==null){if(Wd(h,m,T,!1),(T&m.childLanes)===0)return null}else return null;if(h!==null&&m.child!==h.child)throw Error(r(153));if(m.child!==null){for(h=m.child,T=Ql(h,h.pendingProps),m.child=T,T.return=m;h.sibling!==null;)h=h.sibling,T=T.sibling=Ql(h,h.pendingProps),T.return=m;T.sibling=null}return m.child}function Ev(h,m){return h.lanes&m?!0:(h=h.dependencies,!!(h!==null&&Em(h)))}function tD(h,m,T){switch(m.tag){case 3:Te(m,m.stateNode.containerInfo),Hl(m,_i,h.memoizedState.cache),Md();break;case 27:case 5:Me(m);break;case 4:Te(m,m.stateNode.containerInfo);break;case 10:Hl(m,m.type,m.memoizedProps.value);break;case 13:var k=m.memoizedState;if(k!==null)return k.dehydrated!==null?(Bl(m),m.flags|=128,null):T&m.child.childLanes?TS(h,m,T):(Bl(m),h=$o(h,m,T),h!==null?h.sibling:null);Bl(m);break;case 19:var G=(h.flags&128)!==0;if(k=(T&m.childLanes)!==0,k||(Wd(h,m,T,!1),k=(T&m.childLanes)!==0),G){if(k)return CS(h,m,T);m.flags|=128}if(G=m.memoizedState,G!==null&&(G.rendering=null,G.tail=null,G.lastEffect=null),ye(vi,vi.current),k)break;return null;case 22:case 23:return m.lanes=0,_S(h,m,T);case 24:Hl(m,_i,h.memoizedState.cache)}return $o(h,m,T)}function AS(h,m,T){if(h!==null)if(h.memoizedProps!==m.pendingProps)Ei=!0;else{if(!Ev(h,T)&&!(m.flags&128))return Ei=!1,tD(h,m,T);Ei=!!(h.flags&131072)}else Ei=!1,Br&&m.flags&1048576&&h2(m,lm,m.index);switch(m.lanes=0,m.tag){case 16:e:{h=m.pendingProps;var k=m.elementType,G=k._init;if(k=G(k._payload),m.type=k,typeof k=="function")Uv(k)?(h=Qc(k,h),m.tag=1,m=wS(null,m,k,h,T)):(m.tag=0,m=yv(null,m,k,h,T));else{if(k!=null){if(G=k.$$typeof,G===b){m.tag=11,m=gS(null,m,k,h,T);break e}else if(G===_){m.tag=14,m=yS(null,m,k,h,T);break e}}throw m=C(k)||k,Error(r(306,m,""))}}return m;case 0:return yv(h,m,m.type,m.pendingProps,T);case 1:return k=m.type,G=Qc(k,m.pendingProps),wS(h,m,k,G,T);case 3:e:{if(Te(m,m.stateNode.containerInfo),h===null)throw Error(r(387));var K=m.pendingProps;G=m.memoizedState,k=G.element,Ov(h,m),$d(m,K,null,T);var fe=m.memoizedState;if(K=fe.cache,Hl(m,_i,K),K!==G.cache&&jv(m,[_i],T,!0),Yd(),K=fe.element,G.isDehydrated)if(G={element:K,isDehydrated:!1,cache:fe.cache},m.updateQueue.baseState=G,m.memoizedState=G,m.flags&256){m=SS(h,m,K,T);break e}else if(K!==k){k=fa(Error(r(424)),m),Pd(k),m=SS(h,m,K,T);break e}else for(Ni=Ha(m.stateNode.containerInfo.firstChild),ms=m,Br=!0,Ga=null,lo=!0,T=b2(m,null,K,T),m.child=T;T;)T.flags=T.flags&-3|4096,T=T.sibling;else{if(Md(),K===k){m=$o(h,m,T);break e}Li(h,m,K,T)}m=m.child}return m;case 26:return Hd(h,m),h===null?(T=OT(m.type,null,m.pendingProps,null))?m.memoizedState=T:Br||(T=m.type,h=m.pendingProps,k=Vm(Se.current).createElement(T),k[Ae]=m,k[Ie]=h,Fi(k,T,h),mt(k),m.stateNode=k):m.memoizedState=OT(m.type,h.memoizedProps,m.pendingProps,h.memoizedState),null;case 27:return Me(m),h===null&&Br&&(k=m.stateNode=AT(m.type,m.pendingProps,Se.current),ms=m,lo=!0,Ni=Ha(k.firstChild)),k=m.pendingProps.children,h!==null||Br?Li(h,m,k,T):m.child=qc(m,null,k,T),Hd(h,m),m.child;case 5:return h===null&&Br&&((G=k=Ni)&&(k=ID(k,m.type,m.pendingProps,lo),k!==null?(m.stateNode=k,ms=m,Ni=Ha(k.firstChild),lo=!1,G=!0):G=!1),G||Wc(m)),Me(m),G=m.type,K=m.pendingProps,fe=h!==null?h.memoizedProps:null,k=K.children,h1(G,K)?k=null:fe!==null&&h1(G,fe)&&(m.flags|=32),m.memoizedState!==null&&(G=Jy(h,m,$P,null,null,T),uf._currentValue=G),Hd(h,m),Li(h,m,k,T),m.child;case 6:return h===null&&Br&&((h=T=Ni)&&(T=kD(T,m.pendingProps,lo),T!==null?(m.stateNode=T,ms=m,Ni=null,h=!0):h=!1),h||Wc(m)),null;case 13:return TS(h,m,T);case 4:return Te(m,m.stateNode.containerInfo),k=m.pendingProps,h===null?m.child=qc(m,null,k,T):Li(h,m,k,T),m.child;case 11:return gS(h,m,m.type,m.pendingProps,T);case 7:return Li(h,m,m.pendingProps,T),m.child;case 8:return Li(h,m,m.pendingProps.children,T),m.child;case 12:return Li(h,m,m.pendingProps.children,T),m.child;case 10:return k=m.pendingProps,Hl(m,m.type,k.value),Li(h,m,k.children,T),m.child;case 9:return G=m.type._context,k=m.pendingProps.children,Jc(m),G=es(G),k=k(G),m.flags|=1,Li(h,m,k,T),m.child;case 14:return yS(h,m,m.type,m.pendingProps,T);case 15:return vS(h,m,m.type,m.pendingProps,T);case 19:return CS(h,m,T);case 22:return _S(h,m,T);case 24:return Jc(m),k=es(_i),h===null?(G=Qy(),G===null&&(G=_n,K=Xy(),G.pooledCache=K,K.refCount++,K!==null&&(G.pooledCacheLanes|=T),G=K),m.memoizedState={parent:k,cache:G},Rv(m),Hl(m,_i,G)):(h.lanes&T&&(Ov(h,m),$d(m,null,null,T),Yd()),G=h.memoizedState,K=m.memoizedState,G.parent!==k?(G={parent:k,cache:k},m.memoizedState=G,m.lanes===0&&(m.memoizedState=m.updateQueue.baseState=G),Hl(m,_i,k)):(k=K.cache,Hl(m,_i,k),k!==G.cache&&jv(m,[_i],T,!0))),Li(h,m,m.pendingProps.children,T),m.child;case 29:throw m.pendingProps}throw Error(r(156,m.tag))}var Cv=le(null),Zc=null,Xo=null;function Hl(h,m,T){ye(Cv,m._currentValue),m._currentValue=T}function Ko(h){h._currentValue=Cv.current,he(Cv)}function Av(h,m,T){for(;h!==null;){var k=h.alternate;if((h.childLanes&m)!==m?(h.childLanes|=m,k!==null&&(k.childLanes|=m)):k!==null&&(k.childLanes&m)!==m&&(k.childLanes|=m),h===T)break;h=h.return}}function jv(h,m,T,k){var G=h.child;for(G!==null&&(G.return=h);G!==null;){var K=G.dependencies;if(K!==null){var fe=G.child;K=K.firstContext;e:for(;K!==null;){var Ce=K;K=G;for(var ze=0;ze<m.length;ze++)if(Ce.context===m[ze]){K.lanes|=T,Ce=K.alternate,Ce!==null&&(Ce.lanes|=T),Av(K.return,T,h),k||(fe=null);break e}K=Ce.next}}else if(G.tag===18){if(fe=G.return,fe===null)throw Error(r(341));fe.lanes|=T,K=fe.alternate,K!==null&&(K.lanes|=T),Av(fe,T,h),fe=null}else fe=G.child;if(fe!==null)fe.return=G;else for(fe=G;fe!==null;){if(fe===h){fe=null;break}if(G=fe.sibling,G!==null){G.return=fe.return,fe=G;break}fe=fe.return}G=fe}}function Wd(h,m,T,k){h=null;for(var G=m,K=!1;G!==null;){if(!K){if(G.flags&524288)K=!0;else if(G.flags&262144)break}if(G.tag===10){var fe=G.alternate;if(fe===null)throw Error(r(387));if(fe=fe.memoizedProps,fe!==null){var Ce=G.type;Tr(G.pendingProps.value,fe.value)||(h!==null?h.push(Ce):h=[Ce])}}else if(G===pe.current){if(fe=G.alternate,fe===null)throw Error(r(387));fe.memoizedState.memoizedState!==G.memoizedState.memoizedState&&(h!==null?h.push(uf):h=[uf])}G=G.return}h!==null&&jv(m,h,T,k),m.flags|=262144}function Em(h){for(h=h.firstContext;h!==null;){if(!Tr(h.context._currentValue,h.memoizedValue))return!0;h=h.next}return!1}function Jc(h){Zc=h,Xo=null,h=h.dependencies,h!==null&&(h.firstContext=null)}function es(h){return jS(Zc,h)}function Cm(h,m){return Zc===null&&Jc(h),jS(h,m)}function jS(h,m){var T=m._currentValue;if(m={context:m,memoizedValue:T,next:null},Xo===null){if(h===null)throw Error(r(308));Xo=m,h.dependencies={lanes:0,firstContext:m},h.flags|=524288}else Xo=Xo.next=m;return T}var Wl=!1;function Rv(h){h.updateQueue={baseState:h.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ov(h,m){h=h.updateQueue,m.updateQueue===h&&(m.updateQueue={baseState:h.baseState,firstBaseUpdate:h.firstBaseUpdate,lastBaseUpdate:h.lastBaseUpdate,shared:h.shared,callbacks:null})}function ql(h){return{lane:h,tag:0,payload:null,callback:null,next:null}}function Yl(h,m,T){var k=h.updateQueue;if(k===null)return null;if(k=k.shared,Mn&2){var G=k.pending;return G===null?m.next=m:(m.next=G.next,G.next=m),k.pending=m,m=am(h),c2(h,null,T),m}return sm(h,k,m,T),am(h)}function qd(h,m,T){if(m=m.updateQueue,m!==null&&(m=m.shared,(T&4194176)!==0)){var k=m.lanes;k&=h.pendingLanes,T|=k,m.lanes=T,on(h,T)}}function Iv(h,m){var T=h.updateQueue,k=h.alternate;if(k!==null&&(k=k.updateQueue,T===k)){var G=null,K=null;if(T=T.firstBaseUpdate,T!==null){do{var fe={lane:T.lane,tag:T.tag,payload:T.payload,callback:null,next:null};K===null?G=K=fe:K=K.next=fe,T=T.next}while(T!==null);K===null?G=K=m:K=K.next=m}else G=K=m;T={baseState:k.baseState,firstBaseUpdate:G,lastBaseUpdate:K,shared:k.shared,callbacks:k.callbacks},h.updateQueue=T;return}h=T.lastBaseUpdate,h===null?T.firstBaseUpdate=m:h.next=m,T.lastBaseUpdate=m}var kv=!1;function Yd(){if(kv){var h=hh;if(h!==null)throw h}}function $d(h,m,T,k){kv=!1;var G=h.updateQueue;Wl=!1;var K=G.firstBaseUpdate,fe=G.lastBaseUpdate,Ce=G.shared.pending;if(Ce!==null){G.shared.pending=null;var ze=Ce,et=ze.next;ze.next=null,fe===null?K=et:fe.next=et,fe=ze;var wt=h.alternate;wt!==null&&(wt=wt.updateQueue,Ce=wt.lastBaseUpdate,Ce!==fe&&(Ce===null?wt.firstBaseUpdate=et:Ce.next=et,wt.lastBaseUpdate=ze))}if(K!==null){var Ot=G.baseState;fe=0,wt=et=ze=null,Ce=K;do{var ut=Ce.lane&-536870913,_t=ut!==Ce.lane;if(_t?(Pr&ut)===ut:(k&ut)===ut){ut!==0&&ut===uh&&(kv=!0),wt!==null&&(wt=wt.next={lane:0,tag:Ce.tag,payload:Ce.payload,callback:null,next:null});e:{var Kt=h,fr=Ce;ut=m;var Ln=T;switch(fr.tag){case 1:if(Kt=fr.payload,typeof Kt=="function"){Ot=Kt.call(Ln,Ot,ut);break e}Ot=Kt;break e;case 3:Kt.flags=Kt.flags&-65537|128;case 0:if(Kt=fr.payload,ut=typeof Kt=="function"?Kt.call(Ln,Ot,ut):Kt,ut==null)break e;Ot=P({},Ot,ut);break e;case 2:Wl=!0}}ut=Ce.callback,ut!==null&&(h.flags|=64,_t&&(h.flags|=8192),_t=G.callbacks,_t===null?G.callbacks=[ut]:_t.push(ut))}else _t={lane:ut,tag:Ce.tag,payload:Ce.payload,callback:Ce.callback,next:null},wt===null?(et=wt=_t,ze=Ot):wt=wt.next=_t,fe|=ut;if(Ce=Ce.next,Ce===null){if(Ce=G.shared.pending,Ce===null)break;_t=Ce,Ce=_t.next,_t.next=null,G.lastBaseUpdate=_t,G.shared.pending=null}}while(!0);wt===null&&(ze=Ot),G.baseState=ze,G.firstBaseUpdate=et,G.lastBaseUpdate=wt,K===null&&(G.shared.lanes=0),Zl|=fe,h.lanes=fe,h.memoizedState=Ot}}function RS(h,m){if(typeof h!="function")throw Error(r(191,h));h.call(m)}function OS(h,m){var T=h.callbacks;if(T!==null)for(h.callbacks=null,h=0;h<T.length;h++)RS(T[h],m)}function Xd(h,m){try{var T=m.updateQueue,k=T!==null?T.lastEffect:null;if(k!==null){var G=k.next;T=G;do{if((T.tag&h)===h){k=void 0;var K=T.create,fe=T.inst;k=K(),fe.destroy=k}T=T.next}while(T!==G)}}catch(Ce){yn(m,m.return,Ce)}}function $l(h,m,T){try{var k=m.updateQueue,G=k!==null?k.lastEffect:null;if(G!==null){var K=G.next;k=K;do{if((k.tag&h)===h){var fe=k.inst,Ce=fe.destroy;if(Ce!==void 0){fe.destroy=void 0,G=m;var ze=T;try{Ce()}catch(et){yn(G,ze,et)}}}k=k.next}while(k!==K)}}catch(et){yn(m,m.return,et)}}function IS(h){var m=h.updateQueue;if(m!==null){var T=h.stateNode;try{OS(m,T)}catch(k){yn(h,h.return,k)}}}function kS(h,m,T){T.props=Qc(h.type,h.memoizedProps),T.state=h.memoizedState;try{T.componentWillUnmount()}catch(k){yn(h,m,k)}}function eu(h,m){try{var T=h.ref;if(T!==null){var k=h.stateNode;switch(h.tag){case 26:case 27:case 5:var G=k;break;default:G=k}typeof T=="function"?h.refCleanup=T(G):T.current=G}}catch(K){yn(h,m,K)}}function Ws(h,m){var T=h.ref,k=h.refCleanup;if(T!==null)if(typeof k=="function")try{k()}catch(G){yn(h,m,G)}finally{h.refCleanup=null,h=h.alternate,h!=null&&(h.refCleanup=null)}else if(typeof T=="function")try{T(null)}catch(G){yn(h,m,G)}else T.current=null}function MS(h){var m=h.type,T=h.memoizedProps,k=h.stateNode;try{e:switch(m){case"button":case"input":case"select":case"textarea":T.autoFocus&&k.focus();break e;case"img":T.src?k.src=T.src:T.srcSet&&(k.srcset=T.srcSet)}}catch(G){yn(h,h.return,G)}}function PS(h,m,T){try{var k=h.stateNode;CD(k,h.type,T,m),k[Ie]=m}catch(G){yn(h,h.return,G)}}function DS(h){return h.tag===5||h.tag===3||h.tag===26||h.tag===27||h.tag===4}function Mv(h){e:for(;;){for(;h.sibling===null;){if(h.return===null||DS(h.return))return null;h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&h.tag!==27&&h.tag!==18;){if(h.flags&2||h.child===null||h.tag===4)continue e;h.child.return=h,h=h.child}if(!(h.flags&2))return h.stateNode}}function Pv(h,m,T){var k=h.tag;if(k===5||k===6)h=h.stateNode,m?T.nodeType===8?T.parentNode.insertBefore(h,m):T.insertBefore(h,m):(T.nodeType===8?(m=T.parentNode,m.insertBefore(h,T)):(m=T,m.appendChild(h)),T=T._reactRootContainer,T!=null||m.onclick!==null||(m.onclick=Bm));else if(k!==4&&k!==27&&(h=h.child,h!==null))for(Pv(h,m,T),h=h.sibling;h!==null;)Pv(h,m,T),h=h.sibling}function Am(h,m,T){var k=h.tag;if(k===5||k===6)h=h.stateNode,m?T.insertBefore(h,m):T.appendChild(h);else if(k!==4&&k!==27&&(h=h.child,h!==null))for(Am(h,m,T),h=h.sibling;h!==null;)Am(h,m,T),h=h.sibling}var Qo=!1,Dn=!1,Dv=!1,NS=typeof WeakSet=="function"?WeakSet:Set,Ci=null,LS=!1;function rD(h,m){if(h=h.containerInfo,c1=Ym,h=Xr(h),en(h)){if("selectionStart"in h)var T={start:h.selectionStart,end:h.selectionEnd};else e:{T=(T=h.ownerDocument)&&T.defaultView||window;var k=T.getSelection&&T.getSelection();if(k&&k.rangeCount!==0){T=k.anchorNode;var G=k.anchorOffset,K=k.focusNode;k=k.focusOffset;try{T.nodeType,K.nodeType}catch{T=null;break e}var fe=0,Ce=-1,ze=-1,et=0,wt=0,Ot=h,ut=null;t:for(;;){for(var _t;Ot!==T||G!==0&&Ot.nodeType!==3||(Ce=fe+G),Ot!==K||k!==0&&Ot.nodeType!==3||(ze=fe+k),Ot.nodeType===3&&(fe+=Ot.nodeValue.length),(_t=Ot.firstChild)!==null;)ut=Ot,Ot=_t;for(;;){if(Ot===h)break t;if(ut===T&&++et===G&&(Ce=fe),ut===K&&++wt===k&&(ze=fe),(_t=Ot.nextSibling)!==null)break;Ot=ut,ut=Ot.parentNode}Ot=_t}T=Ce===-1||ze===-1?null:{start:Ce,end:ze}}else T=null}T=T||{start:0,end:0}}else T=null;for(u1={focusedElem:h,selectionRange:T},Ym=!1,Ci=m;Ci!==null;)if(m=Ci,h=m.child,(m.subtreeFlags&1028)!==0&&h!==null)h.return=m,Ci=h;else for(;Ci!==null;){switch(m=Ci,K=m.alternate,h=m.flags,m.tag){case 0:break;case 11:case 15:break;case 1:if(h&1024&&K!==null){h=void 0,T=m,G=K.memoizedProps,K=K.memoizedState,k=T.stateNode;try{var Kt=Qc(T.type,G,T.elementType===T.type);h=k.getSnapshotBeforeUpdate(Kt,K),k.__reactInternalSnapshotBeforeUpdate=h}catch(fr){yn(T,T.return,fr)}}break;case 3:if(h&1024){if(h=m.stateNode.containerInfo,T=h.nodeType,T===9)p1(h);else if(T===1)switch(h.nodeName){case"HEAD":case"HTML":case"BODY":p1(h);break;default:h.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(h&1024)throw Error(r(163))}if(h=m.sibling,h!==null){h.return=m.return,Ci=h;break}Ci=m.return}return Kt=LS,LS=!1,Kt}function FS(h,m,T){var k=T.flags;switch(T.tag){case 0:case 11:case 15:Jo(h,T),k&4&&Xd(5,T);break;case 1:if(Jo(h,T),k&4)if(h=T.stateNode,m===null)try{h.componentDidMount()}catch(Ce){yn(T,T.return,Ce)}else{var G=Qc(T.type,m.memoizedProps);m=m.memoizedState;try{h.componentDidUpdate(G,m,h.__reactInternalSnapshotBeforeUpdate)}catch(Ce){yn(T,T.return,Ce)}}k&64&&IS(T),k&512&&eu(T,T.return);break;case 3:if(Jo(h,T),k&64&&(k=T.updateQueue,k!==null)){if(h=null,T.child!==null)switch(T.child.tag){case 27:case 5:h=T.child.stateNode;break;case 1:h=T.child.stateNode}try{OS(k,h)}catch(Ce){yn(T,T.return,Ce)}}break;case 26:Jo(h,T),k&512&&eu(T,T.return);break;case 27:case 5:Jo(h,T),m===null&&k&4&&MS(T),k&512&&eu(T,T.return);break;case 12:Jo(h,T);break;case 13:Jo(h,T),k&4&&VS(h,T);break;case 22:if(G=T.memoizedState!==null||Qo,!G){m=m!==null&&m.memoizedState!==null||Dn;var K=Qo,fe=Dn;Qo=G,(Dn=m)&&!fe?Xl(h,T,(T.subtreeFlags&8772)!==0):Jo(h,T),Qo=K,Dn=fe}k&512&&(T.memoizedProps.mode==="manual"?eu(T,T.return):Ws(T,T.return));break;default:Jo(h,T)}}function US(h){var m=h.alternate;m!==null&&(h.alternate=null,US(m)),h.child=null,h.deletions=null,h.sibling=null,h.tag===5&&(m=h.stateNode,m!==null&&Be(m)),h.stateNode=null,h.return=null,h.dependencies=null,h.memoizedProps=null,h.memoizedState=null,h.pendingProps=null,h.stateNode=null,h.updateQueue=null}var ni=null,qs=!1;function Zo(h,m,T){for(T=T.child;T!==null;)BS(h,m,T),T=T.sibling}function BS(h,m,T){if(we&&typeof we.onCommitFiberUnmount=="function")try{we.onCommitFiberUnmount(ce,T)}catch{}switch(T.tag){case 26:Dn||Ws(T,m),Zo(h,m,T),T.memoizedState?T.memoizedState.count--:T.stateNode&&(T=T.stateNode,T.parentNode.removeChild(T));break;case 27:Dn||Ws(T,m);var k=ni,G=qs;for(ni=T.stateNode,Zo(h,m,T),T=T.stateNode,m=T.attributes;m.length;)T.removeAttributeNode(m[0]);Be(T),ni=k,qs=G;break;case 5:Dn||Ws(T,m);case 6:G=ni;var K=qs;if(ni=null,Zo(h,m,T),ni=G,qs=K,ni!==null)if(qs)try{h=ni,k=T.stateNode,h.nodeType===8?h.parentNode.removeChild(k):h.removeChild(k)}catch(fe){yn(T,m,fe)}else try{ni.removeChild(T.stateNode)}catch(fe){yn(T,m,fe)}break;case 18:ni!==null&&(qs?(m=ni,T=T.stateNode,m.nodeType===8?f1(m.parentNode,T):m.nodeType===1&&f1(m,T),pf(m)):f1(ni,T.stateNode));break;case 4:k=ni,G=qs,ni=T.stateNode.containerInfo,qs=!0,Zo(h,m,T),ni=k,qs=G;break;case 0:case 11:case 14:case 15:Dn||$l(2,T,m),Dn||$l(4,T,m),Zo(h,m,T);break;case 1:Dn||(Ws(T,m),k=T.stateNode,typeof k.componentWillUnmount=="function"&&kS(T,m,k)),Zo(h,m,T);break;case 21:Zo(h,m,T);break;case 22:Dn||Ws(T,m),Dn=(k=Dn)||T.memoizedState!==null,Zo(h,m,T),Dn=k;break;default:Zo(h,m,T)}}function VS(h,m){if(m.memoizedState===null&&(h=m.alternate,h!==null&&(h=h.memoizedState,h!==null&&(h=h.dehydrated,h!==null))))try{pf(h)}catch(T){yn(m,m.return,T)}}function nD(h){switch(h.tag){case 13:case 19:var m=h.stateNode;return m===null&&(m=h.stateNode=new NS),m;case 22:return h=h.stateNode,m=h._retryCache,m===null&&(m=h._retryCache=new NS),m;default:throw Error(r(435,h.tag))}}function Nv(h,m){var T=nD(h);m.forEach(function(k){var G=gD.bind(null,h,k);T.has(k)||(T.add(k),k.then(G,G))})}function ya(h,m){var T=m.deletions;if(T!==null)for(var k=0;k<T.length;k++){var G=T[k],K=h,fe=m,Ce=fe;e:for(;Ce!==null;){switch(Ce.tag){case 27:case 5:ni=Ce.stateNode,qs=!1;break e;case 3:ni=Ce.stateNode.containerInfo,qs=!0;break e;case 4:ni=Ce.stateNode.containerInfo,qs=!0;break e}Ce=Ce.return}if(ni===null)throw Error(r(160));BS(K,fe,G),ni=null,qs=!1,K=G.alternate,K!==null&&(K.return=null),G.return=null}if(m.subtreeFlags&13878)for(m=m.child;m!==null;)GS(m,h),m=m.sibling}var za=null;function GS(h,m){var T=h.alternate,k=h.flags;switch(h.tag){case 0:case 11:case 14:case 15:ya(m,h),va(h),k&4&&($l(3,h,h.return),Xd(3,h),$l(5,h,h.return));break;case 1:ya(m,h),va(h),k&512&&(Dn||T===null||Ws(T,T.return)),k&64&&Qo&&(h=h.updateQueue,h!==null&&(k=h.callbacks,k!==null&&(T=h.shared.hiddenCallbacks,h.shared.hiddenCallbacks=T===null?k:T.concat(k))));break;case 26:var G=za;if(ya(m,h),va(h),k&512&&(Dn||T===null||Ws(T,T.return)),k&4){var K=T!==null?T.memoizedState:null;if(k=h.memoizedState,T===null)if(k===null)if(h.stateNode===null){e:{k=h.type,T=h.memoizedProps,G=G.ownerDocument||G;t:switch(k){case"title":K=G.getElementsByTagName("title")[0],(!K||K[qe]||K[Ae]||K.namespaceURI==="http://www.w3.org/2000/svg"||K.hasAttribute("itemprop"))&&(K=G.createElement(k),G.head.insertBefore(K,G.querySelector("head > title"))),Fi(K,k,T),K[Ae]=h,mt(K),k=K;break e;case"link":var fe=MT("link","href",G).get(k+(T.href||""));if(fe){for(var Ce=0;Ce<fe.length;Ce++)if(K=fe[Ce],K.getAttribute("href")===(T.href==null?null:T.href)&&K.getAttribute("rel")===(T.rel==null?null:T.rel)&&K.getAttribute("title")===(T.title==null?null:T.title)&&K.getAttribute("crossorigin")===(T.crossOrigin==null?null:T.crossOrigin)){fe.splice(Ce,1);break t}}K=G.createElement(k),Fi(K,k,T),G.head.appendChild(K);break;case"meta":if(fe=MT("meta","content",G).get(k+(T.content||""))){for(Ce=0;Ce<fe.length;Ce++)if(K=fe[Ce],K.getAttribute("content")===(T.content==null?null:""+T.content)&&K.getAttribute("name")===(T.name==null?null:T.name)&&K.getAttribute("property")===(T.property==null?null:T.property)&&K.getAttribute("http-equiv")===(T.httpEquiv==null?null:T.httpEquiv)&&K.getAttribute("charset")===(T.charSet==null?null:T.charSet)){fe.splice(Ce,1);break t}}K=G.createElement(k),Fi(K,k,T),G.head.appendChild(K);break;default:throw Error(r(468,k))}K[Ae]=h,mt(K),k=K}h.stateNode=k}else PT(G,h.type,h.stateNode);else h.stateNode=kT(G,k,h.memoizedProps);else K!==k?(K===null?T.stateNode!==null&&(T=T.stateNode,T.parentNode.removeChild(T)):K.count--,k===null?PT(G,h.type,h.stateNode):kT(G,k,h.memoizedProps)):k===null&&h.stateNode!==null&&PS(h,h.memoizedProps,T.memoizedProps)}break;case 27:if(k&4&&h.alternate===null){G=h.stateNode,K=h.memoizedProps;try{for(var ze=G.firstChild;ze;){var et=ze.nextSibling,wt=ze.nodeName;ze[qe]||wt==="HEAD"||wt==="BODY"||wt==="SCRIPT"||wt==="STYLE"||wt==="LINK"&&ze.rel.toLowerCase()==="stylesheet"||G.removeChild(ze),ze=et}for(var Ot=h.type,ut=G.attributes;ut.length;)G.removeAttributeNode(ut[0]);Fi(G,Ot,K),G[Ae]=h,G[Ie]=K}catch(Kt){yn(h,h.return,Kt)}}case 5:if(ya(m,h),va(h),k&512&&(Dn||T===null||Ws(T,T.return)),h.flags&32){G=h.stateNode;try{In(G,"")}catch(Kt){yn(h,h.return,Kt)}}k&4&&h.stateNode!=null&&(G=h.memoizedProps,PS(h,G,T!==null?T.memoizedProps:G)),k&1024&&(Dv=!0);break;case 6:if(ya(m,h),va(h),k&4){if(h.stateNode===null)throw Error(r(162));k=h.memoizedProps,T=h.stateNode;try{T.nodeValue=k}catch(Kt){yn(h,h.return,Kt)}}break;case 3:if(Hm=null,G=za,za=Gm(m.containerInfo),ya(m,h),za=G,va(h),k&4&&T!==null&&T.memoizedState.isDehydrated)try{pf(m.containerInfo)}catch(Kt){yn(h,h.return,Kt)}Dv&&(Dv=!1,zS(h));break;case 4:k=za,za=Gm(h.stateNode.containerInfo),ya(m,h),va(h),za=k;break;case 12:ya(m,h),va(h);break;case 13:ya(m,h),va(h),h.child.flags&8192&&h.memoizedState!==null!=(T!==null&&T.memoizedState!==null)&&(Wv=bt()),k&4&&(k=h.updateQueue,k!==null&&(h.updateQueue=null,Nv(h,k)));break;case 22:if(k&512&&(Dn||T===null||Ws(T,T.return)),ze=h.memoizedState!==null,et=T!==null&&T.memoizedState!==null,wt=Qo,Ot=Dn,Qo=wt||ze,Dn=Ot||et,ya(m,h),Dn=Ot,Qo=wt,va(h),m=h.stateNode,m._current=h,m._visibility&=-3,m._visibility|=m._pendingVisibility&2,k&8192&&(m._visibility=ze?m._visibility&-2:m._visibility|1,ze&&(m=Qo||Dn,T===null||et||m||mh(h)),h.memoizedProps===null||h.memoizedProps.mode!=="manual"))e:for(T=null,m=h;;){if(m.tag===5||m.tag===26||m.tag===27){if(T===null){et=T=m;try{if(G=et.stateNode,ze)K=G.style,typeof K.setProperty=="function"?K.setProperty("display","none","important"):K.display="none";else{fe=et.stateNode,Ce=et.memoizedProps.style;var _t=Ce!=null&&Ce.hasOwnProperty("display")?Ce.display:null;fe.style.display=_t==null||typeof _t=="boolean"?"":(""+_t).trim()}}catch(Kt){yn(et,et.return,Kt)}}}else if(m.tag===6){if(T===null){et=m;try{et.stateNode.nodeValue=ze?"":et.memoizedProps}catch(Kt){yn(et,et.return,Kt)}}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===h)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===h)break e;for(;m.sibling===null;){if(m.return===null||m.return===h)break e;T===m&&(T=null),m=m.return}T===m&&(T=null),m.sibling.return=m.return,m=m.sibling}k&4&&(k=h.updateQueue,k!==null&&(T=k.retryQueue,T!==null&&(k.retryQueue=null,Nv(h,T))));break;case 19:ya(m,h),va(h),k&4&&(k=h.updateQueue,k!==null&&(h.updateQueue=null,Nv(h,k)));break;case 21:break;default:ya(m,h),va(h)}}function va(h){var m=h.flags;if(m&2){try{if(h.tag!==27){e:{for(var T=h.return;T!==null;){if(DS(T)){var k=T;break e}T=T.return}throw Error(r(160))}switch(k.tag){case 27:var G=k.stateNode,K=Mv(h);Am(h,K,G);break;case 5:var fe=k.stateNode;k.flags&32&&(In(fe,""),k.flags&=-33);var Ce=Mv(h);Am(h,Ce,fe);break;case 3:case 4:var ze=k.stateNode.containerInfo,et=Mv(h);Pv(h,et,ze);break;default:throw Error(r(161))}}}catch(wt){yn(h,h.return,wt)}h.flags&=-3}m&4096&&(h.flags&=-4097)}function zS(h){if(h.subtreeFlags&1024)for(h=h.child;h!==null;){var m=h;zS(m),m.tag===5&&m.flags&1024&&m.stateNode.reset(),h=h.sibling}}function Jo(h,m){if(m.subtreeFlags&8772)for(m=m.child;m!==null;)FS(h,m.alternate,m),m=m.sibling}function mh(h){for(h=h.child;h!==null;){var m=h;switch(m.tag){case 0:case 11:case 14:case 15:$l(4,m,m.return),mh(m);break;case 1:Ws(m,m.return);var T=m.stateNode;typeof T.componentWillUnmount=="function"&&kS(m,m.return,T),mh(m);break;case 26:case 27:case 5:Ws(m,m.return),mh(m);break;case 22:Ws(m,m.return),m.memoizedState===null&&mh(m);break;default:mh(m)}h=h.sibling}}function Xl(h,m,T){for(T=T&&(m.subtreeFlags&8772)!==0,m=m.child;m!==null;){var k=m.alternate,G=h,K=m,fe=K.flags;switch(K.tag){case 0:case 11:case 15:Xl(G,K,T),Xd(4,K);break;case 1:if(Xl(G,K,T),k=K,G=k.stateNode,typeof G.componentDidMount=="function")try{G.componentDidMount()}catch(et){yn(k,k.return,et)}if(k=K,G=k.updateQueue,G!==null){var Ce=k.stateNode;try{var ze=G.shared.hiddenCallbacks;if(ze!==null)for(G.shared.hiddenCallbacks=null,G=0;G<ze.length;G++)RS(ze[G],Ce)}catch(et){yn(k,k.return,et)}}T&&fe&64&&IS(K),eu(K,K.return);break;case 26:case 27:case 5:Xl(G,K,T),T&&k===null&&fe&4&&MS(K),eu(K,K.return);break;case 12:Xl(G,K,T);break;case 13:Xl(G,K,T),T&&fe&4&&VS(G,K);break;case 22:K.memoizedState===null&&Xl(G,K,T),eu(K,K.return);break;default:Xl(G,K,T)}m=m.sibling}}function Lv(h,m){var T=null;h!==null&&h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(T=h.memoizedState.cachePool.pool),h=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(h=m.memoizedState.cachePool.pool),h!==T&&(h!=null&&h.refCount++,T!=null&&Ud(T))}function Fv(h,m){h=null,m.alternate!==null&&(h=m.alternate.memoizedState.cache),m=m.memoizedState.cache,m!==h&&(m.refCount++,h!=null&&Ud(h))}function Kl(h,m,T,k){if(m.subtreeFlags&10256)for(m=m.child;m!==null;)HS(h,m,T,k),m=m.sibling}function HS(h,m,T,k){var G=m.flags;switch(m.tag){case 0:case 11:case 15:Kl(h,m,T,k),G&2048&&Xd(9,m);break;case 3:Kl(h,m,T,k),G&2048&&(h=null,m.alternate!==null&&(h=m.alternate.memoizedState.cache),m=m.memoizedState.cache,m!==h&&(m.refCount++,h!=null&&Ud(h)));break;case 12:if(G&2048){Kl(h,m,T,k),h=m.stateNode;try{var K=m.memoizedProps,fe=K.id,Ce=K.onPostCommit;typeof Ce=="function"&&Ce(fe,m.alternate===null?"mount":"update",h.passiveEffectDuration,-0)}catch(ze){yn(m,m.return,ze)}}else Kl(h,m,T,k);break;case 23:break;case 22:K=m.stateNode,m.memoizedState!==null?K._visibility&4?Kl(h,m,T,k):Kd(h,m):K._visibility&4?Kl(h,m,T,k):(K._visibility|=4,gh(h,m,T,k,(m.subtreeFlags&10256)!==0)),G&2048&&Lv(m.alternate,m);break;case 24:Kl(h,m,T,k),G&2048&&Fv(m.alternate,m);break;default:Kl(h,m,T,k)}}function gh(h,m,T,k,G){for(G=G&&(m.subtreeFlags&10256)!==0,m=m.child;m!==null;){var K=h,fe=m,Ce=T,ze=k,et=fe.flags;switch(fe.tag){case 0:case 11:case 15:gh(K,fe,Ce,ze,G),Xd(8,fe);break;case 23:break;case 22:var wt=fe.stateNode;fe.memoizedState!==null?wt._visibility&4?gh(K,fe,Ce,ze,G):Kd(K,fe):(wt._visibility|=4,gh(K,fe,Ce,ze,G)),G&&et&2048&&Lv(fe.alternate,fe);break;case 24:gh(K,fe,Ce,ze,G),G&&et&2048&&Fv(fe.alternate,fe);break;default:gh(K,fe,Ce,ze,G)}m=m.sibling}}function Kd(h,m){if(m.subtreeFlags&10256)for(m=m.child;m!==null;){var T=h,k=m,G=k.flags;switch(k.tag){case 22:Kd(T,k),G&2048&&Lv(k.alternate,k);break;case 24:Kd(T,k),G&2048&&Fv(k.alternate,k);break;default:Kd(T,k)}m=m.sibling}}var Qd=8192;function yh(h){if(h.subtreeFlags&Qd)for(h=h.child;h!==null;)WS(h),h=h.sibling}function WS(h){switch(h.tag){case 26:yh(h),h.flags&Qd&&h.memoizedState!==null&&WD(za,h.memoizedState,h.memoizedProps);break;case 5:yh(h);break;case 3:case 4:var m=za;za=Gm(h.stateNode.containerInfo),yh(h),za=m;break;case 22:h.memoizedState===null&&(m=h.alternate,m!==null&&m.memoizedState!==null?(m=Qd,Qd=16777216,yh(h),Qd=m):yh(h));break;default:yh(h)}}function qS(h){var m=h.alternate;if(m!==null&&(h=m.child,h!==null)){m.child=null;do m=h.sibling,h.sibling=null,h=m;while(h!==null)}}function Zd(h){var m=h.deletions;if(h.flags&16){if(m!==null)for(var T=0;T<m.length;T++){var k=m[T];Ci=k,$S(k,h)}qS(h)}if(h.subtreeFlags&10256)for(h=h.child;h!==null;)YS(h),h=h.sibling}function YS(h){switch(h.tag){case 0:case 11:case 15:Zd(h),h.flags&2048&&$l(9,h,h.return);break;case 3:Zd(h);break;case 12:Zd(h);break;case 22:var m=h.stateNode;h.memoizedState!==null&&m._visibility&4&&(h.return===null||h.return.tag!==13)?(m._visibility&=-5,jm(h)):Zd(h);break;default:Zd(h)}}function jm(h){var m=h.deletions;if(h.flags&16){if(m!==null)for(var T=0;T<m.length;T++){var k=m[T];Ci=k,$S(k,h)}qS(h)}for(h=h.child;h!==null;){switch(m=h,m.tag){case 0:case 11:case 15:$l(8,m,m.return),jm(m);break;case 22:T=m.stateNode,T._visibility&4&&(T._visibility&=-5,jm(m));break;default:jm(m)}h=h.sibling}}function $S(h,m){for(;Ci!==null;){var T=Ci;switch(T.tag){case 0:case 11:case 15:$l(8,T,m);break;case 23:case 22:if(T.memoizedState!==null&&T.memoizedState.cachePool!==null){var k=T.memoizedState.cachePool.pool;k!=null&&k.refCount++}break;case 24:Ud(T.memoizedState.cache)}if(k=T.child,k!==null)k.return=T,Ci=k;else e:for(T=h;Ci!==null;){k=Ci;var G=k.sibling,K=k.return;if(US(k),k===T){Ci=null;break e}if(G!==null){G.return=K,Ci=G;break e}Ci=K}}}function iD(h,m,T,k){this.tag=h,this.key=T,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=m,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=k,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _a(h,m,T,k){return new iD(h,m,T,k)}function Uv(h){return h=h.prototype,!(!h||!h.isReactComponent)}function Ql(h,m){var T=h.alternate;return T===null?(T=_a(h.tag,m,h.key,h.mode),T.elementType=h.elementType,T.type=h.type,T.stateNode=h.stateNode,T.alternate=h,h.alternate=T):(T.pendingProps=m,T.type=h.type,T.flags=0,T.subtreeFlags=0,T.deletions=null),T.flags=h.flags&31457280,T.childLanes=h.childLanes,T.lanes=h.lanes,T.child=h.child,T.memoizedProps=h.memoizedProps,T.memoizedState=h.memoizedState,T.updateQueue=h.updateQueue,m=h.dependencies,T.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext},T.sibling=h.sibling,T.index=h.index,T.ref=h.ref,T.refCleanup=h.refCleanup,T}function XS(h,m){h.flags&=31457282;var T=h.alternate;return T===null?(h.childLanes=0,h.lanes=m,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=T.childLanes,h.lanes=T.lanes,h.child=T.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=T.memoizedProps,h.memoizedState=T.memoizedState,h.updateQueue=T.updateQueue,h.type=T.type,m=T.dependencies,h.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext}),h}function Rm(h,m,T,k,G,K){var fe=0;if(k=h,typeof h=="function")Uv(h)&&(fe=1);else if(typeof h=="string")fe=zD(h,T,me.current)?26:h==="html"||h==="head"||h==="body"?27:5;else e:switch(h){case l:return tu(T.children,G,K,m);case u:fe=8,G|=24;break;case p:return h=_a(12,T,m,G|2),h.elementType=p,h.lanes=K,h;case g:return h=_a(13,T,m,G),h.elementType=g,h.lanes=K,h;case v:return h=_a(19,T,m,G),h.elementType=v,h.lanes=K,h;case w:return KS(T,G,K,m);default:if(typeof h=="object"&&h!==null)switch(h.$$typeof){case y:case f:fe=10;break e;case d:fe=9;break e;case b:fe=11;break e;case _:fe=14;break e;case x:fe=16,k=null;break e}fe=29,T=Error(r(130,h===null?"null":typeof h,"")),k=null}return m=_a(fe,T,m,G),m.elementType=h,m.type=k,m.lanes=K,m}function tu(h,m,T,k){return h=_a(7,h,k,m),h.lanes=T,h}function KS(h,m,T,k){h=_a(22,h,k,m),h.elementType=w,h.lanes=T;var G={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var K=G._current;if(K===null)throw Error(r(456));if(!(G._pendingVisibility&2)){var fe=Ul(K,2);fe!==null&&(G._pendingVisibility|=2,gs(fe,K,2))}},attach:function(){var K=G._current;if(K===null)throw Error(r(456));if(G._pendingVisibility&2){var fe=Ul(K,2);fe!==null&&(G._pendingVisibility&=-3,gs(fe,K,2))}}};return h.stateNode=G,h}function Bv(h,m,T){return h=_a(6,h,null,m),h.lanes=T,h}function Vv(h,m,T){return m=_a(4,h.children!==null?h.children:[],h.key,m),m.lanes=T,m.stateNode={containerInfo:h.containerInfo,pendingChildren:null,implementation:h.implementation},m}function el(h){h.flags|=4}function QS(h,m){if(m.type!=="stylesheet"||m.state.loading&4)h.flags&=-16777217;else if(h.flags|=16777216,!DT(m)){if(m=ga.current,m!==null&&((Pr&4194176)===Pr?co!==null:(Pr&62914560)!==Pr&&!(Pr&536870912)||m!==co))throw Nd=qy,p2;h.flags|=8192}}function Om(h,m){m!==null&&(h.flags|=4),h.flags&16384&&(m=h.tag!==22?pn():536870912,h.lanes|=m,_h|=m)}function Jd(h,m){if(!Br)switch(h.tailMode){case"hidden":m=h.tail;for(var T=null;m!==null;)m.alternate!==null&&(T=m),m=m.sibling;T===null?h.tail=null:T.sibling=null;break;case"collapsed":T=h.tail;for(var k=null;T!==null;)T.alternate!==null&&(k=T),T=T.sibling;k===null?m||h.tail===null?h.tail=null:h.tail.sibling=null:k.sibling=null}}function kn(h){var m=h.alternate!==null&&h.alternate.child===h.child,T=0,k=0;if(m)for(var G=h.child;G!==null;)T|=G.lanes|G.childLanes,k|=G.subtreeFlags&31457280,k|=G.flags&31457280,G.return=h,G=G.sibling;else for(G=h.child;G!==null;)T|=G.lanes|G.childLanes,k|=G.subtreeFlags,k|=G.flags,G.return=h,G=G.sibling;return h.subtreeFlags|=k,h.childLanes=T,m}function sD(h,m,T){var k=m.pendingProps;switch(Hy(m),m.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kn(m),null;case 1:return kn(m),null;case 3:return T=m.stateNode,k=null,h!==null&&(k=h.memoizedState.cache),m.memoizedState.cache!==k&&(m.flags|=2048),Ko(_i),ke(),T.pendingContext&&(T.context=T.pendingContext,T.pendingContext=null),(h===null||h.child===null)&&(kd(m)?el(m):h===null||h.memoizedState.isDehydrated&&!(m.flags&256)||(m.flags|=1024,Ga!==null&&(Xv(Ga),Ga=null))),kn(m),null;case 26:return T=m.memoizedState,h===null?(el(m),T!==null?(kn(m),QS(m,T)):(kn(m),m.flags&=-16777217)):T?T!==h.memoizedState?(el(m),kn(m),QS(m,T)):(kn(m),m.flags&=-16777217):(h.memoizedProps!==k&&el(m),kn(m),m.flags&=-16777217),null;case 27:Ne(m),T=Se.current;var G=m.type;if(h!==null&&m.stateNode!=null)h.memoizedProps!==k&&el(m);else{if(!k){if(m.stateNode===null)throw Error(r(166));return kn(m),null}h=me.current,kd(m)?d2(m):(h=AT(G,k,T),m.stateNode=h,el(m))}return kn(m),null;case 5:if(Ne(m),T=m.type,h!==null&&m.stateNode!=null)h.memoizedProps!==k&&el(m);else{if(!k){if(m.stateNode===null)throw Error(r(166));return kn(m),null}if(h=me.current,kd(m))d2(m);else{switch(G=Vm(Se.current),h){case 1:h=G.createElementNS("http://www.w3.org/2000/svg",T);break;case 2:h=G.createElementNS("http://www.w3.org/1998/Math/MathML",T);break;default:switch(T){case"svg":h=G.createElementNS("http://www.w3.org/2000/svg",T);break;case"math":h=G.createElementNS("http://www.w3.org/1998/Math/MathML",T);break;case"script":h=G.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof k.is=="string"?G.createElement("select",{is:k.is}):G.createElement("select"),k.multiple?h.multiple=!0:k.size&&(h.size=k.size);break;default:h=typeof k.is=="string"?G.createElement(T,{is:k.is}):G.createElement(T)}}h[Ae]=m,h[Ie]=k;e:for(G=m.child;G!==null;){if(G.tag===5||G.tag===6)h.appendChild(G.stateNode);else if(G.tag!==4&&G.tag!==27&&G.child!==null){G.child.return=G,G=G.child;continue}if(G===m)break e;for(;G.sibling===null;){if(G.return===null||G.return===m)break e;G=G.return}G.sibling.return=G.return,G=G.sibling}m.stateNode=h;e:switch(Fi(h,T,k),T){case"button":case"input":case"select":case"textarea":h=!!k.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&el(m)}}return kn(m),m.flags&=-16777217,null;case 6:if(h&&m.stateNode!=null)h.memoizedProps!==k&&el(m);else{if(typeof k!="string"&&m.stateNode===null)throw Error(r(166));if(h=Se.current,kd(m)){if(h=m.stateNode,T=m.memoizedProps,k=null,G=ms,G!==null)switch(G.tag){case 27:case 5:k=G.memoizedProps}h[Ae]=m,h=!!(h.nodeValue===T||k!==null&&k.suppressHydrationWarning===!0||xT(h.nodeValue,T)),h||Wc(m)}else h=Vm(h).createTextNode(k),h[Ae]=m,m.stateNode=h}return kn(m),null;case 13:if(k=m.memoizedState,h===null||h.memoizedState!==null&&h.memoizedState.dehydrated!==null){if(G=kd(m),k!==null&&k.dehydrated!==null){if(h===null){if(!G)throw Error(r(318));if(G=m.memoizedState,G=G!==null?G.dehydrated:null,!G)throw Error(r(317));G[Ae]=m}else Md(),!(m.flags&128)&&(m.memoizedState=null),m.flags|=4;kn(m),G=!1}else Ga!==null&&(Xv(Ga),Ga=null),G=!0;if(!G)return m.flags&256?(qo(m),m):(qo(m),null)}if(qo(m),m.flags&128)return m.lanes=T,m;if(T=k!==null,h=h!==null&&h.memoizedState!==null,T){k=m.child,G=null,k.alternate!==null&&k.alternate.memoizedState!==null&&k.alternate.memoizedState.cachePool!==null&&(G=k.alternate.memoizedState.cachePool.pool);var K=null;k.memoizedState!==null&&k.memoizedState.cachePool!==null&&(K=k.memoizedState.cachePool.pool),K!==G&&(k.flags|=2048)}return T!==h&&T&&(m.child.flags|=8192),Om(m,m.updateQueue),kn(m),null;case 4:return ke(),h===null&&a1(m.stateNode.containerInfo),kn(m),null;case 10:return Ko(m.type),kn(m),null;case 19:if(he(vi),G=m.memoizedState,G===null)return kn(m),null;if(k=(m.flags&128)!==0,K=G.rendering,K===null)if(k)Jd(G,!1);else{if(Nn!==0||h!==null&&h.flags&128)for(h=m.child;h!==null;){if(K=fm(h),K!==null){for(m.flags|=128,Jd(G,!1),h=K.updateQueue,m.updateQueue=h,Om(m,h),m.subtreeFlags=0,h=T,T=m.child;T!==null;)XS(T,h),T=T.sibling;return ye(vi,vi.current&1|2),m.child}h=h.sibling}G.tail!==null&&bt()>Im&&(m.flags|=128,k=!0,Jd(G,!1),m.lanes=4194304)}else{if(!k)if(h=fm(K),h!==null){if(m.flags|=128,k=!0,h=h.updateQueue,m.updateQueue=h,Om(m,h),Jd(G,!0),G.tail===null&&G.tailMode==="hidden"&&!K.alternate&&!Br)return kn(m),null}else 2*bt()-G.renderingStartTime>Im&&T!==536870912&&(m.flags|=128,k=!0,Jd(G,!1),m.lanes=4194304);G.isBackwards?(K.sibling=m.child,m.child=K):(h=G.last,h!==null?h.sibling=K:m.child=K,G.last=K)}return G.tail!==null?(m=G.tail,G.rendering=m,G.tail=m.sibling,G.renderingStartTime=bt(),m.sibling=null,h=vi.current,ye(vi,k?h&1|2:h&1),m):(kn(m),null);case 22:case 23:return qo(m),$y(),k=m.memoizedState!==null,h!==null?h.memoizedState!==null!==k&&(m.flags|=8192):k&&(m.flags|=8192),k?T&536870912&&!(m.flags&128)&&(kn(m),m.subtreeFlags&6&&(m.flags|=8192)):kn(m),T=m.updateQueue,T!==null&&Om(m,T.retryQueue),T=null,h!==null&&h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(T=h.memoizedState.cachePool.pool),k=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(k=m.memoizedState.cachePool.pool),k!==T&&(m.flags|=2048),h!==null&&he(Yc),null;case 24:return T=null,h!==null&&(T=h.memoizedState.cache),m.memoizedState.cache!==T&&(m.flags|=2048),Ko(_i),kn(m),null;case 25:return null}throw Error(r(156,m.tag))}function aD(h,m){switch(Hy(m),m.tag){case 1:return h=m.flags,h&65536?(m.flags=h&-65537|128,m):null;case 3:return Ko(_i),ke(),h=m.flags,h&65536&&!(h&128)?(m.flags=h&-65537|128,m):null;case 26:case 27:case 5:return Ne(m),null;case 13:if(qo(m),h=m.memoizedState,h!==null&&h.dehydrated!==null){if(m.alternate===null)throw Error(r(340));Md()}return h=m.flags,h&65536?(m.flags=h&-65537|128,m):null;case 19:return he(vi),null;case 4:return ke(),null;case 10:return Ko(m.type),null;case 22:case 23:return qo(m),$y(),h!==null&&he(Yc),h=m.flags,h&65536?(m.flags=h&-65537|128,m):null;case 24:return Ko(_i),null;case 25:return null;default:return null}}function ZS(h,m){switch(Hy(m),m.tag){case 3:Ko(_i),ke();break;case 26:case 27:case 5:Ne(m);break;case 4:ke();break;case 13:qo(m);break;case 19:he(vi);break;case 10:Ko(m.type);break;case 22:case 23:qo(m),$y(),h!==null&&he(Yc);break;case 24:Ko(_i)}}var oD={getCacheForType:function(h){var m=es(_i),T=m.data.get(h);return T===void 0&&(T=h(),m.data.set(h,T)),T}},lD=typeof WeakMap=="function"?WeakMap:Map,Mn=0,_n=null,wr=null,Pr=0,bn=0,Ys=null,tl=!1,vh=!1,Gv=!1,rl=0,Nn=0,Zl=0,ru=0,zv=0,ba=0,_h=0,ef=null,ho=null,Hv=!1,Wv=0,Im=1/0,km=null,Jl=null,Mm=!1,nu=null,tf=0,qv=0,Yv=null,rf=0,$v=null;function $s(){if(Mn&2&&Pr!==0)return Pr&-Pr;if(j.T!==null){var h=uh;return h!==0?h:r1()}return jr()}function JS(){ba===0&&(ba=!(Pr&536870912)||Br?Mr():536870912);var h=ga.current;return h!==null&&(h.flags|=32),ba}function gs(h,m,T){(h===_n&&bn===2||h.cancelPendingCommit!==null)&&(bh(h,0),nl(h,Pr,ba,!1)),rr(h,T),(!(Mn&2)||h!==_n)&&(h===_n&&(!(Mn&2)&&(ru|=T),Nn===4&&nl(h,Pr,ba,!1)),fo(h))}function eT(h,m,T){if(Mn&6)throw Error(r(327));var k=!T&&(m&60)===0&&(m&h.expiredLanes)===0||Xt(h,m),G=k?hD(h,m):Zv(h,m,!0),K=k;do{if(G===0){vh&&!k&&nl(h,m,0,!1);break}else if(G===6)nl(h,m,0,!tl);else{if(T=h.current.alternate,K&&!cD(T)){G=Zv(h,m,!1),K=!1;continue}if(G===2){if(K=m,h.errorRecoveryDisabledLanes&K)var fe=0;else fe=h.pendingLanes&-536870913,fe=fe!==0?fe:fe&536870912?536870912:0;if(fe!==0){m=fe;e:{var Ce=h;G=ef;var ze=Ce.current.memoizedState.isDehydrated;if(ze&&(bh(Ce,fe).flags|=256),fe=Zv(Ce,fe,!1),fe!==2){if(Gv&&!ze){Ce.errorRecoveryDisabledLanes|=K,ru|=K,G=4;break e}K=ho,ho=G,K!==null&&Xv(K)}G=fe}if(K=!1,G!==2)continue}}if(G===1){bh(h,0),nl(h,m,0,!0);break}e:{switch(k=h,G){case 0:case 1:throw Error(r(345));case 4:if((m&4194176)===m){nl(k,m,ba,!tl);break e}break;case 2:ho=null;break;case 3:case 5:break;default:throw Error(r(329))}if(k.finishedWork=T,k.finishedLanes=m,(m&62914560)===m&&(K=Wv+300-bt(),10<K)){if(nl(k,m,ba,!tl),Ft(k,0)!==0)break e;k.timeoutHandle=TT(tT.bind(null,k,T,ho,km,Hv,m,ba,ru,_h,tl,2,-0,0),K);break e}tT(k,T,ho,km,Hv,m,ba,ru,_h,tl,0,-0,0)}}break}while(!0);fo(h)}function Xv(h){ho===null?ho=h:ho.push.apply(ho,h)}function tT(h,m,T,k,G,K,fe,Ce,ze,et,wt,Ot,ut){var _t=m.subtreeFlags;if((_t&8192||(_t&16785408)===16785408)&&(cf={stylesheets:null,count:0,unsuspend:HD},WS(m),m=qD(),m!==null)){h.cancelPendingCommit=m(lT.bind(null,h,T,k,G,fe,Ce,ze,1,Ot,ut)),nl(h,K,fe,!et);return}lT(h,T,k,G,fe,Ce,ze,wt,Ot,ut)}function cD(h){for(var m=h;;){var T=m.tag;if((T===0||T===11||T===15)&&m.flags&16384&&(T=m.updateQueue,T!==null&&(T=T.stores,T!==null)))for(var k=0;k<T.length;k++){var G=T[k],K=G.getSnapshot;G=G.value;try{if(!Tr(K(),G))return!1}catch{return!1}}if(T=m.child,m.subtreeFlags&16384&&T!==null)T.return=m,m=T;else{if(m===h)break;for(;m.sibling===null;){if(m.return===null||m.return===h)return!0;m=m.return}m.sibling.return=m.return,m=m.sibling}}return!0}function nl(h,m,T,k){m&=~zv,m&=~ru,h.suspendedLanes|=m,h.pingedLanes&=~m,k&&(h.warmLanes|=m),k=h.expirationTimes;for(var G=m;0<G;){var K=31-rt(G),fe=1<<K;k[K]=-1,G&=~fe}T!==0&&hr(h,T,m)}function Pm(){return Mn&6?!0:(nf(0),!1)}function Kv(){if(wr!==null){if(bn===0)var h=wr.return;else h=wr,Xo=Zc=null,rv(h),lh=null,Ld=0,h=wr;for(;h!==null;)ZS(h.alternate,h),h=h.return;wr=null}}function bh(h,m){h.finishedWork=null,h.finishedLanes=0;var T=h.timeoutHandle;T!==-1&&(h.timeoutHandle=-1,jD(T)),T=h.cancelPendingCommit,T!==null&&(h.cancelPendingCommit=null,T()),Kv(),_n=h,wr=T=Ql(h.current,null),Pr=m,bn=0,Ys=null,tl=!1,vh=Xt(h,m),Gv=!1,_h=ba=zv=ru=Zl=Nn=0,ho=ef=null,Hv=!1,m&8&&(m|=m&32);var k=h.entangledLanes;if(k!==0)for(h=h.entanglements,k&=m;0<k;){var G=31-rt(k),K=1<<G;m|=h[G],k&=~K}return rl=m,im(),T}function rT(h,m){_r=null,j.H=uo,m===Dd?(m=y2(),bn=3):m===p2?(m=y2(),bn=4):bn=m===mS?8:m!==null&&typeof m=="object"&&typeof m.then=="function"?6:1,Ys=m,wr===null&&(Nn=1,Tm(h,fa(m,h.current)))}function nT(){var h=j.H;return j.H=uo,h===null?uo:h}function iT(){var h=j.A;return j.A=oD,h}function Qv(){Nn=4,tl||(Pr&4194176)!==Pr&&ga.current!==null||(vh=!0),!(Zl&134217727)&&!(ru&134217727)||_n===null||nl(_n,Pr,ba,!1)}function Zv(h,m,T){var k=Mn;Mn|=2;var G=nT(),K=iT();(_n!==h||Pr!==m)&&(km=null,bh(h,m)),m=!1;var fe=Nn;e:do try{if(bn!==0&&wr!==null){var Ce=wr,ze=Ys;switch(bn){case 8:Kv(),fe=6;break e;case 3:case 2:case 6:ga.current===null&&(m=!0);var et=bn;if(bn=0,Ys=null,xh(h,Ce,ze,et),T&&vh){fe=0;break e}break;default:et=bn,bn=0,Ys=null,xh(h,Ce,ze,et)}}uD(),fe=Nn;break}catch(wt){rT(h,wt)}while(!0);return m&&h.shellSuspendCounter++,Xo=Zc=null,Mn=k,j.H=G,j.A=K,wr===null&&(_n=null,Pr=0,im()),fe}function uD(){for(;wr!==null;)sT(wr)}function hD(h,m){var T=Mn;Mn|=2;var k=nT(),G=iT();_n!==h||Pr!==m?(km=null,Im=bt()+500,bh(h,m)):vh=Xt(h,m);e:do try{if(bn!==0&&wr!==null){m=wr;var K=Ys;t:switch(bn){case 1:bn=0,Ys=null,xh(h,m,K,1);break;case 2:if(m2(K)){bn=0,Ys=null,aT(m);break}m=function(){bn===2&&_n===h&&(bn=7),fo(h)},K.then(m,m);break e;case 3:bn=7;break e;case 4:bn=5;break e;case 7:m2(K)?(bn=0,Ys=null,aT(m)):(bn=0,Ys=null,xh(h,m,K,7));break;case 5:var fe=null;switch(wr.tag){case 26:fe=wr.memoizedState;case 5:case 27:var Ce=wr;if(!fe||DT(fe)){bn=0,Ys=null;var ze=Ce.sibling;if(ze!==null)wr=ze;else{var et=Ce.return;et!==null?(wr=et,Dm(et)):wr=null}break t}}bn=0,Ys=null,xh(h,m,K,5);break;case 6:bn=0,Ys=null,xh(h,m,K,6);break;case 8:Kv(),Nn=6;break e;default:throw Error(r(462))}}dD();break}catch(wt){rT(h,wt)}while(!0);return Xo=Zc=null,j.H=k,j.A=G,Mn=T,wr!==null?0:(_n=null,Pr=0,im(),Nn)}function dD(){for(;wr!==null&&!Ke();)sT(wr)}function sT(h){var m=AS(h.alternate,h,rl);h.memoizedProps=h.pendingProps,m===null?Dm(h):wr=m}function aT(h){var m=h,T=m.alternate;switch(m.tag){case 15:case 0:m=xS(T,m,m.pendingProps,m.type,void 0,Pr);break;case 11:m=xS(T,m,m.pendingProps,m.type.render,m.ref,Pr);break;case 5:rv(m);default:ZS(T,m),m=wr=XS(m,rl),m=AS(T,m,rl)}h.memoizedProps=h.pendingProps,m===null?Dm(h):wr=m}function xh(h,m,T,k){Xo=Zc=null,rv(m),lh=null,Ld=0;var G=m.return;try{if(eD(h,G,m,T,Pr)){Nn=1,Tm(h,fa(T,h.current)),wr=null;return}}catch(K){if(G!==null)throw wr=G,K;Nn=1,Tm(h,fa(T,h.current)),wr=null;return}m.flags&32768?(Br||k===1?h=!0:vh||Pr&536870912?h=!1:(tl=h=!0,(k===2||k===3||k===6)&&(k=ga.current,k!==null&&k.tag===13&&(k.flags|=16384))),oT(m,h)):Dm(m)}function Dm(h){var m=h;do{if(m.flags&32768){oT(m,tl);return}h=m.return;var T=sD(m.alternate,m,rl);if(T!==null){wr=T;return}if(m=m.sibling,m!==null){wr=m;return}wr=m=h}while(m!==null);Nn===0&&(Nn=5)}function oT(h,m){do{var T=aD(h.alternate,h);if(T!==null){T.flags&=32767,wr=T;return}if(T=h.return,T!==null&&(T.flags|=32768,T.subtreeFlags=0,T.deletions=null),!m&&(h=h.sibling,h!==null)){wr=h;return}wr=h=T}while(h!==null);Nn=6,wr=null}function lT(h,m,T,k,G,K,fe,Ce,ze,et){var wt=j.T,Ot=U.p;try{U.p=2,j.T=null,fD(h,m,T,k,Ot,G,K,fe,Ce,ze,et)}finally{j.T=wt,U.p=Ot}}function fD(h,m,T,k,G,K,fe,Ce){do wh();while(nu!==null);if(Mn&6)throw Error(r(327));var ze=h.finishedWork;if(k=h.finishedLanes,ze===null)return null;if(h.finishedWork=null,h.finishedLanes=0,ze===h.current)throw Error(r(177));h.callbackNode=null,h.callbackPriority=0,h.cancelPendingCommit=null;var et=ze.lanes|ze.childLanes;if(et|=Vy,Fr(h,k,et,K,fe,Ce),h===_n&&(wr=_n=null,Pr=0),!(ze.subtreeFlags&10256)&&!(ze.flags&10256)||Mm||(Mm=!0,qv=et,Yv=T,yD($e,function(){return wh(),null})),T=(ze.flags&15990)!==0,ze.subtreeFlags&15990||T?(T=j.T,j.T=null,K=U.p,U.p=2,fe=Mn,Mn|=4,rD(h,ze),GS(ze,h),Hr(u1,h.containerInfo),Ym=!!c1,u1=c1=null,h.current=ze,FS(h,ze.alternate,ze),jt(),Mn=fe,U.p=K,j.T=T):h.current=ze,Mm?(Mm=!1,nu=h,tf=k):cT(h,et),et=h.pendingLanes,et===0&&(Jl=null),He(ze.stateNode),fo(h),m!==null)for(G=h.onRecoverableError,ze=0;ze<m.length;ze++)et=m[ze],G(et.value,{componentStack:et.stack});return tf&3&&wh(),et=h.pendingLanes,k&4194218&&et&42?h===$v?rf++:(rf=0,$v=h):rf=0,nf(0),null}function cT(h,m){(h.pooledCacheLanes&=m)===0&&(m=h.pooledCache,m!=null&&(h.pooledCache=null,Ud(m)))}function wh(){if(nu!==null){var h=nu,m=qv;qv=0;var T=xn(tf),k=j.T,G=U.p;try{if(U.p=32>T?32:T,j.T=null,nu===null)var K=!1;else{T=Yv,Yv=null;var fe=nu,Ce=tf;if(nu=null,tf=0,Mn&6)throw Error(r(331));var ze=Mn;if(Mn|=4,YS(fe.current),HS(fe,fe.current,Ce,T),Mn=ze,nf(0,!1),we&&typeof we.onPostCommitFiberRoot=="function")try{we.onPostCommitFiberRoot(ce,fe)}catch{}K=!0}return K}finally{U.p=G,j.T=k,cT(h,m)}}return!1}function uT(h,m,T){m=fa(T,m),m=gv(h.stateNode,m,2),h=Yl(h,m,2),h!==null&&(rr(h,2),fo(h))}function yn(h,m,T){if(h.tag===3)uT(h,h,T);else for(;m!==null;){if(m.tag===3){uT(m,h,T);break}else if(m.tag===1){var k=m.stateNode;if(typeof m.type.getDerivedStateFromError=="function"||typeof k.componentDidCatch=="function"&&(Jl===null||!Jl.has(k))){h=fa(T,h),T=fS(2),k=Yl(m,T,2),k!==null&&(pS(T,k,m,h),rr(k,2),fo(k));break}}m=m.return}}function Jv(h,m,T){var k=h.pingCache;if(k===null){k=h.pingCache=new lD;var G=new Set;k.set(m,G)}else G=k.get(m),G===void 0&&(G=new Set,k.set(m,G));G.has(T)||(Gv=!0,G.add(T),h=pD.bind(null,h,m,T),m.then(h,h))}function pD(h,m,T){var k=h.pingCache;k!==null&&k.delete(m),h.pingedLanes|=h.suspendedLanes&T,h.warmLanes&=~T,_n===h&&(Pr&T)===T&&(Nn===4||Nn===3&&(Pr&62914560)===Pr&&300>bt()-Wv?!(Mn&2)&&bh(h,0):zv|=T,_h===Pr&&(_h=0)),fo(h)}function hT(h,m){m===0&&(m=pn()),h=Ul(h,m),h!==null&&(rr(h,m),fo(h))}function mD(h){var m=h.memoizedState,T=0;m!==null&&(T=m.retryLane),hT(h,T)}function gD(h,m){var T=0;switch(h.tag){case 13:var k=h.stateNode,G=h.memoizedState;G!==null&&(T=G.retryLane);break;case 19:k=h.stateNode;break;case 22:k=h.stateNode._retryCache;break;default:throw Error(r(314))}k!==null&&k.delete(m),hT(h,T)}function yD(h,m){return Xe(h,m)}var Nm=null,Sh=null,e1=!1,Lm=!1,t1=!1,iu=0;function fo(h){h!==Sh&&h.next===null&&(Sh===null?Nm=Sh=h:Sh=Sh.next=h),Lm=!0,e1||(e1=!0,_D(vD))}function nf(h,m){if(!t1&&Lm){t1=!0;do for(var T=!1,k=Nm;k!==null;){if(h!==0){var G=k.pendingLanes;if(G===0)var K=0;else{var fe=k.suspendedLanes,Ce=k.pingedLanes;K=(1<<31-rt(42|h)+1)-1,K&=G&~(fe&~Ce),K=K&201326677?K&201326677|1:K?K|2:0}K!==0&&(T=!0,pT(k,K))}else K=Pr,K=Ft(k,k===_n?K:0),!(K&3)||Xt(k,K)||(T=!0,pT(k,K));k=k.next}while(T);t1=!1}}function vD(){Lm=e1=!1;var h=0;iu!==0&&(AD()&&(h=iu),iu=0);for(var m=bt(),T=null,k=Nm;k!==null;){var G=k.next,K=dT(k,m);K===0?(k.next=null,T===null?Nm=G:T.next=G,G===null&&(Sh=T)):(T=k,(h!==0||K&3)&&(Lm=!0)),k=G}nf(h)}function dT(h,m){for(var T=h.suspendedLanes,k=h.pingedLanes,G=h.expirationTimes,K=h.pendingLanes&-62914561;0<K;){var fe=31-rt(K),Ce=1<<fe,ze=G[fe];ze===-1?(!(Ce&T)||Ce&k)&&(G[fe]=Wt(Ce,m)):ze<=m&&(h.expiredLanes|=Ce),K&=~Ce}if(m=_n,T=Pr,T=Ft(h,h===m?T:0),k=h.callbackNode,T===0||h===m&&bn===2||h.cancelPendingCommit!==null)return k!==null&&k!==null&&ht(k),h.callbackNode=null,h.callbackPriority=0;if(!(T&3)||Xt(h,T)){if(m=T&-T,m===h.callbackPriority)return m;switch(k!==null&&ht(k),xn(T)){case 2:case 8:T=St;break;case 32:T=$e;break;case 268435456:T=Ge;break;default:T=$e}return k=fT.bind(null,h),T=Xe(T,k),h.callbackPriority=m,h.callbackNode=T,m}return k!==null&&k!==null&&ht(k),h.callbackPriority=2,h.callbackNode=null,2}function fT(h,m){var T=h.callbackNode;if(wh()&&h.callbackNode!==T)return null;var k=Pr;return k=Ft(h,h===_n?k:0),k===0?null:(eT(h,k,m),dT(h,bt()),h.callbackNode!=null&&h.callbackNode===T?fT.bind(null,h):null)}function pT(h,m){if(wh())return null;eT(h,m,!0)}function _D(h){RD(function(){Mn&6?Xe(Tt,h):h()})}function r1(){return iu===0&&(iu=Mr()),iu}function mT(h){return h==null||typeof h=="symbol"||typeof h=="boolean"?null:typeof h=="function"?h:Gs(""+h)}function gT(h,m){var T=m.ownerDocument.createElement("input");return T.name=m.name,T.value=m.value,h.id&&T.setAttribute("form",h.id),m.parentNode.insertBefore(T,m),h=new FormData(h),T.parentNode.removeChild(T),h}function bD(h,m,T,k,G){if(m==="submit"&&T&&T.stateNode===G){var K=mT((G[Ie]||null).action),fe=k.submitter;fe&&(m=(m=fe[Ie]||null)?mT(m.formAction):fe.getAttribute("formAction"),m!==null&&(K=m,fe=null));var Ce=new No("action","action",null,k,G);h.push({event:Ce,listeners:[{instance:null,listener:function(){if(k.defaultPrevented){if(iu!==0){var ze=fe?gT(G,fe):new FormData(G);hv(T,{pending:!0,data:ze,method:G.method,action:K},null,ze)}}else typeof K=="function"&&(Ce.preventDefault(),ze=fe?gT(G,fe):new FormData(G),hv(T,{pending:!0,data:ze,method:G.method,action:K},K,ze))},currentTarget:G}]})}}for(var n1=0;n1<l2.length;n1++){var i1=l2[n1],xD=i1.toLowerCase(),wD=i1[0].toUpperCase()+i1.slice(1);Va(xD,"on"+wD)}Va(n2,"onAnimationEnd"),Va(i2,"onAnimationIteration"),Va(s2,"onAnimationStart"),Va("dblclick","onDoubleClick"),Va("focusin","onFocus"),Va("focusout","onBlur"),Va(UP,"onTransitionRun"),Va(BP,"onTransitionStart"),Va(VP,"onTransitionCancel"),Va(a2,"onTransitionEnd"),nr("onMouseEnter",["mouseout","mouseover"]),nr("onMouseLeave",["mouseout","mouseover"]),nr("onPointerEnter",["pointerout","pointerover"]),nr("onPointerLeave",["pointerout","pointerover"]),Zt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Zt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Zt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Zt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Zt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Zt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),SD=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(sf));function yT(h,m){m=(m&4)!==0;for(var T=0;T<h.length;T++){var k=h[T],G=k.event;k=k.listeners;e:{var K=void 0;if(m)for(var fe=k.length-1;0<=fe;fe--){var Ce=k[fe],ze=Ce.instance,et=Ce.currentTarget;if(Ce=Ce.listener,ze!==K&&G.isPropagationStopped())break e;K=Ce,G.currentTarget=et;try{K(G)}catch(wt){Sm(wt)}G.currentTarget=null,K=ze}else for(fe=0;fe<k.length;fe++){if(Ce=k[fe],ze=Ce.instance,et=Ce.currentTarget,Ce=Ce.listener,ze!==K&&G.isPropagationStopped())break e;K=Ce,G.currentTarget=et;try{K(G)}catch(wt){Sm(wt)}G.currentTarget=null,K=ze}}}}function Ir(h,m){var T=m[Le];T===void 0&&(T=m[Le]=new Set);var k=h+"__bubble";T.has(k)||(vT(m,h,2,!1),T.add(k))}function s1(h,m,T){var k=0;m&&(k|=4),vT(T,h,k,m)}var Fm="_reactListening"+Math.random().toString(36).slice(2);function a1(h){if(!h[Fm]){h[Fm]=!0,vt.forEach(function(T){T!=="selectionchange"&&(SD.has(T)||s1(T,!1,h),s1(T,!0,h))});var m=h.nodeType===9?h:h.ownerDocument;m===null||m[Fm]||(m[Fm]=!0,s1("selectionchange",!1,m))}}function vT(h,m,T,k){switch(VT(m)){case 2:var G=XD;break;case 8:G=KD;break;default:G=_1}T=G.bind(null,m,T,h),G=void 0,!Cs||m!=="touchstart"&&m!=="touchmove"&&m!=="wheel"||(G=!0),k?G!==void 0?h.addEventListener(m,T,{capture:!0,passive:G}):h.addEventListener(m,T,!0):G!==void 0?h.addEventListener(m,T,{passive:G}):h.addEventListener(m,T,!1)}function o1(h,m,T,k,G){var K=k;if(!(m&1)&&!(m&2)&&k!==null)e:for(;;){if(k===null)return;var fe=k.tag;if(fe===3||fe===4){var Ce=k.stateNode.containerInfo;if(Ce===G||Ce.nodeType===8&&Ce.parentNode===G)break;if(fe===4)for(fe=k.return;fe!==null;){var ze=fe.tag;if((ze===3||ze===4)&&(ze=fe.stateNode.containerInfo,ze===G||ze.nodeType===8&&ze.parentNode===G))return;fe=fe.return}for(;Ce!==null;){if(fe=ft(Ce),fe===null)return;if(ze=fe.tag,ze===5||ze===6||ze===26||ze===27){k=K=fe;continue e}Ce=Ce.parentNode}}k=k.return}Zu(function(){var et=K,wt=Po(T),Ot=[];e:{var ut=o2.get(h);if(ut!==void 0){var _t=No,Kt=h;switch(h){case"keypress":if(ei(T)===0)break e;case"keydown":case"keyup":_t=Go;break;case"focusin":Kt="focus",_t=Uo;break;case"focusout":Kt="blur",_t=Uo;break;case"beforeblur":case"afterblur":_t=Uo;break;case"click":if(T.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_t=ps;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_t=Ju;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_t=Ur;break;case n2:case i2:case s2:_t=Bo;break;case a2:_t=th;break;case"scroll":case"scrollend":_t=Dc;break;case"wheel":_t=Ll;break;case"copy":case"cut":case"paste":_t=Vo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_t=Bc;break;case"toggle":case"beforetoggle":_t=rh}var fr=(m&4)!==0,Ln=!fr&&(h==="scroll"||h==="scrollend"),at=fr?ut!==null?ut+"Capture":null:ut;fr=[];for(var Je=et,ct;Je!==null;){var Ct=Je;if(ct=Ct.stateNode,Ct=Ct.tag,Ct!==5&&Ct!==26&&Ct!==27||ct===null||at===null||(Ct=Do(Je,at),Ct!=null&&fr.push(af(Je,Ct,ct))),Ln)break;Je=Je.return}0<fr.length&&(ut=new _t(ut,Kt,null,T,wt),Ot.push({event:ut,listeners:fr}))}}if(!(m&7)){e:{if(ut=h==="mouseover"||h==="pointerover",_t=h==="mouseout"||h==="pointerout",ut&&T!==Es&&(Kt=T.relatedTarget||T.fromElement)&&(ft(Kt)||Kt[De]))break e;if((_t||ut)&&(ut=wt.window===wt?wt:(ut=wt.ownerDocument)?ut.defaultView||ut.parentWindow:window,_t?(Kt=T.relatedTarget||T.toElement,_t=et,Kt=Kt?ft(Kt):null,Kt!==null&&(Ln=te(Kt),fr=Kt.tag,Kt!==Ln||fr!==5&&fr!==27&&fr!==6)&&(Kt=null)):(_t=null,Kt=et),_t!==Kt)){if(fr=ps,Ct="onMouseLeave",at="onMouseEnter",Je="mouse",(h==="pointerout"||h==="pointerover")&&(fr=Bc,Ct="onPointerLeave",at="onPointerEnter",Je="pointer"),Ln=_t==null?ut:At(_t),ct=Kt==null?ut:At(Kt),ut=new fr(Ct,Je+"leave",_t,T,wt),ut.target=Ln,ut.relatedTarget=ct,Ct=null,ft(wt)===et&&(fr=new fr(at,Je+"enter",Kt,T,wt),fr.target=ct,fr.relatedTarget=Ln,Ct=fr),Ln=Ct,_t&&Kt)t:{for(fr=_t,at=Kt,Je=0,ct=fr;ct;ct=Th(ct))Je++;for(ct=0,Ct=at;Ct;Ct=Th(Ct))ct++;for(;0<Je-ct;)fr=Th(fr),Je--;for(;0<ct-Je;)at=Th(at),ct--;for(;Je--;){if(fr===at||at!==null&&fr===at.alternate)break t;fr=Th(fr),at=Th(at)}fr=null}else fr=null;_t!==null&&_T(Ot,ut,_t,fr,!1),Kt!==null&&Ln!==null&&_T(Ot,Ln,Kt,fr,!0)}}e:{if(ut=et?At(et):window,_t=ut.nodeName&&ut.nodeName.toLowerCase(),_t==="select"||_t==="input"&&ut.type==="file")var Ht=Ue;else if(ve(ut))if(xt)Ht=gr;else{Ht=qt;var xr=ur}else _t=ut.nodeName,!_t||_t.toLowerCase()!=="input"||ut.type!=="checkbox"&&ut.type!=="radio"?et&&Dl(et.elementType)&&(Ht=Ue):Ht=$t;if(Ht&&(Ht=Ht(h,et))){Oe(Ot,Ht,T,wt);break e}xr&&xr(h,ut,et),h==="focusout"&&et&&ut.type==="number"&&et.memoizedProps.value!=null&&Mo(ut,"number",ut.value)}switch(xr=et?At(et):window,h){case"focusin":(ve(xr)||xr.contentEditable==="true")&&(Kr=xr,qn=et,Wr=null);break;case"focusout":Wr=qn=Kr=null;break;case"mousedown":Pn=!0;break;case"contextmenu":case"mouseup":case"dragend":Pn=!1,Fl(Ot,T,wt);break;case"selectionchange":if(Ti)break;case"keydown":case"keyup":Fl(Ot,T,wt)}var Jt;if(ha)e:{switch(h){case"compositionstart":var lr="onCompositionStart";break e;case"compositionend":lr="onCompositionEnd";break e;case"compositionupdate":lr="onCompositionUpdate";break e}lr=void 0}else z?M(h,T)&&(lr="onCompositionEnd"):h==="keydown"&&T.keyCode===229&&(lr="onCompositionStart");lr&&(ue&&T.locale!=="ko"&&(z||lr!=="onCompositionStart"?lr==="onCompositionEnd"&&z&&(Jt=Na()):(Wn=wt,Si="value"in Wn?Wn.value:Wn.textContent,z=!0)),xr=Um(et,lr),0<xr.length&&(lr=new oo(lr,h,null,T,wt),Ot.push({event:lr,listeners:xr}),Jt?lr.data=Jt:(Jt=F(T),Jt!==null&&(lr.data=Jt)))),(Jt=se?Z(h,T):ie(h,T))&&(lr=Um(et,"onBeforeInput"),0<lr.length&&(xr=new oo("onBeforeInput","beforeinput",null,T,wt),Ot.push({event:xr,listeners:lr}),xr.data=Jt)),bD(Ot,h,et,T,wt)}yT(Ot,m)})}function af(h,m,T){return{instance:h,listener:m,currentTarget:T}}function Um(h,m){for(var T=m+"Capture",k=[];h!==null;){var G=h,K=G.stateNode;G=G.tag,G!==5&&G!==26&&G!==27||K===null||(G=Do(h,T),G!=null&&k.unshift(af(h,G,K)),G=Do(h,m),G!=null&&k.push(af(h,G,K))),h=h.return}return k}function Th(h){if(h===null)return null;do h=h.return;while(h&&h.tag!==5&&h.tag!==27);return h||null}function _T(h,m,T,k,G){for(var K=m._reactName,fe=[];T!==null&&T!==k;){var Ce=T,ze=Ce.alternate,et=Ce.stateNode;if(Ce=Ce.tag,ze!==null&&ze===k)break;Ce!==5&&Ce!==26&&Ce!==27||et===null||(ze=et,G?(et=Do(T,K),et!=null&&fe.unshift(af(T,et,ze))):G||(et=Do(T,K),et!=null&&fe.push(af(T,et,ze)))),T=T.return}fe.length!==0&&h.push({event:m,listeners:fe})}var TD=/\r\n?/g,ED=/\u0000|\uFFFD/g;function bT(h){return(typeof h=="string"?h:""+h).replace(TD,`
`).replace(ED,"")}function xT(h,m){return m=bT(m),bT(h)===m}function Bm(){}function un(h,m,T,k,G,K){switch(T){case"children":typeof k=="string"?m==="body"||m==="textarea"&&k===""||In(h,k):(typeof k=="number"||typeof k=="bigint")&&m!=="body"&&In(h,""+k);break;case"className":Zn(h,"class",k);break;case"tabIndex":Zn(h,"tabindex",k);break;case"dir":case"role":case"viewBox":case"width":case"height":Zn(h,T,k);break;case"style":Pa(h,k,K);break;case"data":if(m!=="object"){Zn(h,"data",k);break}case"src":case"href":if(k===""&&(m!=="a"||T!=="href")){h.removeAttribute(T);break}if(k==null||typeof k=="function"||typeof k=="symbol"||typeof k=="boolean"){h.removeAttribute(T);break}k=Gs(""+k),h.setAttribute(T,k);break;case"action":case"formAction":if(typeof k=="function"){h.setAttribute(T,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof K=="function"&&(T==="formAction"?(m!=="input"&&un(h,m,"name",G.name,G,null),un(h,m,"formEncType",G.formEncType,G,null),un(h,m,"formMethod",G.formMethod,G,null),un(h,m,"formTarget",G.formTarget,G,null)):(un(h,m,"encType",G.encType,G,null),un(h,m,"method",G.method,G,null),un(h,m,"target",G.target,G,null)));if(k==null||typeof k=="symbol"||typeof k=="boolean"){h.removeAttribute(T);break}k=Gs(""+k),h.setAttribute(T,k);break;case"onClick":k!=null&&(h.onclick=Bm);break;case"onScroll":k!=null&&Ir("scroll",h);break;case"onScrollEnd":k!=null&&Ir("scrollend",h);break;case"dangerouslySetInnerHTML":if(k!=null){if(typeof k!="object"||!("__html"in k))throw Error(r(61));if(T=k.__html,T!=null){if(G.children!=null)throw Error(r(60));h.innerHTML=T}}break;case"multiple":h.multiple=k&&typeof k!="function"&&typeof k!="symbol";break;case"muted":h.muted=k&&typeof k!="function"&&typeof k!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(k==null||typeof k=="function"||typeof k=="boolean"||typeof k=="symbol"){h.removeAttribute("xlink:href");break}T=Gs(""+k),h.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",T);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":k!=null&&typeof k!="function"&&typeof k!="symbol"?h.setAttribute(T,""+k):h.removeAttribute(T);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":k&&typeof k!="function"&&typeof k!="symbol"?h.setAttribute(T,""):h.removeAttribute(T);break;case"capture":case"download":k===!0?h.setAttribute(T,""):k!==!1&&k!=null&&typeof k!="function"&&typeof k!="symbol"?h.setAttribute(T,k):h.removeAttribute(T);break;case"cols":case"rows":case"size":case"span":k!=null&&typeof k!="function"&&typeof k!="symbol"&&!isNaN(k)&&1<=k?h.setAttribute(T,k):h.removeAttribute(T);break;case"rowSpan":case"start":k==null||typeof k=="function"||typeof k=="symbol"||isNaN(k)?h.removeAttribute(T):h.setAttribute(T,k);break;case"popover":Ir("beforetoggle",h),Ir("toggle",h),Hn(h,"popover",k);break;case"xlinkActuate":mi(h,"http://www.w3.org/1999/xlink","xlink:actuate",k);break;case"xlinkArcrole":mi(h,"http://www.w3.org/1999/xlink","xlink:arcrole",k);break;case"xlinkRole":mi(h,"http://www.w3.org/1999/xlink","xlink:role",k);break;case"xlinkShow":mi(h,"http://www.w3.org/1999/xlink","xlink:show",k);break;case"xlinkTitle":mi(h,"http://www.w3.org/1999/xlink","xlink:title",k);break;case"xlinkType":mi(h,"http://www.w3.org/1999/xlink","xlink:type",k);break;case"xmlBase":mi(h,"http://www.w3.org/XML/1998/namespace","xml:base",k);break;case"xmlLang":mi(h,"http://www.w3.org/XML/1998/namespace","xml:lang",k);break;case"xmlSpace":mi(h,"http://www.w3.org/XML/1998/namespace","xml:space",k);break;case"is":Hn(h,"is",k);break;case"innerText":case"textContent":break;default:(!(2<T.length)||T[0]!=="o"&&T[0]!=="O"||T[1]!=="n"&&T[1]!=="N")&&(T=Id.get(T)||T,Hn(h,T,k))}}function l1(h,m,T,k,G,K){switch(T){case"style":Pa(h,k,K);break;case"dangerouslySetInnerHTML":if(k!=null){if(typeof k!="object"||!("__html"in k))throw Error(r(61));if(T=k.__html,T!=null){if(G.children!=null)throw Error(r(60));h.innerHTML=T}}break;case"children":typeof k=="string"?In(h,k):(typeof k=="number"||typeof k=="bigint")&&In(h,""+k);break;case"onScroll":k!=null&&Ir("scroll",h);break;case"onScrollEnd":k!=null&&Ir("scrollend",h);break;case"onClick":k!=null&&(h.onclick=Bm);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ir.hasOwnProperty(T))e:{if(T[0]==="o"&&T[1]==="n"&&(G=T.endsWith("Capture"),m=T.slice(2,G?T.length-7:void 0),K=h[Ie]||null,K=K!=null?K[T]:null,typeof K=="function"&&h.removeEventListener(m,K,G),typeof k=="function")){typeof K!="function"&&K!==null&&(T in h?h[T]=null:h.hasAttribute(T)&&h.removeAttribute(T)),h.addEventListener(m,k,G);break e}T in h?h[T]=k:k===!0?h.setAttribute(T,""):Hn(h,T,k)}}}function Fi(h,m,T){switch(m){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ir("error",h),Ir("load",h);var k=!1,G=!1,K;for(K in T)if(T.hasOwnProperty(K)){var fe=T[K];if(fe!=null)switch(K){case"src":k=!0;break;case"srcSet":G=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,m));default:un(h,m,K,fe,T,null)}}G&&un(h,m,"srcSet",T.srcSet,T,null),k&&un(h,m,"src",T.src,T,null);return;case"input":Ir("invalid",h);var Ce=K=fe=G=null,ze=null,et=null;for(k in T)if(T.hasOwnProperty(k)){var wt=T[k];if(wt!=null)switch(k){case"name":G=wt;break;case"type":fe=wt;break;case"checked":ze=wt;break;case"defaultChecked":et=wt;break;case"value":K=wt;break;case"defaultValue":Ce=wt;break;case"children":case"dangerouslySetInnerHTML":if(wt!=null)throw Error(r(137,m));break;default:un(h,m,k,wt,T,null)}}Ma(h,K,Ce,ze,et,fe,G,!1),ro(h);return;case"select":Ir("invalid",h),k=fe=K=null;for(G in T)if(T.hasOwnProperty(G)&&(Ce=T[G],Ce!=null))switch(G){case"value":K=Ce;break;case"defaultValue":fe=Ce;break;case"multiple":k=Ce;default:un(h,m,G,Ce,T,null)}m=K,T=fe,h.multiple=!!k,m!=null?Rr(h,!!k,m,!1):T!=null&&Rr(h,!!k,T,!0);return;case"textarea":Ir("invalid",h),K=G=k=null;for(fe in T)if(T.hasOwnProperty(fe)&&(Ce=T[fe],Ce!=null))switch(fe){case"value":k=Ce;break;case"defaultValue":G=Ce;break;case"children":K=Ce;break;case"dangerouslySetInnerHTML":if(Ce!=null)throw Error(r(91));break;default:un(h,m,fe,Ce,T,null)}Vs(h,k,G,K),ro(h);return;case"option":for(ze in T)if(T.hasOwnProperty(ze)&&(k=T[ze],k!=null))switch(ze){case"selected":h.selected=k&&typeof k!="function"&&typeof k!="symbol";break;default:un(h,m,ze,k,T,null)}return;case"dialog":Ir("cancel",h),Ir("close",h);break;case"iframe":case"object":Ir("load",h);break;case"video":case"audio":for(k=0;k<sf.length;k++)Ir(sf[k],h);break;case"image":Ir("error",h),Ir("load",h);break;case"details":Ir("toggle",h);break;case"embed":case"source":case"link":Ir("error",h),Ir("load",h);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(et in T)if(T.hasOwnProperty(et)&&(k=T[et],k!=null))switch(et){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,m));default:un(h,m,et,k,T,null)}return;default:if(Dl(m)){for(wt in T)T.hasOwnProperty(wt)&&(k=T[wt],k!==void 0&&l1(h,m,wt,k,T,void 0));return}}for(Ce in T)T.hasOwnProperty(Ce)&&(k=T[Ce],k!=null&&un(h,m,Ce,k,T,null))}function CD(h,m,T,k){switch(m){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var G=null,K=null,fe=null,Ce=null,ze=null,et=null,wt=null;for(_t in T){var Ot=T[_t];if(T.hasOwnProperty(_t)&&Ot!=null)switch(_t){case"checked":break;case"value":break;case"defaultValue":ze=Ot;default:k.hasOwnProperty(_t)||un(h,m,_t,null,k,Ot)}}for(var ut in k){var _t=k[ut];if(Ot=T[ut],k.hasOwnProperty(ut)&&(_t!=null||Ot!=null))switch(ut){case"type":K=_t;break;case"name":G=_t;break;case"checked":et=_t;break;case"defaultChecked":wt=_t;break;case"value":fe=_t;break;case"defaultValue":Ce=_t;break;case"children":case"dangerouslySetInnerHTML":if(_t!=null)throw Error(r(137,m));break;default:_t!==Ot&&un(h,m,ut,_t,k,Ot)}}no(h,fe,Ce,ze,et,wt,K,G);return;case"select":_t=fe=Ce=ut=null;for(K in T)if(ze=T[K],T.hasOwnProperty(K)&&ze!=null)switch(K){case"value":break;case"multiple":_t=ze;default:k.hasOwnProperty(K)||un(h,m,K,null,k,ze)}for(G in k)if(K=k[G],ze=T[G],k.hasOwnProperty(G)&&(K!=null||ze!=null))switch(G){case"value":ut=K;break;case"defaultValue":Ce=K;break;case"multiple":fe=K;default:K!==ze&&un(h,m,G,K,k,ze)}m=Ce,T=fe,k=_t,ut!=null?Rr(h,!!T,ut,!1):!!k!=!!T&&(m!=null?Rr(h,!!T,m,!0):Rr(h,!!T,T?[]:"",!1));return;case"textarea":_t=ut=null;for(Ce in T)if(G=T[Ce],T.hasOwnProperty(Ce)&&G!=null&&!k.hasOwnProperty(Ce))switch(Ce){case"value":break;case"children":break;default:un(h,m,Ce,null,k,G)}for(fe in k)if(G=k[fe],K=T[fe],k.hasOwnProperty(fe)&&(G!=null||K!=null))switch(fe){case"value":ut=G;break;case"defaultValue":_t=G;break;case"children":break;case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(91));break;default:G!==K&&un(h,m,fe,G,k,K)}la(h,ut,_t);return;case"option":for(var Kt in T)if(ut=T[Kt],T.hasOwnProperty(Kt)&&ut!=null&&!k.hasOwnProperty(Kt))switch(Kt){case"selected":h.selected=!1;break;default:un(h,m,Kt,null,k,ut)}for(ze in k)if(ut=k[ze],_t=T[ze],k.hasOwnProperty(ze)&&ut!==_t&&(ut!=null||_t!=null))switch(ze){case"selected":h.selected=ut&&typeof ut!="function"&&typeof ut!="symbol";break;default:un(h,m,ze,ut,k,_t)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var fr in T)ut=T[fr],T.hasOwnProperty(fr)&&ut!=null&&!k.hasOwnProperty(fr)&&un(h,m,fr,null,k,ut);for(et in k)if(ut=k[et],_t=T[et],k.hasOwnProperty(et)&&ut!==_t&&(ut!=null||_t!=null))switch(et){case"children":case"dangerouslySetInnerHTML":if(ut!=null)throw Error(r(137,m));break;default:un(h,m,et,ut,k,_t)}return;default:if(Dl(m)){for(var Ln in T)ut=T[Ln],T.hasOwnProperty(Ln)&&ut!==void 0&&!k.hasOwnProperty(Ln)&&l1(h,m,Ln,void 0,k,ut);for(wt in k)ut=k[wt],_t=T[wt],!k.hasOwnProperty(wt)||ut===_t||ut===void 0&&_t===void 0||l1(h,m,wt,ut,k,_t);return}}for(var at in T)ut=T[at],T.hasOwnProperty(at)&&ut!=null&&!k.hasOwnProperty(at)&&un(h,m,at,null,k,ut);for(Ot in k)ut=k[Ot],_t=T[Ot],!k.hasOwnProperty(Ot)||ut===_t||ut==null&&_t==null||un(h,m,Ot,ut,k,_t)}var c1=null,u1=null;function Vm(h){return h.nodeType===9?h:h.ownerDocument}function wT(h){switch(h){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ST(h,m){if(h===0)switch(m){case"svg":return 1;case"math":return 2;default:return 0}return h===1&&m==="foreignObject"?0:h}function h1(h,m){return h==="textarea"||h==="noscript"||typeof m.children=="string"||typeof m.children=="number"||typeof m.children=="bigint"||typeof m.dangerouslySetInnerHTML=="object"&&m.dangerouslySetInnerHTML!==null&&m.dangerouslySetInnerHTML.__html!=null}var d1=null;function AD(){var h=window.event;return h&&h.type==="popstate"?h===d1?!1:(d1=h,!0):(d1=null,!1)}var TT=typeof setTimeout=="function"?setTimeout:void 0,jD=typeof clearTimeout=="function"?clearTimeout:void 0,ET=typeof Promise=="function"?Promise:void 0,RD=typeof queueMicrotask=="function"?queueMicrotask:typeof ET<"u"?function(h){return ET.resolve(null).then(h).catch(OD)}:TT;function OD(h){setTimeout(function(){throw h})}function f1(h,m){var T=m,k=0;do{var G=T.nextSibling;if(h.removeChild(T),G&&G.nodeType===8)if(T=G.data,T==="/$"){if(k===0){h.removeChild(G),pf(m);return}k--}else T!=="$"&&T!=="$?"&&T!=="$!"||k++;T=G}while(T);pf(m)}function p1(h){var m=h.firstChild;for(m&&m.nodeType===10&&(m=m.nextSibling);m;){var T=m;switch(m=m.nextSibling,T.nodeName){case"HTML":case"HEAD":case"BODY":p1(T),Be(T);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(T.rel.toLowerCase()==="stylesheet")continue}h.removeChild(T)}}function ID(h,m,T,k){for(;h.nodeType===1;){var G=T;if(h.nodeName.toLowerCase()!==m.toLowerCase()){if(!k&&(h.nodeName!=="INPUT"||h.type!=="hidden"))break}else if(k){if(!h[qe])switch(m){case"meta":if(!h.hasAttribute("itemprop"))break;return h;case"link":if(K=h.getAttribute("rel"),K==="stylesheet"&&h.hasAttribute("data-precedence"))break;if(K!==G.rel||h.getAttribute("href")!==(G.href==null?null:G.href)||h.getAttribute("crossorigin")!==(G.crossOrigin==null?null:G.crossOrigin)||h.getAttribute("title")!==(G.title==null?null:G.title))break;return h;case"style":if(h.hasAttribute("data-precedence"))break;return h;case"script":if(K=h.getAttribute("src"),(K!==(G.src==null?null:G.src)||h.getAttribute("type")!==(G.type==null?null:G.type)||h.getAttribute("crossorigin")!==(G.crossOrigin==null?null:G.crossOrigin))&&K&&h.hasAttribute("async")&&!h.hasAttribute("itemprop"))break;return h;default:return h}}else if(m==="input"&&h.type==="hidden"){var K=G.name==null?null:""+G.name;if(G.type==="hidden"&&h.getAttribute("name")===K)return h}else return h;if(h=Ha(h.nextSibling),h===null)break}return null}function kD(h,m,T){if(m==="")return null;for(;h.nodeType!==3;)if((h.nodeType!==1||h.nodeName!=="INPUT"||h.type!=="hidden")&&!T||(h=Ha(h.nextSibling),h===null))return null;return h}function Ha(h){for(;h!=null;h=h.nextSibling){var m=h.nodeType;if(m===1||m===3)break;if(m===8){if(m=h.data,m==="$"||m==="$!"||m==="$?"||m==="F!"||m==="F")break;if(m==="/$")return null}}return h}function CT(h){h=h.previousSibling;for(var m=0;h;){if(h.nodeType===8){var T=h.data;if(T==="$"||T==="$!"||T==="$?"){if(m===0)return h;m--}else T==="/$"&&m++}h=h.previousSibling}return null}function AT(h,m,T){switch(m=Vm(T),h){case"html":if(h=m.documentElement,!h)throw Error(r(452));return h;case"head":if(h=m.head,!h)throw Error(r(453));return h;case"body":if(h=m.body,!h)throw Error(r(454));return h;default:throw Error(r(451))}}var xa=new Map,jT=new Set;function Gm(h){return typeof h.getRootNode=="function"?h.getRootNode():h.ownerDocument}var il=U.d;U.d={f:MD,r:PD,D:DD,C:ND,L:LD,m:FD,X:BD,S:UD,M:VD};function MD(){var h=il.f(),m=Pm();return h||m}function PD(h){var m=Qe(h);m!==null&&m.tag===5&&m.type==="form"?tS(m):il.r(h)}var Eh=typeof document>"u"?null:document;function RT(h,m,T){var k=Eh;if(k&&typeof m=="string"&&m){var G=Sn(m);G='link[rel="'+h+'"][href="'+G+'"]',typeof T=="string"&&(G+='[crossorigin="'+T+'"]'),jT.has(G)||(jT.add(G),h={rel:h,crossOrigin:T,href:m},k.querySelector(G)===null&&(m=k.createElement("link"),Fi(m,"link",h),mt(m),k.head.appendChild(m)))}}function DD(h){il.D(h),RT("dns-prefetch",h,null)}function ND(h,m){il.C(h,m),RT("preconnect",h,m)}function LD(h,m,T){il.L(h,m,T);var k=Eh;if(k&&h&&m){var G='link[rel="preload"][as="'+Sn(m)+'"]';m==="image"&&T&&T.imageSrcSet?(G+='[imagesrcset="'+Sn(T.imageSrcSet)+'"]',typeof T.imageSizes=="string"&&(G+='[imagesizes="'+Sn(T.imageSizes)+'"]')):G+='[href="'+Sn(h)+'"]';var K=G;switch(m){case"style":K=Ch(h);break;case"script":K=Ah(h)}xa.has(K)||(h=P({rel:"preload",href:m==="image"&&T&&T.imageSrcSet?void 0:h,as:m},T),xa.set(K,h),k.querySelector(G)!==null||m==="style"&&k.querySelector(of(K))||m==="script"&&k.querySelector(lf(K))||(m=k.createElement("link"),Fi(m,"link",h),mt(m),k.head.appendChild(m)))}}function FD(h,m){il.m(h,m);var T=Eh;if(T&&h){var k=m&&typeof m.as=="string"?m.as:"script",G='link[rel="modulepreload"][as="'+Sn(k)+'"][href="'+Sn(h)+'"]',K=G;switch(k){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":K=Ah(h)}if(!xa.has(K)&&(h=P({rel:"modulepreload",href:h},m),xa.set(K,h),T.querySelector(G)===null)){switch(k){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(T.querySelector(lf(K)))return}k=T.createElement("link"),Fi(k,"link",h),mt(k),T.head.appendChild(k)}}}function UD(h,m,T){il.S(h,m,T);var k=Eh;if(k&&h){var G=nt(k).hoistableStyles,K=Ch(h);m=m||"default";var fe=G.get(K);if(!fe){var Ce={loading:0,preload:null};if(fe=k.querySelector(of(K)))Ce.loading=5;else{h=P({rel:"stylesheet",href:h,"data-precedence":m},T),(T=xa.get(K))&&m1(h,T);var ze=fe=k.createElement("link");mt(ze),Fi(ze,"link",h),ze._p=new Promise(function(et,wt){ze.onload=et,ze.onerror=wt}),ze.addEventListener("load",function(){Ce.loading|=1}),ze.addEventListener("error",function(){Ce.loading|=2}),Ce.loading|=4,zm(fe,m,k)}fe={type:"stylesheet",instance:fe,count:1,state:Ce},G.set(K,fe)}}}function BD(h,m){il.X(h,m);var T=Eh;if(T&&h){var k=nt(T).hoistableScripts,G=Ah(h),K=k.get(G);K||(K=T.querySelector(lf(G)),K||(h=P({src:h,async:!0},m),(m=xa.get(G))&&g1(h,m),K=T.createElement("script"),mt(K),Fi(K,"link",h),T.head.appendChild(K)),K={type:"script",instance:K,count:1,state:null},k.set(G,K))}}function VD(h,m){il.M(h,m);var T=Eh;if(T&&h){var k=nt(T).hoistableScripts,G=Ah(h),K=k.get(G);K||(K=T.querySelector(lf(G)),K||(h=P({src:h,async:!0,type:"module"},m),(m=xa.get(G))&&g1(h,m),K=T.createElement("script"),mt(K),Fi(K,"link",h),T.head.appendChild(K)),K={type:"script",instance:K,count:1,state:null},k.set(G,K))}}function OT(h,m,T,k){var G=(G=Se.current)?Gm(G):null;if(!G)throw Error(r(446));switch(h){case"meta":case"title":return null;case"style":return typeof T.precedence=="string"&&typeof T.href=="string"?(m=Ch(T.href),T=nt(G).hoistableStyles,k=T.get(m),k||(k={type:"style",instance:null,count:0,state:null},T.set(m,k)),k):{type:"void",instance:null,count:0,state:null};case"link":if(T.rel==="stylesheet"&&typeof T.href=="string"&&typeof T.precedence=="string"){h=Ch(T.href);var K=nt(G).hoistableStyles,fe=K.get(h);if(fe||(G=G.ownerDocument||G,fe={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},K.set(h,fe),(K=G.querySelector(of(h)))&&!K._p&&(fe.instance=K,fe.state.loading=5),xa.has(h)||(T={rel:"preload",as:"style",href:T.href,crossOrigin:T.crossOrigin,integrity:T.integrity,media:T.media,hrefLang:T.hrefLang,referrerPolicy:T.referrerPolicy},xa.set(h,T),K||GD(G,h,T,fe.state))),m&&k===null)throw Error(r(528,""));return fe}if(m&&k!==null)throw Error(r(529,""));return null;case"script":return m=T.async,T=T.src,typeof T=="string"&&m&&typeof m!="function"&&typeof m!="symbol"?(m=Ah(T),T=nt(G).hoistableScripts,k=T.get(m),k||(k={type:"script",instance:null,count:0,state:null},T.set(m,k)),k):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,h))}}function Ch(h){return'href="'+Sn(h)+'"'}function of(h){return'link[rel="stylesheet"]['+h+"]"}function IT(h){return P({},h,{"data-precedence":h.precedence,precedence:null})}function GD(h,m,T,k){h.querySelector('link[rel="preload"][as="style"]['+m+"]")?k.loading=1:(m=h.createElement("link"),k.preload=m,m.addEventListener("load",function(){return k.loading|=1}),m.addEventListener("error",function(){return k.loading|=2}),Fi(m,"link",T),mt(m),h.head.appendChild(m))}function Ah(h){return'[src="'+Sn(h)+'"]'}function lf(h){return"script[async]"+h}function kT(h,m,T){if(m.count++,m.instance===null)switch(m.type){case"style":var k=h.querySelector('style[data-href~="'+Sn(T.href)+'"]');if(k)return m.instance=k,mt(k),k;var G=P({},T,{"data-href":T.href,"data-precedence":T.precedence,href:null,precedence:null});return k=(h.ownerDocument||h).createElement("style"),mt(k),Fi(k,"style",G),zm(k,T.precedence,h),m.instance=k;case"stylesheet":G=Ch(T.href);var K=h.querySelector(of(G));if(K)return m.state.loading|=4,m.instance=K,mt(K),K;k=IT(T),(G=xa.get(G))&&m1(k,G),K=(h.ownerDocument||h).createElement("link"),mt(K);var fe=K;return fe._p=new Promise(function(Ce,ze){fe.onload=Ce,fe.onerror=ze}),Fi(K,"link",k),m.state.loading|=4,zm(K,T.precedence,h),m.instance=K;case"script":return K=Ah(T.src),(G=h.querySelector(lf(K)))?(m.instance=G,mt(G),G):(k=T,(G=xa.get(K))&&(k=P({},T),g1(k,G)),h=h.ownerDocument||h,G=h.createElement("script"),mt(G),Fi(G,"link",k),h.head.appendChild(G),m.instance=G);case"void":return null;default:throw Error(r(443,m.type))}else m.type==="stylesheet"&&!(m.state.loading&4)&&(k=m.instance,m.state.loading|=4,zm(k,T.precedence,h));return m.instance}function zm(h,m,T){for(var k=T.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),G=k.length?k[k.length-1]:null,K=G,fe=0;fe<k.length;fe++){var Ce=k[fe];if(Ce.dataset.precedence===m)K=Ce;else if(K!==G)break}K?K.parentNode.insertBefore(h,K.nextSibling):(m=T.nodeType===9?T.head:T,m.insertBefore(h,m.firstChild))}function m1(h,m){h.crossOrigin==null&&(h.crossOrigin=m.crossOrigin),h.referrerPolicy==null&&(h.referrerPolicy=m.referrerPolicy),h.title==null&&(h.title=m.title)}function g1(h,m){h.crossOrigin==null&&(h.crossOrigin=m.crossOrigin),h.referrerPolicy==null&&(h.referrerPolicy=m.referrerPolicy),h.integrity==null&&(h.integrity=m.integrity)}var Hm=null;function MT(h,m,T){if(Hm===null){var k=new Map,G=Hm=new Map;G.set(T,k)}else G=Hm,k=G.get(T),k||(k=new Map,G.set(T,k));if(k.has(h))return k;for(k.set(h,null),T=T.getElementsByTagName(h),G=0;G<T.length;G++){var K=T[G];if(!(K[qe]||K[Ae]||h==="link"&&K.getAttribute("rel")==="stylesheet")&&K.namespaceURI!=="http://www.w3.org/2000/svg"){var fe=K.getAttribute(m)||"";fe=h+fe;var Ce=k.get(fe);Ce?Ce.push(K):k.set(fe,[K])}}return k}function PT(h,m,T){h=h.ownerDocument||h,h.head.insertBefore(T,m==="title"?h.querySelector("head > title"):null)}function zD(h,m,T){if(T===1||m.itemProp!=null)return!1;switch(h){case"meta":case"title":return!0;case"style":if(typeof m.precedence!="string"||typeof m.href!="string"||m.href==="")break;return!0;case"link":if(typeof m.rel!="string"||typeof m.href!="string"||m.href===""||m.onLoad||m.onError)break;switch(m.rel){case"stylesheet":return h=m.disabled,typeof m.precedence=="string"&&h==null;default:return!0}case"script":if(m.async&&typeof m.async!="function"&&typeof m.async!="symbol"&&!m.onLoad&&!m.onError&&m.src&&typeof m.src=="string")return!0}return!1}function DT(h){return!(h.type==="stylesheet"&&!(h.state.loading&3))}var cf=null;function HD(){}function WD(h,m,T){if(cf===null)throw Error(r(475));var k=cf;if(m.type==="stylesheet"&&(typeof T.media!="string"||matchMedia(T.media).matches!==!1)&&!(m.state.loading&4)){if(m.instance===null){var G=Ch(T.href),K=h.querySelector(of(G));if(K){h=K._p,h!==null&&typeof h=="object"&&typeof h.then=="function"&&(k.count++,k=Wm.bind(k),h.then(k,k)),m.state.loading|=4,m.instance=K,mt(K);return}K=h.ownerDocument||h,T=IT(T),(G=xa.get(G))&&m1(T,G),K=K.createElement("link"),mt(K);var fe=K;fe._p=new Promise(function(Ce,ze){fe.onload=Ce,fe.onerror=ze}),Fi(K,"link",T),m.instance=K}k.stylesheets===null&&(k.stylesheets=new Map),k.stylesheets.set(m,h),(h=m.state.preload)&&!(m.state.loading&3)&&(k.count++,m=Wm.bind(k),h.addEventListener("load",m),h.addEventListener("error",m))}}function qD(){if(cf===null)throw Error(r(475));var h=cf;return h.stylesheets&&h.count===0&&y1(h,h.stylesheets),0<h.count?function(m){var T=setTimeout(function(){if(h.stylesheets&&y1(h,h.stylesheets),h.unsuspend){var k=h.unsuspend;h.unsuspend=null,k()}},6e4);return h.unsuspend=m,function(){h.unsuspend=null,clearTimeout(T)}}:null}function Wm(){if(this.count--,this.count===0){if(this.stylesheets)y1(this,this.stylesheets);else if(this.unsuspend){var h=this.unsuspend;this.unsuspend=null,h()}}}var qm=null;function y1(h,m){h.stylesheets=null,h.unsuspend!==null&&(h.count++,qm=new Map,m.forEach(YD,h),qm=null,Wm.call(h))}function YD(h,m){if(!(m.state.loading&4)){var T=qm.get(h);if(T)var k=T.get(null);else{T=new Map,qm.set(h,T);for(var G=h.querySelectorAll("link[data-precedence],style[data-precedence]"),K=0;K<G.length;K++){var fe=G[K];(fe.nodeName==="LINK"||fe.getAttribute("media")!=="not all")&&(T.set(fe.dataset.precedence,fe),k=fe)}k&&T.set(null,k)}G=m.instance,fe=G.getAttribute("data-precedence"),K=T.get(fe)||k,K===k&&T.set(null,G),T.set(fe,G),this.count++,k=Wm.bind(this),G.addEventListener("load",k),G.addEventListener("error",k),K?K.parentNode.insertBefore(G,K.nextSibling):(h=h.nodeType===9?h.head:h,h.insertBefore(G,h.firstChild)),m.state.loading|=4}}var uf={$$typeof:f,Provider:null,Consumer:null,_currentValue:H,_currentValue2:H,_threadCount:0};function $D(h,m,T,k,G,K,fe,Ce){this.tag=1,this.containerInfo=h,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Jr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jr(0),this.hiddenUpdates=Jr(null),this.identifierPrefix=k,this.onUncaughtError=G,this.onCaughtError=K,this.onRecoverableError=fe,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Ce,this.incompleteTransitions=new Map}function NT(h,m,T,k,G,K,fe,Ce,ze,et,wt,Ot){return h=new $D(h,m,T,fe,Ce,ze,et,Ot),m=1,K===!0&&(m|=24),K=_a(3,null,null,m),h.current=K,K.stateNode=h,m=Xy(),m.refCount++,h.pooledCache=m,m.refCount++,K.memoizedState={element:k,isDehydrated:T,cache:m},Rv(K),h}function LT(h){return h?(h=sh,h):sh}function FT(h,m,T,k,G,K){G=LT(G),k.context===null?k.context=G:k.pendingContext=G,k=ql(m),k.payload={element:T},K=K===void 0?null:K,K!==null&&(k.callback=K),T=Yl(h,k,m),T!==null&&(gs(T,h,m),qd(T,h,m))}function UT(h,m){if(h=h.memoizedState,h!==null&&h.dehydrated!==null){var T=h.retryLane;h.retryLane=T!==0&&T<m?T:m}}function v1(h,m){UT(h,m),(h=h.alternate)&&UT(h,m)}function BT(h){if(h.tag===13){var m=Ul(h,67108864);m!==null&&gs(m,h,67108864),v1(h,67108864)}}var Ym=!0;function XD(h,m,T,k){var G=j.T;j.T=null;var K=U.p;try{U.p=2,_1(h,m,T,k)}finally{U.p=K,j.T=G}}function KD(h,m,T,k){var G=j.T;j.T=null;var K=U.p;try{U.p=8,_1(h,m,T,k)}finally{U.p=K,j.T=G}}function _1(h,m,T,k){if(Ym){var G=b1(k);if(G===null)o1(h,m,k,$m,T),GT(h,k);else if(ZD(G,h,m,T,k))k.stopPropagation();else if(GT(h,k),m&4&&-1<QD.indexOf(h)){for(;G!==null;){var K=Qe(G);if(K!==null)switch(K.tag){case 3:if(K=K.stateNode,K.current.memoizedState.isDehydrated){var fe=Gt(K.pendingLanes);if(fe!==0){var Ce=K;for(Ce.pendingLanes|=2,Ce.entangledLanes|=2;fe;){var ze=1<<31-rt(fe);Ce.entanglements[1]|=ze,fe&=~ze}fo(K),!(Mn&6)&&(Im=bt()+500,nf(0))}}break;case 13:Ce=Ul(K,2),Ce!==null&&gs(Ce,K,2),Pm(),v1(K,2)}if(K=b1(k),K===null&&o1(h,m,k,$m,T),K===G)break;G=K}G!==null&&k.stopPropagation()}else o1(h,m,k,null,T)}}function b1(h){return h=Po(h),x1(h)}var $m=null;function x1(h){if($m=null,h=ft(h),h!==null){var m=te(h);if(m===null)h=null;else{var T=m.tag;if(T===13){if(h=ee(m),h!==null)return h;h=null}else if(T===3){if(m.stateNode.current.memoizedState.isDehydrated)return m.tag===3?m.stateNode.containerInfo:null;h=null}else m!==h&&(h=null)}}return $m=h,null}function VT(h){switch(h){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(gt()){case Tt:return 2;case St:return 8;case $e:case dt:return 32;case Ge:return 268435456;default:return 32}default:return 32}}var w1=!1,ec=null,tc=null,rc=null,hf=new Map,df=new Map,nc=[],QD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function GT(h,m){switch(h){case"focusin":case"focusout":ec=null;break;case"dragenter":case"dragleave":tc=null;break;case"mouseover":case"mouseout":rc=null;break;case"pointerover":case"pointerout":hf.delete(m.pointerId);break;case"gotpointercapture":case"lostpointercapture":df.delete(m.pointerId)}}function ff(h,m,T,k,G,K){return h===null||h.nativeEvent!==K?(h={blockedOn:m,domEventName:T,eventSystemFlags:k,nativeEvent:K,targetContainers:[G]},m!==null&&(m=Qe(m),m!==null&&BT(m)),h):(h.eventSystemFlags|=k,m=h.targetContainers,G!==null&&m.indexOf(G)===-1&&m.push(G),h)}function ZD(h,m,T,k,G){switch(m){case"focusin":return ec=ff(ec,h,m,T,k,G),!0;case"dragenter":return tc=ff(tc,h,m,T,k,G),!0;case"mouseover":return rc=ff(rc,h,m,T,k,G),!0;case"pointerover":var K=G.pointerId;return hf.set(K,ff(hf.get(K)||null,h,m,T,k,G)),!0;case"gotpointercapture":return K=G.pointerId,df.set(K,ff(df.get(K)||null,h,m,T,k,G)),!0}return!1}function zT(h){var m=ft(h.target);if(m!==null){var T=te(m);if(T!==null){if(m=T.tag,m===13){if(m=ee(T),m!==null){h.blockedOn=m,_e(h.priority,function(){if(T.tag===13){var k=$s(),G=Ul(T,k);G!==null&&gs(G,T,k),v1(T,k)}});return}}else if(m===3&&T.stateNode.current.memoizedState.isDehydrated){h.blockedOn=T.tag===3?T.stateNode.containerInfo:null;return}}}h.blockedOn=null}function Xm(h){if(h.blockedOn!==null)return!1;for(var m=h.targetContainers;0<m.length;){var T=b1(h.nativeEvent);if(T===null){T=h.nativeEvent;var k=new T.constructor(T.type,T);Es=k,T.target.dispatchEvent(k),Es=null}else return m=Qe(T),m!==null&&BT(m),h.blockedOn=T,!1;m.shift()}return!0}function HT(h,m,T){Xm(h)&&T.delete(m)}function JD(){w1=!1,ec!==null&&Xm(ec)&&(ec=null),tc!==null&&Xm(tc)&&(tc=null),rc!==null&&Xm(rc)&&(rc=null),hf.forEach(HT),df.forEach(HT)}function Km(h,m){h.blockedOn===m&&(h.blockedOn=null,w1||(w1=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,JD)))}var Qm=null;function WT(h){Qm!==h&&(Qm=h,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Qm===h&&(Qm=null);for(var m=0;m<h.length;m+=3){var T=h[m],k=h[m+1],G=h[m+2];if(typeof k!="function"){if(x1(k||T)===null)continue;break}var K=Qe(T);K!==null&&(h.splice(m,3),m-=3,hv(K,{pending:!0,data:G,method:T.method,action:k},k,G))}}))}function pf(h){function m(ze){return Km(ze,h)}ec!==null&&Km(ec,h),tc!==null&&Km(tc,h),rc!==null&&Km(rc,h),hf.forEach(m),df.forEach(m);for(var T=0;T<nc.length;T++){var k=nc[T];k.blockedOn===h&&(k.blockedOn=null)}for(;0<nc.length&&(T=nc[0],T.blockedOn===null);)zT(T),T.blockedOn===null&&nc.shift();if(T=(h.ownerDocument||h).$$reactFormReplay,T!=null)for(k=0;k<T.length;k+=3){var G=T[k],K=T[k+1],fe=G[Ie]||null;if(typeof K=="function")fe||WT(T);else if(fe){var Ce=null;if(K&&K.hasAttribute("formAction")){if(G=K,fe=K[Ie]||null)Ce=fe.formAction;else if(x1(G)!==null)continue}else Ce=fe.action;typeof Ce=="function"?T[k+1]=Ce:(T.splice(k,3),k-=3),WT(T)}}}function S1(h){this._internalRoot=h}Zm.prototype.render=S1.prototype.render=function(h){var m=this._internalRoot;if(m===null)throw Error(r(409));var T=m.current,k=$s();FT(T,k,h,m,null,null)},Zm.prototype.unmount=S1.prototype.unmount=function(){var h=this._internalRoot;if(h!==null){this._internalRoot=null;var m=h.containerInfo;h.tag===0&&wh(),FT(h.current,2,null,h,null,null),Pm(),m[De]=null}};function Zm(h){this._internalRoot=h}Zm.prototype.unstable_scheduleHydration=function(h){if(h){var m=jr();h={blockedOn:null,target:h,priority:m};for(var T=0;T<nc.length&&m!==0&&m<nc[T].priority;T++);nc.splice(T,0,h),T===0&&zT(h)}};var qT=t.version;if(qT!=="19.0.0")throw Error(r(527,qT,"19.0.0"));U.findDOMNode=function(h){var m=h._reactInternals;if(m===void 0)throw typeof h.render=="function"?Error(r(188)):(h=Object.keys(h).join(","),Error(r(268,h)));return h=ne(m),h=h!==null?re(h):null,h=h===null?null:h.stateNode,h};var eN={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:j,findFiberByHostInstance:ft,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jm.isDisabled&&Jm.supportsFiber)try{ce=Jm.inject(eN),we=Jm}catch{}}return gf.createRoot=function(h,m){if(!s(h))throw Error(r(299));var T=!1,k="",G=cS,K=uS,fe=hS,Ce=null;return m!=null&&(m.unstable_strictMode===!0&&(T=!0),m.identifierPrefix!==void 0&&(k=m.identifierPrefix),m.onUncaughtError!==void 0&&(G=m.onUncaughtError),m.onCaughtError!==void 0&&(K=m.onCaughtError),m.onRecoverableError!==void 0&&(fe=m.onRecoverableError),m.unstable_transitionCallbacks!==void 0&&(Ce=m.unstable_transitionCallbacks)),m=NT(h,1,!1,null,null,T,k,G,K,fe,Ce,null),h[De]=m.current,a1(h.nodeType===8?h.parentNode:h),new S1(m)},gf.hydrateRoot=function(h,m,T){if(!s(h))throw Error(r(299));var k=!1,G="",K=cS,fe=uS,Ce=hS,ze=null,et=null;return T!=null&&(T.unstable_strictMode===!0&&(k=!0),T.identifierPrefix!==void 0&&(G=T.identifierPrefix),T.onUncaughtError!==void 0&&(K=T.onUncaughtError),T.onCaughtError!==void 0&&(fe=T.onCaughtError),T.onRecoverableError!==void 0&&(Ce=T.onRecoverableError),T.unstable_transitionCallbacks!==void 0&&(ze=T.unstable_transitionCallbacks),T.formState!==void 0&&(et=T.formState)),m=NT(h,1,!0,m,T??null,k,G,K,fe,Ce,ze,et),m.context=LT(null),T=m.current,k=$s(),G=ql(k),G.callback=null,Yl(T,G,k),m.current.lanes=k,rr(m,k),fo(m),h[De]=m.current,a1(h),new Zm(m)},gf.version="19.0.0",gf}var rE;function dN(){if(rE)return C1.exports;rE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),C1.exports=hN(),C1.exports}var fN=dN(),pN=sR();/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tp(){return tp=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n[r]=i[r])}return n},tp.apply(this,arguments)}var lc;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(lc||(lc={}));const nE="popstate";function mN(n){n===void 0&&(n={});function t(r,s){let{pathname:o,search:a,hash:c}=r.location;return j_("",{pathname:o,search:a,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function i(r,s){return typeof s=="string"?s:q0(s)}return yN(t,i,null,n)}function ci(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function aR(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function gN(){return Math.random().toString(36).substr(2,8)}function iE(n,t){return{usr:n.state,key:n.key,idx:t}}function j_(n,t,i,r){return i===void 0&&(i=null),tp({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof t=="string"?pd(t):t,{state:i,key:t&&t.key||r||gN()})}function q0(n){let{pathname:t="/",search:i="",hash:r=""}=n;return i&&i!=="?"&&(t+=i.charAt(0)==="?"?i:"?"+i),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function pd(n){let t={};if(n){let i=n.indexOf("#");i>=0&&(t.hash=n.substr(i),n=n.substr(0,i));let r=n.indexOf("?");r>=0&&(t.search=n.substr(r),n=n.substr(0,r)),n&&(t.pathname=n)}return t}function yN(n,t,i,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:o=!1}=r,a=s.history,c=lc.Pop,l=null,u=p();u==null&&(u=0,a.replaceState(tp({},a.state,{idx:u}),""));function p(){return(a.state||{idx:null}).idx}function y(){c=lc.Pop;let v=p(),_=v==null?null:v-u;u=v,l&&l({action:c,location:g.location,delta:_})}function d(v,_){c=lc.Push;let x=j_(g.location,v,_);u=p()+1;let w=iE(x,u),S=g.createHref(x);try{a.pushState(w,"",S)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;s.location.assign(S)}o&&l&&l({action:c,location:g.location,delta:1})}function f(v,_){c=lc.Replace;let x=j_(g.location,v,_);u=p();let w=iE(x,u),S=g.createHref(x);a.replaceState(w,"",S),o&&l&&l({action:c,location:g.location,delta:0})}function b(v){let _=s.location.origin!=="null"?s.location.origin:s.location.href,x=typeof v=="string"?v:q0(v);return x=x.replace(/ $/,"%20"),ci(_,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,_)}let g={get action(){return c},get location(){return n(s,a)},listen(v){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(nE,y),l=v,()=>{s.removeEventListener(nE,y),l=null}},createHref(v){return t(s,v)},createURL:b,encodeLocation(v){let _=b(v);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:d,replace:f,go(v){return a.go(v)}};return g}var sE;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(sE||(sE={}));function vN(n,t,i){return i===void 0&&(i="/"),_N(n,t,i,!1)}function _N(n,t,i,r){let s=typeof t=="string"?pd(t):t,o=Mb(s.pathname||"/",i);if(o==null)return null;let a=oR(n);bN(a);let c=null;for(let l=0;c==null&&l<a.length;++l){let u=IN(o);c=RN(a[l],u,r)}return c}function oR(n,t,i,r){t===void 0&&(t=[]),i===void 0&&(i=[]),r===void 0&&(r="");let s=(o,a,c)=>{let l={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};l.relativePath.startsWith("/")&&(ci(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=dc([r,l.relativePath]),p=i.concat(l);o.children&&o.children.length>0&&(ci(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),oR(o.children,t,p,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:AN(u,o.index),routesMeta:p})};return n.forEach((o,a)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))s(o,a);else for(let l of lR(o.path))s(o,a,l)}),t}function lR(n){let t=n.split("/");if(t.length===0)return[];let[i,...r]=t,s=i.endsWith("?"),o=i.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let a=lR(r.join("/")),c=[];return c.push(...a.map(l=>l===""?o:[o,l].join("/"))),s&&c.push(...a),c.map(l=>n.startsWith("/")&&l===""?"/":l)}function bN(n){n.sort((t,i)=>t.score!==i.score?i.score-t.score:jN(t.routesMeta.map(r=>r.childrenIndex),i.routesMeta.map(r=>r.childrenIndex)))}const xN=/^:[\w-]+$/,wN=3,SN=2,TN=1,EN=10,CN=-2,aE=n=>n==="*";function AN(n,t){let i=n.split("/"),r=i.length;return i.some(aE)&&(r+=CN),t&&(r+=SN),i.filter(s=>!aE(s)).reduce((s,o)=>s+(xN.test(o)?wN:o===""?TN:EN),r)}function jN(n,t){return n.length===t.length&&n.slice(0,-1).every((r,s)=>r===t[s])?n[n.length-1]-t[t.length-1]:0}function RN(n,t,i){let{routesMeta:r}=n,s={},o="/",a=[];for(let c=0;c<r.length;++c){let l=r[c],u=c===r.length-1,p=o==="/"?t:t.slice(o.length)||"/",y=oE({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},p),d=l.route;if(!y&&u&&i&&!r[r.length-1].route.index&&(y=oE({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},p)),!y)return null;Object.assign(s,y.params),a.push({params:s,pathname:dc([o,y.pathname]),pathnameBase:DN(dc([o,y.pathnameBase])),route:d}),y.pathnameBase!=="/"&&(o=dc([o,y.pathnameBase]))}return a}function oE(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[i,r]=ON(n.path,n.caseSensitive,n.end),s=t.match(i);if(!s)return null;let o=s[0],a=o.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:r.reduce((u,p,y)=>{let{paramName:d,isOptional:f}=p;if(d==="*"){let g=c[y]||"";a=o.slice(0,o.length-g.length).replace(/(.)\/+$/,"$1")}const b=c[y];return f&&!b?u[d]=void 0:u[d]=(b||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:a,pattern:n}}function ON(n,t,i){t===void 0&&(t=!1),i===void 0&&(i=!0),aR(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,c,l)=>(r.push({paramName:c,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function IN(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return aR(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),n}}function Mb(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let i=t.endsWith("/")?t.length-1:t.length,r=n.charAt(i);return r&&r!=="/"?null:n.slice(i)||"/"}function kN(n,t){t===void 0&&(t="/");let{pathname:i,search:r="",hash:s=""}=typeof n=="string"?pd(n):n;return{pathname:i?i.startsWith("/")?i:MN(i,t):t,search:NN(r),hash:LN(s)}}function MN(n,t){let i=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?i.length>1&&i.pop():s!=="."&&i.push(s)}),i.length>1?i.join("/"):"/"}function O1(n,t,i,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+i+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function PN(n){return n.filter((t,i)=>i===0||t.route.path&&t.route.path.length>0)}function cR(n,t){let i=PN(n);return t?i.map((r,s)=>s===i.length-1?r.pathname:r.pathnameBase):i.map(r=>r.pathnameBase)}function uR(n,t,i,r){r===void 0&&(r=!1);let s;typeof n=="string"?s=pd(n):(s=tp({},n),ci(!s.pathname||!s.pathname.includes("?"),O1("?","pathname","search",s)),ci(!s.pathname||!s.pathname.includes("#"),O1("#","pathname","hash",s)),ci(!s.search||!s.search.includes("#"),O1("#","search","hash",s)));let o=n===""||s.pathname==="",a=o?"/":s.pathname,c;if(a==null)c=i;else{let y=t.length-1;if(!r&&a.startsWith("..")){let d=a.split("/");for(;d[0]==="..";)d.shift(),y-=1;s.pathname=d.join("/")}c=y>=0?t[y]:"/"}let l=kN(s,c),u=a&&a!=="/"&&a.endsWith("/"),p=(o||a===".")&&i.endsWith("/");return!l.pathname.endsWith("/")&&(u||p)&&(l.pathname+="/"),l}const dc=n=>n.join("/").replace(/\/\/+/g,"/"),DN=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),NN=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,LN=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function FN(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const hR=["post","put","patch","delete"];new Set(hR);const UN=["get",...hR];new Set(UN);/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rp(){return rp=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n[r]=i[r])}return n},rp.apply(this,arguments)}const Pb=Ee.createContext(null),BN=Ee.createContext(null),Du=Ee.createContext(null),qg=Ee.createContext(null),Nu=Ee.createContext({outlet:null,matches:[],isDataRoute:!1}),dR=Ee.createContext(null);function VN(n,t){let{relative:i}=t===void 0?{}:t;Rp()||ci(!1);let{basename:r,navigator:s}=Ee.useContext(Du),{hash:o,pathname:a,search:c}=pR(n,{relative:i}),l=a;return r!=="/"&&(l=a==="/"?r:dc([r,a])),s.createHref({pathname:l,search:c,hash:o})}function Rp(){return Ee.useContext(qg)!=null}function Cc(){return Rp()||ci(!1),Ee.useContext(qg).location}function fR(n){Ee.useContext(Du).static||Ee.useLayoutEffect(n)}function ds(){let{isDataRoute:n}=Ee.useContext(Nu);return n?eL():GN()}function GN(){Rp()||ci(!1);let n=Ee.useContext(Pb),{basename:t,future:i,navigator:r}=Ee.useContext(Du),{matches:s}=Ee.useContext(Nu),{pathname:o}=Cc(),a=JSON.stringify(cR(s,i.v7_relativeSplatPath)),c=Ee.useRef(!1);return fR(()=>{c.current=!0}),Ee.useCallback(function(u,p){if(p===void 0&&(p={}),!c.current)return;if(typeof u=="number"){r.go(u);return}let y=uR(u,JSON.parse(a),o,p.relative==="path");n==null&&t!=="/"&&(y.pathname=y.pathname==="/"?t:dc([t,y.pathname])),(p.replace?r.replace:r.push)(y,p.state,p)},[t,r,a,o,n])}function pR(n,t){let{relative:i}=t===void 0?{}:t,{future:r}=Ee.useContext(Du),{matches:s}=Ee.useContext(Nu),{pathname:o}=Cc(),a=JSON.stringify(cR(s,r.v7_relativeSplatPath));return Ee.useMemo(()=>uR(n,JSON.parse(a),o,i==="path"),[n,a,o,i])}function zN(n,t){return HN(n,t)}function HN(n,t,i,r){Rp()||ci(!1);let{navigator:s}=Ee.useContext(Du),{matches:o}=Ee.useContext(Nu),a=o[o.length-1],c=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=Cc(),p;if(t){var y;let v=typeof t=="string"?pd(t):t;l==="/"||(y=v.pathname)!=null&&y.startsWith(l)||ci(!1),p=v}else p=u;let d=p.pathname||"/",f=d;if(l!=="/"){let v=l.replace(/^\//,"").split("/");f="/"+d.replace(/^\//,"").split("/").slice(v.length).join("/")}let b=vN(n,{pathname:f}),g=XN(b&&b.map(v=>Object.assign({},v,{params:Object.assign({},c,v.params),pathname:dc([l,s.encodeLocation?s.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:dc([l,s.encodeLocation?s.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),o,i,r);return t&&g?Ee.createElement(qg.Provider,{value:{location:rp({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:lc.Pop}},g):g}function WN(){let n=JN(),t=FN(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),i=n instanceof Error?n.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return Ee.createElement(Ee.Fragment,null,Ee.createElement("h2",null,"Unexpected Application Error!"),Ee.createElement("h3",{style:{fontStyle:"italic"}},t),i?Ee.createElement("pre",{style:s},i):null,null)}const qN=Ee.createElement(WN,null);class YN extends Ee.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,i){return i.location!==t.location||i.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:i.error,location:i.location,revalidation:t.revalidation||i.revalidation}}componentDidCatch(t,i){console.error("React Router caught the following error during render",t,i)}render(){return this.state.error!==void 0?Ee.createElement(Nu.Provider,{value:this.props.routeContext},Ee.createElement(dR.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function $N(n){let{routeContext:t,match:i,children:r}=n,s=Ee.useContext(Pb);return s&&s.static&&s.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=i.route.id),Ee.createElement(Nu.Provider,{value:t},r)}function XN(n,t,i,r){var s;if(t===void 0&&(t=[]),i===void 0&&(i=null),r===void 0&&(r=null),n==null){var o;if(!i)return null;if(i.errors)n=i.matches;else if((o=r)!=null&&o.v7_partialHydration&&t.length===0&&!i.initialized&&i.matches.length>0)n=i.matches;else return null}let a=n,c=(s=i)==null?void 0:s.errors;if(c!=null){let p=a.findIndex(y=>y.route.id&&(c==null?void 0:c[y.route.id])!==void 0);p>=0||ci(!1),a=a.slice(0,Math.min(a.length,p+1))}let l=!1,u=-1;if(i&&r&&r.v7_partialHydration)for(let p=0;p<a.length;p++){let y=a[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(u=p),y.route.id){let{loaderData:d,errors:f}=i,b=y.route.loader&&d[y.route.id]===void 0&&(!f||f[y.route.id]===void 0);if(y.route.lazy||b){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((p,y,d)=>{let f,b=!1,g=null,v=null;i&&(f=c&&y.route.id?c[y.route.id]:void 0,g=y.route.errorElement||qN,l&&(u<0&&d===0?(b=!0,v=null):u===d&&(b=!0,v=y.route.hydrateFallbackElement||null)));let _=t.concat(a.slice(0,d+1)),x=()=>{let w;return f?w=g:b?w=v:y.route.Component?w=Ee.createElement(y.route.Component,null):y.route.element?w=y.route.element:w=p,Ee.createElement($N,{match:y,routeContext:{outlet:p,matches:_,isDataRoute:i!=null},children:w})};return i&&(y.route.ErrorBoundary||y.route.errorElement||d===0)?Ee.createElement(YN,{location:i.location,revalidation:i.revalidation,component:g,error:f,children:x(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):x()},null)}var mR=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(mR||{}),Y0=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(Y0||{});function KN(n){let t=Ee.useContext(Pb);return t||ci(!1),t}function QN(n){let t=Ee.useContext(BN);return t||ci(!1),t}function ZN(n){let t=Ee.useContext(Nu);return t||ci(!1),t}function gR(n){let t=ZN(),i=t.matches[t.matches.length-1];return i.route.id||ci(!1),i.route.id}function JN(){var n;let t=Ee.useContext(dR),i=QN(Y0.UseRouteError),r=gR(Y0.UseRouteError);return t!==void 0?t:(n=i.errors)==null?void 0:n[r]}function eL(){let{router:n}=KN(mR.UseNavigateStable),t=gR(Y0.UseNavigateStable),i=Ee.useRef(!1);return fR(()=>{i.current=!0}),Ee.useCallback(function(s,o){o===void 0&&(o={}),i.current&&(typeof s=="number"?n.navigate(s):n.navigate(s,rp({fromRouteId:t},o)))},[n,t])}const lE={};function tL(n,t){lE[t]||(lE[t]=!0,console.warn(t))}const cE=(n,t,i)=>tL(n," React Router Future Flag Warning: "+t+". "+("You can use the `"+n+"` future flag to opt-in early. ")+("For more information, see "+i+"."));function rL(n,t){n!=null&&n.v7_startTransition||cE("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),!(n!=null&&n.v7_relativeSplatPath)&&!t&&cE("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function hn(n){ci(!1)}function nL(n){let{basename:t="/",children:i=null,location:r,navigationType:s=lc.Pop,navigator:o,static:a=!1,future:c}=n;Rp()&&ci(!1);let l=t.replace(/^\/*/,"/"),u=Ee.useMemo(()=>({basename:l,navigator:o,static:a,future:rp({v7_relativeSplatPath:!1},c)}),[l,c,o,a]);typeof r=="string"&&(r=pd(r));let{pathname:p="/",search:y="",hash:d="",state:f=null,key:b="default"}=r,g=Ee.useMemo(()=>{let v=Mb(p,l);return v==null?null:{location:{pathname:v,search:y,hash:d,state:f,key:b},navigationType:s}},[l,p,y,d,f,b,s]);return g==null?null:Ee.createElement(Du.Provider,{value:u},Ee.createElement(qg.Provider,{children:i,value:g}))}function iL(n){let{children:t,location:i}=n;return zN(R_(t),i)}new Promise(()=>{});function R_(n,t){t===void 0&&(t=[]);let i=[];return Ee.Children.forEach(n,(r,s)=>{if(!Ee.isValidElement(r))return;let o=[...t,s];if(r.type===Ee.Fragment){i.push.apply(i,R_(r.props.children,o));return}r.type!==hn&&ci(!1),!r.props.index||!r.props.children||ci(!1);let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=R_(r.props.children,o)),i.push(a)}),i}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function O_(){return O_=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n[r]=i[r])}return n},O_.apply(this,arguments)}function sL(n,t){if(n==null)return{};var i={},r=Object.keys(n),s,o;for(o=0;o<r.length;o++)s=r[o],!(t.indexOf(s)>=0)&&(i[s]=n[s]);return i}function aL(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function oL(n,t){return n.button===0&&(!t||t==="_self")&&!aL(n)}function I_(n){return n===void 0&&(n=""),new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((t,i)=>{let r=n[i];return t.concat(Array.isArray(r)?r.map(s=>[i,s]):[[i,r]])},[]))}function lL(n,t){let i=I_(n);return t&&t.forEach((r,s)=>{i.has(s)||t.getAll(s).forEach(o=>{i.append(s,o)})}),i}const cL=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],uL="6";try{window.__reactRouterVersion=uL}catch{}const hL="startTransition",uE=A_[hL];function dL(n){let{basename:t,children:i,future:r,window:s}=n,o=Ee.useRef();o.current==null&&(o.current=mN({window:s,v5Compat:!0}));let a=o.current,[c,l]=Ee.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},p=Ee.useCallback(y=>{u&&uE?uE(()=>l(y)):l(y)},[l,u]);return Ee.useLayoutEffect(()=>a.listen(p),[a,p]),Ee.useEffect(()=>rL(r),[r]),Ee.createElement(nL,{basename:t,children:i,location:c.location,navigationType:c.action,navigator:a,future:r})}const fL=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",pL=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Fn=Ee.forwardRef(function(t,i){let{onClick:r,relative:s,reloadDocument:o,replace:a,state:c,target:l,to:u,preventScrollReset:p,viewTransition:y}=t,d=sL(t,cL),{basename:f}=Ee.useContext(Du),b,g=!1;if(typeof u=="string"&&pL.test(u)&&(b=u,fL))try{let w=new URL(window.location.href),S=u.startsWith("//")?new URL(w.protocol+u):new URL(u),R=Mb(S.pathname,f);S.origin===w.origin&&R!=null?u=R+S.search+S.hash:g=!0}catch{}let v=VN(u,{relative:s}),_=mL(u,{replace:a,state:c,target:l,preventScrollReset:p,relative:s,viewTransition:y});function x(w){r&&r(w),w.defaultPrevented||_(w)}return Ee.createElement("a",O_({},d,{href:b||v,onClick:g||o?r:x,ref:i,target:l}))});var hE;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(hE||(hE={}));var dE;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(dE||(dE={}));function mL(n,t){let{target:i,replace:r,state:s,preventScrollReset:o,relative:a,viewTransition:c}=t===void 0?{}:t,l=ds(),u=Cc(),p=pR(n,{relative:a});return Ee.useCallback(y=>{if(oL(y,i)){y.preventDefault();let d=r!==void 0?r:q0(u)===q0(p);l(n,{replace:d,state:s,preventScrollReset:o,relative:a,viewTransition:c})}},[u,l,p,r,s,i,n,o,a,c])}function gL(n){let t=Ee.useRef(I_(n)),i=Ee.useRef(!1),r=Cc(),s=Ee.useMemo(()=>lL(r.search,i.current?null:t.current),[r.search]),o=ds(),a=Ee.useCallback((c,l)=>{const u=I_(typeof c=="function"?c(s):c);i.current=!0,o("?"+u,l)},[o,s]);return[s,a]}const yL=""+new URL("signed_stablehand_logo-B-KOcpbG.png",import.meta.url).href,yR=({children:n})=>V.jsx("div",{className:"flex flex-col items-center justify-top min-h-screen p-0 bg-gray-100",children:V.jsx("div",{className:"w-full max-w-lg bg-white p-8 rounded-lg shadow-md border border-gray-300",children:n})}),Kn=({children:n,bgColor:t="bg-gray-100",paddingY:i="py-4",paddingX:r="px-8",marginX:s="mx-2",border:o="border border-red-700",rounded:a="rounded-lg",shadow:c="shadow-md",fullWidth:l="w-screen"})=>V.jsx("div",{className:`flex flex-col items-center justify-top min-h-screen ${l} ${t} ${i} ${r} ${s} ${a} ${c} ${o}`,style:{position:"relative",zIndex:2},children:n}),Yg=({children:n})=>V.jsx("div",{className:"w-full bg-blue-100 p-8 rounded-lg shadow-md border border-blue-700",children:V.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen",children:n})}),vL=()=>{const n=ds(),[t,i]=Ee.useState(!1);return Ee.useEffect(()=>{const r=setTimeout(()=>i(!0),300);return()=>clearTimeout(r)},[]),V.jsx(Kn,{bgColor:"bg-gray-100",children:V.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen p-4 bg-gray-100",children:[V.jsx("div",{className:`relative mb-3 transition-opacity duration-1000 ${t?"opacity-100":"opacity-0"}`,children:V.jsx("img",{src:yL,alt:"Welcome to StableGait, a unique therapy to relieve tremor",className:"w-100 h-100 object-cover rounded-full shadow-x3"})}),V.jsxs("div",{className:"text-center mb-6",children:[V.jsx("h1",{className:"text-5xl font-bold text-gray-800 mb-2",children:"Welcome to Stablehand"}),V.jsx("p",{className:"text-red-500 text-center",children:"A Unique Virtual Tool to Stabilize Tremor"})]}),V.jsx("div",{className:"w-full p-2 bg-white rounded-lg shadow-lg max-w-md",children:V.jsxs("div",{className:"mt-8 flex space-x-4",children:[V.jsx("button",{onClick:()=>n("/login"),className:"w-full bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg",children:"Login"}),V.jsx("button",{onClick:()=>n("/register"),className:"w-full bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded-lg",children:"Register"})]})})]})})};var fE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bt=function(n,t){if(!n)throw md(t)},md=function(n){return new Error("Firebase Database ("+vR.SDK_VERSION+") INTERNAL ASSERT FAILED: "+n)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R=function(n){const t=[];let i=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?t[i++]=s:s<2048?(t[i++]=s>>6|192,t[i++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),t[i++]=s>>18|240,t[i++]=s>>12&63|128,t[i++]=s>>6&63|128,t[i++]=s&63|128):(t[i++]=s>>12|224,t[i++]=s>>6&63|128,t[i++]=s&63|128)}return t},_L=function(n){const t=[];let i=0,r=0;for(;i<n.length;){const s=n[i++];if(s<128)t[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=n[i++];t[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=n[i++],a=n[i++],c=n[i++],l=((s&7)<<18|(o&63)<<12|(a&63)<<6|c&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{const o=n[i++],a=n[i++];t[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|a&63)}}return t.join("")},Db={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const o=n[s],a=s+1<n.length,c=a?n[s+1]:0,l=s+2<n.length,u=l?n[s+2]:0,p=o>>2,y=(o&3)<<4|c>>4;let d=(c&15)<<2|u>>6,f=u&63;l||(f=64,a||(d=64)),r.push(i[p],i[y],i[d],i[f])}return r.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(_R(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):_L(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const o=i[n.charAt(s++)],c=s<n.length?i[n.charAt(s)]:0;++s;const u=s<n.length?i[n.charAt(s)]:64;++s;const y=s<n.length?i[n.charAt(s)]:64;if(++s,o==null||c==null||u==null||y==null)throw new bL;const d=o<<2|c>>4;if(r.push(d),u!==64){const f=c<<4&240|u>>2;if(r.push(f),y!==64){const b=u<<6&192|y;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class bL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const bR=function(n){const t=_R(n);return Db.encodeByteArray(t,!0)},$0=function(n){return bR(n).replace(/\./g,"")},X0=function(n){try{return Db.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xL(n){return xR(void 0,n)}function xR(n,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const i=t;return new Date(i.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return t}for(const i in t)!t.hasOwnProperty(i)||!wL(i)||(n[i]=xR(n[i],t[i]));return n}function wL(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TL=()=>SL().__FIREBASE_DEFAULTS__,EL=()=>{if(typeof process>"u"||typeof fE>"u")return;const n=fE.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},CL=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&X0(n[1]);return t&&JSON.parse(t)},$g=()=>{try{return TL()||EL()||CL()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},wR=n=>{var t,i;return(i=(t=$g())===null||t===void 0?void 0:t.emulatorHosts)===null||i===void 0?void 0:i[n]},Nb=n=>{const t=wR(n);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),r]:[t.substring(0,i),r]},SR=()=>{var n;return(n=$g())===null||n===void 0?void 0:n.config},TR=n=>{var t;return(t=$g())===null||t===void 0?void 0:t[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lb(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=t||"demo-project",s=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[$0(JSON.stringify(i)),$0(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hs(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Fb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(hs())}function AL(){var n;const t=(n=$g())===null||n===void 0?void 0:n.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function jL(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Ub(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function ER(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function RL(){const n=hs();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function CR(){return vR.NODE_ADMIN===!0}function OL(){return!AL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Bb(){try{return typeof indexedDB=="object"}catch{return!1}}function Vb(){return new Promise((n,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),i||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{i=!1},s.onerror=()=>{var o;t(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(i){t(i)}})}function AR(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IL="FirebaseError";class Ia extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=IL,Object.setPrototypeOf(this,Ia.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Lu.prototype.create)}}class Lu{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},s=`${this.service}/${t}`,o=this.errors[t],a=o?kL(o,r):"Error",c=`${this.serviceName}: ${a} (${s}).`;return new Ia(s,c,r)}}function kL(n,t){return n.replace(ML,(i,r)=>{const s=t[r];return s!=null?String(s):`<${r}?>`})}const ML=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function np(n){return JSON.parse(n)}function Hi(n){return JSON.stringify(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jR=function(n){let t={},i={},r={},s="";try{const o=n.split(".");t=np(X0(o[0])||""),i=np(X0(o[1])||""),s=o[2],r=i.d||{},delete i.d}catch{}return{header:t,claims:i,data:r,signature:s}},PL=function(n){const t=jR(n),i=t.claims;return!!i&&typeof i=="object"&&i.hasOwnProperty("iat")},DL=function(n){const t=jR(n).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ol(n,t){return Object.prototype.hasOwnProperty.call(n,t)}function ed(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]}function k_(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function K0(n,t,i){const r={};for(const s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=t.call(i,n[s],s,n));return r}function ip(n,t){if(n===t)return!0;const i=Object.keys(n),r=Object.keys(t);for(const s of i){if(!r.includes(s))return!1;const o=n[s],a=t[s];if(pE(o)&&pE(a)){if(!ip(o,a))return!1}else if(o!==a)return!1}for(const s of r)if(!i.includes(s))return!1;return!0}function pE(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fu(n){const t=[];for(const[i,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(s))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Rf(n){const t={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,o]=r.split("=");t[decodeURIComponent(s)]=decodeURIComponent(o)}}),t}function Of(n){const t=n.indexOf("?");if(!t)return"";const i=n.indexOf("#",t);return n.substring(t,i>0?i:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NL{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,i){i||(i=0);const r=this.W_;if(typeof t=="string")for(let y=0;y<16;y++)r[y]=t.charCodeAt(i)<<24|t.charCodeAt(i+1)<<16|t.charCodeAt(i+2)<<8|t.charCodeAt(i+3),i+=4;else for(let y=0;y<16;y++)r[y]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i+=4;for(let y=16;y<80;y++){const d=r[y-3]^r[y-8]^r[y-14]^r[y-16];r[y]=(d<<1|d>>>31)&4294967295}let s=this.chain_[0],o=this.chain_[1],a=this.chain_[2],c=this.chain_[3],l=this.chain_[4],u,p;for(let y=0;y<80;y++){y<40?y<20?(u=c^o&(a^c),p=1518500249):(u=o^a^c,p=1859775393):y<60?(u=o&a|c&(o|a),p=2400959708):(u=o^a^c,p=3395469782);const d=(s<<5|s>>>27)+u+l+p+r[y]&4294967295;l=c,c=a,a=(o<<30|o>>>2)&4294967295,o=s,s=d}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(t,i){if(t==null)return;i===void 0&&(i=t.length);const r=i-this.blockSize;let s=0;const o=this.buf_;let a=this.inbuf_;for(;s<i;){if(a===0)for(;s<=r;)this.compress_(t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<i;)if(o[a]=t.charCodeAt(s),++a,++s,a===this.blockSize){this.compress_(o),a=0;break}}else for(;s<i;)if(o[a]=t[s],++a,++s,a===this.blockSize){this.compress_(o),a=0;break}}this.inbuf_=a,this.total_+=i}digest(){const t=[];let i=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=i&255,i/=256;this.compress_(this.buf_);let r=0;for(let s=0;s<5;s++)for(let o=24;o>=0;o-=8)t[r]=this.chain_[s]>>o&255,++r;return t}}function LL(n,t){const i=new FL(n,t);return i.subscribe.bind(i)}class FL{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,r){let s;if(t===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");UL(t,["next","error","complete"])?s=t:s={next:t,error:i,complete:r},s.next===void 0&&(s.next=I1),s.error===void 0&&(s.error=I1),s.complete===void 0&&(s.complete=I1);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function UL(n,t){if(typeof n!="object"||n===null)return!1;for(const i of t)if(i in n&&typeof n[i]=="function")return!0;return!1}function I1(){}function Gb(n,t){return`${n} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BL=function(n){const t=[];let i=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);if(s>=55296&&s<=56319){const o=s-55296;r++,Bt(r<n.length,"Surrogate pair missing trail surrogate.");const a=n.charCodeAt(r)-56320;s=65536+(o<<10)+a}s<128?t[i++]=s:s<2048?(t[i++]=s>>6|192,t[i++]=s&63|128):s<65536?(t[i++]=s>>12|224,t[i++]=s>>6&63|128,t[i++]=s&63|128):(t[i++]=s>>18|240,t[i++]=s>>12&63|128,t[i++]=s>>6&63|128,t[i++]=s&63|128)}return t},Kg=function(n){let t=0;for(let i=0;i<n.length;i++){const r=n.charCodeAt(i);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,i++):t+=3}return t};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VL=1e3,GL=2,zL=4*60*60*1e3,HL=.5;function mE(n,t=VL,i=GL){const r=t*Math.pow(i,n),s=Math.round(HL*r*(Math.random()-.5)*2);return Math.min(zL,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lr(n){return n&&n._delegate?n._delegate:n}class sa{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const su="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WL{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new Xg;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:i});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){var i;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),s=(i=t==null?void 0:t.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(YL(t))try{this.getOrInitializeService({instanceIdentifier:su})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(i);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(t=su){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=su){return this.instances.has(t)}getOptions(t=su){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[o,a]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);r===c&&a.resolve(s)}return s}onInit(t,i){var r;const s=this.normalizeInstanceIdentifier(i),o=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;o.add(t),this.onInitCallbacks.set(s,o);const a=this.instances.get(s);return a&&t(a,s),()=>{o.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const s of r)try{s(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:qL(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=su){return this.component?this.component.multipleInstances?t:su:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function qL(n){return n===su?void 0:n}function YL(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $L{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new WL(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Er;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Er||(Er={}));const XL={debug:Er.DEBUG,verbose:Er.VERBOSE,info:Er.INFO,warn:Er.WARN,error:Er.ERROR,silent:Er.SILENT},KL=Er.INFO,QL={[Er.DEBUG]:"log",[Er.VERBOSE]:"log",[Er.INFO]:"info",[Er.WARN]:"warn",[Er.ERROR]:"error"},ZL=(n,t,...i)=>{if(t<n.logLevel)return;const r=new Date().toISOString(),s=QL[t];if(s)console[s](`[${r}]  ${n.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Op{constructor(t){this.name=t,this._logLevel=KL,this._logHandler=ZL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Er))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?XL[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Er.DEBUG,...t),this._logHandler(this,Er.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Er.VERBOSE,...t),this._logHandler(this,Er.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Er.INFO,...t),this._logHandler(this,Er.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Er.WARN,...t),this._logHandler(this,Er.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Er.ERROR,...t),this._logHandler(this,Er.ERROR,...t)}}const JL=(n,t)=>t.some(i=>n instanceof i);let gE,yE;function e5(){return gE||(gE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function t5(){return yE||(yE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const RR=new WeakMap,M_=new WeakMap,OR=new WeakMap,k1=new WeakMap,zb=new WeakMap;function r5(n){const t=new Promise((i,r)=>{const s=()=>{n.removeEventListener("success",o),n.removeEventListener("error",a)},o=()=>{i(fc(n.result)),s()},a=()=>{r(n.error),s()};n.addEventListener("success",o),n.addEventListener("error",a)});return t.then(i=>{i instanceof IDBCursor&&RR.set(i,n)}).catch(()=>{}),zb.set(t,n),t}function n5(n){if(M_.has(n))return;const t=new Promise((i,r)=>{const s=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",a),n.removeEventListener("abort",a)},o=()=>{i(),s()},a=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",o),n.addEventListener("error",a),n.addEventListener("abort",a)});M_.set(n,t)}let P_={get(n,t,i){if(n instanceof IDBTransaction){if(t==="done")return M_.get(n);if(t==="objectStoreNames")return n.objectStoreNames||OR.get(n);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return fc(n[t])},set(n,t,i){return n[t]=i,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function i5(n){P_=n(P_)}function s5(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=n.call(M1(this),t,...i);return OR.set(r,t.sort?t.sort():[t]),fc(r)}:t5().includes(n)?function(...t){return n.apply(M1(this),t),fc(RR.get(this))}:function(...t){return fc(n.apply(M1(this),t))}}function a5(n){return typeof n=="function"?s5(n):(n instanceof IDBTransaction&&n5(n),JL(n,e5())?new Proxy(n,P_):n)}function fc(n){if(n instanceof IDBRequest)return r5(n);if(k1.has(n))return k1.get(n);const t=a5(n);return t!==n&&(k1.set(n,t),zb.set(t,n)),t}const M1=n=>zb.get(n);function IR(n,t,{blocked:i,upgrade:r,blocking:s,terminated:o}={}){const a=indexedDB.open(n,t),c=fc(a);return r&&a.addEventListener("upgradeneeded",l=>{r(fc(a.result),l.oldVersion,l.newVersion,fc(a.transaction),l)}),i&&a.addEventListener("blocked",l=>i(l.oldVersion,l.newVersion,l)),c.then(l=>{o&&l.addEventListener("close",()=>o()),s&&l.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),c}const o5=["get","getKey","getAll","getAllKeys","count"],l5=["put","add","delete","clear"],P1=new Map;function vE(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(P1.get(t))return P1.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,s=l5.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(s||o5.includes(i)))return;const o=async function(a,...c){const l=this.transaction(a,s?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(c.shift())),(await Promise.all([u[i](...c),s&&l.done]))[0]};return P1.set(t,o),o}i5(n=>({...n,get:(t,i,r)=>vE(t,i)||n.get(t,i,r),has:(t,i)=>!!vE(t,i)||n.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c5{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(u5(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function u5(n){const t=n.getComponent();return(t==null?void 0:t.type)==="VERSION"}const D_="@firebase/app",_E="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vl=new Op("@firebase/app"),h5="@firebase/app-compat",d5="@firebase/analytics-compat",f5="@firebase/analytics",p5="@firebase/app-check-compat",m5="@firebase/app-check",g5="@firebase/auth",y5="@firebase/auth-compat",v5="@firebase/database",_5="@firebase/data-connect",b5="@firebase/database-compat",x5="@firebase/functions",w5="@firebase/functions-compat",S5="@firebase/installations",T5="@firebase/installations-compat",E5="@firebase/messaging",C5="@firebase/messaging-compat",A5="@firebase/performance",j5="@firebase/performance-compat",R5="@firebase/remote-config",O5="@firebase/remote-config-compat",I5="@firebase/storage",k5="@firebase/storage-compat",M5="@firebase/firestore",P5="@firebase/vertexai-preview",D5="@firebase/firestore-compat",N5="firebase",L5="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N_="[DEFAULT]",F5={[D_]:"fire-core",[h5]:"fire-core-compat",[f5]:"fire-analytics",[d5]:"fire-analytics-compat",[m5]:"fire-app-check",[p5]:"fire-app-check-compat",[g5]:"fire-auth",[y5]:"fire-auth-compat",[v5]:"fire-rtdb",[_5]:"fire-data-connect",[b5]:"fire-rtdb-compat",[x5]:"fire-fn",[w5]:"fire-fn-compat",[S5]:"fire-iid",[T5]:"fire-iid-compat",[E5]:"fire-fcm",[C5]:"fire-fcm-compat",[A5]:"fire-perf",[j5]:"fire-perf-compat",[R5]:"fire-rc",[O5]:"fire-rc-compat",[I5]:"fire-gcs",[k5]:"fire-gcs-compat",[M5]:"fire-fst",[D5]:"fire-fst-compat",[P5]:"fire-vertex","fire-js":"fire-js",[N5]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sp=new Map,U5=new Map,L_=new Map;function bE(n,t){try{n.container.addComponent(t)}catch(i){vl.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,i)}}function ja(n){const t=n.name;if(L_.has(t))return vl.debug(`There were multiple attempts to register component ${t}.`),!1;L_.set(t,n);for(const i of sp.values())bE(i,n);for(const i of U5.values())bE(i,n);return!0}function Il(n,t){const i=n.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),n.container.getProvider(t)}function Ca(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B5={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},pc=new Lu("app","Firebase",B5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V5{constructor(t,i,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new sa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw pc.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ac=L5;function kR(n,t={}){let i=n;typeof t!="object"&&(t={name:t});const r=Object.assign({name:N_,automaticDataCollectionEnabled:!1},t),s=r.name;if(typeof s!="string"||!s)throw pc.create("bad-app-name",{appName:String(s)});if(i||(i=SR()),!i)throw pc.create("no-options");const o=sp.get(s);if(o){if(ip(i,o.options)&&ip(r,o.config))return o;throw pc.create("duplicate-app",{appName:s})}const a=new $L(s);for(const l of L_.values())a.addComponent(l);const c=new V5(i,r,a);return sp.set(s,c),c}function gd(n=N_){const t=sp.get(n);if(!t&&n===N_&&SR())return kR();if(!t)throw pc.create("no-app",{appName:n});return t}function G5(){return Array.from(sp.values())}function ls(n,t,i){var r;let s=(r=F5[n])!==null&&r!==void 0?r:n;i&&(s+=`-${i}`);const o=s.match(/\s|\//),a=t.match(/\s|\//);if(o||a){const c=[`Unable to register library "${s}" with version "${t}":`];o&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&a&&c.push("and"),a&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),vl.warn(c.join(" "));return}ja(new sa(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z5="firebase-heartbeat-database",H5=1,ap="firebase-heartbeat-store";let D1=null;function MR(){return D1||(D1=IR(z5,H5,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(ap)}catch(i){console.warn(i)}}}}).catch(n=>{throw pc.create("idb-open",{originalErrorMessage:n.message})})),D1}async function W5(n){try{const i=(await MR()).transaction(ap),r=await i.objectStore(ap).get(PR(n));return await i.done,r}catch(t){if(t instanceof Ia)vl.warn(t.message);else{const i=pc.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});vl.warn(i.message)}}}async function xE(n,t){try{const r=(await MR()).transaction(ap,"readwrite");await r.objectStore(ap).put(t,PR(n)),await r.done}catch(i){if(i instanceof Ia)vl.warn(i.message);else{const r=pc.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});vl.warn(r.message)}}}function PR(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q5=1024,Y5=30*24*60*60*1e3;class $5{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new K5(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,i;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=wE();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const c=new Date(a.date).valueOf();return Date.now()-c<=Y5}),this._storage.overwrite(this._heartbeatsCache))}catch(r){vl.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=wE(),{heartbeatsToSend:r,unsentEntries:s}=X5(this._heartbeatsCache.heartbeats),o=$0(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=i,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(i){return vl.warn(i),""}}}function wE(){return new Date().toISOString().substring(0,10)}function X5(n,t=q5){const i=[];let r=n.slice();for(const s of n){const o=i.find(a=>a.agent===s.agent);if(o){if(o.dates.push(s.date),SE(i)>t){o.dates.pop();break}}else if(i.push({agent:s.agent,dates:[s.date]}),SE(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class K5{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Bb()?Vb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await W5(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var i;if(await this._canUseIndexedDBPromise){const s=await this.read();return xE(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var i;if(await this._canUseIndexedDBPromise){const s=await this.read();return xE(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function SE(n){return $0(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q5(n){ja(new sa("platform-logger",t=>new c5(t),"PRIVATE")),ja(new sa("heartbeat",t=>new $5(t),"PRIVATE")),ls(D_,_E,n),ls(D_,_E,"esm2017"),ls("fire-js","")}Q5("");function Hb(n,t){var i={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(i[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(i[r[s]]=n[r[s]]);return i}function DR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Z5=DR,NR=new Lu("auth","Firebase",DR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0=new Op("@firebase/auth");function J5(n,...t){Q0.logLevel<=Er.WARN&&Q0.warn(`Auth (${Ac}): ${n}`,...t)}function I0(n,...t){Q0.logLevel<=Er.ERROR&&Q0.error(`Auth (${Ac}): ${n}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ls(n,...t){throw qb(n,...t)}function ks(n,...t){return qb(n,...t)}function Wb(n,t,i){const r=Object.assign(Object.assign({},Z5()),{[t]:i});return new Lu("auth","Firebase",r).create(t,{appName:n.name})}function So(n){return Wb(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function eF(n,t,i){const r=i;if(!(t instanceof r))throw r.name!==t.constructor.name&&Ls(n,"argument-error"),Wb(n,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function qb(n,...t){if(typeof n!="string"){const i=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(i,...r)}return NR.create(n,...t)}function Ut(n,t,...i){if(!n)throw qb(t,...i)}function xo(n){const t="INTERNAL ASSERTION FAILED: "+n;throw I0(t),new Error(t)}function _l(n,t){n||xo(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F_(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function LR(){return TE()==="http:"||TE()==="https:"}function TE(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tF(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(LR()||Ub()||"connection"in navigator)?navigator.onLine:!0}function rF(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(t,i){this.shortDelay=t,this.longDelay=i,_l(i>t,"Short delay should be less than long delay!"),this.isMobile=Fb()||ER()}get(){return tF()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yb(n,t){_l(n.emulator,"Emulator should always be set here");const{url:i}=n.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{static initialize(t,i,r){this.fetchImpl=t,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;xo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;xo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;xo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nF={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iF=new Ip(3e4,6e4);function fi(n,t){return n.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:n.tenantId}):t}async function Pi(n,t,i,r,s={}){return UR(n,s,async()=>{let o={},a={};r&&(t==="GET"?a=r:o={body:JSON.stringify(r)});const c=Fu(Object.assign({key:n.config.apiKey},a)).slice(1),l=await n._getAdditionalHeaders();l["Content-Type"]="application/json",n.languageCode&&(l["X-Firebase-Locale"]=n.languageCode);const u=Object.assign({method:t,headers:l},o);return jL()||(u.referrerPolicy="no-referrer"),FR.fetch()(BR(n,n.config.apiHost,i,c),u)})}async function UR(n,t,i){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},nF),t);try{const s=new aF(n),o=await Promise.race([i(),s.promise]);s.clearNetworkTimeout();const a=await o.json();if("needConfirmation"in a)throw If(n,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{const c=o.ok?a.errorMessage:a.error.message,[l,u]=c.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw If(n,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw If(n,"email-already-in-use",a);if(l==="USER_DISABLED")throw If(n,"user-disabled",a);const p=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Wb(n,p,u);Ls(n,p)}}catch(s){if(s instanceof Ia)throw s;Ls(n,"network-request-failed",{message:String(s)})}}async function jc(n,t,i,r,s={}){const o=await Pi(n,t,i,r,s);return"mfaPendingCredential"in o&&Ls(n,"multi-factor-auth-required",{_serverResponse:o}),o}function BR(n,t,i,r){const s=`${t}${i}?${r}`;return n.config.emulator?Yb(n.config,s):`${n.config.apiScheme}://${s}`}function sF(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class aF{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(ks(this.auth,"network-request-failed")),iF.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function If(n,t,i){const r={appName:n.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const s=ks(n,t,r);return s.customData._tokenResponse=i,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EE(n){return n!==void 0&&n.getResponse!==void 0}function CE(n){return n!==void 0&&n.enterprise!==void 0}class oF{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===t)return sF(i.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lF(n){return(await Pi(n,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function cF(n,t){return Pi(n,"GET","/v2/recaptchaConfig",fi(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uF(n,t){return Pi(n,"POST","/v1/accounts:delete",t)}async function VR(n,t){return Pi(n,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ff(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function hF(n,t=!1){const i=Lr(n),r=await i.getIdToken(t),s=$b(r);Ut(s&&s.exp&&s.auth_time&&s.iat,i.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,a=o==null?void 0:o.sign_in_provider;return{claims:s,token:r,authTime:Ff(N1(s.auth_time)),issuedAtTime:Ff(N1(s.iat)),expirationTime:Ff(N1(s.exp)),signInProvider:a||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function N1(n){return Number(n)*1e3}function $b(n){const[t,i,r]=n.split(".");if(t===void 0||i===void 0||r===void 0)return I0("JWT malformed, contained fewer than 3 sections"),null;try{const s=X0(i);return s?JSON.parse(s):(I0("Failed to decode base64 JWT payload"),null)}catch(s){return I0("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function AE(n){const t=$b(n);return Ut(t,"internal-error"),Ut(typeof t.exp<"u","internal-error"),Ut(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xu(n,t,i=!1){if(i)return t;try{return await t}catch(r){throw r instanceof Ia&&dF(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function dF({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fF{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var i;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((i=this.user.stsTokenManager.expirationTime)!==null&&i!==void 0?i:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ff(this.lastLoginAt),this.creationTime=Ff(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z0(n){var t;const i=n.auth,r=await n.getIdToken(),s=await xu(n,VR(i,{idToken:r}));Ut(s==null?void 0:s.users.length,i,"internal-error");const o=s.users[0];n._notifyReloadListener(o);const a=!((t=o.providerUserInfo)===null||t===void 0)&&t.length?GR(o.providerUserInfo):[],c=pF(n.providerData,a),l=n.isAnonymous,u=!(n.email&&o.passwordHash)&&!(c!=null&&c.length),p=l?u:!1,y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new U_(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(n,y)}async function Qg(n){const t=Lr(n);await Z0(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function pF(n,t){return[...n.filter(r=>!t.some(s=>s.providerId===r.providerId)),...t]}function GR(n){return n.map(t=>{var{providerId:i}=t,r=Hb(t,["providerId"]);return{providerId:i,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mF(n,t){const i=await UR(n,{},async()=>{const r=Fu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:s,apiKey:o}=n.config,a=BR(n,s,"/v1/token",`key=${o}`),c=await n._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",FR.fetch()(a,{method:"POST",headers:c,body:r})});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function gF(n,t){return Pi(n,"POST","/v2/accounts:revokeToken",fi(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Ut(t.idToken,"internal-error"),Ut(typeof t.idToken<"u","internal-error"),Ut(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):AE(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){Ut(t.length!==0,"internal-error");const i=AE(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Ut(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:r,refreshToken:s,expiresIn:o}=await mF(t,i);this.updateTokensAndExpiration(r,s,Number(o))}updateTokensAndExpiration(t,i,r){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,i){const{refreshToken:r,accessToken:s,expirationTime:o}=i,a=new zh;return r&&(Ut(typeof r=="string","internal-error",{appName:t}),a.refreshToken=r),s&&(Ut(typeof s=="string","internal-error",{appName:t}),a.accessToken=s),o&&(Ut(typeof o=="number","internal-error",{appName:t}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new zh,this.toJSON())}_performRefresh(){return xo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sc(n,t){Ut(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class ll{constructor(t){var{uid:i,auth:r,stsTokenManager:s}=t,o=Hb(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new fF(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=i,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new U_(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const i=await xu(this,this.stsTokenManager.getToken(this.auth,t));return Ut(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return hF(this,t)}reload(){return Qg(this)}_assign(t){this!==t&&(Ut(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>Object.assign({},i)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new ll(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return i.metadata._copy(this.metadata),i}_onReload(t){Ut(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),i&&await Z0(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ca(this.auth.app))return Promise.reject(So(this.auth));const t=await this.getIdToken();return await xu(this,uF(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){var r,s,o,a,c,l,u,p;const y=(r=i.displayName)!==null&&r!==void 0?r:void 0,d=(s=i.email)!==null&&s!==void 0?s:void 0,f=(o=i.phoneNumber)!==null&&o!==void 0?o:void 0,b=(a=i.photoURL)!==null&&a!==void 0?a:void 0,g=(c=i.tenantId)!==null&&c!==void 0?c:void 0,v=(l=i._redirectEventId)!==null&&l!==void 0?l:void 0,_=(u=i.createdAt)!==null&&u!==void 0?u:void 0,x=(p=i.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:w,emailVerified:S,isAnonymous:R,providerData:D,stsTokenManager:A}=i;Ut(w&&A,t,"internal-error");const C=zh.fromJSON(this.name,A);Ut(typeof w=="string",t,"internal-error"),sc(y,t.name),sc(d,t.name),Ut(typeof S=="boolean",t,"internal-error"),Ut(typeof R=="boolean",t,"internal-error"),sc(f,t.name),sc(b,t.name),sc(g,t.name),sc(v,t.name),sc(_,t.name),sc(x,t.name);const j=new ll({uid:w,auth:t,email:d,emailVerified:S,displayName:y,isAnonymous:R,photoURL:b,phoneNumber:f,tenantId:g,stsTokenManager:C,createdAt:_,lastLoginAt:x});return D&&Array.isArray(D)&&(j.providerData=D.map(P=>Object.assign({},P))),v&&(j._redirectEventId=v),j}static async _fromIdTokenResponse(t,i,r=!1){const s=new zh;s.updateFromServerResponse(i);const o=new ll({uid:i.localId,auth:t,stsTokenManager:s,isAnonymous:r});return await Z0(o),o}static async _fromGetAccountInfoResponse(t,i,r){const s=i.users[0];Ut(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?GR(s.providerUserInfo):[],a=!(s.email&&s.passwordHash)&&!(o!=null&&o.length),c=new zh;c.updateFromIdToken(r);const l=new ll({uid:s.localId,auth:t,stsTokenManager:c,isAnonymous:a}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new U_(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE=new Map;function cl(n){_l(n instanceof Function,"Expected a class definition");let t=jE.get(n);return t?(_l(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,jE.set(n,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}zR.type="NONE";const RE=zR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k0(n,t,i){return`firebase:${n}:${t}:${i}`}class Hh{constructor(t,i,r){this.persistence=t,this.auth=i,this.userKey=r;const{config:s,name:o}=this.auth;this.fullUserKey=k0(this.userKey,s.apiKey,o),this.fullPersistenceKey=k0("persistence",s.apiKey,o),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?ll._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,r="authUser"){if(!i.length)return new Hh(cl(RE),t,r);const s=(await Promise.all(i.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=s[0]||cl(RE);const a=k0(r,t.config.apiKey,t.name);let c=null;for(const u of i)try{const p=await u._get(a);if(p){const y=ll._fromJSON(t,p);u!==o&&(c=y),o=u;break}}catch{}const l=s.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new Hh(o,t,r):(o=l[0],c&&await o._set(a,c.toJSON()),await Promise.all(i.map(async u=>{if(u!==o)try{await u._remove(a)}catch{}})),new Hh(o,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OE(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(YR(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(HR(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(XR(t))return"Blackberry";if(KR(t))return"Webos";if(WR(t))return"Safari";if((t.includes("chrome/")||qR(t))&&!t.includes("edge/"))return"Chrome";if($R(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(i);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function HR(n=hs()){return/firefox\//i.test(n)}function WR(n=hs()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function qR(n=hs()){return/crios\//i.test(n)}function YR(n=hs()){return/iemobile/i.test(n)}function $R(n=hs()){return/android/i.test(n)}function XR(n=hs()){return/blackberry/i.test(n)}function KR(n=hs()){return/webos/i.test(n)}function Xb(n=hs()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function yF(n=hs()){var t;return Xb(n)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function vF(){return RL()&&document.documentMode===10}function QR(n=hs()){return Xb(n)||$R(n)||KR(n)||XR(n)||/windows phone/i.test(n)||YR(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZR(n,t=[]){let i;switch(n){case"Browser":i=OE(hs());break;case"Worker":i=`${OE(hs())}-${n}`;break;default:i=n}const r=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${Ac}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _F{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const r=o=>new Promise((a,c)=>{try{const l=t(o);a(l)}catch(l){c(l)}});r.onAbort=i,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const r of this.queue)await r(t),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const s of i)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bF(n,t={}){return Pi(n,"GET","/v2/passwordPolicy",fi(n,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xF=6;class wF{constructor(t){var i,r,s,o;const a=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(i=a.minPasswordLength)!==null&&i!==void 0?i:xF,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=t.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(o=t.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var i,r,s,o,a,c;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,l),this.validatePasswordCharacterOptions(t,l),l.isValid&&(l.isValid=(i=l.meetsMinPasswordLength)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNumericCharacter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(c=l.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),l}validatePasswordLengthOptions(t,i){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=t.length>=r),s&&(i.meetsMaxPasswordLength=t.length<=s)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let s=0;s<t.length;s++)r=t.charAt(s),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,i,r,s,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SF{constructor(t,i,r,s){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new IE(this),this.idTokenSubscription=new IE(this),this.beforeStateQueue=new _F(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=NR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=cl(i)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Hh.create(this,t),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await VR(this,{idToken:t}),r=await ll._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var i;if(Ca(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(c,c))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId,c=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(t);(!a||a===c)&&(l!=null&&l.user)&&(s=l.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(a){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ut(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Z0(t)}catch(i){if((i==null?void 0:i.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=rF()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Ca(this.app))return Promise.reject(So(this));const i=t?Lr(t):null;return i&&Ut(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&Ut(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Ca(this.app)?Promise.reject(So(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Ca(this.app)?Promise.reject(So(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(cl(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await bF(this),i=new wF(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Lu("auth","Firebase",t())}onAuthStateChanged(t,i,r){return this.registerStateListener(this.authStateSubscription,t,i,r)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,r){return this.registerStateListener(this.idTokenSubscription,t,i,r)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await gF(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,i){const r=await this.getOrInitRedirectPersistenceManager(i);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&cl(t)||this._popupRedirectResolver;Ut(i,this,"argument-error"),this.redirectPersistenceManager=await Hh.create(this,[cl(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var i,r;return this._isInitialized&&await this.queue(async()=>{}),((i=this._currentUser)===null||i===void 0?void 0:i._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(i=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&i!==void 0?i:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,r,s){if(this._deleted)return()=>{};const o=typeof i=="function"?i:i.next.bind(i);let a=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ut(c,this,"internal-error"),c.then(()=>{a||o(this.currentUser)}),typeof i=="function"){const l=t.addObserver(i,r,s);return()=>{a=!0,l()}}else{const l=t.addObserver(i);return()=>{a=!0,l()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Ut(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=ZR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const i={"X-Client-Version":this.clientVersion};this.app.options.appId&&(i["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());r&&(i["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(i["X-Firebase-AppCheck"]=s),i}async _getAppCheckToken(){var t;const i=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return i!=null&&i.error&&J5(`Error while retrieving App Check token: ${i.error}`),i==null?void 0:i.token}}function Ts(n){return Lr(n)}class IE{constructor(t){this.auth=t,this.observer=null,this.addObserver=LL(i=>this.observer=i)}get next(){return Ut(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function TF(n){kp=n}function Kb(n){return kp.loadJS(n)}function EF(){return kp.recaptchaV2Script}function CF(){return kp.recaptchaEnterpriseScript}function AF(){return kp.gapiScript}function JR(n){return`__${n}${Math.floor(Math.random()*1e6)}`}const jF="recaptcha-enterprise",RF="NO_RECAPTCHA";class OF{constructor(t){this.type=jF,this.auth=Ts(t)}async verify(t="verify",i=!1){async function r(o){if(!i){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(a,c)=>{cF(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const u=new oF(l);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,a(u.siteKey)}}).catch(l=>{c(l)})})}function s(o,a,c){const l=window.grecaptcha;CE(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:t}).then(u=>{a(u)}).catch(()=>{a(RF)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,a)=>{r(this.auth).then(c=>{if(!i&&CE(window.grecaptcha))s(c,o,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let l=CF();l.length!==0&&(l+=c),Kb(l).then(()=>{s(c,o,a)}).catch(u=>{a(u)})}}).catch(c=>{a(c)})})}}async function kE(n,t,i,r=!1){const s=new OF(n);let o;try{o=await s.verify(i)}catch{o=await s.verify(i,!0)}const a=Object.assign({},t);return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function op(n,t,i,r){var s;if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await kE(n,t,i,i==="getOobCode");return r(n,o)}else return r(n,t).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await kE(n,t,i,i==="getOobCode");return r(n,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IF(n,t){const i=Il(n,"auth");if(i.isInitialized()){const s=i.getImmediate(),o=i.getOptions();if(ip(o,t??{}))return s;Ls(s,"already-initialized")}return i.initialize({options:t})}function kF(n,t){const i=(t==null?void 0:t.persistence)||[],r=(Array.isArray(i)?i:[i]).map(cl);t!=null&&t.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function MF(n,t,i){const r=Ts(n);Ut(r._canInitEmulator,r,"emulator-config-failed"),Ut(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const s=!1,o=eO(t),{host:a,port:c}=PF(t),l=c===null?"":`:${c}`;r.config.emulator={url:`${o}//${a}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})}),DF()}function eO(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function PF(n){const t=eO(n),i=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const o=s[1];return{host:o,port:ME(r.substr(o.length+1))}}else{const[o,a]=r.split(":");return{host:o,port:ME(a)}}}function ME(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function DF(){function n(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return xo("not implemented")}_getIdTokenResponse(t){return xo("not implemented")}_linkToIdToken(t,i){return xo("not implemented")}_getReauthenticationResolver(t){return xo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NF(n,t){return Pi(n,"POST","/v1/accounts:resetPassword",fi(n,t))}async function LF(n,t){return Pi(n,"POST","/v1/accounts:signUp",t)}async function FF(n,t){return Pi(n,"POST","/v1/accounts:update",fi(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UF(n,t){return jc(n,"POST","/v1/accounts:signInWithPassword",fi(n,t))}async function Qb(n,t){return Pi(n,"POST","/v1/accounts:sendOobCode",fi(n,t))}async function BF(n,t){return Qb(n,t)}async function VF(n,t){return Qb(n,t)}async function GF(n,t){return Qb(n,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zF(n,t){return jc(n,"POST","/v1/accounts:signInWithEmailLink",fi(n,t))}async function HF(n,t){return jc(n,"POST","/v1/accounts:signInWithEmailLink",fi(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp extends Zg{constructor(t,i,r,s=null){super("password",r),this._email=t,this._password=i,this._tenantId=s}static _fromEmailAndPassword(t,i){return new lp(t,i,"password")}static _fromEmailAndCode(t,i,r=null){return new lp(t,i,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t;if(i!=null&&i.email&&(i!=null&&i.password)){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return op(t,i,"signInWithPassword",UF);case"emailLink":return zF(t,{email:this._email,oobCode:this._password});default:Ls(t,"internal-error")}}async _linkToIdToken(t,i){switch(this.signInMethod){case"password":const r={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return op(t,r,"signUpPassword",LF);case"emailLink":return HF(t,{idToken:i,email:this._email,oobCode:this._password});default:Ls(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wh(n,t){return jc(n,"POST","/v1/accounts:signInWithIdp",fi(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WF="http://localhost";class bl extends Zg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new bl(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Ls("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:s}=i,o=Hb(i,["providerId","signInMethod"]);if(!r||!s)return null;const a=new bl(r,s);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(t){const i=this.buildRequest();return Wh(t,i)}_linkToIdToken(t,i){const r=this.buildRequest();return r.idToken=i,Wh(t,r)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Wh(t,i)}buildRequest(){const t={requestUri:WF,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Fu(i)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qF(n,t){return Pi(n,"POST","/v1/accounts:sendVerificationCode",fi(n,t))}async function YF(n,t){return jc(n,"POST","/v1/accounts:signInWithPhoneNumber",fi(n,t))}async function $F(n,t){const i=await jc(n,"POST","/v1/accounts:signInWithPhoneNumber",fi(n,t));if(i.temporaryProof)throw If(n,"account-exists-with-different-credential",i);return i}const XF={USER_NOT_FOUND:"user-not-found"};async function KF(n,t){const i=Object.assign(Object.assign({},t),{operation:"REAUTH"});return jc(n,"POST","/v1/accounts:signInWithPhoneNumber",fi(n,i),XF)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu extends Zg{constructor(t){super("phone","phone"),this.params=t}static _fromVerification(t,i){return new yu({verificationId:t,verificationCode:i})}static _fromTokenResponse(t,i){return new yu({phoneNumber:t,temporaryProof:i})}_getIdTokenResponse(t){return YF(t,this._makeVerificationRequest())}_linkToIdToken(t,i){return $F(t,Object.assign({idToken:i},this._makeVerificationRequest()))}_getReauthenticationResolver(t){return KF(t,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:t,phoneNumber:i,verificationId:r,verificationCode:s}=this.params;return t&&i?{temporaryProof:t,phoneNumber:i}:{sessionInfo:r,code:s}}toJSON(){const t={providerId:this.providerId};return this.params.phoneNumber&&(t.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(t.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(t.verificationCode=this.params.verificationCode),this.params.verificationId&&(t.verificationId=this.params.verificationId),t}static fromJSON(t){typeof t=="string"&&(t=JSON.parse(t));const{verificationId:i,verificationCode:r,phoneNumber:s,temporaryProof:o}=t;return!r&&!i&&!s&&!o?null:new yu({verificationId:i,verificationCode:r,phoneNumber:s,temporaryProof:o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QF(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function ZF(n){const t=Rf(Of(n)).link,i=t?Rf(Of(t)).deep_link_id:null,r=Rf(Of(n)).deep_link_id;return(r?Rf(Of(r)).link:null)||r||i||t||n}class Zb{constructor(t){var i,r,s,o,a,c;const l=Rf(Of(t)),u=(i=l.apiKey)!==null&&i!==void 0?i:null,p=(r=l.oobCode)!==null&&r!==void 0?r:null,y=QF((s=l.mode)!==null&&s!==void 0?s:null);Ut(u&&p&&y,"argument-error"),this.apiKey=u,this.operation=y,this.code=p,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(a=l.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(c=l.tenantId)!==null&&c!==void 0?c:null}static parseLink(t){const i=ZF(t);try{return new Zb(i)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(){this.providerId=Uu.PROVIDER_ID}static credential(t,i){return lp._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){const r=Zb.parseLink(i);return Ut(r,"argument-error"),lp._fromEmailAndCode(t,r.code,r.tenantId)}}Uu.PROVIDER_ID="password";Uu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Uu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd extends Jb{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class hl extends yd{static credentialFromJSON(t){const i=typeof t=="string"?JSON.parse(t):t;return Ut("providerId"in i&&"signInMethod"in i,"argument-error"),bl._fromParams(i)}credential(t){return this._credential(Object.assign(Object.assign({},t),{nonce:t.rawNonce}))}_credential(t){return Ut(t.idToken||t.accessToken,"argument-error"),bl._fromParams(Object.assign(Object.assign({},t),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(t){return hl.oauthCredentialFromTaggedObject(t)}static credentialFromError(t){return hl.oauthCredentialFromTaggedObject(t.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:r,oauthTokenSecret:s,pendingToken:o,nonce:a,providerId:c}=t;if(!r&&!s&&!i&&!o||!c)return null;try{return new hl(c)._credential({idToken:i,accessToken:r,nonce:a,pendingToken:o})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo extends yd{constructor(){super("facebook.com")}static credential(t){return bl._fromParams({providerId:vo.PROVIDER_ID,signInMethod:vo.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return vo.credentialFromTaggedObject(t)}static credentialFromError(t){return vo.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return vo.credential(t.oauthAccessToken)}catch{return null}}}vo.FACEBOOK_SIGN_IN_METHOD="facebook.com";vo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o extends yd{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return bl._fromParams({providerId:_o.PROVIDER_ID,signInMethod:_o.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return _o.credentialFromTaggedObject(t)}static credentialFromError(t){return _o.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:r}=t;if(!i&&!r)return null;try{return _o.credential(i,r)}catch{return null}}}_o.GOOGLE_SIGN_IN_METHOD="google.com";_o.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo extends yd{constructor(){super("github.com")}static credential(t){return bl._fromParams({providerId:bo.PROVIDER_ID,signInMethod:bo.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return bo.credentialFromTaggedObject(t)}static credentialFromError(t){return bo.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return bo.credential(t.oauthAccessToken)}catch{return null}}}bo.GITHUB_SIGN_IN_METHOD="github.com";bo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al extends yd{constructor(){super("twitter.com")}static credential(t,i){return bl._fromParams({providerId:al.PROVIDER_ID,signInMethod:al.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return al.credentialFromTaggedObject(t)}static credentialFromError(t){return al.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=t;if(!i||!r)return null;try{return al.credential(i,r)}catch{return null}}}al.TWITTER_SIGN_IN_METHOD="twitter.com";al.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JF(n,t){return jc(n,"POST","/v1/accounts:signUp",fi(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,r,s=!1){const o=await ll._fromIdTokenResponse(t,r,s),a=PE(r);return new xl({user:o,providerId:a,_tokenResponse:r,operationType:i})}static async _forOperation(t,i,r){await t._updateTokensIfNecessary(r,!0);const s=PE(r);return new xl({user:t,providerId:s,_tokenResponse:r,operationType:i})}}function PE(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0 extends Ia{constructor(t,i,r,s){var o;super(i.code,i.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,J0.prototype),this.customData={appName:t.name,tenantId:(o=t.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,i,r,s){return new J0(t,i,r,s)}}function tO(n,t,i,r){return(t==="reauthenticate"?i._getReauthenticationResolver(n):i._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?J0._fromErrorAndOperation(n,o,t,r):o})}async function e6(n,t,i=!1){const r=await xu(n,t._linkToIdToken(n.auth,await n.getIdToken()),i);return xl._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rO(n,t,i=!1){const{auth:r}=n;if(Ca(r.app))return Promise.reject(So(r));const s="reauthenticate";try{const o=await xu(n,tO(r,s,t,n),i);Ut(o.idToken,r,"internal-error");const a=$b(o.idToken);Ut(a,r,"internal-error");const{sub:c}=a;return Ut(n.uid===c,r,"user-mismatch"),xl._forOperation(n,s,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Ls(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nO(n,t,i=!1){if(Ca(n.app))return Promise.reject(So(n));const r="signIn",s=await tO(n,r,t),o=await xl._fromIdTokenResponse(n,r,s);return i||await n._updateCurrentUser(o.user),o}async function iO(n,t){return nO(Ts(n),t)}async function t6(n,t){return rO(Lr(n),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(t,i){this.factorId=t,this.uid=i.mfaEnrollmentId,this.enrollmentTime=new Date(i.enrolledAt).toUTCString(),this.displayName=i.displayName}static _fromServerResponse(t,i){return"phoneInfo"in i?ex._fromServerResponse(t,i):"totpInfo"in i?tx._fromServerResponse(t,i):Ls(t,"internal-error")}}class ex extends Mp{constructor(t){super("phone",t),this.phoneNumber=t.phoneInfo}static _fromServerResponse(t,i){return new ex(i)}}class tx extends Mp{constructor(t){super("totp",t)}static _fromServerResponse(t,i){return new tx(i)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r6(n,t,i){var r;Ut(((r=i.url)===null||r===void 0?void 0:r.length)>0,n,"invalid-continue-uri"),Ut(typeof i.dynamicLinkDomain>"u"||i.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),t.continueUrl=i.url,t.dynamicLinkDomain=i.dynamicLinkDomain,t.canHandleCodeInApp=i.handleCodeInApp,i.iOS&&(Ut(i.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),t.iOSBundleId=i.iOS.bundleId),i.android&&(Ut(i.android.packageName.length>0,n,"missing-android-pkg-name"),t.androidInstallApp=i.android.installApp,t.androidMinimumVersionCode=i.android.minimumVersion,t.androidPackageName=i.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sO(n){const t=Ts(n);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function aO(n,t,i){const r=Ts(n);await op(r,{requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"},"getOobCode",VF)}async function n6(n,t){await FF(Lr(n),{oobCode:t})}async function i6(n,t){const i=Lr(n),r=await NF(i,{oobCode:t}),s=r.requestType;switch(Ut(s,i,"internal-error"),s){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ut(r.newEmail,i,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ut(r.mfaInfo,i,"internal-error");default:Ut(r.email,i,"internal-error")}let o=null;return r.mfaInfo&&(o=Mp._fromServerResponse(Ts(i),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:o},operation:s}}async function oO(n,t,i){if(Ca(n.app))return Promise.reject(So(n));const r=Ts(n),a=await op(r,{returnSecureToken:!0,email:t,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",JF).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&sO(n),l}),c=await xl._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(c.user),c}function B_(n,t,i){return Ca(n.app)?Promise.reject(So(n)):iO(Lr(n),Uu.credential(t,i)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&sO(n),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s6(n,t,i){const r=Ts(n),s={requestType:"EMAIL_SIGNIN",email:t,clientType:"CLIENT_TYPE_WEB"};function o(a,c){Ut(c.handleCodeInApp,r,"argument-error"),c&&r6(r,a,c)}o(s,i),await op(r,s,"getOobCode",GF)}async function eg(n,t){const i=Lr(n),s={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()},{email:o}=await BF(i.auth,s);o!==n.email&&await n.reload()}function a6(n,t,i,r){return Lr(n).onIdTokenChanged(t,i,r)}function o6(n,t,i){return Lr(n).beforeAuthStateChanged(t,i)}function l6(n,t,i,r){return Lr(n).onAuthStateChanged(t,i,r)}function lO(n){return Lr(n).signOut()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(t,i,r){this.type=t,this.credential=i,this.user=r}static _fromIdtoken(t,i){return new uu("enroll",t,i)}static _fromMfaPendingCredential(t){return new uu("signin",t)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(t){var i,r;if(t!=null&&t.multiFactorSession){if(!((i=t.multiFactorSession)===null||i===void 0)&&i.pendingCredential)return uu._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(!((r=t.multiFactorSession)===null||r===void 0)&&r.idToken)return uu._fromIdtoken(t.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(t,i,r){this.session=t,this.hints=i,this.signInResolver=r}static _fromError(t,i){const r=Ts(t),s=i.customData._serverResponse,o=(s.mfaInfo||[]).map(c=>Mp._fromServerResponse(r,c));Ut(s.mfaPendingCredential,r,"internal-error");const a=uu._fromMfaPendingCredential(s.mfaPendingCredential);return new rx(a,o,async c=>{const l=await c._process(r,a);delete s.mfaInfo,delete s.mfaPendingCredential;const u=Object.assign(Object.assign({},s),{idToken:l.idToken,refreshToken:l.refreshToken});switch(i.operationType){case"signIn":const p=await xl._fromIdTokenResponse(r,i.operationType,u);return await r._updateCurrentUser(p.user),p;case"reauthenticate":return Ut(i.user,r,"internal-error"),xl._forOperation(i.user,i.operationType,u);default:Ls(r,"internal-error")}})}async resolveSignIn(t){const i=t;return this.signInResolver(i)}}function DE(n,t){var i;const r=Lr(n),s=t;return Ut(t.customData.operationType,r,"argument-error"),Ut((i=s.customData._serverResponse)===null||i===void 0?void 0:i.mfaPendingCredential,r,"argument-error"),rx._fromError(r,s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c6(n,t){return Pi(n,"POST","/v2/accounts/mfaEnrollment:start",fi(n,t))}function u6(n,t){return Pi(n,"POST","/v2/accounts/mfaEnrollment:finalize",fi(n,t))}function h6(n,t){return Pi(n,"POST","/v2/accounts/mfaEnrollment:withdraw",fi(n,t))}class nx{constructor(t){this.user=t,this.enrolledFactors=[],t._onReload(i=>{i.mfaInfo&&(this.enrolledFactors=i.mfaInfo.map(r=>Mp._fromServerResponse(t.auth,r)))})}static _fromUser(t){return new nx(t)}async getSession(){return uu._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(t,i){const r=t,s=await this.getSession(),o=await xu(this.user,r._process(this.user.auth,s,i));return await this.user._updateTokensIfNecessary(o),this.user.reload()}async unenroll(t){const i=typeof t=="string"?t:t.uid,r=await this.user.getIdToken();try{const s=await xu(this.user,h6(this.user.auth,{idToken:r,mfaEnrollmentId:i}));this.enrolledFactors=this.enrolledFactors.filter(({uid:o})=>o!==i),await this.user._updateTokensIfNecessary(s),await this.user.reload()}catch(s){throw s}}}const L1=new WeakMap;function td(n){const t=Lr(n);return L1.has(t)||L1.set(t,nx._fromUser(t)),L1.get(t)}const tg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(tg,"1"),this.storage.removeItem(tg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d6=1e3,f6=10;class uO extends cO{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=QR(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),s=this.localCache[i];r!==s&&t(i,s,r)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});return}const r=t.key;i?this.detachListener():this.stopPolling();const s=()=>{const a=this.storage.getItem(r);!i&&this.localCache[r]===a||this.notifyListeners(r,a)},o=this.storage.getItem(r);vF()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,f6):s()}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const s of Array.from(r))s(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},d6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}uO.type="LOCAL";const p6=uO;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO extends cO{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}hO.type="SESSION";const dO=hO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m6(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(s=>s.isListeningto(t));if(i)return i;const r=new Jg(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:r,eventType:s,data:o}=i.data,a=this.handlersMap[s];if(!(a!=null&&a.size))return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const c=Array.from(a).map(async u=>u(i.origin,o)),l=await m6(c);i.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Jg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ix(n="",t=10){let i="";for(let r=0;r<t;r++)i+=Math.floor(Math.random()*10);return n+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g6{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((c,l)=>{const u=ix("",20);s.port1.start();const p=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(y){const d=y;if(d.data.eventId===u)switch(d.data.status){case"ack":clearTimeout(p),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(d.data.response);break;default:clearTimeout(p),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:t,eventId:u,data:i},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ai(){return window}function y6(n){ai().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sx(){return typeof ai().WorkerGlobalScope<"u"&&typeof ai().importScripts=="function"}async function v6(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _6(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function b6(){return sx()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fO="firebaseLocalStorageDb",x6=1,rg="firebaseLocalStorage",pO="fbase_key";class Pp{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function ey(n,t){return n.transaction([rg],t?"readwrite":"readonly").objectStore(rg)}function w6(){const n=indexedDB.deleteDatabase(fO);return new Pp(n).toPromise()}function V_(){const n=indexedDB.open(fO,x6);return new Promise((t,i)=>{n.addEventListener("error",()=>{i(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(rg,{keyPath:pO})}catch(s){i(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(rg)?t(r):(r.close(),await w6(),t(await V_()))})})}async function NE(n,t,i){const r=ey(n,!0).put({[pO]:t,value:i});return new Pp(r).toPromise()}async function S6(n,t){const i=ey(n,!1).get(t),r=await new Pp(i).toPromise();return r===void 0?null:r.value}function LE(n,t){const i=ey(n,!0).delete(t);return new Pp(i).toPromise()}const T6=800,E6=3;class mO{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await V_(),this.db)}async _withRetries(t){let i=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(i++>E6)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return sx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Jg._getInstance(b6()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){var t,i;if(this.activeServiceWorker=await v6(),!this.activeServiceWorker)return;this.sender=new g6(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((i=r[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||_6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await V_();return await NE(t,tg,"1"),await LE(t,tg),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>NE(r,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(r=>S6(r,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>LE(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(s=>{const o=ey(s,!1).getAll();return new Pp(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(t.length!==0)for(const{fbase_key:s,value:o}of t)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),i.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),i.push(s));return i}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const s of Array.from(r))s(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),T6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}mO.type="LOCAL";const C6=mO;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A6(n,t){return Pi(n,"POST","/v2/accounts/mfaSignIn:start",fi(n,t))}function j6(n,t){return Pi(n,"POST","/v2/accounts/mfaSignIn:finalize",fi(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R6=500,O6=6e4,t0=1e12;class I6{constructor(t){this.auth=t,this.counter=t0,this._widgets=new Map}render(t,i){const r=this.counter;return this._widgets.set(r,new k6(t,this.auth.name,i||{})),this.counter++,r}reset(t){var i;const r=t||t0;(i=this._widgets.get(r))===null||i===void 0||i.delete(),this._widgets.delete(r)}getResponse(t){var i;const r=t||t0;return((i=this._widgets.get(r))===null||i===void 0?void 0:i.getResponse())||""}async execute(t){var i;const r=t||t0;return(i=this._widgets.get(r))===null||i===void 0||i.execute(),""}}class k6{constructor(t,i,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const s=typeof t=="string"?document.getElementById(t):t;Ut(s,"argument-error",{appName:i}),this.container=s,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=M6(50);const{callback:t,"expired-callback":i}=this.params;if(t)try{t(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,i)try{i()}catch{}this.isVisible&&this.execute()},O6)},R6))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function M6(n){const t=[],i="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<n;r++)t.push(i.charAt(Math.floor(Math.random()*i.length)));return t.join("")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1=JR("rcb"),P6=new Ip(3e4,6e4);class D6{constructor(){var t;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((t=ai().grecaptcha)===null||t===void 0)&&t.render)}load(t,i=""){return Ut(N6(i),t,"argument-error"),this.shouldResolveImmediately(i)&&EE(ai().grecaptcha)?Promise.resolve(ai().grecaptcha):new Promise((r,s)=>{const o=ai().setTimeout(()=>{s(ks(t,"network-request-failed"))},P6.get());ai()[F1]=()=>{ai().clearTimeout(o),delete ai()[F1];const c=ai().grecaptcha;if(!c||!EE(c)){s(ks(t,"internal-error"));return}const l=c.render;c.render=(u,p)=>{const y=l(u,p);return this.counter++,y},this.hostLanguage=i,r(c)};const a=`${EF()}?${Fu({onload:F1,render:"explicit",hl:i})}`;Kb(a).catch(()=>{clearTimeout(o),s(ks(t,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(t){var i;return!!(!((i=ai().grecaptcha)===null||i===void 0)&&i.render)&&(t===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function N6(n){return n.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(n)}class L6{async load(t){return new I6(t)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gO="recaptcha",F6={theme:"light",type:"image"};class Dp{constructor(t,i,r=Object.assign({},F6)){this.parameters=r,this.type=gO,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ts(t),this.isInvisible=this.parameters.size==="invisible",Ut(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const s=typeof i=="string"?document.getElementById(i):i;Ut(s,this.auth,"argument-error"),this.container=s,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new L6:new D6,this.validateStartingState()}async verify(){this.assertNotDestroyed();const t=await this.render(),i=this.getAssertedRecaptcha(),r=i.getResponse(t);return r||new Promise(s=>{const o=a=>{a&&(this.tokenChangeListeners.delete(o),s(a))};this.tokenChangeListeners.add(o),this.isInvisible&&i.execute(t)})}render(){try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(t=>{throw this.renderPromise=null,t}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(t=>{this.container.removeChild(t)})}validateStartingState(){Ut(!this.parameters.sitekey,this.auth,"argument-error"),Ut(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ut(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(t){return i=>{if(this.tokenChangeListeners.forEach(r=>r(i)),typeof t=="function")t(i);else if(typeof t=="string"){const r=ai()[t];typeof r=="function"&&r(i)}}}assertNotDestroyed(){Ut(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let t=this.container;if(!this.isInvisible){const i=document.createElement("div");t.appendChild(i),t=i}this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)}return this.widgetId}async init(){Ut(LR()&&!sx(),this.auth,"internal-error"),await U6(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const t=await lF(this.auth);Ut(t,this.auth,"internal-error"),this.parameters.sitekey=t}getAssertedRecaptcha(){return Ut(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}function U6(){let n=null;return new Promise(t=>{if(document.readyState==="complete"){t();return}n=()=>t(),window.addEventListener("load",n)}).catch(t=>{throw n&&window.removeEventListener("load",n),t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B6{constructor(t,i){this.verificationId=t,this.onConfirmation=i}confirm(t){const i=yu._fromVerification(this.verificationId,t);return this.onConfirmation(i)}}async function yO(n,t,i){if(Ca(n.app))return Promise.reject(So(n));const r=Ts(n),s=await vO(r,t,Lr(i));return new B6(s,o=>iO(r,o))}async function vO(n,t,i){var r;const s=await i.verify();try{Ut(typeof s=="string",n,"argument-error"),Ut(i.type===gO,n,"argument-error");let o;if(typeof t=="string"?o={phoneNumber:t}:o=t,"session"in o){const a=o.session;if("phoneNumber"in o)return Ut(a.type==="enroll",n,"internal-error"),(await c6(n,{idToken:a.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:s}})).phoneSessionInfo.sessionInfo;{Ut(a.type==="signin",n,"internal-error");const c=((r=o.multiFactorHint)===null||r===void 0?void 0:r.uid)||o.multiFactorUid;return Ut(c,n,"missing-multi-factor-info"),(await A6(n,{mfaPendingCredential:a.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:s}})).phoneResponseInfo.sessionInfo}}else{const{sessionInfo:a}=await qF(n,{phoneNumber:o.phoneNumber,recaptchaToken:s});return a}}finally{i._reset()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(t){this.providerId=ws.PROVIDER_ID,this.auth=Ts(t)}verifyPhoneNumber(t,i){return vO(this.auth,t,Lr(i))}static credential(t,i){return yu._fromVerification(t,i)}static credentialFromResult(t){const i=t;return ws.credentialFromTaggedObject(i)}static credentialFromError(t){return ws.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{phoneNumber:i,temporaryProof:r}=t;return i&&r?yu._fromTokenResponse(i,r):null}}ws.PROVIDER_ID="phone";ws.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _O(n,t){return t?cl(t):(Ut(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax extends Zg{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Wh(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Wh(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Wh(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function V6(n){return nO(n.auth,new ax(n),n.bypassAuthState)}function G6(n){const{auth:t,user:i}=n;return Ut(i,t,"internal-error"),rO(i,new ax(n),n.bypassAuthState)}async function z6(n){const{auth:t,user:i}=n;return Ut(i,t,"internal-error"),e6(i,new ax(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(t,i,r,s,o=!1){this.auth=t,this.resolver=r,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:r,postBody:s,tenantId:o,error:a,type:c}=t;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:i,sessionId:r,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(l))}catch(u){this.reject(u)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return V6;case"linkViaPopup":case"linkViaRedirect":return z6;case"reauthViaPopup":case"reauthViaRedirect":return G6;default:Ls(this.auth,"internal-error")}}resolve(t){_l(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){_l(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H6=new Ip(2e3,1e4);async function Np(n,t,i){if(Ca(n.app))return Promise.reject(ks(n,"operation-not-supported-in-this-environment"));const r=Ts(n);eF(n,t,Jb);const s=_O(r,i);return new hu(r,"signInViaPopup",t,s).executeNotNull()}class hu extends bO{constructor(t,i,r,s,o){super(t,i,s,o),this.provider=r,this.authWindow=null,this.pollId=null,hu.currentPopupAction&&hu.currentPopupAction.cancel(),hu.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Ut(t,this.auth,"internal-error"),t}async onExecution(){_l(this.filter.length===1,"Popup operations only handle one event");const t=ix();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(ks(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(ks(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,hu.currentPopupAction=null}pollUserCancellation(){const t=()=>{var i,r;if(!((r=(i=this.authWindow)===null||i===void 0?void 0:i.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ks(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,H6.get())};t()}}hu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W6="pendingRedirect",M0=new Map;class q6 extends bO{constructor(t,i,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let t=M0.get(this.auth._key());if(!t){try{const r=await Y6(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(i){t=()=>Promise.reject(i)}M0.set(this.auth._key(),t)}return this.bypassAuthState||M0.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Y6(n,t){const i=K6(t),r=X6(n);if(!await r._isAvailable())return!1;const s=await r._get(i)==="true";return await r._remove(i),s}function $6(n,t){M0.set(n._key(),t)}function X6(n){return cl(n._redirectPersistence)}function K6(n){return k0(W6,n.config.apiKey,n.name)}async function Q6(n,t,i=!1){if(Ca(n.app))return Promise.reject(So(n));const r=Ts(n),s=_O(r,t),a=await new q6(r,s,i).execute();return a&&!i&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z6=10*60*1e3;class J6{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(i=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!e8(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){var r;if(t.error&&!xO(t)){const s=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";i.onError(ks(this.auth,s))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const r=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Z6&&this.cachedEventUids.clear(),this.cachedEventUids.has(FE(t))}saveEventToCache(t){this.cachedEventUids.add(FE(t)),this.lastProcessedEventTime=Date.now()}}function FE(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function xO({type:n,error:t}){return n==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function e8(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xO(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t8(n,t={}){return Pi(n,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r8=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,n8=/^https?/;async function i8(n){if(n.config.emulator)return;const{authorizedDomains:t}=await t8(n);for(const i of t)try{if(s8(i))return}catch{}Ls(n,"unauthorized-domain")}function s8(n){const t=F_(),{protocol:i,hostname:r}=new URL(t);if(n.startsWith("chrome-extension://")){const a=new URL(n);return a.hostname===""&&r===""?i==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&a.hostname===r}if(!n8.test(i))return!1;if(r8.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a8=new Ip(3e4,6e4);function UE(){const n=ai().___jsl;if(n!=null&&n.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let i=0;i<n.CP.length;i++)n.CP[i]=null}}function o8(n){return new Promise((t,i)=>{var r,s,o;function a(){UE(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{UE(),i(ks(n,"network-request-failed"))},timeout:a8.get()})}if(!((s=(r=ai().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)t(gapi.iframes.getContext());else if(!((o=ai().gapi)===null||o===void 0)&&o.load)a();else{const c=JR("iframefcb");return ai()[c]=()=>{gapi.load?a():i(ks(n,"network-request-failed"))},Kb(`${AF()}?onload=${c}`).catch(l=>i(l))}}).catch(t=>{throw P0=null,t})}let P0=null;function l8(n){return P0=P0||o8(n),P0}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c8=new Ip(5e3,15e3),u8="__/auth/iframe",h8="emulator/auth/iframe",d8={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},f8=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function p8(n){const t=n.config;Ut(t.authDomain,n,"auth-domain-config-required");const i=t.emulator?Yb(t,h8):`https://${n.config.authDomain}/${u8}`,r={apiKey:t.apiKey,appName:n.name,v:Ac},s=f8.get(n.config.apiHost);s&&(r.eid=s);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${i}?${Fu(r).slice(1)}`}async function m8(n){const t=await l8(n),i=ai().gapi;return Ut(i,n,"internal-error"),t.open({where:document.body,url:p8(n),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:d8,dontclear:!0},r=>new Promise(async(s,o)=>{await r.restyle({setHideOnLeave:!1});const a=ks(n,"network-request-failed"),c=ai().setTimeout(()=>{o(a)},c8.get());function l(){ai().clearTimeout(c),s(r)}r.ping(l).then(l,()=>{o(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g8={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},y8=500,v8=600,_8="_blank",b8="http://localhost";class BE{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function x8(n,t,i,r=y8,s=v8){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const l=Object.assign(Object.assign({},g8),{width:r.toString(),height:s.toString(),top:o,left:a}),u=hs().toLowerCase();i&&(c=qR(u)?_8:i),HR(u)&&(t=t||b8,l.scrollbars="yes");const p=Object.entries(l).reduce((d,[f,b])=>`${d}${f}=${b},`,"");if(yF(u)&&c!=="_self")return w8(t||"",c),new BE(null);const y=window.open(t||"",c,p);Ut(y,n,"popup-blocked");try{y.focus()}catch{}return new BE(y)}function w8(n,t){const i=document.createElement("a");i.href=n,i.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S8="__/auth/handler",T8="emulator/auth/handler",E8=encodeURIComponent("fac");async function VE(n,t,i,r,s,o){Ut(n.config.authDomain,n,"auth-domain-config-required"),Ut(n.config.apiKey,n,"invalid-api-key");const a={apiKey:n.config.apiKey,appName:n.name,authType:i,redirectUrl:r,v:Ac,eventId:s};if(t instanceof Jb){t.setDefaultLanguage(n.languageCode),a.providerId=t.providerId||"",k_(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[p,y]of Object.entries({}))a[p]=y}if(t instanceof yd){const p=t.getScopes().filter(y=>y!=="");p.length>0&&(a.scopes=p.join(","))}n.tenantId&&(a.tid=n.tenantId);const c=a;for(const p of Object.keys(c))c[p]===void 0&&delete c[p];const l=await n._getAppCheckToken(),u=l?`#${E8}=${encodeURIComponent(l)}`:"";return`${C8(n)}?${Fu(c).slice(1)}${u}`}function C8({config:n}){return n.emulator?Yb(n,T8):`https://${n.authDomain}/${S8}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1="webStorageSupport";class A8{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=dO,this._completeRedirectFn=Q6,this._overrideRedirectResult=$6}async _openPopup(t,i,r,s){var o;_l((o=this.eventManagers[t._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const a=await VE(t,i,r,F_(),s);return x8(t,a,ix())}async _openRedirect(t,i,r,s){await this._originValidation(t);const o=await VE(t,i,r,F_(),s);return y6(o),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:s,promise:o}=this.eventManagers[i];return s?Promise.resolve(s):(_l(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(t);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(t){const i=await m8(t),r=new J6(t);return i.register("authEvent",s=>(Ut(s==null?void 0:s.authEvent,t,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=i,r}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(U1,{type:U1},s=>{var o;const a=(o=s==null?void 0:s[0])===null||o===void 0?void 0:o[U1];a!==void 0&&i(!!a),Ls(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=i8(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return QR()||WR()||Xb()}}const j8=A8;class R8{constructor(t){this.factorId=t}_process(t,i,r){switch(i.type){case"enroll":return this._finalizeEnroll(t,i.credential,r);case"signin":return this._finalizeSignIn(t,i.credential);default:return xo("unexpected MultiFactorSessionType")}}}class ox extends R8{constructor(t){super("phone"),this.credential=t}static _fromCredential(t){return new ox(t)}_finalizeEnroll(t,i,r){return u6(t,{idToken:i,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(t,i){return j6(t,{mfaPendingCredential:i,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class ty{constructor(){}static assertion(t){return ox._fromCredential(t)}}ty.FACTOR_ID="phone";var GE="@firebase/auth",zE="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O8{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Ut(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I8(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function k8(n){ja(new sa("auth",(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),s=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:a,authDomain:c}=r.options;Ut(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ZR(n)},u=new SF(r,s,o,l);return kF(u,i),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,r)=>{t.getProvider("auth-internal").initialize()})),ja(new sa("auth-internal",t=>{const i=Ts(t.getProvider("auth").getImmediate());return(r=>new O8(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),ls(GE,zE,I8(n)),ls(GE,zE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M8=5*60,P8=TR("authIdTokenMaxAge")||M8;let HE=null;const D8=n=>async t=>{const i=t&&await t.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>P8)return;const s=i==null?void 0:i.token;HE!==s&&(HE=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function lx(n=gd()){const t=Il(n,"auth");if(t.isInitialized())return t.getImmediate();const i=IF(n,{popupRedirectResolver:j8,persistence:[C6,p6,dO]}),r=TR("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const a=D8(o.toString());o6(i,a,()=>a(i.currentUser)),a6(i,c=>a(c))}}const s=wR("auth");return s&&MF(i,`http://${s}`),i}function N8(){var n,t;return(t=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&t!==void 0?t:document}TF({loadJS(n){return new Promise((t,i)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=t,r.onerror=s=>{const o=ks("internal-error");o.customData=s,i(o)},r.type="text/javascript",r.charset="UTF-8",N8().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});k8("Browser");var L8="firebase",F8="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ls(L8,F8,"app");var WE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var vu,wO;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(A,C){function j(){}j.prototype=C.prototype,A.D=C.prototype,A.prototype=new j,A.prototype.constructor=A,A.C=function(P,O,L){for(var N=Array(arguments.length-2),q=2;q<arguments.length;q++)N[q-2]=arguments[q];return C.prototype[O].apply(P,N)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,i),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(A,C,j){j||(j=0);var P=Array(16);if(typeof C=="string")for(var O=0;16>O;++O)P[O]=C.charCodeAt(j++)|C.charCodeAt(j++)<<8|C.charCodeAt(j++)<<16|C.charCodeAt(j++)<<24;else for(O=0;16>O;++O)P[O]=C[j++]|C[j++]<<8|C[j++]<<16|C[j++]<<24;C=A.g[0],j=A.g[1],O=A.g[2];var L=A.g[3],N=C+(L^j&(O^L))+P[0]+3614090360&4294967295;C=j+(N<<7&4294967295|N>>>25),N=L+(O^C&(j^O))+P[1]+3905402710&4294967295,L=C+(N<<12&4294967295|N>>>20),N=O+(j^L&(C^j))+P[2]+606105819&4294967295,O=L+(N<<17&4294967295|N>>>15),N=j+(C^O&(L^C))+P[3]+3250441966&4294967295,j=O+(N<<22&4294967295|N>>>10),N=C+(L^j&(O^L))+P[4]+4118548399&4294967295,C=j+(N<<7&4294967295|N>>>25),N=L+(O^C&(j^O))+P[5]+1200080426&4294967295,L=C+(N<<12&4294967295|N>>>20),N=O+(j^L&(C^j))+P[6]+2821735955&4294967295,O=L+(N<<17&4294967295|N>>>15),N=j+(C^O&(L^C))+P[7]+4249261313&4294967295,j=O+(N<<22&4294967295|N>>>10),N=C+(L^j&(O^L))+P[8]+1770035416&4294967295,C=j+(N<<7&4294967295|N>>>25),N=L+(O^C&(j^O))+P[9]+2336552879&4294967295,L=C+(N<<12&4294967295|N>>>20),N=O+(j^L&(C^j))+P[10]+4294925233&4294967295,O=L+(N<<17&4294967295|N>>>15),N=j+(C^O&(L^C))+P[11]+2304563134&4294967295,j=O+(N<<22&4294967295|N>>>10),N=C+(L^j&(O^L))+P[12]+1804603682&4294967295,C=j+(N<<7&4294967295|N>>>25),N=L+(O^C&(j^O))+P[13]+4254626195&4294967295,L=C+(N<<12&4294967295|N>>>20),N=O+(j^L&(C^j))+P[14]+2792965006&4294967295,O=L+(N<<17&4294967295|N>>>15),N=j+(C^O&(L^C))+P[15]+1236535329&4294967295,j=O+(N<<22&4294967295|N>>>10),N=C+(O^L&(j^O))+P[1]+4129170786&4294967295,C=j+(N<<5&4294967295|N>>>27),N=L+(j^O&(C^j))+P[6]+3225465664&4294967295,L=C+(N<<9&4294967295|N>>>23),N=O+(C^j&(L^C))+P[11]+643717713&4294967295,O=L+(N<<14&4294967295|N>>>18),N=j+(L^C&(O^L))+P[0]+3921069994&4294967295,j=O+(N<<20&4294967295|N>>>12),N=C+(O^L&(j^O))+P[5]+3593408605&4294967295,C=j+(N<<5&4294967295|N>>>27),N=L+(j^O&(C^j))+P[10]+38016083&4294967295,L=C+(N<<9&4294967295|N>>>23),N=O+(C^j&(L^C))+P[15]+3634488961&4294967295,O=L+(N<<14&4294967295|N>>>18),N=j+(L^C&(O^L))+P[4]+3889429448&4294967295,j=O+(N<<20&4294967295|N>>>12),N=C+(O^L&(j^O))+P[9]+568446438&4294967295,C=j+(N<<5&4294967295|N>>>27),N=L+(j^O&(C^j))+P[14]+3275163606&4294967295,L=C+(N<<9&4294967295|N>>>23),N=O+(C^j&(L^C))+P[3]+4107603335&4294967295,O=L+(N<<14&4294967295|N>>>18),N=j+(L^C&(O^L))+P[8]+1163531501&4294967295,j=O+(N<<20&4294967295|N>>>12),N=C+(O^L&(j^O))+P[13]+2850285829&4294967295,C=j+(N<<5&4294967295|N>>>27),N=L+(j^O&(C^j))+P[2]+4243563512&4294967295,L=C+(N<<9&4294967295|N>>>23),N=O+(C^j&(L^C))+P[7]+1735328473&4294967295,O=L+(N<<14&4294967295|N>>>18),N=j+(L^C&(O^L))+P[12]+2368359562&4294967295,j=O+(N<<20&4294967295|N>>>12),N=C+(j^O^L)+P[5]+4294588738&4294967295,C=j+(N<<4&4294967295|N>>>28),N=L+(C^j^O)+P[8]+2272392833&4294967295,L=C+(N<<11&4294967295|N>>>21),N=O+(L^C^j)+P[11]+1839030562&4294967295,O=L+(N<<16&4294967295|N>>>16),N=j+(O^L^C)+P[14]+4259657740&4294967295,j=O+(N<<23&4294967295|N>>>9),N=C+(j^O^L)+P[1]+2763975236&4294967295,C=j+(N<<4&4294967295|N>>>28),N=L+(C^j^O)+P[4]+1272893353&4294967295,L=C+(N<<11&4294967295|N>>>21),N=O+(L^C^j)+P[7]+4139469664&4294967295,O=L+(N<<16&4294967295|N>>>16),N=j+(O^L^C)+P[10]+3200236656&4294967295,j=O+(N<<23&4294967295|N>>>9),N=C+(j^O^L)+P[13]+681279174&4294967295,C=j+(N<<4&4294967295|N>>>28),N=L+(C^j^O)+P[0]+3936430074&4294967295,L=C+(N<<11&4294967295|N>>>21),N=O+(L^C^j)+P[3]+3572445317&4294967295,O=L+(N<<16&4294967295|N>>>16),N=j+(O^L^C)+P[6]+76029189&4294967295,j=O+(N<<23&4294967295|N>>>9),N=C+(j^O^L)+P[9]+3654602809&4294967295,C=j+(N<<4&4294967295|N>>>28),N=L+(C^j^O)+P[12]+3873151461&4294967295,L=C+(N<<11&4294967295|N>>>21),N=O+(L^C^j)+P[15]+530742520&4294967295,O=L+(N<<16&4294967295|N>>>16),N=j+(O^L^C)+P[2]+3299628645&4294967295,j=O+(N<<23&4294967295|N>>>9),N=C+(O^(j|~L))+P[0]+4096336452&4294967295,C=j+(N<<6&4294967295|N>>>26),N=L+(j^(C|~O))+P[7]+1126891415&4294967295,L=C+(N<<10&4294967295|N>>>22),N=O+(C^(L|~j))+P[14]+2878612391&4294967295,O=L+(N<<15&4294967295|N>>>17),N=j+(L^(O|~C))+P[5]+4237533241&4294967295,j=O+(N<<21&4294967295|N>>>11),N=C+(O^(j|~L))+P[12]+1700485571&4294967295,C=j+(N<<6&4294967295|N>>>26),N=L+(j^(C|~O))+P[3]+2399980690&4294967295,L=C+(N<<10&4294967295|N>>>22),N=O+(C^(L|~j))+P[10]+4293915773&4294967295,O=L+(N<<15&4294967295|N>>>17),N=j+(L^(O|~C))+P[1]+2240044497&4294967295,j=O+(N<<21&4294967295|N>>>11),N=C+(O^(j|~L))+P[8]+1873313359&4294967295,C=j+(N<<6&4294967295|N>>>26),N=L+(j^(C|~O))+P[15]+4264355552&4294967295,L=C+(N<<10&4294967295|N>>>22),N=O+(C^(L|~j))+P[6]+2734768916&4294967295,O=L+(N<<15&4294967295|N>>>17),N=j+(L^(O|~C))+P[13]+1309151649&4294967295,j=O+(N<<21&4294967295|N>>>11),N=C+(O^(j|~L))+P[4]+4149444226&4294967295,C=j+(N<<6&4294967295|N>>>26),N=L+(j^(C|~O))+P[11]+3174756917&4294967295,L=C+(N<<10&4294967295|N>>>22),N=O+(C^(L|~j))+P[2]+718787259&4294967295,O=L+(N<<15&4294967295|N>>>17),N=j+(L^(O|~C))+P[9]+3951481745&4294967295,A.g[0]=A.g[0]+C&4294967295,A.g[1]=A.g[1]+(O+(N<<21&4294967295|N>>>11))&4294967295,A.g[2]=A.g[2]+O&4294967295,A.g[3]=A.g[3]+L&4294967295}r.prototype.u=function(A,C){C===void 0&&(C=A.length);for(var j=C-this.blockSize,P=this.B,O=this.h,L=0;L<C;){if(O==0)for(;L<=j;)s(this,A,L),L+=this.blockSize;if(typeof A=="string"){for(;L<C;)if(P[O++]=A.charCodeAt(L++),O==this.blockSize){s(this,P),O=0;break}}else for(;L<C;)if(P[O++]=A[L++],O==this.blockSize){s(this,P),O=0;break}}this.h=O,this.o+=C},r.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var C=1;C<A.length-8;++C)A[C]=0;var j=8*this.o;for(C=A.length-8;C<A.length;++C)A[C]=j&255,j/=256;for(this.u(A),A=Array(16),C=j=0;4>C;++C)for(var P=0;32>P;P+=8)A[j++]=this.g[C]>>>P&255;return A};function o(A,C){var j=c;return Object.prototype.hasOwnProperty.call(j,A)?j[A]:j[A]=C(A)}function a(A,C){this.h=C;for(var j=[],P=!0,O=A.length-1;0<=O;O--){var L=A[O]|0;P&&L==C||(j[O]=L,P=!1)}this.g=j}var c={};function l(A){return-128<=A&&128>A?o(A,function(C){return new a([C|0],0>C?-1:0)}):new a([A|0],0>A?-1:0)}function u(A){if(isNaN(A)||!isFinite(A))return y;if(0>A)return v(u(-A));for(var C=[],j=1,P=0;A>=j;P++)C[P]=A/j|0,j*=4294967296;return new a(C,0)}function p(A,C){if(A.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(A.charAt(0)=="-")return v(p(A.substring(1),C));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var j=u(Math.pow(C,8)),P=y,O=0;O<A.length;O+=8){var L=Math.min(8,A.length-O),N=parseInt(A.substring(O,O+L),C);8>L?(L=u(Math.pow(C,L)),P=P.j(L).add(u(N))):(P=P.j(j),P=P.add(u(N)))}return P}var y=l(0),d=l(1),f=l(16777216);n=a.prototype,n.m=function(){if(g(this))return-v(this).m();for(var A=0,C=1,j=0;j<this.g.length;j++){var P=this.i(j);A+=(0<=P?P:4294967296+P)*C,C*=4294967296}return A},n.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(b(this))return"0";if(g(this))return"-"+v(this).toString(A);for(var C=u(Math.pow(A,6)),j=this,P="";;){var O=S(j,C).g;j=_(j,O.j(C));var L=((0<j.g.length?j.g[0]:j.h)>>>0).toString(A);if(j=O,b(j))return L+P;for(;6>L.length;)L="0"+L;P=L+P}},n.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function b(A){if(A.h!=0)return!1;for(var C=0;C<A.g.length;C++)if(A.g[C]!=0)return!1;return!0}function g(A){return A.h==-1}n.l=function(A){return A=_(this,A),g(A)?-1:b(A)?0:1};function v(A){for(var C=A.g.length,j=[],P=0;P<C;P++)j[P]=~A.g[P];return new a(j,~A.h).add(d)}n.abs=function(){return g(this)?v(this):this},n.add=function(A){for(var C=Math.max(this.g.length,A.g.length),j=[],P=0,O=0;O<=C;O++){var L=P+(this.i(O)&65535)+(A.i(O)&65535),N=(L>>>16)+(this.i(O)>>>16)+(A.i(O)>>>16);P=N>>>16,L&=65535,N&=65535,j[O]=N<<16|L}return new a(j,j[j.length-1]&-2147483648?-1:0)};function _(A,C){return A.add(v(C))}n.j=function(A){if(b(this)||b(A))return y;if(g(this))return g(A)?v(this).j(v(A)):v(v(this).j(A));if(g(A))return v(this.j(v(A)));if(0>this.l(f)&&0>A.l(f))return u(this.m()*A.m());for(var C=this.g.length+A.g.length,j=[],P=0;P<2*C;P++)j[P]=0;for(P=0;P<this.g.length;P++)for(var O=0;O<A.g.length;O++){var L=this.i(P)>>>16,N=this.i(P)&65535,q=A.i(O)>>>16,W=A.i(O)&65535;j[2*P+2*O]+=N*W,x(j,2*P+2*O),j[2*P+2*O+1]+=L*W,x(j,2*P+2*O+1),j[2*P+2*O+1]+=N*q,x(j,2*P+2*O+1),j[2*P+2*O+2]+=L*q,x(j,2*P+2*O+2)}for(P=0;P<C;P++)j[P]=j[2*P+1]<<16|j[2*P];for(P=C;P<2*C;P++)j[P]=0;return new a(j,0)};function x(A,C){for(;(A[C]&65535)!=A[C];)A[C+1]+=A[C]>>>16,A[C]&=65535,C++}function w(A,C){this.g=A,this.h=C}function S(A,C){if(b(C))throw Error("division by zero");if(b(A))return new w(y,y);if(g(A))return C=S(v(A),C),new w(v(C.g),v(C.h));if(g(C))return C=S(A,v(C)),new w(v(C.g),C.h);if(30<A.g.length){if(g(A)||g(C))throw Error("slowDivide_ only works with positive integers.");for(var j=d,P=C;0>=P.l(A);)j=R(j),P=R(P);var O=D(j,1),L=D(P,1);for(P=D(P,2),j=D(j,2);!b(P);){var N=L.add(P);0>=N.l(A)&&(O=O.add(j),L=N),P=D(P,1),j=D(j,1)}return C=_(A,O.j(C)),new w(O,C)}for(O=y;0<=A.l(C);){for(j=Math.max(1,Math.floor(A.m()/C.m())),P=Math.ceil(Math.log(j)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),L=u(j),N=L.j(C);g(N)||0<N.l(A);)j-=P,L=u(j),N=L.j(C);b(L)&&(L=d),O=O.add(L),A=_(A,N)}return new w(O,A)}n.A=function(A){return S(this,A).h},n.and=function(A){for(var C=Math.max(this.g.length,A.g.length),j=[],P=0;P<C;P++)j[P]=this.i(P)&A.i(P);return new a(j,this.h&A.h)},n.or=function(A){for(var C=Math.max(this.g.length,A.g.length),j=[],P=0;P<C;P++)j[P]=this.i(P)|A.i(P);return new a(j,this.h|A.h)},n.xor=function(A){for(var C=Math.max(this.g.length,A.g.length),j=[],P=0;P<C;P++)j[P]=this.i(P)^A.i(P);return new a(j,this.h^A.h)};function R(A){for(var C=A.g.length+1,j=[],P=0;P<C;P++)j[P]=A.i(P)<<1|A.i(P-1)>>>31;return new a(j,A.h)}function D(A,C){var j=C>>5;C%=32;for(var P=A.g.length-j,O=[],L=0;L<P;L++)O[L]=0<C?A.i(L+j)>>>C|A.i(L+j+1)<<32-C:A.i(L+j);return new a(O,A.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,wO=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=u,a.fromString=p,vu=a}).apply(typeof WE<"u"?WE:typeof self<"u"?self:typeof window<"u"?window:{});var r0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var SO,kf,TO,D0,G_,EO,CO,AO;(function(){var n,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(B,se,ue){return B==Array.prototype||B==Object.prototype||(B[se]=ue.value),B};function i(B){B=[typeof globalThis=="object"&&globalThis,B,typeof window=="object"&&window,typeof self=="object"&&self,typeof r0=="object"&&r0];for(var se=0;se<B.length;++se){var ue=B[se];if(ue&&ue.Math==Math)return ue}throw Error("Cannot find global object")}var r=i(this);function s(B,se){if(se)e:{var ue=r;B=B.split(".");for(var Re=0;Re<B.length-1;Re++){var E=B[Re];if(!(E in ue))break e;ue=ue[E]}B=B[B.length-1],Re=ue[B],se=se(Re),se!=Re&&se!=null&&t(ue,B,{configurable:!0,writable:!0,value:se})}}function o(B,se){B instanceof String&&(B+="");var ue=0,Re=!1,E={next:function(){if(!Re&&ue<B.length){var M=ue++;return{value:se(M,B[M]),done:!1}}return Re=!0,{done:!0,value:void 0}}};return E[Symbol.iterator]=function(){return E},E}s("Array.prototype.values",function(B){return B||function(){return o(this,function(se,ue){return ue})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},c=this||self;function l(B){var se=typeof B;return se=se!="object"?se:B?Array.isArray(B)?"array":se:"null",se=="array"||se=="object"&&typeof B.length=="number"}function u(B){var se=typeof B;return se=="object"&&B!=null||se=="function"}function p(B,se,ue){return B.call.apply(B.bind,arguments)}function y(B,se,ue){if(!B)throw Error();if(2<arguments.length){var Re=Array.prototype.slice.call(arguments,2);return function(){var E=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(E,Re),B.apply(se,E)}}return function(){return B.apply(se,arguments)}}function d(B,se,ue){return d=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:y,d.apply(null,arguments)}function f(B,se){var ue=Array.prototype.slice.call(arguments,1);return function(){var Re=ue.slice();return Re.push.apply(Re,arguments),B.apply(this,Re)}}function b(B,se){function ue(){}ue.prototype=se.prototype,B.aa=se.prototype,B.prototype=new ue,B.prototype.constructor=B,B.Qb=function(Re,E,M){for(var F=Array(arguments.length-2),z=2;z<arguments.length;z++)F[z-2]=arguments[z];return se.prototype[E].apply(Re,F)}}function g(B){const se=B.length;if(0<se){const ue=Array(se);for(let Re=0;Re<se;Re++)ue[Re]=B[Re];return ue}return[]}function v(B,se){for(let ue=1;ue<arguments.length;ue++){const Re=arguments[ue];if(l(Re)){const E=B.length||0,M=Re.length||0;B.length=E+M;for(let F=0;F<M;F++)B[E+F]=Re[F]}else B.push(Re)}}class _{constructor(se,ue){this.i=se,this.j=ue,this.h=0,this.g=null}get(){let se;return 0<this.h?(this.h--,se=this.g,this.g=se.next,se.next=null):se=this.i(),se}}function x(B){return/^[\s\xa0]*$/.test(B)}function w(){var B=c.navigator;return B&&(B=B.userAgent)?B:""}function S(B){return S[" "](B),B}S[" "]=function(){};var R=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function D(B,se,ue){for(const Re in B)se.call(ue,B[Re],Re,B)}function A(B,se){for(const ue in B)se.call(void 0,B[ue],ue,B)}function C(B){const se={};for(const ue in B)se[ue]=B[ue];return se}const j="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(B,se){let ue,Re;for(let E=1;E<arguments.length;E++){Re=arguments[E];for(ue in Re)B[ue]=Re[ue];for(let M=0;M<j.length;M++)ue=j[M],Object.prototype.hasOwnProperty.call(Re,ue)&&(B[ue]=Re[ue])}}function O(B){var se=1;B=B.split(":");const ue=[];for(;0<se&&B.length;)ue.push(B.shift()),se--;return B.length&&ue.push(B.join(":")),ue}function L(B){c.setTimeout(()=>{throw B},0)}function N(){var B=ee;let se=null;return B.g&&(se=B.g,B.g=B.g.next,B.g||(B.h=null),se.next=null),se}class q{constructor(){this.h=this.g=null}add(se,ue){const Re=W.get();Re.set(se,ue),this.h?this.h.next=Re:this.g=Re,this.h=Re}}var W=new _(()=>new Y,B=>B.reset());class Y{constructor(){this.next=this.g=this.h=null}set(se,ue){this.h=se,this.g=ue,this.next=null}reset(){this.next=this.g=this.h=null}}let J,te=!1,ee=new q,Q=()=>{const B=c.Promise.resolve(void 0);J=()=>{B.then(ne)}};var ne=()=>{for(var B;B=N();){try{B.h.call(B.g)}catch(ue){L(ue)}var se=W;se.j(B),100>se.h&&(se.h++,B.next=se.g,se.g=B)}te=!1};function re(){this.s=this.s,this.C=this.C}re.prototype.s=!1,re.prototype.ma=function(){this.s||(this.s=!0,this.N())},re.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(B,se){this.type=B,this.g=this.target=se,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var U=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var B=!1,se=Object.defineProperty({},"passive",{get:function(){B=!0}});try{const ue=()=>{};c.addEventListener("test",ue,se),c.removeEventListener("test",ue,se)}catch{}return B}();function H(B,se){if(I.call(this,B?B.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,B){var ue=this.type=B.type,Re=B.changedTouches&&B.changedTouches.length?B.changedTouches[0]:null;if(this.target=B.target||B.srcElement,this.g=se,se=B.relatedTarget){if(R){e:{try{S(se.nodeName);var E=!0;break e}catch{}E=!1}E||(se=null)}}else ue=="mouseover"?se=B.fromElement:ue=="mouseout"&&(se=B.toElement);this.relatedTarget=se,Re?(this.clientX=Re.clientX!==void 0?Re.clientX:Re.pageX,this.clientY=Re.clientY!==void 0?Re.clientY:Re.pageY,this.screenX=Re.screenX||0,this.screenY=Re.screenY||0):(this.clientX=B.clientX!==void 0?B.clientX:B.pageX,this.clientY=B.clientY!==void 0?B.clientY:B.pageY,this.screenX=B.screenX||0,this.screenY=B.screenY||0),this.button=B.button,this.key=B.key||"",this.ctrlKey=B.ctrlKey,this.altKey=B.altKey,this.shiftKey=B.shiftKey,this.metaKey=B.metaKey,this.pointerId=B.pointerId||0,this.pointerType=typeof B.pointerType=="string"?B.pointerType:X[B.pointerType]||"",this.state=B.state,this.i=B,B.defaultPrevented&&H.aa.h.call(this)}}b(H,I);var X={2:"touch",3:"pen",4:"mouse"};H.prototype.h=function(){H.aa.h.call(this);var B=this.i;B.preventDefault?B.preventDefault():B.returnValue=!1};var ae="closure_listenable_"+(1e6*Math.random()|0),le=0;function he(B,se,ue,Re,E){this.listener=B,this.proxy=null,this.src=se,this.type=ue,this.capture=!!Re,this.ha=E,this.key=++le,this.da=this.fa=!1}function ye(B){B.da=!0,B.listener=null,B.proxy=null,B.src=null,B.ha=null}function me(B){this.src=B,this.g={},this.h=0}me.prototype.add=function(B,se,ue,Re,E){var M=B.toString();B=this.g[M],B||(B=this.g[M]=[],this.h++);var F=Se(B,se,Re,E);return-1<F?(se=B[F],ue||(se.fa=!1)):(se=new he(se,this.src,M,!!Re,E),se.fa=ue,B.push(se)),se};function xe(B,se){var ue=se.type;if(ue in B.g){var Re=B.g[ue],E=Array.prototype.indexOf.call(Re,se,void 0),M;(M=0<=E)&&Array.prototype.splice.call(Re,E,1),M&&(ye(se),B.g[ue].length==0&&(delete B.g[ue],B.h--))}}function Se(B,se,ue,Re){for(var E=0;E<B.length;++E){var M=B[E];if(!M.da&&M.listener==se&&M.capture==!!ue&&M.ha==Re)return E}return-1}var pe="closure_lm_"+(1e6*Math.random()|0),Te={};function ke(B,se,ue,Re,E){if(Array.isArray(se)){for(var M=0;M<se.length;M++)ke(B,se[M],ue,Re,E);return null}return ue=gt(ue),B&&B[ae]?B.K(se,ue,u(Re)?!!Re.capture:!!Re,E):Me(B,se,ue,!1,Re,E)}function Me(B,se,ue,Re,E,M){if(!se)throw Error("Invalid event type");var F=u(E)?!!E.capture:!!E,z=jt(B);if(z||(B[pe]=z=new me(B)),ue=z.add(se,ue,Re,F,M),ue.proxy)return ue;if(Re=Ne(),ue.proxy=Re,Re.src=B,Re.listener=ue,B.addEventListener)U||(E=F),E===void 0&&(E=!1),B.addEventListener(se.toString(),Re,E);else if(B.attachEvent)B.attachEvent(ht(se.toString()),Re);else if(B.addListener&&B.removeListener)B.addListener(Re);else throw Error("addEventListener and attachEvent are unavailable.");return ue}function Ne(){function B(ue){return se.call(B.src,B.listener,ue)}const se=Ke;return B}function Ve(B,se,ue,Re,E){if(Array.isArray(se))for(var M=0;M<se.length;M++)Ve(B,se[M],ue,Re,E);else Re=u(Re)?!!Re.capture:!!Re,ue=gt(ue),B&&B[ae]?(B=B.i,se=String(se).toString(),se in B.g&&(M=B.g[se],ue=Se(M,ue,Re,E),-1<ue&&(ye(M[ue]),Array.prototype.splice.call(M,ue,1),M.length==0&&(delete B.g[se],B.h--)))):B&&(B=jt(B))&&(se=B.g[se.toString()],B=-1,se&&(B=Se(se,ue,Re,E)),(ue=-1<B?se[B]:null)&&Xe(ue))}function Xe(B){if(typeof B!="number"&&B&&!B.da){var se=B.src;if(se&&se[ae])xe(se.i,B);else{var ue=B.type,Re=B.proxy;se.removeEventListener?se.removeEventListener(ue,Re,B.capture):se.detachEvent?se.detachEvent(ht(ue),Re):se.addListener&&se.removeListener&&se.removeListener(Re),(ue=jt(se))?(xe(ue,B),ue.h==0&&(ue.src=null,se[pe]=null)):ye(B)}}}function ht(B){return B in Te?Te[B]:Te[B]="on"+B}function Ke(B,se){if(B.da)B=!0;else{se=new H(se,this);var ue=B.listener,Re=B.ha||B.src;B.fa&&Xe(B),B=ue.call(Re,se)}return B}function jt(B){return B=B[pe],B instanceof me?B:null}var bt="__closure_events_fn_"+(1e9*Math.random()>>>0);function gt(B){return typeof B=="function"?B:(B[bt]||(B[bt]=function(se){return B.handleEvent(se)}),B[bt])}function Tt(){re.call(this),this.i=new me(this),this.M=this,this.F=null}b(Tt,re),Tt.prototype[ae]=!0,Tt.prototype.removeEventListener=function(B,se,ue,Re){Ve(this,B,se,ue,Re)};function St(B,se){var ue,Re=B.F;if(Re)for(ue=[];Re;Re=Re.F)ue.push(Re);if(B=B.M,Re=se.type||se,typeof se=="string")se=new I(se,B);else if(se instanceof I)se.target=se.target||B;else{var E=se;se=new I(Re,B),P(se,E)}if(E=!0,ue)for(var M=ue.length-1;0<=M;M--){var F=se.g=ue[M];E=$e(F,Re,!0,se)&&E}if(F=se.g=B,E=$e(F,Re,!0,se)&&E,E=$e(F,Re,!1,se)&&E,ue)for(M=0;M<ue.length;M++)F=se.g=ue[M],E=$e(F,Re,!1,se)&&E}Tt.prototype.N=function(){if(Tt.aa.N.call(this),this.i){var B=this.i,se;for(se in B.g){for(var ue=B.g[se],Re=0;Re<ue.length;Re++)ye(ue[Re]);delete B.g[se],B.h--}}this.F=null},Tt.prototype.K=function(B,se,ue,Re){return this.i.add(String(B),se,!1,ue,Re)},Tt.prototype.L=function(B,se,ue,Re){return this.i.add(String(B),se,!0,ue,Re)};function $e(B,se,ue,Re){if(se=B.i.g[String(se)],!se)return!0;se=se.concat();for(var E=!0,M=0;M<se.length;++M){var F=se[M];if(F&&!F.da&&F.capture==ue){var z=F.listener,Z=F.ha||F.src;F.fa&&xe(B.i,F),E=z.call(Z,Re)!==!1&&E}}return E&&!Re.defaultPrevented}function dt(B,se,ue){if(typeof B=="function")ue&&(B=d(B,ue));else if(B&&typeof B.handleEvent=="function")B=d(B.handleEvent,B);else throw Error("Invalid listener argument");return 2147483647<Number(se)?-1:c.setTimeout(B,se||0)}function Ge(B){B.g=dt(()=>{B.g=null,B.i&&(B.i=!1,Ge(B))},B.l);const se=B.h;B.h=null,B.m.apply(null,se)}class de extends re{constructor(se,ue){super(),this.m=se,this.l=ue,this.h=null,this.i=!1,this.g=null}j(se){this.h=arguments,this.g?this.i=!0:Ge(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ge(B){re.call(this),this.h=B,this.g={}}b(ge,re);var ce=[];function we(B){D(B.g,function(se,ue){this.g.hasOwnProperty(ue)&&Xe(se)},B),B.g={}}ge.prototype.N=function(){ge.aa.N.call(this),we(this)},ge.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var He=c.JSON.stringify,We=c.JSON.parse,rt=class{stringify(B){return c.JSON.stringify(B,void 0)}parse(B){return c.JSON.parse(B,void 0)}};function Et(){}Et.prototype.h=null;function It(B){return B.h||(B.h=B.i())}function Pt(){}var Dt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Qt(){I.call(this,"d")}b(Qt,I);function Gt(){I.call(this,"c")}b(Gt,I);var Ft={},Xt=null;function Wt(){return Xt=Xt||new Tt}Ft.La="serverreachability";function Mr(B){I.call(this,Ft.La,B)}b(Mr,I);function pn(B){const se=Wt();St(se,new Mr(se))}Ft.STAT_EVENT="statevent";function Jr(B,se){I.call(this,Ft.STAT_EVENT,B),this.stat=se}b(Jr,I);function rr(B){const se=Wt();St(se,new Jr(se,B))}Ft.Ma="timingevent";function Fr(B,se){I.call(this,Ft.Ma,B),this.size=se}b(Fr,I);function hr(B,se){if(typeof B!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){B()},se)}function on(){this.g=!0}on.prototype.xa=function(){this.g=!1};function xn(B,se,ue,Re,E,M){B.info(function(){if(B.g)if(M)for(var F="",z=M.split("&"),Z=0;Z<z.length;Z++){var ie=z[Z].split("=");if(1<ie.length){var oe=ie[0];ie=ie[1];var ve=oe.split("_");F=2<=ve.length&&ve[1]=="type"?F+(oe+"="+ie+"&"):F+(oe+"=redacted&")}}else F=null;else F=M;return"XMLHTTP REQ ("+Re+") [attempt "+E+"]: "+se+`
`+ue+`
`+F})}function jr(B,se,ue,Re,E,M,F){B.info(function(){return"XMLHTTP RESP ("+Re+") [ attempt "+E+"]: "+se+`
`+ue+`
`+M+" "+F})}function _e(B,se,ue,Re){B.info(function(){return"XMLHTTP TEXT ("+se+"): "+Ae(B,ue)+(Re?" "+Re:"")})}function Pe(B,se){B.info(function(){return"TIMEOUT: "+se})}on.prototype.info=function(){};function Ae(B,se){if(!B.g)return se;if(!se)return null;try{var ue=JSON.parse(se);if(ue){for(B=0;B<ue.length;B++)if(Array.isArray(ue[B])){var Re=ue[B];if(!(2>Re.length)){var E=Re[1];if(Array.isArray(E)&&!(1>E.length)){var M=E[0];if(M!="noop"&&M!="stop"&&M!="close")for(var F=1;F<E.length;F++)E[F]=""}}}}return He(ue)}catch{return se}}var Ie={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},De={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Le;function ot(){}b(ot,Et),ot.prototype.g=function(){return new XMLHttpRequest},ot.prototype.i=function(){return{}},Le=new ot;function be(B,se,ue,Re){this.j=B,this.i=se,this.l=ue,this.R=Re||1,this.U=new ge(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Fe}function Fe(){this.i=null,this.g="",this.h=!1}var qe={},Be={};function ft(B,se,ue){B.L=1,B.v=la(Sn(se)),B.m=ue,B.P=!0,Qe(B,null)}function Qe(B,se){B.F=Date.now(),mt(B),B.A=Sn(B.v);var ue=B.A,Re=B.R;Array.isArray(Re)||(Re=[String(Re)]),Da(ue.i,"t",Re),B.C=0,ue=B.j.J,B.h=new Fe,B.g=th(B.j,ue?se:null,!B.m),0<B.O&&(B.M=new de(d(B.Y,B,B.g),B.O)),se=B.U,ue=B.g,Re=B.ca;var E="readystatechange";Array.isArray(E)||(E&&(ce[0]=E.toString()),E=ce);for(var M=0;M<E.length;M++){var F=ke(ue,E[M],Re||se.handleEvent,!1,se.h||se);if(!F)break;se.g[F.key]=F}se=B.H?C(B.H):{},B.m?(B.u||(B.u="POST"),se["Content-Type"]="application/x-www-form-urlencoded",B.g.ea(B.A,B.u,B.m,se)):(B.u="GET",B.g.ea(B.A,B.u,null,se)),pn(),xn(B.i,B.u,B.A,B.l,B.R,B.m)}be.prototype.ca=function(B){B=B.target;const se=this.M;se&&ps(B)==3?se.j():this.Y(B)},be.prototype.Y=function(B){try{if(B==this.g)e:{const ve=ps(this.g);var se=this.g.Ba();const Oe=this.g.Z();if(!(3>ve)&&(ve!=3||this.g&&(this.h.h||this.g.oa()||Nc(this.g)))){this.J||ve!=4||se==7||(se==8||0>=Oe?pn(3):pn(2)),ir(this);var ue=this.g.Z();this.X=ue;t:if(At(this)){var Re=Nc(this.g);B="";var E=Re.length,M=ps(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){nr(this),Zt(this);var F="";break t}this.h.i=new c.TextDecoder}for(se=0;se<E;se++)this.h.h=!0,B+=this.h.i.decode(Re[se],{stream:!(M&&se==E-1)});Re.length=0,this.h.g+=B,this.C=0,F=this.h.g}else F=this.g.oa();if(this.o=ue==200,jr(this.i,this.u,this.A,this.l,this.R,ve,ue),this.o){if(this.T&&!this.K){t:{if(this.g){var z,Z=this.g;if((z=Z.g?Z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(z)){var ie=z;break t}}ie=null}if(ue=ie)_e(this.i,this.l,ue,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,br(this,ue);else{this.o=!1,this.s=3,rr(12),nr(this),Zt(this);break e}}if(this.P){ue=!0;let je;for(;!this.J&&this.C<F.length;)if(je=nt(this,F),je==Be){ve==4&&(this.s=4,rr(14),ue=!1),_e(this.i,this.l,null,"[Incomplete Response]");break}else if(je==qe){this.s=4,rr(15),_e(this.i,this.l,F,"[Invalid Chunk]"),ue=!1;break}else _e(this.i,this.l,je,null),br(this,je);if(At(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ve!=4||F.length!=0||this.h.h||(this.s=1,rr(16),ue=!1),this.o=this.o&&ue,!ue)_e(this.i,this.l,F,"[Invalid Chunked Response]"),nr(this),Zt(this);else if(0<F.length&&!this.W){this.W=!0;var oe=this.j;oe.g==this&&oe.ba&&!oe.M&&(oe.j.info("Great, no buffering proxy detected. Bytes received: "+F.length),Vt(oe),oe.M=!0,rr(11))}}else _e(this.i,this.l,F,null),br(this,F);ve==4&&nr(this),this.o&&!this.J&&(ve==4?Ua(this.j,this):(this.o=!1,mt(this)))}else Ju(this.g),ue==400&&0<F.indexOf("Unknown SID")?(this.s=3,rr(12)):(this.s=0,rr(13)),nr(this),Zt(this)}}}catch{}finally{}};function At(B){return B.g?B.u=="GET"&&B.L!=2&&B.j.Ca:!1}function nt(B,se){var ue=B.C,Re=se.indexOf(`
`,ue);return Re==-1?Be:(ue=Number(se.substring(ue,Re)),isNaN(ue)?qe:(Re+=1,Re+ue>se.length?Be:(se=se.slice(Re,Re+ue),B.C=Re+ue,se)))}be.prototype.cancel=function(){this.J=!0,nr(this)};function mt(B){B.S=Date.now()+B.I,vt(B,B.I)}function vt(B,se){if(B.B!=null)throw Error("WatchDog timer not null");B.B=hr(d(B.ba,B),se)}function ir(B){B.B&&(c.clearTimeout(B.B),B.B=null)}be.prototype.ba=function(){this.B=null;const B=Date.now();0<=B-this.S?(Pe(this.i,this.A),this.L!=2&&(pn(),rr(17)),nr(this),this.s=2,Zt(this)):vt(this,this.S-B)};function Zt(B){B.j.G==0||B.J||Ua(B.j,B)}function nr(B){ir(B);var se=B.M;se&&typeof se.ma=="function"&&se.ma(),B.M=null,we(B.U),B.g&&(se=B.g,B.g=null,se.abort(),se.ma())}function br(B,se){try{var ue=B.j;if(ue.G!=0&&(ue.g==B||Hn(ue.h,B))){if(!B.K&&Hn(ue.h,B)&&ue.G==3){try{var Re=ue.Da.g.parse(se)}catch{Re=null}if(Array.isArray(Re)&&Re.length==3){var E=Re;if(E[0]==0){e:if(!ue.u){if(ue.g)if(ue.g.F+3e3<B.F)Go(ue),Bo(ue);else break e;As(ue),rr(18)}}else ue.za=E[1],0<ue.za-ue.T&&37500>E[2]&&ue.F&&ue.v==0&&!ue.C&&(ue.C=hr(d(ue.Za,ue),6e3));if(1>=mn(ue.h)&&ue.ca){try{ue.ca()}catch{}ue.ca=void 0}}else Ba(ue,11)}else if((B.K||ue.g==B)&&Go(ue),!x(se))for(E=ue.Da.g.parse(se),se=0;se<E.length;se++){let ie=E[se];if(ue.T=ie[0],ie=ie[1],ue.G==2)if(ie[0]=="c"){ue.K=ie[1],ue.ia=ie[2];const oe=ie[3];oe!=null&&(ue.la=oe,ue.j.info("VER="+ue.la));const ve=ie[4];ve!=null&&(ue.Aa=ve,ue.j.info("SVER="+ue.Aa));const Oe=ie[5];Oe!=null&&typeof Oe=="number"&&0<Oe&&(Re=1.5*Oe,ue.L=Re,ue.j.info("backChannelRequestTimeoutMs_="+Re)),Re=ue;const je=B.g;if(je){const Ye=je.g?je.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ye){var M=Re.h;M.g||Ye.indexOf("spdy")==-1&&Ye.indexOf("quic")==-1&&Ye.indexOf("h2")==-1||(M.j=M.l,M.g=new Set,M.h&&(Zn(M,M.h),M.h=null))}if(Re.D){const tt=je.g?je.g.getResponseHeader("X-HTTP-Session-Id"):null;tt&&(Re.ya=tt,Rr(Re.I,Re.D,tt))}}ue.G=3,ue.l&&ue.l.ua(),ue.ba&&(ue.R=Date.now()-B.F,ue.j.info("Handshake RTT: "+ue.R+"ms")),Re=ue;var F=B;if(Re.qa=Vc(Re,Re.J?Re.ia:null,Re.W),F.K){mi(Re.h,F);var z=F,Z=Re.L;Z&&(z.I=Z),z.B&&(ir(z),mt(z)),Re.g=F}else Hs(Re);0<ue.i.length&&Vo(ue)}else ie[0]!="stop"&&ie[0]!="close"||Ba(ue,7);else ue.G==3&&(ie[0]=="stop"||ie[0]=="close"?ie[0]=="stop"?Ba(ue,7):Nl(ue):ie[0]!="noop"&&ue.l&&ue.l.ta(ie),ue.v=0)}}pn(4)}catch{}}var Qn=class{constructor(B,se){this.g=B,this.map=se}};function wn(B){this.l=B||10,c.PerformanceNavigationTiming?(B=c.performance.getEntriesByType("navigation"),B=0<B.length&&(B[0].nextHopProtocol=="hq"||B[0].nextHopProtocol=="h2")):B=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=B?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function jn(B){return B.h?!0:B.g?B.g.size>=B.j:!1}function mn(B){return B.h?1:B.g?B.g.size:0}function Hn(B,se){return B.h?B.h==se:B.g?B.g.has(se):!1}function Zn(B,se){B.g?B.g.add(se):B.h=se}function mi(B,se){B.h&&B.h==se?B.h=null:B.g&&B.g.has(se)&&B.g.delete(se)}wn.prototype.cancel=function(){if(this.i=Jn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const B of this.g.values())B.cancel();this.g.clear()}};function Jn(B){if(B.h!=null)return B.i.concat(B.h.D);if(B.g!=null&&B.g.size!==0){let se=B.i;for(const ue of B.g.values())se=se.concat(ue.D);return se}return g(B.i)}function Ic(B){if(B.V&&typeof B.V=="function")return B.V();if(typeof Map<"u"&&B instanceof Map||typeof Set<"u"&&B instanceof Set)return Array.from(B.values());if(typeof B=="string")return B.split("");if(l(B)){for(var se=[],ue=B.length,Re=0;Re<ue;Re++)se.push(B[Re]);return se}se=[],ue=0;for(Re in B)se[ue++]=B[Re];return se}function Ku(B){if(B.na&&typeof B.na=="function")return B.na();if(!B.V||typeof B.V!="function"){if(typeof Map<"u"&&B instanceof Map)return Array.from(B.keys());if(!(typeof Set<"u"&&B instanceof Set)){if(l(B)||typeof B=="string"){var se=[];B=B.length;for(var ue=0;ue<B;ue++)se.push(ue);return se}se=[],ue=0;for(const Re in B)se[ue++]=Re;return se}}}function ro(B,se){if(B.forEach&&typeof B.forEach=="function")B.forEach(se,void 0);else if(l(B)||typeof B=="string")Array.prototype.forEach.call(B,se,void 0);else for(var ue=Ku(B),Re=Ic(B),E=Re.length,M=0;M<E;M++)se.call(void 0,Re[M],ue&&ue[M],B)}var Io=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ko(B,se){if(B){B=B.split("&");for(var ue=0;ue<B.length;ue++){var Re=B[ue].indexOf("="),E=null;if(0<=Re){var M=B[ue].substring(0,Re);E=B[ue].substring(Re+1)}else M=B[ue];se(M,E?decodeURIComponent(E.replace(/\+/g," ")):"")}}}function oa(B){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,B instanceof oa){this.h=B.h,no(this,B.j),this.o=B.o,this.g=B.g,Ma(this,B.s),this.l=B.l;var se=B.i,ue=new Gs;ue.i=se.i,se.g&&(ue.g=new Map(se.g),ue.h=se.h),Mo(this,ue),this.m=B.m}else B&&(se=String(B).match(Io))?(this.h=!1,no(this,se[1]||"",!0),this.o=Vs(se[2]||""),this.g=Vs(se[3]||"",!0),Ma(this,se[4]),this.l=Vs(se[5]||"",!0),Mo(this,se[6]||"",!0),this.m=Vs(se[7]||"")):(this.h=!1,this.i=new Gs(null,this.h))}oa.prototype.toString=function(){var B=[],se=this.j;se&&B.push(In(se,Pl,!0),":");var ue=this.g;return(ue||se=="file")&&(B.push("//"),(se=this.o)&&B.push(In(se,Pl,!0),"@"),B.push(encodeURIComponent(String(ue)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),ue=this.s,ue!=null&&B.push(":",String(ue))),(ue=this.l)&&(this.g&&ue.charAt(0)!="/"&&B.push("/"),B.push(In(ue,ue.charAt(0)=="/"?Dl:Pa,!0))),(ue=this.i.toString())&&B.push("?",ue),(ue=this.m)&&B.push("#",In(ue,kc)),B.join("")};function Sn(B){return new oa(B)}function no(B,se,ue){B.j=ue?Vs(se,!0):se,B.j&&(B.j=B.j.replace(/:$/,""))}function Ma(B,se){if(se){if(se=Number(se),isNaN(se)||0>se)throw Error("Bad port number "+se);B.s=se}else B.s=null}function Mo(B,se,ue){se instanceof Gs?(B.i=se,Mc(B.i,B.h)):(ue||(se=In(se,Id)),B.i=new Gs(se,B.h))}function Rr(B,se,ue){B.i.set(se,ue)}function la(B){return Rr(B,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),B}function Vs(B,se){return B?se?decodeURI(B.replace(/%25/g,"%2525")):decodeURIComponent(B):""}function In(B,se,ue){return typeof B=="string"?(B=encodeURI(B).replace(se,Qu),ue&&(B=B.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),B):null}function Qu(B){return B=B.charCodeAt(0),"%"+(B>>4&15).toString(16)+(B&15).toString(16)}var Pl=/[#\/\?@]/g,Pa=/[#\?:]/g,Dl=/[#\?]/g,Id=/[#\?@]/g,kc=/#/g;function Gs(B,se){this.h=this.g=null,this.i=B||null,this.j=!!se}function Es(B){B.g||(B.g=new Map,B.h=0,B.i&&ko(B.i,function(se,ue){B.add(decodeURIComponent(se.replace(/\+/g," ")),ue)}))}n=Gs.prototype,n.add=function(B,se){Es(this),this.i=null,B=ua(this,B);var ue=this.g.get(B);return ue||this.g.set(B,ue=[]),ue.push(se),this.h+=1,this};function Po(B,se){Es(B),se=ua(B,se),B.g.has(se)&&(B.i=null,B.h-=B.g.get(se).length,B.g.delete(se))}function ca(B,se){return Es(B),se=ua(B,se),B.g.has(se)}n.forEach=function(B,se){Es(this),this.g.forEach(function(ue,Re){ue.forEach(function(E){B.call(se,E,Re,this)},this)},this)},n.na=function(){Es(this);const B=Array.from(this.g.values()),se=Array.from(this.g.keys()),ue=[];for(let Re=0;Re<se.length;Re++){const E=B[Re];for(let M=0;M<E.length;M++)ue.push(se[Re])}return ue},n.V=function(B){Es(this);let se=[];if(typeof B=="string")ca(this,B)&&(se=se.concat(this.g.get(ua(this,B))));else{B=Array.from(this.g.values());for(let ue=0;ue<B.length;ue++)se=se.concat(B[ue])}return se},n.set=function(B,se){return Es(this),this.i=null,B=ua(this,B),ca(this,B)&&(this.h-=this.g.get(B).length),this.g.set(B,[se]),this.h+=1,this},n.get=function(B,se){return B?(B=this.V(B),0<B.length?String(B[0]):se):se};function Da(B,se,ue){Po(B,se),0<ue.length&&(B.i=null,B.g.set(ua(B,se),g(ue)),B.h+=ue.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const B=[],se=Array.from(this.g.keys());for(var ue=0;ue<se.length;ue++){var Re=se[ue];const M=encodeURIComponent(String(Re)),F=this.V(Re);for(Re=0;Re<F.length;Re++){var E=M;F[Re]!==""&&(E+="="+encodeURIComponent(String(F[Re]))),B.push(E)}}return this.i=B.join("&")};function ua(B,se){return se=String(se),B.j&&(se=se.toLowerCase()),se}function Mc(B,se){se&&!B.j&&(Es(B),B.i=null,B.g.forEach(function(ue,Re){var E=Re.toLowerCase();Re!=E&&(Po(this,Re),Da(this,E,ue))},B)),B.j=se}function Zu(B,se){const ue=new on;if(c.Image){const Re=new Image;Re.onload=f(Cs,ue,"TestLoadImage: loaded",!0,se,Re),Re.onerror=f(Cs,ue,"TestLoadImage: error",!1,se,Re),Re.onabort=f(Cs,ue,"TestLoadImage: abort",!1,se,Re),Re.ontimeout=f(Cs,ue,"TestLoadImage: timeout",!1,se,Re),c.setTimeout(function(){Re.ontimeout&&Re.ontimeout()},1e4),Re.src=B}else se(!1)}function Do(B,se){const ue=new on,Re=new AbortController,E=setTimeout(()=>{Re.abort(),Cs(ue,"TestPingServer: timeout",!1,se)},1e4);fetch(B,{signal:Re.signal}).then(M=>{clearTimeout(E),M.ok?Cs(ue,"TestPingServer: ok",!0,se):Cs(ue,"TestPingServer: server error",!1,se)}).catch(()=>{clearTimeout(E),Cs(ue,"TestPingServer: error",!1,se)})}function Cs(B,se,ue,Re,E){try{E&&(E.onload=null,E.onerror=null,E.onabort=null,E.ontimeout=null),Re(ue)}catch{}}function io(){this.g=new rt}function Wn(B,se,ue){const Re=ue||"";try{ro(B,function(E,M){let F=E;u(E)&&(F=He(E)),se.push(Re+M+"="+encodeURIComponent(F))})}catch(E){throw se.push(Re+"type="+encodeURIComponent("_badmap")),E}}function Si(B){this.l=B.Ub||null,this.j=B.eb||!1}b(Si,Et),Si.prototype.g=function(){return new fs(this.l,this.j)},Si.prototype.i=function(B){return function(){return B}}({});function fs(B,se){Tt.call(this),this.D=B,this.o=se,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(fs,Tt),n=fs.prototype,n.open=function(B,se){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=B,this.A=se,this.readyState=1,Zi(this)},n.send=function(B){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const se={headers:this.u,method:this.B,credentials:this.m,cache:void 0};B&&(se.body=B),(this.D||c).fetch(new Request(this.A,se)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ei(this)),this.readyState=0},n.Sa=function(B){if(this.g&&(this.l=B,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=B.headers,this.readyState=2,Zi(this)),this.g&&(this.readyState=3,Zi(this),this.g)))if(this.responseType==="arraybuffer")B.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in B){if(this.j=B.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Na(this)}else B.text().then(this.Ra.bind(this),this.ga.bind(this))};function Na(B){B.j.read().then(B.Pa.bind(B)).catch(B.ga.bind(B))}n.Pa=function(B){if(this.g){if(this.o&&B.value)this.response.push(B.value);else if(!this.o){var se=B.value?B.value:new Uint8Array(0);(se=this.v.decode(se,{stream:!B.done}))&&(this.response=this.responseText+=se)}B.done?ei(this):Zi(this),this.readyState==3&&Na(this)}},n.Ra=function(B){this.g&&(this.response=this.responseText=B,ei(this))},n.Qa=function(B){this.g&&(this.response=B,ei(this))},n.ga=function(){this.g&&ei(this)};function ei(B){B.readyState=4,B.l=null,B.j=null,B.v=null,Zi(B)}n.setRequestHeader=function(B,se){this.u.append(B,se)},n.getResponseHeader=function(B){return this.h&&this.h.get(B.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const B=[],se=this.h.entries();for(var ue=se.next();!ue.done;)ue=ue.value,B.push(ue[0]+": "+ue[1]),ue=se.next();return B.join(`\r
`)};function Zi(B){B.onreadystatechange&&B.onreadystatechange.call(B)}Object.defineProperty(fs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(B){this.m=B?"include":"same-origin"}});function Pc(B){let se="";return D(B,function(ue,Re){se+=Re,se+=":",se+=ue,se+=`\r
`}),se}function gn(B,se,ue){e:{for(Re in ue){var Re=!1;break e}Re=!0}Re||(ue=Pc(ue),typeof B=="string"?ue!=null&&encodeURIComponent(String(ue)):Rr(B,se,ue))}function Or(B){Tt.call(this),this.headers=new Map,this.o=B||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(Or,Tt);var No=/^https?$/i,so=["POST","PUT"];n=Or.prototype,n.Ha=function(B){this.J=B},n.ea=function(B,se,ue,Re){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+B);se=se?se.toUpperCase():"GET",this.D=B,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Le.g(),this.v=this.o?It(this.o):It(Le),this.g.onreadystatechange=d(this.Ea,this);try{this.B=!0,this.g.open(se,String(B),!0),this.B=!1}catch(M){Dc(this,M);return}if(B=ue||"",ue=new Map(this.headers),Re)if(Object.getPrototypeOf(Re)===Object.prototype)for(var E in Re)ue.set(E,Re[E]);else if(typeof Re.keys=="function"&&typeof Re.get=="function")for(const M of Re.keys())ue.set(M,Re.get(M));else throw Error("Unknown input type for opt_headers: "+String(Re));Re=Array.from(ue.keys()).find(M=>M.toLowerCase()=="content-type"),E=c.FormData&&B instanceof c.FormData,!(0<=Array.prototype.indexOf.call(so,se,void 0))||Re||E||ue.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[M,F]of ue)this.g.setRequestHeader(M,F);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{La(this),this.u=!0,this.g.send(B),this.u=!1}catch(M){Dc(this,M)}};function Dc(B,se){B.h=!1,B.g&&(B.j=!0,B.g.abort(),B.j=!1),B.l=se,B.m=5,Lo(B),zs(B)}function Lo(B){B.A||(B.A=!0,St(B,"complete"),St(B,"error"))}n.abort=function(B){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=B||7,St(this,"complete"),St(this,"abort"),zs(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zs(this,!0)),Or.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Fo(this):this.bb())},n.bb=function(){Fo(this)};function Fo(B){if(B.h&&typeof a<"u"&&(!B.v[1]||ps(B)!=4||B.Z()!=2)){if(B.u&&ps(B)==4)dt(B.Ea,0,B);else if(St(B,"readystatechange"),ps(B)==4){B.h=!1;try{const F=B.Z();e:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var se=!0;break e;default:se=!1}var ue;if(!(ue=se)){var Re;if(Re=F===0){var E=String(B.D).match(Io)[1]||null;!E&&c.self&&c.self.location&&(E=c.self.location.protocol.slice(0,-1)),Re=!No.test(E?E.toLowerCase():"")}ue=Re}if(ue)St(B,"complete"),St(B,"success");else{B.m=6;try{var M=2<ps(B)?B.g.statusText:""}catch{M=""}B.l=M+" ["+B.Z()+"]",Lo(B)}}finally{zs(B)}}}}function zs(B,se){if(B.g){La(B);const ue=B.g,Re=B.v[0]?()=>{}:null;B.g=null,B.v=null,se||St(B,"ready");try{ue.onreadystatechange=Re}catch{}}}function La(B){B.I&&(c.clearTimeout(B.I),B.I=null)}n.isActive=function(){return!!this.g};function ps(B){return B.g?B.g.readyState:0}n.Z=function(){try{return 2<ps(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(B){if(this.g){var se=this.g.responseText;return B&&se.indexOf(B)==0&&(se=se.substring(B.length)),We(se)}};function Nc(B){try{if(!B.g)return null;if("response"in B.g)return B.g.response;switch(B.H){case"":case"text":return B.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in B.g)return B.g.mozResponseArrayBuffer}return null}catch{return null}}function Ju(B){const se={};B=(B.g&&2<=ps(B)&&B.g.getAllResponseHeaders()||"").split(`\r
`);for(let Re=0;Re<B.length;Re++){if(x(B[Re]))continue;var ue=O(B[Re]);const E=ue[0];if(ue=ue[1],typeof ue!="string")continue;ue=ue.trim();const M=se[E]||[];se[E]=M,M.push(ue)}A(se,function(Re){return Re.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ao(B,se,ue){return ue&&ue.internalChannelParams&&ue.internalChannelParams[B]||se}function Uo(B){this.Aa=0,this.i=[],this.j=new on,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ao("failFast",!1,B),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ao("baseRetryDelayMs",5e3,B),this.cb=ao("retryDelaySeedMs",1e4,B),this.Wa=ao("forwardChannelMaxRetries",2,B),this.wa=ao("forwardChannelRequestTimeoutMs",2e4,B),this.pa=B&&B.xmlHttpFactory||void 0,this.Xa=B&&B.Tb||void 0,this.Ca=B&&B.useFetchStreams||!1,this.L=void 0,this.J=B&&B.supportsCrossDomainXhr||!1,this.K="",this.h=new wn(B&&B.concurrentRequestLimit),this.Da=new io,this.P=B&&B.fastHandshake||!1,this.O=B&&B.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=B&&B.Rb||!1,B&&B.xa&&this.j.xa(),B&&B.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&B&&B.detectBufferingProxy||!1,this.ja=void 0,B&&B.longPollingTimeout&&0<B.longPollingTimeout&&(this.ja=B.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Uo.prototype,n.la=8,n.G=1,n.connect=function(B,se,ue,Re){rr(0),this.W=B,this.H=se||{},ue&&Re!==void 0&&(this.H.OSID=ue,this.H.OAID=Re),this.F=this.X,this.I=Vc(this,null,this.W),Vo(this)};function Nl(B){if(Lc(B),B.G==3){var se=B.U++,ue=Sn(B.I);if(Rr(ue,"SID",B.K),Rr(ue,"RID",se),Rr(ue,"TYPE","terminate"),Fa(B,ue),se=new be(B,B.j,se),se.L=2,se.v=la(Sn(ue)),ue=!1,c.navigator&&c.navigator.sendBeacon)try{ue=c.navigator.sendBeacon(se.v.toString(),"")}catch{}!ue&&c.Image&&(new Image().src=se.v,ue=!0),ue||(se.g=th(se.j,null),se.g.ea(se.v)),se.F=Date.now(),mt(se)}Ur(B)}function Bo(B){B.g&&(Vt(B),B.g.cancel(),B.g=null)}function Lc(B){Bo(B),B.u&&(c.clearTimeout(B.u),B.u=null),Go(B),B.h.cancel(),B.s&&(typeof B.s=="number"&&c.clearTimeout(B.s),B.s=null)}function Vo(B){if(!jn(B.h)&&!B.s){B.s=!0;var se=B.Ga;J||Q(),te||(J(),te=!0),ee.add(se,B),B.B=0}}function Fc(B,se){return mn(B.h)>=B.h.j-(B.s?1:0)?!1:B.s?(B.i=se.D.concat(B.i),!0):B.G==1||B.G==2||B.B>=(B.Va?0:B.Wa)?!1:(B.s=hr(d(B.Ga,B,se),Bc(B,B.B)),B.B++,!0)}n.Ga=function(B){if(this.s)if(this.s=null,this.G==1){if(!B){this.U=Math.floor(1e5*Math.random()),B=this.U++;const E=new be(this,this.j,B);let M=this.o;if(this.S&&(M?(M=C(M),P(M,this.S)):M=this.S),this.m!==null||this.O||(E.H=M,M=null),this.P)e:{for(var se=0,ue=0;ue<this.i.length;ue++){t:{var Re=this.i[ue];if("__data__"in Re.map&&(Re=Re.map.__data__,typeof Re=="string")){Re=Re.length;break t}Re=void 0}if(Re===void 0)break;if(se+=Re,4096<se){se=ue;break e}if(se===4096||ue===this.i.length-1){se=ue+1;break e}}se=1e3}else se=1e3;se=Uc(this,E,se),ue=Sn(this.I),Rr(ue,"RID",B),Rr(ue,"CVER",22),this.D&&Rr(ue,"X-HTTP-Session-Id",this.D),Fa(this,ue),M&&(this.O?se="headers="+encodeURIComponent(String(Pc(M)))+"&"+se:this.m&&gn(ue,this.m,M)),Zn(this.h,E),this.Ua&&Rr(ue,"TYPE","init"),this.P?(Rr(ue,"$req",se),Rr(ue,"SID","null"),E.T=!0,ft(E,ue,null)):ft(E,ue,se),this.G=2}}else this.G==3&&(B?oo(this,B):this.i.length==0||jn(this.h)||oo(this))};function oo(B,se){var ue;se?ue=se.l:ue=B.U++;const Re=Sn(B.I);Rr(Re,"SID",B.K),Rr(Re,"RID",ue),Rr(Re,"AID",B.T),Fa(B,Re),B.m&&B.o&&gn(Re,B.m,B.o),ue=new be(B,B.j,ue,B.B+1),B.m===null&&(ue.H=B.o),se&&(B.i=se.D.concat(B.i)),se=Uc(B,ue,1e3),ue.I=Math.round(.5*B.wa)+Math.round(.5*B.wa*Math.random()),Zn(B.h,ue),ft(ue,Re,se)}function Fa(B,se){B.H&&D(B.H,function(ue,Re){Rr(se,Re,ue)}),B.l&&ro({},function(ue,Re){Rr(se,Re,ue)})}function Uc(B,se,ue){ue=Math.min(B.i.length,ue);var Re=B.l?d(B.l.Na,B.l,B):null;e:{var E=B.i;let M=-1;for(;;){const F=["count="+ue];M==-1?0<ue?(M=E[0].g,F.push("ofs="+M)):M=0:F.push("ofs="+M);let z=!0;for(let Z=0;Z<ue;Z++){let ie=E[Z].g;const oe=E[Z].map;if(ie-=M,0>ie)M=Math.max(0,E[Z].g-100),z=!1;else try{Wn(oe,F,"req"+ie+"_")}catch{Re&&Re(oe)}}if(z){Re=F.join("&");break e}}}return B=B.i.splice(0,ue),se.D=B,Re}function Hs(B){if(!B.g&&!B.u){B.Y=1;var se=B.Fa;J||Q(),te||(J(),te=!0),ee.add(se,B),B.v=0}}function As(B){return B.g||B.u||3<=B.v?!1:(B.Y++,B.u=hr(d(B.Fa,B),Bc(B,B.v)),B.v++,!0)}n.Fa=function(){if(this.u=null,eh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var B=2*this.R;this.j.info("BP detection timer enabled: "+B),this.A=hr(d(this.ab,this),B)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,rr(10),Bo(this),eh(this))};function Vt(B){B.A!=null&&(c.clearTimeout(B.A),B.A=null)}function eh(B){B.g=new be(B,B.j,"rpc",B.Y),B.m===null&&(B.g.H=B.o),B.g.O=0;var se=Sn(B.qa);Rr(se,"RID","rpc"),Rr(se,"SID",B.K),Rr(se,"AID",B.T),Rr(se,"CI",B.F?"0":"1"),!B.F&&B.ja&&Rr(se,"TO",B.ja),Rr(se,"TYPE","xmlhttp"),Fa(B,se),B.m&&B.o&&gn(se,B.m,B.o),B.L&&(B.g.I=B.L);var ue=B.g;B=B.ia,ue.L=1,ue.v=la(Sn(se)),ue.m=null,ue.P=!0,Qe(ue,B)}n.Za=function(){this.C!=null&&(this.C=null,Bo(this),As(this),rr(19))};function Go(B){B.C!=null&&(c.clearTimeout(B.C),B.C=null)}function Ua(B,se){var ue=null;if(B.g==se){Go(B),Vt(B),B.g=null;var Re=2}else if(Hn(B.h,se))ue=se.D,mi(B.h,se),Re=1;else return;if(B.G!=0){if(se.o)if(Re==1){ue=se.m?se.m.length:0,se=Date.now()-se.F;var E=B.B;Re=Wt(),St(Re,new Fr(Re,ue)),Vo(B)}else Hs(B);else if(E=se.s,E==3||E==0&&0<se.X||!(Re==1&&Fc(B,se)||Re==2&&As(B)))switch(ue&&0<ue.length&&(se=B.h,se.i=se.i.concat(ue)),E){case 1:Ba(B,5);break;case 4:Ba(B,10);break;case 3:Ba(B,6);break;default:Ba(B,2)}}}function Bc(B,se){let ue=B.Ta+Math.floor(Math.random()*B.cb);return B.isActive()||(ue*=2),ue*se}function Ba(B,se){if(B.j.info("Error code "+se),se==2){var ue=d(B.fb,B),Re=B.Xa;const E=!Re;Re=new oa(Re||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||no(Re,"https"),la(Re),E?Zu(Re.toString(),ue):Do(Re.toString(),ue)}else rr(2);B.G=0,B.l&&B.l.sa(se),Ur(B),Lc(B)}n.fb=function(B){B?(this.j.info("Successfully pinged google.com"),rr(2)):(this.j.info("Failed to ping google.com"),rr(1))};function Ur(B){if(B.G=0,B.ka=[],B.l){const se=Jn(B.h);(se.length!=0||B.i.length!=0)&&(v(B.ka,se),v(B.ka,B.i),B.h.i.length=0,g(B.i),B.i.length=0),B.l.ra()}}function Vc(B,se,ue){var Re=ue instanceof oa?Sn(ue):new oa(ue);if(Re.g!="")se&&(Re.g=se+"."+Re.g),Ma(Re,Re.s);else{var E=c.location;Re=E.protocol,se=se?se+"."+E.hostname:E.hostname,E=+E.port;var M=new oa(null);Re&&no(M,Re),se&&(M.g=se),E&&Ma(M,E),ue&&(M.l=ue),Re=M}return ue=B.D,se=B.ya,ue&&se&&Rr(Re,ue,se),Rr(Re,"VER",B.la),Fa(B,Re),Re}function th(B,se,ue){if(se&&!B.J)throw Error("Can't create secondary domain capable XhrIo object.");return se=B.Ca&&!B.pa?new Or(new Si({eb:ue})):new Or(B.pa),se.Ha(B.J),se}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ji(){}n=Ji.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ll(){}Ll.prototype.g=function(B,se){return new Di(B,se)};function Di(B,se){Tt.call(this),this.g=new Uo(se),this.l=B,this.h=se&&se.messageUrlParams||null,B=se&&se.messageHeaders||null,se&&se.clientProtocolHeaderRequired&&(B?B["X-Client-Protocol"]="webchannel":B={"X-Client-Protocol":"webchannel"}),this.g.o=B,B=se&&se.initMessageHeaders||null,se&&se.messageContentType&&(B?B["X-WebChannel-Content-Type"]=se.messageContentType:B={"X-WebChannel-Content-Type":se.messageContentType}),se&&se.va&&(B?B["X-WebChannel-Client-Profile"]=se.va:B={"X-WebChannel-Client-Profile":se.va}),this.g.S=B,(B=se&&se.Sb)&&!x(B)&&(this.g.m=B),this.v=se&&se.supportsCrossDomainXhr||!1,this.u=se&&se.sendRawJson||!1,(se=se&&se.httpSessionIdParam)&&!x(se)&&(this.g.D=se,B=this.h,B!==null&&se in B&&(B=this.h,se in B&&delete B[se])),this.j=new ha(this)}b(Di,Tt),Di.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Di.prototype.close=function(){Nl(this.g)},Di.prototype.o=function(B){var se=this.g;if(typeof B=="string"){var ue={};ue.__data__=B,B=ue}else this.u&&(ue={},ue.__data__=He(B),B=ue);se.i.push(new Qn(se.Ya++,B)),se.G==3&&Vo(se)},Di.prototype.N=function(){this.g.l=null,delete this.j,Nl(this.g),delete this.g,Di.aa.N.call(this)};function rh(B){Qt.call(this),B.__headers__&&(this.headers=B.__headers__,this.statusCode=B.__status__,delete B.__headers__,delete B.__status__);var se=B.__sm__;if(se){e:{for(const ue in se){B=ue;break e}B=void 0}(this.i=B)&&(B=this.i,se=se!==null&&B in se?se[B]:void 0),this.data=se}else this.data=B}b(rh,Qt);function nh(){Gt.call(this),this.status=1}b(nh,Gt);function ha(B){this.g=B}b(ha,Ji),ha.prototype.ua=function(){St(this.g,"a")},ha.prototype.ta=function(B){St(this.g,new rh(B))},ha.prototype.sa=function(B){St(this.g,new nh)},ha.prototype.ra=function(){St(this.g,"b")},Ll.prototype.createWebChannel=Ll.prototype.g,Di.prototype.send=Di.prototype.o,Di.prototype.open=Di.prototype.m,Di.prototype.close=Di.prototype.close,AO=function(){return new Ll},CO=function(){return Wt()},EO=Ft,G_={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ie.NO_ERROR=0,Ie.TIMEOUT=8,Ie.HTTP_ERROR=6,D0=Ie,De.COMPLETE="complete",TO=De,Pt.EventType=Dt,Dt.OPEN="a",Dt.CLOSE="b",Dt.ERROR="c",Dt.MESSAGE="d",Tt.prototype.listen=Tt.prototype.K,kf=Pt,Or.prototype.listenOnce=Or.prototype.L,Or.prototype.getLastError=Or.prototype.Ka,Or.prototype.getLastErrorCode=Or.prototype.Ba,Or.prototype.getStatus=Or.prototype.Z,Or.prototype.getResponseJson=Or.prototype.Oa,Or.prototype.getResponseText=Or.prototype.oa,Or.prototype.send=Or.prototype.ea,Or.prototype.setWithCredentials=Or.prototype.Ha,SO=Or}).apply(typeof r0<"u"?r0:typeof self<"u"?self:typeof window<"u"?window:{});const qE="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}is.UNAUTHENTICATED=new is(null),is.GOOGLE_CREDENTIALS=new is("google-credentials-uid"),is.FIRST_PARTY=new is("first-party-uid"),is.MOCK_USER=new is("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vd="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wu=new Op("@firebase/firestore");function yf(){return wu.logLevel}function Yt(n,...t){if(wu.logLevel<=Er.DEBUG){const i=t.map(cx);wu.debug(`Firestore (${vd}): ${n}`,...i)}}function wl(n,...t){if(wu.logLevel<=Er.ERROR){const i=t.map(cx);wu.error(`Firestore (${vd}): ${n}`,...i)}}function rd(n,...t){if(wu.logLevel<=Er.WARN){const i=t.map(cx);wu.warn(`Firestore (${vd}): ${n}`,...i)}}function cx(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dr(n="Unexpected state"){const t=`FIRESTORE (${vd}) INTERNAL ASSERTION FAILED: `+n;throw wl(t),new Error(t)}function sn(n,t){n||dr()}function mr(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class er extends Ia{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(){this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class U8{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable(()=>i(is.UNAUTHENTICATED))}shutdown(){}}class B8{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class V8{constructor(t){this.t=t,this.currentUser=is.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){sn(this.o===void 0);let r=this.i;const s=l=>this.i!==r?(r=this.i,i(l)):Promise.resolve();let o=new dl;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new dl,t.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const l=o;t.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},c=l=>{Yt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(l=>c(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?c(l):(Yt("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new dl)}},0),a()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(r=>this.i!==t?(Yt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(sn(typeof r.accessToken=="string"),new jO(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return sn(t===null||typeof t=="string"),new is(t)}}class G8{constructor(t,i,r){this.l=t,this.h=i,this.P=r,this.type="FirstParty",this.user=is.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class z8{constructor(t,i,r){this.l=t,this.h=i,this.P=r}getToken(){return Promise.resolve(new G8(this.l,this.h,this.P))}start(t,i){t.enqueueRetryable(()=>i(is.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class H8{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class W8{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,i){sn(this.o===void 0);const r=o=>{o.error!=null&&Yt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const a=o.token!==this.R;return this.R=o.token,Yt("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?i(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>r(o))};const s=o=>{Yt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?s(o):Yt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(i=>i?(sn(typeof i.token=="string"),this.R=i.token,new H8(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q8(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let r=0;r<n;r++)i[r]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const s=q8(40);for(let o=0;o<s.length;++o)r.length<20&&s[o]<i&&(r+=t.charAt(s[o]%t.length))}return r}}function zr(n,t){return n<t?-1:n>t?1:0}function nd(n,t,i){return n.length===t.length&&n.every((r,s)=>i(r,t[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new er(kt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new er(kt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<-62135596800)throw new er(kt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new er(kt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return ui.fromMillis(Date.now())}static fromDate(t){return ui.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*i));return new ui(i,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?zr(this.nanoseconds,t.nanoseconds):zr(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(t){this.timestamp=t}static fromTimestamp(t){return new pr(t)}static min(){return new pr(new ui(0,0))}static max(){return new pr(new ui(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(t,i,r){i===void 0?i=0:i>t.length&&dr(),r===void 0?r=t.length-i:r>t.length-i&&dr(),this.segments=t,this.offset=i,this.len=r}get length(){return this.len}isEqual(t){return cp.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof cp?t.forEach(r=>{i.push(r)}):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,r=this.limit();i<r;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const r=Math.min(t.length,i.length);for(let s=0;s<r;s++){const o=t.get(s),a=i.get(s);if(o<a)return-1;if(o>a)return 1}return t.length<i.length?-1:t.length>i.length?1:0}}class Rn extends cp{construct(t,i,r){return new Rn(t,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const r of t){if(r.indexOf("//")>=0)throw new er(kt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter(s=>s.length>0))}return new Rn(i)}static emptyPath(){return new Rn([])}}const Y8=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wi extends cp{construct(t,i,r){return new Wi(t,i,r)}static isValidIdentifier(t){return Y8.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wi.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Wi(["__name__"])}static fromServerFormat(t){const i=[];let r="",s=0;const o=()=>{if(r.length===0)throw new er(kt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let a=!1;for(;s<t.length;){const c=t[s];if(c==="\\"){if(s+1===t.length)throw new er(kt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new er(kt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=l,s+=2}else c==="`"?(a=!a,s++):c!=="."||a?(r+=c,s++):(o(),s++)}if(o(),a)throw new er(kt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Wi(i)}static emptyPath(){return new Wi([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(t){this.path=t}static fromPath(t){return new or(Rn.fromString(t))}static fromName(t){return new or(Rn.fromString(t).popFirst(5))}static empty(){return new or(Rn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Rn.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return Rn.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new or(new Rn(t.slice()))}}function $8(n,t){const i=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=pr.fromTimestamp(r===1e9?new ui(i+1,0):new ui(i,r));return new vc(s,or.empty(),t)}function X8(n){return new vc(n.readTime,n.key,-1)}class vc{constructor(t,i,r){this.readTime=t,this.documentKey=i,this.largestBatchId=r}static min(){return new vc(pr.min(),or.empty(),-1)}static max(){return new vc(pr.max(),or.empty(),-1)}}function K8(n,t){let i=n.readTime.compareTo(t.readTime);return i!==0?i:(i=or.comparator(n.documentKey,t.documentKey),i!==0?i:zr(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q8="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Z8{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lp(n){if(n.code!==kt.FAILED_PRECONDITION||n.message!==Q8)throw n;Yt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&dr(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new Mt((r,s)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(r,s)},this.catchCallback=o=>{this.wrapFailure(i,o).next(r,s)}})}toPromise(){return new Promise((t,i)=>{this.next(t,i)})}wrapUserFunction(t){try{const i=t();return i instanceof Mt?i:Mt.resolve(i)}catch(i){return Mt.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction(()=>t(i)):Mt.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction(()=>t(i)):Mt.reject(i)}static resolve(t){return new Mt((i,r)=>{i(t)})}static reject(t){return new Mt((i,r)=>{r(t)})}static waitFor(t){return new Mt((i,r)=>{let s=0,o=0,a=!1;t.forEach(c=>{++s,c.next(()=>{++o,a&&o===s&&i()},l=>r(l))}),a=!0,o===s&&i()})}static or(t){let i=Mt.resolve(!1);for(const r of t)i=i.next(s=>s?Mt.resolve(s):r());return i}static forEach(t,i){const r=[];return t.forEach((s,o)=>{r.push(i.call(this,s,o))}),this.waitFor(r)}static mapArray(t,i){return new Mt((r,s)=>{const o=t.length,a=new Array(o);let c=0;for(let l=0;l<o;l++){const u=l;i(t[u]).next(p=>{a[u]=p,++c,c===o&&r(a)},p=>s(p))}})}static doWhile(t,i){return new Mt((r,s)=>{const o=()=>{t()===!0?i().next(()=>{o()},s):r()};o()})}}function J8(n){const t=n.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Fp(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ie(r),this.se=r=>i.writeSequenceNumber(r))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}ux.oe=-1;function ry(n){return n==null}function ng(n){return n===0&&1/n==-1/0}function eU(n){return typeof n=="number"&&Number.isInteger(n)&&!ng(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YE(n){let t=0;for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&t++;return t}function _d(n,t){for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&t(i,n[i])}function OO(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let di=class z_{constructor(t,i){this.comparator=t,this.root=i||mc.EMPTY}insert(t,i){return new z_(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,mc.BLACK,null,null))}remove(t){return new z_(this.comparator,this.root.remove(t,this.comparator).copy(null,null,mc.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(t){let i=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(t,r.key);if(s===0)return i+r.left.size;s<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((i,r)=>(t(i,r),!1))}toString(){const t=[];return this.inorderTraversal((i,r)=>(t.push(`${i}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new n0(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new n0(this.root,t,this.comparator,!1)}getReverseIterator(){return new n0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new n0(this.root,t,this.comparator,!0)}},n0=class{constructor(t,i,r,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=i?r(t.key,i):1,i&&s&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}},mc=class sl{constructor(t,i,r,s,o){this.key=t,this.value=i,this.color=r??sl.RED,this.left=s??sl.EMPTY,this.right=o??sl.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,r,s,o){return new sl(t??this.key,i??this.value,r??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let s=this;const o=r(t,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(t,i,r),null):o===0?s.copy(null,i,null,null,null):s.copy(null,null,null,null,s.right.insert(t,i,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return sl.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let r,s=this;if(i(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,i),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),i(t,s.key)===0){if(s.right.isEmpty())return sl.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,i))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,sl.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,sl.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw dr();const t=this.left.check();if(t!==this.right.check())throw dr();return t+(this.isRed()?0:1)}};mc.EMPTY=null,mc.RED=!0,mc.BLACK=!1;mc.EMPTY=new class{constructor(){this.size=0}get key(){throw dr()}get value(){throw dr()}get color(){throw dr()}get left(){throw dr()}get right(){throw dr()}copy(t,i,r,s,o){return this}insert(t,i,r){return new mc(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(t){this.comparator=t,this.data=new di(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((i,r)=>(t(i),!1))}forEachInRange(t,i){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,t[1])>=0)return;i(s.key)}}forEachWhile(t,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new $E(this.data.getIterator())}getIteratorFrom(t){return new $E(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach(r=>{i=i.add(r)}),i}isEqual(t){if(!(t instanceof $i)||this.size!==t.size)return!1;const i=this.data.getIterator(),r=t.data.getIterator();for(;i.hasNext();){const s=i.getNext().key,o=r.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(i=>{t.push(i)}),t}toString(){const t=[];return this.forEach(i=>t.push(i)),"SortedSet("+t.toString()+")"}copy(t){const i=new $i(this.comparator);return i.data=t,i}}class $E{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(t){this.fields=t,t.sort(Wi.comparator)}static empty(){return new Ka([])}unionWith(t){let i=new $i(Wi.comparator);for(const r of this.fields)i=i.add(r);for(const r of t)i=i.add(r);return new Ka(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return nd(this.fields,t.fields,(i,r)=>i.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(t){this.binaryString=t}static fromBase64String(t){const i=function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new IO("Invalid base64 string: "+o):o}}(t);return new Ki(i)}static fromUint8Array(t){const i=function(s){let o="";for(let a=0;a<s.length;++a)o+=String.fromCharCode(s[a]);return o}(t);return new Ki(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const r=new Uint8Array(i.length);for(let s=0;s<i.length;s++)r[s]=i.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return zr(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ki.EMPTY_BYTE_STRING=new Ki("");const tU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _c(n){if(sn(!!n),typeof n=="string"){let t=0;const i=tU.exec(n);if(sn(!!i),i[1]){let s=i[1];s=(s+"000000000").substr(0,9),t=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:$n(n.seconds),nanos:$n(n.nanos)}}function $n(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Su(n){return typeof n=="string"?Ki.fromBase64String(n):Ki.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hx(n){var t,i;return((i=(((t=n==null?void 0:n.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||i===void 0?void 0:i.stringValue)==="server_timestamp"}function dx(n){const t=n.mapValue.fields.__previous_value__;return hx(t)?dx(t):t}function up(n){const t=_c(n.mapValue.fields.__local_write_time__.timestampValue);return new ui(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rU{constructor(t,i,r,s,o,a,c,l,u){this.databaseId=t,this.appId=i,this.persistenceKey=r,this.host=s,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=c,this.longPollingOptions=l,this.useFetchStreams=u}}class hp{constructor(t,i){this.projectId=t,this.database=i||"(default)"}static empty(){return new hp("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof hp&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Tu(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?hx(n)?4:iU(n)?9007199254740991:nU(n)?10:11:dr()}function jo(n,t){if(n===t)return!0;const i=Tu(n);if(i!==Tu(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return up(n).isEqual(up(t));case 3:return function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const a=_c(s.timestampValue),c=_c(o.timestampValue);return a.seconds===c.seconds&&a.nanos===c.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return function(s,o){return Su(s.bytesValue).isEqual(Su(o.bytesValue))}(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return function(s,o){return $n(s.geoPointValue.latitude)===$n(o.geoPointValue.latitude)&&$n(s.geoPointValue.longitude)===$n(o.geoPointValue.longitude)}(n,t);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return $n(s.integerValue)===$n(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const a=$n(s.doubleValue),c=$n(o.doubleValue);return a===c?ng(a)===ng(c):isNaN(a)&&isNaN(c)}return!1}(n,t);case 9:return nd(n.arrayValue.values||[],t.arrayValue.values||[],jo);case 10:case 11:return function(s,o){const a=s.mapValue.fields||{},c=o.mapValue.fields||{};if(YE(a)!==YE(c))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(c[l]===void 0||!jo(a[l],c[l])))return!1;return!0}(n,t);default:return dr()}}function dp(n,t){return(n.values||[]).find(i=>jo(i,t))!==void 0}function id(n,t){if(n===t)return 0;const i=Tu(n),r=Tu(t);if(i!==r)return zr(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return zr(n.booleanValue,t.booleanValue);case 2:return function(o,a){const c=$n(o.integerValue||o.doubleValue),l=$n(a.integerValue||a.doubleValue);return c<l?-1:c>l?1:c===l?0:isNaN(c)?isNaN(l)?0:-1:1}(n,t);case 3:return XE(n.timestampValue,t.timestampValue);case 4:return XE(up(n),up(t));case 5:return zr(n.stringValue,t.stringValue);case 6:return function(o,a){const c=Su(o),l=Su(a);return c.compareTo(l)}(n.bytesValue,t.bytesValue);case 7:return function(o,a){const c=o.split("/"),l=a.split("/");for(let u=0;u<c.length&&u<l.length;u++){const p=zr(c[u],l[u]);if(p!==0)return p}return zr(c.length,l.length)}(n.referenceValue,t.referenceValue);case 8:return function(o,a){const c=zr($n(o.latitude),$n(a.latitude));return c!==0?c:zr($n(o.longitude),$n(a.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return KE(n.arrayValue,t.arrayValue);case 10:return function(o,a){var c,l,u,p;const y=o.fields||{},d=a.fields||{},f=(c=y.value)===null||c===void 0?void 0:c.arrayValue,b=(l=d.value)===null||l===void 0?void 0:l.arrayValue,g=zr(((u=f==null?void 0:f.values)===null||u===void 0?void 0:u.length)||0,((p=b==null?void 0:b.values)===null||p===void 0?void 0:p.length)||0);return g!==0?g:KE(f,b)}(n.mapValue,t.mapValue);case 11:return function(o,a){if(o===i0.mapValue&&a===i0.mapValue)return 0;if(o===i0.mapValue)return 1;if(a===i0.mapValue)return-1;const c=o.fields||{},l=Object.keys(c),u=a.fields||{},p=Object.keys(u);l.sort(),p.sort();for(let y=0;y<l.length&&y<p.length;++y){const d=zr(l[y],p[y]);if(d!==0)return d;const f=id(c[l[y]],u[p[y]]);if(f!==0)return f}return zr(l.length,p.length)}(n.mapValue,t.mapValue);default:throw dr()}}function XE(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return zr(n,t);const i=_c(n),r=_c(t),s=zr(i.seconds,r.seconds);return s!==0?s:zr(i.nanos,r.nanos)}function KE(n,t){const i=n.values||[],r=t.values||[];for(let s=0;s<i.length&&s<r.length;++s){const o=id(i[s],r[s]);if(o)return o}return zr(i.length,r.length)}function sd(n){return H_(n)}function H_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=_c(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(i){return Su(i).toBase64()}(n.bytesValue):"referenceValue"in n?function(i){return or.fromName(i).toString()}(n.referenceValue):"geoPointValue"in n?function(i){return`geo(${i.latitude},${i.longitude})`}(n.geoPointValue):"arrayValue"in n?function(i){let r="[",s=!0;for(const o of i.values||[])s?s=!1:r+=",",r+=H_(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let s="{",o=!0;for(const a of r)o?o=!1:s+=",",s+=`${a}:${H_(i.fields[a])}`;return s+"}"}(n.mapValue):dr()}function W_(n){return!!n&&"integerValue"in n}function fx(n){return!!n&&"arrayValue"in n}function QE(n){return!!n&&"nullValue"in n}function ZE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function N0(n){return!!n&&"mapValue"in n}function nU(n){var t,i;return((i=(((t=n==null?void 0:n.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||i===void 0?void 0:i.stringValue)==="__vector__"}function Uf(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return _d(n.mapValue.fields,(i,r)=>t.mapValue.fields[i]=Uf(r)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(n.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Uf(n.arrayValue.values[i]);return t}return Object.assign({},n)}function iU(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(t){this.value=t}static empty(){return new Ea({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let r=0;r<t.length-1;++r)if(i=(i.mapValue.fields||{})[t.get(r)],!N0(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Uf(i)}setAll(t){let i=Wi.emptyPath(),r={},s=[];t.forEach((a,c)=>{if(!i.isImmediateParentOf(c)){const l=this.getFieldsMap(i);this.applyChanges(l,r,s),r={},s=[],i=c.popLast()}a?r[c.lastSegment()]=Uf(a):s.push(c.lastSegment())});const o=this.getFieldsMap(i);this.applyChanges(o,r,s)}delete(t){const i=this.field(t.popLast());N0(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return jo(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<t.length;++r){let s=i.mapValue.fields[t.get(r)];N0(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},i.mapValue.fields[t.get(r)]=s),i=s}return i.mapValue.fields}applyChanges(t,i,r){_d(i,(s,o)=>t[s]=o);for(const s of r)delete t[s]}clone(){return new Ea(Uf(this.value))}}function kO(n){const t=[];return _d(n.fields,(i,r)=>{const s=new Wi([i]);if(N0(r)){const o=kO(r.mapValue).fields;if(o.length===0)t.push(s);else for(const a of o)t.push(s.child(a))}else t.push(s)}),new Ka(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(t,i,r,s,o,a,c){this.key=t,this.documentType=i,this.version=r,this.readTime=s,this.createTime=o,this.data=a,this.documentState=c}static newInvalidDocument(t){return new ss(t,0,pr.min(),pr.min(),pr.min(),Ea.empty(),0)}static newFoundDocument(t,i,r,s){return new ss(t,1,i,pr.min(),r,s,0)}static newNoDocument(t,i){return new ss(t,2,i,pr.min(),pr.min(),Ea.empty(),0)}static newUnknownDocument(t,i){return new ss(t,3,i,pr.min(),pr.min(),Ea.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(pr.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Ea.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Ea.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pr.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ss&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ss(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(t,i){this.position=t,this.inclusive=i}}function JE(n,t,i){let r=0;for(let s=0;s<n.position.length;s++){const o=t[s],a=n.position[s];if(o.field.isKeyField()?r=or.comparator(or.fromName(a.referenceValue),i.key):r=id(a,i.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function eC(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let i=0;i<n.position.length;i++)if(!jo(n.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(t,i="asc"){this.field=t,this.dir=i}}function sU(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{}class xi extends MO{constructor(t,i,r){super(),this.field=t,this.op=i,this.value=r}static create(t,i,r){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,r):new oU(t,i,r):i==="array-contains"?new uU(t,r):i==="in"?new hU(t,r):i==="not-in"?new dU(t,r):i==="array-contains-any"?new fU(t,r):new xi(t,i,r)}static createKeyFieldInFilter(t,i,r){return i==="in"?new lU(t,r):new cU(t,r)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(id(i,this.value)):i!==null&&Tu(this.value)===Tu(i)&&this.matchesComparison(id(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return dr()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ro extends MO{constructor(t,i){super(),this.filters=t,this.op=i,this.ae=null}static create(t,i){return new Ro(t,i)}matches(t){return PO(this)?this.filters.find(i=>!i.matches(t))===void 0:this.filters.find(i=>i.matches(t))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((t,i)=>t.concat(i.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function PO(n){return n.op==="and"}function DO(n){return aU(n)&&PO(n)}function aU(n){for(const t of n.filters)if(t instanceof Ro)return!1;return!0}function q_(n){if(n instanceof xi)return n.field.canonicalString()+n.op.toString()+sd(n.value);if(DO(n))return n.filters.map(t=>q_(t)).join(",");{const t=n.filters.map(i=>q_(i)).join(",");return`${n.op}(${t})`}}function NO(n,t){return n instanceof xi?function(r,s){return s instanceof xi&&r.op===s.op&&r.field.isEqual(s.field)&&jo(r.value,s.value)}(n,t):n instanceof Ro?function(r,s){return s instanceof Ro&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((o,a,c)=>o&&NO(a,s.filters[c]),!0):!1}(n,t):void dr()}function LO(n){return n instanceof xi?function(i){return`${i.field.canonicalString()} ${i.op} ${sd(i.value)}`}(n):n instanceof Ro?function(i){return i.op.toString()+" {"+i.getFilters().map(LO).join(" ,")+"}"}(n):"Filter"}class oU extends xi{constructor(t,i,r){super(t,i,r),this.key=or.fromName(r.referenceValue)}matches(t){const i=or.comparator(t.key,this.key);return this.matchesComparison(i)}}class lU extends xi{constructor(t,i){super(t,"in",i),this.keys=FO("in",i)}matches(t){return this.keys.some(i=>i.isEqual(t.key))}}class cU extends xi{constructor(t,i){super(t,"not-in",i),this.keys=FO("not-in",i)}matches(t){return!this.keys.some(i=>i.isEqual(t.key))}}function FO(n,t){var i;return(((i=t.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(r=>or.fromName(r.referenceValue))}class uU extends xi{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return fx(i)&&dp(i.arrayValue,this.value)}}class hU extends xi{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&dp(this.value.arrayValue,i)}}class dU extends xi{constructor(t,i){super(t,"not-in",i)}matches(t){if(dp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&!dp(this.value.arrayValue,i)}}class fU extends xi{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!fx(i)||!i.arrayValue.values)&&i.arrayValue.values.some(r=>dp(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pU{constructor(t,i=null,r=[],s=[],o=null,a=null,c=null){this.path=t,this.collectionGroup=i,this.orderBy=r,this.filters=s,this.limit=o,this.startAt=a,this.endAt=c,this.ue=null}}function tC(n,t=null,i=[],r=[],s=null,o=null,a=null){return new pU(n,t,i,r,s,o,a)}function px(n){const t=mr(n);if(t.ue===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map(r=>q_(r)).join(","),i+="|ob:",i+=t.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),ry(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(r=>sd(r)).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(r=>sd(r)).join(",")),t.ue=i}return t.ue}function mx(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!sU(n.orderBy[i],t.orderBy[i]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if(!NO(n.filters[i],t.filters[i]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!eC(n.startAt,t.startAt)&&eC(n.endAt,t.endAt)}function Y_(n){return or.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(t,i=null,r=[],s=[],o=null,a="F",c=null,l=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=s,this.limit=o,this.limitType=a,this.startAt=c,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function mU(n,t,i,r,s,o,a,c){return new ny(n,t,i,r,s,o,a,c)}function gx(n){return new ny(n)}function rC(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function gU(n){return n.collectionGroup!==null}function Bf(n){const t=mr(n);if(t.ce===null){t.ce=[];const i=new Set;for(const o of t.explicitOrderBy)t.ce.push(o),i.add(o.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(a){let c=new $i(Wi.comparator);return a.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(c=c.add(u.field))})}),c})(t).forEach(o=>{i.has(o.canonicalString())||o.isKeyField()||t.ce.push(new sg(o,r))}),i.has(Wi.keyField().canonicalString())||t.ce.push(new sg(Wi.keyField(),r))}return t.ce}function To(n){const t=mr(n);return t.le||(t.le=yU(t,Bf(n))),t.le}function yU(n,t){if(n.limitType==="F")return tC(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(s=>{const o=s.dir==="desc"?"asc":"desc";return new sg(s.field,o)});const i=n.endAt?new ig(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new ig(n.startAt.position,n.startAt.inclusive):null;return tC(n.path,n.collectionGroup,t,n.filters,n.limit,i,r)}}function $_(n,t,i){return new ny(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,i,n.startAt,n.endAt)}function iy(n,t){return mx(To(n),To(t))&&n.limitType===t.limitType}function UO(n){return`${px(To(n))}|lt:${n.limitType}`}function Lh(n){return`Query(target=${function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map(s=>LO(s)).join(", ")}]`),ry(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map(s=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(s)).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map(s=>sd(s)).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map(s=>sd(s)).join(",")),`Target(${r})`}(To(n))}; limitType=${n.limitType})`}function sy(n,t){return t.isFoundDocument()&&function(r,s){const o=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):or.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,t)&&function(r,s){for(const o of Bf(r))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0}(n,t)&&function(r,s){for(const o of r.filters)if(!o.matches(s))return!1;return!0}(n,t)&&function(r,s){return!(r.startAt&&!function(a,c,l){const u=JE(a,c,l);return a.inclusive?u<=0:u<0}(r.startAt,Bf(r),s)||r.endAt&&!function(a,c,l){const u=JE(a,c,l);return a.inclusive?u>=0:u>0}(r.endAt,Bf(r),s))}(n,t)}function vU(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function BO(n){return(t,i)=>{let r=!1;for(const s of Bf(n)){const o=_U(s,t,i);if(o!==0)return o;r=r||s.field.isKeyField()}return 0}}function _U(n,t,i){const r=n.field.isKeyField()?or.comparator(t.key,i.key):function(o,a,c){const l=a.data.field(o),u=c.data.field(o);return l!==null&&u!==null?id(l,u):dr()}(n.field,t,i);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return dr()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r!==void 0){for(const[s,o]of r)if(this.equalsFn(s,t))return o}}has(t){return this.get(t)!==void 0}set(t,i){const r=this.mapKeyFn(t),s=this.inner[r];if(s===void 0)return this.inner[r]=[[t,i]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return void(s[o]=[t,i]);s.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return r.length===1?delete this.inner[i]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(t){_d(this.inner,(i,r)=>{for(const[s,o]of r)t(s,o)})}isEmpty(){return OO(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bU=new di(or.comparator);function Sl(){return bU}const VO=new di(or.comparator);function Mf(...n){let t=VO;for(const i of n)t=t.insert(i.key,i);return t}function GO(n){let t=VO;return n.forEach((i,r)=>t=t.insert(i,r.overlayedDocument)),t}function du(){return Vf()}function zO(){return Vf()}function Vf(){return new bd(n=>n.toString(),(n,t)=>n.isEqual(t))}const xU=new di(or.comparator),wU=new $i(or.comparator);function Ar(...n){let t=wU;for(const i of n)t=t.add(i);return t}const SU=new $i(zr);function TU(){return SU}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yx(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ng(t)?"-0":t}}function HO(n){return{integerValue:""+n}}function EU(n,t){return eU(t)?HO(t):yx(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{constructor(){this._=void 0}}function CU(n,t,i){return n instanceof ag?function(s,o){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&hx(o)&&(o=dx(o)),o&&(a.fields.__previous_value__=o),{mapValue:a}}(i,t):n instanceof fp?qO(n,t):n instanceof pp?YO(n,t):function(s,o){const a=WO(s,o),c=nC(a)+nC(s.Pe);return W_(a)&&W_(s.Pe)?HO(c):yx(s.serializer,c)}(n,t)}function AU(n,t,i){return n instanceof fp?qO(n,t):n instanceof pp?YO(n,t):i}function WO(n,t){return n instanceof og?function(r){return W_(r)||function(o){return!!o&&"doubleValue"in o}(r)}(t)?t:{integerValue:0}:null}class ag extends ay{}class fp extends ay{constructor(t){super(),this.elements=t}}function qO(n,t){const i=$O(t);for(const r of n.elements)i.some(s=>jo(s,r))||i.push(r);return{arrayValue:{values:i}}}class pp extends ay{constructor(t){super(),this.elements=t}}function YO(n,t){let i=$O(t);for(const r of n.elements)i=i.filter(s=>!jo(s,r));return{arrayValue:{values:i}}}class og extends ay{constructor(t,i){super(),this.serializer=t,this.Pe=i}}function nC(n){return $n(n.integerValue||n.doubleValue)}function $O(n){return fx(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function jU(n,t){return n.field.isEqual(t.field)&&function(r,s){return r instanceof fp&&s instanceof fp||r instanceof pp&&s instanceof pp?nd(r.elements,s.elements,jo):r instanceof og&&s instanceof og?jo(r.Pe,s.Pe):r instanceof ag&&s instanceof ag}(n.transform,t.transform)}class RU{constructor(t,i){this.version=t,this.transformResults=i}}class Eo{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Eo}static exists(t){return new Eo(void 0,t)}static updateTime(t){return new Eo(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function L0(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class oy{}function XO(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new QO(n.key,Eo.none()):new Up(n.key,n.data,Eo.none());{const i=n.data,r=Ea.empty();let s=new $i(Wi.comparator);for(let o of t.fields)if(!s.has(o)){let a=i.field(o);a===null&&o.length>1&&(o=o.popLast(),a=i.field(o)),a===null?r.delete(o):r.set(o,a),s=s.add(o)}return new Bu(n.key,r,new Ka(s.toArray()),Eo.none())}}function OU(n,t,i){n instanceof Up?function(s,o,a){const c=s.value.clone(),l=sC(s.fieldTransforms,o,a.transformResults);c.setAll(l),o.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(n,t,i):n instanceof Bu?function(s,o,a){if(!L0(s.precondition,o))return void o.convertToUnknownDocument(a.version);const c=sC(s.fieldTransforms,o,a.transformResults),l=o.data;l.setAll(KO(s)),l.setAll(c),o.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(n,t,i):function(s,o,a){o.convertToNoDocument(a.version).setHasCommittedMutations()}(0,t,i)}function Gf(n,t,i,r){return n instanceof Up?function(o,a,c,l){if(!L0(o.precondition,a))return c;const u=o.value.clone(),p=aC(o.fieldTransforms,l,a);return u.setAll(p),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),null}(n,t,i,r):n instanceof Bu?function(o,a,c,l){if(!L0(o.precondition,a))return c;const u=aC(o.fieldTransforms,l,a),p=a.data;return p.setAll(KO(o)),p.setAll(u),a.convertToFoundDocument(a.version,p).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(y=>y.field))}(n,t,i,r):function(o,a,c){return L0(o.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):c}(n,t,i)}function IU(n,t){let i=null;for(const r of n.fieldTransforms){const s=t.data.field(r.field),o=WO(r.transform,s||null);o!=null&&(i===null&&(i=Ea.empty()),i.set(r.field,o))}return i||null}function iC(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&nd(r,s,(o,a)=>jU(o,a))}(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class Up extends oy{constructor(t,i,r,s=[]){super(),this.key=t,this.value=i,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Bu extends oy{constructor(t,i,r,s,o=[]){super(),this.key=t,this.data=i,this.fieldMask=r,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function KO(n){const t=new Map;return n.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const r=n.data.field(i);t.set(i,r)}}),t}function sC(n,t,i){const r=new Map;sn(n.length===i.length);for(let s=0;s<i.length;s++){const o=n[s],a=o.transform,c=t.data.field(o.field);r.set(o.field,AU(a,c,i[s]))}return r}function aC(n,t,i){const r=new Map;for(const s of n){const o=s.transform,a=i.data.field(s.field);r.set(s.field,CU(o,a,t))}return r}class QO extends oy{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class kU extends oy{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MU{constructor(t,i,r,s){this.batchId=t,this.localWriteTime=i,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(t,i){const r=i.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(t.key)&&OU(o,t,r[s])}}applyToLocalView(t,i){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(i=Gf(r,t,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(i=Gf(r,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const r=zO();return this.mutations.forEach(s=>{const o=t.get(s.key),a=o.overlayedDocument;let c=this.applyToLocalView(a,o.mutatedFields);c=i.has(s.key)?null:c;const l=XO(a,c);l!==null&&r.set(s.key,l),a.isValidDocument()||a.convertToNoDocument(pr.min())}),r}keys(){return this.mutations.reduce((t,i)=>t.add(i.key),Ar())}isEqual(t){return this.batchId===t.batchId&&nd(this.mutations,t.mutations,(i,r)=>iC(i,r))&&nd(this.baseMutations,t.baseMutations,(i,r)=>iC(i,r))}}class vx{constructor(t,i,r,s){this.batch=t,this.commitVersion=i,this.mutationResults=r,this.docVersions=s}static from(t,i,r){sn(t.mutations.length===r.length);let s=function(){return xU}();const o=t.mutations;for(let a=0;a<o.length;a++)s=s.insert(o[a].key,r[a].version);return new vx(t,i,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PU{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DU{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var si,Dr;function NU(n){switch(n){default:return dr();case kt.CANCELLED:case kt.UNKNOWN:case kt.DEADLINE_EXCEEDED:case kt.RESOURCE_EXHAUSTED:case kt.INTERNAL:case kt.UNAVAILABLE:case kt.UNAUTHENTICATED:return!1;case kt.INVALID_ARGUMENT:case kt.NOT_FOUND:case kt.ALREADY_EXISTS:case kt.PERMISSION_DENIED:case kt.FAILED_PRECONDITION:case kt.ABORTED:case kt.OUT_OF_RANGE:case kt.UNIMPLEMENTED:case kt.DATA_LOSS:return!0}}function ZO(n){if(n===void 0)return wl("GRPC error has no .code"),kt.UNKNOWN;switch(n){case si.OK:return kt.OK;case si.CANCELLED:return kt.CANCELLED;case si.UNKNOWN:return kt.UNKNOWN;case si.DEADLINE_EXCEEDED:return kt.DEADLINE_EXCEEDED;case si.RESOURCE_EXHAUSTED:return kt.RESOURCE_EXHAUSTED;case si.INTERNAL:return kt.INTERNAL;case si.UNAVAILABLE:return kt.UNAVAILABLE;case si.UNAUTHENTICATED:return kt.UNAUTHENTICATED;case si.INVALID_ARGUMENT:return kt.INVALID_ARGUMENT;case si.NOT_FOUND:return kt.NOT_FOUND;case si.ALREADY_EXISTS:return kt.ALREADY_EXISTS;case si.PERMISSION_DENIED:return kt.PERMISSION_DENIED;case si.FAILED_PRECONDITION:return kt.FAILED_PRECONDITION;case si.ABORTED:return kt.ABORTED;case si.OUT_OF_RANGE:return kt.OUT_OF_RANGE;case si.UNIMPLEMENTED:return kt.UNIMPLEMENTED;case si.DATA_LOSS:return kt.DATA_LOSS;default:return dr()}}(Dr=si||(si={}))[Dr.OK=0]="OK",Dr[Dr.CANCELLED=1]="CANCELLED",Dr[Dr.UNKNOWN=2]="UNKNOWN",Dr[Dr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Dr[Dr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Dr[Dr.NOT_FOUND=5]="NOT_FOUND",Dr[Dr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Dr[Dr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Dr[Dr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Dr[Dr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Dr[Dr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Dr[Dr.ABORTED=10]="ABORTED",Dr[Dr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Dr[Dr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Dr[Dr.INTERNAL=13]="INTERNAL",Dr[Dr.UNAVAILABLE=14]="UNAVAILABLE",Dr[Dr.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LU(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FU=new vu([4294967295,4294967295],0);function oC(n){const t=LU().encode(n),i=new wO;return i.update(t),new Uint8Array(i.digest())}function lC(n){const t=new DataView(n.buffer),i=t.getUint32(0,!0),r=t.getUint32(4,!0),s=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new vu([i,r],0),new vu([s,o],0)]}class _x{constructor(t,i,r){if(this.bitmap=t,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Pf(`Invalid padding: ${i}`);if(r<0)throw new Pf(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Pf(`Invalid hash count: ${r}`);if(t.length===0&&i!==0)throw new Pf(`Invalid padding when bitmap length is 0: ${i}`);this.Ie=8*t.length-i,this.Te=vu.fromNumber(this.Ie)}Ee(t,i,r){let s=t.add(i.multiply(vu.fromNumber(r)));return s.compare(FU)===1&&(s=new vu([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Ie===0)return!1;const i=oC(t),[r,s]=lC(i);for(let o=0;o<this.hashCount;o++){const a=this.Ee(r,s,o);if(!this.de(a))return!1}return!0}static create(t,i,r){const s=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),a=new _x(o,s,i);return r.forEach(c=>a.insert(c)),a}insert(t){if(this.Ie===0)return;const i=oC(t),[r,s]=lC(i);for(let o=0;o<this.hashCount;o++){const a=this.Ee(r,s,o);this.Ae(a)}}Ae(t){const i=Math.floor(t/8),r=t%8;this.bitmap[i]|=1<<r}}class Pf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(t,i,r,s,o){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,i,r){const s=new Map;return s.set(t,Bp.createSynthesizedTargetChangeForCurrentChange(t,i,r)),new ly(pr.min(),s,new di(zr),Sl(),Ar())}}class Bp{constructor(t,i,r,s,o){this.resumeToken=t,this.current=i,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,i,r){return new Bp(r,i,Ar(),Ar(),Ar())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(t,i,r,s){this.Re=t,this.removedTargetIds=i,this.key=r,this.Ve=s}}class JO{constructor(t,i){this.targetId=t,this.me=i}}class eI{constructor(t,i,r=Ki.EMPTY_BYTE_STRING,s=null){this.state=t,this.targetIds=i,this.resumeToken=r,this.cause=s}}class cC{constructor(){this.fe=0,this.ge=hC(),this.pe=Ki.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}ve(){let t=Ar(),i=Ar(),r=Ar();return this.ge.forEach((s,o)=>{switch(o){case 0:t=t.add(s);break;case 2:i=i.add(s);break;case 1:r=r.add(s);break;default:dr()}}),new Bp(this.pe,this.ye,t,i,r)}Ce(){this.we=!1,this.ge=hC()}Fe(t,i){this.we=!0,this.ge=this.ge.insert(t,i)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,sn(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class UU{constructor(t){this.Le=t,this.Be=new Map,this.ke=Sl(),this.qe=uC(),this.Qe=new di(zr)}Ke(t){for(const i of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(i,t.Ve):this.Ue(i,t.key,t.Ve);for(const i of t.removedTargetIds)this.Ue(i,t.key,t.Ve)}We(t){this.forEachTarget(t,i=>{const r=this.Ge(i);switch(t.state){case 0:this.ze(i)&&r.De(t.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(t.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(i);break;case 3:this.ze(i)&&(r.Ne(),r.De(t.resumeToken));break;case 4:this.ze(i)&&(this.je(i),r.De(t.resumeToken));break;default:dr()}})}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.Be.forEach((r,s)=>{this.ze(s)&&i(s)})}He(t){const i=t.targetId,r=t.me.count,s=this.Je(i);if(s){const o=s.target;if(Y_(o))if(r===0){const a=new or(o.path);this.Ue(i,a,ss.newNoDocument(a,pr.min()))}else sn(r===1);else{const a=this.Ye(i);if(a!==r){const c=this.Ze(t),l=c?this.Xe(c,t,a):1;if(l!==0){this.je(i);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(i,u)}}}}}Ze(t){const i=t.me.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:o=0}=i;let a,c;try{a=Su(r).toUint8Array()}catch(l){if(l instanceof IO)return rd("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{c=new _x(a,s,o)}catch(l){return rd(l instanceof Pf?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return c.Ie===0?null:c}Xe(t,i,r){return i.me.count===r-this.nt(t,i.targetId)?0:2}nt(t,i){const r=this.Le.getRemoteKeysForTarget(i);let s=0;return r.forEach(o=>{const a=this.Le.tt(),c=`projects/${a.projectId}/databases/${a.database}/documents/${o.path.canonicalString()}`;t.mightContain(c)||(this.Ue(i,o,null),s++)}),s}rt(t){const i=new Map;this.Be.forEach((o,a)=>{const c=this.Je(a);if(c){if(o.current&&Y_(c.target)){const l=new or(c.target.path);this.ke.get(l)!==null||this.it(a,l)||this.Ue(a,l,ss.newNoDocument(l,t))}o.be&&(i.set(a,o.ve()),o.Ce())}});let r=Ar();this.qe.forEach((o,a)=>{let c=!0;a.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(o))}),this.ke.forEach((o,a)=>a.setReadTime(t));const s=new ly(t,i,this.Qe,this.ke,r);return this.ke=Sl(),this.qe=uC(),this.Qe=new di(zr),s}$e(t,i){if(!this.ze(t))return;const r=this.it(t,i.key)?2:0;this.Ge(t).Fe(i.key,r),this.ke=this.ke.insert(i.key,i),this.qe=this.qe.insert(i.key,this.st(i.key).add(t))}Ue(t,i,r){if(!this.ze(t))return;const s=this.Ge(t);this.it(t,i)?s.Fe(i,1):s.Me(i),this.qe=this.qe.insert(i,this.st(i).delete(t)),r&&(this.ke=this.ke.insert(i,r))}removeTarget(t){this.Be.delete(t)}Ye(t){const i=this.Ge(t).ve();return this.Le.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let i=this.Be.get(t);return i||(i=new cC,this.Be.set(t,i)),i}st(t){let i=this.qe.get(t);return i||(i=new $i(zr),this.qe=this.qe.insert(t,i)),i}ze(t){const i=this.Je(t)!==null;return i||Yt("WatchChangeAggregator","Detected inactive target",t),i}Je(t){const i=this.Be.get(t);return i&&i.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new cC),this.Le.getRemoteKeysForTarget(t).forEach(i=>{this.Ue(t,i,null)})}it(t,i){return this.Le.getRemoteKeysForTarget(t).has(i)}}function uC(){return new di(or.comparator)}function hC(){return new di(or.comparator)}const BU={asc:"ASCENDING",desc:"DESCENDING"},VU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},GU={and:"AND",or:"OR"};class zU{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function X_(n,t){return n.useProto3Json||ry(t)?t:{value:t}}function lg(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function tI(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function HU(n,t){return lg(n,t.toTimestamp())}function Co(n){return sn(!!n),pr.fromTimestamp(function(i){const r=_c(i);return new ui(r.seconds,r.nanos)}(n))}function bx(n,t){return K_(n,t).canonicalString()}function K_(n,t){const i=function(s){return new Rn(["projects",s.projectId,"databases",s.database])}(n).child("documents");return t===void 0?i:i.child(t)}function rI(n){const t=Rn.fromString(n);return sn(oI(t)),t}function Q_(n,t){return bx(n.databaseId,t.path)}function B1(n,t){const i=rI(t);if(i.get(1)!==n.databaseId.projectId)throw new er(kt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+n.databaseId.projectId);if(i.get(3)!==n.databaseId.database)throw new er(kt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+n.databaseId.database);return new or(iI(i))}function nI(n,t){return bx(n.databaseId,t)}function WU(n){const t=rI(n);return t.length===4?Rn.emptyPath():iI(t)}function Z_(n){return new Rn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function iI(n){return sn(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function dC(n,t,i){return{name:Q_(n,t),fields:i.value.mapValue.fields}}function qU(n,t){let i;if("targetChange"in t){t.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:dr()}(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],o=function(u,p){return u.useProto3Json?(sn(p===void 0||typeof p=="string"),Ki.fromBase64String(p||"")):(sn(p===void 0||p instanceof Buffer||p instanceof Uint8Array),Ki.fromUint8Array(p||new Uint8Array))}(n,t.targetChange.resumeToken),a=t.targetChange.cause,c=a&&function(u){const p=u.code===void 0?kt.UNKNOWN:ZO(u.code);return new er(p,u.message||"")}(a);i=new eI(r,s,o,c||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const s=B1(n,r.document.name),o=Co(r.document.updateTime),a=r.document.createTime?Co(r.document.createTime):pr.min(),c=new Ea({mapValue:{fields:r.document.fields}}),l=ss.newFoundDocument(s,o,a,c),u=r.targetIds||[],p=r.removedTargetIds||[];i=new F0(u,p,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const s=B1(n,r.document),o=r.readTime?Co(r.readTime):pr.min(),a=ss.newNoDocument(s,o),c=r.removedTargetIds||[];i=new F0([],c,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const s=B1(n,r.document),o=r.removedTargetIds||[];i=new F0([],o,s,null)}else{if(!("filter"in t))return dr();{t.filter;const r=t.filter;r.targetId;const{count:s=0,unchangedNames:o}=r,a=new DU(s,o),c=r.targetId;i=new JO(c,a)}}return i}function YU(n,t){let i;if(t instanceof Up)i={update:dC(n,t.key,t.value)};else if(t instanceof QO)i={delete:Q_(n,t.key)};else if(t instanceof Bu)i={update:dC(n,t.key,t.data),updateMask:rB(t.fieldMask)};else{if(!(t instanceof kU))return dr();i={verify:Q_(n,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map(r=>function(o,a){const c=a.transform;if(c instanceof ag)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof fp)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof pp)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof og)return{fieldPath:a.field.canonicalString(),increment:c.Pe};throw dr()}(0,r))),t.precondition.isNone||(i.currentDocument=function(s,o){return o.updateTime!==void 0?{updateTime:HU(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:dr()}(n,t.precondition)),i}function $U(n,t){return n&&n.length>0?(sn(t!==void 0),n.map(i=>function(s,o){let a=s.updateTime?Co(s.updateTime):Co(o);return a.isEqual(pr.min())&&(a=Co(o)),new RU(a,s.transformResults||[])}(i,t))):[]}function XU(n,t){return{documents:[nI(n,t.path)]}}function KU(n,t){const i={structuredQuery:{}},r=t.path;let s;t.collectionGroup!==null?(s=r,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(s=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=nI(n,s);const o=function(u){if(u.length!==0)return aI(Ro.create(u,"and"))}(t.filters);o&&(i.structuredQuery.where=o);const a=function(u){if(u.length!==0)return u.map(p=>function(d){return{field:Fh(d.field),direction:JU(d.dir)}}(p))}(t.orderBy);a&&(i.structuredQuery.orderBy=a);const c=X_(n,t.limit);return c!==null&&(i.structuredQuery.limit=c),t.startAt&&(i.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(t.startAt)),t.endAt&&(i.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(t.endAt)),{_t:i,parent:s}}function QU(n){let t=WU(n.parent);const i=n.structuredQuery,r=i.from?i.from.length:0;let s=null;if(r>0){sn(r===1);const p=i.from[0];p.allDescendants?s=p.collectionId:t=t.child(p.collectionId)}let o=[];i.where&&(o=function(y){const d=sI(y);return d instanceof Ro&&DO(d)?d.getFilters():[d]}(i.where));let a=[];i.orderBy&&(a=function(y){return y.map(d=>function(b){return new sg(Uh(b.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(d))}(i.orderBy));let c=null;i.limit&&(c=function(y){let d;return d=typeof y=="object"?y.value:y,ry(d)?null:d}(i.limit));let l=null;i.startAt&&(l=function(y){const d=!!y.before,f=y.values||[];return new ig(f,d)}(i.startAt));let u=null;return i.endAt&&(u=function(y){const d=!y.before,f=y.values||[];return new ig(f,d)}(i.endAt)),mU(t,s,a,o,c,"F",l,u)}function ZU(n,t){const i=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return dr()}}(t.purpose);return i==null?null:{"goog-listen-tags":i}}function sI(n){return n.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=Uh(i.unaryFilter.field);return xi.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Uh(i.unaryFilter.field);return xi.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Uh(i.unaryFilter.field);return xi.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Uh(i.unaryFilter.field);return xi.create(a,"!=",{nullValue:"NULL_VALUE"});default:return dr()}}(n):n.fieldFilter!==void 0?function(i){return xi.create(Uh(i.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return dr()}}(i.fieldFilter.op),i.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(i){return Ro.create(i.compositeFilter.filters.map(r=>sI(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return dr()}}(i.compositeFilter.op))}(n):dr()}function JU(n){return BU[n]}function eB(n){return VU[n]}function tB(n){return GU[n]}function Fh(n){return{fieldPath:n.canonicalString()}}function Uh(n){return Wi.fromServerFormat(n.fieldPath)}function aI(n){return n instanceof xi?function(i){if(i.op==="=="){if(ZE(i.value))return{unaryFilter:{field:Fh(i.field),op:"IS_NAN"}};if(QE(i.value))return{unaryFilter:{field:Fh(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(ZE(i.value))return{unaryFilter:{field:Fh(i.field),op:"IS_NOT_NAN"}};if(QE(i.value))return{unaryFilter:{field:Fh(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fh(i.field),op:eB(i.op),value:i.value}}}(n):n instanceof Ro?function(i){const r=i.getFilters().map(s=>aI(s));return r.length===1?r[0]:{compositeFilter:{op:tB(i.op),filters:r}}}(n):dr()}function rB(n){const t=[];return n.fields.forEach(i=>t.push(i.canonicalString())),{fieldPaths:t}}function oI(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(t,i,r,s,o=pr.min(),a=pr.min(),c=Ki.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=i,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=c,this.expectedCount=l}withSequenceNumber(t){return new cc(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new cc(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new cc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new cc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nB{constructor(t){this.ct=t}}function iB(n){const t=QU({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?$_(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sB{constructor(){this.un=new aB}addToCollectionParentIndex(t,i){return this.un.add(i),Mt.resolve()}getCollectionParents(t,i){return Mt.resolve(this.un.getEntries(i))}addFieldIndex(t,i){return Mt.resolve()}deleteFieldIndex(t,i){return Mt.resolve()}deleteAllFieldIndexes(t){return Mt.resolve()}createTargetIndexes(t,i){return Mt.resolve()}getDocumentsMatchingTarget(t,i){return Mt.resolve(null)}getIndexType(t,i){return Mt.resolve(0)}getFieldIndexes(t,i){return Mt.resolve([])}getNextCollectionGroupToUpdate(t){return Mt.resolve(null)}getMinOffset(t,i){return Mt.resolve(vc.min())}getMinOffsetFromCollectionGroup(t,i){return Mt.resolve(vc.min())}updateCollectionGroup(t,i,r){return Mt.resolve()}updateIndexEntries(t,i){return Mt.resolve()}}class aB{constructor(){this.index={}}add(t){const i=t.lastSegment(),r=t.popLast(),s=this.index[i]||new $i(Rn.comparator),o=!s.has(r);return this.index[i]=s.add(r),o}has(t){const i=t.lastSegment(),r=t.popLast(),s=this.index[i];return s&&s.has(r)}getEntries(t){return(this.index[t]||new $i(Rn.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(t){this.Ln=t}next(){return this.Ln+=2,this.Ln}static Bn(){return new ad(0)}static kn(){return new ad(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oB{constructor(){this.changes=new bd(t=>t.toString(),(t,i)=>t.isEqual(i)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,ss.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?Mt.resolve(r):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lB{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cB{constructor(t,i,r,s){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=s}getDocument(t,i){let r=null;return this.documentOverlayCache.getOverlay(t,i).next(s=>(r=s,this.remoteDocumentCache.getEntry(t,i))).next(s=>(r!==null&&Gf(r.mutation,s,Ka.empty(),ui.now()),s))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next(r=>this.getLocalViewOfDocuments(t,r,Ar()).next(()=>r))}getLocalViewOfDocuments(t,i,r=Ar()){const s=du();return this.populateOverlays(t,s,i).next(()=>this.computeViews(t,i,s,r).next(o=>{let a=Mf();return o.forEach((c,l)=>{a=a.insert(c,l.overlayedDocument)}),a}))}getOverlayedDocuments(t,i){const r=du();return this.populateOverlays(t,r,i).next(()=>this.computeViews(t,i,r,Ar()))}populateOverlays(t,i,r){const s=[];return r.forEach(o=>{i.has(o)||s.push(o)}),this.documentOverlayCache.getOverlays(t,s).next(o=>{o.forEach((a,c)=>{i.set(a,c)})})}computeViews(t,i,r,s){let o=Sl();const a=Vf(),c=function(){return Vf()}();return i.forEach((l,u)=>{const p=r.get(u.key);s.has(u.key)&&(p===void 0||p.mutation instanceof Bu)?o=o.insert(u.key,u):p!==void 0?(a.set(u.key,p.mutation.getFieldMask()),Gf(p.mutation,u,p.mutation.getFieldMask(),ui.now())):a.set(u.key,Ka.empty())}),this.recalculateAndSaveOverlays(t,o).next(l=>(l.forEach((u,p)=>a.set(u,p)),i.forEach((u,p)=>{var y;return c.set(u,new lB(p,(y=a.get(u))!==null&&y!==void 0?y:null))}),c))}recalculateAndSaveOverlays(t,i){const r=Vf();let s=new di((a,c)=>a-c),o=Ar();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next(a=>{for(const c of a)c.keys().forEach(l=>{const u=i.get(l);if(u===null)return;let p=r.get(l)||Ka.empty();p=c.applyToLocalView(u,p),r.set(l,p);const y=(s.get(c.batchId)||Ar()).add(l);s=s.insert(c.batchId,y)})}).next(()=>{const a=[],c=s.getReverseIterator();for(;c.hasNext();){const l=c.getNext(),u=l.key,p=l.value,y=zO();p.forEach(d=>{if(!o.has(d)){const f=XO(i.get(d),r.get(d));f!==null&&y.set(d,f),o=o.add(d)}}),a.push(this.documentOverlayCache.saveOverlays(t,u,y))}return Mt.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,i,r,s){return function(a){return or.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):gU(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,r,s):this.getDocumentsMatchingCollectionQuery(t,i,r,s)}getNextDocuments(t,i,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,r,s).next(o=>{const a=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,r.largestBatchId,s-o.size):Mt.resolve(du());let c=-1,l=o;return a.next(u=>Mt.forEach(u,(p,y)=>(c<y.largestBatchId&&(c=y.largestBatchId),o.get(p)?Mt.resolve():this.remoteDocumentCache.getEntry(t,p).next(d=>{l=l.insert(p,d)}))).next(()=>this.populateOverlays(t,u,o)).next(()=>this.computeViews(t,l,u,Ar())).next(p=>({batchId:c,changes:GO(p)})))})}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new or(i)).next(r=>{let s=Mf();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(t,i,r,s){const o=i.collectionGroup;let a=Mf();return this.indexManager.getCollectionParents(t,o).next(c=>Mt.forEach(c,l=>{const u=function(y,d){return new ny(d,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)}(i,l.child(o));return this.getDocumentsMatchingCollectionQuery(t,u,r,s).next(p=>{p.forEach((y,d)=>{a=a.insert(y,d)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(t,i,r,s){let o;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,r.largestBatchId).next(a=>(o=a,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,r,o,s))).next(a=>{o.forEach((l,u)=>{const p=u.getKey();a.get(p)===null&&(a=a.insert(p,ss.newInvalidDocument(p)))});let c=Mf();return a.forEach((l,u)=>{const p=o.get(l);p!==void 0&&Gf(p.mutation,u,Ka.empty(),ui.now()),sy(i,u)&&(c=c.insert(l,u))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uB{constructor(t){this.serializer=t,this.hr=new Map,this.Pr=new Map}getBundleMetadata(t,i){return Mt.resolve(this.hr.get(i))}saveBundleMetadata(t,i){return this.hr.set(i.id,function(s){return{id:s.id,version:s.version,createTime:Co(s.createTime)}}(i)),Mt.resolve()}getNamedQuery(t,i){return Mt.resolve(this.Pr.get(i))}saveNamedQuery(t,i){return this.Pr.set(i.name,function(s){return{name:s.name,query:iB(s.bundledQuery),readTime:Co(s.readTime)}}(i)),Mt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hB{constructor(){this.overlays=new di(or.comparator),this.Ir=new Map}getOverlay(t,i){return Mt.resolve(this.overlays.get(i))}getOverlays(t,i){const r=du();return Mt.forEach(i,s=>this.getOverlay(t,s).next(o=>{o!==null&&r.set(s,o)})).next(()=>r)}saveOverlays(t,i,r){return r.forEach((s,o)=>{this.ht(t,i,o)}),Mt.resolve()}removeOverlaysForBatchId(t,i,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),Mt.resolve()}getOverlaysForCollection(t,i,r){const s=du(),o=i.length+1,a=new or(i.child("")),c=this.overlays.getIteratorFrom(a);for(;c.hasNext();){const l=c.getNext().value,u=l.getKey();if(!i.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&s.set(l.getKey(),l)}return Mt.resolve(s)}getOverlaysForCollectionGroup(t,i,r,s){let o=new di((u,p)=>u-p);const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===i&&u.largestBatchId>r){let p=o.get(u.largestBatchId);p===null&&(p=du(),o=o.insert(u.largestBatchId,p)),p.set(u.getKey(),u)}}const c=du(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,p)=>c.set(u,p)),!(c.size()>=s)););return Mt.resolve(c)}ht(t,i,r){const s=this.overlays.get(r.key);if(s!==null){const a=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new PU(i,r));let o=this.Ir.get(i);o===void 0&&(o=Ar(),this.Ir.set(i,o)),this.Ir.set(i,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dB{constructor(){this.sessionToken=Ki.EMPTY_BYTE_STRING}getSessionToken(t){return Mt.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,Mt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(){this.Tr=new $i(Ri.Er),this.dr=new $i(Ri.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(t,i){const r=new Ri(t,i);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(t,i){t.forEach(r=>this.addReference(r,i))}removeReference(t,i){this.Vr(new Ri(t,i))}mr(t,i){t.forEach(r=>this.removeReference(r,i))}gr(t){const i=new or(new Rn([])),r=new Ri(i,t),s=new Ri(i,t+1),o=[];return this.dr.forEachInRange([r,s],a=>{this.Vr(a),o.push(a.key)}),o}pr(){this.Tr.forEach(t=>this.Vr(t))}Vr(t){this.Tr=this.Tr.delete(t),this.dr=this.dr.delete(t)}yr(t){const i=new or(new Rn([])),r=new Ri(i,t),s=new Ri(i,t+1);let o=Ar();return this.dr.forEachInRange([r,s],a=>{o=o.add(a.key)}),o}containsKey(t){const i=new Ri(t,0),r=this.Tr.firstAfterOrEqual(i);return r!==null&&t.isEqual(r.key)}}class Ri{constructor(t,i){this.key=t,this.wr=i}static Er(t,i){return or.comparator(t.key,i.key)||zr(t.wr,i.wr)}static Ar(t,i){return zr(t.wr,i.wr)||or.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fB{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Sr=1,this.br=new $i(Ri.Er)}checkEmpty(t){return Mt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,r,s){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new MU(o,i,r,s);this.mutationQueue.push(a);for(const c of s)this.br=this.br.add(new Ri(c.key,o)),this.indexManager.addToCollectionParentIndex(t,c.key.path.popLast());return Mt.resolve(a)}lookupMutationBatch(t,i){return Mt.resolve(this.Dr(i))}getNextMutationBatchAfterBatchId(t,i){const r=i+1,s=this.vr(r),o=s<0?0:s;return Mt.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Mt.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(t){return Mt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const r=new Ri(i,0),s=new Ri(i,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,s],a=>{const c=this.Dr(a.wr);o.push(c)}),Mt.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,i){let r=new $i(zr);return i.forEach(s=>{const o=new Ri(s,0),a=new Ri(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,a],c=>{r=r.add(c.wr)})}),Mt.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(t,i){const r=i.path,s=r.length+1;let o=r;or.isDocumentKey(o)||(o=o.child(""));const a=new Ri(new or(o),0);let c=new $i(zr);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(c=c.add(l.wr)),!0)},a),Mt.resolve(this.Cr(c))}Cr(t){const i=[];return t.forEach(r=>{const s=this.Dr(r);s!==null&&i.push(s)}),i}removeMutationBatch(t,i){sn(this.Fr(i.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return Mt.forEach(i.mutations,s=>{const o=new Ri(s.key,i.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(()=>{this.br=r})}On(t){}containsKey(t,i){const r=new Ri(i,0),s=this.br.firstAfterOrEqual(r);return Mt.resolve(i.isEqual(s&&s.key))}performConsistencyCheck(t){return this.mutationQueue.length,Mt.resolve()}Fr(t,i){return this.vr(t)}vr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Dr(t){const i=this.vr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pB{constructor(t){this.Mr=t,this.docs=function(){return new di(or.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const r=i.key,s=this.docs.get(r),o=s?s.size:0,a=this.Mr(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const r=this.docs.get(i);return Mt.resolve(r?r.document.mutableCopy():ss.newInvalidDocument(i))}getEntries(t,i){let r=Sl();return i.forEach(s=>{const o=this.docs.get(s);r=r.insert(s,o?o.document.mutableCopy():ss.newInvalidDocument(s))}),Mt.resolve(r)}getDocumentsMatchingQuery(t,i,r,s){let o=Sl();const a=i.path,c=new or(a.child("")),l=this.docs.getIteratorFrom(c);for(;l.hasNext();){const{key:u,value:{document:p}}=l.getNext();if(!a.isPrefixOf(u.path))break;u.path.length>a.length+1||K8(X8(p),r)<=0||(s.has(p.key)||sy(i,p))&&(o=o.insert(p.key,p.mutableCopy()))}return Mt.resolve(o)}getAllFromCollectionGroup(t,i,r,s){dr()}Or(t,i){return Mt.forEach(this.docs,r=>i(r))}newChangeBuffer(t){return new mB(this)}getSize(t){return Mt.resolve(this.size)}}class mB extends oB{constructor(t){super(),this.cr=t}applyChanges(t){const i=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?i.push(this.cr.addEntry(t,s)):this.cr.removeEntry(r)}),Mt.waitFor(i)}getFromCache(t,i){return this.cr.getEntry(t,i)}getAllFromCache(t,i){return this.cr.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gB{constructor(t){this.persistence=t,this.Nr=new bd(i=>px(i),mx),this.lastRemoteSnapshotVersion=pr.min(),this.highestTargetId=0,this.Lr=0,this.Br=new xx,this.targetCount=0,this.kr=ad.Bn()}forEachTarget(t,i){return this.Nr.forEach((r,s)=>i(s)),Mt.resolve()}getLastRemoteSnapshotVersion(t){return Mt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Mt.resolve(this.Lr)}allocateTargetId(t){return this.highestTargetId=this.kr.next(),Mt.resolve(this.highestTargetId)}setTargetsMetadata(t,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.Lr&&(this.Lr=i),Mt.resolve()}Kn(t){this.Nr.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.kr=new ad(i),this.highestTargetId=i),t.sequenceNumber>this.Lr&&(this.Lr=t.sequenceNumber)}addTargetData(t,i){return this.Kn(i),this.targetCount+=1,Mt.resolve()}updateTargetData(t,i){return this.Kn(i),Mt.resolve()}removeTargetData(t,i){return this.Nr.delete(i.target),this.Br.gr(i.targetId),this.targetCount-=1,Mt.resolve()}removeTargets(t,i,r){let s=0;const o=[];return this.Nr.forEach((a,c)=>{c.sequenceNumber<=i&&r.get(c.targetId)===null&&(this.Nr.delete(a),o.push(this.removeMatchingKeysForTargetId(t,c.targetId)),s++)}),Mt.waitFor(o).next(()=>s)}getTargetCount(t){return Mt.resolve(this.targetCount)}getTargetData(t,i){const r=this.Nr.get(i)||null;return Mt.resolve(r)}addMatchingKeys(t,i,r){return this.Br.Rr(i,r),Mt.resolve()}removeMatchingKeys(t,i,r){this.Br.mr(i,r);const s=this.persistence.referenceDelegate,o=[];return s&&i.forEach(a=>{o.push(s.markPotentiallyOrphaned(t,a))}),Mt.waitFor(o)}removeMatchingKeysForTargetId(t,i){return this.Br.gr(i),Mt.resolve()}getMatchingKeysForTargetId(t,i){const r=this.Br.yr(i);return Mt.resolve(r)}containsKey(t,i){return Mt.resolve(this.Br.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yB{constructor(t,i){this.qr={},this.overlays={},this.Qr=new ux(0),this.Kr=!1,this.Kr=!0,this.$r=new dB,this.referenceDelegate=t(this),this.Ur=new gB(this),this.indexManager=new sB,this.remoteDocumentCache=function(s){return new pB(s)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new nB(i),this.Gr=new uB(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new hB,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let r=this.qr[t.toKey()];return r||(r=new fB(i,this.referenceDelegate),this.qr[t.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(t,i,r){Yt("MemoryPersistence","Starting transaction:",t);const s=new vB(this.Qr.next());return this.referenceDelegate.zr(),r(s).next(o=>this.referenceDelegate.jr(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}Hr(t,i){return Mt.or(Object.values(this.qr).map(r=>()=>r.containsKey(t,i)))}}class vB extends Z8{constructor(t){super(),this.currentSequenceNumber=t}}class wx{constructor(t){this.persistence=t,this.Jr=new xx,this.Yr=null}static Zr(t){return new wx(t)}get Xr(){if(this.Yr)return this.Yr;throw dr()}addReference(t,i,r){return this.Jr.addReference(r,i),this.Xr.delete(r.toString()),Mt.resolve()}removeReference(t,i,r){return this.Jr.removeReference(r,i),this.Xr.add(r.toString()),Mt.resolve()}markPotentiallyOrphaned(t,i){return this.Xr.add(i.toString()),Mt.resolve()}removeTarget(t,i){this.Jr.gr(i.targetId).forEach(s=>this.Xr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,i.targetId).next(s=>{s.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(t,i))}zr(){this.Yr=new Set}jr(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Mt.forEach(this.Xr,r=>{const s=or.fromPath(r);return this.ei(t,s).next(o=>{o||i.removeEntry(s,pr.min())})}).next(()=>(this.Yr=null,i.apply(t)))}updateLimboDocument(t,i){return this.ei(t,i).next(r=>{r?this.Xr.delete(i.toString()):this.Xr.add(i.toString())})}Wr(t){return 0}ei(t,i){return Mt.or([()=>Mt.resolve(this.Jr.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Hr(t,i)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(t,i,r,s){this.targetId=t,this.fromCache=i,this.$i=r,this.Ui=s}static Wi(t,i){let r=Ar(),s=Ar();for(const o of i.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new Sx(t,i.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _B{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bB{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return OL()?8:J8(hs())>0?6:4}()}initialize(t,i){this.Ji=t,this.indexManager=i,this.Gi=!0}getDocumentsMatchingQuery(t,i,r,s){const o={result:null};return this.Yi(t,i).next(a=>{o.result=a}).next(()=>{if(!o.result)return this.Zi(t,i,s,r).next(a=>{o.result=a})}).next(()=>{if(o.result)return;const a=new _B;return this.Xi(t,i,a).next(c=>{if(o.result=c,this.zi)return this.es(t,i,a,c.size)})}).next(()=>o.result)}es(t,i,r,s){return r.documentReadCount<this.ji?(yf()<=Er.DEBUG&&Yt("QueryEngine","SDK will not create cache indexes for query:",Lh(i),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Mt.resolve()):(yf()<=Er.DEBUG&&Yt("QueryEngine","Query:",Lh(i),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(yf()<=Er.DEBUG&&Yt("QueryEngine","The SDK decides to create cache indexes for query:",Lh(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,To(i))):Mt.resolve())}Yi(t,i){if(rC(i))return Mt.resolve(null);let r=To(i);return this.indexManager.getIndexType(t,r).next(s=>s===0?null:(i.limit!==null&&s===1&&(i=$_(i,null,"F"),r=To(i)),this.indexManager.getDocumentsMatchingTarget(t,r).next(o=>{const a=Ar(...o);return this.Ji.getDocuments(t,a).next(c=>this.indexManager.getMinOffset(t,r).next(l=>{const u=this.ts(i,c);return this.ns(i,u,a,l.readTime)?this.Yi(t,$_(i,null,"F")):this.rs(t,u,i,l)}))})))}Zi(t,i,r,s){return rC(i)||s.isEqual(pr.min())?Mt.resolve(null):this.Ji.getDocuments(t,r).next(o=>{const a=this.ts(i,o);return this.ns(i,a,r,s)?Mt.resolve(null):(yf()<=Er.DEBUG&&Yt("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Lh(i)),this.rs(t,a,i,$8(s,-1)).next(c=>c))})}ts(t,i){let r=new $i(BO(t));return i.forEach((s,o)=>{sy(t,o)&&(r=r.add(o))}),r}ns(t,i,r,s){if(t.limit===null)return!1;if(r.size!==i.size)return!0;const o=t.limitType==="F"?i.last():i.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}Xi(t,i,r){return yf()<=Er.DEBUG&&Yt("QueryEngine","Using full collection scan to execute query:",Lh(i)),this.Ji.getDocumentsMatchingQuery(t,i,vc.min(),r)}rs(t,i,r,s){return this.Ji.getDocumentsMatchingQuery(t,r,s).next(o=>(i.forEach(a=>{o=o.insert(a.key,a)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xB{constructor(t,i,r,s){this.persistence=t,this.ss=i,this.serializer=s,this.os=new di(zr),this._s=new bd(o=>px(o),mx),this.us=new Map,this.cs=t.getRemoteDocumentCache(),this.Ur=t.getTargetCache(),this.Gr=t.getBundleCache(),this.ls(r)}ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new cB(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>t.collect(i,this.os))}}function wB(n,t,i,r){return new xB(n,t,i,r)}async function lI(n,t){const i=mr(n);return await i.persistence.runTransaction("Handle user change","readonly",r=>{let s;return i.mutationQueue.getAllMutationBatches(r).next(o=>(s=o,i.ls(t),i.mutationQueue.getAllMutationBatches(r))).next(o=>{const a=[],c=[];let l=Ar();for(const u of s){a.push(u.batchId);for(const p of u.mutations)l=l.add(p.key)}for(const u of o){c.push(u.batchId);for(const p of u.mutations)l=l.add(p.key)}return i.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:a,addedBatchIds:c}))})})}function SB(n,t){const i=mr(n);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=t.batch.keys(),o=i.cs.newChangeBuffer({trackRemovals:!0});return function(c,l,u,p){const y=u.batch,d=y.keys();let f=Mt.resolve();return d.forEach(b=>{f=f.next(()=>p.getEntry(l,b)).next(g=>{const v=u.docVersions.get(b);sn(v!==null),g.version.compareTo(v)<0&&(y.applyToRemoteDocument(g,u),g.isValidDocument()&&(g.setReadTime(u.commitVersion),p.addEntry(g)))})}),f.next(()=>c.mutationQueue.removeMutationBatch(l,y))}(i,r,t,o).next(()=>o.apply(r)).next(()=>i.mutationQueue.performConsistencyCheck(r)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(r,s,t.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let l=Ar();for(let u=0;u<c.mutationResults.length;++u)c.mutationResults[u].transformResults.length>0&&(l=l.add(c.batch.mutations[u].key));return l}(t))).next(()=>i.localDocuments.getDocuments(r,s))})}function cI(n){const t=mr(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",i=>t.Ur.getLastRemoteSnapshotVersion(i))}function TB(n,t){const i=mr(n),r=t.snapshotVersion;let s=i.os;return i.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const a=i.cs.newChangeBuffer({trackRemovals:!0});s=i.os;const c=[];t.targetChanges.forEach((p,y)=>{const d=s.get(y);if(!d)return;c.push(i.Ur.removeMatchingKeys(o,p.removedDocuments,y).next(()=>i.Ur.addMatchingKeys(o,p.addedDocuments,y)));let f=d.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(y)!==null?f=f.withResumeToken(Ki.EMPTY_BYTE_STRING,pr.min()).withLastLimboFreeSnapshotVersion(pr.min()):p.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(p.resumeToken,r)),s=s.insert(y,f),function(g,v,_){return g.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(d,f,p)&&c.push(i.Ur.updateTargetData(o,f))});let l=Sl(),u=Ar();if(t.documentUpdates.forEach(p=>{t.resolvedLimboDocuments.has(p)&&c.push(i.persistence.referenceDelegate.updateLimboDocument(o,p))}),c.push(EB(o,a,t.documentUpdates).next(p=>{l=p.Ps,u=p.Is})),!r.isEqual(pr.min())){const p=i.Ur.getLastRemoteSnapshotVersion(o).next(y=>i.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));c.push(p)}return Mt.waitFor(c).next(()=>a.apply(o)).next(()=>i.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(i.os=s,o))}function EB(n,t,i){let r=Ar(),s=Ar();return i.forEach(o=>r=r.add(o)),t.getEntries(n,r).next(o=>{let a=Sl();return i.forEach((c,l)=>{const u=o.get(c);l.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(c)),l.isNoDocument()&&l.version.isEqual(pr.min())?(t.removeEntry(c,l.readTime),a=a.insert(c,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(t.addEntry(l),a=a.insert(c,l)):Yt("LocalStore","Ignoring outdated watch update for ",c,". Current version:",u.version," Watch version:",l.version)}),{Ps:a,Is:s}})}function CB(n,t){const i=mr(n);return i.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=-1),i.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function AB(n,t){const i=mr(n);return i.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return i.Ur.getTargetData(r,t).next(o=>o?(s=o,Mt.resolve(s)):i.Ur.allocateTargetId(r).next(a=>(s=new cc(t,a,"TargetPurposeListen",r.currentSequenceNumber),i.Ur.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=i.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(i.os=i.os.insert(r.targetId,r),i._s.set(t,r.targetId)),r})}async function J_(n,t,i){const r=mr(n),s=r.os.get(t),o=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",o,a=>r.persistence.referenceDelegate.removeTarget(a,s))}catch(a){if(!Fp(a))throw a;Yt("LocalStore",`Failed to update sequence numbers for target ${t}: ${a}`)}r.os=r.os.remove(t),r._s.delete(s.target)}function fC(n,t,i){const r=mr(n);let s=pr.min(),o=Ar();return r.persistence.runTransaction("Execute query","readwrite",a=>function(l,u,p){const y=mr(l),d=y._s.get(p);return d!==void 0?Mt.resolve(y.os.get(d)):y.Ur.getTargetData(u,p)}(r,a,To(t)).next(c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(a,c.targetId).next(l=>{o=l})}).next(()=>r.ss.getDocumentsMatchingQuery(a,t,i?s:pr.min(),i?o:Ar())).next(c=>(jB(r,vU(t),c),{documents:c,Ts:o})))}function jB(n,t,i){let r=n.us.get(t)||pr.min();i.forEach((s,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.us.set(t,r)}class pC{constructor(){this.activeTargetIds=TU()}fs(t){this.activeTargetIds=this.activeTargetIds.add(t)}gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Vs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class RB{constructor(){this.so=new pC,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,r){}addLocalQueryTarget(t,i=!0){return i&&this.so.fs(t),this.oo[t]||"not-current"}updateQueryState(t,i,r){this.oo[t]=i}removeLocalQueryTarget(t){this.so.gs(t)}isLocalQueryTarget(t){return this.so.activeTargetIds.has(t)}clearQueryState(t){delete this.oo[t]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(t){return this.so.activeTargetIds.has(t)}start(){return this.so=new pC,Promise.resolve()}handleUserChange(t,i,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OB{_o(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(t){this.ho.push(t)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Yt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ho)t(0)}lo(){Yt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ho)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let s0=null;function V1(){return s0===null?s0=function(){return 268435456+Math.round(2147483648*Math.random())}():s0++,"0x"+s0.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kB{constructor(t){this.Io=t.Io,this.To=t.To}Eo(t){this.Ao=t}Ro(t){this.Vo=t}mo(t){this.fo=t}onMessage(t){this.po=t}close(){this.To()}send(t){this.Io(t)}yo(){this.Ao()}wo(){this.Vo()}So(t){this.fo(t)}bo(t){this.po(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rs="WebChannelConnection";class MB extends class{constructor(i){this.databaseInfo=i,this.databaseId=i.databaseId;const r=i.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+i.host,this.vo=`projects/${s}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${o}`}get Fo(){return!1}Mo(i,r,s,o,a){const c=V1(),l=this.xo(i,r.toUriEncodedString());Yt("RestConnection",`Sending RPC '${i}' ${c}:`,l,s);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,o,a),this.No(i,l,u,s).then(p=>(Yt("RestConnection",`Received RPC '${i}' ${c}: `,p),p),p=>{throw rd("RestConnection",`RPC '${i}' ${c} failed with error: `,p,"url: ",l,"request:",s),p})}Lo(i,r,s,o,a,c){return this.Mo(i,r,s,o,a)}Oo(i,r,s){i["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+vd}(),i["Content-Type"]="text/plain",this.databaseInfo.appId&&(i["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,a)=>i[a]=o),s&&s.headers.forEach((o,a)=>i[a]=o)}xo(i,r){const s=IB[i];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}No(t,i,r,s){const o=V1();return new Promise((a,c)=>{const l=new SO;l.setWithCredentials(!0),l.listenOnce(TO.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case D0.NO_ERROR:const p=l.getResponseJson();Yt(rs,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(p)),a(p);break;case D0.TIMEOUT:Yt(rs,`RPC '${t}' ${o} timed out`),c(new er(kt.DEADLINE_EXCEEDED,"Request time out"));break;case D0.HTTP_ERROR:const y=l.getStatus();if(Yt(rs,`RPC '${t}' ${o} failed with status:`,y,"response text:",l.getResponseText()),y>0){let d=l.getResponseJson();Array.isArray(d)&&(d=d[0]);const f=d==null?void 0:d.error;if(f&&f.status&&f.message){const b=function(v){const _=v.toLowerCase().replace(/_/g,"-");return Object.values(kt).indexOf(_)>=0?_:kt.UNKNOWN}(f.status);c(new er(b,f.message))}else c(new er(kt.UNKNOWN,"Server responded with status "+l.getStatus()))}else c(new er(kt.UNAVAILABLE,"Connection failed."));break;default:dr()}}finally{Yt(rs,`RPC '${t}' ${o} completed.`)}});const u=JSON.stringify(s);Yt(rs,`RPC '${t}' ${o} sending request:`,s),l.send(i,"POST",u,r,15)})}Bo(t,i,r){const s=V1(),o=[this.Do,"/","google.firestore.v1.Firestore","/",t,"/channel"],a=AO(),c=CO(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,i,r),l.encodeInitMessageHeaders=!0;const p=o.join("");Yt(rs,`Creating RPC '${t}' stream ${s}: ${p}`,l);const y=a.createWebChannel(p,l);let d=!1,f=!1;const b=new kB({Io:v=>{f?Yt(rs,`Not sending because RPC '${t}' stream ${s} is closed:`,v):(d||(Yt(rs,`Opening RPC '${t}' stream ${s} transport.`),y.open(),d=!0),Yt(rs,`RPC '${t}' stream ${s} sending:`,v),y.send(v))},To:()=>y.close()}),g=(v,_,x)=>{v.listen(_,w=>{try{x(w)}catch(S){setTimeout(()=>{throw S},0)}})};return g(y,kf.EventType.OPEN,()=>{f||(Yt(rs,`RPC '${t}' stream ${s} transport opened.`),b.yo())}),g(y,kf.EventType.CLOSE,()=>{f||(f=!0,Yt(rs,`RPC '${t}' stream ${s} transport closed`),b.So())}),g(y,kf.EventType.ERROR,v=>{f||(f=!0,rd(rs,`RPC '${t}' stream ${s} transport errored:`,v),b.So(new er(kt.UNAVAILABLE,"The operation could not be completed")))}),g(y,kf.EventType.MESSAGE,v=>{var _;if(!f){const x=v.data[0];sn(!!x);const w=x,S=w.error||((_=w[0])===null||_===void 0?void 0:_.error);if(S){Yt(rs,`RPC '${t}' stream ${s} received error:`,S);const R=S.status;let D=function(j){const P=si[j];if(P!==void 0)return ZO(P)}(R),A=S.message;D===void 0&&(D=kt.INTERNAL,A="Unknown error status: "+R+" with message "+S.message),f=!0,b.So(new er(D,A)),y.close()}else Yt(rs,`RPC '${t}' stream ${s} received:`,x),b.bo(x)}}),g(c,EO.STAT_EVENT,v=>{v.stat===G_.PROXY?Yt(rs,`RPC '${t}' stream ${s} detected buffering proxy`):v.stat===G_.NOPROXY&&Yt(rs,`RPC '${t}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{b.wo()},0),b}}function G1(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cy(n){return new zU(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(t,i,r=1e3,s=1.5,o=6e4){this.ui=t,this.timerId=i,this.ko=r,this.qo=s,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(t){this.cancel();const i=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,i-r);s>0&&Yt("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),t())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(t,i,r,s,o,a,c,l){this.ui=t,this.Ho=r,this.Jo=s,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=c,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new uI(t,i)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(t){this.u_(),this.stream.send(t)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(t,i){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,t!==4?this.t_.reset():i&&i.code===kt.RESOURCE_EXHAUSTED?(wl(i.toString()),wl("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):i&&i.code===kt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.mo(i)}l_(){}auth(){this.state=1;const t=this.h_(this.Yo),i=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Yo===i&&this.P_(r,s)},r=>{t(()=>{const s=new er(kt.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)})})}P_(t,i){const r=this.h_(this.Yo);this.stream=this.T_(t,i),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{r(()=>this.I_(s))}),this.stream.onMessage(s=>{r(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(t){return Yt("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}h_(t){return i=>{this.ui.enqueueAndForget(()=>this.Yo===t?i():(Yt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class PB extends hI{constructor(t,i,r,s,o,a){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,s,a),this.serializer=o}T_(t,i){return this.connection.Bo("Listen",t,i)}E_(t){return this.onNext(t)}onNext(t){this.t_.reset();const i=qU(this.serializer,t),r=function(o){if(!("targetChange"in o))return pr.min();const a=o.targetChange;return a.targetIds&&a.targetIds.length?pr.min():a.readTime?Co(a.readTime):pr.min()}(t);return this.listener.d_(i,r)}A_(t){const i={};i.database=Z_(this.serializer),i.addTarget=function(o,a){let c;const l=a.target;if(c=Y_(l)?{documents:XU(o,l)}:{query:KU(o,l)._t},c.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){c.resumeToken=tI(o,a.resumeToken);const u=X_(o,a.expectedCount);u!==null&&(c.expectedCount=u)}else if(a.snapshotVersion.compareTo(pr.min())>0){c.readTime=lg(o,a.snapshotVersion.toTimestamp());const u=X_(o,a.expectedCount);u!==null&&(c.expectedCount=u)}return c}(this.serializer,t);const r=ZU(this.serializer,t);r&&(i.labels=r),this.a_(i)}R_(t){const i={};i.database=Z_(this.serializer),i.removeTarget=t,this.a_(i)}}class DB extends hI{constructor(t,i,r,s,o,a){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,s,a),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(t,i){return this.connection.Bo("Write",t,i)}E_(t){return sn(!!t.streamToken),this.lastStreamToken=t.streamToken,sn(!t.writeResults||t.writeResults.length===0),this.listener.f_()}onNext(t){sn(!!t.streamToken),this.lastStreamToken=t.streamToken,this.t_.reset();const i=$U(t.writeResults,t.commitTime),r=Co(t.commitTime);return this.listener.g_(r,i)}p_(){const t={};t.database=Z_(this.serializer),this.a_(t)}m_(t){const i={streamToken:this.lastStreamToken,writes:t.map(r=>YU(this.serializer,r))};this.a_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NB extends class{}{constructor(t,i,r,s){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new er(kt.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(t,i,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Mo(t,K_(i,r),s,o,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===kt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new er(kt.UNKNOWN,o.toString())})}Lo(t,i,r,s,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.Lo(t,K_(i,r),s,a,c,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===kt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new er(kt.UNKNOWN,a.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class LB{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(t){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.C_("Offline")))}set(t){this.x_(),this.S_=0,t==="Online"&&(this.D_=!1),this.C_(t)}C_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}F_(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(wl(i),this.D_=!1):Yt("OnlineStateTracker",i)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FB{constructor(t,i,r,s,o){this.localStore=t,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(a=>{r.enqueueAndForget(async()=>{Vu(this)&&(Yt("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=mr(l);u.L_.add(4),await Vp(u),u.q_.set("Unknown"),u.L_.delete(4),await uy(u)}(this))})}),this.q_=new LB(r,s)}}async function uy(n){if(Vu(n))for(const t of n.B_)await t(!0)}async function Vp(n){for(const t of n.B_)await t(!1)}function dI(n,t){const i=mr(n);i.N_.has(t.targetId)||(i.N_.set(t.targetId,t),Ax(i)?Cx(i):xd(i).r_()&&Ex(i,t))}function Tx(n,t){const i=mr(n),r=xd(i);i.N_.delete(t),r.r_()&&fI(i,t),i.N_.size===0&&(r.r_()?r.o_():Vu(i)&&i.q_.set("Unknown"))}function Ex(n,t){if(n.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(pr.min())>0){const i=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}xd(n).A_(t)}function fI(n,t){n.Q_.xe(t),xd(n).R_(t)}function Cx(n){n.Q_=new UU({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>n.N_.get(t)||null,tt:()=>n.datastore.serializer.databaseId}),xd(n).start(),n.q_.v_()}function Ax(n){return Vu(n)&&!xd(n).n_()&&n.N_.size>0}function Vu(n){return mr(n).L_.size===0}function pI(n){n.Q_=void 0}async function UB(n){n.q_.set("Online")}async function BB(n){n.N_.forEach((t,i)=>{Ex(n,t)})}async function VB(n,t){pI(n),Ax(n)?(n.q_.M_(t),Cx(n)):n.q_.set("Unknown")}async function GB(n,t,i){if(n.q_.set("Online"),t instanceof eI&&t.state===2&&t.cause)try{await async function(s,o){const a=o.cause;for(const c of o.targetIds)s.N_.has(c)&&(await s.remoteSyncer.rejectListen(c,a),s.N_.delete(c),s.Q_.removeTarget(c))}(n,t)}catch(r){Yt("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),await cg(n,r)}else if(t instanceof F0?n.Q_.Ke(t):t instanceof JO?n.Q_.He(t):n.Q_.We(t),!i.isEqual(pr.min()))try{const r=await cI(n.localStore);i.compareTo(r)>=0&&await function(o,a){const c=o.Q_.rt(a);return c.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const p=o.N_.get(u);p&&o.N_.set(u,p.withResumeToken(l.resumeToken,a))}}),c.targetMismatches.forEach((l,u)=>{const p=o.N_.get(l);if(!p)return;o.N_.set(l,p.withResumeToken(Ki.EMPTY_BYTE_STRING,p.snapshotVersion)),fI(o,l);const y=new cc(p.target,l,u,p.sequenceNumber);Ex(o,y)}),o.remoteSyncer.applyRemoteEvent(c)}(n,i)}catch(r){Yt("RemoteStore","Failed to raise snapshot:",r),await cg(n,r)}}async function cg(n,t,i){if(!Fp(t))throw t;n.L_.add(1),await Vp(n),n.q_.set("Offline"),i||(i=()=>cI(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Yt("RemoteStore","Retrying IndexedDB access"),await i(),n.L_.delete(1),await uy(n)})}function mI(n,t){return t().catch(i=>cg(n,i,t))}async function hy(n){const t=mr(n),i=bc(t);let r=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;zB(t);)try{const s=await CB(t.localStore,r);if(s===null){t.O_.length===0&&i.o_();break}r=s.batchId,HB(t,s)}catch(s){await cg(t,s)}gI(t)&&yI(t)}function zB(n){return Vu(n)&&n.O_.length<10}function HB(n,t){n.O_.push(t);const i=bc(n);i.r_()&&i.V_&&i.m_(t.mutations)}function gI(n){return Vu(n)&&!bc(n).n_()&&n.O_.length>0}function yI(n){bc(n).start()}async function WB(n){bc(n).p_()}async function qB(n){const t=bc(n);for(const i of n.O_)t.m_(i.mutations)}async function YB(n,t,i){const r=n.O_.shift(),s=vx.from(r,t,i);await mI(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await hy(n)}async function $B(n,t){t&&bc(n).V_&&await async function(r,s){if(function(a){return NU(a)&&a!==kt.ABORTED}(s.code)){const o=r.O_.shift();bc(r).s_(),await mI(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s)),await hy(r)}}(n,t),gI(n)&&yI(n)}async function gC(n,t){const i=mr(n);i.asyncQueue.verifyOperationInProgress(),Yt("RemoteStore","RemoteStore received new credentials");const r=Vu(i);i.L_.add(3),await Vp(i),r&&i.q_.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.L_.delete(3),await uy(i)}async function XB(n,t){const i=mr(n);t?(i.L_.delete(2),await uy(i)):t||(i.L_.add(2),await Vp(i),i.q_.set("Unknown"))}function xd(n){return n.K_||(n.K_=function(i,r,s){const o=mr(i);return o.w_(),new PB(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(n.datastore,n.asyncQueue,{Eo:UB.bind(null,n),Ro:BB.bind(null,n),mo:VB.bind(null,n),d_:GB.bind(null,n)}),n.B_.push(async t=>{t?(n.K_.s_(),Ax(n)?Cx(n):n.q_.set("Unknown")):(await n.K_.stop(),pI(n))})),n.K_}function bc(n){return n.U_||(n.U_=function(i,r,s){const o=mr(i);return o.w_(),new DB(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:WB.bind(null,n),mo:$B.bind(null,n),f_:qB.bind(null,n),g_:YB.bind(null,n)}),n.B_.push(async t=>{t?(n.U_.s_(),await hy(n)):(await n.U_.stop(),n.O_.length>0&&(Yt("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))})),n.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(t,i,r,s,o){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=r,this.op=s,this.removalCallback=o,this.deferred=new dl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,i,r,s,o){const a=Date.now()+r,c=new jx(t,i,a,s,o);return c.start(r),c}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new er(kt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Rx(n,t){if(wl("AsyncQueue",`${t}: ${n}`),Fp(n))return new er(kt.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(t){this.comparator=t?(i,r)=>t(i,r)||or.comparator(i.key,r.key):(i,r)=>or.comparator(i.key,r.key),this.keyedMap=Mf(),this.sortedSet=new di(this.comparator)}static emptySet(t){return new qh(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((i,r)=>(t(i),!1))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof qh)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;i.hasNext();){const s=i.getNext().key,o=r.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(i=>{t.push(i.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const r=new qh;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=i,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(){this.W_=new di(or.comparator)}track(t){const i=t.doc.key,r=this.W_.get(i);r?t.type!==0&&r.type===3?this.W_=this.W_.insert(i,t):t.type===3&&r.type!==1?this.W_=this.W_.insert(i,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.W_=this.W_.insert(i,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.W_=this.W_.insert(i,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.W_=this.W_.remove(i):t.type===1&&r.type===2?this.W_=this.W_.insert(i,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.W_=this.W_.insert(i,{type:2,doc:t.doc}):dr():this.W_=this.W_.insert(i,t)}G_(){const t=[];return this.W_.inorderTraversal((i,r)=>{t.push(r)}),t}}class od{constructor(t,i,r,s,o,a,c,l,u){this.query=t,this.docs=i,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=c,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(t,i,r,s,o){const a=[];return i.forEach(c=>{a.push({type:0,doc:c})}),new od(t,i,qh.emptySet(i),a,r,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&iy(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,r=t.docChanges;if(i.length!==r.length)return!1;for(let s=0;s<i.length;s++)if(i[s].type!==r[s].type||!i[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KB{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(t=>t.J_())}}class QB{constructor(){this.queries=vC(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(i,r){const s=mr(i),o=s.queries;s.queries=vC(),o.forEach((a,c)=>{for(const l of c.j_)l.onError(r)})})(this,new er(kt.ABORTED,"Firestore shutting down"))}}function vC(){return new bd(n=>UO(n),iy)}async function vI(n,t){const i=mr(n);let r=3;const s=t.query;let o=i.queries.get(s);o?!o.H_()&&t.J_()&&(r=2):(o=new KB,r=t.J_()?0:1);try{switch(r){case 0:o.z_=await i.onListen(s,!0);break;case 1:o.z_=await i.onListen(s,!1);break;case 2:await i.onFirstRemoteStoreListen(s)}}catch(a){const c=Rx(a,`Initialization of query '${Lh(t.query)}' failed`);return void t.onError(c)}i.queries.set(s,o),o.j_.push(t),t.Z_(i.onlineState),o.z_&&t.X_(o.z_)&&Ox(i)}async function _I(n,t){const i=mr(n),r=t.query;let s=3;const o=i.queries.get(r);if(o){const a=o.j_.indexOf(t);a>=0&&(o.j_.splice(a,1),o.j_.length===0?s=t.J_()?0:1:!o.H_()&&t.J_()&&(s=2))}switch(s){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function ZB(n,t){const i=mr(n);let r=!1;for(const s of t){const o=s.query,a=i.queries.get(o);if(a){for(const c of a.j_)c.X_(s)&&(r=!0);a.z_=s}}r&&Ox(i)}function JB(n,t,i){const r=mr(n),s=r.queries.get(t);if(s)for(const o of s.j_)o.onError(i);r.queries.delete(t)}function Ox(n){n.Y_.forEach(t=>{t.next()})}var eb,_C;(_C=eb||(eb={})).ea="default",_C.Cache="cache";class bI{constructor(t,i,r){this.query=t,this.ta=i,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(t){if(!this.options.includeMetadataChanges){const r=[];for(const s of t.docChanges)s.type!==3&&r.push(s);t=new od(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.na?this.ia(t)&&(this.ta.next(t),i=!0):this.sa(t,this.onlineState)&&(this.oa(t),i=!0),this.ra=t,i}onError(t){this.ta.error(t)}Z_(t){this.onlineState=t;let i=!1;return this.ra&&!this.na&&this.sa(this.ra,t)&&(this.oa(this.ra),i=!0),i}sa(t,i){if(!t.fromCache||!this.J_())return!0;const r=i!=="Offline";return(!this.options._a||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}ia(t){if(t.docChanges.length>0)return!0;const i=this.ra&&this.ra.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}oa(t){t=od.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.na=!0,this.ta.next(t)}J_(){return this.options.source!==eb.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(t){this.key=t}}class wI{constructor(t){this.key=t}}class e9{constructor(t,i){this.query=t,this.Ta=i,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ar(),this.mutatedKeys=Ar(),this.Aa=BO(t),this.Ra=new qh(this.Aa)}get Va(){return this.Ta}ma(t,i){const r=i?i.fa:new yC,s=i?i.Ra:this.Ra;let o=i?i.mutatedKeys:this.mutatedKeys,a=s,c=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal((p,y)=>{const d=s.get(p),f=sy(this.query,y)?y:null,b=!!d&&this.mutatedKeys.has(d.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let v=!1;d&&f?d.data.isEqual(f.data)?b!==g&&(r.track({type:3,doc:f}),v=!0):this.ga(d,f)||(r.track({type:2,doc:f}),v=!0,(l&&this.Aa(f,l)>0||u&&this.Aa(f,u)<0)&&(c=!0)):!d&&f?(r.track({type:0,doc:f}),v=!0):d&&!f&&(r.track({type:1,doc:d}),v=!0,(l||u)&&(c=!0)),v&&(f?(a=a.add(f),o=g?o.add(p):o.delete(p)):(a=a.delete(p),o=o.delete(p)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const p=this.query.limitType==="F"?a.last():a.first();a=a.delete(p.key),o=o.delete(p.key),r.track({type:1,doc:p})}return{Ra:a,fa:r,ns:c,mutatedKeys:o}}ga(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,r,s){const o=this.Ra;this.Ra=t.Ra,this.mutatedKeys=t.mutatedKeys;const a=t.fa.G_();a.sort((p,y)=>function(f,b){const g=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return dr()}};return g(f)-g(b)}(p.type,y.type)||this.Aa(p.doc,y.doc)),this.pa(r),s=s!=null&&s;const c=i&&!s?this.ya():[],l=this.da.size===0&&this.current&&!s?1:0,u=l!==this.Ea;return this.Ea=l,a.length!==0||u?{snapshot:new od(this.query,t.Ra,o,a,t.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:c}:{wa:c}}Z_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new yC,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(t){return!this.Ta.has(t)&&!!this.Ra.has(t)&&!this.Ra.get(t).hasLocalMutations}pa(t){t&&(t.addedDocuments.forEach(i=>this.Ta=this.Ta.add(i)),t.modifiedDocuments.forEach(i=>{}),t.removedDocuments.forEach(i=>this.Ta=this.Ta.delete(i)),this.current=t.current)}ya(){if(!this.current)return[];const t=this.da;this.da=Ar(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const i=[];return t.forEach(r=>{this.da.has(r)||i.push(new wI(r))}),this.da.forEach(r=>{t.has(r)||i.push(new xI(r))}),i}ba(t){this.Ta=t.Ts,this.da=Ar();const i=this.ma(t.documents);return this.applyChanges(i,!0)}Da(){return od.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class t9{constructor(t,i,r){this.query=t,this.targetId=i,this.view=r}}class r9{constructor(t){this.key=t,this.va=!1}}class n9{constructor(t,i,r,s,o,a){this.localStore=t,this.remoteStore=i,this.eventManager=r,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new bd(c=>UO(c),iy),this.Ma=new Map,this.xa=new Set,this.Oa=new di(or.comparator),this.Na=new Map,this.La=new xx,this.Ba={},this.ka=new Map,this.qa=ad.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function i9(n,t,i=!0){const r=jI(n);let s;const o=r.Fa.get(t);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.Da()):s=await SI(r,t,i,!0),s}async function s9(n,t){const i=jI(n);await SI(i,t,!0,!1)}async function SI(n,t,i,r){const s=await AB(n.localStore,To(t)),o=s.targetId,a=n.sharedClientState.addLocalQueryTarget(o,i);let c;return r&&(c=await a9(n,t,o,a==="current",s.resumeToken)),n.isPrimaryClient&&i&&dI(n.remoteStore,s),c}async function a9(n,t,i,r,s){n.Ka=(y,d,f)=>async function(g,v,_,x){let w=v.view.ma(_);w.ns&&(w=await fC(g.localStore,v.query,!1).then(({documents:A})=>v.view.ma(A,w)));const S=x&&x.targetChanges.get(v.targetId),R=x&&x.targetMismatches.get(v.targetId)!=null,D=v.view.applyChanges(w,g.isPrimaryClient,S,R);return xC(g,v.targetId,D.wa),D.snapshot}(n,y,d,f);const o=await fC(n.localStore,t,!0),a=new e9(t,o.Ts),c=a.ma(o.documents),l=Bp.createSynthesizedTargetChangeForCurrentChange(i,r&&n.onlineState!=="Offline",s),u=a.applyChanges(c,n.isPrimaryClient,l);xC(n,i,u.wa);const p=new t9(t,i,a);return n.Fa.set(t,p),n.Ma.has(i)?n.Ma.get(i).push(t):n.Ma.set(i,[t]),u.snapshot}async function o9(n,t,i){const r=mr(n),s=r.Fa.get(t),o=r.Ma.get(s.targetId);if(o.length>1)return r.Ma.set(s.targetId,o.filter(a=>!iy(a,t))),void r.Fa.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await J_(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),i&&Tx(r.remoteStore,s.targetId),tb(r,s.targetId)}).catch(Lp)):(tb(r,s.targetId),await J_(r.localStore,s.targetId,!0))}async function l9(n,t){const i=mr(n),r=i.Fa.get(t),s=i.Ma.get(r.targetId);i.isPrimaryClient&&s.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),Tx(i.remoteStore,r.targetId))}async function c9(n,t,i){const r=g9(n);try{const s=await function(a,c){const l=mr(a),u=ui.now(),p=c.reduce((f,b)=>f.add(b.key),Ar());let y,d;return l.persistence.runTransaction("Locally write mutations","readwrite",f=>{let b=Sl(),g=Ar();return l.cs.getEntries(f,p).next(v=>{b=v,b.forEach((_,x)=>{x.isValidDocument()||(g=g.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(f,b)).next(v=>{y=v;const _=[];for(const x of c){const w=IU(x,y.get(x.key).overlayedDocument);w!=null&&_.push(new Bu(x.key,w,kO(w.value.mapValue),Eo.exists(!0)))}return l.mutationQueue.addMutationBatch(f,u,_,c)}).next(v=>{d=v;const _=v.applyToLocalDocumentSet(y,g);return l.documentOverlayCache.saveOverlays(f,v.batchId,_)})}).then(()=>({batchId:d.batchId,changes:GO(y)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(s.batchId),function(a,c,l){let u=a.Ba[a.currentUser.toKey()];u||(u=new di(zr)),u=u.insert(c,l),a.Ba[a.currentUser.toKey()]=u}(r,s.batchId,i),await Gp(r,s.changes),await hy(r.remoteStore)}catch(s){const o=Rx(s,"Failed to persist write");i.reject(o)}}async function TI(n,t){const i=mr(n);try{const r=await TB(i.localStore,t);t.targetChanges.forEach((s,o)=>{const a=i.Na.get(o);a&&(sn(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?a.va=!0:s.modifiedDocuments.size>0?sn(a.va):s.removedDocuments.size>0&&(sn(a.va),a.va=!1))}),await Gp(i,r,t)}catch(r){await Lp(r)}}function bC(n,t,i){const r=mr(n);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const s=[];r.Fa.forEach((o,a)=>{const c=a.view.Z_(t);c.snapshot&&s.push(c.snapshot)}),function(a,c){const l=mr(a);l.onlineState=c;let u=!1;l.queries.forEach((p,y)=>{for(const d of y.j_)d.Z_(c)&&(u=!0)}),u&&Ox(l)}(r.eventManager,t),s.length&&r.Ca.d_(s),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function u9(n,t,i){const r=mr(n);r.sharedClientState.updateQueryState(t,"rejected",i);const s=r.Na.get(t),o=s&&s.key;if(o){let a=new di(or.comparator);a=a.insert(o,ss.newNoDocument(o,pr.min()));const c=Ar().add(o),l=new ly(pr.min(),new Map,new di(zr),a,c);await TI(r,l),r.Oa=r.Oa.remove(o),r.Na.delete(t),Ix(r)}else await J_(r.localStore,t,!1).then(()=>tb(r,t,i)).catch(Lp)}async function h9(n,t){const i=mr(n),r=t.batch.batchId;try{const s=await SB(i.localStore,t);CI(i,r,null),EI(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await Gp(i,s)}catch(s){await Lp(s)}}async function d9(n,t,i){const r=mr(n);try{const s=await function(a,c){const l=mr(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let p;return l.mutationQueue.lookupMutationBatch(u,c).next(y=>(sn(y!==null),p=y.keys(),l.mutationQueue.removeMutationBatch(u,y))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,p,c)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,p)).next(()=>l.localDocuments.getDocuments(u,p))})}(r.localStore,t);CI(r,t,i),EI(r,t),r.sharedClientState.updateMutationState(t,"rejected",i),await Gp(r,s)}catch(s){await Lp(s)}}function EI(n,t){(n.ka.get(t)||[]).forEach(i=>{i.resolve()}),n.ka.delete(t)}function CI(n,t,i){const r=mr(n);let s=r.Ba[r.currentUser.toKey()];if(s){const o=s.get(t);o&&(i?o.reject(i):o.resolve(),s=s.remove(t)),r.Ba[r.currentUser.toKey()]=s}}function tb(n,t,i=null){n.sharedClientState.removeLocalQueryTarget(t);for(const r of n.Ma.get(t))n.Fa.delete(r),i&&n.Ca.$a(r,i);n.Ma.delete(t),n.isPrimaryClient&&n.La.gr(t).forEach(r=>{n.La.containsKey(r)||AI(n,r)})}function AI(n,t){n.xa.delete(t.path.canonicalString());const i=n.Oa.get(t);i!==null&&(Tx(n.remoteStore,i),n.Oa=n.Oa.remove(t),n.Na.delete(i),Ix(n))}function xC(n,t,i){for(const r of i)r instanceof xI?(n.La.addReference(r.key,t),f9(n,r)):r instanceof wI?(Yt("SyncEngine","Document no longer in limbo: "+r.key),n.La.removeReference(r.key,t),n.La.containsKey(r.key)||AI(n,r.key)):dr()}function f9(n,t){const i=t.key,r=i.path.canonicalString();n.Oa.get(i)||n.xa.has(r)||(Yt("SyncEngine","New document in limbo: "+i),n.xa.add(r),Ix(n))}function Ix(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){const t=n.xa.values().next().value;n.xa.delete(t);const i=new or(Rn.fromString(t)),r=n.qa.next();n.Na.set(r,new r9(i)),n.Oa=n.Oa.insert(i,r),dI(n.remoteStore,new cc(To(gx(i.path)),r,"TargetPurposeLimboResolution",ux.oe))}}async function Gp(n,t,i){const r=mr(n),s=[],o=[],a=[];r.Fa.isEmpty()||(r.Fa.forEach((c,l)=>{a.push(r.Ka(l,t,i).then(u=>{var p;if((u||i)&&r.isPrimaryClient){const y=u?!u.fromCache:(p=i==null?void 0:i.targetChanges.get(l.targetId))===null||p===void 0?void 0:p.current;r.sharedClientState.updateQueryState(l.targetId,y?"current":"not-current")}if(u){s.push(u);const y=Sx.Wi(l.targetId,u);o.push(y)}}))}),await Promise.all(a),r.Ca.d_(s),await async function(l,u){const p=mr(l);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>Mt.forEach(u,d=>Mt.forEach(d.$i,f=>p.persistence.referenceDelegate.addReference(y,d.targetId,f)).next(()=>Mt.forEach(d.Ui,f=>p.persistence.referenceDelegate.removeReference(y,d.targetId,f)))))}catch(y){if(!Fp(y))throw y;Yt("LocalStore","Failed to update sequence numbers: "+y)}for(const y of u){const d=y.targetId;if(!y.fromCache){const f=p.os.get(d),b=f.snapshotVersion,g=f.withLastLimboFreeSnapshotVersion(b);p.os=p.os.insert(d,g)}}}(r.localStore,o))}async function p9(n,t){const i=mr(n);if(!i.currentUser.isEqual(t)){Yt("SyncEngine","User change. New user:",t.toKey());const r=await lI(i.localStore,t);i.currentUser=t,function(o,a){o.ka.forEach(c=>{c.forEach(l=>{l.reject(new er(kt.CANCELLED,a))})}),o.ka.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Gp(i,r.hs)}}function m9(n,t){const i=mr(n),r=i.Na.get(t);if(r&&r.va)return Ar().add(r.key);{let s=Ar();const o=i.Ma.get(t);if(!o)return s;for(const a of o){const c=i.Fa.get(a);s=s.unionWith(c.view.Va)}return s}}function jI(n){const t=mr(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=TI.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=m9.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=u9.bind(null,t),t.Ca.d_=ZB.bind(null,t.eventManager),t.Ca.$a=JB.bind(null,t.eventManager),t}function g9(n){const t=mr(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=h9.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=d9.bind(null,t),t}class ug{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=cy(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),await this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)}ja(t,i){return null}Ha(t,i){return null}za(t){return wB(this.persistence,new bB,t.initialUser,this.serializer)}Ga(t){return new yB(wx.Zr,this.serializer)}Wa(t){return new RB}async terminate(){var t,i;(t=this.gcScheduler)===null||t===void 0||t.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ug.provider={build:()=>new ug};class rb{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>bC(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=p9.bind(null,this.syncEngine),await XB(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new QB}()}createDatastore(t){const i=cy(t.databaseInfo.databaseId),r=function(o){return new MB(o)}(t.databaseInfo);return function(o,a,c,l){return new NB(o,a,c,l)}(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return function(r,s,o,a,c){return new FB(r,s,o,a,c)}(this.localStore,this.datastore,t.asyncQueue,i=>bC(this.syncEngine,i,0),function(){return mC.D()?new mC:new OB}())}createSyncEngine(t,i){return function(s,o,a,c,l,u,p){const y=new n9(s,o,a,c,l,u);return p&&(y.Qa=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){var t,i;await async function(s){const o=mr(s);Yt("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await Vp(o),o.k_.shutdown(),o.q_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}rb.provider={build:()=>new rb};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ya(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ya(this.observer.error,t):wl("Uncaught Error in snapshot listener:",t.toString()))}Za(){this.muted=!0}Ya(t,i){setTimeout(()=>{this.muted||t(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y9{constructor(t,i,r,s,o){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=s,this.user=is.UNAUTHENTICATED,this.clientId=RO.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async a=>{Yt("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(Yt("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new dl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=Rx(i,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function z1(n,t){n.asyncQueue.verifyOperationInProgress(),Yt("FirestoreClient","Initializing OfflineComponentProvider");const i=n.configuration;await t.initialize(i);let r=i.initialUser;n.setCredentialChangeListener(async s=>{r.isEqual(s)||(await lI(t.localStore,s),r=s)}),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}async function wC(n,t){n.asyncQueue.verifyOperationInProgress();const i=await v9(n);Yt("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(i,n.configuration),n.setCredentialChangeListener(r=>gC(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>gC(t.remoteStore,s)),n._onlineComponents=t}async function v9(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Yt("FirestoreClient","Using user provided OfflineComponentProvider");try{await z1(n,n._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!function(s){return s.name==="FirebaseError"?s.code===kt.FAILED_PRECONDITION||s.code===kt.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(i))throw i;rd("Error using user provided cache. Falling back to memory cache: "+i),await z1(n,new ug)}}else Yt("FirestoreClient","Using default OfflineComponentProvider"),await z1(n,new ug);return n._offlineComponents}async function OI(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Yt("FirestoreClient","Using user provided OnlineComponentProvider"),await wC(n,n._uninitializedComponentsProvider._online)):(Yt("FirestoreClient","Using default OnlineComponentProvider"),await wC(n,new rb))),n._onlineComponents}function _9(n){return OI(n).then(t=>t.syncEngine)}async function II(n){const t=await OI(n),i=t.eventManager;return i.onListen=i9.bind(null,t.syncEngine),i.onUnlisten=o9.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=s9.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=l9.bind(null,t.syncEngine),i}function b9(n,t,i={}){const r=new dl;return n.asyncQueue.enqueueAndForget(async()=>function(o,a,c,l,u){const p=new RI({next:d=>{p.Za(),a.enqueueAndForget(()=>_I(o,y));const f=d.docs.has(c);!f&&d.fromCache?u.reject(new er(kt.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&d.fromCache&&l&&l.source==="server"?u.reject(new er(kt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(d)},error:d=>u.reject(d)}),y=new bI(gx(c.path),p,{includeMetadataChanges:!0,_a:!0});return vI(o,y)}(await II(n),n.asyncQueue,t,i,r)),r.promise}function x9(n,t,i={}){const r=new dl;return n.asyncQueue.enqueueAndForget(async()=>function(o,a,c,l,u){const p=new RI({next:d=>{p.Za(),a.enqueueAndForget(()=>_I(o,y)),d.fromCache&&l.source==="server"?u.reject(new er(kt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(d)},error:d=>u.reject(d)}),y=new bI(c,p,{includeMetadataChanges:!0,_a:!0});return vI(o,y)}(await II(n),n.asyncQueue,t,i,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kI(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MI(n,t,i){if(!i)throw new er(kt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function w9(n,t,i,r){if(t===!0&&r===!0)throw new er(kt.INVALID_ARGUMENT,`${n} and ${i} cannot be used together.`)}function TC(n){if(!or.isDocumentKey(n))throw new er(kt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function EC(n){if(or.isDocumentKey(n))throw new er(kt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function kx(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":dr()}function xc(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new er(kt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=kx(n);throw new er(kt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(t){var i,r;if(t.host===void 0){if(t.ssl!==void 0)throw new er(kt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(i=t.ssl)===null||i===void 0||i;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new er(kt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}w9("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kI((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new er(kt.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new er(kt.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new er(kt.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class dy{constructor(t,i,r,s){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new CC({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new er(kt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new er(kt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new CC(t),t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new U8;switch(r.type){case"firstParty":return new z8(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new er(kt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const r=SC.get(i);r&&(Yt("ComponentProvider","Removing Datastore"),SC.delete(i),r.terminate())}(this),Promise.resolve()}}function S9(n,t,i,r={}){var s;const o=(n=xc(n,dy))._getSettings(),a=`${t}:${i}`;if(o.host!=="firestore.googleapis.com"&&o.host!==a&&rd("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:a,ssl:!1})),r.mockUserToken){let c,l;if(typeof r.mockUserToken=="string")c=r.mockUserToken,l=is.MOCK_USER;else{c=Lb(r.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new er(kt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new is(u)}n._authCredentials=new B8(new jO(c,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{constructor(t,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new fy(this.firestore,t,this._query)}}class ra{constructor(t,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gc(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ra(this.firestore,t,this._key)}}class gc extends fy{constructor(t,i,r){super(t,i,gx(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ra(this.firestore,null,new or(t))}withConverter(t){return new gc(this.firestore,t,this._path)}}function Ra(n,t,...i){if(n=Lr(n),MI("collection","path",t),n instanceof dy){const r=Rn.fromString(t,...i);return EC(r),new gc(n,null,r)}{if(!(n instanceof ra||n instanceof gc))throw new er(kt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Rn.fromString(t,...i));return EC(r),new gc(n.firestore,null,r)}}function Tl(n,t,...i){if(n=Lr(n),arguments.length===1&&(t=RO.newId()),MI("doc","path",t),n instanceof dy){const r=Rn.fromString(t,...i);return TC(r),new ra(n,null,new or(r))}{if(!(n instanceof ra||n instanceof gc))throw new er(kt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Rn.fromString(t,...i));return TC(r),new ra(n.firestore,n instanceof gc?n.converter:null,new or(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(t=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new uI(this,"async_queue_retry"),this.Vu=()=>{const r=G1();r&&Yt("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=t;const i=G1();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.fu(),this.gu(t)}enterRestrictedMode(t){if(!this.Iu){this.Iu=!0,this.Au=t||!1;const i=G1();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.Vu)}}enqueue(t){if(this.fu(),this.Iu)return new Promise(()=>{});const i=new dl;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(t().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Pu.push(t),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(t){if(!Fp(t))throw t;Yt("AsyncQueue","Operation failed with retryable error: "+t)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(t){const i=this.mu.then(()=>(this.du=!0,t().catch(r=>{this.Eu=r,this.du=!1;const s=function(a){let c=a.message||"";return a.stack&&(c=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),c}(r);throw wl("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.du=!1,r))));return this.mu=i,i}enqueueAfterDelay(t,i,r){this.fu(),this.Ru.indexOf(t)>-1&&(i=0);const s=jx.createAndSchedule(this,t,i,r,o=>this.yu(o));return this.Tu.push(s),s}fu(){this.Eu&&dr()}verifyOperationInProgress(){}async wu(){let t;do t=this.mu,await t;while(t!==this.mu)}Su(t){for(const i of this.Tu)if(i.timerId===t)return!0;return!1}bu(t){return this.wu().then(()=>{this.Tu.sort((i,r)=>i.targetTimeMs-r.targetTimeMs);for(const i of this.Tu)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.wu()})}Du(t){this.Ru.push(t)}yu(t){const i=this.Tu.indexOf(t);this.Tu.splice(i,1)}}class zp extends dy{constructor(t,i,r,s){super(t,i,r,s),this.type="firestore",this._queue=new AC,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new AC(t),this._firestoreClient=void 0,await t}}}function T9(n,t){const i=typeof n=="object"?n:gd(),r=typeof n=="string"?n:"(default)",s=Il(i,"firestore").getImmediate({identifier:r});if(!s._initialized){const o=Nb("firestore");o&&S9(s,...o)}return s}function Mx(n){if(n._terminated)throw new er(kt.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||E9(n),n._firestoreClient}function E9(n){var t,i,r;const s=n._freezeSettings(),o=function(c,l,u,p){return new rU(c,l,u,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,kI(p.experimentalLongPollingOptions),p.useFetchStreams)}(n._databaseId,((t=n._app)===null||t===void 0?void 0:t.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((i=s.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new y9(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(c){const l=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(l),_online:l}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ld(Ki.fromBase64String(t))}catch(i){throw new er(kt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new ld(Ki.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new er(kt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wi(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new er(kt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new er(kt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return zr(this._lat,t._lat)||zr(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(t){this._values=(t||[]).map(i=>i)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(r,s){if(r.length!==s.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==s[o])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C9=/^__.*__$/;class A9{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return this.fieldMask!==null?new Bu(t,this.data,this.fieldMask,i,this.fieldTransforms):new Up(t,this.data,i,this.fieldTransforms)}}function DI(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw dr()}}class Lx{constructor(t,i,r,s,o,a){this.settings=t,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=s,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(t){return new Lx(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(t){var i;const r=(i=this.path)===null||i===void 0?void 0:i.child(t),s=this.Fu({path:r,xu:!1});return s.Ou(t),s}Nu(t){var i;const r=(i=this.path)===null||i===void 0?void 0:i.child(t),s=this.Fu({path:r,xu:!1});return s.vu(),s}Lu(t){return this.Fu({path:void 0,xu:!0})}Bu(t){return hg(t,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(t){return this.fieldMask.find(i=>t.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>t.isPrefixOf(i.field))!==void 0}vu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Ou(this.path.get(t))}Ou(t){if(t.length===0)throw this.Bu("Document fields must not be empty");if(DI(this.Cu)&&C9.test(t))throw this.Bu('Document fields cannot begin and end with "__"')}}class j9{constructor(t,i,r){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=r||cy(t)}Qu(t,i,r,s=!1){return new Lx({Cu:t,methodName:i,qu:r,path:Wi.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function NI(n){const t=n._freezeSettings(),i=cy(n._databaseId);return new j9(n._databaseId,!!t.ignoreUndefinedProperties,i)}function LI(n,t,i,r,s,o={}){const a=n.Qu(o.merge||o.mergeFields?2:0,t,i,s);VI("Data must be an object, but it was:",a,r);const c=UI(r,a);let l,u;if(o.merge)l=new Ka(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){const p=[];for(const y of o.mergeFields){const d=R9(t,y,i);if(!a.contains(d))throw new er(kt.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);I9(p,d)||p.push(d)}l=new Ka(p),u=a.fieldTransforms.filter(y=>l.covers(y.field))}else l=null,u=a.fieldTransforms;return new A9(new Ea(c),l,u)}function FI(n,t){if(BI(n=Lr(n)))return VI("Unsupported field value:",t,n),UI(n,t);if(n instanceof PI)return function(r,s){if(!DI(s.Cu))throw s.Bu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Bu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(s);o&&s.fieldTransforms.push(o)}(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.xu&&t.Cu!==4)throw t.Bu("Nested arrays are not supported");return function(r,s){const o=[];let a=0;for(const c of r){let l=FI(c,s.Lu(a));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),a++}return{arrayValue:{values:o}}}(n,t)}return function(r,s){if((r=Lr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return EU(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=ui.fromDate(r);return{timestampValue:lg(s.serializer,o)}}if(r instanceof ui){const o=new ui(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:lg(s.serializer,o)}}if(r instanceof Dx)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ld)return{bytesValue:tI(s.serializer,r._byteString)};if(r instanceof ra){const o=s.databaseId,a=r.firestore._databaseId;if(!a.isEqual(o))throw s.Bu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:bx(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Nx)return function(a,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(l=>{if(typeof l!="number")throw c.Bu("VectorValues must only contain numeric values.");return yx(c.serializer,l)})}}}}}}(r,s);throw s.Bu(`Unsupported field value: ${kx(r)}`)}(n,t)}function UI(n,t){const i={};return OO(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):_d(n,(r,s)=>{const o=FI(s,t.Mu(r));o!=null&&(i[r]=o)}),{mapValue:{fields:i}}}function BI(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ui||n instanceof Dx||n instanceof ld||n instanceof ra||n instanceof PI||n instanceof Nx)}function VI(n,t,i){if(!BI(i)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(i)){const r=kx(i);throw r==="an object"?t.Bu(n+" a custom object"):t.Bu(n+" "+r)}}function R9(n,t,i){if((t=Lr(t))instanceof Px)return t._internalPath;if(typeof t=="string")return GI(n,t);throw hg("Field path arguments must be of type string or ",n,!1,void 0,i)}const O9=new RegExp("[~\\*/\\[\\]]");function GI(n,t,i){if(t.search(O9)>=0)throw hg(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,i);try{return new Px(...t.split("."))._internalPath}catch{throw hg(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,i)}}function hg(n,t,i,r,s){const o=r&&!r.isEmpty(),a=s!==void 0;let c=`Function ${t}() called with invalid data`;i&&(c+=" (via `toFirestore()`)"),c+=". ";let l="";return(o||a)&&(l+=" (found",o&&(l+=` in field ${r}`),a&&(l+=` in document ${s}`),l+=")"),new er(kt.INVALID_ARGUMENT,c+n+l)}function I9(n,t){return n.some(i=>i.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(t,i,r,s,o){this._firestore=t,this._userDataWriter=i,this._key=r,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new ra(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new k9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(HI("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class k9 extends zI{data(){return super.data()}}function HI(n,t){return typeof t=="string"?GI(n,t):t instanceof Px?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M9(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new er(kt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class P9{convertValue(t,i="none"){switch(Tu(t)){case 0:return null;case 1:return t.booleanValue;case 2:return $n(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Su(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw dr()}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const r={};return _d(t,(s,o)=>{r[s]=this.convertValue(o,i)}),r}convertVectorValue(t){var i,r,s;const o=(s=(r=(i=t.fields)===null||i===void 0?void 0:i.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(a=>$n(a.doubleValue));return new Nx(o)}convertGeoPoint(t){return new Dx($n(t.latitude),$n(t.longitude))}convertArray(t,i){return(t.values||[]).map(r=>this.convertValue(r,i))}convertServerTimestamp(t,i){switch(i){case"previous":const r=dx(t);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(up(t));default:return null}}convertTimestamp(t){const i=_c(t);return new ui(i.seconds,i.nanos)}convertDocumentKey(t,i){const r=Rn.fromString(t);sn(oI(r));const s=new hp(r.get(1),r.get(3)),o=new or(r.popFirst(5));return s.isEqual(i)||wl(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WI(n,t,i){let r;return r=n?i&&(i.merge||i.mergeFields)?n.toFirestore(t,i):n.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class qI extends zI{constructor(t,i,r,s,o,a){super(t,i,r,s,a),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new U0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const r=this._document.data.field(HI("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}}class U0 extends qI{data(t={}){return super.data(t)}}class D9{constructor(t,i,r,s){this._firestore=t,this._userDataWriter=i,this._snapshot=s,this.metadata=new Df(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const t=[];return this.forEach(i=>t.push(i)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach(r=>{t.call(i,new U0(this._firestore,this._userDataWriter,r.key,r,new Df(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new er(kt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(s,o){if(s._snapshot.oldDocs.isEmpty()){let a=0;return s._snapshot.docChanges.map(c=>{const l=new U0(s._firestore,s._userDataWriter,c.doc.key,c.doc,new Df(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}})}{let a=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{const l=new U0(s._firestore,s._userDataWriter,c.doc.key,c.doc,new Df(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,p=-1;return c.type!==0&&(u=a.indexOf(c.doc.key),a=a.delete(c.doc.key)),c.type!==1&&(a=a.add(c.doc),p=a.indexOf(c.doc.key)),{type:N9(c.type),doc:l,oldIndex:u,newIndex:p}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function N9(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return dr()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jC(n){n=xc(n,ra);const t=xc(n.firestore,zp);return b9(Mx(t),n._key).then(i=>F9(t,n,i))}class YI extends P9{constructor(t){super(),this.firestore=t}convertBytes(t){return new ld(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new ra(this.firestore,null,i)}}function L9(n){n=xc(n,fy);const t=xc(n.firestore,zp),i=Mx(t),r=new YI(t);return M9(n._query),x9(i,n._query).then(s=>new D9(t,r,n,s))}function Gu(n,t,i){n=xc(n,ra);const r=xc(n.firestore,zp),s=WI(n.converter,t,i);return $I(r,[LI(NI(r),"setDoc",n._key,s,n.converter!==null,i).toMutation(n._key,Eo.none())])}function mp(n,t){const i=xc(n.firestore,zp),r=Tl(n),s=WI(n.converter,t);return $I(i,[LI(NI(n.firestore),"addDoc",r._key,s,n.converter!==null,{}).toMutation(r._key,Eo.exists(!1))]).then(()=>r)}function $I(n,t){return function(r,s){const o=new dl;return r.asyncQueue.enqueueAndForget(async()=>c9(await _9(r),s,o)),o.promise}(Mx(n),t)}function F9(n,t,i){const r=i.docs.get(t._key),s=new YI(n);return new qI(n,s,t._key,r,new Df(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){(function(s){vd=s})(Ac),ja(new sa("firestore",(r,{instanceIdentifier:s,options:o})=>{const a=r.getProvider("app").getImmediate(),c=new zp(new V8(r.getProvider("auth-internal")),new W8(r.getProvider("app-check-internal")),function(u,p){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new er(kt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hp(u.options.projectId,p)}(a,s),a);return o=Object.assign({useFetchStreams:i},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),ls(qE,"4.7.3",t),ls(qE,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XI="firebasestorage.googleapis.com",KI="storageBucket",U9=2*60*1e3,B9=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn extends Ia{constructor(t,i,r=0){super(H1(t),`Firebase Storage: ${i} (${H1(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,zn.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return H1(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Gn;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Gn||(Gn={}));function H1(n){return"storage/"+n}function Fx(){const n="An unknown error occurred, please check the error payload for server response.";return new zn(Gn.UNKNOWN,n)}function V9(n){return new zn(Gn.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function G9(n){return new zn(Gn.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function z9(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new zn(Gn.UNAUTHENTICATED,n)}function H9(){return new zn(Gn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function W9(n){return new zn(Gn.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function q9(){return new zn(Gn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Y9(){return new zn(Gn.CANCELED,"User canceled the upload/download.")}function $9(n){return new zn(Gn.INVALID_URL,"Invalid URL '"+n+"'.")}function X9(n){return new zn(Gn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function K9(){return new zn(Gn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+KI+"' property when initializing the app?")}function Q9(){return new zn(Gn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Z9(){return new zn(Gn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function J9(n){return new zn(Gn.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function nb(n){return new zn(Gn.INVALID_ARGUMENT,n)}function QI(){return new zn(Gn.APP_DELETED,"The Firebase app was deleted.")}function eV(n){return new zn(Gn.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function zf(n,t){return new zn(Gn.INVALID_FORMAT,"String does not match format '"+n+"': "+t)}function vf(n){throw new zn(Gn.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(t,i){this.bucket=t,this.path_=i}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,i){let r;try{r=ta.makeFromUrl(t,i)}catch{return new ta(t,"")}if(r.path==="")return r;throw X9(t)}static makeFromUrl(t,i){let r=null;const s="([A-Za-z0-9.\\-_]+)";function o(S){S.path.charAt(S.path.length-1)==="/"&&(S.path_=S.path_.slice(0,-1))}const a="(/(.*))?$",c=new RegExp("^gs://"+s+a,"i"),l={bucket:1,path:3};function u(S){S.path_=decodeURIComponent(S.path)}const p="v[A-Za-z0-9_]+",y=i.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",f=new RegExp(`^https?://${y}/${p}/b/${s}/o${d}`,"i"),b={bucket:1,path:3},g=i===XI?"(?:storage.googleapis.com|storage.cloud.google.com)":i,v="([^?#]*)",_=new RegExp(`^https?://${g}/${s}/${v}`,"i"),w=[{regex:c,indices:l,postModify:o},{regex:f,indices:b,postModify:u},{regex:_,indices:{bucket:1,path:2},postModify:u}];for(let S=0;S<w.length;S++){const R=w[S],D=R.regex.exec(t);if(D){const A=D[R.indices.bucket];let C=D[R.indices.path];C||(C=""),r=new ta(A,C),R.postModify(r);break}}if(r==null)throw $9(t);return r}}class tV{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rV(n,t,i){let r=1,s=null,o=null,a=!1,c=0;function l(){return c===2}let u=!1;function p(...v){u||(u=!0,t.apply(null,v))}function y(v){s=setTimeout(()=>{s=null,n(f,l())},v)}function d(){o&&clearTimeout(o)}function f(v,..._){if(u){d();return}if(v){d(),p.call(null,v,..._);return}if(l()||a){d(),p.call(null,v,..._);return}r<64&&(r*=2);let w;c===1?(c=2,w=0):w=(r+Math.random())*1e3,y(w)}let b=!1;function g(v){b||(b=!0,d(),!u&&(s!==null?(v||(c=2),clearTimeout(s),y(0)):v||(c=1)))}return y(0),o=setTimeout(()=>{a=!0,g(!0)},i),g}function nV(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iV(n){return n!==void 0}function sV(n){return typeof n=="object"&&!Array.isArray(n)}function Ux(n){return typeof n=="string"||n instanceof String}function RC(n){return Bx()&&n instanceof Blob}function Bx(){return typeof Blob<"u"}function OC(n,t,i,r){if(r<t)throw nb(`Invalid value for '${n}'. Expected ${t} or greater.`);if(r>i)throw nb(`Invalid value for '${n}'. Expected ${i} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vx(n,t,i){let r=t;return i==null&&(r=`https://${t}`),`${i}://${r}/v0${n}`}function ZI(n){const t=encodeURIComponent;let i="?";for(const r in n)if(n.hasOwnProperty(r)){const s=t(r)+"="+t(n[r]);i=i+s+"&"}return i=i.slice(0,-1),i}var _u;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(_u||(_u={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aV(n,t){const i=n>=500&&n<600,s=[408,429].indexOf(n)!==-1,o=t.indexOf(n)!==-1;return i||s||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oV{constructor(t,i,r,s,o,a,c,l,u,p,y,d=!0){this.url_=t,this.method_=i,this.headers_=r,this.body_=s,this.successCodes_=o,this.additionalRetryCodes_=a,this.callback_=c,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=p,this.connectionFactory_=y,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((f,b)=>{this.resolve_=f,this.reject_=b,this.start_()})}start_(){const t=(r,s)=>{if(s){r(!1,new a0(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const a=c=>{const l=c.loaded,u=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&o.addUploadProgressListener(a),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(a),this.pendingConnection_=null;const c=o.getErrorCode()===_u.NO_ERROR,l=o.getStatus();if(!c||aV(l,this.additionalRetryCodes_)&&this.retry){const p=o.getErrorCode()===_u.ABORT;r(!1,new a0(!1,null,p));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new a0(u,o))})},i=(r,s)=>{const o=this.resolve_,a=this.reject_,c=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(c,c.getResponse());iV(l)?o(l):o()}catch(l){a(l)}else if(c!==null){const l=Fx();l.serverResponse=c.getErrorText(),this.errorCallback_?a(this.errorCallback_(c,l)):a(l)}else if(s.canceled){const l=this.appDelete_?QI():Y9();a(l)}else{const l=q9();a(l)}};this.canceled_?i(!1,new a0(!1,null,!0)):this.backoffId_=rV(t,i,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&nV(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class a0{constructor(t,i,r){this.wasSuccessCode=t,this.connection=i,this.canceled=!!r}}function lV(n,t){t!==null&&t.length>0&&(n.Authorization="Firebase "+t)}function cV(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function uV(n,t){t&&(n["X-Firebase-GMPID"]=t)}function hV(n,t){t!==null&&(n["X-Firebase-AppCheck"]=t)}function dV(n,t,i,r,s,o,a=!0){const c=ZI(n.urlParams),l=n.url+c,u=Object.assign({},n.headers);return uV(u,t),lV(u,i),cV(u,o),hV(u,r),new oV(l,n.method,u,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,s,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fV(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function pV(...n){const t=fV();if(t!==void 0){const i=new t;for(let r=0;r<n.length;r++)i.append(n[r]);return i.getBlob()}else{if(Bx())return new Blob(n);throw new zn(Gn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function mV(n,t,i){return n.webkitSlice?n.webkitSlice(t,i):n.mozSlice?n.mozSlice(t,i):n.slice?n.slice(t,i):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gV(n){if(typeof atob>"u")throw J9("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qa={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class W1{constructor(t,i){this.data=t,this.contentType=i||null}}function JI(n,t){switch(n){case Qa.RAW:return new W1(ek(t));case Qa.BASE64:case Qa.BASE64URL:return new W1(tk(n,t));case Qa.DATA_URL:return new W1(vV(t),_V(t))}throw Fx()}function ek(n){const t=[];for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(i<n.length-1&&(n.charCodeAt(i+1)&64512)===56320))t.push(239,191,189);else{const o=r,a=n.charCodeAt(++i);r=65536|(o&1023)<<10|a&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function yV(n){let t;try{t=decodeURIComponent(n)}catch{throw zf(Qa.DATA_URL,"Malformed data URL.")}return ek(t)}function tk(n,t){switch(n){case Qa.BASE64:{const s=t.indexOf("-")!==-1,o=t.indexOf("_")!==-1;if(s||o)throw zf(n,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Qa.BASE64URL:{const s=t.indexOf("+")!==-1,o=t.indexOf("/")!==-1;if(s||o)throw zf(n,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let i;try{i=gV(t)}catch(s){throw s.message.includes("polyfill")?s:zf(n,"Invalid character found")}const r=new Uint8Array(i.length);for(let s=0;s<i.length;s++)r[s]=i.charCodeAt(s);return r}class rk{constructor(t){this.base64=!1,this.contentType=null;const i=t.match(/^data:([^,]+)?,/);if(i===null)throw zf(Qa.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=i[1]||null;r!=null&&(this.base64=bV(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}}function vV(n){const t=new rk(n);return t.base64?tk(Qa.BASE64,t.rest):yV(t.rest)}function _V(n){return new rk(n).contentType}function bV(n,t){return n.length>=t.length?n.substring(n.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(t,i){let r=0,s="";RC(t)?(this.data_=t,r=t.size,s=t.type):t instanceof ArrayBuffer?(i?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(i?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(t,i){if(RC(this.data_)){const r=this.data_,s=mV(r,t,i);return s===null?null:new oc(s)}else{const r=new Uint8Array(this.data_.buffer,t,i-t);return new oc(r,!0)}}static getBlob(...t){if(Bx()){const i=t.map(r=>r instanceof oc?r.data_:r);return new oc(pV.apply(null,i))}else{const i=t.map(a=>Ux(a)?JI(Qa.RAW,a).data:a.data_);let r=0;i.forEach(a=>{r+=a.byteLength});const s=new Uint8Array(r);let o=0;return i.forEach(a=>{for(let c=0;c<a.length;c++)s[o++]=a[c]}),new oc(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nk(n){let t;try{t=JSON.parse(n)}catch{return null}return sV(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xV(n){if(n.length===0)return null;const t=n.lastIndexOf("/");return t===-1?"":n.slice(0,t)}function wV(n,t){const i=t.split("/").filter(r=>r.length>0).join("/");return n.length===0?i:n+"/"+i}function ik(n){const t=n.lastIndexOf("/",n.length-2);return t===-1?n:n.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SV(n,t){return t}class ys{constructor(t,i,r,s){this.server=t,this.local=i||t,this.writable=!!r,this.xform=s||SV}}let o0=null;function TV(n){return!Ux(n)||n.length<2?n:ik(n)}function sk(){if(o0)return o0;const n=[];n.push(new ys("bucket")),n.push(new ys("generation")),n.push(new ys("metageneration")),n.push(new ys("name","fullPath",!0));function t(o,a){return TV(a)}const i=new ys("name");i.xform=t,n.push(i);function r(o,a){return a!==void 0?Number(a):a}const s=new ys("size");return s.xform=r,n.push(s),n.push(new ys("timeCreated")),n.push(new ys("updated")),n.push(new ys("md5Hash",null,!0)),n.push(new ys("cacheControl",null,!0)),n.push(new ys("contentDisposition",null,!0)),n.push(new ys("contentEncoding",null,!0)),n.push(new ys("contentLanguage",null,!0)),n.push(new ys("contentType",null,!0)),n.push(new ys("metadata","customMetadata",!0)),o0=n,o0}function EV(n,t){function i(){const r=n.bucket,s=n.fullPath,o=new ta(r,s);return t._makeStorageReference(o)}Object.defineProperty(n,"ref",{get:i})}function CV(n,t,i){const r={};r.type="file";const s=i.length;for(let o=0;o<s;o++){const a=i[o];r[a.local]=a.xform(r,t[a.server])}return EV(r,n),r}function ak(n,t,i){const r=nk(t);return r===null?null:CV(n,r,i)}function AV(n,t,i,r){const s=nk(t);if(s===null||!Ux(s.downloadTokens))return null;const o=s.downloadTokens;if(o.length===0)return null;const a=encodeURIComponent;return o.split(",").map(u=>{const p=n.bucket,y=n.fullPath,d="/b/"+a(p)+"/o/"+a(y),f=Vx(d,i,r),b=ZI({alt:"media",token:u});return f+b})[0]}function jV(n,t){const i={},r=t.length;for(let s=0;s<r;s++){const o=t[s];o.writable&&(i[o.server]=n[o.local])}return JSON.stringify(i)}class ok{constructor(t,i,r,s){this.url=t,this.method=i,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lk(n){if(!n)throw Fx()}function RV(n,t){function i(r,s){const o=ak(n,s,t);return lk(o!==null),o}return i}function OV(n,t){function i(r,s){const o=ak(n,s,t);return lk(o!==null),AV(o,s,n.host,n._protocol)}return i}function ck(n){function t(i,r){let s;return i.getStatus()===401?i.getErrorText().includes("Firebase App Check token is invalid")?s=H9():s=z9():i.getStatus()===402?s=G9(n.bucket):i.getStatus()===403?s=W9(n.path):s=r,s.status=i.getStatus(),s.serverResponse=r.serverResponse,s}return t}function IV(n){const t=ck(n);function i(r,s){let o=t(r,s);return r.getStatus()===404&&(o=V9(n.path)),o.serverResponse=s.serverResponse,o}return i}function kV(n,t,i){const r=t.fullServerUrl(),s=Vx(r,n.host,n._protocol),o="GET",a=n.maxOperationRetryTime,c=new ok(s,o,OV(n,i),a);return c.errorHandler=IV(t),c}function MV(n,t){return n&&n.contentType||t&&t.type()||"application/octet-stream"}function PV(n,t,i){const r=Object.assign({},i);return r.fullPath=n.path,r.size=t.size(),r.contentType||(r.contentType=MV(null,t)),r}function DV(n,t,i,r,s){const o=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function c(){let w="";for(let S=0;S<2;S++)w=w+Math.random().toString().slice(2);return w}const l=c();a["Content-Type"]="multipart/related; boundary="+l;const u=PV(t,r,s),p=jV(u,i),y="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+p+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,d=`\r
--`+l+"--",f=oc.getBlob(y,r,d);if(f===null)throw Q9();const b={name:u.fullPath},g=Vx(o,n.host,n._protocol),v="POST",_=n.maxUploadRetryTime,x=new ok(g,v,RV(n,i),_);return x.urlParams=b,x.headers=a,x.body=f.uploadData(),x.errorHandler=ck(t),x}class NV{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=_u.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=_u.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=_u.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,i,r,s){if(this.sent_)throw vf("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(i,t,!0),s!==void 0)for(const o in s)s.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,s[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw vf("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw vf("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw vf("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw vf("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class LV extends NV{initXhr(){this.xhr_.responseType="text"}}function uk(){return new LV}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(t,i){this._service=t,i instanceof ta?this._location=i:this._location=ta.makeFromUrl(i,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,i){return new Eu(t,i)}get root(){const t=new ta(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return ik(this._location.path)}get storage(){return this._service}get parent(){const t=xV(this._location.path);if(t===null)return null;const i=new ta(this._location.bucket,t);return new Eu(this._service,i)}_throwIfRoot(t){if(this._location.path==="")throw eV(t)}}function hk(n,t,i){n._throwIfRoot("uploadBytes");const r=DV(n.storage,n._location,sk(),new oc(t,!0),i);return n.storage.makeRequestWithTokens(r,uk).then(s=>({metadata:s,ref:n}))}function FV(n,t,i=Qa.RAW,r){n._throwIfRoot("uploadString");const s=JI(i,t),o=Object.assign({},r);return o.contentType==null&&s.contentType!=null&&(o.contentType=s.contentType),hk(n,s.data,o)}function UV(n){n._throwIfRoot("getDownloadURL");const t=kV(n.storage,n._location,sk());return n.storage.makeRequestWithTokens(t,uk).then(i=>{if(i===null)throw Z9();return i})}function BV(n,t){const i=wV(n._location.path,t),r=new ta(n._location.bucket,i);return new Eu(n.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VV(n){return/^[A-Za-z]+:\/\//.test(n)}function GV(n,t){return new Eu(n,t)}function dk(n,t){if(n instanceof Gx){const i=n;if(i._bucket==null)throw K9();const r=new Eu(i,i._bucket);return t!=null?dk(r,t):r}else return t!==void 0?BV(n,t):n}function zV(n,t){if(t&&VV(t)){if(n instanceof Gx)return GV(n,t);throw nb("To use ref(service, url), the first argument must be a Storage instance.")}else return dk(n,t)}function IC(n,t){const i=t==null?void 0:t[KI];return i==null?null:ta.makeFromBucketSpec(i,n)}function HV(n,t,i,r={}){n.host=`${t}:${i}`,n._protocol="http";const{mockUserToken:s}=r;s&&(n._overrideAuthToken=typeof s=="string"?s:Lb(s,n.app.options.projectId))}class Gx{constructor(t,i,r,s,o){this.app=t,this._authProvider=i,this._appCheckProvider=r,this._url=s,this._firebaseVersion=o,this._bucket=null,this._host=XI,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=U9,this._maxUploadRetryTime=B9,this._requests=new Set,s!=null?this._bucket=ta.makeFromBucketSpec(s,this._host):this._bucket=IC(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=ta.makeFromBucketSpec(this._url,t):this._bucket=IC(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){OC("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){OC("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const i=await t.getToken();if(i!==null)return i.accessToken}return null}async _getAppCheckToken(){const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Eu(this,t)}_makeRequest(t,i,r,s,o=!0){if(this._deleted)return new tV(QI());{const a=dV(t,this._appId,r,s,i,this._firebaseVersion,o);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(t,i){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,i,r,s).getPromise()}}const kC="@firebase/storage",MC="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fk="storage";function Ya(n,t,i){return n=Lr(n),hk(n,t,i)}function py(n,t,i,r){return n=Lr(n),FV(n,t,i,r)}function WV(n){return n=Lr(n),UV(n)}function bs(n,t){return n=Lr(n),zV(n,t)}function qV(n=gd(),t){n=Lr(n);const r=Il(n,fk).getImmediate({identifier:t}),s=Nb("storage");return s&&YV(r,...s),r}function YV(n,t,i,r={}){HV(n,t,i,r)}function $V(n,{instanceIdentifier:t}){const i=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),s=n.getProvider("app-check-internal");return new Gx(i,r,s,t,Ac)}function XV(){ja(new sa(fk,$V,"PUBLIC").setMultipleInstances(!0)),ls(kC,MC,""),ls(kC,MC,"esm2017")}XV();var PC={};const DC="@firebase/database",NC="1.0.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pk="";function KV(n){pk=n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QV{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,i){i==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Hi(i))}get(t){const i=this.domStorage_.getItem(this.prefixedName_(t));return i==null?null:np(i)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZV{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,i){i==null?delete this.cache_[t]:this.cache_[t]=i}get(t){return Ol(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mk=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new QV(t)}}catch{}return new ZV},fu=mk("localStorage"),JV=mk("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yh=new Op("@firebase/database"),e7=function(){let n=1;return function(){return n++}}(),gk=function(n){const t=BL(n),i=new NL;i.update(t);const r=i.digest();return Db.encodeByteArray(r)},Hp=function(...n){let t="";for(let i=0;i<n.length;i++){const r=n[i];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?t+=Hp.apply(null,r):typeof r=="object"?t+=Hi(r):t+=r,t+=" "}return t};let Hf=null,LC=!0;const t7=function(n,t){Bt(!t,"Can't turn on custom loggers persistently."),Yh.logLevel=Er.VERBOSE,Hf=Yh.log.bind(Yh)},as=function(...n){if(LC===!0&&(LC=!1,Hf===null&&JV.get("logging_enabled")===!0&&t7()),Hf){const t=Hp.apply(null,n);Hf(t)}},Wp=function(n){return function(...t){as(n,...t)}},ib=function(...n){const t="FIREBASE INTERNAL ERROR: "+Hp(...n);Yh.error(t)},El=function(...n){const t=`FIREBASE FATAL ERROR: ${Hp(...n)}`;throw Yh.error(t),new Error(t)},Ms=function(...n){const t="FIREBASE WARNING: "+Hp(...n);Yh.warn(t)},r7=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Ms("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},yk=function(n){return typeof n=="number"&&(n!==n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},n7=function(n){if(document.readyState==="complete")n();else{let t=!1;const i=function(){if(!document.body){setTimeout(i,Math.floor(10));return}t||(t=!0,n())};document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&i()}),window.attachEvent("onload",i))}},cd="[MIN_NAME]",Cu="[MAX_NAME]",wd=function(n,t){if(n===t)return 0;if(n===cd||t===Cu)return-1;if(t===cd||n===Cu)return 1;{const i=FC(n),r=FC(t);return i!==null?r!==null?i-r===0?n.length-t.length:i-r:-1:r!==null?1:n<t?-1:1}},i7=function(n,t){return n===t?0:n<t?-1:1},_f=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+Hi(t))},zx=function(n){if(typeof n!="object"||n===null)return Hi(n);const t=[];for(const r in n)t.push(r);t.sort();let i="{";for(let r=0;r<t.length;r++)r!==0&&(i+=","),i+=Hi(t[r]),i+=":",i+=zx(n[t[r]]);return i+="}",i},vk=function(n,t){const i=n.length;if(i<=t)return[n];const r=[];for(let s=0;s<i;s+=t)s+t>i?r.push(n.substring(s,i)):r.push(n.substring(s,s+t));return r};function Oa(n,t){for(const i in n)n.hasOwnProperty(i)&&t(i,n[i])}const _k=function(n){Bt(!yk(n),"Invalid JSON number");const t=11,i=52,r=(1<<t-1)-1;let s,o,a,c,l;n===0?(o=0,a=0,s=1/n===-1/0?1:0):(s=n<0,n=Math.abs(n),n>=Math.pow(2,1-r)?(c=Math.min(Math.floor(Math.log(n)/Math.LN2),r),o=c+r,a=Math.round(n*Math.pow(2,i-c)-Math.pow(2,i))):(o=0,a=Math.round(n/Math.pow(2,1-r-i))));const u=[];for(l=i;l;l-=1)u.push(a%2?1:0),a=Math.floor(a/2);for(l=t;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);u.push(s?1:0),u.reverse();const p=u.join("");let y="";for(l=0;l<64;l+=8){let d=parseInt(p.substr(l,8),2).toString(16);d.length===1&&(d="0"+d),y=y+d}return y.toLowerCase()},s7=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},a7=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},o7=new RegExp("^-?(0*)\\d{1,10}$"),l7=-2147483648,c7=2147483647,FC=function(n){if(o7.test(n)){const t=Number(n);if(t>=l7&&t<=c7)return t}return null},Sd=function(n){try{n()}catch(t){setTimeout(()=>{const i=t.stack||"";throw Ms("Exception was thrown by user callback.",i),t},Math.floor(0))}},u7=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Wf=function(n,t){const i=setTimeout(n,t);return typeof i=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(i):typeof i=="object"&&i.unref&&i.unref(),i};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h7{constructor(t,i){this.appName_=t,this.appCheckProvider=i,this.appCheck=i==null?void 0:i.getImmediate({optional:!0}),this.appCheck||i==null||i.get().then(r=>this.appCheck=r)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((i,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(i,r):i(null)},0)})}addTokenChangeListener(t){var i;(i=this.appCheckProvider)===null||i===void 0||i.get().then(r=>r.addTokenListener(t))}notifyForInvalidToken(){Ms(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d7{constructor(t,i,r){this.appName_=t,this.firebaseOptions_=i,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(s=>this.auth_=s)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(i=>i&&i.code==="auth/token-not-initialized"?(as("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(i)):new Promise((i,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(i,r):i(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(i=>i.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(i=>i.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ms(t)}}class B0{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}B0.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hx="5",bk="v",xk="s",wk="r",Sk="f",Tk=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Ek="ls",Ck="p",sb="ac",Ak="websocket",jk="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(t,i,r,s,o=!1,a="",c=!1,l=!1){this.secure=i,this.namespace=r,this.webSocketOnly=s,this.nodeAdmin=o,this.persistenceKey=a,this.includeNamespaceInQueryParams=c,this.isUsingEmulator=l,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=fu.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&fu.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",i=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${i}`}}function f7(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams}function Ok(n,t,i){Bt(typeof t=="string","typeof type must == string"),Bt(typeof i=="object","typeof params must == object");let r;if(t===Ak)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else if(t===jk)r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);f7(n)&&(i.ns=n.namespace);const s=[];return Oa(i,(o,a)=>{s.push(o+"="+a)}),r+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p7{constructor(){this.counters_={}}incrementCounter(t,i=1){Ol(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=i}get(){return xL(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1={},Y1={};function Wx(n){const t=n.toString();return q1[t]||(q1[t]=new p7),q1[t]}function m7(n,t){const i=n.toString();return Y1[i]||(Y1[i]=t()),Y1[i]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g7{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,i){this.closeAfterResponse=t,this.onClose=i,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,i){for(this.pendingResponses[t]=i;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<r.length;++s)r[s]&&Sd(()=>{this.onMessage_(r[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC="start",y7="close",v7="pLPCommand",_7="pRTLPCB",Ik="id",kk="pw",Mk="ser",b7="cb",x7="seg",w7="ts",S7="d",T7="dframe",Pk=1870,Dk=30,E7=Pk-Dk,C7=25e3,A7=3e4;class Vh{constructor(t,i,r,s,o,a,c){this.connId=t,this.repoInfo=i,this.applicationId=r,this.appCheckToken=s,this.authToken=o,this.transportSessionId=a,this.lastSessionId=c,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Wp(t),this.stats_=Wx(i),this.urlFn=l=>(this.appCheckToken&&(l[sb]=this.appCheckToken),Ok(i,jk,l))}open(t,i){this.curSegmentNum=0,this.onDisconnect_=i,this.myPacketOrderer=new g7(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(A7)),n7(()=>{if(this.isClosed_)return;this.scriptTagHolder=new qx((...o)=>{const[a,c,l,u,p]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,a===UC)this.id=c,this.password=l;else if(a===y7)c?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(c,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+a)},(...o)=>{const[a,c]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(a,c)},()=>{this.onClosed_()},this.urlFn);const r={};r[UC]="t",r[Mk]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[b7]=this.scriptTagHolder.uniqueCallbackIdentifier),r[bk]=Hx,this.transportSessionId&&(r[xk]=this.transportSessionId),this.lastSessionId&&(r[Ek]=this.lastSessionId),this.applicationId&&(r[Ck]=this.applicationId),this.appCheckToken&&(r[sb]=this.appCheckToken),typeof location<"u"&&location.hostname&&Tk.test(location.hostname)&&(r[wk]=Sk);const s=this.urlFn(r);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Vh.forceAllow_=!0}static forceDisallow(){Vh.forceDisallow_=!0}static isAvailable(){return Vh.forceAllow_?!0:!Vh.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!s7()&&!a7()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const i=Hi(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=bR(i),s=vk(r,E7);for(let o=0;o<s.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[o]),this.curSegmentNum++}addDisconnectPingFrame(t,i){this.myDisconnFrame=document.createElement("iframe");const r={};r[T7]="t",r[Ik]=t,r[kk]=i,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const i=Hi(t).length;this.bytesReceived+=i,this.stats_.incrementCounter("bytes_received",i)}}class qx{constructor(t,i,r,s){this.onDisconnect=r,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=e7(),window[v7+this.uniqueCallbackIdentifier]=t,window[_7+this.uniqueCallbackIdentifier]=i,this.myIFrame=qx.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');const a="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(c){as("frame writing exception"),c.stack&&as(c.stack),as(c)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||as("No IE domain setting required")}catch{const r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,i){for(this.myID=t,this.myPW=i,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[Ik]=this.myID,t[kk]=this.myPW,t[Mk]=this.currentSerial;let i=this.urlFn(t),r="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Dk+r.length<=Pk;){const a=this.pendingSegs.shift();r=r+"&"+x7+s+"="+a.seg+"&"+w7+s+"="+a.ts+"&"+S7+s+"="+a.d,s++}return i=i+r,this.addLongPollTag_(i,this.currentSerial),!0}else return!1}enqueueSegment(t,i,r){this.pendingSegs.push({seg:t,ts:i,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,i){this.outstandingRequests.add(i);const r=()=>{this.outstandingRequests.delete(i),this.newRequest_()},s=setTimeout(r,Math.floor(C7)),o=()=>{clearTimeout(s),r()};this.addTag(t,o)}addTag(t,i){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){const s=r.readyState;(!s||s==="loaded"||s==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),i())},r.onerror=()=>{as("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j7=16384,R7=45e3;let dg=null;typeof MozWebSocket<"u"?dg=MozWebSocket:typeof WebSocket<"u"&&(dg=WebSocket);class $a{constructor(t,i,r,s,o,a,c){this.connId=t,this.applicationId=r,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Wp(this.connId),this.stats_=Wx(i),this.connURL=$a.connectionURL_(i,a,c,s,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(t,i,r,s,o){const a={};return a[bk]=Hx,typeof location<"u"&&location.hostname&&Tk.test(location.hostname)&&(a[wk]=Sk),i&&(a[xk]=i),r&&(a[Ek]=r),s&&(a[sb]=s),o&&(a[Ck]=o),Ok(t,Ak,a)}open(t,i){this.onDisconnect=i,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,fu.set("previous_websocket_failure",!0);try{let r;CR(),this.mySock=new dg(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){$a.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(i);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&dg!==null&&!$a.forceDisallow_}static previouslyFailed(){return fu.isInMemoryStorage||fu.get("previous_websocket_failure")===!0}markConnectionHealthy(){fu.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=np(i);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(Bt(this.frames===null,"We already have a frame buffer"),t.length<=6){const i=Number(t);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const i=t.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);r!==null&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const i=Hi(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=vk(i,j7);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(R7))}sendString_(t){try{this.mySock.send(t)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}$a.responsesRequiredToBeHealthy=2;$a.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[Vh,$a]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const i=$a&&$a.isAvailable();let r=i&&!$a.previouslyFailed();if(t.webSocketOnly&&(i||Ms("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[$a];else{const s=this.transports_=[];for(const o of gp.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);gp.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}gp.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O7=6e4,I7=5e3,k7=10*1024,M7=100*1024,$1="t",BC="d",P7="s",VC="r",D7="e",GC="o",zC="a",HC="n",WC="p",N7="h";class L7{constructor(t,i,r,s,o,a,c,l,u,p){this.id=t,this.repoInfo_=i,this.applicationId_=r,this.appCheckToken_=s,this.authToken_=o,this.onMessage_=a,this.onReady_=c,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=p,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Wp("c:"+this.id+":"),this.transportManager_=new gp(i),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(i,r)},Math.floor(0));const s=t.healthyTimeout||0;s>0&&(this.healthyTimeout_=Wf(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>M7?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>k7?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return i=>{t===this.conn_?this.onConnectionLost_(i):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return i=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(i):t===this.secondaryConn_?this.onSecondaryMessageReceived_(i):this.log_("message on old connection"))}}sendRequest(t){const i={t:"d",d:t};this.sendData_(i)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if($1 in t){const i=t[$1];i===zC?this.upgradeIfSecondaryHealthy_():i===VC?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):i===GC&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const i=_f("t",t),r=_f("d",t);if(i==="c")this.onSecondaryControl_(r);else if(i==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+i)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:WC,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:zC,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:HC,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const i=_f("t",t),r=_f("d",t);i==="c"?this.onControl_(r):i==="d"&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const i=_f($1,t);if(BC in t){const r=t[BC];if(i===N7){const s=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(i===HC){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else i===P7?this.onConnectionShutdown_(r):i===VC?this.onReset_(r):i===D7?ib("Server Error: "+r):i===GC?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ib("Unknown control packet command: "+i)}}onHandshake_(t){const i=t.ts,r=t.v,s=t.h;this.sessionId=t.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,i),Hx!==r&&Ms("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(i,r),Wf(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(O7))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,i){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(i,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Wf(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(I7))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:WC,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(fu.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{put(t,i,r,s){}merge(t,i,r,s){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,i,r){}onDisconnectMerge(t,i,r){}onDisconnectCancel(t,i){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(t){this.allowedEvents_=t,this.listeners_={},Bt(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...i){if(Array.isArray(this.listeners_[t])){const r=[...this.listeners_[t]];for(let s=0;s<r.length;s++)r[s].callback.apply(r[s].context,i)}}on(t,i,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:i,context:r});const s=this.getInitialEvent(t);s&&i.apply(r,s)}off(t,i,r){this.validateEventType_(t);const s=this.listeners_[t]||[];for(let o=0;o<s.length;o++)if(s[o].callback===i&&(!r||r===s[o].context)){s.splice(o,1);return}}validateEventType_(t){Bt(this.allowedEvents_.find(i=>i===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg extends Lk{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Fb()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new fg}getInitialEvent(t){return Bt(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qC=32,YC=768;class Cn{constructor(t,i){if(i===void 0){this.pieces_=t.split("/");let r=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[r]=this.pieces_[s],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=i}toString(){let t="";for(let i=this.pieceNum_;i<this.pieces_.length;i++)this.pieces_[i]!==""&&(t+="/"+this.pieces_[i]);return t||"/"}}function fn(){return new Cn("")}function Cr(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function wc(n){return n.pieces_.length-n.pieceNum_}function En(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new Cn(n.pieces_,t)}function Fk(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function F7(n){let t="";for(let i=n.pieceNum_;i<n.pieces_.length;i++)n.pieces_[i]!==""&&(t+="/"+encodeURIComponent(String(n.pieces_[i])));return t||"/"}function Uk(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function Bk(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let i=n.pieceNum_;i<n.pieces_.length-1;i++)t.push(n.pieces_[i]);return new Cn(t,0)}function wi(n,t){const i=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)i.push(n.pieces_[r]);if(t instanceof Cn)for(let r=t.pieceNum_;r<t.pieces_.length;r++)i.push(t.pieces_[r]);else{const r=t.split("/");for(let s=0;s<r.length;s++)r[s].length>0&&i.push(r[s])}return new Cn(i,0)}function kr(n){return n.pieceNum_>=n.pieces_.length}function Aa(n,t){const i=Cr(n),r=Cr(t);if(i===null)return t;if(i===r)return Aa(En(n),En(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function Vk(n,t){if(wc(n)!==wc(t))return!1;for(let i=n.pieceNum_,r=t.pieceNum_;i<=n.pieces_.length;i++,r++)if(n.pieces_[i]!==t.pieces_[r])return!1;return!0}function Za(n,t){let i=n.pieceNum_,r=t.pieceNum_;if(wc(n)>wc(t))return!1;for(;i<n.pieces_.length;){if(n.pieces_[i]!==t.pieces_[r])return!1;++i,++r}return!0}class U7{constructor(t,i){this.errorPrefix_=i,this.parts_=Uk(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Kg(this.parts_[r]);Gk(this)}}function B7(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=Kg(t),Gk(n)}function V7(n){const t=n.parts_.pop();n.byteLength_-=Kg(t),n.parts_.length>0&&(n.byteLength_-=1)}function Gk(n){if(n.byteLength_>YC)throw new Error(n.errorPrefix_+"has a key path longer than "+YC+" bytes ("+n.byteLength_+").");if(n.parts_.length>qC)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+qC+") or object contains a cycle "+au(n))}function au(n){return n.parts_.length===0?"":"in property '"+n.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx extends Lk{constructor(){super(["visible"]);let t,i;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,i&&document.addEventListener(i,()=>{const r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Yx}getInitialEvent(t){return Bt(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bf=1e3,G7=60*5*1e3,$C=30*1e3,z7=1.3,H7=3e4,W7="server_kill",XC=3;class fl extends Nk{constructor(t,i,r,s,o,a,c,l){if(super(),this.repoInfo_=t,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=a,this.appCheckTokenProvider_=c,this.authOverride_=l,this.id=fl.nextPersistentConnectionId_++,this.log_=Wp("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=bf,this.maxReconnectDelay_=G7,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!CR())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Yx.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&fg.getInstance().on("online",this.onOnline_,this)}sendRequest(t,i,r){const s=++this.requestNumber_,o={r:s,a:t,b:i};this.log_(Hi(o)),Bt(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),r&&(this.requestCBHash_[s]=r)}get(t){this.initConnection_();const i=new Xg,s={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:a=>{const c=a.d;a.s==="ok"?i.resolve(c):i.reject(c)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),i.promise}listen(t,i,r,s){this.initConnection_();const o=t._queryIdentifier,a=t._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),Bt(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Bt(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");const c={onComplete:s,hashFn:i,query:t,tag:r};this.listens.get(a).set(o,c),this.connected_&&this.sendListen_(c)}sendGet_(t){const i=this.outstandingGets_[t];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(t){const i=t.query,r=i._path.toString(),s=i._queryIdentifier;this.log_("Listen on "+r+" for "+s);const o={p:r},a="q";t.tag&&(o.q=i._queryObject,o.t=t.tag),o.h=t.hashFn(),this.sendRequest(a,o,c=>{const l=c.d,u=c.s;fl.warnOnListenWarnings_(l,i),(this.listens.get(r)&&this.listens.get(r).get(s))===t&&(this.log_("listen response",c),u!=="ok"&&this.removeListen_(r,s),t.onComplete&&t.onComplete(u,l))})}static warnOnListenWarnings_(t,i){if(t&&typeof t=="object"&&Ol(t,"w")){const r=ed(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+i._queryParams.getIndex().toString()+'"',o=i._path.toString();Ms(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||DL(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=$C)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,i=PL(t)?"auth":"gauth",r={cred:t};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(i,r,s=>{const o=s.s,a=s.d||"error";this.authToken_===t&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const i=t.s,r=t.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(t,i){const r=t._path.toString(),s=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),Bt(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,t._queryObject,i)}sendUnlisten_(t,i,r,s){this.log_("Unlisten on "+t+" for "+i);const o={p:t},a="n";s&&(o.q=r,o.t=s),this.sendRequest(a,o)}onDisconnectPut(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:i,onComplete:r})}onDisconnectMerge(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:i,onComplete:r})}onDisconnectCancel(t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(t,i,r,s){const o={p:i,d:r};this.log_("onDisconnect "+t,o),this.sendRequest(t,o,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(t,i,r,s){this.putInternal("p",t,i,r,s)}merge(t,i,r,s){this.putInternal("m",t,i,r,s)}putInternal(t,i,r,s,o){this.initConnection_();const a={p:i,d:r};o!==void 0&&(a.h=o),this.outstandingPuts_.push({action:t,request:a,onComplete:s}),this.outstandingPutCount_++;const c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+i)}sendPut_(t){const i=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,s=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,r,o=>{this.log_(i+" response",o),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(t){if(this.connected_){const i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,r=>{if(r.s!=="ok"){const o=r.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+Hi(t));const i=t.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,i){this.log_("handleServerMessage",t,i),t==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):t==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):t==="c"?this.onListenRevoked_(i.p,i.q):t==="ac"?this.onAuthRevoked_(i.s,i.d):t==="apc"?this.onAppCheckRevoked_(i.s,i.d):t==="sd"?this.onSecurityDebugPacket_(i):ib("Unrecognized action received from server: "+Hi(t)+`
Are you using the latest client?`)}onReady_(t,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){Bt(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=bf,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=bf,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>H7&&(this.reconnectDelay_=bf),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=new Date().getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-t);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*z7)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+fl.nextConnectionId_++,o=this.lastSessionId;let a=!1,c=null;const l=function(){c?c.close():(a=!0,r())},u=function(y){Bt(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(y)};this.realtime_={close:l,sendRequest:u};const p=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[y,d]=await Promise.all([this.authTokenProvider_.getToken(p),this.appCheckTokenProvider_.getToken(p)]);a?as("getToken() completed but was canceled"):(as("getToken() completed. Creating connection."),this.authToken_=y&&y.accessToken,this.appCheckToken_=d&&d.token,c=new L7(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,i,r,f=>{Ms(f+" ("+this.repoInfo_.toString()+")"),this.interrupt(W7)},o))}catch(y){this.log_("Failed to get token: "+y),a||(this.repoInfo_.nodeAdmin&&Ms(y),l())}}}interrupt(t){as("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){as("Resuming connection for reason: "+t),delete this.interruptReasons_[t],k_(this.interruptReasons_)&&(this.reconnectDelay_=bf,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const i=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const i=this.outstandingPuts_[t];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,i){let r;i?r=i.map(o=>zx(o)).join("$"):r="default";const s=this.removeListen_(t,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(t,i){const r=new Cn(t).toString();let s;if(this.listens.has(r)){const o=this.listens.get(r);s=o.get(i),o.delete(i),o.size===0&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(t,i){as("Auth token revoked: "+t+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=XC&&(this.reconnectDelay_=$C,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,i){as("App check token revoked: "+t+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=XC&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const i of t.values())this.sendListen_(i);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let i="js";t["sdk."+i+"."+pk.replace(/\./g,"-")]=1,Fb()?t["framework.cordova"]=1:ER()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=fg.getInstance().currentlyOnline();return k_(this.interruptReasons_)&&t}}fl.nextPersistentConnectionId_=0;fl.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(t,i){this.name=t,this.node=i}static Wrap(t,i){return new Nr(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,i){const r=new Nr(cd,t),s=new Nr(cd,i);return this.compare(r,s)!==0}minPost(){return Nr.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let l0;class zk extends my{static get __EMPTY_NODE(){return l0}static set __EMPTY_NODE(t){l0=t}compare(t,i){return wd(t.name,i.name)}isDefinedOn(t){throw md("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,i){return!1}minPost(){return Nr.MIN}maxPost(){return new Nr(Cu,l0)}makePost(t,i){return Bt(typeof t=="string","KeyIndex indexValue must always be a string."),new Nr(t,l0)}toString(){return".key"}}const $h=new zk;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(t,i,r,s,o=null){this.isReverse_=s,this.resultGenerator_=o,this.nodeStack_=[];let a=1;for(;!t.isEmpty();)if(t=t,a=i?r(t.key,i):1,s&&(a*=-1),a<0)this.isReverse_?t=t.left:t=t.right;else if(a===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),i;if(this.resultGenerator_?i=this.resultGenerator_(t.key,t.value):i={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return i}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class Oi{constructor(t,i,r,s,o){this.key=t,this.value=i,this.color=r??Oi.RED,this.left=s??Is.EMPTY_NODE,this.right=o??Is.EMPTY_NODE}copy(t,i,r,s,o){return new Oi(t??this.key,i??this.value,r??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let s=this;const o=r(t,s.key);return o<0?s=s.copy(null,null,null,s.left.insert(t,i,r),null):o===0?s=s.copy(null,i,null,null,null):s=s.copy(null,null,null,null,s.right.insert(t,i,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Is.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,i){let r,s;if(r=this,i(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),i(t,r.key)===0){if(r.right.isEmpty())return Is.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,Oi.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,Oi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}Oi.RED=!0;Oi.BLACK=!1;class q7{copy(t,i,r,s,o){return this}insert(t,i,r){return new Oi(t,i,null)}remove(t,i){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Is{constructor(t,i=Is.EMPTY_NODE){this.comparator_=t,this.root_=i}insert(t,i){return new Is(this.comparator_,this.root_.insert(t,i,this.comparator_).copy(null,null,Oi.BLACK,null,null))}remove(t){return new Is(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Oi.BLACK,null,null))}get(t){let i,r=this.root_;for(;!r.isEmpty();){if(i=this.comparator_(t,r.key),i===0)return r.value;i<0?r=r.left:i>0&&(r=r.right)}return null}getPredecessorKey(t){let i,r=this.root_,s=null;for(;!r.isEmpty();)if(i=this.comparator_(t,r.key),i===0){if(r.left.isEmpty())return s?s.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else i<0?r=r.left:i>0&&(s=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new c0(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,i){return new c0(this.root_,t,this.comparator_,!1,i)}getReverseIteratorFrom(t,i){return new c0(this.root_,t,this.comparator_,!0,i)}getReverseIterator(t){return new c0(this.root_,null,this.comparator_,!0,t)}}Is.EMPTY_NODE=new q7;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y7(n,t){return wd(n.name,t.name)}function $x(n,t){return wd(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ab;function $7(n){ab=n}const Hk=function(n){return typeof n=="number"?"number:"+_k(n):"string:"+n},Wk=function(n){if(n.isLeafNode()){const t=n.val();Bt(typeof t=="string"||typeof t=="number"||typeof t=="object"&&Ol(t,".sv"),"Priority must be a string or number.")}else Bt(n===ab||n.isEmpty(),"priority of unexpected type.");Bt(n===ab||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let KC;class ji{constructor(t,i=ji.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=i,this.lazyHash_=null,Bt(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Wk(this.priorityNode_)}static set __childrenNodeConstructor(t){KC=t}static get __childrenNodeConstructor(){return KC}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new ji(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:ji.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return kr(t)?this:Cr(t)===".priority"?this.priorityNode_:ji.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,i){return null}updateImmediateChild(t,i){return t===".priority"?this.updatePriority(i):i.isEmpty()&&t!==".priority"?this:ji.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,i).updatePriority(this.priorityNode_)}updateChild(t,i){const r=Cr(t);return r===null?i:i.isEmpty()&&r!==".priority"?this:(Bt(r!==".priority"||wc(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,ji.__childrenNodeConstructor.EMPTY_NODE.updateChild(En(t),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,i){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+Hk(this.priorityNode_.val())+":");const i=typeof this.value_;t+=i+":",i==="number"?t+=_k(this.value_):t+=this.value_,this.lazyHash_=gk(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===ji.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof ji.__childrenNodeConstructor?-1:(Bt(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const i=typeof t.value_,r=typeof this.value_,s=ji.VALUE_TYPE_ORDER.indexOf(i),o=ji.VALUE_TYPE_ORDER.indexOf(r);return Bt(s>=0,"Unknown leaf type: "+i),Bt(o>=0,"Unknown leaf type: "+r),s===o?r==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const i=t;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}ji.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qk,Yk;function X7(n){qk=n}function K7(n){Yk=n}class Q7 extends my{compare(t,i){const r=t.node.getPriority(),s=i.node.getPriority(),o=r.compareTo(s);return o===0?wd(t.name,i.name):o}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,i){return!t.getPriority().equals(i.getPriority())}minPost(){return Nr.MIN}maxPost(){return new Nr(Cu,new ji("[PRIORITY-POST]",Yk))}makePost(t,i){const r=qk(t);return new Nr(i,new ji("[PRIORITY-POST]",r))}toString(){return".priority"}}const os=new Q7;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z7=Math.log(2);class J7{constructor(t){const i=o=>parseInt(Math.log(o)/Z7,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=i(t+1),this.current_=this.count-1;const s=r(this.count);this.bits_=t+1&s}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const pg=function(n,t,i,r){n.sort(t);const s=function(l,u){const p=u-l;let y,d;if(p===0)return null;if(p===1)return y=n[l],d=i?i(y):y,new Oi(d,y.node,Oi.BLACK,null,null);{const f=parseInt(p/2,10)+l,b=s(l,f),g=s(f+1,u);return y=n[f],d=i?i(y):y,new Oi(d,y.node,Oi.BLACK,b,g)}},o=function(l){let u=null,p=null,y=n.length;const d=function(b,g){const v=y-b,_=y;y-=b;const x=s(v+1,_),w=n[v],S=i?i(w):w;f(new Oi(S,w.node,g,null,x))},f=function(b){u?(u.left=b,u=b):(p=b,u=b)};for(let b=0;b<l.count;++b){const g=l.nextBitIsOne(),v=Math.pow(2,l.count-(b+1));g?d(v,Oi.BLACK):(d(v,Oi.BLACK),d(v,Oi.RED))}return p},a=new J7(n.length),c=o(a);return new Is(r||t,c)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let X1;const jh={};class ul{constructor(t,i){this.indexes_=t,this.indexSet_=i}static get Default(){return Bt(jh&&os,"ChildrenNode.ts has not been loaded"),X1=X1||new ul({".priority":jh},{".priority":os}),X1}get(t){const i=ed(this.indexes_,t);if(!i)throw new Error("No index defined for "+t);return i instanceof Is?i:null}hasIndex(t){return Ol(this.indexSet_,t.toString())}addIndex(t,i){Bt(t!==$h,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let s=!1;const o=i.getIterator(Nr.Wrap);let a=o.getNext();for(;a;)s=s||t.isDefinedOn(a.node),r.push(a),a=o.getNext();let c;s?c=pg(r,t.getCompare()):c=jh;const l=t.toString(),u=Object.assign({},this.indexSet_);u[l]=t;const p=Object.assign({},this.indexes_);return p[l]=c,new ul(p,u)}addToIndexes(t,i){const r=K0(this.indexes_,(s,o)=>{const a=ed(this.indexSet_,o);if(Bt(a,"Missing index implementation for "+o),s===jh)if(a.isDefinedOn(t.node)){const c=[],l=i.getIterator(Nr.Wrap);let u=l.getNext();for(;u;)u.name!==t.name&&c.push(u),u=l.getNext();return c.push(t),pg(c,a.getCompare())}else return jh;else{const c=i.get(t.name);let l=s;return c&&(l=l.remove(new Nr(t.name,c))),l.insert(t,t.node)}});return new ul(r,this.indexSet_)}removeFromIndexes(t,i){const r=K0(this.indexes_,s=>{if(s===jh)return s;{const o=i.get(t.name);return o?s.remove(new Nr(t.name,o)):s}});return new ul(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xf;class Zr{constructor(t,i,r){this.children_=t,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Wk(this.priorityNode_),this.children_.isEmpty()&&Bt(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return xf||(xf=new Zr(new Is($x),null,ul.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||xf}updatePriority(t){return this.children_.isEmpty()?this:new Zr(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const i=this.children_.get(t);return i===null?xf:i}}getChild(t){const i=Cr(t);return i===null?this:this.getImmediateChild(i).getChild(En(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,i){if(Bt(i,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(i);{const r=new Nr(t,i);let s,o;i.isEmpty()?(s=this.children_.remove(t),o=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(t,i),o=this.indexMap_.addToIndexes(r,this.children_));const a=s.isEmpty()?xf:this.priorityNode_;return new Zr(s,a,o)}}updateChild(t,i){const r=Cr(t);if(r===null)return i;{Bt(Cr(t)!==".priority"||wc(t)===1,".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(En(t),i);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const i={};let r=0,s=0,o=!0;if(this.forEachChild(os,(a,c)=>{i[a]=c.val(t),r++,o&&Zr.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):o=!1}),!t&&o&&s<2*r){const a=[];for(const c in i)a[c]=i[c];return a}else return t&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+Hk(this.getPriority().val())+":"),this.forEachChild(os,(i,r)=>{const s=r.hash();s!==""&&(t+=":"+i+":"+s)}),this.lazyHash_=t===""?"":gk(t)}return this.lazyHash_}getPredecessorChildName(t,i,r){const s=this.resolveIndex_(r);if(s){const o=s.getPredecessorKey(new Nr(t,i));return o?o.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(t){const i=this.getFirstChildName(t);return i?new Nr(i,this.children_.get(i)):null}getLastChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(t){const i=this.getLastChildName(t);return i?new Nr(i,this.children_.get(i)):null}forEachChild(t,i){const r=this.resolveIndex_(t);return r?r.inorderTraversal(s=>i(s.name,s.node)):this.children_.inorderTraversal(i)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(t,s=>s);{const s=this.children_.getIteratorFrom(t.name,Nr.Wrap);let o=s.peek();for(;o!=null&&i.compare(o,t)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(t,s=>s);{const s=this.children_.getReverseIteratorFrom(t.name,Nr.Wrap);let o=s.peek();for(;o!=null&&i.compare(o,t)>0;)s.getNext(),o=s.peek();return s}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===qp?-1:0}withIndex(t){if(t===$h||this.indexMap_.hasIndex(t))return this;{const i=this.indexMap_.addIndex(t,this.children_);return new Zr(this.children_,this.priorityNode_,i)}}isIndexed(t){return t===$h||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const i=t;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){const r=this.getIterator(os),s=i.getIterator(os);let o=r.getNext(),a=s.getNext();for(;o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=r.getNext(),a=s.getNext()}return o===null&&a===null}else return!1;else return!1}}resolveIndex_(t){return t===$h?null:this.indexMap_.get(t.toString())}}Zr.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class eG extends Zr{constructor(){super(new Is($x),Zr.EMPTY_NODE,ul.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return Zr.EMPTY_NODE}isEmpty(){return!1}}const qp=new eG;Object.defineProperties(Nr,{MIN:{value:new Nr(cd,Zr.EMPTY_NODE)},MAX:{value:new Nr(Cu,qp)}});zk.__EMPTY_NODE=Zr.EMPTY_NODE;ji.__childrenNodeConstructor=Zr;$7(qp);K7(qp);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tG=!0;function zi(n,t=null){if(n===null)return Zr.EMPTY_NODE;if(typeof n=="object"&&".priority"in n&&(t=n[".priority"]),Bt(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof n=="object"&&".value"in n&&n[".value"]!==null&&(n=n[".value"]),typeof n!="object"||".sv"in n){const i=n;return new ji(i,zi(t))}if(!(n instanceof Array)&&tG){const i=[];let r=!1;if(Oa(n,(a,c)=>{if(a.substring(0,1)!=="."){const l=zi(c);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),i.push(new Nr(a,l)))}}),i.length===0)return Zr.EMPTY_NODE;const o=pg(i,Y7,a=>a.name,$x);if(r){const a=pg(i,os.getCompare());return new Zr(o,zi(t),new ul({".priority":a},{".priority":os}))}else return new Zr(o,zi(t),ul.Default)}else{let i=Zr.EMPTY_NODE;return Oa(n,(r,s)=>{if(Ol(n,r)&&r.substring(0,1)!=="."){const o=zi(s);(o.isLeafNode()||!o.isEmpty())&&(i=i.updateImmediateChild(r,o))}}),i.updatePriority(zi(t))}}X7(zi);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rG extends my{constructor(t){super(),this.indexPath_=t,Bt(!kr(t)&&Cr(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,i){const r=this.extractChild(t.node),s=this.extractChild(i.node),o=r.compareTo(s);return o===0?wd(t.name,i.name):o}makePost(t,i){const r=zi(t),s=Zr.EMPTY_NODE.updateChild(this.indexPath_,r);return new Nr(i,s)}maxPost(){const t=Zr.EMPTY_NODE.updateChild(this.indexPath_,qp);return new Nr(Cu,t)}toString(){return Uk(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nG extends my{compare(t,i){const r=t.node.compareTo(i.node);return r===0?wd(t.name,i.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,i){return!t.equals(i)}minPost(){return Nr.MIN}maxPost(){return Nr.MAX}makePost(t,i){const r=zi(t);return new Nr(i,r)}toString(){return".value"}}const iG=new nG;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sG(n){return{type:"value",snapshotNode:n}}function aG(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function oG(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function QC(n,t,i){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:i}}function lG(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=os}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return Bt(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Bt(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:cd}hasEnd(){return this.endSet_}getIndexEndValue(){return Bt(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Bt(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Cu}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return Bt(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===os}copy(){const t=new Xx;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function ZC(n){const t={};if(n.isDefault())return t;let i;if(n.index_===os?i="$priority":n.index_===iG?i="$value":n.index_===$h?i="$key":(Bt(n.index_ instanceof rG,"Unrecognized index type!"),i=n.index_.toString()),t.orderBy=Hi(i),n.startSet_){const r=n.startAfterSet_?"startAfter":"startAt";t[r]=Hi(n.indexStartValue_),n.startNameSet_&&(t[r]+=","+Hi(n.indexStartName_))}if(n.endSet_){const r=n.endBeforeSet_?"endBefore":"endAt";t[r]=Hi(n.indexEndValue_),n.endNameSet_&&(t[r]+=","+Hi(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function JC(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_),t.sin=!n.startAfterSet_),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_),t.ein=!n.endBeforeSet_),n.limitSet_){t.l=n.limit_;let i=n.viewFrom_;i===""&&(n.isViewFromLeft()?i="l":i="r"),t.vf=i}return n.index_!==os&&(t.i=n.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg extends Nk{constructor(t,i,r,s){super(),this.repoInfo_=t,this.onDataUpdate_=i,this.authTokenProvider_=r,this.appCheckTokenProvider_=s,this.log_=Wp("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,i){return i!==void 0?"tag$"+i:(Bt(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,i,r,s){const o=t._path.toString();this.log_("Listen called for "+o+" "+t._queryIdentifier);const a=mg.getListenId_(t,r),c={};this.listens_[a]=c;const l=ZC(t._queryParams);this.restRequest_(o+".json",l,(u,p)=>{let y=p;if(u===404&&(y=null,u=null),u===null&&this.onDataUpdate_(o,y,!1,r),ed(this.listens_,a)===c){let d;u?u===401?d="permission_denied":d="rest_error:"+u:d="ok",s(d,null)}})}unlisten(t,i){const r=mg.getListenId_(t,i);delete this.listens_[r]}get(t){const i=ZC(t._queryParams),r=t._path.toString(),s=new Xg;return this.restRequest_(r+".json",i,(o,a)=>{let c=a;o===404&&(c=null,o=null),o===null?(this.onDataUpdate_(r,c,!1,null),s.resolve(c)):s.reject(new Error(c))}),s.promise}refreshAuthToken(t){}restRequest_(t,i={},r){return i.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,o])=>{s&&s.accessToken&&(i.auth=s.accessToken),o&&o.token&&(i.ac=o.token);const a=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+Fu(i);this.log_("Sending REST request for "+a);const c=new XMLHttpRequest;c.onreadystatechange=()=>{if(r&&c.readyState===4){this.log_("REST Response for "+a+" received. status:",c.status,"response:",c.responseText);let l=null;if(c.status>=200&&c.status<300){try{l=np(c.responseText)}catch{Ms("Failed to parse JSON response for "+a+": "+c.responseText)}r(null,l)}else c.status!==401&&c.status!==404&&Ms("Got unsuccessful REST response for "+a+" Status: "+c.status),r(c.status);r=null}},c.open("GET",a,!0),c.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cG{constructor(){this.rootNode_=Zr.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,i){this.rootNode_=this.rootNode_.updateChild(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gg(){return{value:null,children:new Map}}function $k(n,t,i){if(kr(t))n.value=i,n.children.clear();else if(n.value!==null)n.value=n.value.updateChild(t,i);else{const r=Cr(t);n.children.has(r)||n.children.set(r,gg());const s=n.children.get(r);t=En(t),$k(s,t,i)}}function ob(n,t,i){n.value!==null?i(t,n.value):uG(n,(r,s)=>{const o=new Cn(t.toString()+"/"+r);ob(s,o,i)})}function uG(n,t){n.children.forEach((i,r)=>{t(r,i)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hG{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),i=Object.assign({},t);return this.last_&&Oa(this.last_,(r,s)=>{i[r]=i[r]-s}),this.last_=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA=10*1e3,dG=30*1e3,fG=5*60*1e3;class pG{constructor(t,i){this.server_=i,this.statsToReport_={},this.statsListener_=new hG(t);const r=eA+(dG-eA)*Math.random();Wf(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const t=this.statsListener_.get(),i={};let r=!1;Oa(t,(s,o)=>{o>0&&Ol(this.statsToReport_,s)&&(i[s]=o,r=!0)}),r&&this.server_.reportStats(i),Wf(this.reportStats_.bind(this),Math.floor(Math.random()*2*fG))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wo;(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(wo||(wo={}));function Xk(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Kk(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Qk(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(t,i,r){this.path=t,this.affectedTree=i,this.revert=r,this.type=wo.ACK_USER_WRITE,this.source=Xk()}operationForChild(t){if(kr(this.path)){if(this.affectedTree.value!=null)return Bt(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const i=this.affectedTree.subtree(new Cn(t));return new yg(fn(),i,this.revert)}}else return Bt(Cr(this.path)===t,"operationForChild called for unrelated child."),new yg(En(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(t,i,r){this.source=t,this.path=i,this.snap=r,this.type=wo.OVERWRITE}operationForChild(t){return kr(this.path)?new Au(this.source,fn(),this.snap.getImmediateChild(t)):new Au(this.source,En(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(t,i,r){this.source=t,this.path=i,this.children=r,this.type=wo.MERGE}operationForChild(t){if(kr(this.path)){const i=this.children.subtree(new Cn(t));return i.isEmpty()?null:i.value?new Au(this.source,fn(),i.value):new yp(this.source,fn(),i)}else return Bt(Cr(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new yp(this.source,En(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(t,i,r){this.node_=t,this.fullyInitialized_=i,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(kr(t))return this.isFullyInitialized()&&!this.filtered_;const i=Cr(t);return this.isCompleteForChild(i)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}function mG(n,t,i,r){const s=[],o=[];return t.forEach(a=>{a.type==="child_changed"&&n.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&o.push(lG(a.childName,a.snapshotNode))}),wf(n,s,"child_removed",t,r,i),wf(n,s,"child_added",t,r,i),wf(n,s,"child_moved",o,r,i),wf(n,s,"child_changed",t,r,i),wf(n,s,"value",t,r,i),s}function wf(n,t,i,r,s,o){const a=r.filter(c=>c.type===i);a.sort((c,l)=>yG(n,c,l)),a.forEach(c=>{const l=gG(n,c,o);s.forEach(u=>{u.respondsTo(c.type)&&t.push(u.createEvent(l,n.query_))})})}function gG(n,t,i){return t.type==="value"||t.type==="child_removed"||(t.prevName=i.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}function yG(n,t,i){if(t.childName==null||i.childName==null)throw md("Should only compare child_ events.");const r=new Nr(t.childName,t.snapshotNode),s=new Nr(i.childName,i.snapshotNode);return n.index_.compare(r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zk(n,t){return{eventCache:n,serverCache:t}}function qf(n,t,i,r){return Zk(new Kx(t,i,r),n.serverCache)}function Jk(n,t,i,r){return Zk(n.eventCache,new Kx(t,i,r))}function lb(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function ju(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let K1;const vG=()=>(K1||(K1=new Is(i7)),K1);class Tn{constructor(t,i=vG()){this.value=t,this.children=i}static fromObject(t){let i=new Tn(null);return Oa(t,(r,s)=>{i=i.set(new Cn(r),s)}),i}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,i){if(this.value!=null&&i(this.value))return{path:fn(),value:this.value};if(kr(t))return null;{const r=Cr(t),s=this.children.get(r);if(s!==null){const o=s.findRootMostMatchingPathAndValue(En(t),i);return o!=null?{path:wi(new Cn(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(kr(t))return this;{const i=Cr(t),r=this.children.get(i);return r!==null?r.subtree(En(t)):new Tn(null)}}set(t,i){if(kr(t))return new Tn(i,this.children);{const r=Cr(t),o=(this.children.get(r)||new Tn(null)).set(En(t),i),a=this.children.insert(r,o);return new Tn(this.value,a)}}remove(t){if(kr(t))return this.children.isEmpty()?new Tn(null):new Tn(null,this.children);{const i=Cr(t),r=this.children.get(i);if(r){const s=r.remove(En(t));let o;return s.isEmpty()?o=this.children.remove(i):o=this.children.insert(i,s),this.value===null&&o.isEmpty()?new Tn(null):new Tn(this.value,o)}else return this}}get(t){if(kr(t))return this.value;{const i=Cr(t),r=this.children.get(i);return r?r.get(En(t)):null}}setTree(t,i){if(kr(t))return i;{const r=Cr(t),o=(this.children.get(r)||new Tn(null)).setTree(En(t),i);let a;return o.isEmpty()?a=this.children.remove(r):a=this.children.insert(r,o),new Tn(this.value,a)}}fold(t){return this.fold_(fn(),t)}fold_(t,i){const r={};return this.children.inorderTraversal((s,o)=>{r[s]=o.fold_(wi(t,s),i)}),i(t,this.value,r)}findOnPath(t,i){return this.findOnPath_(t,fn(),i)}findOnPath_(t,i,r){const s=this.value?r(i,this.value):!1;if(s)return s;if(kr(t))return null;{const o=Cr(t),a=this.children.get(o);return a?a.findOnPath_(En(t),wi(i,o),r):null}}foreachOnPath(t,i){return this.foreachOnPath_(t,fn(),i)}foreachOnPath_(t,i,r){if(kr(t))return this;{this.value&&r(i,this.value);const s=Cr(t),o=this.children.get(s);return o?o.foreachOnPath_(En(t),wi(i,s),r):new Tn(null)}}foreach(t){this.foreach_(fn(),t)}foreach_(t,i){this.children.inorderTraversal((r,s)=>{s.foreach_(wi(t,r),i)}),this.value&&i(t,this.value)}foreachChild(t){this.children.inorderTraversal((i,r)=>{r.value&&t(i,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(t){this.writeTree_=t}static empty(){return new eo(new Tn(null))}}function Yf(n,t,i){if(kr(t))return new eo(new Tn(i));{const r=n.writeTree_.findRootMostValueAndPath(t);if(r!=null){const s=r.path;let o=r.value;const a=Aa(s,t);return o=o.updateChild(a,i),new eo(n.writeTree_.set(s,o))}else{const s=new Tn(i),o=n.writeTree_.setTree(t,s);return new eo(o)}}}function tA(n,t,i){let r=n;return Oa(i,(s,o)=>{r=Yf(r,wi(t,s),o)}),r}function rA(n,t){if(kr(t))return eo.empty();{const i=n.writeTree_.setTree(t,new Tn(null));return new eo(i)}}function cb(n,t){return zu(n,t)!=null}function zu(n,t){const i=n.writeTree_.findRootMostValueAndPath(t);return i!=null?n.writeTree_.get(i.path).getChild(Aa(i.path,t)):null}function nA(n){const t=[],i=n.writeTree_.value;return i!=null?i.isLeafNode()||i.forEachChild(os,(r,s)=>{t.push(new Nr(r,s))}):n.writeTree_.children.inorderTraversal((r,s)=>{s.value!=null&&t.push(new Nr(r,s.value))}),t}function yc(n,t){if(kr(t))return n;{const i=zu(n,t);return i!=null?new eo(new Tn(i)):new eo(n.writeTree_.subtree(t))}}function ub(n){return n.writeTree_.isEmpty()}function ud(n,t){return eM(fn(),n.writeTree_,t)}function eM(n,t,i){if(t.value!=null)return i.updateChild(n,t.value);{let r=null;return t.children.inorderTraversal((s,o)=>{s===".priority"?(Bt(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):i=eM(wi(n,s),o,i)}),!i.getChild(n).isEmpty()&&r!==null&&(i=i.updateChild(wi(n,".priority"),r)),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tM(n,t){return aM(t,n)}function _G(n,t,i,r,s){Bt(r>n.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),n.allWrites.push({path:t,snap:i,writeId:r,visible:s}),s&&(n.visibleWrites=Yf(n.visibleWrites,t,i)),n.lastWriteId=r}function bG(n,t){for(let i=0;i<n.allWrites.length;i++){const r=n.allWrites[i];if(r.writeId===t)return r}return null}function xG(n,t){const i=n.allWrites.findIndex(c=>c.writeId===t);Bt(i>=0,"removeWrite called with nonexistent writeId.");const r=n.allWrites[i];n.allWrites.splice(i,1);let s=r.visible,o=!1,a=n.allWrites.length-1;for(;s&&a>=0;){const c=n.allWrites[a];c.visible&&(a>=i&&wG(c,r.path)?s=!1:Za(r.path,c.path)&&(o=!0)),a--}if(s){if(o)return SG(n),!0;if(r.snap)n.visibleWrites=rA(n.visibleWrites,r.path);else{const c=r.children;Oa(c,l=>{n.visibleWrites=rA(n.visibleWrites,wi(r.path,l))})}return!0}else return!1}function wG(n,t){if(n.snap)return Za(n.path,t);for(const i in n.children)if(n.children.hasOwnProperty(i)&&Za(wi(n.path,i),t))return!0;return!1}function SG(n){n.visibleWrites=rM(n.allWrites,TG,fn()),n.allWrites.length>0?n.lastWriteId=n.allWrites[n.allWrites.length-1].writeId:n.lastWriteId=-1}function TG(n){return n.visible}function rM(n,t,i){let r=eo.empty();for(let s=0;s<n.length;++s){const o=n[s];if(t(o)){const a=o.path;let c;if(o.snap)Za(i,a)?(c=Aa(i,a),r=Yf(r,c,o.snap)):Za(a,i)&&(c=Aa(a,i),r=Yf(r,fn(),o.snap.getChild(c)));else if(o.children){if(Za(i,a))c=Aa(i,a),r=tA(r,c,o.children);else if(Za(a,i))if(c=Aa(a,i),kr(c))r=tA(r,fn(),o.children);else{const l=ed(o.children,Cr(c));if(l){const u=l.getChild(En(c));r=Yf(r,fn(),u)}}}else throw md("WriteRecord should have .snap or .children")}}return r}function nM(n,t,i,r,s){if(!r&&!s){const o=zu(n.visibleWrites,t);if(o!=null)return o;{const a=yc(n.visibleWrites,t);if(ub(a))return i;if(i==null&&!cb(a,fn()))return null;{const c=i||Zr.EMPTY_NODE;return ud(a,c)}}}else{const o=yc(n.visibleWrites,t);if(!s&&ub(o))return i;if(!s&&i==null&&!cb(o,fn()))return null;{const a=function(u){return(u.visible||s)&&(!r||!~r.indexOf(u.writeId))&&(Za(u.path,t)||Za(t,u.path))},c=rM(n.allWrites,a,t),l=i||Zr.EMPTY_NODE;return ud(c,l)}}}function EG(n,t,i){let r=Zr.EMPTY_NODE;const s=zu(n.visibleWrites,t);if(s)return s.isLeafNode()||s.forEachChild(os,(o,a)=>{r=r.updateImmediateChild(o,a)}),r;if(i){const o=yc(n.visibleWrites,t);return i.forEachChild(os,(a,c)=>{const l=ud(yc(o,new Cn(a)),c);r=r.updateImmediateChild(a,l)}),nA(o).forEach(a=>{r=r.updateImmediateChild(a.name,a.node)}),r}else{const o=yc(n.visibleWrites,t);return nA(o).forEach(a=>{r=r.updateImmediateChild(a.name,a.node)}),r}}function CG(n,t,i,r,s){Bt(r||s,"Either existingEventSnap or existingServerSnap must exist");const o=wi(t,i);if(cb(n.visibleWrites,o))return null;{const a=yc(n.visibleWrites,o);return ub(a)?s.getChild(i):ud(a,s.getChild(i))}}function AG(n,t,i,r){const s=wi(t,i),o=zu(n.visibleWrites,s);if(o!=null)return o;if(r.isCompleteForChild(i)){const a=yc(n.visibleWrites,s);return ud(a,r.getNode().getImmediateChild(i))}else return null}function jG(n,t){return zu(n.visibleWrites,t)}function RG(n,t,i,r,s,o,a){let c;const l=yc(n.visibleWrites,t),u=zu(l,fn());if(u!=null)c=u;else if(i!=null)c=ud(l,i);else return[];if(c=c.withIndex(a),!c.isEmpty()&&!c.isLeafNode()){const p=[],y=a.getCompare(),d=o?c.getReverseIteratorFrom(r,a):c.getIteratorFrom(r,a);let f=d.getNext();for(;f&&p.length<s;)y(f,r)!==0&&p.push(f),f=d.getNext();return p}else return[]}function OG(){return{visibleWrites:eo.empty(),allWrites:[],lastWriteId:-1}}function hb(n,t,i,r){return nM(n.writeTree,n.treePath,t,i,r)}function iM(n,t){return EG(n.writeTree,n.treePath,t)}function iA(n,t,i,r){return CG(n.writeTree,n.treePath,t,i,r)}function vg(n,t){return jG(n.writeTree,wi(n.treePath,t))}function IG(n,t,i,r,s,o){return RG(n.writeTree,n.treePath,t,i,r,s,o)}function Qx(n,t,i){return AG(n.writeTree,n.treePath,t,i)}function sM(n,t){return aM(wi(n.treePath,t),n.writeTree)}function aM(n,t){return{treePath:n,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kG{constructor(){this.changeMap=new Map}trackChildChange(t){const i=t.type,r=t.childName;Bt(i==="child_added"||i==="child_changed"||i==="child_removed","Only child changes supported for tracking"),Bt(r!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(r);if(s){const o=s.type;if(i==="child_added"&&o==="child_removed")this.changeMap.set(r,QC(r,t.snapshotNode,s.snapshotNode));else if(i==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(i==="child_removed"&&o==="child_changed")this.changeMap.set(r,oG(r,s.oldSnap));else if(i==="child_changed"&&o==="child_added")this.changeMap.set(r,aG(r,t.snapshotNode));else if(i==="child_changed"&&o==="child_changed")this.changeMap.set(r,QC(r,t.snapshotNode,s.oldSnap));else throw md("Illegal combination of changes: "+t+" occurred after "+s)}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MG{getCompleteChild(t){return null}getChildAfterChild(t,i,r){return null}}const oM=new MG;class Zx{constructor(t,i,r=null){this.writes_=t,this.viewCache_=i,this.optCompleteServerCache_=r}getCompleteChild(t){const i=this.viewCache_.eventCache;if(i.isCompleteForChild(t))return i.getNode().getImmediateChild(t);{const r=this.optCompleteServerCache_!=null?new Kx(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Qx(this.writes_,t,r)}}getChildAfterChild(t,i,r){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ju(this.viewCache_),o=IG(this.writes_,s,i,1,r,t);return o.length===0?null:o[0]}}function PG(n,t){Bt(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),Bt(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}function DG(n,t,i,r,s){const o=new kG;let a,c;if(i.type===wo.OVERWRITE){const u=i;u.source.fromUser?a=db(n,t,u.path,u.snap,r,s,o):(Bt(u.source.fromServer,"Unknown source."),c=u.source.tagged||t.serverCache.isFiltered()&&!kr(u.path),a=_g(n,t,u.path,u.snap,r,s,c,o))}else if(i.type===wo.MERGE){const u=i;u.source.fromUser?a=LG(n,t,u.path,u.children,r,s,o):(Bt(u.source.fromServer,"Unknown source."),c=u.source.tagged||t.serverCache.isFiltered(),a=fb(n,t,u.path,u.children,r,s,c,o))}else if(i.type===wo.ACK_USER_WRITE){const u=i;u.revert?a=BG(n,t,u.path,r,s,o):a=FG(n,t,u.path,u.affectedTree,r,s,o)}else if(i.type===wo.LISTEN_COMPLETE)a=UG(n,t,i.path,r,o);else throw md("Unknown operation type: "+i.type);const l=o.getChanges();return NG(t,a,l),{viewCache:a,changes:l}}function NG(n,t,i){const r=t.eventCache;if(r.isFullyInitialized()){const s=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=lb(n);(i.length>0||!n.eventCache.isFullyInitialized()||s&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&i.push(sG(lb(t)))}}function lM(n,t,i,r,s,o){const a=t.eventCache;if(vg(r,i)!=null)return t;{let c,l;if(kr(i))if(Bt(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const u=ju(t),p=u instanceof Zr?u:Zr.EMPTY_NODE,y=iM(r,p);c=n.filter.updateFullNode(t.eventCache.getNode(),y,o)}else{const u=hb(r,ju(t));c=n.filter.updateFullNode(t.eventCache.getNode(),u,o)}else{const u=Cr(i);if(u===".priority"){Bt(wc(i)===1,"Can't have a priority with additional path components");const p=a.getNode();l=t.serverCache.getNode();const y=iA(r,i,p,l);y!=null?c=n.filter.updatePriority(p,y):c=a.getNode()}else{const p=En(i);let y;if(a.isCompleteForChild(u)){l=t.serverCache.getNode();const d=iA(r,i,a.getNode(),l);d!=null?y=a.getNode().getImmediateChild(u).updateChild(p,d):y=a.getNode().getImmediateChild(u)}else y=Qx(r,u,t.serverCache);y!=null?c=n.filter.updateChild(a.getNode(),u,y,p,s,o):c=a.getNode()}}return qf(t,c,a.isFullyInitialized()||kr(i),n.filter.filtersNodes())}}function _g(n,t,i,r,s,o,a,c){const l=t.serverCache;let u;const p=a?n.filter:n.filter.getIndexedFilter();if(kr(i))u=p.updateFullNode(l.getNode(),r,null);else if(p.filtersNodes()&&!l.isFiltered()){const f=l.getNode().updateChild(i,r);u=p.updateFullNode(l.getNode(),f,null)}else{const f=Cr(i);if(!l.isCompleteForPath(i)&&wc(i)>1)return t;const b=En(i),v=l.getNode().getImmediateChild(f).updateChild(b,r);f===".priority"?u=p.updatePriority(l.getNode(),v):u=p.updateChild(l.getNode(),f,v,b,oM,null)}const y=Jk(t,u,l.isFullyInitialized()||kr(i),p.filtersNodes()),d=new Zx(s,y,o);return lM(n,y,i,s,d,c)}function db(n,t,i,r,s,o,a){const c=t.eventCache;let l,u;const p=new Zx(s,t,o);if(kr(i))u=n.filter.updateFullNode(t.eventCache.getNode(),r,a),l=qf(t,u,!0,n.filter.filtersNodes());else{const y=Cr(i);if(y===".priority")u=n.filter.updatePriority(t.eventCache.getNode(),r),l=qf(t,u,c.isFullyInitialized(),c.isFiltered());else{const d=En(i),f=c.getNode().getImmediateChild(y);let b;if(kr(d))b=r;else{const g=p.getCompleteChild(y);g!=null?Fk(d)===".priority"&&g.getChild(Bk(d)).isEmpty()?b=g:b=g.updateChild(d,r):b=Zr.EMPTY_NODE}if(f.equals(b))l=t;else{const g=n.filter.updateChild(c.getNode(),y,b,d,p,a);l=qf(t,g,c.isFullyInitialized(),n.filter.filtersNodes())}}}return l}function sA(n,t){return n.eventCache.isCompleteForChild(t)}function LG(n,t,i,r,s,o,a){let c=t;return r.foreach((l,u)=>{const p=wi(i,l);sA(t,Cr(p))&&(c=db(n,c,p,u,s,o,a))}),r.foreach((l,u)=>{const p=wi(i,l);sA(t,Cr(p))||(c=db(n,c,p,u,s,o,a))}),c}function aA(n,t,i){return i.foreach((r,s)=>{t=t.updateChild(r,s)}),t}function fb(n,t,i,r,s,o,a,c){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l=t,u;kr(i)?u=r:u=new Tn(null).setTree(i,r);const p=t.serverCache.getNode();return u.children.inorderTraversal((y,d)=>{if(p.hasChild(y)){const f=t.serverCache.getNode().getImmediateChild(y),b=aA(n,f,d);l=_g(n,l,new Cn(y),b,s,o,a,c)}}),u.children.inorderTraversal((y,d)=>{const f=!t.serverCache.isCompleteForChild(y)&&d.value===null;if(!p.hasChild(y)&&!f){const b=t.serverCache.getNode().getImmediateChild(y),g=aA(n,b,d);l=_g(n,l,new Cn(y),g,s,o,a,c)}}),l}function FG(n,t,i,r,s,o,a){if(vg(s,i)!=null)return t;const c=t.serverCache.isFiltered(),l=t.serverCache;if(r.value!=null){if(kr(i)&&l.isFullyInitialized()||l.isCompleteForPath(i))return _g(n,t,i,l.getNode().getChild(i),s,o,c,a);if(kr(i)){let u=new Tn(null);return l.getNode().forEachChild($h,(p,y)=>{u=u.set(new Cn(p),y)}),fb(n,t,i,u,s,o,c,a)}else return t}else{let u=new Tn(null);return r.foreach((p,y)=>{const d=wi(i,p);l.isCompleteForPath(d)&&(u=u.set(p,l.getNode().getChild(d)))}),fb(n,t,i,u,s,o,c,a)}}function UG(n,t,i,r,s){const o=t.serverCache,a=Jk(t,o.getNode(),o.isFullyInitialized()||kr(i),o.isFiltered());return lM(n,a,i,r,oM,s)}function BG(n,t,i,r,s,o){let a;if(vg(r,i)!=null)return t;{const c=new Zx(r,t,s),l=t.eventCache.getNode();let u;if(kr(i)||Cr(i)===".priority"){let p;if(t.serverCache.isFullyInitialized())p=hb(r,ju(t));else{const y=t.serverCache.getNode();Bt(y instanceof Zr,"serverChildren would be complete if leaf node"),p=iM(r,y)}p=p,u=n.filter.updateFullNode(l,p,o)}else{const p=Cr(i);let y=Qx(r,p,t.serverCache);y==null&&t.serverCache.isCompleteForChild(p)&&(y=l.getImmediateChild(p)),y!=null?u=n.filter.updateChild(l,p,y,En(i),c,o):t.eventCache.getNode().hasChild(p)?u=n.filter.updateChild(l,p,Zr.EMPTY_NODE,En(i),c,o):u=l,u.isEmpty()&&t.serverCache.isFullyInitialized()&&(a=hb(r,ju(t)),a.isLeafNode()&&(u=n.filter.updateFullNode(u,a,o)))}return a=t.serverCache.isFullyInitialized()||vg(r,fn())!=null,qf(t,u,a,n.filter.filtersNodes())}}function VG(n,t){const i=ju(n.viewCache_);return i&&(n.query._queryParams.loadsAllData()||!kr(t)&&!i.getImmediateChild(Cr(t)).isEmpty())?i.getChild(t):null}function oA(n,t,i,r){t.type===wo.MERGE&&t.source.queryId!==null&&(Bt(ju(n.viewCache_),"We should always have a full cache before handling merges"),Bt(lb(n.viewCache_),"Missing event cache, even though we have a server cache"));const s=n.viewCache_,o=DG(n.processor_,s,t,i,r);return PG(n.processor_,o.viewCache),Bt(o.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=o.viewCache,GG(n,o.changes,o.viewCache.eventCache.getNode())}function GG(n,t,i,r){const s=n.eventRegistrations_;return mG(n.eventGenerator_,t,i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lA;function zG(n){Bt(!lA,"__referenceConstructor has already been defined"),lA=n}function Jx(n,t,i,r){const s=t.source.queryId;if(s!==null){const o=n.views.get(s);return Bt(o!=null,"SyncTree gave us an op for an invalid query."),oA(o,t,i,r)}else{let o=[];for(const a of n.views.values())o=o.concat(oA(a,t,i,r));return o}}function ew(n,t){let i=null;for(const r of n.views.values())i=i||VG(r,t);return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cA;function HG(n){Bt(!cA,"__referenceConstructor has already been defined"),cA=n}class uA{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Tn(null),this.pendingWriteTree_=OG(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function cM(n,t,i,r,s){return _G(n.pendingWriteTree_,t,i,r,s),s?yy(n,new Au(Xk(),t,i)):[]}function pu(n,t,i=!1){const r=bG(n.pendingWriteTree_,t);if(xG(n.pendingWriteTree_,t)){let o=new Tn(null);return r.snap!=null?o=o.set(fn(),!0):Oa(r.children,a=>{o=o.set(new Cn(a),!0)}),yy(n,new yg(r.path,o,i))}else return[]}function gy(n,t,i){return yy(n,new Au(Kk(),t,i))}function WG(n,t,i){const r=Tn.fromObject(i);return yy(n,new yp(Kk(),t,r))}function qG(n,t,i,r){const s=dM(n,r);if(s!=null){const o=fM(s),a=o.path,c=o.queryId,l=Aa(a,t),u=new Au(Qk(c),l,i);return pM(n,a,u)}else return[]}function YG(n,t,i,r){const s=dM(n,r);if(s){const o=fM(s),a=o.path,c=o.queryId,l=Aa(a,t),u=Tn.fromObject(i),p=new yp(Qk(c),l,u);return pM(n,a,p)}else return[]}function tw(n,t,i){const s=n.pendingWriteTree_,o=n.syncPointTree_.findOnPath(t,(a,c)=>{const l=Aa(a,t),u=ew(c,l);if(u)return u});return nM(s,t,o,i,!0)}function yy(n,t){return uM(t,n.syncPointTree_,null,tM(n.pendingWriteTree_,fn()))}function uM(n,t,i,r){if(kr(n.path))return hM(n,t,i,r);{const s=t.get(fn());i==null&&s!=null&&(i=ew(s,fn()));let o=[];const a=Cr(n.path),c=n.operationForChild(a),l=t.children.get(a);if(l&&c){const u=i?i.getImmediateChild(a):null,p=sM(r,a);o=o.concat(uM(c,l,u,p))}return s&&(o=o.concat(Jx(s,n,r,i))),o}}function hM(n,t,i,r){const s=t.get(fn());i==null&&s!=null&&(i=ew(s,fn()));let o=[];return t.children.inorderTraversal((a,c)=>{const l=i?i.getImmediateChild(a):null,u=sM(r,a),p=n.operationForChild(a);p&&(o=o.concat(hM(p,c,l,u)))}),s&&(o=o.concat(Jx(s,n,r,i))),o}function dM(n,t){return n.tagToQueryMap.get(t)}function fM(n){const t=n.indexOf("$");return Bt(t!==-1&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new Cn(n.substr(0,t))}}function pM(n,t,i){const r=n.syncPointTree_.get(t);Bt(r,"Missing sync point for query tag that we're tracking");const s=tM(n.pendingWriteTree_,t);return Jx(r,i,s,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(t){this.node_=t}getImmediateChild(t){const i=this.node_.getImmediateChild(t);return new rw(i)}node(){return this.node_}}class nw{constructor(t,i){this.syncTree_=t,this.path_=i}getImmediateChild(t){const i=wi(this.path_,t);return new nw(this.syncTree_,i)}node(){return tw(this.syncTree_,this.path_)}}const $G=function(n){return n=n||{},n.timestamp=n.timestamp||new Date().getTime(),n},hA=function(n,t,i){if(!n||typeof n!="object")return n;if(Bt(".sv"in n,"Unexpected leaf node or priority contents"),typeof n[".sv"]=="string")return XG(n[".sv"],t,i);if(typeof n[".sv"]=="object")return KG(n[".sv"],t);Bt(!1,"Unexpected server value: "+JSON.stringify(n,null,2))},XG=function(n,t,i){switch(n){case"timestamp":return i.timestamp;default:Bt(!1,"Unexpected server value: "+n)}},KG=function(n,t,i){n.hasOwnProperty("increment")||Bt(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const r=n.increment;typeof r!="number"&&Bt(!1,"Unexpected increment value: "+r);const s=t.node();if(Bt(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return r;const a=s.getValue();return typeof a!="number"?r:a+r},QG=function(n,t,i,r){return iw(t,new nw(i,n),r)},mM=function(n,t,i){return iw(n,new rw(t),i)};function iw(n,t,i){const r=n.getPriority().val(),s=hA(r,t.getImmediateChild(".priority"),i);let o;if(n.isLeafNode()){const a=n,c=hA(a.getValue(),t,i);return c!==a.getValue()||s!==a.getPriority().val()?new ji(c,zi(s)):n}else{const a=n;return o=a,s!==a.getPriority().val()&&(o=o.updatePriority(new ji(s))),a.forEachChild(os,(c,l)=>{const u=iw(l,t.getImmediateChild(c),i);u!==l&&(o=o.updateImmediateChild(c,u))}),o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(t="",i=null,r={children:{},childCount:0}){this.name=t,this.parent=i,this.node=r}}function aw(n,t){let i=t instanceof Cn?t:new Cn(t),r=n,s=Cr(i);for(;s!==null;){const o=ed(r.node.children,s)||{children:{},childCount:0};r=new sw(s,r,o),i=En(i),s=Cr(i)}return r}function Td(n){return n.node.value}function gM(n,t){n.node.value=t,pb(n)}function yM(n){return n.node.childCount>0}function ZG(n){return Td(n)===void 0&&!yM(n)}function vy(n,t){Oa(n.node.children,(i,r)=>{t(new sw(i,n,r))})}function vM(n,t,i,r){i&&!r&&t(n),vy(n,s=>{vM(s,t,!0,r)}),i&&r&&t(n)}function JG(n,t,i){let r=n.parent;for(;r!==null;){if(t(r))return!0;r=r.parent}return!1}function Yp(n){return new Cn(n.parent===null?n.name:Yp(n.parent)+"/"+n.name)}function pb(n){n.parent!==null&&ez(n.parent,n.name,n)}function ez(n,t,i){const r=ZG(i),s=Ol(n.node.children,t);r&&s?(delete n.node.children[t],n.node.childCount--,pb(n)):!r&&!s&&(n.node.children[t]=i.node,n.node.childCount++,pb(n))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tz=/[\[\].#$\/\u0000-\u001F\u007F]/,rz=/[\[\].#$\u0000-\u001F\u007F]/,Q1=10*1024*1024,_M=function(n){return typeof n=="string"&&n.length!==0&&!tz.test(n)},bM=function(n){return typeof n=="string"&&n.length!==0&&!rz.test(n)},nz=function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),bM(n)},iz=function(n,t,i,r){ow(Gb(n,"value"),t,i)},ow=function(n,t,i){const r=i instanceof Cn?new U7(i,n):i;if(t===void 0)throw new Error(n+"contains undefined "+au(r));if(typeof t=="function")throw new Error(n+"contains a function "+au(r)+" with contents = "+t.toString());if(yk(t))throw new Error(n+"contains "+t.toString()+" "+au(r));if(typeof t=="string"&&t.length>Q1/3&&Kg(t)>Q1)throw new Error(n+"contains a string greater than "+Q1+" utf8 bytes "+au(r)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let s=!1,o=!1;if(Oa(t,(a,c)=>{if(a===".value")s=!0;else if(a!==".priority"&&a!==".sv"&&(o=!0,!_M(a)))throw new Error(n+" contains an invalid key ("+a+") "+au(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);B7(r,a),ow(n,c,r),V7(r)}),s&&o)throw new Error(n+' contains ".value" child '+au(r)+" in addition to actual children.")}},xM=function(n,t,i,r){if(!bM(i))throw new Error(Gb(n,t)+'was an invalid path = "'+i+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},sz=function(n,t,i,r){i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),xM(n,t,i)},az=function(n,t){if(Cr(t)===".info")throw new Error(n+" failed = Can't modify data under /.info/")},oz=function(n,t){const i=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!_M(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||i.length!==0&&!nz(i))throw new Error(Gb(n,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lz{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function wM(n,t){let i=null;for(let r=0;r<t.length;r++){const s=t[r],o=s.getPath();i!==null&&!Vk(o,i.path)&&(n.eventLists_.push(i),i=null),i===null&&(i={events:[],path:o}),i.events.push(s)}i&&n.eventLists_.push(i)}function Cl(n,t,i){wM(n,i),cz(n,r=>Za(r,t)||Za(t,r))}function cz(n,t){n.recursionDepth_++;let i=!0;for(let r=0;r<n.eventLists_.length;r++){const s=n.eventLists_[r];if(s){const o=s.path;t(o)?(uz(n.eventLists_[r]),n.eventLists_[r]=null):i=!1}}i&&(n.eventLists_=[]),n.recursionDepth_--}function uz(n){for(let t=0;t<n.events.length;t++){const i=n.events[t];if(i!==null){n.events[t]=null;const r=i.getEventRunner();Hf&&as("event: "+i.toString()),Sd(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hz="repo_interrupt",dz=25;class fz{constructor(t,i,r,s){this.repoInfo_=t,this.forceRestClient_=i,this.authTokenProvider_=r,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new lz,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=gg(),this.transactionQueueTree_=new sw,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function pz(n,t,i){if(n.stats_=Wx(n.repoInfo_),n.forceRestClient_||u7())n.server_=new mg(n.repoInfo_,(r,s,o,a)=>{dA(n,r,s,o,a)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>fA(n,!0),0);else{if(typeof i<"u"&&i!==null){if(typeof i!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Hi(i)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new fl(n.repoInfo_,t,(r,s,o,a)=>{dA(n,r,s,o,a)},r=>{fA(n,r)},r=>{gz(n,r)},n.authTokenProvider_,n.appCheckProvider_,i),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=m7(n.repoInfo_,()=>new pG(n.stats_,n.server_)),n.infoData_=new cG,n.infoSyncTree_=new uA({startListening:(r,s,o,a)=>{let c=[];const l=n.infoData_.getNode(r._path);return l.isEmpty()||(c=gy(n.infoSyncTree_,r._path,l),setTimeout(()=>{a("ok")},0)),c},stopListening:()=>{}}),cw(n,"connected",!1),n.serverSyncTree_=new uA({startListening:(r,s,o,a)=>(n.server_.listen(r,o,s,(c,l)=>{const u=a(c,l);Cl(n.eventQueue_,r._path,u)}),[]),stopListening:(r,s)=>{n.server_.unlisten(r,s)}})}function mz(n){const i=n.infoData_.getNode(new Cn(".info/serverTimeOffset")).val()||0;return new Date().getTime()+i}function lw(n){return $G({timestamp:mz(n)})}function dA(n,t,i,r,s){n.dataUpdateCount++;const o=new Cn(t);i=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,i):i;let a=[];if(s)if(r){const l=K0(i,u=>zi(u));a=YG(n.serverSyncTree_,o,l,s)}else{const l=zi(i);a=qG(n.serverSyncTree_,o,l,s)}else if(r){const l=K0(i,u=>zi(u));a=WG(n.serverSyncTree_,o,l)}else{const l=zi(i);a=gy(n.serverSyncTree_,o,l)}let c=o;a.length>0&&(c=_y(n,o)),Cl(n.eventQueue_,c,a)}function fA(n,t){cw(n,"connected",t),t===!1&&vz(n)}function gz(n,t){Oa(t,(i,r)=>{cw(n,i,r)})}function cw(n,t,i){const r=new Cn("/.info/"+t),s=zi(i);n.infoData_.updateSnapshot(r,s);const o=gy(n.infoSyncTree_,r,s);Cl(n.eventQueue_,r,o)}function SM(n){return n.nextWriteId_++}function yz(n,t,i,r,s){uw(n,"set",{path:t.toString(),value:i,priority:r});const o=lw(n),a=zi(i,r),c=tw(n.serverSyncTree_,t),l=mM(a,c,o),u=SM(n),p=cM(n.serverSyncTree_,t,l,u,!0);wM(n.eventQueue_,p),n.server_.put(t.toString(),a.val(!0),(d,f)=>{const b=d==="ok";b||Ms("set at "+t+" failed: "+d);const g=pu(n.serverSyncTree_,u,!b);Cl(n.eventQueue_,t,g),bz(n,s,d,f)});const y=jM(n,t);_y(n,y),Cl(n.eventQueue_,y,[])}function vz(n){uw(n,"onDisconnectEvents");const t=lw(n),i=gg();ob(n.onDisconnect_,fn(),(s,o)=>{const a=QG(s,o,n.serverSyncTree_,t);$k(i,s,a)});let r=[];ob(i,fn(),(s,o)=>{r=r.concat(gy(n.serverSyncTree_,s,o));const a=jM(n,s);_y(n,a)}),n.onDisconnect_=gg(),Cl(n.eventQueue_,fn(),r)}function _z(n){n.persistentConnection_&&n.persistentConnection_.interrupt(hz)}function uw(n,...t){let i="";n.persistentConnection_&&(i=n.persistentConnection_.id+":"),as(i,...t)}function bz(n,t,i,r){t&&Sd(()=>{if(i==="ok")t(null);else{const s=(i||"error").toUpperCase();let o=s;r&&(o+=": "+r);const a=new Error(o);a.code=s,t(a)}})}function TM(n,t,i){return tw(n.serverSyncTree_,t,i)||Zr.EMPTY_NODE}function hw(n,t=n.transactionQueueTree_){if(t||by(n,t),Td(t)){const i=CM(n,t);Bt(i.length>0,"Sending zero length transaction queue"),i.every(s=>s.status===0)&&xz(n,Yp(t),i)}else yM(t)&&vy(t,i=>{hw(n,i)})}function xz(n,t,i){const r=i.map(u=>u.currentWriteId),s=TM(n,t,r);let o=s;const a=s.hash();for(let u=0;u<i.length;u++){const p=i[u];Bt(p.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),p.status=1,p.retryCount++;const y=Aa(t,p.path);o=o.updateChild(y,p.currentOutputSnapshotRaw)}const c=o.val(!0),l=t;n.server_.put(l.toString(),c,u=>{uw(n,"transaction put response",{path:l.toString(),status:u});let p=[];if(u==="ok"){const y=[];for(let d=0;d<i.length;d++)i[d].status=2,p=p.concat(pu(n.serverSyncTree_,i[d].currentWriteId)),i[d].onComplete&&y.push(()=>i[d].onComplete(null,!0,i[d].currentOutputSnapshotResolved)),i[d].unwatcher();by(n,aw(n.transactionQueueTree_,t)),hw(n,n.transactionQueueTree_),Cl(n.eventQueue_,t,p);for(let d=0;d<y.length;d++)Sd(y[d])}else{if(u==="datastale")for(let y=0;y<i.length;y++)i[y].status===3?i[y].status=4:i[y].status=0;else{Ms("transaction at "+l.toString()+" failed: "+u);for(let y=0;y<i.length;y++)i[y].status=4,i[y].abortReason=u}_y(n,t)}},a)}function _y(n,t){const i=EM(n,t),r=Yp(i),s=CM(n,i);return wz(n,s,r),r}function wz(n,t,i){if(t.length===0)return;const r=[];let s=[];const a=t.filter(c=>c.status===0).map(c=>c.currentWriteId);for(let c=0;c<t.length;c++){const l=t[c],u=Aa(i,l.path);let p=!1,y;if(Bt(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)p=!0,y=l.abortReason,s=s.concat(pu(n.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=dz)p=!0,y="maxretry",s=s.concat(pu(n.serverSyncTree_,l.currentWriteId,!0));else{const d=TM(n,l.path,a);l.currentInputSnapshot=d;const f=t[c].update(d.val());if(f!==void 0){ow("transaction failed: Data returned ",f,l.path);let b=zi(f);typeof f=="object"&&f!=null&&Ol(f,".priority")||(b=b.updatePriority(d.getPriority()));const v=l.currentWriteId,_=lw(n),x=mM(b,d,_);l.currentOutputSnapshotRaw=b,l.currentOutputSnapshotResolved=x,l.currentWriteId=SM(n),a.splice(a.indexOf(v),1),s=s.concat(cM(n.serverSyncTree_,l.path,x,l.currentWriteId,l.applyLocally)),s=s.concat(pu(n.serverSyncTree_,v,!0))}else p=!0,y="nodata",s=s.concat(pu(n.serverSyncTree_,l.currentWriteId,!0))}Cl(n.eventQueue_,i,s),s=[],p&&(t[c].status=2,function(d){setTimeout(d,Math.floor(0))}(t[c].unwatcher),t[c].onComplete&&(y==="nodata"?r.push(()=>t[c].onComplete(null,!1,t[c].currentInputSnapshot)):r.push(()=>t[c].onComplete(new Error(y),!1,null))))}by(n,n.transactionQueueTree_);for(let c=0;c<r.length;c++)Sd(r[c]);hw(n,n.transactionQueueTree_)}function EM(n,t){let i,r=n.transactionQueueTree_;for(i=Cr(t);i!==null&&Td(r)===void 0;)r=aw(r,i),t=En(t),i=Cr(t);return r}function CM(n,t){const i=[];return AM(n,t,i),i.sort((r,s)=>r.order-s.order),i}function AM(n,t,i){const r=Td(t);if(r)for(let s=0;s<r.length;s++)i.push(r[s]);vy(t,s=>{AM(n,s,i)})}function by(n,t){const i=Td(t);if(i){let r=0;for(let s=0;s<i.length;s++)i[s].status!==2&&(i[r]=i[s],r++);i.length=r,gM(t,i.length>0?i:void 0)}vy(t,r=>{by(n,r)})}function jM(n,t){const i=Yp(EM(n,t)),r=aw(n.transactionQueueTree_,t);return JG(r,s=>{Z1(n,s)}),Z1(n,r),vM(r,s=>{Z1(n,s)}),i}function Z1(n,t){const i=Td(t);if(i){const r=[];let s=[],o=-1;for(let a=0;a<i.length;a++)i[a].status===3||(i[a].status===1?(Bt(o===a-1,"All SENT items should be at beginning of queue."),o=a,i[a].status=3,i[a].abortReason="set"):(Bt(i[a].status===0,"Unexpected transaction status in abort"),i[a].unwatcher(),s=s.concat(pu(n.serverSyncTree_,i[a].currentWriteId,!0)),i[a].onComplete&&r.push(i[a].onComplete.bind(null,new Error("set"),!1,null))));o===-1?gM(t,void 0):i.length=o+1,Cl(n.eventQueue_,Yp(t),s);for(let a=0;a<r.length;a++)Sd(r[a])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sz(n){let t="";const i=n.split("/");for(let r=0;r<i.length;r++)if(i[r].length>0){let s=i[r];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}t+="/"+s}return t}function Tz(n){const t={};n.charAt(0)==="?"&&(n=n.substring(1));for(const i of n.split("&")){if(i.length===0)continue;const r=i.split("=");r.length===2?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Ms(`Invalid query segment '${i}' in query '${n}'`)}return t}const pA=function(n,t){const i=Ez(n),r=i.namespace;i.domain==="firebase.com"&&El(i.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&i.domain!=="localhost"&&El("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),i.secure||r7();const s=i.scheme==="ws"||i.scheme==="wss";return{repoInfo:new Rk(i.host,i.secure,r,s,t,"",r!==i.subdomain),path:new Cn(i.pathString)}},Ez=function(n){let t="",i="",r="",s="",o="",a=!0,c="https",l=443;if(typeof n=="string"){let u=n.indexOf("//");u>=0&&(c=n.substring(0,u-1),n=n.substring(u+2));let p=n.indexOf("/");p===-1&&(p=n.length);let y=n.indexOf("?");y===-1&&(y=n.length),t=n.substring(0,Math.min(p,y)),p<y&&(s=Sz(n.substring(p,y)));const d=Tz(n.substring(Math.min(n.length,y)));u=t.indexOf(":"),u>=0?(a=c==="https"||c==="wss",l=parseInt(t.substring(u+1),10)):u=t.length;const f=t.slice(0,u);if(f.toLowerCase()==="localhost")i="localhost";else if(f.split(".").length<=2)i=f;else{const b=t.indexOf(".");r=t.substring(0,b).toLowerCase(),i=t.substring(b+1),o=r}"ns"in d&&(o=d.ns)}return{host:t,port:l,domain:i,subdomain:r,secure:a,scheme:c,pathString:s,namespace:o}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(t,i,r,s){this._repo=t,this._path=i,this._queryParams=r,this._orderByCalled=s}get key(){return kr(this._path)?null:Fk(this._path)}get ref(){return new Hu(this._repo,this._path)}get _queryIdentifier(){const t=JC(this._queryParams),i=zx(t);return i==="{}"?"default":i}get _queryObject(){return JC(this._queryParams)}isEqual(t){if(t=Lr(t),!(t instanceof dw))return!1;const i=this._repo===t._repo,r=Vk(this._path,t._path),s=this._queryIdentifier===t._queryIdentifier;return i&&r&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+F7(this._path)}}class Hu extends dw{constructor(t,i){super(t,i,new Xx,!1)}get parent(){const t=Bk(this._path);return t===null?null:new Hu(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}function Cz(n,t){return n=Lr(n),n._checkNotDeleted("ref"),t!==void 0?Az(n._root,t):n._root}function Az(n,t){return n=Lr(n),Cr(n._path)===null?sz("child","path",t):xM("child","path",t),new Hu(n._repo,wi(n._path,t))}function jz(n,t){n=Lr(n),az("set",n._path),iz("set",t,n._path);const i=new Xg;return yz(n._repo,n._path,t,null,i.wrapCallback(()=>{})),i.promise}zG(Hu);HG(Hu);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rz="FIREBASE_DATABASE_EMULATOR_HOST",mb={};let Oz=!1;function Iz(n,t,i,r){n.repoInfo_=new Rk(`${t}:${i}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),r&&(n.authTokenProvider_=r)}function kz(n,t,i,r,s){let o=r||n.options.databaseURL;o===void 0&&(n.options.projectId||El("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),as("Using default host for project ",n.options.projectId),o=`${n.options.projectId}-default-rtdb.firebaseio.com`);let a=pA(o,s),c=a.repoInfo,l;typeof process<"u"&&PC&&(l=PC[Rz]),l?(o=`http://${l}?ns=${c.namespace}`,a=pA(o,s),c=a.repoInfo):a.repoInfo.secure;const u=new d7(n.name,n.options,t);oz("Invalid Firebase Database URL",a),kr(a.path)||El("Database URL must point to the root of a Firebase Database (not including a child path).");const p=Pz(c,n,u,new h7(n.name,i));return new Dz(p,n)}function Mz(n,t){const i=mb[t];(!i||i[n.key]!==n)&&El(`Database ${t}(${n.repoInfo_}) has already been deleted.`),_z(n),delete i[n.key]}function Pz(n,t,i,r){let s=mb[t.name];s||(s={},mb[t.name]=s);let o=s[n.toURLString()];return o&&El("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new fz(n,Oz,i,r),s[n.toURLString()]=o,o}class Dz{constructor(t,i){this._repoInternal=t,this.app=i,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(pz(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Hu(this._repo,fn())),this._rootInternal}_delete(){return this._rootInternal!==null&&(Mz(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&El("Cannot call "+t+" on a deleted database.")}}function Nz(n=gd(),t){const i=Il(n,"database").getImmediate({identifier:t});if(!i._instanceStarted){const r=Nb("database");r&&Lz(i,...r)}return i}function Lz(n,t,i,r={}){n=Lr(n),n._checkNotDeleted("useEmulator"),n._instanceStarted&&El("Cannot call useEmulator() after instance has already been initialized.");const s=n._repoInternal;let o;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&El('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new B0(B0.OWNER);else if(r.mockUserToken){const a=typeof r.mockUserToken=="string"?r.mockUserToken:Lb(r.mockUserToken,n.app.options.projectId);o=new B0(a)}Iz(s,t,i,o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fz(n){KV(Ac),ja(new sa("database",(t,{instanceIdentifier:i})=>{const r=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return kz(r,s,o,i)},"PUBLIC").setMultipleInstances(!0)),ls(DC,NC,n),ls(DC,NC,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uz={".sv":"timestamp"};function Bz(){return Uz}fl.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)};fl.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)};Fz();const RM="@firebase/installations",fw="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OM=1e4,IM=`w:${fw}`,kM="FIS_v2",Vz="https://firebaseinstallations.googleapis.com/v1",Gz=60*60*1e3,zz="installations",Hz="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wz={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ru=new Lu(zz,Hz,Wz);function MM(n){return n instanceof Ia&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PM({projectId:n}){return`${Vz}/projects/${n}/installations`}function DM(n){return{token:n.token,requestStatus:2,expiresIn:Yz(n.expiresIn),creationTime:Date.now()}}async function NM(n,t){const r=(await t.json()).error;return Ru.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function LM({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function qz(n,{refreshToken:t}){const i=LM(n);return i.append("Authorization",$z(t)),i}async function FM(n){const t=await n();return t.status>=500&&t.status<600?n():t}function Yz(n){return Number(n.replace("s","000"))}function $z(n){return`${kM} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xz({appConfig:n,heartbeatServiceProvider:t},{fid:i}){const r=PM(n),s=LM(n),o=t.getImmediate({optional:!0});if(o){const u=await o.getHeartbeatsHeader();u&&s.append("x-firebase-client",u)}const a={fid:i,authVersion:kM,appId:n.appId,sdkVersion:IM},c={method:"POST",headers:s,body:JSON.stringify(a)},l=await FM(()=>fetch(r,c));if(l.ok){const u=await l.json();return{fid:u.fid||i,registrationStatus:2,refreshToken:u.refreshToken,authToken:DM(u.authToken)}}else throw await NM("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UM(n){return new Promise(t=>{setTimeout(t,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kz(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qz=/^[cdef][\w-]{21}$/,gb="";function Zz(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const i=Jz(n);return Qz.test(i)?i:gb}catch{return gb}}function Jz(n){return Kz(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xy(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BM=new Map;function VM(n,t){const i=xy(n);GM(i,t),eH(i,t)}function GM(n,t){const i=BM.get(n);if(i)for(const r of i)r(t)}function eH(n,t){const i=tH();i&&i.postMessage({key:n,fid:t}),rH()}let mu=null;function tH(){return!mu&&"BroadcastChannel"in self&&(mu=new BroadcastChannel("[Firebase] FID Change"),mu.onmessage=n=>{GM(n.data.key,n.data.fid)}),mu}function rH(){BM.size===0&&mu&&(mu.close(),mu=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nH="firebase-installations-database",iH=1,Ou="firebase-installations-store";let J1=null;function pw(){return J1||(J1=IR(nH,iH,{upgrade:(n,t)=>{switch(t){case 0:n.createObjectStore(Ou)}}})),J1}async function bg(n,t){const i=xy(n),s=(await pw()).transaction(Ou,"readwrite"),o=s.objectStore(Ou),a=await o.get(i);return await o.put(t,i),await s.done,(!a||a.fid!==t.fid)&&VM(n,t.fid),t}async function zM(n){const t=xy(n),r=(await pw()).transaction(Ou,"readwrite");await r.objectStore(Ou).delete(t),await r.done}async function wy(n,t){const i=xy(n),s=(await pw()).transaction(Ou,"readwrite"),o=s.objectStore(Ou),a=await o.get(i),c=t(a);return c===void 0?await o.delete(i):await o.put(c,i),await s.done,c&&(!a||a.fid!==c.fid)&&VM(n,c.fid),c}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mw(n){let t;const i=await wy(n.appConfig,r=>{const s=sH(r),o=aH(n,s);return t=o.registrationPromise,o.installationEntry});return i.fid===gb?{installationEntry:await t}:{installationEntry:i,registrationPromise:t}}function sH(n){const t=n||{fid:Zz(),registrationStatus:0};return HM(t)}function aH(n,t){if(t.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Ru.create("app-offline"));return{installationEntry:t,registrationPromise:s}}const i={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=oH(n,i);return{installationEntry:i,registrationPromise:r}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:lH(n)}:{installationEntry:t}}async function oH(n,t){try{const i=await Xz(n,t);return bg(n.appConfig,i)}catch(i){throw MM(i)&&i.customData.serverCode===409?await zM(n.appConfig):await bg(n.appConfig,{fid:t.fid,registrationStatus:0}),i}}async function lH(n){let t=await mA(n.appConfig);for(;t.registrationStatus===1;)await UM(100),t=await mA(n.appConfig);if(t.registrationStatus===0){const{installationEntry:i,registrationPromise:r}=await mw(n);return r||i}return t}function mA(n){return wy(n,t=>{if(!t)throw Ru.create("installation-not-found");return HM(t)})}function HM(n){return cH(n)?{fid:n.fid,registrationStatus:0}:n}function cH(n){return n.registrationStatus===1&&n.registrationTime+OM<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uH({appConfig:n,heartbeatServiceProvider:t},i){const r=hH(n,i),s=qz(n,i),o=t.getImmediate({optional:!0});if(o){const u=await o.getHeartbeatsHeader();u&&s.append("x-firebase-client",u)}const a={installation:{sdkVersion:IM,appId:n.appId}},c={method:"POST",headers:s,body:JSON.stringify(a)},l=await FM(()=>fetch(r,c));if(l.ok){const u=await l.json();return DM(u)}else throw await NM("Generate Auth Token",l)}function hH(n,{fid:t}){return`${PM(n)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gw(n,t=!1){let i;const r=await wy(n.appConfig,o=>{if(!WM(o))throw Ru.create("not-registered");const a=o.authToken;if(!t&&pH(a))return o;if(a.requestStatus===1)return i=dH(n,t),o;{if(!navigator.onLine)throw Ru.create("app-offline");const c=gH(o);return i=fH(n,c),c}});return i?await i:r.authToken}async function dH(n,t){let i=await gA(n.appConfig);for(;i.authToken.requestStatus===1;)await UM(100),i=await gA(n.appConfig);const r=i.authToken;return r.requestStatus===0?gw(n,t):r}function gA(n){return wy(n,t=>{if(!WM(t))throw Ru.create("not-registered");const i=t.authToken;return yH(i)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}async function fH(n,t){try{const i=await uH(n,t),r=Object.assign(Object.assign({},t),{authToken:i});return await bg(n.appConfig,r),i}catch(i){if(MM(i)&&(i.customData.serverCode===401||i.customData.serverCode===404))await zM(n.appConfig);else{const r=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await bg(n.appConfig,r)}throw i}}function WM(n){return n!==void 0&&n.registrationStatus===2}function pH(n){return n.requestStatus===2&&!mH(n)}function mH(n){const t=Date.now();return t<n.creationTime||n.creationTime+n.expiresIn<t+Gz}function gH(n){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:t})}function yH(n){return n.requestStatus===1&&n.requestTime+OM<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vH(n){const t=n,{installationEntry:i,registrationPromise:r}=await mw(t);return r?r.catch(console.error):gw(t).catch(console.error),i.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _H(n,t=!1){const i=n;return await bH(i),(await gw(i,t)).token}async function bH(n){const{registrationPromise:t}=await mw(n);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xH(n){if(!n||!n.options)throw e_("App Configuration");if(!n.name)throw e_("App Name");const t=["projectId","apiKey","appId"];for(const i of t)if(!n.options[i])throw e_(i);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function e_(n){return Ru.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qM="installations",wH="installations-internal",SH=n=>{const t=n.getProvider("app").getImmediate(),i=xH(t),r=Il(t,"heartbeat");return{app:t,appConfig:i,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},TH=n=>{const t=n.getProvider("app").getImmediate(),i=Il(t,qM).getImmediate();return{getId:()=>vH(i),getToken:s=>_H(i,s)}};function EH(){ja(new sa(qM,SH,"PUBLIC")),ja(new sa(wH,TH,"PRIVATE"))}EH();ls(RM,fw);ls(RM,fw,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xg="analytics",CH="firebase_id",AH="origin",jH=60*1e3,RH="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",yw="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps=new Op("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OH={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},na=new Lu("analytics","Analytics",OH);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IH(n){if(!n.startsWith(yw)){const t=na.create("invalid-gtag-resource",{gtagURL:n});return Ps.warn(t.message),""}return n}function YM(n){return Promise.all(n.map(t=>t.catch(i=>i)))}function kH(n,t){let i;return window.trustedTypes&&(i=window.trustedTypes.createPolicy(n,t)),i}function MH(n,t){const i=kH("firebase-js-sdk-policy",{createScriptURL:IH}),r=document.createElement("script"),s=`${yw}?l=${n}&id=${t}`;r.src=i?i==null?void 0:i.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function PH(n){let t=[];return Array.isArray(window[n])?t=window[n]:window[n]=t,t}async function DH(n,t,i,r,s,o){const a=r[s];try{if(a)await t[a];else{const l=(await YM(i)).find(u=>u.measurementId===s);l&&await t[l.appId]}}catch(c){Ps.error(c)}n("config",s,o)}async function NH(n,t,i,r,s){try{let o=[];if(s&&s.send_to){let a=s.send_to;Array.isArray(a)||(a=[a]);const c=await YM(i);for(const l of a){const u=c.find(y=>y.measurementId===l),p=u&&t[u.appId];if(p)o.push(p);else{o=[];break}}}o.length===0&&(o=Object.values(t)),await Promise.all(o),n("event",r,s||{})}catch(o){Ps.error(o)}}function LH(n,t,i,r){async function s(o,...a){try{if(o==="event"){const[c,l]=a;await NH(n,t,i,c,l)}else if(o==="config"){const[c,l]=a;await DH(n,t,i,r,c,l)}else if(o==="consent"){const[c,l]=a;n("consent",c,l)}else if(o==="get"){const[c,l,u]=a;n("get",c,l,u)}else if(o==="set"){const[c]=a;n("set",c)}else n(o,...a)}catch(c){Ps.error(c)}}return s}function FH(n,t,i,r,s){let o=function(...a){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(o=window[s]),window[s]=LH(o,n,t,i),{gtagCore:o,wrappedGtag:window[s]}}function UH(n){const t=window.document.getElementsByTagName("script");for(const i of Object.values(t))if(i.src&&i.src.includes(yw)&&i.src.includes(n))return i;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BH=30,VH=1e3;class GH{constructor(t={},i=VH){this.throttleMetadata=t,this.intervalMillis=i}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,i){this.throttleMetadata[t]=i}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const $M=new GH;function zH(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function HH(n){var t;const{appId:i,apiKey:r}=n,s={method:"GET",headers:zH(r)},o=RH.replace("{app-id}",i),a=await fetch(o,s);if(a.status!==200&&a.status!==304){let c="";try{const l=await a.json();!((t=l.error)===null||t===void 0)&&t.message&&(c=l.error.message)}catch{}throw na.create("config-fetch-failed",{httpStatus:a.status,responseMessage:c})}return a.json()}async function WH(n,t=$M,i){const{appId:r,apiKey:s,measurementId:o}=n.options;if(!r)throw na.create("no-app-id");if(!s){if(o)return{measurementId:o,appId:r};throw na.create("no-api-key")}const a=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new $H;return setTimeout(async()=>{c.abort()},jH),XM({appId:r,apiKey:s,measurementId:o},a,c,t)}async function XM(n,{throttleEndTimeMillis:t,backoffCount:i},r,s=$M){var o;const{appId:a,measurementId:c}=n;try{await qH(r,t)}catch(l){if(c)return Ps.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:a,measurementId:c};throw l}try{const l=await HH(n);return s.deleteThrottleMetadata(a),l}catch(l){const u=l;if(!YH(u)){if(s.deleteThrottleMetadata(a),c)return Ps.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:a,measurementId:c};throw l}const p=Number((o=u==null?void 0:u.customData)===null||o===void 0?void 0:o.httpStatus)===503?mE(i,s.intervalMillis,BH):mE(i,s.intervalMillis),y={throttleEndTimeMillis:Date.now()+p,backoffCount:i+1};return s.setThrottleMetadata(a,y),Ps.debug(`Calling attemptFetch again in ${p} millis`),XM(n,y,r,s)}}function qH(n,t){return new Promise((i,r)=>{const s=Math.max(t-Date.now(),0),o=setTimeout(i,s);n.addEventListener(()=>{clearTimeout(o),r(na.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function YH(n){if(!(n instanceof Ia)||!n.customData)return!1;const t=Number(n.customData.httpStatus);return t===429||t===500||t===503||t===504}class $H{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function XH(n,t,i,r,s){if(s&&s.global){n("event",i,r);return}else{const o=await t,a=Object.assign(Object.assign({},r),{send_to:o});n("event",i,a)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KH(){if(Bb())try{await Vb()}catch(n){return Ps.warn(na.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return Ps.warn(na.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function QH(n,t,i,r,s,o,a){var c;const l=WH(n);l.then(f=>{i[f.measurementId]=f.appId,n.options.measurementId&&f.measurementId!==n.options.measurementId&&Ps.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>Ps.error(f)),t.push(l);const u=KH().then(f=>{if(f)return r.getId()}),[p,y]=await Promise.all([l,u]);UH(o)||MH(o,p.measurementId),s("js",new Date);const d=(c=a==null?void 0:a.config)!==null&&c!==void 0?c:{};return d[AH]="firebase",d.update=!0,y!=null&&(d[CH]=y),s("config",p.measurementId,d),p.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZH{constructor(t){this.app=t}_delete(){return delete $f[this.app.options.appId],Promise.resolve()}}let $f={},yA=[];const vA={};let t_="dataLayer",JH="gtag",_A,KM,bA=!1;function eW(){const n=[];if(Ub()&&n.push("This is a browser extension environment."),AR()||n.push("Cookies are not available."),n.length>0){const t=n.map((r,s)=>`(${s+1}) ${r}`).join(" "),i=na.create("invalid-analytics-context",{errorInfo:t});Ps.warn(i.message)}}function tW(n,t,i){eW();const r=n.options.appId;if(!r)throw na.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)Ps.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw na.create("no-api-key");if($f[r]!=null)throw na.create("already-exists",{id:r});if(!bA){PH(t_);const{wrappedGtag:o,gtagCore:a}=FH($f,yA,vA,t_,JH);KM=o,_A=a,bA=!0}return $f[r]=QH(n,yA,vA,t,_A,t_,i),new ZH(n)}function rW(n=gd()){n=Lr(n);const t=Il(n,xg);return t.isInitialized()?t.getImmediate():nW(n)}function nW(n,t={}){const i=Il(n,xg);if(i.isInitialized()){const s=i.getImmediate();if(ip(t,i.getOptions()))return s;throw na.create("already-initialized")}return i.initialize({options:t})}async function iW(){if(Ub()||!AR()||!Bb())return!1;try{return await Vb()}catch{return!1}}function sW(n,t,i,r){n=Lr(n),XH(KM,$f[n.app.options.appId],t,i,r).catch(s=>Ps.error(s))}const xA="@firebase/analytics",wA="0.10.8";function aW(){ja(new sa(xg,(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),s=t.getProvider("installations-internal").getImmediate();return tW(r,s,i)},"PUBLIC")),ja(new sa("analytics-internal",n,"PRIVATE")),ls(xA,wA),ls(xA,wA,"esm2017");function n(t){try{const i=t.getProvider(xg).getImmediate();return{logEvent:(r,s,o)=>sW(i,r,s,o)}}catch(i){throw na.create("interop-component-reg-failed",{reason:i})}}}aW();const vw={apiKey:"AIzaSyAnrwZY_0SAM3mYI13X3RkNuIWkJw3TnSU",authDomain:"stablehand-typing.firebaseapp.com",projectId:"stablehand-typing",storageBucket:"stablehand-typing.firebasestorage.app",appId:"1:139216749479:web:bf441369ac65d6a096ac82",messagingSenderId:"139216749479",databaseURL:"https://stablehand-typing-default-rtdb.firebaseio.com",measurementId:"G-5C5KTHHF5C"},$p=G5().length?gd():kR(vw),Sr=lx($p),Ds=T9($p),xs=qV($p),oW=Nz($p,vw.databaseURL),lW=typeof window<"u",cW=typeof import.meta<"u"&&!0||typeof process<"u"&&!0;lW&&cW&&vw.measurementId&&iW().then(n=>{n&&rW($p)});new _o;new bo;new vo;new hl("yahoo.com");new hl("microsoft.com");new hl("apple.com");new hl("twitter.com");new ws(Sr);const _w=n=>{const t=[],i=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return!n||n.trim()===""?t.push("Email is required."):(n.includes("@")||t.push("Email must contain @"),n.includes(".")||t.push('Email must contain a domain, e.g., ".com"'),i.test(n)||t.push("Invalid email format.")),t},bw=n=>{const t=[],i=/^\+?[1-9]\d{1,14}$/;return!n||n.trim()===""?t.push("Phone number is required."):i.test(n)||t.push("Invalid phone number format. Please enter a valid phone number."),t},uW=n=>{const t=[],i=/^\d{5}(-\d{4})?$/;return!n||n.trim()===""?t.push("This field is required."):i.test(n)||t.push("Invalid ZIP code format."),t},sr=n=>{if(Array.isArray(n)){if(n.length===0)return["This field is required."]}else if(!n||n.trim()==="")return["This field is required."];return[]},QM=n=>!n||n.trim()===""?["This field is required, default NA"]:[],Rh=n=>{const t=[];return!n||n.trim()===""?t.push("This field is required."):/^[a-zA-Z\s]+$/.test(n)||t.push("Only alphabetic characters and spaces are allowed."),t},SA=n=>{const t=[];return!Array.isArray(n)||n.length===0?t.push("This field is required."):n.length===1&&(n[0]===""||n[0].trim()==="")&&t.push("Please specify a value."),t},ZM=n=>{const t=[];return n?(n.length<8&&t.push("Password must be at least 8 characters long."),/[A-Z]/.test(n)||t.push("Password must contain at least one uppercase letter."),/[a-z]/.test(n)||t.push("Password must contain at least one lowercase letter."),/[0-9]/.test(n)||t.push("Password must contain at least one digit."),/[!@#$%^&*(),.?":{}|<>]/.test(n)||t.push("Password must contain at least one special character.")):t.push("Password is required."),t},Sy=n=>n.getModifierState&&n.getModifierState("CapsLock"),gu=n=>{const t=[];if(n==null||n==="")return["This field is required."];const i=Number(n);return isNaN(i)?t.push("Must be a valid number."):i<0&&t.push("Cannot be negative."),t},xw=n=>{const t=[],i=new Date(n);if(isNaN(i.getTime()))return t.push("Invalid Date of Birth."),t;const r=new Date;let s=r.getFullYear()-i.getFullYear();const o=r.getMonth()-i.getMonth();return(o<0||o===0&&r.getDate()<i.getDate())&&s--,(s<8||s>120)&&t.push("Date of Birth must result in an age between 8 and 120 years."),t},JM=n=>{const t=[];if(!n||n.trim()==="")t.push("This field is required.");else{const i=parseInt(n,10);(isNaN(i)||i<8||i>120)&&t.push("Age must be between 8 and 120 years.")}return t},e4=(n,t)=>{const i=[];if(n&&t!==void 0&&t!==null){const r=new Date(n),s=new Date;let o=s.getFullYear()-r.getFullYear();const a=s.getMonth()-r.getMonth();(a<0||a===0&&s.getDate()<r.getDate())&&o--,Math.floor(t)!==o&&i.push("Age must match Date of Birth.")}return i},hW={success:"bg-green-100 border-green-400 text-green-700",error:"bg-red-100 border-red-400 text-red-700",warning:"bg-yellow-100 border-yellow-400 text-yellow-700",info:"bg-blue-100 text-blue-700"},dW=n=>["success","error","warning","info"].includes(n),fW=({message:n,type:t="info"})=>{const i=dW(t)?t:"info",r=i==="error"?"alert":"status";return V.jsx("div",{className:`border-l-4 p-2 mb-2 text-xs ${hW[i]}`,role:r,"aria-live":"polite",children:n})},On=Ee.memo(fW),oi=({label:n,name:t,type:i,value:r,onChange:s,onKeyDown:o,placeholder:a="",errors:c=[]})=>V.jsxs("div",{className:"mb-4",children:[V.jsx("label",{htmlFor:t,className:"block text-sm font-medium text-gray-700",children:n}),V.jsx("input",{id:t,name:t,type:i,value:r,onChange:s,onKeyDown:o,placeholder:a,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"}),c.length>0&&V.jsx("div",{className:"mt-2",children:c.map((l,u)=>V.jsx(On,{message:l,type:"error"},u))})]}),t4=Ee.forwardRef(({email:n,setEmail:t,setEmailErrors:i},r)=>{const[s,o]=Ee.useState([]),[a,c]=Ee.useState(!1),l=p=>{const{value:y}=p.target;t(y);const d=_w(y);i(d),o(d)},u=p=>{c(Sy(p))};return Ee.useImperativeHandle(r,()=>({clearLocalErrors:()=>o([])})),V.jsxs("div",{children:[V.jsx(oi,{name:"Email",label:"Email",type:"email",value:n,onChange:l,onKeyDown:u,errors:s,placeholder:"Enter your email"}),a&&V.jsx(On,{message:"Caps Lock is on",type:"warning"})]})}),r4=Ee.forwardRef(({password:n,setPassword:t,setPasswordErrors:i},r)=>{const[s,o]=Ee.useState([]),[a,c]=Ee.useState(!1),l=p=>{const{value:y}=p.target;t(y);const d=ZM(y);i(d),o(d)},u=p=>{c(Sy(p))};return Ee.useImperativeHandle(r,()=>({clearLocalErrors:()=>o([])})),V.jsxs("div",{children:[V.jsx(oi,{name:"Password",label:"Password",type:"password",value:n,onChange:l,onKeyDown:u,errors:s,placeholder:"Enter your password"}),a&&V.jsx(On,{message:"Caps Lock is on",type:"warning"})]})}),Xn=({onClick:n,children:t,className:i="",...r})=>V.jsx("button",{onClick:n,className:`px-4 py-2 text-white bg-blue-500 hover:bg-blue-600 rounded focus:outline-none focus:ring-2 focus:ring-blue-400 ${i}`,...r,children:t});function Iu(n){"@babel/helpers - typeof";return Iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Iu(n)}function pW(n,t){if(Iu(n)!="object"||!n)return n;var i=n[Symbol.toPrimitive];if(i!==void 0){var r=i.call(n,t||"default");if(Iu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function n4(n){var t=pW(n,"string");return Iu(t)=="symbol"?t:t+""}function Nf(n,t,i){return(t=n4(t))in n?Object.defineProperty(n,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[t]=i,n}function TA(n,t){var i=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),i.push.apply(i,r)}return i}function ar(n){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?TA(Object(i),!0).forEach(function(r){Nf(n,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):TA(Object(i)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(i,r))})}return n}function mW(n){if(Array.isArray(n))return n}function gW(n,t){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var r,s,o,a,c=[],l=!0,u=!1;try{if(o=(i=i.call(n)).next,t===0){if(Object(i)!==i)return;l=!1}else for(;!(l=(r=o.call(i)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(p){u=!0,s=p}finally{try{if(!l&&i.return!=null&&(a=i.return(),Object(a)!==a))return}finally{if(u)throw s}}return c}}function yb(n,t){(t==null||t>n.length)&&(t=n.length);for(var i=0,r=Array(t);i<t;i++)r[i]=n[i];return r}function i4(n,t){if(n){if(typeof n=="string")return yb(n,t);var i={}.toString.call(n).slice(8,-1);return i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set"?Array.from(n):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?yb(n,t):void 0}}function yW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pl(n,t){return mW(n)||gW(n,t)||i4(n,t)||yW()}function vW(n,t){if(n==null)return{};var i={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(t.includes(r))continue;i[r]=n[r]}return i}function kl(n,t){if(n==null)return{};var i,r,s=vW(n,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(r=0;r<o.length;r++)i=o[r],t.includes(i)||{}.propertyIsEnumerable.call(n,i)&&(s[i]=n[i])}return s}var _W=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function bW(n){var t=n.defaultInputValue,i=t===void 0?"":t,r=n.defaultMenuIsOpen,s=r===void 0?!1:r,o=n.defaultValue,a=o===void 0?null:o,c=n.inputValue,l=n.menuIsOpen,u=n.onChange,p=n.onInputChange,y=n.onMenuClose,d=n.onMenuOpen,f=n.value,b=kl(n,_W),g=Ee.useState(c!==void 0?c:i),v=pl(g,2),_=v[0],x=v[1],w=Ee.useState(l!==void 0?l:s),S=pl(w,2),R=S[0],D=S[1],A=Ee.useState(f!==void 0?f:a),C=pl(A,2),j=C[0],P=C[1],O=Ee.useCallback(function(te,ee){typeof u=="function"&&u(te,ee),P(te)},[u]),L=Ee.useCallback(function(te,ee){var Q;typeof p=="function"&&(Q=p(te,ee)),x(Q!==void 0?Q:te)},[p]),N=Ee.useCallback(function(){typeof d=="function"&&d(),D(!0)},[d]),q=Ee.useCallback(function(){typeof y=="function"&&y(),D(!1)},[y]),W=c!==void 0?c:_,Y=l!==void 0?l:R,J=f!==void 0?f:j;return ar(ar({},b),{},{inputValue:W,menuIsOpen:Y,onChange:O,onInputChange:L,onMenuClose:q,onMenuOpen:N,value:J})}function cr(){return cr=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)({}).hasOwnProperty.call(i,r)&&(n[r]=i[r])}return n},cr.apply(null,arguments)}function xW(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function EA(n,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,n4(r.key),r)}}function wW(n,t,i){return t&&EA(n.prototype,t),i&&EA(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n}function vb(n,t){return vb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},vb(n,t)}function SW(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),t&&vb(n,t)}function wg(n){return wg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},wg(n)}function s4(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(s4=function(){return!!n})()}function TW(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function EW(n,t){if(t&&(Iu(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TW(n)}function CW(n){var t=s4();return function(){var i,r=wg(n);if(t){var s=wg(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return EW(this,i)}}function AW(n){if(Array.isArray(n))return yb(n)}function jW(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function RW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ww(n){return AW(n)||jW(n)||i4(n)||RW()}var OW=!1;function IW(n){if(n.sheet)return n.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===n)return document.styleSheets[t]}function kW(n){var t=document.createElement("style");return t.setAttribute("data-emotion",n.key),n.nonce!==void 0&&t.setAttribute("nonce",n.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var MW=function(){function n(i){var r=this;this._insertTag=function(s){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(s,o),r.tags.push(s)},this.isSpeedy=i.speedy===void 0?!OW:i.speedy,this.tags=[],this.ctr=0,this.nonce=i.nonce,this.key=i.key,this.container=i.container,this.prepend=i.prepend,this.insertionPoint=i.insertionPoint,this.before=null}var t=n.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(kW(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var o=IW(s);try{o.insertRule(r,o.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){var s;return(s=r.parentNode)==null?void 0:s.removeChild(r)}),this.tags=[],this.ctr=0},n}(),ns="-ms-",Sg="-moz-",qr="-webkit-",a4="comm",Sw="rule",Tw="decl",PW="@import",o4="@keyframes",DW="@layer",NW=Math.abs,Ty=String.fromCharCode,LW=Object.assign;function FW(n,t){return Gi(n,0)^45?(((t<<2^Gi(n,0))<<2^Gi(n,1))<<2^Gi(n,2))<<2^Gi(n,3):0}function l4(n){return n.trim()}function UW(n,t){return(n=t.exec(n))?n[0]:n}function Yr(n,t,i){return n.replace(t,i)}function _b(n,t){return n.indexOf(t)}function Gi(n,t){return n.charCodeAt(t)|0}function vp(n,t,i){return n.slice(t,i)}function go(n){return n.length}function Ew(n){return n.length}function u0(n,t){return t.push(n),n}function BW(n,t){return n.map(t).join("")}var Ey=1,hd=1,c4=0,Fs=0,li=0,Ed="";function Cy(n,t,i,r,s,o,a){return{value:n,root:t,parent:i,type:r,props:s,children:o,line:Ey,column:hd,length:a,return:""}}function Sf(n,t){return LW(Cy("",null,null,"",null,null,0),n,{length:-n.length},t)}function VW(){return li}function GW(){return li=Fs>0?Gi(Ed,--Fs):0,hd--,li===10&&(hd=1,Ey--),li}function ia(){return li=Fs<c4?Gi(Ed,Fs++):0,hd++,li===10&&(hd=1,Ey++),li}function Ao(){return Gi(Ed,Fs)}function V0(){return Fs}function Xp(n,t){return vp(Ed,n,t)}function _p(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function u4(n){return Ey=hd=1,c4=go(Ed=n),Fs=0,[]}function h4(n){return Ed="",n}function G0(n){return l4(Xp(Fs-1,bb(n===91?n+2:n===40?n+1:n)))}function zW(n){for(;(li=Ao())&&li<33;)ia();return _p(n)>2||_p(li)>3?"":" "}function HW(n,t){for(;--t&&ia()&&!(li<48||li>102||li>57&&li<65||li>70&&li<97););return Xp(n,V0()+(t<6&&Ao()==32&&ia()==32))}function bb(n){for(;ia();)switch(li){case n:return Fs;case 34:case 39:n!==34&&n!==39&&bb(li);break;case 40:n===41&&bb(n);break;case 92:ia();break}return Fs}function WW(n,t){for(;ia()&&n+li!==57;)if(n+li===84&&Ao()===47)break;return"/*"+Xp(t,Fs-1)+"*"+Ty(n===47?n:ia())}function qW(n){for(;!_p(Ao());)ia();return Xp(n,Fs)}function YW(n){return h4(z0("",null,null,null,[""],n=u4(n),0,[0],n))}function z0(n,t,i,r,s,o,a,c,l){for(var u=0,p=0,y=a,d=0,f=0,b=0,g=1,v=1,_=1,x=0,w="",S=s,R=o,D=r,A=w;v;)switch(b=x,x=ia()){case 40:if(b!=108&&Gi(A,y-1)==58){_b(A+=Yr(G0(x),"&","&\f"),"&\f")!=-1&&(_=-1);break}case 34:case 39:case 91:A+=G0(x);break;case 9:case 10:case 13:case 32:A+=zW(b);break;case 92:A+=HW(V0()-1,7);continue;case 47:switch(Ao()){case 42:case 47:u0($W(WW(ia(),V0()),t,i),l);break;default:A+="/"}break;case 123*g:c[u++]=go(A)*_;case 125*g:case 59:case 0:switch(x){case 0:case 125:v=0;case 59+p:_==-1&&(A=Yr(A,/\f/g,"")),f>0&&go(A)-y&&u0(f>32?AA(A+";",r,i,y-1):AA(Yr(A," ","")+";",r,i,y-2),l);break;case 59:A+=";";default:if(u0(D=CA(A,t,i,u,p,s,c,w,S=[],R=[],y),o),x===123)if(p===0)z0(A,t,D,D,S,o,y,c,R);else switch(d===99&&Gi(A,3)===110?100:d){case 100:case 108:case 109:case 115:z0(n,D,D,r&&u0(CA(n,D,D,0,0,s,c,w,s,S=[],y),R),s,R,y,c,r?S:R);break;default:z0(A,D,D,D,[""],R,0,c,R)}}u=p=f=0,g=_=1,w=A="",y=a;break;case 58:y=1+go(A),f=b;default:if(g<1){if(x==123)--g;else if(x==125&&g++==0&&GW()==125)continue}switch(A+=Ty(x),x*g){case 38:_=p>0?1:(A+="\f",-1);break;case 44:c[u++]=(go(A)-1)*_,_=1;break;case 64:Ao()===45&&(A+=G0(ia())),d=Ao(),p=y=go(w=A+=qW(V0())),x++;break;case 45:b===45&&go(A)==2&&(g=0)}}return o}function CA(n,t,i,r,s,o,a,c,l,u,p){for(var y=s-1,d=s===0?o:[""],f=Ew(d),b=0,g=0,v=0;b<r;++b)for(var _=0,x=vp(n,y+1,y=NW(g=a[b])),w=n;_<f;++_)(w=l4(g>0?d[_]+" "+x:Yr(x,/&\f/g,d[_])))&&(l[v++]=w);return Cy(n,t,i,s===0?Sw:c,l,u,p)}function $W(n,t,i){return Cy(n,t,i,a4,Ty(VW()),vp(n,2,-2),0)}function AA(n,t,i,r){return Cy(n,t,i,Tw,vp(n,0,r),vp(n,r+1,-1),r)}function Xh(n,t){for(var i="",r=Ew(n),s=0;s<r;s++)i+=t(n[s],s,n,t)||"";return i}function XW(n,t,i,r){switch(n.type){case DW:if(n.children.length)break;case PW:case Tw:return n.return=n.return||n.value;case a4:return"";case o4:return n.return=n.value+"{"+Xh(n.children,r)+"}";case Sw:n.value=n.props.join(",")}return go(i=Xh(n.children,r))?n.return=n.value+"{"+i+"}":""}function KW(n){var t=Ew(n);return function(i,r,s,o){for(var a="",c=0;c<t;c++)a+=n[c](i,r,s,o)||"";return a}}function QW(n){return function(t){t.root||(t=t.return)&&n(t)}}function ZW(n){var t=Object.create(null);return function(i){return t[i]===void 0&&(t[i]=n(i)),t[i]}}var JW=function(t,i,r){for(var s=0,o=0;s=o,o=Ao(),s===38&&o===12&&(i[r]=1),!_p(o);)ia();return Xp(t,Fs)},eq=function(t,i){var r=-1,s=44;do switch(_p(s)){case 0:s===38&&Ao()===12&&(i[r]=1),t[r]+=JW(Fs-1,i,r);break;case 2:t[r]+=G0(s);break;case 4:if(s===44){t[++r]=Ao()===58?"&\f":"",i[r]=t[r].length;break}default:t[r]+=Ty(s)}while(s=ia());return t},tq=function(t,i){return h4(eq(u4(t),i))},jA=new WeakMap,rq=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var i=t.value,r=t.parent,s=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&i.charCodeAt(0)!==58&&!jA.get(r))&&!s){jA.set(t,!0);for(var o=[],a=tq(i,o),c=r.props,l=0,u=0;l<a.length;l++)for(var p=0;p<c.length;p++,u++)t.props[u]=o[l]?a[l].replace(/&\f/g,c[p]):c[p]+" "+a[l]}}},nq=function(t){if(t.type==="decl"){var i=t.value;i.charCodeAt(0)===108&&i.charCodeAt(2)===98&&(t.return="",t.value="")}};function d4(n,t){switch(FW(n,t)){case 5103:return qr+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return qr+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return qr+n+Sg+n+ns+n+n;case 6828:case 4268:return qr+n+ns+n+n;case 6165:return qr+n+ns+"flex-"+n+n;case 5187:return qr+n+Yr(n,/(\w+).+(:[^]+)/,qr+"box-$1$2"+ns+"flex-$1$2")+n;case 5443:return qr+n+ns+"flex-item-"+Yr(n,/flex-|-self/,"")+n;case 4675:return qr+n+ns+"flex-line-pack"+Yr(n,/align-content|flex-|-self/,"")+n;case 5548:return qr+n+ns+Yr(n,"shrink","negative")+n;case 5292:return qr+n+ns+Yr(n,"basis","preferred-size")+n;case 6060:return qr+"box-"+Yr(n,"-grow","")+qr+n+ns+Yr(n,"grow","positive")+n;case 4554:return qr+Yr(n,/([^-])(transform)/g,"$1"+qr+"$2")+n;case 6187:return Yr(Yr(Yr(n,/(zoom-|grab)/,qr+"$1"),/(image-set)/,qr+"$1"),n,"")+n;case 5495:case 3959:return Yr(n,/(image-set\([^]*)/,qr+"$1$`$1");case 4968:return Yr(Yr(n,/(.+:)(flex-)?(.*)/,qr+"box-pack:$3"+ns+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+qr+n+n;case 4095:case 3583:case 4068:case 2532:return Yr(n,/(.+)-inline(.+)/,qr+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(go(n)-1-t>6)switch(Gi(n,t+1)){case 109:if(Gi(n,t+4)!==45)break;case 102:return Yr(n,/(.+:)(.+)-([^]+)/,"$1"+qr+"$2-$3$1"+Sg+(Gi(n,t+3)==108?"$3":"$2-$3"))+n;case 115:return~_b(n,"stretch")?d4(Yr(n,"stretch","fill-available"),t)+n:n}break;case 4949:if(Gi(n,t+1)!==115)break;case 6444:switch(Gi(n,go(n)-3-(~_b(n,"!important")&&10))){case 107:return Yr(n,":",":"+qr)+n;case 101:return Yr(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+qr+(Gi(n,14)===45?"inline-":"")+"box$3$1"+qr+"$2$3$1"+ns+"$2box$3")+n}break;case 5936:switch(Gi(n,t+11)){case 114:return qr+n+ns+Yr(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return qr+n+ns+Yr(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return qr+n+ns+Yr(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return qr+n+ns+n+n}return n}var iq=function(t,i,r,s){if(t.length>-1&&!t.return)switch(t.type){case Tw:t.return=d4(t.value,t.length);break;case o4:return Xh([Sf(t,{value:Yr(t.value,"@","@"+qr)})],s);case Sw:if(t.length)return BW(t.props,function(o){switch(UW(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Xh([Sf(t,{props:[Yr(o,/:(read-\w+)/,":"+Sg+"$1")]})],s);case"::placeholder":return Xh([Sf(t,{props:[Yr(o,/:(plac\w+)/,":"+qr+"input-$1")]}),Sf(t,{props:[Yr(o,/:(plac\w+)/,":"+Sg+"$1")]}),Sf(t,{props:[Yr(o,/:(plac\w+)/,ns+"input-$1")]})],s)}return""})}},sq=[iq],aq=function(t){var i=t.key;if(i==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(g){var v=g.getAttribute("data-emotion");v.indexOf(" ")!==-1&&(document.head.appendChild(g),g.setAttribute("data-s",""))})}var s=t.stylisPlugins||sq,o={},a,c=[];a=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+i+' "]'),function(g){for(var v=g.getAttribute("data-emotion").split(" "),_=1;_<v.length;_++)o[v[_]]=!0;c.push(g)});var l,u=[rq,nq];{var p,y=[XW,QW(function(g){p.insert(g)})],d=KW(u.concat(s,y)),f=function(v){return Xh(YW(v),d)};l=function(v,_,x,w){p=x,f(v?v+"{"+_.styles+"}":_.styles),w&&(b.inserted[_.name]=!0)}}var b={key:i,sheet:new MW({key:i,container:a,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:o,registered:{},insert:l};return b.sheet.hydrate(c),b},r_={exports:{}},Qr={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RA;function oq(){if(RA)return Qr;RA=1;var n=typeof Symbol=="function"&&Symbol.for,t=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,r=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,o=n?Symbol.for("react.profiler"):60114,a=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,u=n?Symbol.for("react.concurrent_mode"):60111,p=n?Symbol.for("react.forward_ref"):60112,y=n?Symbol.for("react.suspense"):60113,d=n?Symbol.for("react.suspense_list"):60120,f=n?Symbol.for("react.memo"):60115,b=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,v=n?Symbol.for("react.fundamental"):60117,_=n?Symbol.for("react.responder"):60118,x=n?Symbol.for("react.scope"):60119;function w(R){if(typeof R=="object"&&R!==null){var D=R.$$typeof;switch(D){case t:switch(R=R.type,R){case l:case u:case r:case o:case s:case y:return R;default:switch(R=R&&R.$$typeof,R){case c:case p:case b:case f:case a:return R;default:return D}}case i:return D}}}function S(R){return w(R)===u}return Qr.AsyncMode=l,Qr.ConcurrentMode=u,Qr.ContextConsumer=c,Qr.ContextProvider=a,Qr.Element=t,Qr.ForwardRef=p,Qr.Fragment=r,Qr.Lazy=b,Qr.Memo=f,Qr.Portal=i,Qr.Profiler=o,Qr.StrictMode=s,Qr.Suspense=y,Qr.isAsyncMode=function(R){return S(R)||w(R)===l},Qr.isConcurrentMode=S,Qr.isContextConsumer=function(R){return w(R)===c},Qr.isContextProvider=function(R){return w(R)===a},Qr.isElement=function(R){return typeof R=="object"&&R!==null&&R.$$typeof===t},Qr.isForwardRef=function(R){return w(R)===p},Qr.isFragment=function(R){return w(R)===r},Qr.isLazy=function(R){return w(R)===b},Qr.isMemo=function(R){return w(R)===f},Qr.isPortal=function(R){return w(R)===i},Qr.isProfiler=function(R){return w(R)===o},Qr.isStrictMode=function(R){return w(R)===s},Qr.isSuspense=function(R){return w(R)===y},Qr.isValidElementType=function(R){return typeof R=="string"||typeof R=="function"||R===r||R===u||R===o||R===s||R===y||R===d||typeof R=="object"&&R!==null&&(R.$$typeof===b||R.$$typeof===f||R.$$typeof===a||R.$$typeof===c||R.$$typeof===p||R.$$typeof===v||R.$$typeof===_||R.$$typeof===x||R.$$typeof===g)},Qr.typeOf=w,Qr}var OA;function lq(){return OA||(OA=1,r_.exports=oq()),r_.exports}var n_,IA;function cq(){if(IA)return n_;IA=1;var n=lq(),t={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};o[n.ForwardRef]=r,o[n.Memo]=s;function a(b){return n.isMemo(b)?s:o[b.$$typeof]||t}var c=Object.defineProperty,l=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,y=Object.getPrototypeOf,d=Object.prototype;function f(b,g,v){if(typeof g!="string"){if(d){var _=y(g);_&&_!==d&&f(b,_,v)}var x=l(g);u&&(x=x.concat(u(g)));for(var w=a(b),S=a(g),R=0;R<x.length;++R){var D=x[R];if(!i[D]&&!(v&&v[D])&&!(S&&S[D])&&!(w&&w[D])){var A=p(g,D);try{c(b,D,A)}catch{}}}}return b}return n_=f,n_}cq();var uq=!0;function hq(n,t,i){var r="";return i.split(" ").forEach(function(s){n[s]!==void 0?t.push(n[s]+";"):s&&(r+=s+" ")}),r}var f4=function(t,i,r){var s=t.key+"-"+i.name;(r===!1||uq===!1)&&t.registered[s]===void 0&&(t.registered[s]=i.styles)},dq=function(t,i,r){f4(t,i,r);var s=t.key+"-"+i.name;if(t.inserted[i.name]===void 0){var o=i;do t.insert(i===o?"."+s:"",o,t.sheet,!0),o=o.next;while(o!==void 0)}};function fq(n){for(var t=0,i,r=0,s=n.length;s>=4;++r,s-=4)i=n.charCodeAt(r)&255|(n.charCodeAt(++r)&255)<<8|(n.charCodeAt(++r)&255)<<16|(n.charCodeAt(++r)&255)<<24,i=(i&65535)*1540483477+((i>>>16)*59797<<16),i^=i>>>24,t=(i&65535)*1540483477+((i>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(s){case 3:t^=(n.charCodeAt(r+2)&255)<<16;case 2:t^=(n.charCodeAt(r+1)&255)<<8;case 1:t^=n.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var pq={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},mq=!1,gq=/[A-Z]|^ms/g,yq=/_EMO_([^_]+?)_([^]*?)_EMO_/g,p4=function(t){return t.charCodeAt(1)===45},kA=function(t){return t!=null&&typeof t!="boolean"},i_=ZW(function(n){return p4(n)?n:n.replace(gq,"-$&").toLowerCase()}),MA=function(t,i){switch(t){case"animation":case"animationName":if(typeof i=="string")return i.replace(yq,function(r,s,o){return yo={name:s,styles:o,next:yo},s})}return pq[t]!==1&&!p4(t)&&typeof i=="number"&&i!==0?i+"px":i},vq="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function bp(n,t,i){if(i==null)return"";var r=i;if(r.__emotion_styles!==void 0)return r;switch(typeof i){case"boolean":return"";case"object":{var s=i;if(s.anim===1)return yo={name:s.name,styles:s.styles,next:yo},s.name;var o=i;if(o.styles!==void 0){var a=o.next;if(a!==void 0)for(;a!==void 0;)yo={name:a.name,styles:a.styles,next:yo},a=a.next;var c=o.styles+";";return c}return _q(n,t,i)}case"function":{if(n!==void 0){var l=yo,u=i(n);return yo=l,bp(n,t,u)}break}}var p=i;return p}function _q(n,t,i){var r="";if(Array.isArray(i))for(var s=0;s<i.length;s++)r+=bp(n,t,i[s])+";";else for(var o in i){var a=i[o];if(typeof a!="object"){var c=a;kA(c)&&(r+=i_(o)+":"+MA(o,c)+";")}else{if(o==="NO_COMPONENT_SELECTOR"&&mq)throw new Error(vq);if(Array.isArray(a)&&typeof a[0]=="string"&&t==null)for(var l=0;l<a.length;l++)kA(a[l])&&(r+=i_(o)+":"+MA(o,a[l])+";");else{var u=bp(n,t,a);switch(o){case"animation":case"animationName":{r+=i_(o)+":"+u+";";break}default:r+=o+"{"+u+"}"}}}}return r}var PA=/label:\s*([^\s;{]+)\s*(;|$)/g,yo;function m4(n,t,i){if(n.length===1&&typeof n[0]=="object"&&n[0]!==null&&n[0].styles!==void 0)return n[0];var r=!0,s="";yo=void 0;var o=n[0];if(o==null||o.raw===void 0)r=!1,s+=bp(i,t,o);else{var a=o;s+=a[0]}for(var c=1;c<n.length;c++)if(s+=bp(i,t,n[c]),r){var l=o;s+=l[c]}PA.lastIndex=0;for(var u="",p;(p=PA.exec(s))!==null;)u+="-"+p[1];var y=fq(s)+u;return{name:y,styles:s,next:yo}}var bq=function(t){return t()},xq=A_.useInsertionEffect?A_.useInsertionEffect:!1,wq=xq||bq,Sq=!1,g4=Ee.createContext(typeof HTMLElement<"u"?aq({key:"css"}):null);g4.Provider;var Tq=function(t){return Ee.forwardRef(function(i,r){var s=Ee.useContext(g4);return t(i,s,r)})},Eq=Ee.createContext({}),Cw={}.hasOwnProperty,xb="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Cq=function(t,i){var r={};for(var s in i)Cw.call(i,s)&&(r[s]=i[s]);return r[xb]=t,r},Aq=function(t){var i=t.cache,r=t.serialized,s=t.isStringTag;return f4(i,r,s),wq(function(){return dq(i,r,s)}),null},jq=Tq(function(n,t,i){var r=n.css;typeof r=="string"&&t.registered[r]!==void 0&&(r=t.registered[r]);var s=n[xb],o=[r],a="";typeof n.className=="string"?a=hq(t.registered,o,n.className):n.className!=null&&(a=n.className+" ");var c=m4(o,void 0,Ee.useContext(Eq));a+=t.key+"-"+c.name;var l={};for(var u in n)Cw.call(n,u)&&u!=="css"&&u!==xb&&!Sq&&(l[u]=n[u]);return l.className=a,i&&(l.ref=i),Ee.createElement(Ee.Fragment,null,Ee.createElement(Aq,{cache:t,serialized:c,isStringTag:typeof s=="string"}),Ee.createElement(s,l))}),Rq=jq,tr=function(t,i){var r=arguments;if(i==null||!Cw.call(i,"css"))return Ee.createElement.apply(void 0,r);var s=r.length,o=new Array(s);o[0]=Rq,o[1]=Cq(t,i);for(var a=2;a<s;a++)o[a]=r[a];return Ee.createElement.apply(null,o)};(function(n){var t;t||(t=n.JSX||(n.JSX={}))})(tr||(tr={}));function Aw(){for(var n=arguments.length,t=new Array(n),i=0;i<n;i++)t[i]=arguments[i];return m4(t)}function Oq(){var n=Aw.apply(void 0,arguments),t="animation-"+n.name;return{name:t,styles:"@keyframes "+t+"{"+n.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function Iq(n,t){return t||(t=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(t)}}))}const kq=Math.min,Mq=Math.max,Tg=Math.round,h0=Math.floor,Eg=n=>({x:n,y:n});function Pq(n){const{x:t,y:i,width:r,height:s}=n;return{width:r,height:s,top:i,left:t,right:t+r,bottom:i+s,x:t,y:i}}function Ay(){return typeof window<"u"}function y4(n){return _4(n)?(n.nodeName||"").toLowerCase():"#document"}function Al(n){var t;return(n==null||(t=n.ownerDocument)==null?void 0:t.defaultView)||window}function v4(n){var t;return(t=(_4(n)?n.ownerDocument:n.document)||window.document)==null?void 0:t.documentElement}function _4(n){return Ay()?n instanceof Node||n instanceof Al(n).Node:!1}function Dq(n){return Ay()?n instanceof Element||n instanceof Al(n).Element:!1}function jw(n){return Ay()?n instanceof HTMLElement||n instanceof Al(n).HTMLElement:!1}function DA(n){return!Ay()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Al(n).ShadowRoot}function b4(n){const{overflow:t,overflowX:i,overflowY:r,display:s}=Rw(n);return/auto|scroll|overlay|hidden|clip/.test(t+r+i)&&!["inline","contents"].includes(s)}function Nq(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Lq(n){return["html","body","#document"].includes(y4(n))}function Rw(n){return Al(n).getComputedStyle(n)}function Fq(n){if(y4(n)==="html")return n;const t=n.assignedSlot||n.parentNode||DA(n)&&n.host||v4(n);return DA(t)?t.host:t}function x4(n){const t=Fq(n);return Lq(t)?n.ownerDocument?n.ownerDocument.body:n.body:jw(t)&&b4(t)?t:x4(t)}function Cg(n,t,i){var r;t===void 0&&(t=[]),i===void 0&&(i=!0);const s=x4(n),o=s===((r=n.ownerDocument)==null?void 0:r.body),a=Al(s);if(o){const c=wb(a);return t.concat(a,a.visualViewport||[],b4(s)?s:[],c&&i?Cg(c):[])}return t.concat(s,Cg(s,[],i))}function wb(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function Uq(n){const t=Rw(n);let i=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=jw(n),o=s?n.offsetWidth:i,a=s?n.offsetHeight:r,c=Tg(i)!==o||Tg(r)!==a;return c&&(i=o,r=a),{width:i,height:r,$:c}}function Ow(n){return Dq(n)?n:n.contextElement}function NA(n){const t=Ow(n);if(!jw(t))return Eg(1);const i=t.getBoundingClientRect(),{width:r,height:s,$:o}=Uq(t);let a=(o?Tg(i.width):i.width)/r,c=(o?Tg(i.height):i.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!c||!Number.isFinite(c))&&(c=1),{x:a,y:c}}const Bq=Eg(0);function Vq(n){const t=Al(n);return!Nq()||!t.visualViewport?Bq:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Gq(n,t,i){return!1}function LA(n,t,i,r){t===void 0&&(t=!1);const s=n.getBoundingClientRect(),o=Ow(n);let a=Eg(1);t&&(a=NA(n));const c=Gq()?Vq(o):Eg(0);let l=(s.left+c.x)/a.x,u=(s.top+c.y)/a.y,p=s.width/a.x,y=s.height/a.y;if(o){const d=Al(o),f=r;let b=d,g=wb(b);for(;g&&r&&f!==b;){const v=NA(g),_=g.getBoundingClientRect(),x=Rw(g),w=_.left+(g.clientLeft+parseFloat(x.paddingLeft))*v.x,S=_.top+(g.clientTop+parseFloat(x.paddingTop))*v.y;l*=v.x,u*=v.y,p*=v.x,y*=v.y,l+=w,u+=S,b=Al(g),g=wb(b)}}return Pq({width:p,height:y,x:l,y:u})}function zq(n,t){let i=null,r;const s=v4(n);function o(){var c;clearTimeout(r),(c=i)==null||c.disconnect(),i=null}function a(c,l){c===void 0&&(c=!1),l===void 0&&(l=1),o();const{left:u,top:p,width:y,height:d}=n.getBoundingClientRect();if(c||t(),!y||!d)return;const f=h0(p),b=h0(s.clientWidth-(u+y)),g=h0(s.clientHeight-(p+d)),v=h0(u),x={rootMargin:-f+"px "+-b+"px "+-g+"px "+-v+"px",threshold:Mq(0,kq(1,l))||1};let w=!0;function S(R){const D=R[0].intersectionRatio;if(D!==l){if(!w)return a();D?a(!1,D):r=setTimeout(()=>{a(!1,1e-7)},1e3)}w=!1}try{i=new IntersectionObserver(S,{...x,root:s.ownerDocument})}catch{i=new IntersectionObserver(S,x)}i.observe(n)}return a(!0),o}function Hq(n,t,i,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=Ow(n),p=s||o?[...u?Cg(u):[],...Cg(t)]:[];p.forEach(_=>{s&&_.addEventListener("scroll",i,{passive:!0}),o&&_.addEventListener("resize",i)});const y=u&&c?zq(u,i):null;let d=-1,f=null;a&&(f=new ResizeObserver(_=>{let[x]=_;x&&x.target===u&&f&&(f.unobserve(t),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var w;(w=f)==null||w.observe(t)})),i()}),u&&!l&&f.observe(u),f.observe(t));let b,g=l?LA(n):null;l&&v();function v(){const _=LA(n);g&&(_.x!==g.x||_.y!==g.y||_.width!==g.width||_.height!==g.height)&&i(),g=_,b=requestAnimationFrame(v)}return i(),()=>{var _;p.forEach(x=>{s&&x.removeEventListener("scroll",i),o&&x.removeEventListener("resize",i)}),y==null||y(),(_=f)==null||_.disconnect(),f=null,l&&cancelAnimationFrame(b)}}var Sb=Ee.useLayoutEffect,Wq=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],Ag=function(){};function qq(n,t){return t?t[0]==="-"?n+t:n+"__"+t:n}function Yq(n,t){for(var i=arguments.length,r=new Array(i>2?i-2:0),s=2;s<i;s++)r[s-2]=arguments[s];var o=[].concat(r);if(t&&n)for(var a in t)t.hasOwnProperty(a)&&t[a]&&o.push("".concat(qq(n,a)));return o.filter(function(c){return c}).map(function(c){return String(c).trim()}).join(" ")}var FA=function(t){return rY(t)?t.filter(Boolean):Iu(t)==="object"&&t!==null?[t]:[]},w4=function(t){t.className,t.clearValue,t.cx,t.getStyles,t.getClassNames,t.getValue,t.hasValue,t.isMulti,t.isRtl,t.options,t.selectOption,t.selectProps,t.setValue,t.theme;var i=kl(t,Wq);return ar({},i)},Bn=function(t,i,r){var s=t.cx,o=t.getStyles,a=t.getClassNames,c=t.className;return{css:o(i,t),className:s(r??{},a(i,t),c)}};function jy(n){return[document.documentElement,document.body,window].indexOf(n)>-1}function $q(n){return jy(n)?window.innerHeight:n.clientHeight}function S4(n){return jy(n)?window.pageYOffset:n.scrollTop}function jg(n,t){if(jy(n)){window.scrollTo(0,t);return}n.scrollTop=t}function Xq(n){var t=getComputedStyle(n),i=t.position==="absolute",r=/(auto|scroll)/;if(t.position==="fixed")return document.documentElement;for(var s=n;s=s.parentElement;)if(t=getComputedStyle(s),!(i&&t.position==="static")&&r.test(t.overflow+t.overflowY+t.overflowX))return s;return document.documentElement}function Kq(n,t,i,r){return i*((n=n/r-1)*n*n+1)+t}function d0(n,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Ag,s=S4(n),o=t-s,a=10,c=0;function l(){c+=a;var u=Kq(c,s,o,i);jg(n,u),c<i?window.requestAnimationFrame(l):r(n)}l()}function UA(n,t){var i=n.getBoundingClientRect(),r=t.getBoundingClientRect(),s=t.offsetHeight/3;r.bottom+s>i.bottom?jg(n,Math.min(t.offsetTop+t.clientHeight-n.offsetHeight+s,n.scrollHeight)):r.top-s<i.top&&jg(n,Math.max(t.offsetTop-s,0))}function Qq(n){var t=n.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}function BA(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function Zq(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var T4=!1,Jq={get passive(){return T4=!0}},f0=typeof window<"u"?window:{};f0.addEventListener&&f0.removeEventListener&&(f0.addEventListener("p",Ag,Jq),f0.removeEventListener("p",Ag,!1));var eY=T4;function tY(n){return n!=null}function rY(n){return Array.isArray(n)}function p0(n,t,i){return n?t:i}var nY=function(t){for(var i=arguments.length,r=new Array(i>1?i-1:0),s=1;s<i;s++)r[s-1]=arguments[s];var o=Object.entries(t).filter(function(a){var c=pl(a,1),l=c[0];return!r.includes(l)});return o.reduce(function(a,c){var l=pl(c,2),u=l[0],p=l[1];return a[u]=p,a},{})},iY=["children","innerProps"],sY=["children","innerProps"];function aY(n){var t=n.maxHeight,i=n.menuEl,r=n.minHeight,s=n.placement,o=n.shouldScroll,a=n.isFixedPosition,c=n.controlHeight,l=Xq(i),u={placement:"bottom",maxHeight:t};if(!i||!i.offsetParent)return u;var p=l.getBoundingClientRect(),y=p.height,d=i.getBoundingClientRect(),f=d.bottom,b=d.height,g=d.top,v=i.offsetParent.getBoundingClientRect(),_=v.top,x=a?window.innerHeight:$q(l),w=S4(l),S=parseInt(getComputedStyle(i).marginBottom,10),R=parseInt(getComputedStyle(i).marginTop,10),D=_-R,A=x-g,C=D+w,j=y-w-g,P=f-x+w+S,O=w+g-R,L=160;switch(s){case"auto":case"bottom":if(A>=b)return{placement:"bottom",maxHeight:t};if(j>=b&&!a)return o&&d0(l,P,L),{placement:"bottom",maxHeight:t};if(!a&&j>=r||a&&A>=r){o&&d0(l,P,L);var N=a?A-S:j-S;return{placement:"bottom",maxHeight:N}}if(s==="auto"||a){var q=t,W=a?D:C;return W>=r&&(q=Math.min(W-S-c,t)),{placement:"top",maxHeight:q}}if(s==="bottom")return o&&jg(l,P),{placement:"bottom",maxHeight:t};break;case"top":if(D>=b)return{placement:"top",maxHeight:t};if(C>=b&&!a)return o&&d0(l,O,L),{placement:"top",maxHeight:t};if(!a&&C>=r||a&&D>=r){var Y=t;return(!a&&C>=r||a&&D>=r)&&(Y=a?D-R:C-R),o&&d0(l,O,L),{placement:"top",maxHeight:Y}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(s,'".'))}return u}function oY(n){var t={bottom:"top",top:"bottom"};return n?t[n]:"bottom"}var E4=function(t){return t==="auto"?"bottom":t},lY=function(t,i){var r,s=t.placement,o=t.theme,a=o.borderRadius,c=o.spacing,l=o.colors;return ar((r={label:"menu"},Nf(r,oY(s),"100%"),Nf(r,"position","absolute"),Nf(r,"width","100%"),Nf(r,"zIndex",1),r),i?{}:{backgroundColor:l.neutral0,borderRadius:a,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:c.menuGutter,marginTop:c.menuGutter})},C4=Ee.createContext(null),cY=function(t){var i=t.children,r=t.minMenuHeight,s=t.maxMenuHeight,o=t.menuPlacement,a=t.menuPosition,c=t.menuShouldScrollIntoView,l=t.theme,u=Ee.useContext(C4)||{},p=u.setPortalPlacement,y=Ee.useRef(null),d=Ee.useState(s),f=pl(d,2),b=f[0],g=f[1],v=Ee.useState(null),_=pl(v,2),x=_[0],w=_[1],S=l.spacing.controlHeight;return Sb(function(){var R=y.current;if(R){var D=a==="fixed",A=c&&!D,C=aY({maxHeight:s,menuEl:R,minHeight:r,placement:o,shouldScroll:A,isFixedPosition:D,controlHeight:S});g(C.maxHeight),w(C.placement),p==null||p(C.placement)}},[s,o,a,c,r,p,S]),i({ref:y,placerProps:ar(ar({},t),{},{placement:x||E4(o),maxHeight:b})})},uY=function(t){var i=t.children,r=t.innerRef,s=t.innerProps;return tr("div",cr({},Bn(t,"menu",{menu:!0}),{ref:r},s),i)},hY=uY,dY=function(t,i){var r=t.maxHeight,s=t.theme.spacing.baseUnit;return ar({maxHeight:r,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},i?{}:{paddingBottom:s,paddingTop:s})},fY=function(t){var i=t.children,r=t.innerProps,s=t.innerRef,o=t.isMulti;return tr("div",cr({},Bn(t,"menuList",{"menu-list":!0,"menu-list--is-multi":o}),{ref:s},r),i)},A4=function(t,i){var r=t.theme,s=r.spacing.baseUnit,o=r.colors;return ar({textAlign:"center"},i?{}:{color:o.neutral40,padding:"".concat(s*2,"px ").concat(s*3,"px")})},pY=A4,mY=A4,gY=function(t){var i=t.children,r=i===void 0?"No options":i,s=t.innerProps,o=kl(t,iY);return tr("div",cr({},Bn(ar(ar({},o),{},{children:r,innerProps:s}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),s),r)},yY=function(t){var i=t.children,r=i===void 0?"Loading...":i,s=t.innerProps,o=kl(t,sY);return tr("div",cr({},Bn(ar(ar({},o),{},{children:r,innerProps:s}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),s),r)},vY=function(t){var i=t.rect,r=t.offset,s=t.position;return{left:i.left,position:s,top:r,width:i.width,zIndex:1}},_Y=function(t){var i=t.appendTo,r=t.children,s=t.controlElement,o=t.innerProps,a=t.menuPlacement,c=t.menuPosition,l=Ee.useRef(null),u=Ee.useRef(null),p=Ee.useState(E4(a)),y=pl(p,2),d=y[0],f=y[1],b=Ee.useMemo(function(){return{setPortalPlacement:f}},[]),g=Ee.useState(null),v=pl(g,2),_=v[0],x=v[1],w=Ee.useCallback(function(){if(s){var A=Qq(s),C=c==="fixed"?0:window.pageYOffset,j=A[d]+C;(j!==(_==null?void 0:_.offset)||A.left!==(_==null?void 0:_.rect.left)||A.width!==(_==null?void 0:_.rect.width))&&x({offset:j,rect:A})}},[s,c,d,_==null?void 0:_.offset,_==null?void 0:_.rect.left,_==null?void 0:_.rect.width]);Sb(function(){w()},[w]);var S=Ee.useCallback(function(){typeof u.current=="function"&&(u.current(),u.current=null),s&&l.current&&(u.current=Hq(s,l.current,w,{elementResize:"ResizeObserver"in window}))},[s,w]);Sb(function(){S()},[S]);var R=Ee.useCallback(function(A){l.current=A,S()},[S]);if(!i&&c!=="fixed"||!_)return null;var D=tr("div",cr({ref:R},Bn(ar(ar({},t),{},{offset:_.offset,position:c,rect:_.rect}),"menuPortal",{"menu-portal":!0}),o),r);return tr(C4.Provider,{value:b},i?pN.createPortal(D,i):D)},bY=function(t){var i=t.isDisabled,r=t.isRtl;return{label:"container",direction:r?"rtl":void 0,pointerEvents:i?"none":void 0,position:"relative"}},xY=function(t){var i=t.children,r=t.innerProps,s=t.isDisabled,o=t.isRtl;return tr("div",cr({},Bn(t,"container",{"--is-disabled":s,"--is-rtl":o}),r),i)},wY=function(t,i){var r=t.theme.spacing,s=t.isMulti,o=t.hasValue,a=t.selectProps.controlShouldRenderValue;return ar({alignItems:"center",display:s&&o&&a?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},i?{}:{padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px")})},SY=function(t){var i=t.children,r=t.innerProps,s=t.isMulti,o=t.hasValue;return tr("div",cr({},Bn(t,"valueContainer",{"value-container":!0,"value-container--is-multi":s,"value-container--has-value":o}),r),i)},TY=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},EY=function(t){var i=t.children,r=t.innerProps;return tr("div",cr({},Bn(t,"indicatorsContainer",{indicators:!0}),r),i)},VA,CY=["size"],AY=["innerProps","isRtl","size"],jY={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},j4=function(t){var i=t.size,r=kl(t,CY);return tr("svg",cr({height:i,width:i,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:jY},r))},Iw=function(t){return tr(j4,cr({size:20},t),tr("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},R4=function(t){return tr(j4,cr({size:20},t),tr("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},O4=function(t,i){var r=t.isFocused,s=t.theme,o=s.spacing.baseUnit,a=s.colors;return ar({label:"indicatorContainer",display:"flex",transition:"color 150ms"},i?{}:{color:r?a.neutral60:a.neutral20,padding:o*2,":hover":{color:r?a.neutral80:a.neutral40}})},RY=O4,OY=function(t){var i=t.children,r=t.innerProps;return tr("div",cr({},Bn(t,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),r),i||tr(R4,null))},IY=O4,kY=function(t){var i=t.children,r=t.innerProps;return tr("div",cr({},Bn(t,"clearIndicator",{indicator:!0,"clear-indicator":!0}),r),i||tr(Iw,null))},MY=function(t,i){var r=t.isDisabled,s=t.theme,o=s.spacing.baseUnit,a=s.colors;return ar({label:"indicatorSeparator",alignSelf:"stretch",width:1},i?{}:{backgroundColor:r?a.neutral10:a.neutral20,marginBottom:o*2,marginTop:o*2})},PY=function(t){var i=t.innerProps;return tr("span",cr({},i,Bn(t,"indicatorSeparator",{"indicator-separator":!0})))},DY=Oq(VA||(VA=Iq([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),NY=function(t,i){var r=t.isFocused,s=t.size,o=t.theme,a=o.colors,c=o.spacing.baseUnit;return ar({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:s,lineHeight:1,marginRight:s,textAlign:"center",verticalAlign:"middle"},i?{}:{color:r?a.neutral60:a.neutral20,padding:c*2})},s_=function(t){var i=t.delay,r=t.offset;return tr("span",{css:Aw({animation:"".concat(DY," 1s ease-in-out ").concat(i,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},LY=function(t){var i=t.innerProps,r=t.isRtl,s=t.size,o=s===void 0?4:s,a=kl(t,AY);return tr("div",cr({},Bn(ar(ar({},a),{},{innerProps:i,isRtl:r,size:o}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),i),tr(s_,{delay:0,offset:r}),tr(s_,{delay:160,offset:!0}),tr(s_,{delay:320,offset:!r}))},FY=function(t,i){var r=t.isDisabled,s=t.isFocused,o=t.theme,a=o.colors,c=o.borderRadius,l=o.spacing;return ar({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:l.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},i?{}:{backgroundColor:r?a.neutral5:a.neutral0,borderColor:r?a.neutral10:s?a.primary:a.neutral20,borderRadius:c,borderStyle:"solid",borderWidth:1,boxShadow:s?"0 0 0 1px ".concat(a.primary):void 0,"&:hover":{borderColor:s?a.primary:a.neutral30}})},UY=function(t){var i=t.children,r=t.isDisabled,s=t.isFocused,o=t.innerRef,a=t.innerProps,c=t.menuIsOpen;return tr("div",cr({ref:o},Bn(t,"control",{control:!0,"control--is-disabled":r,"control--is-focused":s,"control--menu-is-open":c}),a,{"aria-disabled":r||void 0}),i)},BY=UY,VY=["data"],GY=function(t,i){var r=t.theme.spacing;return i?{}:{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},zY=function(t){var i=t.children,r=t.cx,s=t.getStyles,o=t.getClassNames,a=t.Heading,c=t.headingProps,l=t.innerProps,u=t.label,p=t.theme,y=t.selectProps;return tr("div",cr({},Bn(t,"group",{group:!0}),l),tr(a,cr({},c,{selectProps:y,theme:p,getStyles:s,getClassNames:o,cx:r}),u),tr("div",null,i))},HY=function(t,i){var r=t.theme,s=r.colors,o=r.spacing;return ar({label:"group",cursor:"default",display:"block"},i?{}:{color:s.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:o.baseUnit*3,paddingRight:o.baseUnit*3,textTransform:"uppercase"})},WY=function(t){var i=w4(t);i.data;var r=kl(i,VY);return tr("div",cr({},Bn(t,"groupHeading",{"group-heading":!0}),r))},qY=zY,YY=["innerRef","isDisabled","isHidden","inputClassName"],$Y=function(t,i){var r=t.isDisabled,s=t.value,o=t.theme,a=o.spacing,c=o.colors;return ar(ar({visibility:r?"hidden":"visible",transform:s?"translateZ(0)":""},XY),i?{}:{margin:a.baseUnit/2,paddingBottom:a.baseUnit/2,paddingTop:a.baseUnit/2,color:c.neutral80})},I4={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},XY={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":ar({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},I4)},KY=function(t){return ar({label:"input",color:"inherit",background:0,opacity:t?0:1,width:"100%"},I4)},QY=function(t){var i=t.cx,r=t.value,s=w4(t),o=s.innerRef,a=s.isDisabled,c=s.isHidden,l=s.inputClassName,u=kl(s,YY);return tr("div",cr({},Bn(t,"input",{"input-container":!0}),{"data-value":r||""}),tr("input",cr({className:i({input:!0},l),ref:o,style:KY(c),disabled:a},u)))},ZY=QY,JY=function(t,i){var r=t.theme,s=r.spacing,o=r.borderRadius,a=r.colors;return ar({label:"multiValue",display:"flex",minWidth:0},i?{}:{backgroundColor:a.neutral10,borderRadius:o/2,margin:s.baseUnit/2})},e$=function(t,i){var r=t.theme,s=r.borderRadius,o=r.colors,a=t.cropWithEllipsis;return ar({overflow:"hidden",textOverflow:a||a===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},i?{}:{borderRadius:s/2,color:o.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},t$=function(t,i){var r=t.theme,s=r.spacing,o=r.borderRadius,a=r.colors,c=t.isFocused;return ar({alignItems:"center",display:"flex"},i?{}:{borderRadius:o/2,backgroundColor:c?a.dangerLight:void 0,paddingLeft:s.baseUnit,paddingRight:s.baseUnit,":hover":{backgroundColor:a.dangerLight,color:a.danger}})},k4=function(t){var i=t.children,r=t.innerProps;return tr("div",r,i)},r$=k4,n$=k4;function i$(n){var t=n.children,i=n.innerProps;return tr("div",cr({role:"button"},i),t||tr(Iw,{size:14}))}var s$=function(t){var i=t.children,r=t.components,s=t.data,o=t.innerProps,a=t.isDisabled,c=t.removeProps,l=t.selectProps,u=r.Container,p=r.Label,y=r.Remove;return tr(u,{data:s,innerProps:ar(ar({},Bn(t,"multiValue",{"multi-value":!0,"multi-value--is-disabled":a})),o),selectProps:l},tr(p,{data:s,innerProps:ar({},Bn(t,"multiValueLabel",{"multi-value__label":!0})),selectProps:l},i),tr(y,{data:s,innerProps:ar(ar({},Bn(t,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(i||"option")},c),selectProps:l}))},a$=s$,o$=function(t,i){var r=t.isDisabled,s=t.isFocused,o=t.isSelected,a=t.theme,c=a.spacing,l=a.colors;return ar({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},i?{}:{backgroundColor:o?l.primary:s?l.primary25:"transparent",color:r?l.neutral20:o?l.neutral0:"inherit",padding:"".concat(c.baseUnit*2,"px ").concat(c.baseUnit*3,"px"),":active":{backgroundColor:r?void 0:o?l.primary:l.primary50}})},l$=function(t){var i=t.children,r=t.isDisabled,s=t.isFocused,o=t.isSelected,a=t.innerRef,c=t.innerProps;return tr("div",cr({},Bn(t,"option",{option:!0,"option--is-disabled":r,"option--is-focused":s,"option--is-selected":o}),{ref:a,"aria-disabled":r},c),i)},c$=l$,u$=function(t,i){var r=t.theme,s=r.spacing,o=r.colors;return ar({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},i?{}:{color:o.neutral50,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},h$=function(t){var i=t.children,r=t.innerProps;return tr("div",cr({},Bn(t,"placeholder",{placeholder:!0}),r),i)},d$=h$,f$=function(t,i){var r=t.isDisabled,s=t.theme,o=s.spacing,a=s.colors;return ar({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},i?{}:{color:r?a.neutral40:a.neutral80,marginLeft:o.baseUnit/2,marginRight:o.baseUnit/2})},p$=function(t){var i=t.children,r=t.isDisabled,s=t.innerProps;return tr("div",cr({},Bn(t,"singleValue",{"single-value":!0,"single-value--is-disabled":r}),s),i)},m$=p$,g$={ClearIndicator:kY,Control:BY,DropdownIndicator:OY,DownChevron:R4,CrossIcon:Iw,Group:qY,GroupHeading:WY,IndicatorsContainer:EY,IndicatorSeparator:PY,Input:ZY,LoadingIndicator:LY,Menu:hY,MenuList:fY,MenuPortal:_Y,LoadingMessage:yY,NoOptionsMessage:gY,MultiValue:a$,MultiValueContainer:r$,MultiValueLabel:n$,MultiValueRemove:i$,Option:c$,Placeholder:d$,SelectContainer:xY,SingleValue:m$,ValueContainer:SY},y$=function(t){return ar(ar({},g$),t.components)},GA=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function v$(n,t){return!!(n===t||GA(n)&&GA(t))}function _$(n,t){if(n.length!==t.length)return!1;for(var i=0;i<n.length;i++)if(!v$(n[i],t[i]))return!1;return!0}function b$(n,t){t===void 0&&(t=_$);var i=null;function r(){for(var s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];if(i&&i.lastThis===this&&t(s,i.lastArgs))return i.lastResult;var a=n.apply(this,s);return i={lastResult:a,lastArgs:s,lastThis:this},a}return r.clear=function(){i=null},r}var x$={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},w$=function(t){return tr("span",cr({css:x$},t))},zA=w$,S$={guidance:function(t){var i=t.isSearchable,r=t.isMulti,s=t.tabSelectsValue,o=t.context,a=t.isInitialFocus;switch(o){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(s?", press Tab to select the option and exit the menu":"",".");case"input":return a?"".concat(t["aria-label"]||"Select"," is focused ").concat(i?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(t){var i=t.action,r=t.label,s=r===void 0?"":r,o=t.labels,a=t.isDisabled;switch(i){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(s,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(o.length>1?"s":""," ").concat(o.join(","),", selected.");case"select-option":return a?"option ".concat(s," is disabled. Select another option."):"option ".concat(s,", selected.");default:return""}},onFocus:function(t){var i=t.context,r=t.focused,s=t.options,o=t.label,a=o===void 0?"":o,c=t.selectValue,l=t.isDisabled,u=t.isSelected,p=t.isAppleDevice,y=function(g,v){return g&&g.length?"".concat(g.indexOf(v)+1," of ").concat(g.length):""};if(i==="value"&&c)return"value ".concat(a," focused, ").concat(y(c,r),".");if(i==="menu"&&p){var d=l?" disabled":"",f="".concat(u?" selected":"").concat(d);return"".concat(a).concat(f,", ").concat(y(s,r),".")}return""},onFilter:function(t){var i=t.inputValue,r=t.resultsMessage;return"".concat(r).concat(i?" for search term "+i:"",".")}},T$=function(t){var i=t.ariaSelection,r=t.focusedOption,s=t.focusedValue,o=t.focusableOptions,a=t.isFocused,c=t.selectValue,l=t.selectProps,u=t.id,p=t.isAppleDevice,y=l.ariaLiveMessages,d=l.getOptionLabel,f=l.inputValue,b=l.isMulti,g=l.isOptionDisabled,v=l.isSearchable,_=l.menuIsOpen,x=l.options,w=l.screenReaderStatus,S=l.tabSelectsValue,R=l.isLoading,D=l["aria-label"],A=l["aria-live"],C=Ee.useMemo(function(){return ar(ar({},S$),y||{})},[y]),j=Ee.useMemo(function(){var W="";if(i&&C.onChange){var Y=i.option,J=i.options,te=i.removedValue,ee=i.removedValues,Q=i.value,ne=function(le){return Array.isArray(le)?null:le},re=te||Y||ne(Q),I=re?d(re):"",U=J||ee||void 0,H=U?U.map(d):[],X=ar({isDisabled:re&&g(re,c),label:I,labels:H},i);W=C.onChange(X)}return W},[i,C,g,c,d]),P=Ee.useMemo(function(){var W="",Y=r||s,J=!!(r&&c&&c.includes(r));if(Y&&C.onFocus){var te={focused:Y,label:d(Y),isDisabled:g(Y,c),isSelected:J,options:o,context:Y===r?"menu":"value",selectValue:c,isAppleDevice:p};W=C.onFocus(te)}return W},[r,s,d,g,C,o,c,p]),O=Ee.useMemo(function(){var W="";if(_&&x.length&&!R&&C.onFilter){var Y=w({count:o.length});W=C.onFilter({inputValue:f,resultsMessage:Y})}return W},[o,f,_,C,x,w,R]),L=(i==null?void 0:i.action)==="initial-input-focus",N=Ee.useMemo(function(){var W="";if(C.guidance){var Y=s?"value":_?"menu":"input";W=C.guidance({"aria-label":D,context:Y,isDisabled:r&&g(r,c),isMulti:b,isSearchable:v,tabSelectsValue:S,isInitialFocus:L})}return W},[D,r,s,b,g,v,_,C,c,S,L]),q=tr(Ee.Fragment,null,tr("span",{id:"aria-selection"},j),tr("span",{id:"aria-focused"},P),tr("span",{id:"aria-results"},O),tr("span",{id:"aria-guidance"},N));return tr(Ee.Fragment,null,tr(zA,{id:u},L&&q),tr(zA,{"aria-live":A,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},a&&!L&&q))},E$=T$,Tb=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],C$=new RegExp("["+Tb.map(function(n){return n.letters}).join("")+"]","g"),M4={};for(var a_=0;a_<Tb.length;a_++)for(var o_=Tb[a_],l_=0;l_<o_.letters.length;l_++)M4[o_.letters[l_]]=o_.base;var P4=function(t){return t.replace(C$,function(i){return M4[i]})},A$=b$(P4),HA=function(t){return t.replace(/^\s+|\s+$/g,"")},j$=function(t){return"".concat(t.label," ").concat(t.value)},R$=function(t){return function(i,r){if(i.data.__isNew__)return!0;var s=ar({ignoreCase:!0,ignoreAccents:!0,stringify:j$,trim:!0,matchFrom:"any"},t),o=s.ignoreCase,a=s.ignoreAccents,c=s.stringify,l=s.trim,u=s.matchFrom,p=l?HA(r):r,y=l?HA(c(i)):c(i);return o&&(p=p.toLowerCase(),y=y.toLowerCase()),a&&(p=A$(p),y=P4(y)),u==="start"?y.substr(0,p.length)===p:y.indexOf(p)>-1}},O$=["innerRef"];function I$(n){var t=n.innerRef,i=kl(n,O$),r=nY(i,"onExited","in","enter","exit","appear");return tr("input",cr({ref:t},r,{css:Aw({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var k$=function(t){t.cancelable&&t.preventDefault(),t.stopPropagation()};function M$(n){var t=n.isEnabled,i=n.onBottomArrive,r=n.onBottomLeave,s=n.onTopArrive,o=n.onTopLeave,a=Ee.useRef(!1),c=Ee.useRef(!1),l=Ee.useRef(0),u=Ee.useRef(null),p=Ee.useCallback(function(v,_){if(u.current!==null){var x=u.current,w=x.scrollTop,S=x.scrollHeight,R=x.clientHeight,D=u.current,A=_>0,C=S-R-w,j=!1;C>_&&a.current&&(r&&r(v),a.current=!1),A&&c.current&&(o&&o(v),c.current=!1),A&&_>C?(i&&!a.current&&i(v),D.scrollTop=S,j=!0,a.current=!0):!A&&-_>w&&(s&&!c.current&&s(v),D.scrollTop=0,j=!0,c.current=!0),j&&k$(v)}},[i,r,s,o]),y=Ee.useCallback(function(v){p(v,v.deltaY)},[p]),d=Ee.useCallback(function(v){l.current=v.changedTouches[0].clientY},[]),f=Ee.useCallback(function(v){var _=l.current-v.changedTouches[0].clientY;p(v,_)},[p]),b=Ee.useCallback(function(v){if(v){var _=eY?{passive:!1}:!1;v.addEventListener("wheel",y,_),v.addEventListener("touchstart",d,_),v.addEventListener("touchmove",f,_)}},[f,d,y]),g=Ee.useCallback(function(v){v&&(v.removeEventListener("wheel",y,!1),v.removeEventListener("touchstart",d,!1),v.removeEventListener("touchmove",f,!1))},[f,d,y]);return Ee.useEffect(function(){if(t){var v=u.current;return b(v),function(){g(v)}}},[t,b,g]),function(v){u.current=v}}var WA=["boxSizing","height","overflow","paddingRight","position"],qA={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function YA(n){n.cancelable&&n.preventDefault()}function $A(n){n.stopPropagation()}function XA(){var n=this.scrollTop,t=this.scrollHeight,i=n+this.offsetHeight;n===0?this.scrollTop=1:i===t&&(this.scrollTop=n-1)}function KA(){return"ontouchstart"in window||navigator.maxTouchPoints}var QA=!!(typeof window<"u"&&window.document&&window.document.createElement),Tf=0,Oh={capture:!1,passive:!1};function P$(n){var t=n.isEnabled,i=n.accountForScrollbars,r=i===void 0?!0:i,s=Ee.useRef({}),o=Ee.useRef(null),a=Ee.useCallback(function(l){if(QA){var u=document.body,p=u&&u.style;if(r&&WA.forEach(function(b){var g=p&&p[b];s.current[b]=g}),r&&Tf<1){var y=parseInt(s.current.paddingRight,10)||0,d=document.body?document.body.clientWidth:0,f=window.innerWidth-d+y||0;Object.keys(qA).forEach(function(b){var g=qA[b];p&&(p[b]=g)}),p&&(p.paddingRight="".concat(f,"px"))}u&&KA()&&(u.addEventListener("touchmove",YA,Oh),l&&(l.addEventListener("touchstart",XA,Oh),l.addEventListener("touchmove",$A,Oh))),Tf+=1}},[r]),c=Ee.useCallback(function(l){if(QA){var u=document.body,p=u&&u.style;Tf=Math.max(Tf-1,0),r&&Tf<1&&WA.forEach(function(y){var d=s.current[y];p&&(p[y]=d)}),u&&KA()&&(u.removeEventListener("touchmove",YA,Oh),l&&(l.removeEventListener("touchstart",XA,Oh),l.removeEventListener("touchmove",$A,Oh)))}},[r]);return Ee.useEffect(function(){if(t){var l=o.current;return a(l),function(){c(l)}}},[t,a,c]),function(l){o.current=l}}var D$=function(t){var i=t.target;return i.ownerDocument.activeElement&&i.ownerDocument.activeElement.blur()},N$={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function L$(n){var t=n.children,i=n.lockEnabled,r=n.captureEnabled,s=r===void 0?!0:r,o=n.onBottomArrive,a=n.onBottomLeave,c=n.onTopArrive,l=n.onTopLeave,u=M$({isEnabled:s,onBottomArrive:o,onBottomLeave:a,onTopArrive:c,onTopLeave:l}),p=P$({isEnabled:i}),y=function(f){u(f),p(f)};return tr(Ee.Fragment,null,i&&tr("div",{onClick:D$,css:N$}),t(y))}var F$={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},U$=function(t){var i=t.name,r=t.onFocus;return tr("input",{required:!0,name:i,tabIndex:-1,"aria-hidden":"true",onFocus:r,css:F$,value:"",onChange:function(){}})},B$=U$;function kw(n){var t;return typeof window<"u"&&window.navigator!=null?n.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function V$(){return kw(/^iPhone/i)}function D4(){return kw(/^Mac/i)}function G$(){return kw(/^iPad/i)||D4()&&navigator.maxTouchPoints>1}function z$(){return V$()||G$()}function H$(){return D4()||z$()}var W$=function(t){return t.label},q$=function(t){return t.label},Y$=function(t){return t.value},$$=function(t){return!!t.isDisabled},X$={clearIndicator:IY,container:bY,control:FY,dropdownIndicator:RY,group:GY,groupHeading:HY,indicatorsContainer:TY,indicatorSeparator:MY,input:$Y,loadingIndicator:NY,loadingMessage:mY,menu:lY,menuList:dY,menuPortal:vY,multiValue:JY,multiValueLabel:e$,multiValueRemove:t$,noOptionsMessage:pY,option:o$,placeholder:u$,singleValue:f$,valueContainer:wY},K$={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},Q$=4,N4=4,Z$=38,J$=N4*2,eX={baseUnit:N4,controlHeight:Z$,menuGutter:J$},c_={borderRadius:Q$,colors:K$,spacing:eX},tX={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:BA(),captureMenuScroll:!BA(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:R$(),formatGroupLabel:W$,getOptionLabel:q$,getOptionValue:Y$,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:$$,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!Zq(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(t){var i=t.count;return"".concat(i," result").concat(i!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function ZA(n,t,i,r){var s=U4(n,t,i),o=B4(n,t,i),a=F4(n,t),c=Rg(n,t);return{type:"option",data:t,isDisabled:s,isSelected:o,label:a,value:c,index:r}}function H0(n,t){return n.options.map(function(i,r){if("options"in i){var s=i.options.map(function(a,c){return ZA(n,a,t,c)}).filter(function(a){return ej(n,a)});return s.length>0?{type:"group",data:i,options:s,index:r}:void 0}var o=ZA(n,i,t,r);return ej(n,o)?o:void 0}).filter(tY)}function L4(n){return n.reduce(function(t,i){return i.type==="group"?t.push.apply(t,ww(i.options.map(function(r){return r.data}))):t.push(i.data),t},[])}function JA(n,t){return n.reduce(function(i,r){return r.type==="group"?i.push.apply(i,ww(r.options.map(function(s){return{data:s.data,id:"".concat(t,"-").concat(r.index,"-").concat(s.index)}}))):i.push({data:r.data,id:"".concat(t,"-").concat(r.index)}),i},[])}function rX(n,t){return L4(H0(n,t))}function ej(n,t){var i=n.inputValue,r=i===void 0?"":i,s=t.data,o=t.isSelected,a=t.label,c=t.value;return(!G4(n)||!o)&&V4(n,{label:a,value:c,data:s},r)}function nX(n,t){var i=n.focusedValue,r=n.selectValue,s=r.indexOf(i);if(s>-1){var o=t.indexOf(i);if(o>-1)return i;if(s<t.length)return t[s]}return null}function iX(n,t){var i=n.focusedOption;return i&&t.indexOf(i)>-1?i:t[0]}var u_=function(t,i){var r,s=(r=t.find(function(o){return o.data===i}))===null||r===void 0?void 0:r.id;return s||null},F4=function(t,i){return t.getOptionLabel(i)},Rg=function(t,i){return t.getOptionValue(i)};function U4(n,t,i){return typeof n.isOptionDisabled=="function"?n.isOptionDisabled(t,i):!1}function B4(n,t,i){if(i.indexOf(t)>-1)return!0;if(typeof n.isOptionSelected=="function")return n.isOptionSelected(t,i);var r=Rg(n,t);return i.some(function(s){return Rg(n,s)===r})}function V4(n,t,i){return n.filterOption?n.filterOption(t,i):!0}var G4=function(t){var i=t.hideSelectedOptions,r=t.isMulti;return i===void 0?r:i},sX=1,z4=function(n){SW(i,n);var t=CW(i);function i(r){var s;if(xW(this,i),s=t.call(this,r),s.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},s.blockOptionHover=!1,s.isComposing=!1,s.commonProps=void 0,s.initialTouchX=0,s.initialTouchY=0,s.openAfterFocus=!1,s.scrollToFocusedOptionOnUpdate=!1,s.userIsDragging=void 0,s.isAppleDevice=H$(),s.controlRef=null,s.getControlRef=function(l){s.controlRef=l},s.focusedOptionRef=null,s.getFocusedOptionRef=function(l){s.focusedOptionRef=l},s.menuListRef=null,s.getMenuListRef=function(l){s.menuListRef=l},s.inputRef=null,s.getInputRef=function(l){s.inputRef=l},s.focus=s.focusInput,s.blur=s.blurInput,s.onChange=function(l,u){var p=s.props,y=p.onChange,d=p.name;u.name=d,s.ariaOnChange(l,u),y(l,u)},s.setValue=function(l,u,p){var y=s.props,d=y.closeMenuOnSelect,f=y.isMulti,b=y.inputValue;s.onInputChange("",{action:"set-value",prevInputValue:b}),d&&(s.setState({inputIsHiddenAfterUpdate:!f}),s.onMenuClose()),s.setState({clearFocusValueOnUpdate:!0}),s.onChange(l,{action:u,option:p})},s.selectOption=function(l){var u=s.props,p=u.blurInputOnSelect,y=u.isMulti,d=u.name,f=s.state.selectValue,b=y&&s.isOptionSelected(l,f),g=s.isOptionDisabled(l,f);if(b){var v=s.getOptionValue(l);s.setValue(f.filter(function(_){return s.getOptionValue(_)!==v}),"deselect-option",l)}else if(!g)y?s.setValue([].concat(ww(f),[l]),"select-option",l):s.setValue(l,"select-option");else{s.ariaOnChange(l,{action:"select-option",option:l,name:d});return}p&&s.blurInput()},s.removeValue=function(l){var u=s.props.isMulti,p=s.state.selectValue,y=s.getOptionValue(l),d=p.filter(function(b){return s.getOptionValue(b)!==y}),f=p0(u,d,d[0]||null);s.onChange(f,{action:"remove-value",removedValue:l}),s.focusInput()},s.clearValue=function(){var l=s.state.selectValue;s.onChange(p0(s.props.isMulti,[],null),{action:"clear",removedValues:l})},s.popValue=function(){var l=s.props.isMulti,u=s.state.selectValue,p=u[u.length-1],y=u.slice(0,u.length-1),d=p0(l,y,y[0]||null);p&&s.onChange(d,{action:"pop-value",removedValue:p})},s.getFocusedOptionId=function(l){return u_(s.state.focusableOptionsWithIds,l)},s.getFocusableOptionsWithIds=function(){return JA(H0(s.props,s.state.selectValue),s.getElementId("option"))},s.getValue=function(){return s.state.selectValue},s.cx=function(){for(var l=arguments.length,u=new Array(l),p=0;p<l;p++)u[p]=arguments[p];return Yq.apply(void 0,[s.props.classNamePrefix].concat(u))},s.getOptionLabel=function(l){return F4(s.props,l)},s.getOptionValue=function(l){return Rg(s.props,l)},s.getStyles=function(l,u){var p=s.props.unstyled,y=X$[l](u,p);y.boxSizing="border-box";var d=s.props.styles[l];return d?d(y,u):y},s.getClassNames=function(l,u){var p,y;return(p=(y=s.props.classNames)[l])===null||p===void 0?void 0:p.call(y,u)},s.getElementId=function(l){return"".concat(s.state.instancePrefix,"-").concat(l)},s.getComponents=function(){return y$(s.props)},s.buildCategorizedOptions=function(){return H0(s.props,s.state.selectValue)},s.getCategorizedOptions=function(){return s.props.menuIsOpen?s.buildCategorizedOptions():[]},s.buildFocusableOptions=function(){return L4(s.buildCategorizedOptions())},s.getFocusableOptions=function(){return s.props.menuIsOpen?s.buildFocusableOptions():[]},s.ariaOnChange=function(l,u){s.setState({ariaSelection:ar({value:l},u)})},s.onMenuMouseDown=function(l){l.button===0&&(l.stopPropagation(),l.preventDefault(),s.focusInput())},s.onMenuMouseMove=function(l){s.blockOptionHover=!1},s.onControlMouseDown=function(l){if(!l.defaultPrevented){var u=s.props.openMenuOnClick;s.state.isFocused?s.props.menuIsOpen?l.target.tagName!=="INPUT"&&l.target.tagName!=="TEXTAREA"&&s.onMenuClose():u&&s.openMenu("first"):(u&&(s.openAfterFocus=!0),s.focusInput()),l.target.tagName!=="INPUT"&&l.target.tagName!=="TEXTAREA"&&l.preventDefault()}},s.onDropdownIndicatorMouseDown=function(l){if(!(l&&l.type==="mousedown"&&l.button!==0)&&!s.props.isDisabled){var u=s.props,p=u.isMulti,y=u.menuIsOpen;s.focusInput(),y?(s.setState({inputIsHiddenAfterUpdate:!p}),s.onMenuClose()):s.openMenu("first"),l.preventDefault()}},s.onClearIndicatorMouseDown=function(l){l&&l.type==="mousedown"&&l.button!==0||(s.clearValue(),l.preventDefault(),s.openAfterFocus=!1,l.type==="touchend"?s.focusInput():setTimeout(function(){return s.focusInput()}))},s.onScroll=function(l){typeof s.props.closeMenuOnScroll=="boolean"?l.target instanceof HTMLElement&&jy(l.target)&&s.props.onMenuClose():typeof s.props.closeMenuOnScroll=="function"&&s.props.closeMenuOnScroll(l)&&s.props.onMenuClose()},s.onCompositionStart=function(){s.isComposing=!0},s.onCompositionEnd=function(){s.isComposing=!1},s.onTouchStart=function(l){var u=l.touches,p=u&&u.item(0);p&&(s.initialTouchX=p.clientX,s.initialTouchY=p.clientY,s.userIsDragging=!1)},s.onTouchMove=function(l){var u=l.touches,p=u&&u.item(0);if(p){var y=Math.abs(p.clientX-s.initialTouchX),d=Math.abs(p.clientY-s.initialTouchY),f=5;s.userIsDragging=y>f||d>f}},s.onTouchEnd=function(l){s.userIsDragging||(s.controlRef&&!s.controlRef.contains(l.target)&&s.menuListRef&&!s.menuListRef.contains(l.target)&&s.blurInput(),s.initialTouchX=0,s.initialTouchY=0)},s.onControlTouchEnd=function(l){s.userIsDragging||s.onControlMouseDown(l)},s.onClearIndicatorTouchEnd=function(l){s.userIsDragging||s.onClearIndicatorMouseDown(l)},s.onDropdownIndicatorTouchEnd=function(l){s.userIsDragging||s.onDropdownIndicatorMouseDown(l)},s.handleInputChange=function(l){var u=s.props.inputValue,p=l.currentTarget.value;s.setState({inputIsHiddenAfterUpdate:!1}),s.onInputChange(p,{action:"input-change",prevInputValue:u}),s.props.menuIsOpen||s.onMenuOpen()},s.onInputFocus=function(l){s.props.onFocus&&s.props.onFocus(l),s.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(s.openAfterFocus||s.props.openMenuOnFocus)&&s.openMenu("first"),s.openAfterFocus=!1},s.onInputBlur=function(l){var u=s.props.inputValue;if(s.menuListRef&&s.menuListRef.contains(document.activeElement)){s.inputRef.focus();return}s.props.onBlur&&s.props.onBlur(l),s.onInputChange("",{action:"input-blur",prevInputValue:u}),s.onMenuClose(),s.setState({focusedValue:null,isFocused:!1})},s.onOptionHover=function(l){if(!(s.blockOptionHover||s.state.focusedOption===l)){var u=s.getFocusableOptions(),p=u.indexOf(l);s.setState({focusedOption:l,focusedOptionId:p>-1?s.getFocusedOptionId(l):null})}},s.shouldHideSelectedOptions=function(){return G4(s.props)},s.onValueInputFocus=function(l){l.preventDefault(),l.stopPropagation(),s.focus()},s.onKeyDown=function(l){var u=s.props,p=u.isMulti,y=u.backspaceRemovesValue,d=u.escapeClearsValue,f=u.inputValue,b=u.isClearable,g=u.isDisabled,v=u.menuIsOpen,_=u.onKeyDown,x=u.tabSelectsValue,w=u.openMenuOnFocus,S=s.state,R=S.focusedOption,D=S.focusedValue,A=S.selectValue;if(!g&&!(typeof _=="function"&&(_(l),l.defaultPrevented))){switch(s.blockOptionHover=!0,l.key){case"ArrowLeft":if(!p||f)return;s.focusValue("previous");break;case"ArrowRight":if(!p||f)return;s.focusValue("next");break;case"Delete":case"Backspace":if(f)return;if(D)s.removeValue(D);else{if(!y)return;p?s.popValue():b&&s.clearValue()}break;case"Tab":if(s.isComposing||l.shiftKey||!v||!x||!R||w&&s.isOptionSelected(R,A))return;s.selectOption(R);break;case"Enter":if(l.keyCode===229)break;if(v){if(!R||s.isComposing)return;s.selectOption(R);break}return;case"Escape":v?(s.setState({inputIsHiddenAfterUpdate:!1}),s.onInputChange("",{action:"menu-close",prevInputValue:f}),s.onMenuClose()):b&&d&&s.clearValue();break;case" ":if(f)return;if(!v){s.openMenu("first");break}if(!R)return;s.selectOption(R);break;case"ArrowUp":v?s.focusOption("up"):s.openMenu("last");break;case"ArrowDown":v?s.focusOption("down"):s.openMenu("first");break;case"PageUp":if(!v)return;s.focusOption("pageup");break;case"PageDown":if(!v)return;s.focusOption("pagedown");break;case"Home":if(!v)return;s.focusOption("first");break;case"End":if(!v)return;s.focusOption("last");break;default:return}l.preventDefault()}},s.state.instancePrefix="react-select-"+(s.props.instanceId||++sX),s.state.selectValue=FA(r.value),r.menuIsOpen&&s.state.selectValue.length){var o=s.getFocusableOptionsWithIds(),a=s.buildFocusableOptions(),c=a.indexOf(s.state.selectValue[0]);s.state.focusableOptionsWithIds=o,s.state.focusedOption=a[c],s.state.focusedOptionId=u_(o,a[c])}return s}return wW(i,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&UA(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(s){var o=this.props,a=o.isDisabled,c=o.menuIsOpen,l=this.state.isFocused;(l&&!a&&s.isDisabled||l&&c&&!s.menuIsOpen)&&this.focusInput(),l&&a&&!s.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!l&&!a&&s.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(UA(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(s,o){this.props.onInputChange(s,o)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(s){var o=this,a=this.state,c=a.selectValue,l=a.isFocused,u=this.buildFocusableOptions(),p=s==="first"?0:u.length-1;if(!this.props.isMulti){var y=u.indexOf(c[0]);y>-1&&(p=y)}this.scrollToFocusedOptionOnUpdate=!(l&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:u[p],focusedOptionId:this.getFocusedOptionId(u[p])},function(){return o.onMenuOpen()})}},{key:"focusValue",value:function(s){var o=this.state,a=o.selectValue,c=o.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var l=a.indexOf(c);c||(l=-1);var u=a.length-1,p=-1;if(a.length){switch(s){case"previous":l===0?p=0:l===-1?p=u:p=l-1;break;case"next":l>-1&&l<u&&(p=l+1);break}this.setState({inputIsHidden:p!==-1,focusedValue:a[p]})}}}},{key:"focusOption",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",o=this.props.pageSize,a=this.state.focusedOption,c=this.getFocusableOptions();if(c.length){var l=0,u=c.indexOf(a);a||(u=-1),s==="up"?l=u>0?u-1:c.length-1:s==="down"?l=(u+1)%c.length:s==="pageup"?(l=u-o,l<0&&(l=0)):s==="pagedown"?(l=u+o,l>c.length-1&&(l=c.length-1)):s==="last"&&(l=c.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:c[l],focusedValue:null,focusedOptionId:this.getFocusedOptionId(c[l])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(c_):ar(ar({},c_),this.props.theme):c_}},{key:"getCommonProps",value:function(){var s=this.clearValue,o=this.cx,a=this.getStyles,c=this.getClassNames,l=this.getValue,u=this.selectOption,p=this.setValue,y=this.props,d=y.isMulti,f=y.isRtl,b=y.options,g=this.hasValue();return{clearValue:s,cx:o,getStyles:a,getClassNames:c,getValue:l,hasValue:g,isMulti:d,isRtl:f,options:b,selectOption:u,selectProps:y,setValue:p,theme:this.getTheme()}}},{key:"hasValue",value:function(){var s=this.state.selectValue;return s.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var s=this.props,o=s.isClearable,a=s.isMulti;return o===void 0?a:o}},{key:"isOptionDisabled",value:function(s,o){return U4(this.props,s,o)}},{key:"isOptionSelected",value:function(s,o){return B4(this.props,s,o)}},{key:"filterOption",value:function(s,o){return V4(this.props,s,o)}},{key:"formatOptionLabel",value:function(s,o){if(typeof this.props.formatOptionLabel=="function"){var a=this.props.inputValue,c=this.state.selectValue;return this.props.formatOptionLabel(s,{context:o,inputValue:a,selectValue:c})}else return this.getOptionLabel(s)}},{key:"formatGroupLabel",value:function(s){return this.props.formatGroupLabel(s)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var s=this.props,o=s.isDisabled,a=s.isSearchable,c=s.inputId,l=s.inputValue,u=s.tabIndex,p=s.form,y=s.menuIsOpen,d=s.required,f=this.getComponents(),b=f.Input,g=this.state,v=g.inputIsHidden,_=g.ariaSelection,x=this.commonProps,w=c||this.getElementId("input"),S=ar(ar(ar({"aria-autocomplete":"list","aria-expanded":y,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":d,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},y&&{"aria-controls":this.getElementId("listbox")}),!a&&{"aria-readonly":!0}),this.hasValue()?(_==null?void 0:_.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return a?Ee.createElement(b,cr({},x,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:w,innerRef:this.getInputRef,isDisabled:o,isHidden:v,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:u,form:p,type:"text",value:l},S)):Ee.createElement(I$,cr({id:w,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:Ag,onFocus:this.onInputFocus,disabled:o,tabIndex:u,inputMode:"none",form:p,value:""},S))}},{key:"renderPlaceholderOrValue",value:function(){var s=this,o=this.getComponents(),a=o.MultiValue,c=o.MultiValueContainer,l=o.MultiValueLabel,u=o.MultiValueRemove,p=o.SingleValue,y=o.Placeholder,d=this.commonProps,f=this.props,b=f.controlShouldRenderValue,g=f.isDisabled,v=f.isMulti,_=f.inputValue,x=f.placeholder,w=this.state,S=w.selectValue,R=w.focusedValue,D=w.isFocused;if(!this.hasValue()||!b)return _?null:Ee.createElement(y,cr({},d,{key:"placeholder",isDisabled:g,isFocused:D,innerProps:{id:this.getElementId("placeholder")}}),x);if(v)return S.map(function(C,j){var P=C===R,O="".concat(s.getOptionLabel(C),"-").concat(s.getOptionValue(C));return Ee.createElement(a,cr({},d,{components:{Container:c,Label:l,Remove:u},isFocused:P,isDisabled:g,key:O,index:j,removeProps:{onClick:function(){return s.removeValue(C)},onTouchEnd:function(){return s.removeValue(C)},onMouseDown:function(N){N.preventDefault()}},data:C}),s.formatOptionLabel(C,"value"))});if(_)return null;var A=S[0];return Ee.createElement(p,cr({},d,{data:A,isDisabled:g}),this.formatOptionLabel(A,"value"))}},{key:"renderClearIndicator",value:function(){var s=this.getComponents(),o=s.ClearIndicator,a=this.commonProps,c=this.props,l=c.isDisabled,u=c.isLoading,p=this.state.isFocused;if(!this.isClearable()||!o||l||!this.hasValue()||u)return null;var y={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return Ee.createElement(o,cr({},a,{innerProps:y,isFocused:p}))}},{key:"renderLoadingIndicator",value:function(){var s=this.getComponents(),o=s.LoadingIndicator,a=this.commonProps,c=this.props,l=c.isDisabled,u=c.isLoading,p=this.state.isFocused;if(!o||!u)return null;var y={"aria-hidden":"true"};return Ee.createElement(o,cr({},a,{innerProps:y,isDisabled:l,isFocused:p}))}},{key:"renderIndicatorSeparator",value:function(){var s=this.getComponents(),o=s.DropdownIndicator,a=s.IndicatorSeparator;if(!o||!a)return null;var c=this.commonProps,l=this.props.isDisabled,u=this.state.isFocused;return Ee.createElement(a,cr({},c,{isDisabled:l,isFocused:u}))}},{key:"renderDropdownIndicator",value:function(){var s=this.getComponents(),o=s.DropdownIndicator;if(!o)return null;var a=this.commonProps,c=this.props.isDisabled,l=this.state.isFocused,u={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return Ee.createElement(o,cr({},a,{innerProps:u,isDisabled:c,isFocused:l}))}},{key:"renderMenu",value:function(){var s=this,o=this.getComponents(),a=o.Group,c=o.GroupHeading,l=o.Menu,u=o.MenuList,p=o.MenuPortal,y=o.LoadingMessage,d=o.NoOptionsMessage,f=o.Option,b=this.commonProps,g=this.state.focusedOption,v=this.props,_=v.captureMenuScroll,x=v.inputValue,w=v.isLoading,S=v.loadingMessage,R=v.minMenuHeight,D=v.maxMenuHeight,A=v.menuIsOpen,C=v.menuPlacement,j=v.menuPosition,P=v.menuPortalTarget,O=v.menuShouldBlockScroll,L=v.menuShouldScrollIntoView,N=v.noOptionsMessage,q=v.onMenuScrollToTop,W=v.onMenuScrollToBottom;if(!A)return null;var Y=function(I,U){var H=I.type,X=I.data,ae=I.isDisabled,le=I.isSelected,he=I.label,ye=I.value,me=g===X,xe=ae?void 0:function(){return s.onOptionHover(X)},Se=ae?void 0:function(){return s.selectOption(X)},pe="".concat(s.getElementId("option"),"-").concat(U),Te={id:pe,onClick:Se,onMouseMove:xe,onMouseOver:xe,tabIndex:-1,role:"option","aria-selected":s.isAppleDevice?void 0:le};return Ee.createElement(f,cr({},b,{innerProps:Te,data:X,isDisabled:ae,isSelected:le,key:pe,label:he,type:H,value:ye,isFocused:me,innerRef:me?s.getFocusedOptionRef:void 0}),s.formatOptionLabel(I.data,"menu"))},J;if(this.hasOptions())J=this.getCategorizedOptions().map(function(re){if(re.type==="group"){var I=re.data,U=re.options,H=re.index,X="".concat(s.getElementId("group"),"-").concat(H),ae="".concat(X,"-heading");return Ee.createElement(a,cr({},b,{key:X,data:I,options:U,Heading:c,headingProps:{id:ae,data:re.data},label:s.formatGroupLabel(re.data)}),re.options.map(function(le){return Y(le,"".concat(H,"-").concat(le.index))}))}else if(re.type==="option")return Y(re,"".concat(re.index))});else if(w){var te=S({inputValue:x});if(te===null)return null;J=Ee.createElement(y,b,te)}else{var ee=N({inputValue:x});if(ee===null)return null;J=Ee.createElement(d,b,ee)}var Q={minMenuHeight:R,maxMenuHeight:D,menuPlacement:C,menuPosition:j,menuShouldScrollIntoView:L},ne=Ee.createElement(cY,cr({},b,Q),function(re){var I=re.ref,U=re.placerProps,H=U.placement,X=U.maxHeight;return Ee.createElement(l,cr({},b,Q,{innerRef:I,innerProps:{onMouseDown:s.onMenuMouseDown,onMouseMove:s.onMenuMouseMove},isLoading:w,placement:H}),Ee.createElement(L$,{captureEnabled:_,onTopArrive:q,onBottomArrive:W,lockEnabled:O},function(ae){return Ee.createElement(u,cr({},b,{innerRef:function(he){s.getMenuListRef(he),ae(he)},innerProps:{role:"listbox","aria-multiselectable":b.isMulti,id:s.getElementId("listbox")},isLoading:w,maxHeight:X,focusedOption:g}),J)}))});return P||j==="fixed"?Ee.createElement(p,cr({},b,{appendTo:P,controlElement:this.controlRef,menuPlacement:C,menuPosition:j}),ne):ne}},{key:"renderFormField",value:function(){var s=this,o=this.props,a=o.delimiter,c=o.isDisabled,l=o.isMulti,u=o.name,p=o.required,y=this.state.selectValue;if(p&&!this.hasValue()&&!c)return Ee.createElement(B$,{name:u,onFocus:this.onValueInputFocus});if(!(!u||c))if(l)if(a){var d=y.map(function(g){return s.getOptionValue(g)}).join(a);return Ee.createElement("input",{name:u,type:"hidden",value:d})}else{var f=y.length>0?y.map(function(g,v){return Ee.createElement("input",{key:"i-".concat(v),name:u,type:"hidden",value:s.getOptionValue(g)})}):Ee.createElement("input",{name:u,type:"hidden",value:""});return Ee.createElement("div",null,f)}else{var b=y[0]?this.getOptionValue(y[0]):"";return Ee.createElement("input",{name:u,type:"hidden",value:b})}}},{key:"renderLiveRegion",value:function(){var s=this.commonProps,o=this.state,a=o.ariaSelection,c=o.focusedOption,l=o.focusedValue,u=o.isFocused,p=o.selectValue,y=this.getFocusableOptions();return Ee.createElement(E$,cr({},s,{id:this.getElementId("live-region"),ariaSelection:a,focusedOption:c,focusedValue:l,isFocused:u,selectValue:p,focusableOptions:y,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var s=this.getComponents(),o=s.Control,a=s.IndicatorsContainer,c=s.SelectContainer,l=s.ValueContainer,u=this.props,p=u.className,y=u.id,d=u.isDisabled,f=u.menuIsOpen,b=this.state.isFocused,g=this.commonProps=this.getCommonProps();return Ee.createElement(c,cr({},g,{className:p,innerProps:{id:y,onKeyDown:this.onKeyDown},isDisabled:d,isFocused:b}),this.renderLiveRegion(),Ee.createElement(o,cr({},g,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:d,isFocused:b,menuIsOpen:f}),Ee.createElement(l,cr({},g,{isDisabled:d}),this.renderPlaceholderOrValue(),this.renderInput()),Ee.createElement(a,cr({},g,{isDisabled:d}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(s,o){var a=o.prevProps,c=o.clearFocusValueOnUpdate,l=o.inputIsHiddenAfterUpdate,u=o.ariaSelection,p=o.isFocused,y=o.prevWasFocused,d=o.instancePrefix,f=s.options,b=s.value,g=s.menuIsOpen,v=s.inputValue,_=s.isMulti,x=FA(b),w={};if(a&&(b!==a.value||f!==a.options||g!==a.menuIsOpen||v!==a.inputValue)){var S=g?rX(s,x):[],R=g?JA(H0(s,x),"".concat(d,"-option")):[],D=c?nX(o,x):null,A=iX(o,S),C=u_(R,A);w={selectValue:x,focusedOption:A,focusedOptionId:C,focusableOptionsWithIds:R,focusedValue:D,clearFocusValueOnUpdate:!1}}var j=l!=null&&s!==a?{inputIsHidden:l,inputIsHiddenAfterUpdate:void 0}:{},P=u,O=p&&y;return p&&!O&&(P={value:p0(_,x,x[0]||null),options:x,action:"initial-input-focus"},O=!y),(u==null?void 0:u.action)==="initial-input-focus"&&(P=null),ar(ar(ar({},w),j),{},{prevProps:s,ariaSelection:P,prevWasFocused:O})}}]),i}(Ee.Component);z4.defaultProps=tX;var aX=Ee.forwardRef(function(n,t){var i=bW(n);return Ee.createElement(z4,cr({ref:t},i))}),Mw=aX;function Og(){return Og=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n[r]=i[r])}return n},Og.apply(this,arguments)}function oX(n,t){if(n==null)return{};var i={},r=Object.keys(n),s,o;for(o=0;o<r.length;o++)s=r[o],!(t.indexOf(s)>=0)&&(i[s]=n[s]);return i}var lX=["cdnSuffix","cdnUrl","countryCode","style","svg"],cX="https://cdn.jsdelivr.net/gh/lipis/flag-icons/flags/4x3/",uX="svg",hX=127397,tj=function(t){var i=t.cdnSuffix,r=i===void 0?uX:i,s=t.cdnUrl,o=s===void 0?cX:s,a=t.countryCode,c=t.style,l=t.svg,u=l===void 0?!1:l,p=oX(t,lX);if(typeof a!="string")return null;if(u){var y=""+o+a.toLowerCase()+"."+r;return Ee.createElement("img",Object.assign({},p,{src:y,style:Og({display:"inline-block",width:"1em",height:"1em",verticalAlign:"middle"},c)}))}var d=a.toUpperCase().replace(/./g,function(f){return String.fromCodePoint(f.charCodeAt(0)+hX)});return Ee.createElement("span",Object.assign({role:"img"},p,{style:Og({display:"inline-block",fontSize:"1em",lineHeight:"1em",verticalAlign:"middle"},c)}),d)};const h_={AF:{name:"Afghanistan",dial_code:"+93",code:"AF",flag:""},AL:{name:"Albania",dial_code:"+355",code:"AL",flag:""},DZ:{name:"Algeria",dial_code:"+213",code:"DZ",flag:""},AS:{name:"American Samoa",dial_code:"+1684",code:"AS",flag:""},AD:{name:"Andorra",dial_code:"+376",code:"AD",flag:""},AO:{name:"Angola",dial_code:"+244",code:"AO",flag:""},AI:{name:"Anguilla",dial_code:"+1264",code:"AI",flag:""},AG:{name:"Antigua and Barbuda",dial_code:"+1268",code:"AG",flag:""},AR:{name:"Argentina",dial_code:"+54",code:"AR",flag:""},AM:{name:"Armenia",dial_code:"+374",code:"AM",flag:""},AW:{name:"Aruba",dial_code:"+297",code:"AW",flag:""},AU:{name:"Australia",dial_code:"+61",code:"AU",flag:""},AT:{name:"Austria",dial_code:"+43",code:"AT",flag:""},AZ:{name:"Azerbaijan",dial_code:"+994",code:"AZ",flag:""},BS:{name:"Bahamas",dial_code:"+1242",code:"BS",flag:""},BH:{name:"Bahrain",dial_code:"+973",code:"BH",flag:""},BD:{name:"Bangladesh",dial_code:"+880",code:"BD",flag:""},BB:{name:"Barbados",dial_code:"+1246",code:"BB",flag:""},BY:{name:"Belarus",dial_code:"+375",code:"BY",flag:""},BE:{name:"Belgium",dial_code:"+32",code:"BE",flag:""},BZ:{name:"Belize",dial_code:"+501",code:"BZ",flag:""},BJ:{name:"Benin",dial_code:"+229",code:"BJ",flag:""},BM:{name:"Bermuda",dial_code:"+1441",code:"BM",flag:""},BT:{name:"Bhutan",dial_code:"+975",code:"BT",flag:""},BO:{name:"Bolivia",dial_code:"+591",code:"BO",flag:""},BA:{name:"Bosnia and Herzegovina",dial_code:"+387",code:"BA",flag:""},BW:{name:"Botswana",dial_code:"+267",code:"BW",flag:""},BR:{name:"Brazil",dial_code:"+55",code:"BR",flag:""},IO:{name:"British Indian Ocean Territory",dial_code:"+246",code:"IO",flag:""},BN:{name:"Brunei Darussalam",dial_code:"+673",code:"BN",flag:""},BG:{name:"Bulgaria",dial_code:"+359",code:"BG",flag:""},BF:{name:"Burkina Faso",dial_code:"+226",code:"BF",flag:""},BI:{name:"Burundi",dial_code:"+257",code:"BI",flag:""},KH:{name:"Cambodia",dial_code:"+855",code:"KH",flag:""},CM:{name:"Cameroon",dial_code:"+237",code:"CM",flag:""},CA:{name:"Canada",dial_code:"+1",code:"CA",flag:""},CV:{name:"Cape Verde",dial_code:"+238",code:"CV",flag:""},KY:{name:"Cayman Islands",dial_code:"+1345",code:"KY",flag:""},CF:{name:"Central African Republic",dial_code:"+236",code:"CF",flag:""},TD:{name:"Chad",dial_code:"+235",code:"TD",flag:""},CL:{name:"Chile",dial_code:"+56",code:"CL",flag:""},CN:{name:"China",dial_code:"+86",code:"CN",flag:""},CX:{name:"Christmas Island",dial_code:"+61",code:"CX",flag:""},CC:{name:"Cocos (Keeling) Islands",dial_code:"+61",code:"CC",flag:""},CO:{name:"Colombia",dial_code:"+57",code:"CO",flag:""},KM:{name:"Comoros",dial_code:"+269",code:"KM",flag:""},CG:{name:"Congo",dial_code:"+242",code:"CG",flag:""},CD:{name:"Congo, The Democratic Republic of the",dial_code:"+243",code:"CD",flag:""},CK:{name:"Cook Islands",dial_code:"+682",code:"CK",flag:""},CR:{name:"Costa Rica",dial_code:"+506",code:"CR",flag:""},CI:{name:"Cote d'Ivoire",dial_code:"+225",code:"CI",flag:""},HR:{name:"Croatia",dial_code:"+385",code:"HR",flag:""},CU:{name:"Cuba",dial_code:"+53",code:"CU",flag:""},CY:{name:"Cyprus",dial_code:"+357",code:"CY",flag:""},CZ:{name:"Czech Republic",dial_code:"+420",code:"CZ",flag:""},DK:{name:"Denmark",dial_code:"+45",code:"DK",flag:""},DJ:{name:"Djibouti",dial_code:"+253",code:"DJ",flag:""},DM:{name:"Dominica",dial_code:"+1767",code:"DM",flag:""},DO:{name:"Dominican Republic",dial_code:"+1849",code:"DO",flag:""},EC:{name:"Ecuador",dial_code:"+593",code:"EC",flag:""},EG:{name:"Egypt",dial_code:"+20",code:"EG",flag:""},SV:{name:"El Salvador",dial_code:"+503",code:"SV",flag:""},GQ:{name:"Equatorial Guinea",dial_code:"+240",code:"GQ",flag:""},ER:{name:"Eritrea",dial_code:"+291",code:"ER",flag:""},EE:{name:"Estonia",dial_code:"+372",code:"EE",flag:""},ET:{name:"Ethiopia",dial_code:"+251",code:"ET",flag:""},FK:{name:"Falkland Islands (Malvinas)",dial_code:"+500",code:"FK",flag:""},FO:{name:"Faroe Islands",dial_code:"+298",code:"FO",flag:""},FJ:{name:"Fiji",dial_code:"+679",code:"FJ",flag:""},FI:{name:"Finland",dial_code:"+358",code:"FI",flag:""},FR:{name:"France",dial_code:"+33",code:"FR",flag:""},GF:{name:"French Guiana",dial_code:"+594",code:"GF",flag:""},PF:{name:"French Polynesia",dial_code:"+689",code:"PF",flag:""},GA:{name:"Gabon",dial_code:"+241",code:"GA",flag:""},GM:{name:"Gambia",dial_code:"+220",code:"GM",flag:""},GE:{name:"Georgia",dial_code:"+995",code:"GE",flag:""},DE:{name:"Germany",dial_code:"+49",code:"DE",flag:""},GH:{name:"Ghana",dial_code:"+233",code:"GH",flag:""},GI:{name:"Gibraltar",dial_code:"+350",code:"GI",flag:""},GR:{name:"Greece",dial_code:"+30",code:"GR",flag:""},GL:{name:"Greenland",dial_code:"+299",code:"GL",flag:""},GD:{name:"Grenada",dial_code:"+1473",code:"GD",flag:""},GP:{name:"Guadeloupe",dial_code:"+590",code:"GP",flag:""},GU:{name:"Guam",dial_code:"+1671",code:"GU",flag:""},GT:{name:"Guatemala",dial_code:"+502",code:"GT",flag:""},GG:{name:"Guernsey",dial_code:"+44",code:"GG",flag:""},GN:{name:"Guinea",dial_code:"+224",code:"GN",flag:""},GW:{name:"Guinea-Bissau",dial_code:"+245",code:"GW",flag:""},GY:{name:"Guyana",dial_code:"+592",code:"GY",flag:""},HT:{name:"Haiti",dial_code:"+509",code:"HT",flag:""},HN:{name:"Honduras",dial_code:"+504",code:"HN",flag:""},HK:{name:"Hong Kong",dial_code:"+852",code:"HK",flag:""},HU:{name:"Hungary",dial_code:"+36",code:"HU",flag:""},IS:{name:"Iceland",dial_code:"+354",code:"IS",flag:""},IN:{name:"India",dial_code:"+91",code:"IN",flag:""},ID:{name:"Indonesia",dial_code:"+62",code:"ID",flag:""},IR:{name:"Iran, Islamic Republic of",dial_code:"+98",code:"IR",flag:""},IQ:{name:"Iraq",dial_code:"+964",code:"IQ",flag:""},IE:{name:"Ireland",dial_code:"+353",code:"IE",flag:""},IM:{name:"Isle of Man",dial_code:"+44",code:"IM",flag:""},IL:{name:"Israel",dial_code:"+972",code:"IL",flag:""},IT:{name:"Italy",dial_code:"+39",code:"IT",flag:""},JM:{name:"Jamaica",dial_code:"+1876",code:"JM",flag:""},JP:{name:"Japan",dial_code:"+81",code:"JP",flag:""},JE:{name:"Jersey",dial_code:"+44",code:"JE",flag:""},JO:{name:"Jordan",dial_code:"+962",code:"JO",flag:""},KZ:{name:"Kazakhstan",dial_code:"+7",code:"KZ",flag:""},KE:{name:"Kenya",dial_code:"+254",code:"KE",flag:""},KI:{name:"Kiribati",dial_code:"+686",code:"KI",flag:""},KP:{name:"Korea, Democratic People's Republic of",dial_code:"+850",code:"KP",flag:""},KR:{name:"Korea, Republic of",dial_code:"+82",code:"KR",flag:""},KW:{name:"Kuwait",dial_code:"+965",code:"KW",flag:""},KG:{name:"Kyrgyzstan",dial_code:"+996",code:"KG",flag:""},LA:{name:"Lao People's Democratic Republic",dial_code:"+856",code:"LA",flag:""},LV:{name:"Latvia",dial_code:"+371",code:"LV",flag:""},LB:{name:"Lebanon",dial_code:"+961",code:"LB",flag:""},LS:{name:"Lesotho",dial_code:"+266",code:"LS",flag:""},LR:{name:"Liberia",dial_code:"+231",code:"LR",flag:""},LY:{name:"Libyan Arab Jamahiriya",dial_code:"+218",code:"LY",flag:""},LI:{name:"Liechtenstein",dial_code:"+423",code:"LI",flag:""},LT:{name:"Lithuania",dial_code:"+370",code:"LT",flag:""},LU:{name:"Luxembourg",dial_code:"+352",code:"LU",flag:""},MO:{name:"Macao",dial_code:"+853",code:"MO",flag:""},MK:{name:"Macedonia, The Former Yugoslav Republic of",dial_code:"+389",code:"MK",flag:""},MG:{name:"Madagascar",dial_code:"+261",code:"MG",flag:""},MW:{name:"Malawi",dial_code:"+265",code:"MW",flag:""},MY:{name:"Malaysia",dial_code:"+60",code:"MY",flag:""},MV:{name:"Maldives",dial_code:"+960",code:"MV",flag:""},ML:{name:"Mali",dial_code:"+223",code:"ML",flag:""},MT:{name:"Malta",dial_code:"+356",code:"MT",flag:""},MH:{name:"Marshall Islands",dial_code:"+692",code:"MH",flag:""},MQ:{name:"Martinique",dial_code:"+596",code:"MQ",flag:""},MR:{name:"Mauritania",dial_code:"+222",code:"MR",flag:""},MU:{name:"Mauritius",dial_code:"+230",code:"MU",flag:""},YT:{name:"Mayotte",dial_code:"+262",code:"YT",flag:""},MX:{name:"Mexico",dial_code:"+52",code:"MX",flag:""},FM:{name:"Micronesia, Federated States of",dial_code:"+691",code:"FM",flag:""},MD:{name:"Moldova, Republic of",dial_code:"+373",code:"MD",flag:""},MC:{name:"Monaco",dial_code:"+377",code:"MC",flag:""},MN:{name:"Mongolia",dial_code:"+976",code:"MN",flag:""},ME:{name:"Montenegro",dial_code:"+382",code:"ME",flag:""},MS:{name:"Montserrat",dial_code:"+1664",code:"MS",flag:""},MA:{name:"Morocco",dial_code:"+212",code:"MA",flag:""},MZ:{name:"Mozambique",dial_code:"+258",code:"MZ",flag:""},MM:{name:"Myanmar",dial_code:"+95",code:"MM",flag:""},NA:{name:"Namibia",dial_code:"+264",code:"NA",flag:""},NR:{name:"Nauru",dial_code:"+674",code:"NR",flag:""},NP:{name:"Nepal",dial_code:"+977",code:"NP",flag:""},NL:{name:"Netherlands",dial_code:"+31",code:"NL",flag:""},NC:{name:"New Caledonia",dial_code:"+687",code:"NC",flag:""},NZ:{name:"New Zealand",dial_code:"+64",code:"NZ",flag:""},NI:{name:"Nicaragua",dial_code:"+505",code:"NI",flag:""},NE:{name:"Niger",dial_code:"+227",code:"NE",flag:""},NG:{name:"Nigeria",dial_code:"+234",code:"NG",flag:""},NU:{name:"Niue",dial_code:"+683",code:"NU",flag:""},NF:{name:"Norfolk Island",dial_code:"+672",code:"NF",flag:""},MP:{name:"Northern Mariana Islands",dial_code:"+1670",code:"MP",flag:""},NO:{name:"Norway",dial_code:"+47",code:"NO",flag:""},OM:{name:"Oman",dial_code:"+968",code:"OM",flag:""},PK:{name:"Pakistan",dial_code:"+92",code:"PK",flag:""},PW:{name:"Palau",dial_code:"+680",code:"PW",flag:""},PS:{name:"Palestinian Territory, Occupied",dial_code:"+970",code:"PS",flag:""},PA:{name:"Panama",dial_code:"+507",code:"PA",flag:""},PG:{name:"Papua New Guinea",dial_code:"+675",code:"PG",flag:""},PY:{name:"Paraguay",dial_code:"+595",code:"PY",flag:""},PE:{name:"Peru",dial_code:"+51",code:"PE",flag:""},PH:{name:"Philippines",dial_code:"+63",code:"PH",flag:""},PN:{name:"Pitcairn",dial_code:"+64",code:"PN",flag:""},PL:{name:"Poland",dial_code:"+48",code:"PL",flag:""},PT:{name:"Portugal",dial_code:"+351",code:"PT",flag:""},PR:{name:"Puerto Rico",dial_code:"+1939",code:"PR",flag:""},QA:{name:"Qatar",dial_code:"+974",code:"QA",flag:""},RE:{name:"Reunion",dial_code:"+262",code:"RE",flag:""},RO:{name:"Romania",dial_code:"+40",code:"RO",flag:""},RU:{name:"Russian Federation",dial_code:"+7",code:"RU",flag:""},RW:{name:"Rwanda",dial_code:"+250",code:"RW",flag:""},BL:{name:"Saint Barthelemy",dial_code:"+590",code:"BL",flag:""},SH:{name:"Saint Helena",dial_code:"+290",code:"SH",flag:""},KN:{name:"Saint Kitts and Nevis",dial_code:"+1869",code:"KN",flag:""},LC:{name:"Saint Lucia",dial_code:"+1758",code:"LC",flag:""},MF:{name:"Saint Martin",dial_code:"+590",code:"MF",flag:""},PM:{name:"Saint Pierre and Miquelon",dial_code:"+508",code:"PM",flag:""},VC:{name:"Saint Vincent and the Grenadines",dial_code:"+1784",code:"VC",flag:""},WS:{name:"Samoa",dial_code:"+685",code:"WS",flag:""},SM:{name:"San Marino",dial_code:"+378",code:"SM",flag:""},ST:{name:"Sao Tome and Principe",dial_code:"+239",code:"ST",flag:""},SA:{name:"Saudi Arabia",dial_code:"+966",code:"SA",flag:""},SN:{name:"Senegal",dial_code:"+221",code:"SN",flag:""},RS:{name:"Serbia",dial_code:"+381",code:"RS",flag:""},SC:{name:"Seychelles",dial_code:"+248",code:"SC",flag:""},SL:{name:"Sierra Leone",dial_code:"+232",code:"SL",flag:""},SG:{name:"Singapore",dial_code:"+65",code:"SG",flag:""},SK:{name:"Slovakia",dial_code:"+421",code:"SK",flag:""},SI:{name:"Slovenia",dial_code:"+386",code:"SI",flag:""},SB:{name:"Solomon Islands",dial_code:"+677",code:"SB",flag:""},SO:{name:"Somalia",dial_code:"+252",code:"SO",flag:""},ZA:{name:"South Africa",dial_code:"+27",code:"ZA",flag:""},ES:{name:"Spain",dial_code:"+34",code:"ES",flag:""},LK:{name:"Sri Lanka",dial_code:"+94",code:"LK",flag:""},SD:{name:"Sudan",dial_code:"+249",code:"SD",flag:""},SR:{name:"Suriname",dial_code:"+597",code:"SR",flag:""},SZ:{name:"Swaziland",dial_code:"+268",code:"SZ",flag:""},SE:{name:"Sweden",dial_code:"+46",code:"SE",flag:""},CH:{name:"Switzerland",dial_code:"+41",code:"CH",flag:""},SY:{name:"Syrian Arab Republic",dial_code:"+963",code:"SY",flag:""},TW:{name:"Taiwan, Province of China",dial_code:"+886",code:"TW",flag:""},TJ:{name:"Tajikistan",dial_code:"+992",code:"TJ",flag:""},TZ:{name:"Tanzania, United Republic of",dial_code:"+255",code:"TZ",flag:""},TH:{name:"Thailand",dial_code:"+66",code:"TH",flag:""},TL:{name:"Timor-Leste",dial_code:"+670",code:"TL",flag:""},TG:{name:"Togo",dial_code:"+228",code:"TG",flag:""},TK:{name:"Tokelau",dial_code:"+690",code:"TK",flag:""},TO:{name:"Tonga",dial_code:"+676",code:"TO",flag:""},TT:{name:"Trinidad and Tobago",dial_code:"+1868",code:"TT",flag:""},TN:{name:"Tunisia",dial_code:"+216",code:"TN",flag:""},TR:{name:"Turkey",dial_code:"+90",code:"TR",flag:""},TM:{name:"Turkmenistan",dial_code:"+993",code:"TM",flag:""},TC:{name:"Turks and Caicos Islands",dial_code:"+1649",code:"TC",flag:""},TV:{name:"Tuvalu",dial_code:"+688",code:"TV",flag:""},UG:{name:"Uganda",dial_code:"+256",code:"UG",flag:""},UA:{name:"Ukraine",dial_code:"+380",code:"UA",flag:""},AE:{name:"United Arab Emirates",dial_code:"+971",code:"AE",flag:""},GB:{name:"United Kingdom",dial_code:"+44",code:"GB",flag:""},US:{name:"United States",dial_code:"+1",code:"US",flag:""},UY:{name:"Uruguay",dial_code:"+598",code:"UY",flag:""},UZ:{name:"Uzbekistan",dial_code:"+998",code:"UZ",flag:""},VU:{name:"Vanuatu",dial_code:"+678",code:"VU",flag:""},VE:{name:"Venezuela, Bolivarian Republic of",dial_code:"+58",code:"VE",flag:""},VN:{name:"Vietnam",dial_code:"+84",code:"VN",flag:""},VG:{name:"Virgin Islands, British",dial_code:"+1284",code:"VG",flag:""},VI:{name:"Virgin Islands, U.S.",dial_code:"+1340",code:"VI",flag:""},WF:{name:"Wallis and Futuna",dial_code:"+681",code:"WF",flag:""},YE:{name:"Yemen",dial_code:"+967",code:"YE",flag:""},ZM:{name:"Zambia",dial_code:"+260",code:"ZM",flag:""},ZW:{name:"Zimbabwe",dial_code:"+263",code:"ZW",flag:""}},Ry=({phoneNumber:n,setPhoneNumber:t,setPhoneErrors:i,errors:r})=>{const[s,o]=Ee.useState({value:"US",label:h_.US.name,dial_code:h_.US.dial_code,code:"US"}),[a,c]=Ee.useState(""),l=Object.entries(h_).map(([b,g])=>({value:b,label:g.name,dial_code:g.dial_code,code:g.code})),u=({data:b,innerRef:g,innerProps:v})=>V.jsxs("div",{ref:g,...v,className:"flex items-center px-2 py-1",children:[V.jsx(tj,{countryCode:b.code,svg:!0,style:{width:"1.5em",height:"1.5em",marginRight:"0.5em"}}),V.jsxs("span",{children:[b.label," (",b.dial_code,")"]})]}),p=({data:b})=>V.jsxs("div",{className:"flex items-center",children:[V.jsx(tj,{countryCode:b.code,svg:!0,style:{width:"1.5em",height:"1.5em",marginRight:"0.5em"}}),V.jsx("span",{children:b.dial_code})]}),y=b=>{b&&(o(b),f(b.dial_code,a))},d=b=>{const g=b.target.value.replace(/\D/g,"");c(g),f(s.dial_code,g)},f=(b,g)=>{const v=`${b}${g}`;t(v);const _=bw(v);i(_)};return V.jsxs("div",{className:"mb-4",children:[V.jsx("label",{htmlFor:"phoneNumber",className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),V.jsxs("div",{className:"flex",children:[V.jsx("div",{className:"w-40",children:V.jsx(Mw,{value:s,onChange:y,options:l,className:"react-select-container",classNamePrefix:"react-select",placeholder:"Select Country",isSearchable:!0,components:{Option:u,SingleValue:p}})}),V.jsx("div",{className:"flex-grow ml-2",children:V.jsx(oi,{label:"",name:"phoneNumber",type:"tel",value:a,onChange:d,errors:r,placeholder:"Enter your phone number"})})]}),r.length>0&&r.map((b,g)=>V.jsx(On,{message:b,type:"error"},g))]})},m0=3,rj=30;function dX({user:n,initialPhoneE164:t="",onDone:i,onSkip:r}){const[s,o]=Ee.useState(t||""),[a,c]=Ee.useState([]),[l,u]=Ee.useState(null),[p,y]=Ee.useState(""),[d,f]=Ee.useState(!1),[b,g]=Ee.useState(null),[v,_]=Ee.useState(!1),[x,w]=Ee.useState(""),[S,R]=Ee.useState(0),[D,A]=Ee.useState(0),C=Ee.useRef(null),j=Ee.useRef(null),P=Ee.useRef(null);function O(){var ne,re;try{(re=(ne=P.current)==null?void 0:ne.clear)==null||re.call(ne)}catch{}if(j.current){const I=document.getElementById(j.current);I!=null&&I.parentNode&&I.parentNode.removeChild(I),j.current=null}P.current=null}Ee.useEffect(()=>()=>{O(),C.current&&(window.clearInterval(C.current),C.current=null)},[]);async function L(){O();const ne=`recaptcha-${Date.now()}-${Math.random().toString(36).slice(2)}`,re=document.createElement("div");re.id=ne,re.style.display="none",document.body.appendChild(re),j.current=ne;const I=new Dp(Sr,ne,{size:"invisible"});await I.render(),P.current=I}function N(){C.current&&(window.clearInterval(C.current),C.current=null),A(rj),g({text:`Too many attempts. Auto-resending in ${rj}s`,type:"error"}),C.current=window.setInterval(async()=>{A(ne=>{const re=ne-1;return re<=0?(C.current&&(window.clearInterval(C.current),C.current=null),Y(!0),0):re})},1e3)}function q(){C.current&&(window.clearInterval(C.current),C.current=null),A(0)}function W(ne){return/^\+[1-9]\d{6,14}$/.test(ne.trim())}async function Y(ne=!1){if(d||D>0&&!ne)return;if(a.length){g({text:"Please fix the phone number.",type:"error"});return}const re=s.trim();if(!W(re)){g({text:"Enter a valid phone (E.164), e.g. +15551234567.",type:"error"});return}f(!0),g(ne?{text:"Sending a new code",type:"info"}:null);try{await L();const U=await td(n).getSession(),X=await new ws(Sr).verifyPhoneNumber({phoneNumber:re,session:U},P.current);u(X),y(""),R(0),q(),g({text:ne?"A new code was sent automatically.":`Code sent to ${re.slice(-4)}.`,type:"success"})}catch(I){(I==null?void 0:I.code)==="auth/requires-recent-login"?(_(!0),g({text:"Please confirm your password to continue.",type:"info"})):(I==null?void 0:I.code)==="auth/too-many-requests"?g({text:"Too many requests. Please wait a bit and try again.",type:"error"}):(I==null?void 0:I.code)==="auth/invalid-phone-number"?g({text:"That phone number is not valid.",type:"error"}):g({text:(I==null?void 0:I.message)||"Could not send code.",type:"error"})}finally{f(!1)}}async function J(){if(!x.trim()){g({text:"Enter your password to continue.",type:"error"});return}f(!0),g(null);try{const ne=Uu.credential(n.email||"",x);await t6(n,ne),_(!1),w(""),await Y()}catch(ne){g({text:`Re-auth failed: ${(ne==null?void 0:ne.code)||""} ${(ne==null?void 0:ne.message)||""}`,type:"error"})}finally{f(!1)}}async function te(){if(!l){g({text:"Please send a code first.",type:"error"});return}if(p.trim()){f(!0),g(null);try{const ne=ws.credential(l,p.trim()),re=ty.assertion(ne);await td(n).enroll(re,"Phone"),await Qg(n),localStorage.getItem("pending_phone_e164")===s&&localStorage.removeItem("pending_phone_e164"),g({text:"Phone linked. MFA enabled.",type:"success"}),O(),i()}catch(ne){if((ne==null?void 0:ne.code)==="auth/invalid-verification-code"||(ne==null?void 0:ne.code)==="auth/code-expired"||(ne==null?void 0:ne.code)==="auth/argument-error"){const re=S+1;R(re),y(""),re>=m0?N():g({text:`The code is incorrect or expired. (${re}/${m0})`,type:"error"})}else(ne==null?void 0:ne.code)==="auth/too-many-requests"?g({text:"Too many attempts. Please wait a bit and try again.",type:"error"}):g({text:(ne==null?void 0:ne.message)||"Could not enroll phone.",type:"error"})}finally{f(!1)}}}function ee(){O(),r()}const Q=d||D>0;return V.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 p-4",children:V.jsxs("div",{className:"w-full max-w-md rounded bg-white p-4 shadow-lg space-y-3",children:[V.jsx("h2",{className:"text-lg font-semibold",children:"Add your phone for 2-step verification"}),V.jsx("p",{className:"text-sm text-gray-600",children:"Youll get a one-time code by SMS when you sign in."}),b&&V.jsx("div",{className:`rounded border px-3 py-2 text-sm ${b.type==="success"?"bg-green-50 text-green-700 border-green-300":b.type==="error"?"bg-red-50 text-red-700 border-red-300":"bg-blue-50 text-blue-700 border-blue-300"}`,children:b.text}),V.jsx(Ry,{phoneNumber:s,setPhoneNumber:o,setPhoneErrors:c,errors:a,disabled:Q||!!l}),l?V.jsxs(V.Fragment,{children:[V.jsx("input",{className:"w-full rounded border px-3 py-2",placeholder:"123456",value:p,onChange:ne=>y(ne.target.value),disabled:Q}),V.jsxs("div",{className:"flex gap-2",children:[V.jsx("button",{onClick:te,disabled:Q||!p.trim(),className:"rounded bg-green-600 px-3 py-2 text-white disabled:bg-gray-400",children:"Verify & Enroll"}),V.jsx("button",{onClick:()=>Y(!1),disabled:Q,className:"rounded border px-3 py-2",children:"Resend code"}),V.jsx("button",{onClick:ee,disabled:d,className:"rounded border px-3 py-2",children:"Cancel"})]}),D>0&&V.jsxs("div",{className:"text-sm text-amber-600",children:["Too many attempts. Auto-resending in ",D,"s"]}),V.jsxs("div",{className:"text-xs text-gray-500",children:["Attempts: ",Math.min(S,m0),"/",m0]})]}):V.jsxs("div",{className:"flex gap-2",children:[V.jsx("button",{onClick:()=>Y(!1),disabled:Q,className:"rounded bg-blue-600 px-3 py-2 text-white disabled:bg-gray-400",children:"Send code"}),V.jsx("button",{onClick:ee,disabled:d,className:"rounded border px-3 py-2",children:"Skip for now"})]}),v&&V.jsxs("div",{className:"rounded border p-3 bg-amber-50 space-y-2",children:[V.jsx("div",{className:"text-sm",children:"For security, confirm your password to continue."}),V.jsx("input",{type:"password",className:"w-full rounded border px-3 py-2",placeholder:"",value:x,onChange:ne=>w(ne.target.value)}),V.jsxs("div",{className:"flex gap-2",children:[V.jsx("button",{onClick:J,disabled:d,className:"rounded bg-amber-600 px-3 py-2 text-white disabled:bg-gray-400",children:"Confirm"}),V.jsx("button",{onClick:()=>_(!1),disabled:d,className:"rounded border px-3 py-2",children:"Cancel"})]})]})]})})}const Ef=3,d_=30,f_=2*60*1e3,fX="/finish-email-signin",pX=60,mX=15*60,gX=new Set(["auth/multi-factor-session-expired","auth/invalid-app-credential","auth/missing-app-credential","auth/captcha-check-failed","auth/expired-action-code"]);function yX(){const n=ds(),[t,i]=Ee.useState(""),[r,s]=Ee.useState([]),[o,a]=Ee.useState(""),[c,l]=Ee.useState([]),[u,p]=Ee.useState(null),[y,d]=Ee.useState(""),[f,b]=Ee.useState(""),[g,v]=Ee.useState(!1),[_,x]=Ee.useState(0),[w,S]=Ee.useState(0),R=Ee.useRef(null),[D,A]=Ee.useState(null),[C,j]=Ee.useState(!1),P=Ee.useRef(null),O=Ee.useRef(null),[L,N]=Ee.useState(Math.floor(f_/1e3)),[q,W]=Ee.useState(0),[Y,J]=Ee.useState(0),[te,ee]=Ee.useState(0),Q=Ee.useRef(null),ne=Ee.useMemo(()=>!!(u||y),[u,y]),re=Ee.useRef(ne);Ee.useEffect(()=>{re.current=ne},[ne]);const[I,U]=Ee.useState({text:"",type:"info"}),[H,X]=Ee.useState(!1),ae=()=>Date.now(),le=()=>Y>ae();function he(){var Ge,de,ge;try{(de=(Ge=window.recaptchaVerifier)==null?void 0:Ge.clear)==null||de.call(Ge)}catch{}try{(ge=window.recaptchaContainerEl)!=null&&ge.parentNode&&window.recaptchaContainerEl.parentNode.removeChild(window.recaptchaContainerEl)}catch{}window.recaptchaVerifier=void 0,window.recaptchaContainerEl=null}async function ye(){he();const Ge=document.createElement("div");Ge.style.display="none",Ge.id=`recaptcha-${Date.now()}-${Math.random().toString(36).slice(2)}`,document.body.appendChild(Ge),window.recaptchaContainerEl=Ge,window.recaptchaVerifier=new Dp(Sr,Ge,{size:"invisible"}),await window.recaptchaVerifier.render()}function me(){P.current&&(window.clearTimeout(P.current),P.current=null),O.current&&(window.clearInterval(O.current),O.current=null)}function xe(){me(),N(Math.floor(f_/1e3)),P.current=window.setTimeout(()=>{Xe("Session timed out. Please log in again.")},f_),O.current=window.setInterval(()=>{N(Ge=>Ge>0?Ge-1:0)},1e3)}function Se(){Q.current&&(window.clearInterval(Q.current),Q.current=null)}function pe(Ge){const de=ae()+Ge*1e3;J(de),ee(Ge),Se(),Q.current=window.setInterval(()=>{const ge=Math.max(0,Math.ceil((de-ae())/1e3));ee(ge),ge<=0&&ke()},1e3)}function Te(){const Ge=Math.min(pX*Math.pow(2,q),mX);W(de=>Math.min(de+1,30)),pe(Ge),re.current&&U({text:`Too many attempts. Please wait ${Ge}s before trying again.`,type:"error"})}function ke(){W(0),J(0),ee(0),Se()}function Me(){R.current&&(window.clearInterval(R.current),R.current=null),S(0)}function Ne(){Me(),S(d_),U({text:`Too many attempts. Auto-resending in ${d_}s`,type:"error"}),R.current=window.setInterval(()=>{S(Ge=>{const de=Ge-1;return de<=0?(window.clearInterval(R.current),R.current=null,re.current&&u&&jt(!0),0):de})},1e3)}Ee.useEffect(()=>{ne&&_>=Ef&&w===0&&Ne()},[_,ne]);function Ve(){p(null),d(""),b(""),v(!1),x(0),me(),he(),Me()}function Xe(Ge){Ve(),ke(),a(""),U({text:Ge??"Returning to login",type:"info"})}Ee.useEffect(()=>(ne?xe():me(),()=>me()),[ne]),Ee.useEffect(()=>{ne&&xe()},[f,g]),Ee.useEffect(()=>()=>{he(),Se(),Me()},[]);async function ht(Ge){if(le()){re.current&&U({text:`Please wait ${te}s before requesting a new code.`,type:"error"});return}const de=DE(Sr,Ge);p(de);try{await ye();const ge=de.hints[0],we=await new ws(Sr).verifyPhoneNumber({multiFactorHint:ge,session:de.session},window.recaptchaVerifier);d(we),v(!0);const He=ge!=null&&ge.phoneNumber?`${ge.phoneNumber.slice(-4)}`:"your phone";U({text:`We sent a code to ${He}.`,type:"info"}),xe(),ke()}catch(ge){throw(ge==null?void 0:ge.code)==="auth/too-many-requests"?Te():U({text:(ge==null?void 0:ge.message)||"Could not send the verification code.",type:"error"}),ge}}async function Ke(Ge){if(Ge.preventDefault(),!H&&!(r.length||c.length)){X(!0),U({text:"",type:"info"}),Ve();try{const ge=(await B_(Sr,t.trim(),o)).user;if((td(ge).enrolledFactors||[]).length===0){A(ge),j(!0),U({text:"Please add your phone for 2-step verification.",type:"info"});return}U({text:"Login successful! Redirecting",type:"success"}),setTimeout(()=>n("/stablehand-welcome"),800)}catch(de){if((de==null?void 0:de.code)==="auth/multi-factor-auth-required")try{await ht(de)}catch{}else(de==null?void 0:de.code)==="auth/too-many-requests"?Te():U({text:"Login failed. Check your email and password.",type:"error"})}finally{X(!1)}}}async function jt(Ge){if(w>0&&!Ge)return;if(le()){re.current&&U({text:`Please wait ${te}s before requesting a new code.`,type:"error"});return}try{await ye();const ge=u==null?void 0:u.hints[0],we=await new ws(Sr).verifyPhoneNumber({multiFactorHint:ge,session:u.session},window.recaptchaVerifier);d(we),v(!0),b(""),x(0),U({text:Ge?"A new code was sent automatically.":"A new code was sent.",type:"success"}),xe(),ke(),Me();return}catch(ge){if((ge==null?void 0:ge.code)==="auth/too-many-requests"){Te();return}if(!gX.has(ge==null?void 0:ge.code))throw ge}const de=await bt();if(!le())try{await ye();const ge=de.hints[0],we=await new ws(Sr).verifyPhoneNumber({multiFactorHint:ge,session:de.session},window.recaptchaVerifier);p(de),d(we),v(!0),b(""),x(0),U({text:Ge?"A new code was sent automatically.":"A new code was sent.",type:"success"}),xe(),ke(),Me()}catch(ge){(ge==null?void 0:ge.code)==="auth/too-many-requests"?Te():U({text:(ge==null?void 0:ge.message)||"Failed to resend code.",type:"error"})}}async function bt(){try{throw await B_(Sr,t.trim(),o),U({text:"Login successful! Redirecting",type:"success"}),setTimeout(()=>n("/stablehand-welcome"),800),new Error("Unexpected success: MFA not required.")}catch(Ge){if((Ge==null?void 0:Ge.code)==="auth/multi-factor-auth-required")return DE(Sr,Ge);throw Xe("We need you to log in again."),Ge}}async function gt(){if(!(!u||!y)&&!H){if(le()){re.current&&U({text:`Please wait ${te}s before trying again.`,type:"error"});return}if(!(w>0)){X(!0),U({text:"",type:"info"});try{const Ge=ws.credential(y,f.trim()),de=ty.assertion(Ge);await u.resolveSignIn(de),U({text:"MFA successful! Redirecting",type:"success"}),me(),Me(),setTimeout(()=>n("/stablehand-welcome"),800)}catch(Ge){if((Ge==null?void 0:Ge.code)==="auth/too-many-requests"){Te();return}const de=_+1;x(de),b(""),de>=Ef?U({text:`Too many attempts. Auto-resending in ${d_}s`,type:"error"}):(U({text:`The code is incorrect or expired. (${de}/${Ef})`,type:"error"}),xe())}finally{X(!1)}}}}async function Tt(){u&&(H||w>0||await jt(!1))}async function St(){if(!H){if(!t){U({text:"Enter your email above first, then tap Send to Email.",type:"error"});return}X(!0);try{Ve();const Ge={url:`${window.location.origin}${fX}`,handleCodeInApp:!0};await s6(Sr,t.trim(),Ge),window.localStorage.setItem("emailForSignIn",t.trim()),U({text:`We sent a secure sign-in link to ${t}. Open it on this device to finish.`,type:"success"}),ke()}catch(Ge){(Ge==null?void 0:Ge.code)==="auth/too-many-requests"?Te():U({text:(Ge==null?void 0:Ge.message)||"Failed to send email link.",type:"error"})}finally{X(!1)}}}function $e(){Xe("Cancelled. You can try logging in again.")}const dt=H||ne&&le()||w>0;return V.jsxs("div",{className:"space-y-4",children:[!ne&&!C&&V.jsxs("form",{onSubmit:Ke,className:"space-y-4",children:[V.jsx(t4,{email:t,setEmail:i,setEmailErrors:s,errors:r}),V.jsx(r4,{password:o,setPassword:a,setPasswordErrors:l,errors:c}),I.text&&V.jsx(On,{message:I.text,type:I.type}),V.jsx(Xn,{type:"submit",disabled:H,className:"w-full bg-blue-600 text-white",children:"Log In"})]}),ne&&!C&&V.jsxs("div",{className:"space-y-4",children:[V.jsx(oi,{name:"smsCode",label:"SMS Code",type:"text",value:f,onChange:Ge=>b(Ge.target.value),placeholder:"123456"}),I.text&&V.jsx(On,{message:I.text,type:I.type}),le()&&V.jsxs("div",{className:"text-sm text-amber-600",children:["Too many attempts. Please wait ",te,"s before trying again."]}),w>0&&V.jsxs("div",{className:"text-sm text-amber-600",children:["Too many attempts. Auto-resending in ",w,"s"]}),V.jsxs("div",{className:"flex flex-wrap text-xs gap-2",children:[V.jsx(Xn,{onClick:gt,disabled:dt||!f.trim(),className:"flex-1 bg-green-600 text-white",children:"Verify"}),V.jsx(Xn,{type:"button",onClick:Tt,disabled:dt,className:"flex-1",children:g?"Resend code (SMS)":"Send code (SMS)"}),V.jsx(Xn,{type:"button",onClick:St,disabled:dt||!t,className:"flex-1",children:"Send to Email"}),V.jsx(Xn,{type:"button",onClick:$e,className:"flex-1",children:"Back to login"})]}),V.jsxs("div",{className:"text-xs text-gray-500",children:["Attempts: ",Math.min(_,Ef),"/",Ef,"  Idle timeout: ",Math.max(0,L),"s"]})]}),C&&D&&V.jsx(dX,{user:D,initialPhoneE164:localStorage.getItem("pending_phone_e164")||"",onDone:()=>{localStorage.removeItem("pending_phone_e164"),j(!1),U({text:"Phone linked. MFA enabled. Redirecting",type:"success"}),setTimeout(()=>n("/stablehand-welcome"),700)},onSkip:()=>{j(!1),U({text:"You can add MFA later in settings.",type:"info"}),setTimeout(()=>n("/stablehand-welcome"),500)}})]})}const vX=({clearEmailAndPasswordErrors:n,isRegister:t=!1})=>{const[i,r]=Ee.useState(""),[s,o]=Ee.useState([]),[a,c]=Ee.useState(""),[l,u]=Ee.useState(!1),[p,y]=Ee.useState({message:"",type:"success"}),d=ds(),f=async()=>{if(n==null||n(),y({message:"",type:"success"}),window.recaptchaVerifier)try{window.recaptchaVerifier.clear()}catch{}window.recaptchaVerifier=new Dp(Sr,"recaptcha-container",{size:"invisible"}),await window.recaptchaVerifier.render();try{const g=await yO(Sr,i,window.recaptchaVerifier);window.confirmationResult=g,u(!0),y({message:"Verification code sent via SMS.",type:"success"})}catch(g){console.error("Error sending SMS:",g),y({message:g.message||"Failed to send code.",type:"error"})}},b=async()=>{if(y({message:"",type:"success"}),!a){y({message:"Please enter the verification code.",type:"error"});return}try{const g=await window.confirmationResult.confirm(a);y({message:"Phone login successful! Redirecting...",type:"success"}),setTimeout(()=>d("/stablehand-welcome"),2e3)}catch(g){console.error("Verification failed:",g),y({message:"Invalid verification code.",type:"error"})}};return V.jsxs("div",{className:"space-y-4",children:[V.jsx(Ry,{phoneNumber:i,setPhoneNumber:r,setPhoneErrors:o,errors:s}),l&&V.jsx(oi,{label:"Verification Code",type:"text",value:a,onChange:g=>c(g.target.value),placeholder:"Enter the code",errors:[]}),p.message&&V.jsx(On,{message:p.message,type:p.type}),V.jsx("div",{className:"flex justify-between space-x-2",children:l?V.jsx(Xn,{type:"button",className:"w-full bg-green-500 hover:bg-green-700 text-white font-bold",onClick:b,children:"Verify Code"}):V.jsx(Xn,{type:"button",className:"w-full bg-yellow-500 hover:bg-yellow-700 text-black font-bold",onClick:f,children:t?"Register with Phone":"Login with Phone"})}),V.jsx("div",{id:"recaptcha-container",className:"mt-2"})]})},_X=()=>{const[n,t]=Ee.useState("email");ds();const i=()=>{t("phone")};return V.jsx(Kn,{children:V.jsxs("div",{className:"w-full max-w-md mx-auto",children:[V.jsxs("div",{className:"flex mb-6",children:[V.jsx("button",{type:"button",className:`flex-1 py-2 ${n==="email"?"bg-blue-600 text-white":"bg-gray-200"}`,onClick:()=>t("email"),children:"Email"}),V.jsx("button",{type:"button",className:`flex-1 py-2 ${n==="phone"?"bg-blue-600 text-white":"bg-gray-200"}`,onClick:()=>t("phone"),children:"Phone"})]}),n==="email"?V.jsx(yX,{onPhoneEnrollRequested:i}):V.jsx(vX,{clearEmailAndPasswordErrors:()=>{}})]})})},bX=({confirmPassword:n,setConfirmPassword:t,password:i,setConfirmPasswordErrors:r})=>{const[s,o]=Ee.useState([]),[a,c]=Ee.useState(!1),l=p=>{const{value:y}=p.target;t(y);const d=ZM(y).concat(y!==i?["Passwords do not match"]:[]);r(d),o(d)},u=p=>{c(Sy(p))};return V.jsxs("div",{children:[V.jsx(oi,{label:"Confirm Password",type:"password",value:n,onChange:l,onKeyDown:u,errors:s,placeholder:"Confirm your password"}),a&&V.jsx(On,{message:"Caps Lock is on",type:"warning"})]})},xX=60,nj=3;function wX({onRegister:n}){const t=ds(),[i,r]=Ee.useState(""),[s,o]=Ee.useState(""),[a,c]=Ee.useState(""),[l,u]=Ee.useState(!1),[p,y]=Ee.useState(""),[d,f]=Ee.useState([]),[b,g]=Ee.useState([]),[v,_]=Ee.useState([]),[x,w]=Ee.useState([]),[S,R]=Ee.useState("form"),[D,A]=Ee.useState(null),[C,j]=Ee.useState(!1),[P,O]=Ee.useState(0),[L,N]=Ee.useState(0),q=Ee.useRef(null),[W,Y]=Ee.useState(null);Ee.useEffect(()=>(P>0&&(q.current&&window.clearInterval(q.current),q.current=window.setInterval(()=>{O(Q=>Q<=1?(q.current&&(window.clearInterval(q.current),q.current=null),0):Q-1)},1e3)),()=>{q.current&&(window.clearInterval(q.current),q.current=null)}),[P]);async function J(Q){if(Q.preventDefault(),!C){if(s!==a){A({text:"Passwords do not match.",type:"error"});return}if(d.length||b.length||v.length||x.length){A({text:"Please fix the errors in the form.",type:"error"});return}j(!0),A(null);try{const ne=await oO(Sr,i.trim(),s);Y(ne.user),await eg(ne.user),l&&!x.length&&p?localStorage.setItem("pending_phone_e164",p):localStorage.removeItem("pending_phone_e164"),n==null||n(i,s,l?p:void 0),R("email-sent"),A({text:`We sent a verification email to ${i}. Open it, click the link, then come back and press Ive verified  check again.`,type:"success"})}catch(ne){A({text:(ne==null?void 0:ne.message)||"Registration failed.",type:"error"})}finally{j(!1)}}}async function te(Q=!1){if(!C){if(!Sr.currentUser&&!W){A({text:"Not signed in. Please register again.",type:"error"});return}j(!0);try{const ne=Sr.currentUser||W;await eg(ne),A({text:Q?"Sent another verification email automatically.":"Verification email sent again.",type:"success"}),N(0),O(xX)}catch(ne){A({text:(ne==null?void 0:ne.message)||"Could not resend right now. Please wait a bit.",type:"error"})}finally{j(!1)}}}async function ee(){if(!C){j(!0);try{const Q=Sr.currentUser||W;if(!Q){A({text:"Not signed in. Please register again.",type:"error"});return}if(await Qg(Q),Q.emailVerified){A({text:"Email verified! You can now log in.",type:"success"}),setTimeout(()=>t("/login"),700);return}const ne=L+1;N(ne),ne>=nj&&P===0?(A({text:"Still not verified. Sending you another verification email",type:"info"}),await te(!0)):A({text:"Not verified yet. Please click the link in your email, then press Check again.",type:"info"})}catch(Q){A({text:(Q==null?void 0:Q.message)||"Could not check verification status right now.",type:"error"})}finally{j(!1)}}}return V.jsxs("div",{className:"max-w-md mx-auto mt-10 p-6 bg-white rounded shadow space-y-4",children:[D&&V.jsx(On,{message:D.text,type:D.type}),S==="form"&&V.jsxs("form",{onSubmit:J,className:"space-y-4",children:[V.jsx(t4,{email:i,setEmail:r,setEmailErrors:f,errors:d}),V.jsx(r4,{password:s,setPassword:o,setPasswordErrors:g,errors:b}),V.jsx(bX,{confirmPassword:a,setConfirmPassword:c,password:s,setConfirmPasswordErrors:_}),V.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[V.jsx("input",{type:"checkbox",checked:l,onChange:Q=>u(Q.target.checked)}),V.jsx("span",{children:"Save phone for MFA on first login"})]}),l&&V.jsx(Ry,{phoneNumber:p,setPhoneNumber:y,setPhoneErrors:w,errors:x}),V.jsx(Xn,{type:"submit",className:"w-full py-2 bg-blue-600 text-white rounded",disabled:C,children:"Create account & send verification email"})]}),S==="email-sent"&&V.jsxs("div",{className:"space-y-3",children:[V.jsxs("div",{className:"flex gap-2",children:[V.jsx(Xn,{onClick:ee,disabled:C,className:"flex-1 bg-green-600 text-white",children:"Ive verified  check again"}),V.jsx(Xn,{onClick:()=>t("/login"),className:"flex-1",children:"Go to login"})]}),V.jsxs("div",{className:"flex items-center gap-2",children:[V.jsx(Xn,{onClick:()=>te(!1),disabled:C||P>0,className:"bg-indigo-600 text-white",children:P>0?`Resend in ${P}s`:"Resend verification email"}),V.jsx("span",{className:"text-sm text-gray-600",children:L>0&&`Checks failed: ${L}/${nj}`})]}),V.jsx("p",{className:"text-xs text-gray-500",children:"Tip: keep this page open after clicking the link, then press Check again."})]})]})}const SX=()=>{ds();const n=async(t,i,r)=>{console.log("Registering user with:",{email:t,password:i,phoneNumber:r})};return V.jsx(Kn,{bgColor:"bg-gray-100",children:V.jsxs("div",{className:"w-full max-w-lg bg-white p-8 rounded-lg shadow-md border border-gray-300",children:[V.jsx("h1",{className:"text-4xl font-bold mb-4 text-center",children:"Register"}),V.jsx(wX,{onRegister:n})]})})},TX=()=>{const[n,t]=Ee.useState(""),[i,r]=Ee.useState([]),[s,o]=Ee.useState({message:"",type:""}),[a,c]=Ee.useState(!1),l=y=>{const{value:d}=y.target;t(d),r(_w(d)),o({message:"",type:""})},u=y=>{c(Sy(y))},p=async y=>{if(y.preventDefault(),o({message:"",type:""}),i.length===0)try{await aO(Sr,n),o({message:"Password reset email sent. Please check your inbox and spam box.",type:"success"})}catch(d){o({message:`Error: ${d.message}`,type:"error"})}else o({message:"Please fix the errors in the form.",type:"error"})};return V.jsx(Kn,{bgColor:"bg-gray-100",children:V.jsx("div",{className:"flex flex-col items-center justify-top",children:V.jsxs("div",{className:"w-full max-w-lg bg-white p-8 rounded-lg shadow-md border border-gray-300",children:[V.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Reset Password"}),V.jsxs("form",{className:"space-y-4",onSubmit:p,children:[V.jsx(oi,{label:"Email",type:"email",value:n,onChange:l,onKeyDown:u,errors:i,placeholder:"Enter your email"}),a&&V.jsx("p",{className:"text-yellow-500 text-sm mt-1",children:"Caps Lock is on"}),s.message&&V.jsx(On,{message:s.message,type:s.type}),V.jsx(Xn,{type:"submit",className:"w-full bg-blue-500 hover:bg-blue-700 border border-blue-700",children:"Reset Password"})]})]})})})},Kp=async n=>{if(n.emailVerified)return n;throw await eg(n),await lO(Sr),new Error("Please verify your email address. A verification email has been sent.")},EX=async()=>{try{const n=new _o,t=await Np(Sr,n);await Kp(t.user)}catch(n){throw console.error("Error during Google sign-in:",n),n}},CX=async()=>{try{const n=new bo,t=await Np(Sr,n);await Kp(t.user)}catch(n){throw console.error("Error during GitHub sign-in:",n),n}},AX=async()=>{try{const n=new vo,t=await Np(Sr,n);await Kp(t.user)}catch(n){throw console.error("Error during Facebook sign-in:",n),n}},jX=async()=>{try{const n=new al,t=await Np(Sr,n);await Kp(t.user)}catch(n){throw console.error("Error during Twitter sign-in:",n),n}},RX=async()=>{try{const n=new hl("microsoft.com"),t=await Np(Sr,n);return await Kp(t.user)}catch(n){throw console.error("Error during Microsoft sign-in:",n),n}},OX=async(n,t)=>{const i=await oO(Sr,n,t);return await eg(i.user),i},IX=(n,t)=>B_(Sr,n,t),H4=()=>lO(Sr),kX=n=>aO(Sr,n),MX=(n,t)=>yO(Sr,n,t),PX=()=>{window.recaptchaVerifier||(window.recaptchaVerifier=new Dp("recaptcha-container",{size:"invisible",callback:n=>{}},Sr))},DX=n=>l6(Sr,n),NX=()=>{const n=ds();return Ee.useEffect(()=>{(async()=>{try{await H4(),setTimeout(()=>{n("/thank-you",{state:{type:"logout"}})},3e3)}catch(i){console.error("Error logging out:",i)}})()},[n]),V.jsx(Kn,{bgcolor:"mango-100",children:V.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100",children:V.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Logging out..."})})})},W4=""+new URL("parkinson-tremors-DhOlUiKQ.gif",import.meta.url).href,LX=""+new URL("stock-vector-8OxW1AOO.jpg",import.meta.url).href,FX=({toggleSidebar:n})=>V.jsxs("header",{className:"w-screen bg-gray-500 p-2 px-6 shadow-md flex items-center justify-between relative z-10",children:[V.jsx("button",{onClick:n,className:"text-gray-200 hover:text-gray-400 focus:outline-none",children:V.jsx("img",{src:W4,alt:"Caltech Logo",className:"w-22 h-8 ml-4"})}),V.jsxs("div",{className:"flex-1 flex justify-center items-center space-x-2 relative",children:[V.jsx("span",{className:"text-5xl font-bold text-white",children:"Stable"}),V.jsx("div",{className:"relative flex justify-center items-center",children:V.jsx("div",{className:"logo-wrapper",children:V.jsx("img",{src:LX,alt:"StableHand Logo",className:"logo"})})}),V.jsx("span",{className:"text-5xl font-bold text-white",children:"Hand"})]}),V.jsx("div",{className:"w-6"})]}),q4=""+new URL("caltech_logo-DHlqFY5q.png",import.meta.url).href,UX=""+new URL("caltechlogo2-BTyxa97Z.png",import.meta.url).href,BX=({isVisible:n,toggleSidebar:t})=>{const i=Cc(),r=JSON.parse(localStorage.getItem("visitedPages")||"[]"),s=[{id:1,path:"/",label:"Welcome",submenu:[{id:2,path:"/login",label:"Login"},{id:3,path:"/register",label:"Register"},{id:4,path:"/reset-password",label:"Reset Password"},{id:5,path:"/logout",label:"Logout"}]},{id:6,path:"/stablehand-welcome",label:"Welcome to Stablehand",submenu:[{id:7,path:"/disclaimer",label:"Disclaimer"},{id:8,path:"/background",label:"Background"},{id:23,path:"/enduserguide",label:"EndUser Guide"},{id:9,path:"/demographics",label:"Demographics"},{id:10,path:"/medical-interview",label:"Medical Interview"},{id:11,path:"/parkinson-interview",label:"Parkinson Interview"},{id:12,path:"/therapy",label:"Therapy"},{id:13,path:"/feedbackandprogress-notes",label:"FeedBack & Progress Notes"},{id:14,path:"/therapyfeedback-notes",label:"Therapy FeedBack Notes"}]},{id:15,submenu:[{id:16,path:"/privacy-policy",label:"Privacy Policy"},{id:17,path:"/data-deletion-instructions",label:"Data Deletion"},{id:18,path:"/terms-of-service",label:"Terms Of Service"}]},{id:19,submenu:[{id:20,path:"/setting",label:"Setting"},{id:21,path:"/account",label:"Account"},{id:22,path:"/contact",label:"Contact Us"},{id:23,path:"/logout",label:"Logout"}]}],o=()=>t(!0),a=()=>t(!1);return V.jsxs(V.Fragment,{children:[V.jsx("div",{className:"fixed top-0 left-0 h-full bg-transparent w-2 z-50",onMouseEnter:o}),V.jsx("div",{className:`fixed top-0 left-0 h-full bg-gray-500 shadow-lg transition-transform transform ${n?"translate-x-0":"-translate-x-full"} w-52 pt-16 z-50 rounded-lg`,onMouseLeave:a,children:V.jsxs("div",{className:"p-4 flex flex-col justify-between h-full overflow-y-auto bg-gray-500 shadow-lg rounded-md border border-gray-300",children:[V.jsx("div",{children:V.jsx("ul",{className:"space-y-2",children:s.map(c=>V.jsx("li",{className:`mb-2 ${r.includes(c.path||"")||i.pathname===c.path?"text-white":"text-gray-400"}`,children:c.submenu?V.jsxs("div",{className:"p-2 rounded hover:bg-gray-200",children:[c.path&&V.jsx(Fn,{to:c.path,className:"block p-2 rounded hover:bg-gray-200",children:c.label}),V.jsx("ul",{className:"ml-2 mt-2 bg-gray-500 rounded-lg border border-gray-300",children:c.submenu.map(l=>V.jsx("li",{className:"mb-2",children:V.jsx(Fn,{to:l.path,className:`block p-2 rounded hover:bg-red-200 ${i.pathname===l.path?"text-black-500":"text-gray-400"}`,children:l.label})},l.id))})]}):c.path&&V.jsx(Fn,{to:c.path,className:`block p-2 rounded hover:bg-red-200 ${i.pathname===c.path?"text-black-500":"text-gray-400"}`,children:c.label})},c.id))})}),V.jsxs("div",{className:"p-4 bg-gray-500 shadow-lg rounded-md border border-gray-300",children:[V.jsx("img",{src:UX,alt:"Caltech Logo 2",className:"w-18 h-18 mb-2"}),V.jsx("img",{src:q4,alt:"Caltech Logo",className:"w-18 h-18 mb-2"})]})]})})]})},VX=""+new URL("flameLogo-DAQQ0Vhe.png",import.meta.url).href,GX=()=>V.jsxs("footer",{className:"w-screen bg-gray-500 p-4 rounded-sm shadow-md flex justify-between items-end relative",children:[V.jsx("div",{className:"footer-wedge relative flex items-end h-full",children:V.jsx("div",{className:"flame-logo mb-1 z-12",children:V.jsx("img",{src:VX,alt:"Flame Logo",className:"w-12 h-auto"})})}),V.jsxs("div",{className:"flex flex-col items-end text-right ml-auto mr-4",children:[V.jsx("img",{src:q4,alt:"Caltech Logo",className:"w-18 h-8 mb-2"}),V.jsx("p",{className:"text-xs text-white",children:" 2024 StableHand, StableGait, StableGrip All Rights Reserved"})]})]}),zX=()=>{const t=Cc().state||{type:"default",score:null,percentagescore:null},i=()=>{switch(t.type){case"logout":return V.jsxs(V.Fragment,{children:[V.jsx("p",{children:"Thank you for visiting. We hope you have enjoyed your session. See you soon!"}),V.jsx(Fn,{to:"/login",className:"text-blue-500 hover:text-blue-700",children:"Go to Login"})]});case"registration":return V.jsxs(V.Fragment,{children:[V.jsx("p",{children:"Thank you for registering! Please check your email for verification."}),V.jsx(Fn,{to:"/login",className:"text-blue-500 hover:text-blue-700",children:"Go to Login"})]});case"demographics":return V.jsxs(V.Fragment,{children:[V.jsx("p",{children:"Thank you for submitting your demographics information."}),V.jsx(Fn,{to:"/medical-interview",className:"text-blue-500 hover:text-blue-700",children:"Please proceed to the Medical Interview section"})]});case"medical":return V.jsxs(V.Fragment,{children:[V.jsx("p",{children:"Thank you for completing the Medical Interview."}),V.jsx(Fn,{to:"/parkinson-interview",className:"text-blue-500 hover:text-blue-700",children:"Please proceed to the Parkinson Interview section"})]});case"parkinsons":return V.jsxs(V.Fragment,{children:[V.jsx("p",{children:"Thank you for completing the Parkinson's survey."}),V.jsxs("p",{children:["Your score is ",t.score,", (",t.percentagescore,"%)."]}),V.jsx(Fn,{to:"/therapy",className:"text-blue-500 hover:text-blue-700",children:"Proceed to Therapy Session"})]});case"disclaimer":return V.jsxs(V.Fragment,{children:[V.jsx("p",{children:"Thank you for acknowledging the disclaimer."}),V.jsx(Fn,{to:"/demographics",className:"text-blue-500 hover:text-blue-700",children:"Proceed to Demographics"})]});case"therapysession":return V.jsxs(V.Fragment,{children:[V.jsx("p",{children:"Thank you for completing the therapy session."}),V.jsx(Fn,{to:"/progress",className:"text-blue-500 hover:text-blue-700",children:"Proceed to Progress Notes"}),V.jsx(Fn,{to:"/logout",className:"text-blue-500 hover:text-blue-700",children:"or logout"})]});default:return V.jsx("p",{children:"Thank you for your submission!"})}};return V.jsx(Kn,{children:V.jsxs(yR,{children:[V.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Thank You!"}),V.jsx("div",{className:"text-lg",children:i()})]})})},HX=({onEnrollmentComplete:n})=>{const[t,i]=Ee.useState(""),[r,s]=Ee.useState([]),[o,a]=Ee.useState(""),[c,l]=Ee.useState(!1),[u,p]=Ee.useState({message:"",type:""}),y=Ee.useRef(null),d=lx(),f=d.currentUser;Ee.useEffect(()=>{y.current||(y.current=new Dp("recaptcha-container",{size:"invisible",callback:()=>console.log("reCAPTCHA solved."),"expired-callback":()=>{var v;console.log("reCAPTCHA expired. Resetting..."),(v=y.current)==null||v.reset()}},d))},[d]);const b=async v=>{v.preventDefault();const _=bw(t);if(s(_),_.length>0){p({message:"Please fix phone number errors.",type:"error"});return}try{if(!y.current){p({message:"reCAPTCHA not initialized.",type:"error"});return}const x=await td(f).getSession(),w={phoneNumber:t,session:x},R=await new ws(d).verifyPhoneNumber(w,y.current);window.verificationId=R,l(!0),p({message:"Verification code sent to your phone.",type:"success"})}catch(x){console.error("Error sending SMS:",x),p({message:`Error: ${x.message}`,type:"error"})}},g=async v=>{v.preventDefault();try{const _=window.verificationId,x=ws.credential(_,o),w=ty.assertion(x);await td(f).enroll(w,"Phone Number"),p({message:"Phone number successfully linked to your account.",type:"success"}),n&&n()}catch(_){console.error("Error verifying code:",_),p({message:`Error verifying code: ${_.message}`,type:"error"})}};return V.jsx("div",{children:c?V.jsxs("form",{onSubmit:g,children:[V.jsx(oi,{label:"Verification Code",name:"verificationCode",type:"text",value:o,onChange:v=>a(v.target.value),placeholder:"Enter the code sent to your phone",errors:[]}),u.message&&V.jsx(On,{message:u.message,type:u.type}),V.jsx(Xn,{type:"submit",className:"w-full bg-green-500 hover:bg-green-700",children:"Verify Code and Link Phone"})]}):V.jsxs("form",{onSubmit:b,children:[V.jsx(Ry,{phoneNumber:t,setPhoneNumber:i,setPhoneErrors:s,errors:r}),u.message&&V.jsx(On,{message:u.message,type:u.type}),V.jsx(Xn,{type:"submit",className:"w-full bg-blue-500 hover:bg-blue-700",children:"Send Verification Code"}),V.jsx("div",{id:"recaptcha-container"})]})})},WX=()=>{const[n,t]=Ee.useState(!1);return Ee.useEffect(()=>{const r=lx().currentUser;if(!r)return;const s=r.providerData.map(c=>c.providerId),o=s.includes("password");s.includes("phone");const a=td(r).enrolledFactors.length>0;o&&!a&&t(!0)},[]),V.jsx(Kn,{children:V.jsxs(yR,{children:[V.jsx("h1",{className:"text-4xl font-bold mb-6",children:"Welcome to StableHand Clinical Trial Dashboard"}),n?V.jsx(HX,{onEnrollmentComplete:()=>t(!1)}):V.jsxs("div",{className:"flex flex-col space-y-4",children:[V.jsx(Fn,{to:"/disclaimer",className:"w-full bg-blue-500 hover:bg-blue-700 text-white p-2 rounded",children:"Disclaimer"}),V.jsx(Fn,{to:"/background",className:"w-full bg-teal-500 hover:bg-green-700 text-white p-2 rounded",children:"Background"}),V.jsx(Fn,{to:"/enduserguide",className:"w-full bg-green-500 hover:bg-green-700 text-white p-2 rounded",children:"End User Guide"}),V.jsx(Fn,{to:"/demographics",className:"w-full bg-yellow-500 hover:bg-yellow-700 text-white p-2 rounded",children:"Demographics"}),V.jsx(Fn,{to:"/medical-interview",className:"w-full bg-orange-500 hover:bg-orange-700 text-white p-2 rounded",children:"Medical Interview"}),V.jsx(Fn,{to:"/parkinson-interview",className:"w-full bg-red-500 hover:bg-red-700 text-white p-2 rounded",children:"Parkinson Interview (PDQ-39)"}),V.jsx(Fn,{to:"/therapy",className:"w-full bg-purple-500 hover:bg-purple-700 text-white p-2 rounded",children:"Therapy"}),V.jsx(Fn,{to:"/feedbackandprogress-notes",className:"w-full bg-orange-500 hover:bg-gray-700 text-white p-2 rounded",children:"FeedBack & Progress Notes"}),V.jsx(Fn,{to:"//therapyfeedback-notes",className:"w-full bg-pink-500 hover:bg-gray-700 text-white p-2 rounded",children:"Therapy FeedBack Notes"})]})]})})},qX=()=>{const[n,t]=Ee.useState({name:"",email:"",message:""}),[i,r]=Ee.useState(""),s=a=>{const{name:c,value:l}=a.target;t({...n,[c]:l})},o=async a=>{a.preventDefault(),r("Sending...");try{const c=Sr.currentUser;if(await mp(Ra(Ds,"messages"),{...n,userId:c?c.uid:"anonymous",timestamp:new Date}),c){const l=Ra(Ds,`users/${c.uid}/messages`);await mp(l,{...n,timestamp:new Date})}r("Message sent! We will get back to you shortly."),t({name:"",email:"",message:""})}catch(c){console.error("Error sending message:",c),r("Error sending message. Please try again later.")}};return V.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:V.jsxs("div",{className:"w-full max-w-lg p-8 bg-white shadow-md rounded-lg",children:[V.jsx("h2",{className:"text-2xl font-semibold text-center mb-6",children:"Contact Us"}),V.jsxs("form",{onSubmit:o,className:"space-y-4",children:[V.jsxs("div",{children:[V.jsx("label",{className:"block mb-1 font-medium",htmlFor:"name",children:"Name"}),V.jsx("input",{type:"text",id:"name",name:"name",value:n.name,onChange:s,className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400",required:!0})]}),V.jsxs("div",{children:[V.jsx("label",{className:"block mb-1 font-medium",htmlFor:"email",children:"Email"}),V.jsx("input",{type:"email",id:"email",name:"email",value:n.email,onChange:s,className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400",required:!0})]}),V.jsxs("div",{children:[V.jsx("label",{className:"block mb-1 font-medium",htmlFor:"message",children:"Message"}),V.jsx("textarea",{id:"message",name:"message",value:n.message,onChange:s,className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400",rows:4,required:!0})]}),V.jsx("button",{type:"submit",className:"w-full bg-blue-500 text-white py-2 px-4 rounded-lg hover:bg-blue-600 transition-colors",children:"Send Message"})]}),i&&V.jsx("p",{className:"mt-4 text-center",children:i})]})})},YX=()=>V.jsx(Kn,{bgColor:"bg-green-500",children:V.jsxs("div",{className:"max-w-3xl mx-auto bg-green-100 p-6 rounded-lg shadow-md border border-gray-300",children:[V.jsx("h1",{className:"text-4xl font-bold text-center mb-6",children:"Study Background"}),V.jsx("p",{children:"Parkinsons disease is a progressive nervous system disorder that affects movement, muscle control, and balance. Early detection and continuous monitoring of motor symptoms are critical for personalized treatment planning."}),V.jsx("p",{children:"StableHand Typing uses a series of controlled typing exercises to capture subtle changes in fine motor control. By analyzing keystroke dynamicstiming, speed, and accuracywe can track symptom progression over time."}),V.jsx("p",{children:"In this study, participants will complete typing tasks under various backgrounds and conditions. Your performance data helps researchers develop digital biomarkers for Parkinsons and similar motor disorders."}),V.jsxs("div",{children:[V.jsx("h2",{className:"text-2xl font-semibold",children:"Watch a Quick Overview"}),V.jsxs("video",{controls:!0,className:"w-full rounded-lg shadow-md",children:[V.jsx("source",{src:"/videos/study-overview.mp4",type:"video/mp4"}),"Your browser does not support the video tag."]})]}),V.jsxs("div",{children:[V.jsx("h2",{className:"text-2xl font-semibold",children:"What to Expect"}),V.jsx("div",{className:"aspect-video",children:V.jsx("iframe",{className:"w-full h-full rounded-lg shadow-md",src:"https://www.youtube.com/embed/VIDEO_ID",title:"StableHand Typing Overview",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})]}),V.jsx("p",{children:"If you have any questions about the study protocol, data privacy, or technical requirements, please consult the FAQ or contact the study coordinator via the Help link below."})]})}),Y4=Ee.createContext(void 0),Rc=()=>{const n=Ee.useContext(Y4);if(!n)throw new Error("useAuth must be used within an AuthProvider");return n},$4=({children:n})=>{const[t,i]=Ee.useState(null),[r,s]=Ee.useState(!0);Ee.useEffect(()=>DX(c=>{i(c?{...c}:null),s(!1)}),[]);const o={currentUser:t,loading:r,registerWithEmail:OX,loginWithEmail:IX,logout:H4,resetPassword:kX,signInWithGoogle:EX,signInWithGitHub:CX,signInWithFacebook:AX,signInWithTwitter:jX,signInWithMicrosoft:RX,signInWithPhone:MX,initializeRecaptcha:PX};return V.jsx(Y4.Provider,{value:o,children:!r&&n})},Sa=({label:n,name:t,value:i,onChange:r,options:s=[],errors:o=[],onKeyDown:a})=>V.jsxs("div",{className:"mb-4",children:[V.jsx("label",{htmlFor:t,className:"block text-sm font-medium text-gray-700",children:n}),V.jsxs("select",{id:t,name:t,value:i,onChange:r,onKeyDown:a,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",children:[V.jsxs("option",{value:"",children:["Select ",n]}),s.map(c=>V.jsx("option",{value:c,children:c},c))]}),o.length>0&&V.jsx("div",{className:"mt-2",children:o.map((c,l)=>V.jsx(On,{message:c,type:"error"},l))})]}),X4=({label:n,name:t,value:i,options:r,onChange:s,errors:o=[]})=>{const[a,c]=Ee.useState(i==="Other"),[l,u]=Ee.useState(a?i:""),p=d=>{const f=d.target.value;f==="Other"?(c(!0),s({target:{name:t,value:l}})):(c(!1),s({target:{name:t,value:f}}))},y=d=>{const f=d.target.value;u(f),s({target:{name:t,value:f}})};return V.jsxs("div",{className:"mb-4",children:[V.jsx("label",{htmlFor:t,className:"block text-sm font-medium text-gray-700 mb-2",children:n}),V.jsxs("select",{id:t,name:t,value:a?"Other":i,onChange:p,className:`w-full px-3 py-2 border rounded ${o.length>0?"border-red-500":"border-gray-300"}`,children:[V.jsxs("option",{value:"",disabled:!0,children:["Select ",n.toLowerCase()]}),r.map(d=>V.jsx("option",{value:d,children:d},d)),V.jsx("option",{value:"Other",children:"Other"})]}),a&&V.jsx("input",{id:`${t}_other`,type:"text",name:`${t}_other`,value:l,onChange:y,placeholder:"Please specify",className:`mt-2 block w-full p-2 border ${o.length>0?"border-red-500":"border-gray-300"} rounded-md`}),o.length>0&&V.jsx(On,{message:o.join(", "),type:"error"})]})},Oy=({label:n,name:t,value:i,onChange:r,options:s,errors:o=[]})=>{const a=s.map(u=>({label:u,value:u})),c=a.filter(u=>i.includes(u.value)),l=u=>{let p=u?u.map(y=>y.value):[];p.includes("Prefer not to say")?p=["Prefer not to say"]:p=p.filter(y=>y!=="Prefer not to say"),r(p,t)};return V.jsxs("div",{className:"mb-4",children:[V.jsx("label",{className:"block text-sm font-medium text-gray-700",children:n}),V.jsx(Mw,{isMulti:!0,options:a,value:c,onChange:l,className:"mt-1 text-sm",classNamePrefix:"react-select"}),o.length>0&&V.jsx("div",{className:"mt-1",children:o.map((u,p)=>V.jsx(On,{message:u,type:"error"},p))})]})},ol=({label:n,name:t,value:i,onChange:r,errors:s=[]})=>V.jsxs("div",{className:"mb-4",children:[V.jsx("label",{htmlFor:t,className:"block text-sm font-medium text-gray-700",children:n}),V.jsx("textarea",{id:t,name:t,value:i,onChange:r,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm h-32 resize-y overflow-auto"}),s.length>0&&V.jsx("div",{className:"mt-2",children:s.map((o,a)=>V.jsx(On,{message:o,type:"error"},a))})]}),K4=({label:n,name:t,values:i,onChange:r,options:s,errors:o=[]})=>{const[a,c]=Ee.useState(""),[l,u]=Ee.useState(!1),y=[...s.map(v=>({label:v,value:v})),{label:"Other",value:"Other"}];Ee.useEffect(()=>{const v=i.find(_=>!s.includes(_)&&_!=="Other"&&_!=="None"&&_!=="Prefer not to say");v&&c(v)},[i]);const d=v=>{let _=v?v.map(w=>w.value):[];if(_.includes("None"))return c(""),u(!1),r(["None"],t);if(_.includes("Prefer not to say"))return c(""),u(!1),r(["Prefer not to say"],t);_.includes("Other")?u(!0):(u(!1),c(""));const x=_.filter(w=>s.includes(w)||w==="Other");r(x,t)},f=v=>{const _=v.target.value;c(_);const x=i.filter(S=>s.includes(S)&&S!=="Other"),w=_.trim()?[...x,_.trim()]:x;r(w,t)},b=v=>{v.key==="Enter"&&(v.preventDefault(),u(!1))},g=i.map(v=>y.find(_=>_.value===v)||{label:v,value:v});return V.jsxs("div",{className:"mb-4",children:[V.jsx("label",{htmlFor:t,className:"block text-sm font-medium text-gray-700",children:n}),V.jsx(Mw,{id:t,isMulti:!0,name:t,value:g,onChange:d,options:y,className:"mt-1 text-sm",classNamePrefix:"react-select"}),l&&V.jsx("input",{type:"text",value:a,onChange:f,onKeyDown:b,placeholder:"Please specify",className:`mt-2 block w-full p-2 border ${o.length?"border-red-500":"border-gray-300"} rounded-md`}),o.length>0&&V.jsx("div",{className:"mt-2",children:o.map((v,_)=>V.jsx(On,{message:v,type:"error"},_))})]})},Q4=({logText:n,logFileName:t})=>{const i=Ee.useRef(null);return Ee.useEffect(()=>{const r=i.current;r&&(r.scrollTop=r.scrollHeight)},[n]),V.jsx("div",{children:V.jsxs(Container,{fluid:!0,children:[V.jsx(Row,{children:""}),V.jsx(Row,{children:""}),V.jsxs(Row,{children:[V.jsx(Col,{}),V.jsx(Col,{children:V.jsxs("h6",{children:["Current Log: ",t]})}),V.jsx(Col,{})]}),V.jsx(Row,{children:V.jsx(Col,{children:V.jsx("textarea",{value:n,readOnly:!0,ref:i,className:"w-100"})})})]})})},Cd=()=>{const[n,t]=Ee.useState("");return Ee.useEffect(()=>{const i=()=>{t(new Date().toLocaleString())};i();const r=setInterval(i,6e4);return()=>clearInterval(r)},[]),V.jsxs("div",{className:"text-sm text-gray-600",children:[V.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Current Date and Time"}),V.jsx("input",{type:"text",value:n,readOnly:!0,className:"w-auto px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm bg-gray-200"})]})},$X=["Male","Female","HomoSexual","BiSexual","TransSexual","Prefer not to say"],XX=["White","Caucasian","African-American","Black","Native Hawaiian or Pacific Islander","Asian","Hispanic","Prefer not to say"],KX=["<20,000","20,000-50,000","50,000-100,000","100,000+","Prefer not to say"],QX=["Employed","Unemployed","Retired","Self-Employed","Seeking opportunities","Prefer not to say"],ZX=["None","High School","Associate Degree","Bachelor's Degree","Master's Degree","Doctorate","Prefer not to say"],JX=["Single","Married","Divorced","Widowed","Prefer not to say"],ij=["English","Spanish","Portuguese","French","Mandarin","Chinese","Hindi","Arabic","Prefer not to say"],eK=["NA","Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut","Delaware","Florida","Georgia","Hawaii","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana","Nebraska","Nevada","New Hampshire","New Jersey","New Mexico","New York","North Carolina","North Dakota","Ohio","Oklahoma","Oregon","Pennsylvania","Rhode Island","South Carolina","South Dakota","Tennessee","Texas","Utah","Vermont","Virginia","Washington","West Virginia","Wisconsin","Wyoming"],p_=["United States","Canada","Mexico","United Kingdom","Germany","France","India","China","Japan"],tK=["North America","Europe","Africa","South America","Asia","Australia","Caribbean Islands","Pacific Islands","Prefer not to say"],rK=["None","Dog","Cat","Fish","Bird","Rabit","Reptile","Prefer not to say"],nK=["None","Biking","Fashion","Design","Crafts","Traveling","Camping","Gourmet food","Physical fitness","Music","Sewing","Art","Antiques","Reading","Prefer not to answer"],iK=["None","Agriculture","Utilities","Finance","Entertainment","Education","Health care","Information services","Data processing","Food services","Hotel services","Legal services","Publishing","Military","Prefer not to say"],g0=[{label:"First Name",name:"firstName",type:"input",inputType:"text",placeholder:"Enter first name",validate:[sr]},{label:"Middle Name",name:"middleName",type:"input",inputType:"text",placeholder:"Enter middle name",validate:[QM]},{label:"Last Name",name:"lastName",type:"input",inputType:"text",placeholder:"Enter last name",validate:[sr]},{label:"Date of Birth",name:"dob",type:"input",inputType:"date",placeholder:"Enter date of birth",validate:[xw]},{label:"Age",name:"age",type:"input",inputType:"number",placeholder:"Enter your age",validate:[JM]},{label:"Gender",name:"gender",type:"select",options:$X,validate:[sr]},{label:"Ethnicity",name:"ethnicity",type:"selectWithOther",options:XX,validate:[sr]},{label:"Income",name:"income",type:"select",options:KX,validate:[sr]},{label:"Employment Status",name:"employmentStatus",type:"selectWithOther",options:QX,validate:[sr]},{label:"Education Level",name:"educationLevel",type:"selectWithOther",options:ZX,validate:[sr]},{label:"Address",name:"address",type:"input",inputType:"text",placeholder:"Enter address",validate:[sr]},{label:"City",name:"city",type:"input",inputType:"text",placeholder:"Enter city",validate:[Rh]},{label:"State",name:"state",type:"select",options:eK,validate:[sr]},{label:"ZIP Code",name:"zip",type:"input",inputType:"text",placeholder:"Enter ZIP code",validate:[uW]},{label:"Country",name:"country",type:"selectWithOther",options:p_,validate:[Rh]},{label:"Where Do You Reside",name:"residency",type:"selectWithOther",options:tK,validate:[Rh]},{label:"Phone Number",name:"phoneNumber",type:"input",inputType:"text",placeholder:"Enter phone number",validate:[bw]},{label:"Email",name:"email",type:"input",inputType:"email",placeholder:"Enter email",validate:[_w]},{label:"Country of Birth",name:"countryOfBirth",type:"selectWithOther",options:p_,validate:[Rh]},{label:"Citizenship",name:"citizenship",type:"selectWithOther",options:p_,validate:[Rh]},{label:"1st Languages",name:"1stlanguages",type:"selectWithOther",options:ij,validate:[sr]},{label:"2nd Languages",name:"2languages2",type:"multiSelect",options:ij,validate:[sr]},{label:"Profession",name:"profession",type:"selectWithOther",options:iK,validate:[Rh]},{label:"Marital Status",name:"maritalStatus",type:"select",options:JX,validate:[sr]},{label:"Number of Dependents",name:"dependents",type:"input",inputType:"number",placeholder:"Enter number of natural kids",validate:[gu]},{label:"Natural Kids",name:"naturalKids",type:"input",inputType:"number",placeholder:"Enter number of natural kids",validate:[gu]},{label:"Adopted Kids",name:"adoptedKids",type:"input",inputType:"number",placeholder:"Enter number of adopted kids",validate:[gu]},{label:"What type of Pets Do You Have",name:"petsTypes",type:"multiSelectWithOther",options:rK,validate:[SA]},{label:"Pets",name:"pets",type:"input",inputType:"number",placeholder:"Enter number of pets",validate:[gu]},{label:"Hobbies",name:"hobbies",type:"multiSelectWithOther",options:nK,validate:[SA]}],sK=()=>{const n=ds(),{currentUser:t}=Rc(),[i,r]=Ee.useState({}),[s,o]=Ee.useState({}),[a,c]=Ee.useState(null),l=d=>{const{name:f,value:b}=d.target;r(v=>({...v,[f]:b}));const g=g0.find(v=>v.name===f);if(g&&g.validate){const v=g.validate.map(_=>_(b,i)).flat();o(_=>({..._,[f]:v}))}else o(v=>({...v,[f]:[]}));c(null)},u=(d,f)=>{r(g=>({...g,[f]:d}));const b=g0.find(g=>g.name===f);if(b&&b.validate){const g=b.validate.map(v=>v(d,i)).flat();o(v=>({...v,[f]:g}))}else o(g=>({...g,[f]:[]}));c(null)},p=()=>{const d={};let f=!1;if(g0.forEach(b=>{const g=i[b.name];if(b.validate){const v=b.validate.map(_=>_(g,i)).flat();v.length>0&&(d[b.name]=v,f=!0)}}),i.dob&&i.age){const b=e4(i.dob,i.age);b.length>0&&(d.age=b,f=!0)}return o(d),!f},y=async d=>{if(d.preventDefault(),!p()){c({message:"Please fill all missing fields.",type:"error"});return}try{const f=new Date,b=f.toLocaleString(),g={...i,userId:t==null?void 0:t.uid,timestamp:f.toISOString(),localDateTime:b},v=Tl(Ra(Ds,`users/${t==null?void 0:t.uid}/demographics`));await Gu(v,g);const _=Object.entries(g).map(([w,S])=>Array.isArray(S)?`${w},"${S.join(";")}"`:`${w},${S}`).join(`
`),x=bs(xs,`users/${t==null?void 0:t.uid}/demographics/${f.toISOString()}.csv`);await py(x,_),c({message:"Data submitted successfully.",type:"success"}),setTimeout(()=>n("/thank-you",{state:{type:"demographics"}}),2e3)}catch(f){console.error("Error submitting demographics:",f),c({message:"Error submitting data. Please try again.",type:"error"})}};return V.jsxs(Kn,{bgColor:"bg-yellow-100",paddingX:"px-4",marginX:"mx-2",children:[V.jsx("h2",{className:"text-3xl font-bold mb-4 text-center",children:"Demographics Information"}),V.jsx(Cd,{}),V.jsxs("form",{onSubmit:y,children:[V.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:g0.map(d=>d.type==="input"?V.jsx(oi,{label:d.label,name:d.name,type:d.inputType,value:i[d.name]||"",onChange:l,placeholder:d.placeholder,errors:s[d.name]},d.name):d.type==="textareascroll"?V.jsx(ol,{label:d.label,name:d.name,value:i[d.name]||"",onChange:l,errors:s[d.name]},d.name):d.type==="autosizeinput"?V.jsx(Q4,{label:d.label,name:d.name,value:i[d.name]||"",onChange:l,placeholder:d.placeholder,errors:s[d.name]},d.name):d.type==="select"?V.jsx(Sa,{label:d.label,name:d.name,value:i[d.name]||"",onChange:l,options:d.options,errors:s[d.name]},d.name):d.type==="selectWithOther"?V.jsx(X4,{label:d.label,name:d.name,value:i[d.name]||"",onChange:l,options:d.options,errors:s[d.name]},d.name):d.type==="multiSelect"?V.jsx(Oy,{label:d.label,name:d.name,value:i[d.name]||[],onChange:f=>u(f,d.name),options:d.options,errors:s[d.name]},d.name):d.type==="multiSelectWithOther"?V.jsx(K4,{label:d.label,name:d.name,values:i[d.name]||[],onChange:f=>u(f,d.name),options:d.options,errors:s[d.name]},d.name):null)}),a&&V.jsx(On,{message:a.message,type:a.type}),V.jsx("div",{className:"flex justify-between items-center mt-6",children:V.jsx(Xn,{type:"submit",className:"w-full bg-blue-500 hover:bg-blue-700 border border-blue-700",children:"Submit"})})]})]})},aK=["Male","Female","Other","Prefer not to say"],oK=["Yes","No"],lK=["Never","Rarely","Occasionally","Frequently","Always"],cK=["Mother","Father","Sibling","Grandparent","Uncle/Aunt"],uK=["Essential Tremor","Parkinsonian Tremor","Dystonic Tremor","Cerebellar Tremor","Orthostatic Tremor","Other"],hK=["Right Hand","Left Hand","Head","Voice","Legs"],dK=["Mild","Moderate","Severe"],fK=["Propranolol","Primidone","Levodopa","Carbidopa","Topiramate","Gabapentin"],y0=[{label:"First Name",name:"firstName",type:"input",inputType:"text",placeholder:"Enter first name",validate:[sr]},{label:"Middle Name",name:"middleName",type:"input",inputType:"text",placeholder:"Enter middle name",validate:[QM]},{label:"Last Name",name:"lastName",type:"input",inputType:"text",placeholder:"Enter last name",validate:[sr]},{label:"Date of Birth",name:"dob",type:"input",inputType:"date",placeholder:"Enter date of birth",validate:[xw]},{label:"Age",name:"age",type:"input",inputType:"number",placeholder:"Enter your age",validate:[JM]},{label:"Gender",name:"gender",type:"select",options:aK,validate:[sr]},{label:"Chief Complaint",name:"chiefComplaint",type:"input",inputType:"textareascroll",placeholder:"Enter chief complaint",validate:[sr]},{label:"History of Present Illness",name:"historyPresentIllness",type:"textareascroll",inputType:"textarea",placeholder:"Enter history of present illness",validate:[sr]},{label:"Onset of Tremor",name:"onsetTremor",type:"input",inputType:"date",placeholder:"Enter onset date of tremor",validate:[sr]},{label:"Frequency of Tremor",name:"frequencyTremor",type:"select",options:lK,validate:[sr]},{label:"Medications",name:"medications",type:"input",inputType:"textareascroll",placeholder:"Enter current medications",validate:[sr]},{label:"Allergies",name:"allergies",type:"input",inputType:"textareascroll",placeholder:"Enter allergies",validate:[sr]},{label:"Family History of Tremor",name:"familyHistoryTremor",type:"multiSelectWithOther",options:cK,validate:[sr]},{label:"Past Medical History",name:"pastMedicalHistory",type:"input",inputType:"textareascroll",placeholder:"Enter past medical history",validate:[sr]},{label:"Neurological Examination Findings",name:"neurologicalExaminationFindings",type:"textareascroll",inputType:"textareascroll",placeholder:"Enter neurological examination findings",validate:[sr]},{label:"Type of Tremor",name:"tremorType",type:"selectWithOther",options:uK,validate:[sr]},{label:"Head Trauma History",name:"headTrauma",type:"selectWithOther",options:oK,validate:[sr]},{label:"Affected Body Parts",name:"affectedBodyParts",type:"multiSelect",options:hK,validate:[sr]},{label:"Onset of Tremor",name:"tremorOnset",type:"input",inputType:"date",placeholder:"Enter onset age or year",validate:[sr]},{label:"Tremor Severity",name:"tremorSeverity",type:"select",options:dK,validate:[sr]},{label:"Neurological Medications",name:"neurologicalMedications",type:"multiSelect",options:fK,validate:[]},{label:"Doses of Medications",name:"medicationDoses",type:"textareascroll",placeholder:"Enter medication and doses",validate:[sr]},{label:"Current Symptoms",name:"currentSymptoms",type:"textareascroll",placeholder:"Describe current symptoms",validate:[sr]},{label:"Additional Notes",name:"additionalNotes",type:"textareascroll",placeholder:"Any additional notes",validate:[]}],pK=()=>{const n=ds(),{currentUser:t}=Rc(),[i,r]=Ee.useState({}),[s,o]=Ee.useState({}),[a,c]=Ee.useState(null),l=d=>{const{name:f,value:b}=d.target;r(v=>({...v,[f]:b}));const g=y0.find(v=>v.name===f);if(g&&g.validate){const v=g.validate.map(_=>_(b,i)).flat();v.length===0?o(_=>({..._,[f]:[]})):o(_=>({..._,[f]:v}))}else o(v=>({...v,[f]:[]}));c(null)},u=(d,f)=>{r(g=>({...g,[f]:d}));const b=demographicFields.find(g=>g.name===f);if(b&&b.validate){const g=b.validate.map(v=>v(d,i)).flat();o(v=>({...v,[f]:g}))}else o(g=>({...g,[f]:[]}));c(null)},p=()=>{const d={};let f=!1;if(y0.forEach(b=>{const g=i[b.name];if(b.validate){const v=b.validate.map(_=>_(g,i)).flat();v.length>0&&(d[b.name]=v,f=!0)}}),i.dob&&i.age){const b=e4(i.dob,i.age);b.length>0&&(d.age=b,f=!0)}return o(d),!f},y=async d=>{if(d.preventDefault(),!p()){c({message:"Please fill all missing fields.",type:"error"});return}try{const f=new Date,b=f.toLocaleString(),g={...i,userId:(t==null?void 0:t.uid)||"anonymous",timestamp:f.toISOString(),localDateTime:b},v=Tl(Ra(Ds,`users/${t==null?void 0:t.uid}/medical-interviews`));await Gu(v,g);const _=Object.keys(g).map(w=>{const S=Array.isArray(g[w])?g[w].join(";"):g[w];return`${w},${S}`}).join(`
`),x=bs(xs,`users/${t==null?void 0:t.uid}/medical-interviews/${f.toISOString()}.csv`);await py(x,_),c({message:"Data submitted successfully.",type:"success"}),setTimeout(()=>{n("/thank-you",{state:{type:"medical"}})},2e3)}catch(f){console.error("Error submitting medical interviews:",f),c({message:"Error submitting data. Please try again.",type:"error"})}};return V.jsxs(Kn,{bgColor:"bg-orange-100",children:[V.jsx("h2",{className:"text-3xl font-bold mb-4 text-center",children:"Medical Interview"}),V.jsx(Cd,{}),V.jsxs("form",{onSubmit:y,children:[V.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-24",children:y0.filter(d=>d.type!=="textareascroll").map(d=>d.type==="input"?V.jsx(oi,{label:d.label,name:d.name,type:d.inputType,value:i[d.name]||"",onChange:l,placeholder:d.placeholder,errors:s[d.name]},d.name):d.type==="autosizeinput"?V.jsx(Q4,{label:d.label,name:d.name,value:i[d.name]||"",onChange:l,placeholder:d.placeholder,errors:s[d.name]},d.name):d.type==="select"?V.jsx(Sa,{label:d.label,name:d.name,value:i[d.name]||"",onChange:l,options:d.options,errors:s[d.name]},d.name):d.type==="selectWithOther"?V.jsx(X4,{label:d.label,name:d.name,value:i[d.name]||"",onChange:l,options:d.options,errors:s[d.name]},d.name):d.type==="multiSelect"?V.jsx(Oy,{label:d.label,name:d.name,value:i[d.name]||[],onChange:f=>u(f,d.name),options:d.options,errors:s[d.name]},d.name):d.type==="multiSelectWithOther"?V.jsx(K4,{label:d.label,name:d.name,values:i[d.name]||[],onChange:u,options:d.options,errors:s[d.name]},d.name):null)}),V.jsxs("div",{className:"mt-4",children:[V.jsx("h3",{className:"text-xl font-bold mb-4",children:"Additional Information"}),y0.filter(d=>d.type==="textareascroll").map(d=>V.jsx(ol,{label:d.label,name:d.name,value:i[d.name]||"",onChange:l,errors:s[d.name]},d.name))]}),a&&V.jsx(On,{message:a.message,type:a.type}),V.jsx("div",{className:"flex justify-between items-center mt-4",children:V.jsx(Xn,{type:"submit",className:"w-full bg-blue-500 hover:bg-blue-700 border border-blue-700",children:"Submit"})})]})]})};var W0={exports:{}};/* @license
Papa Parse
v5.4.1
https://github.com/mholt/PapaParse
License: MIT
*/var mK=W0.exports,sj;function gK(){return sj||(sj=1,function(n,t){(function(i,r){n.exports=r()})(mK,function i(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},s=!r.document&&!!r.postMessage,o=r.IS_PAPA_WORKER||!1,a={},c=0,l={parse:function(C,j){var P=(j=j||{}).dynamicTyping||!1;if(A(P)&&(j.dynamicTypingFunction=P,P={}),j.dynamicTyping=P,j.transform=!!A(j.transform)&&j.transform,j.worker&&l.WORKERS_SUPPORTED){var O=function(){if(!l.WORKERS_SUPPORTED)return!1;var N=(W=r.URL||r.webkitURL||null,Y=i.toString(),l.BLOB_URL||(l.BLOB_URL=W.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",Y,")();"],{type:"text/javascript"})))),q=new r.Worker(N),W,Y;return q.onmessage=x,q.id=c++,a[q.id]=q}();return O.userStep=j.step,O.userChunk=j.chunk,O.userComplete=j.complete,O.userError=j.error,j.step=A(j.step),j.chunk=A(j.chunk),j.complete=A(j.complete),j.error=A(j.error),delete j.worker,void O.postMessage({input:C,config:j,workerId:O.id})}var L=null;return l.NODE_STREAM_INPUT,typeof C=="string"?(C=function(N){return N.charCodeAt(0)===65279?N.slice(1):N}(C),L=j.download?new y(j):new f(j)):C.readable===!0&&A(C.read)&&A(C.on)?L=new b(j):(r.File&&C instanceof File||C instanceof Object)&&(L=new d(j)),L.stream(C)},unparse:function(C,j){var P=!1,O=!0,L=",",N=`\r
`,q='"',W=q+q,Y=!1,J=null,te=!1;(function(){if(typeof j=="object"){if(typeof j.delimiter!="string"||l.BAD_DELIMITERS.filter(function(re){return j.delimiter.indexOf(re)!==-1}).length||(L=j.delimiter),(typeof j.quotes=="boolean"||typeof j.quotes=="function"||Array.isArray(j.quotes))&&(P=j.quotes),typeof j.skipEmptyLines!="boolean"&&typeof j.skipEmptyLines!="string"||(Y=j.skipEmptyLines),typeof j.newline=="string"&&(N=j.newline),typeof j.quoteChar=="string"&&(q=j.quoteChar),typeof j.header=="boolean"&&(O=j.header),Array.isArray(j.columns)){if(j.columns.length===0)throw new Error("Option columns is empty");J=j.columns}j.escapeChar!==void 0&&(W=j.escapeChar+q),(typeof j.escapeFormulae=="boolean"||j.escapeFormulae instanceof RegExp)&&(te=j.escapeFormulae instanceof RegExp?j.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var ee=new RegExp(v(q),"g");if(typeof C=="string"&&(C=JSON.parse(C)),Array.isArray(C)){if(!C.length||Array.isArray(C[0]))return Q(null,C,Y);if(typeof C[0]=="object")return Q(J||Object.keys(C[0]),C,Y)}else if(typeof C=="object")return typeof C.data=="string"&&(C.data=JSON.parse(C.data)),Array.isArray(C.data)&&(C.fields||(C.fields=C.meta&&C.meta.fields||J),C.fields||(C.fields=Array.isArray(C.data[0])?C.fields:typeof C.data[0]=="object"?Object.keys(C.data[0]):[]),Array.isArray(C.data[0])||typeof C.data[0]=="object"||(C.data=[C.data])),Q(C.fields||[],C.data||[],Y);throw new Error("Unable to serialize unrecognized input");function Q(re,I,U){var H="";typeof re=="string"&&(re=JSON.parse(re)),typeof I=="string"&&(I=JSON.parse(I));var X=Array.isArray(re)&&0<re.length,ae=!Array.isArray(I[0]);if(X&&O){for(var le=0;le<re.length;le++)0<le&&(H+=L),H+=ne(re[le],le);0<I.length&&(H+=N)}for(var he=0;he<I.length;he++){var ye=X?re.length:I[he].length,me=!1,xe=X?Object.keys(I[he]).length===0:I[he].length===0;if(U&&!X&&(me=U==="greedy"?I[he].join("").trim()==="":I[he].length===1&&I[he][0].length===0),U==="greedy"&&X){for(var Se=[],pe=0;pe<ye;pe++){var Te=ae?re[pe]:pe;Se.push(I[he][Te])}me=Se.join("").trim()===""}if(!me){for(var ke=0;ke<ye;ke++){0<ke&&!xe&&(H+=L);var Me=X&&ae?re[ke]:ke;H+=ne(I[he][Me],ke)}he<I.length-1&&(!U||0<ye&&!xe)&&(H+=N)}}return H}function ne(re,I){if(re==null)return"";if(re.constructor===Date)return JSON.stringify(re).slice(1,25);var U=!1;te&&typeof re=="string"&&te.test(re)&&(re="'"+re,U=!0);var H=re.toString().replace(ee,W);return(U=U||P===!0||typeof P=="function"&&P(re,I)||Array.isArray(P)&&P[I]||function(X,ae){for(var le=0;le<ae.length;le++)if(-1<X.indexOf(ae[le]))return!0;return!1}(H,l.BAD_DELIMITERS)||-1<H.indexOf(L)||H.charAt(0)===" "||H.charAt(H.length-1)===" ")?q+H+q:H}}};if(l.RECORD_SEP="",l.UNIT_SEP="",l.BYTE_ORDER_MARK="\uFEFF",l.BAD_DELIMITERS=["\r",`
`,'"',l.BYTE_ORDER_MARK],l.WORKERS_SUPPORTED=!s&&!!r.Worker,l.NODE_STREAM_INPUT=1,l.LocalChunkSize=10485760,l.RemoteChunkSize=5242880,l.DefaultDelimiter=",",l.Parser=_,l.ParserHandle=g,l.NetworkStreamer=y,l.FileStreamer=d,l.StringStreamer=f,l.ReadableStreamStreamer=b,r.jQuery){var u=r.jQuery;u.fn.parse=function(C){var j=C.config||{},P=[];return this.each(function(N){if(!(u(this).prop("tagName").toUpperCase()==="INPUT"&&u(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var q=0;q<this.files.length;q++)P.push({file:this.files[q],inputElem:this,instanceConfig:u.extend({},j)})}),O(),this;function O(){if(P.length!==0){var N,q,W,Y,J=P[0];if(A(C.before)){var te=C.before(J.file,J.inputElem);if(typeof te=="object"){if(te.action==="abort")return N="AbortError",q=J.file,W=J.inputElem,Y=te.reason,void(A(C.error)&&C.error({name:N},q,W,Y));if(te.action==="skip")return void L();typeof te.config=="object"&&(J.instanceConfig=u.extend(J.instanceConfig,te.config))}else if(te==="skip")return void L()}var ee=J.instanceConfig.complete;J.instanceConfig.complete=function(Q){A(ee)&&ee(Q,J.file,J.inputElem),L()},l.parse(J.file,J.instanceConfig)}else A(C.complete)&&C.complete()}function L(){P.splice(0,1),O()}}}function p(C){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(j){var P=R(j);P.chunkSize=parseInt(P.chunkSize),j.step||j.chunk||(P.chunkSize=null),this._handle=new g(P),(this._handle.streamer=this)._config=P}).call(this,C),this.parseChunk=function(j,P){if(this.isFirstChunk&&A(this._config.beforeFirstChunk)){var O=this._config.beforeFirstChunk(j);O!==void 0&&(j=O)}this.isFirstChunk=!1,this._halted=!1;var L=this._partialLine+j;this._partialLine="";var N=this._handle.parse(L,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var q=N.meta.cursor;this._finished||(this._partialLine=L.substring(q-this._baseIndex),this._baseIndex=q),N&&N.data&&(this._rowCount+=N.data.length);var W=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(o)r.postMessage({results:N,workerId:l.WORKER_ID,finished:W});else if(A(this._config.chunk)&&!P){if(this._config.chunk(N,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);N=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(N.data),this._completeResults.errors=this._completeResults.errors.concat(N.errors),this._completeResults.meta=N.meta),this._completed||!W||!A(this._config.complete)||N&&N.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),W||N&&N.meta.paused||this._nextChunk(),N}this._halted=!0},this._sendError=function(j){A(this._config.error)?this._config.error(j):o&&this._config.error&&r.postMessage({workerId:l.WORKER_ID,error:j,finished:!1})}}function y(C){var j;(C=C||{}).chunkSize||(C.chunkSize=l.RemoteChunkSize),p.call(this,C),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(P){this._input=P,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(j=new XMLHttpRequest,this._config.withCredentials&&(j.withCredentials=this._config.withCredentials),s||(j.onload=D(this._chunkLoaded,this),j.onerror=D(this._chunkError,this)),j.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var P=this._config.downloadRequestHeaders;for(var O in P)j.setRequestHeader(O,P[O])}if(this._config.chunkSize){var L=this._start+this._config.chunkSize-1;j.setRequestHeader("Range","bytes="+this._start+"-"+L)}try{j.send(this._config.downloadRequestBody)}catch(N){this._chunkError(N.message)}s&&j.status===0&&this._chunkError()}},this._chunkLoaded=function(){j.readyState===4&&(j.status<200||400<=j.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:j.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(P){var O=P.getResponseHeader("Content-Range");return O===null?-1:parseInt(O.substring(O.lastIndexOf("/")+1))}(j),this.parseChunk(j.responseText)))},this._chunkError=function(P){var O=j.statusText||P;this._sendError(new Error(O))}}function d(C){var j,P;(C=C||{}).chunkSize||(C.chunkSize=l.LocalChunkSize),p.call(this,C);var O=typeof FileReader<"u";this.stream=function(L){this._input=L,P=L.slice||L.webkitSlice||L.mozSlice,O?((j=new FileReader).onload=D(this._chunkLoaded,this),j.onerror=D(this._chunkError,this)):j=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var L=this._input;if(this._config.chunkSize){var N=Math.min(this._start+this._config.chunkSize,this._input.size);L=P.call(L,this._start,N)}var q=j.readAsText(L,this._config.encoding);O||this._chunkLoaded({target:{result:q}})},this._chunkLoaded=function(L){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(L.target.result)},this._chunkError=function(){this._sendError(j.error)}}function f(C){var j;p.call(this,C=C||{}),this.stream=function(P){return j=P,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var P,O=this._config.chunkSize;return O?(P=j.substring(0,O),j=j.substring(O)):(P=j,j=""),this._finished=!j,this.parseChunk(P)}}}function b(C){p.call(this,C=C||{});var j=[],P=!0,O=!1;this.pause=function(){p.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){p.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(L){this._input=L,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){O&&j.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),j.length?this.parseChunk(j.shift()):P=!0},this._streamData=D(function(L){try{j.push(typeof L=="string"?L:L.toString(this._config.encoding)),P&&(P=!1,this._checkIsFinished(),this.parseChunk(j.shift()))}catch(N){this._streamError(N)}},this),this._streamError=D(function(L){this._streamCleanUp(),this._sendError(L)},this),this._streamEnd=D(function(){this._streamCleanUp(),O=!0,this._streamData("")},this),this._streamCleanUp=D(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function g(C){var j,P,O,L=Math.pow(2,53),N=-L,q=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,W=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,Y=this,J=0,te=0,ee=!1,Q=!1,ne=[],re={data:[],errors:[],meta:{}};if(A(C.step)){var I=C.step;C.step=function(he){if(re=he,X())H();else{if(H(),re.data.length===0)return;J+=he.data.length,C.preview&&J>C.preview?P.abort():(re.data=re.data[0],I(re,Y))}}}function U(he){return C.skipEmptyLines==="greedy"?he.join("").trim()==="":he.length===1&&he[0].length===0}function H(){return re&&O&&(le("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+l.DefaultDelimiter+"'"),O=!1),C.skipEmptyLines&&(re.data=re.data.filter(function(he){return!U(he)})),X()&&function(){if(!re)return;function he(me,xe){A(C.transformHeader)&&(me=C.transformHeader(me,xe)),ne.push(me)}if(Array.isArray(re.data[0])){for(var ye=0;X()&&ye<re.data.length;ye++)re.data[ye].forEach(he);re.data.splice(0,1)}else re.data.forEach(he)}(),function(){if(!re||!C.header&&!C.dynamicTyping&&!C.transform)return re;function he(me,xe){var Se,pe=C.header?{}:[];for(Se=0;Se<me.length;Se++){var Te=Se,ke=me[Se];C.header&&(Te=Se>=ne.length?"__parsed_extra":ne[Se]),C.transform&&(ke=C.transform(ke,Te)),ke=ae(Te,ke),Te==="__parsed_extra"?(pe[Te]=pe[Te]||[],pe[Te].push(ke)):pe[Te]=ke}return C.header&&(Se>ne.length?le("FieldMismatch","TooManyFields","Too many fields: expected "+ne.length+" fields but parsed "+Se,te+xe):Se<ne.length&&le("FieldMismatch","TooFewFields","Too few fields: expected "+ne.length+" fields but parsed "+Se,te+xe)),pe}var ye=1;return!re.data.length||Array.isArray(re.data[0])?(re.data=re.data.map(he),ye=re.data.length):re.data=he(re.data,0),C.header&&re.meta&&(re.meta.fields=ne),te+=ye,re}()}function X(){return C.header&&ne.length===0}function ae(he,ye){return me=he,C.dynamicTypingFunction&&C.dynamicTyping[me]===void 0&&(C.dynamicTyping[me]=C.dynamicTypingFunction(me)),(C.dynamicTyping[me]||C.dynamicTyping)===!0?ye==="true"||ye==="TRUE"||ye!=="false"&&ye!=="FALSE"&&(function(xe){if(q.test(xe)){var Se=parseFloat(xe);if(N<Se&&Se<L)return!0}return!1}(ye)?parseFloat(ye):W.test(ye)?new Date(ye):ye===""?null:ye):ye;var me}function le(he,ye,me,xe){var Se={type:he,code:ye,message:me};xe!==void 0&&(Se.row=xe),re.errors.push(Se)}this.parse=function(he,ye,me){var xe=C.quoteChar||'"';if(C.newline||(C.newline=function(Te,ke){Te=Te.substring(0,1048576);var Me=new RegExp(v(ke)+"([^]*?)"+v(ke),"gm"),Ne=(Te=Te.replace(Me,"")).split("\r"),Ve=Te.split(`
`),Xe=1<Ve.length&&Ve[0].length<Ne[0].length;if(Ne.length===1||Xe)return`
`;for(var ht=0,Ke=0;Ke<Ne.length;Ke++)Ne[Ke][0]===`
`&&ht++;return ht>=Ne.length/2?`\r
`:"\r"}(he,xe)),O=!1,C.delimiter)A(C.delimiter)&&(C.delimiter=C.delimiter(he),re.meta.delimiter=C.delimiter);else{var Se=function(Te,ke,Me,Ne,Ve){var Xe,ht,Ke,jt;Ve=Ve||[",","	","|",";",l.RECORD_SEP,l.UNIT_SEP];for(var bt=0;bt<Ve.length;bt++){var gt=Ve[bt],Tt=0,St=0,$e=0;Ke=void 0;for(var dt=new _({comments:Ne,delimiter:gt,newline:ke,preview:10}).parse(Te),Ge=0;Ge<dt.data.length;Ge++)if(Me&&U(dt.data[Ge]))$e++;else{var de=dt.data[Ge].length;St+=de,Ke!==void 0?0<de&&(Tt+=Math.abs(de-Ke),Ke=de):Ke=de}0<dt.data.length&&(St/=dt.data.length-$e),(ht===void 0||Tt<=ht)&&(jt===void 0||jt<St)&&1.99<St&&(ht=Tt,Xe=gt,jt=St)}return{successful:!!(C.delimiter=Xe),bestDelimiter:Xe}}(he,C.newline,C.skipEmptyLines,C.comments,C.delimitersToGuess);Se.successful?C.delimiter=Se.bestDelimiter:(O=!0,C.delimiter=l.DefaultDelimiter),re.meta.delimiter=C.delimiter}var pe=R(C);return C.preview&&C.header&&pe.preview++,j=he,P=new _(pe),re=P.parse(j,ye,me),H(),ee?{meta:{paused:!0}}:re||{meta:{paused:!1}}},this.paused=function(){return ee},this.pause=function(){ee=!0,P.abort(),j=A(C.chunk)?"":j.substring(P.getCharIndex())},this.resume=function(){Y.streamer._halted?(ee=!1,Y.streamer.parseChunk(j,!0)):setTimeout(Y.resume,3)},this.aborted=function(){return Q},this.abort=function(){Q=!0,P.abort(),re.meta.aborted=!0,A(C.complete)&&C.complete(re),j=""}}function v(C){return C.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function _(C){var j,P=(C=C||{}).delimiter,O=C.newline,L=C.comments,N=C.step,q=C.preview,W=C.fastMode,Y=j=C.quoteChar===void 0||C.quoteChar===null?'"':C.quoteChar;if(C.escapeChar!==void 0&&(Y=C.escapeChar),(typeof P!="string"||-1<l.BAD_DELIMITERS.indexOf(P))&&(P=","),L===P)throw new Error("Comment character same as delimiter");L===!0?L="#":(typeof L!="string"||-1<l.BAD_DELIMITERS.indexOf(L))&&(L=!1),O!==`
`&&O!=="\r"&&O!==`\r
`&&(O=`
`);var J=0,te=!1;this.parse=function(ee,Q,ne){if(typeof ee!="string")throw new Error("Input must be a string");var re=ee.length,I=P.length,U=O.length,H=L.length,X=A(N),ae=[],le=[],he=[],ye=J=0;if(!ee)return ge();if(C.header&&!Q){var me=ee.split(O)[0].split(P),xe=[],Se={},pe=!1;for(var Te in me){var ke=me[Te];A(C.transformHeader)&&(ke=C.transformHeader(ke,Te));var Me=ke,Ne=Se[ke]||0;for(0<Ne&&(pe=!0,Me=ke+"_"+Ne),Se[ke]=Ne+1;xe.includes(Me);)Me=Me+"_"+Ne;xe.push(Me)}if(pe){var Ve=ee.split(O);Ve[0]=xe.join(P),ee=Ve.join(O)}}if(W||W!==!1&&ee.indexOf(j)===-1){for(var Xe=ee.split(O),ht=0;ht<Xe.length;ht++){if(he=Xe[ht],J+=he.length,ht!==Xe.length-1)J+=O.length;else if(ne)return ge();if(!L||he.substring(0,H)!==L){if(X){if(ae=[],$e(he.split(P)),ce(),te)return ge()}else $e(he.split(P));if(q&&q<=ht)return ae=ae.slice(0,q),ge(!0)}}return ge()}for(var Ke=ee.indexOf(P,J),jt=ee.indexOf(O,J),bt=new RegExp(v(Y)+v(j),"g"),gt=ee.indexOf(j,J);;)if(ee[J]!==j)if(L&&he.length===0&&ee.substring(J,J+H)===L){if(jt===-1)return ge();J=jt+U,jt=ee.indexOf(O,J),Ke=ee.indexOf(P,J)}else if(Ke!==-1&&(Ke<jt||jt===-1))he.push(ee.substring(J,Ke)),J=Ke+I,Ke=ee.indexOf(P,J);else{if(jt===-1)break;if(he.push(ee.substring(J,jt)),de(jt+U),X&&(ce(),te))return ge();if(q&&ae.length>=q)return ge(!0)}else for(gt=J,J++;;){if((gt=ee.indexOf(j,gt+1))===-1)return ne||le.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:ae.length,index:J}),Ge();if(gt===re-1)return Ge(ee.substring(J,gt).replace(bt,j));if(j!==Y||ee[gt+1]!==Y){if(j===Y||gt===0||ee[gt-1]!==Y){Ke!==-1&&Ke<gt+1&&(Ke=ee.indexOf(P,gt+1)),jt!==-1&&jt<gt+1&&(jt=ee.indexOf(O,gt+1));var Tt=dt(jt===-1?Ke:Math.min(Ke,jt));if(ee.substr(gt+1+Tt,I)===P){he.push(ee.substring(J,gt).replace(bt,j)),ee[J=gt+1+Tt+I]!==j&&(gt=ee.indexOf(j,J)),Ke=ee.indexOf(P,J),jt=ee.indexOf(O,J);break}var St=dt(jt);if(ee.substring(gt+1+St,gt+1+St+U)===O){if(he.push(ee.substring(J,gt).replace(bt,j)),de(gt+1+St+U),Ke=ee.indexOf(P,J),gt=ee.indexOf(j,J),X&&(ce(),te))return ge();if(q&&ae.length>=q)return ge(!0);break}le.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:ae.length,index:J}),gt++}}else gt++}return Ge();function $e(we){ae.push(we),ye=J}function dt(we){var He=0;if(we!==-1){var We=ee.substring(gt+1,we);We&&We.trim()===""&&(He=We.length)}return He}function Ge(we){return ne||(we===void 0&&(we=ee.substring(J)),he.push(we),J=re,$e(he),X&&ce()),ge()}function de(we){J=we,$e(he),he=[],jt=ee.indexOf(O,J)}function ge(we){return{data:ae,errors:le,meta:{delimiter:P,linebreak:O,aborted:te,truncated:!!we,cursor:ye+(Q||0)}}}function ce(){N(ge()),ae=[],le=[]}},this.abort=function(){te=!0},this.getCharIndex=function(){return J}}function x(C){var j=C.data,P=a[j.workerId],O=!1;if(j.error)P.userError(j.error,j.file);else if(j.results&&j.results.data){var L={abort:function(){O=!0,w(j.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:S,resume:S};if(A(P.userStep)){for(var N=0;N<j.results.data.length&&(P.userStep({data:j.results.data[N],errors:j.results.errors,meta:j.results.meta},L),!O);N++);delete j.results}else A(P.userChunk)&&(P.userChunk(j.results,L,j.file),delete j.results)}j.finished&&!O&&w(j.workerId,j.results)}function w(C,j){var P=a[C];A(P.userComplete)&&P.userComplete(j),P.terminate(),delete a[C]}function S(){throw new Error("Not implemented.")}function R(C){if(typeof C!="object"||C===null)return C;var j=Array.isArray(C)?[]:{};for(var P in C)j[P]=R(C[P]);return j}function D(C,j){return function(){C.apply(j,arguments)}}function A(C){return typeof C=="function"}return o&&(r.onmessage=function(C){var j=C.data;if(l.WORKER_ID===void 0&&j&&(l.WORKER_ID=j.workerId),typeof j.input=="string")r.postMessage({workerId:l.WORKER_ID,results:l.parse(j.input,j.config),finished:!0});else if(r.File&&j.input instanceof File||j.input instanceof Object){var P=l.parse(j.input,j.config);P&&r.postMessage({workerId:l.WORKER_ID,results:P,finished:!0})}}),(y.prototype=Object.create(p.prototype)).constructor=y,(d.prototype=Object.create(p.prototype)).constructor=d,(f.prototype=Object.create(f.prototype)).constructor=f,(b.prototype=Object.create(p.prototype)).constructor=b,l})}(W0)),W0.exports}var yK=gK();const ou=kb(yK),v0=["Had difficulty doing the leisure activities which you would like to do?","Had difficulty looking after your home, e.g. DIY, housework, cooking?","Had difficulty carrying bags of shopping?","Had problems walking half a mile?","Had problems walking 100 yards?","Had problems getting around the house as easily as you would like?","Had difficulty getting around in public?","Needed someone else to accompany you when you went out?","Felt frightened or worried about falling over in public?","Been confined to the house more than you would like?","Had difficulty washing yourself?","Had difficulty dressing yourself?","Had problems doing your shoe laces?","Had problems writing clearly?","Had difficulty cutting up your food?","Had difficulty holding a drink without spilling it?","Felt depressed?","Felt isolated and lonely?","Felt weepy or tearful?","Felt angry or bitter?","Felt anxious?","Felt worried about your future?","Felt you had to conceal your Parkinson's from people?","Avoided situations which involve eating or drinking in public?","Felt embarrassed in public due to having Parkinson's disease?","Felt worried by other people's reaction to you?","Had problems with your close personal relationships?","Lacked support in the ways you need from your spouse or partner?","Lacked support in the ways you need from your family or close friends?","Unexpectedly fallen asleep during the day?","Had problems with your concentration, e.g. when reading or watching TV?","Felt your memory was bad?","Had distressing dreams or hallucinations?","Had difficulty with your speech?","Felt unable to communicate with people properly?","Felt ignored by people?","Had painful muscle cramps or spasms?","Had aches and pains in your joints or body?","Felt unpleasantly hot or cold?"],Ih=10,vK=()=>{const n=ds(),{currentUser:t}=Rc(),[i,r]=Ee.useState(Array(v0.length).fill(null)),[s,o]=Ee.useState({}),[a,c]=Ee.useState(null),[l,u]=Ee.useState(0),p=Math.ceil(v0.length/Ih),y=(g,v)=>{const _=[...i];_[g]=v,r(_);const x={...s};v!==null&&delete x[g],o(x),Object.keys(x).length===0&&c(null)},d=async g=>{g.preventDefault();const v={};let _=!1;if(i.forEach((x,w)=>{x===null&&(v[w]="This field is required",_=!0)}),o(v),_){c({message:"Please fill all fields.",type:"error"});return}try{const x=i.reduce((N,q)=>N+(q??0),0),w=(x/i.length).toFixed(2),S=(x/(i.length*4)*100).toFixed(2),R=new Date,D=R.toLocaleString(),A={responses:i,averageScore:w,normalizedScore:S,userId:(t==null?void 0:t.uid)||"anonymous",timestamp:R.toISOString(),localDateTime:D},C=Tl(Ra(Ds,`users/${t==null?void 0:t.uid}/parkinsons-surveys`));await Gu(C,A);const j=i.map((N,q)=>({question:q+1,response:N})),P=ou.unparse(j),O=new Blob([P],{type:"text/csv;charset=utf-8;"}),L=bs(xs,`users/${t==null?void 0:t.uid}/parkinsons-surveys/${R.toISOString()}.csv`);await Ya(L,O),c({message:`Submission successful! Your score is ${w} (${S}%)`,type:"success"}),setTimeout(()=>{n("/thank-you",{state:{type:"parkinsons",score:w,percentageScore:S}})},3e3)}catch(x){console.error("Error submitting survey:",x),c({message:"Error submitting survey. Please try again.",type:"error"})}},f=()=>{const g={};let v=!1;const _=l*Ih,x=_+Ih;v0.slice(_,x).forEach((w,S)=>{const R=_+S;i[R]===null&&(g[R]="This field is required",v=!0)}),v?(o(w=>({...w,...g})),c({message:"Please fill all the fields on this page.",type:"error"})):(u(w=>w+1),c(null))},b=()=>{u(g=>g-1),c(null)};return V.jsx(Kn,{children:V.jsxs("div",{className:"w-full max-w-3xl p-8 bg-red-100 rounded-lg shadow-md border border-red-500 mx-auto",children:[V.jsx("h1",{className:"text-3xl font-bold mb-4 text-center",children:"Parkinson's Disease Questionnaire (PDQ-39)"}),V.jsx(Cd,{}),V.jsx("form",{onSubmit:d,children:V.jsxs("div",{className:"grid grid-cols-1 justify-center",children:[v0.slice(l*Ih,(l+1)*Ih).map((g,v)=>{const _=l*Ih+v;return V.jsxs("div",{className:"mb-8",children:[V.jsx("label",{className:"block text-xl font-bold text-center text-gray-900 mb-4",children:`${_+1}. ${g}`}),V.jsx("div",{className:"flex justify-center space-x-8",children:[{label:"Never",color:"bg-blue-500"},{label:"Rarely",color:"bg-green-500"},{label:"Occasionally",color:"bg-yellow-500"},{label:"Often",color:"bg-orange-500"},{label:"Always",color:"bg-red-500"}].map((x,w)=>V.jsx("button",{type:"button",className:`text-sm px-4 py-2 border rounded ${i[_]===w?x.color+" text-white":"bg-gray-200"} ${s[_]?"border-red-500":"border-gray-300"}`,onClick:()=>y(_,w),children:x.label},w))}),s[_]&&V.jsx("p",{className:"text-red-500 text-sm mt-1",children:s[_]})]},_)}),a&&V.jsx(On,{message:a.message,type:a.type}),V.jsxs("div",{className:"flex justify-between mt-4",children:[l>0&&V.jsx("button",{type:"button",className:"bg-gray-500 rounded-md hover:bg-gray-700 border border-gray-700 px-4 py-2",onClick:b,children:"Previous"}),l<p-1&&V.jsx("button",{type:"button",className:"bg-blue-500 rounded-md hover:bg-blue-700 border border-blue-700 px-4 py-2",onClick:f,children:"Next"}),l===p-1&&V.jsx("button",{type:"submit",className:"bg-green-500 rounded-md hover:bg-green-700 border border-green-700 px-4 py-2",children:"Submit"})]})]})})]})})},_K=()=>V.jsx(Kn,{children:V.jsx("div",{className:"flex flex-col items-center justify-top min-h-screen p-4 bg-gray-100",children:V.jsxs("div",{className:"w-full max-w-lg bg-gray-200 p-8 rounded-lg shadow-md border border-gray-300",children:[V.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Setting Page"}),V.jsx("p",{className:"text-lg mb-6",children:"Coming Soon"}),V.jsx(Fn,{to:"/login",className:"text-blue-500 hover:text-blue-700",children:"Go to Login"})]})})}),bK=()=>V.jsx(Kn,{bgColor:"bg-gray-100",children:V.jsxs("div",{className:"w-full max-w-lg bg-gray-200 p-8 rounded-lg shadow-md border border-gray-300",children:[V.jsx("h1",{className:"text-4xl font-bold mb-4",children:"AccountPage"}),V.jsx("p",{className:"text-lg mb-6",children:"Coming Soon"}),V.jsx(Fn,{to:"/login",className:"text-blue-500 hover:text-blue-700",children:"Go to Login"})]})}),m_={BASE_URL:"./",DEV:!1,MODE:"production",PROD:!0,SSR:!1},_0=[1,2,3,4,5].map(String),xK=["Laptop","Desktop","Tablet","Phone"],wK=["On","Off"],SK=["Stabilization","Baseline","N/A"],TK=["Blocker","Major","Minor","Nitpick"];function EK(){return Math.random().toString(36).slice(2)+Date.now().toString(36)}function CK(){var u,p,y,d;const n=window.navigator,t=n.userAgent||"",i=n.vendor||"",r=(((u=n.userAgentData)==null?void 0:u.platform)||n.platform||"").toString(),s=(((p=n.userAgentData)==null?void 0:p.brands)||[]).map(f=>`${f.brand} ${f.version}`).join(", "),o=r||(((y=/(Windows|Mac|Linux|Android|iOS)/i.exec(t))==null?void 0:y[1])??"Unknown"),a=s||(((d=/Chrome|Edg|Firefox|Safari/i.exec(t))==null?void 0:d[0])??"Unknown"),c=Math.round(window.devicePixelRatio*10)/10,l=`${window.screen.width}x${window.screen.height} @ ${c}x`;return{osGuess:o,browserGuess:a,screenStr:l,ua:t,vendor:i}}const AK=()=>{const{currentUser:n}=Rc();ds();const[t,i]=Ee.useState(!1),[r,s]=Ee.useState(null),[o,a]=Ee.useState(null),c=Ee.useMemo(()=>CK(),[]),[l,u]=Ee.useState(()=>({testerId:"",email:"",sessionLabel:"",uiClarity:"",performanceSmoothness:"",difficultyCalibration:"",overall:"",topPainPoints:"",suggestions:"",deviceType:"",os:c.osGuess,browser:c.browserGuess,screen:c.screenStr,connection:"",typingTestVariant:"",movingBackground:"",tremorMode:"",bugs:[]})),p=Ee.useMemo(()=>!!l.testerId&&!!l.deviceType&&!!l.os&&!!l.browser&&!!l.screen&&!!l.movingBackground&&!!l.tremorMode&&l.overall!=="",[l]);function y(_,x){u(w=>({...w,[_]:x})),s(null),a(null)}const d=()=>{u(_=>({..._,bugs:[..._.bugs,{id:EK(),pageOrFeature:"",severity:"Minor",stepsToReproduce:"",expected:"",actual:"",attachments:[]}]}))},f=_=>{u(x=>({...x,bugs:x.bugs.filter(w=>w.id!==_)}))},b=(_,x,w)=>{u(S=>({...S,bugs:S.bugs.map(R=>R.id===_?{...R,[x]:w}:R)}))},g=async(_,x)=>{if(!x||x.length===0)return;const w=[];try{for(let S=0;S<x.length;S++){const R=x[S],D=`debug-feedback/${(n==null?void 0:n.uid)??"anon"}/${Date.now()}_${R.name}`,A=bs(xs,D);await Ya(A,R);const C=await WV(A);w.push(C)}u(S=>({...S,bugs:S.bugs.map(R=>R.id===_?{...R,attachments:[...R.attachments,...w]}:R)}))}catch(S){s((S==null?void 0:S.message)||"Upload failed.")}},v=async _=>{if(_.preventDefault(),s(null),a(null),!p){s("Please complete all required fields (marked with *).");return}try{i(!0);const x=ui.now(),w={...l,uiClarity:l.uiClarity===""?null:Number(l.uiClarity),performanceSmoothness:l.performanceSmoothness===""?null:Number(l.performanceSmoothness),difficultyCalibration:l.difficultyCalibration===""?null:Number(l.difficultyCalibration),overall:l.overall===""?null:Number(l.overall),_createdAt:x,_ua:c.ua,_vendor:c.vendor,_tzOffsetMin:new Date().getTimezoneOffset(),_appVersion:(m_==null?void 0:m_.VITE_APP_VERSION)??null},S=(n==null?void 0:n.uid)||"anonymous",R=Ra(Ds,`users/${S}/debug-feedback`),D=Tl(R);await Gu(D,w),a("Thanks! Your feedback was saved."),u(A=>({...A,testerId:"",email:"",sessionLabel:"",uiClarity:"",performanceSmoothness:"",difficultyCalibration:"",overall:"",topPainPoints:"",suggestions:"",deviceType:"",movingBackground:"",tremorMode:"",typingTestVariant:"",bugs:[]}))}catch(x){console.error(x),s((x==null?void 0:x.message)||"Something went wrong while saving.")}finally{i(!1)}};return V.jsx(Kn,{children:V.jsx("div",{className:"min-h-screen w-full flex justify-center bg-gray-50 py-8 px-4",children:V.jsxs("form",{onSubmit:v,className:"w-full max-w-4xl bg-white border border-gray-200 rounded-2xl shadow p-6 md:p-10 space-y-8",children:[V.jsxs("header",{className:"space-y-1",children:[V.jsx("h1",{className:"text-2xl md:text-3xl font-semibold tracking-tight",children:"Debug Feedback & Progress"}),V.jsx("p",{className:"text-sm text-gray-600",children:"For the typing-on-moving-background experiment. Provide environment details, rate your experience, and add any bugs/suggestions."})]}),r&&V.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 px-4 py-3 text-red-800 text-sm",children:r}),o&&V.jsx("div",{className:"rounded-lg border border-green-200 bg-green-50 px-4 py-3 text-green-800 text-sm",children:o}),V.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[V.jsx(oi,{label:"Tester ID *",name:"testerId",value:l.testerId,placeholder:"e.g., caltech-alias or initials",onChange:_=>y("testerId",_.target.value)}),V.jsx(oi,{label:"Email (optional)",name:"email",type:"email",value:l.email||"",placeholder:"Optional contact",onChange:_=>y("email",_.target.value)}),V.jsx(oi,{label:"Session Label",name:"sessionLabel",value:l.sessionLabel||"",placeholder:"e.g., debug run #1",onChange:_=>y("sessionLabel",_.target.value)})]}),V.jsxs("section",{children:[V.jsx("h2",{className:"text-lg font-medium mb-3",children:"Quick Ratings"}),V.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[V.jsx(Sa,{label:"UI clarity *",name:"uiClarity",value:l.uiClarity===""?"":String(l.uiClarity),options:[{label:"Select",value:""},..._0.map(_=>({label:_,value:_}))],onChange:_=>y("uiClarity",_===""?"":Number(_))}),V.jsx(Sa,{label:"Performance smoothness *",name:"performanceSmoothness",value:l.performanceSmoothness===""?"":String(l.performanceSmoothness),options:[{label:"Select",value:""},..._0.map(_=>({label:_,value:_}))],onChange:_=>y("performanceSmoothness",_===""?"":Number(_))}),V.jsx(Sa,{label:"Difficulty calibration *",name:"difficultyCalibration",value:l.difficultyCalibration===""?"":String(l.difficultyCalibration),options:[{label:"Select",value:""},..._0.map(_=>({label:_,value:_}))],onChange:_=>y("difficultyCalibration",_===""?"":Number(_))}),V.jsx(Sa,{label:"Overall *",name:"overall",value:l.overall===""?"":String(l.overall),options:[{label:"Select",value:""},..._0.map(_=>({label:_,value:_}))],onChange:_=>y("overall",_===""?"":Number(_))})]})]}),V.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[V.jsx(ol,{label:"Top pain points",name:"topPainPoints",value:l.topPainPoints,placeholder:"What slowed you down most?",onChange:_=>y("topPainPoints",_.target.value)}),V.jsx(ol,{label:"Suggestions",name:"suggestions",value:l.suggestions,placeholder:"Improvements, features, copy, metrics, etc.",onChange:_=>y("suggestions",_.target.value)})]}),V.jsxs("section",{children:[V.jsx("h2",{className:"text-lg font-medium mb-3",children:"Environment *"}),V.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[V.jsx(Oy,{label:"Device type *",name:"deviceType",values:l.deviceType?[l.deviceType]:[],options:xK,onChange:_=>y("deviceType",_[0]??"")}),V.jsx(oi,{label:"OS *",name:"os",value:l.os,onChange:_=>y("os",_.target.value)}),V.jsx(oi,{label:"Browser *",name:"browser",value:l.browser,onChange:_=>y("browser",_.target.value)}),V.jsx(oi,{label:"Screen *",name:"screen",value:l.screen,onChange:_=>y("screen",_.target.value)}),V.jsx(Sa,{label:"Connection",name:"connection",value:l.connection||"",options:[{label:"Select",value:""},{label:"WiFi",value:"WiFi"},{label:"Ethernet",value:"Ethernet"},{label:"Cellular",value:"Cellular"}],onChange:_=>y("connection",_)})]})]}),V.jsxs("section",{children:[V.jsx("h2",{className:"text-lg font-medium mb-3",children:"Experiment Context *"}),V.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[V.jsx(oi,{label:"Typing test variant",name:"typingTestVariant",value:l.typingTestVariant||"",placeholder:"e.g., A / B / hash",onChange:_=>y("typingTestVariant",_.target.value)}),V.jsx(Sa,{label:"Moving background *",name:"movingBackground",value:l.movingBackground,options:[{label:"Select",value:""},...wK.map(_=>({label:_,value:_}))],onChange:_=>y("movingBackground",_)}),V.jsx(Sa,{label:"Tremor mode *",name:"tremorMode",value:l.tremorMode,options:[{label:"Select",value:""},...SK.map(_=>({label:_,value:_}))],onChange:_=>y("tremorMode",_)})]})]}),V.jsxs("section",{children:[V.jsxs("div",{className:"flex items-center justify-between mb-3",children:[V.jsx("h2",{className:"text-lg font-medium",children:"Bugs & Issues"}),V.jsx(Xn,{type:"button",onClick:d,children:"Add bug"})]}),l.bugs.length===0&&V.jsx("p",{className:"text-sm text-gray-500",children:"No bugs added yet."}),V.jsx("div",{className:"space-y-6",children:l.bugs.map((_,x)=>V.jsxs("div",{className:"rounded-xl border border-gray-200 bg-gray-50 p-4 space-y-3",children:[V.jsxs("div",{className:"flex items-center justify-between",children:[V.jsxs("h3",{className:"font-medium",children:["Issue #",x+1]}),V.jsx("button",{type:"button",className:"text-sm text-red-600 hover:underline",onClick:()=>f(_.id),children:"Remove"})]}),V.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[V.jsx(oi,{label:"Page / Feature",name:`pageOrFeature_${_.id}`,value:_.pageOrFeature,placeholder:"e.g., Typing Test",onChange:w=>b(_.id,"pageOrFeature",w.target.value)}),V.jsx(Sa,{label:"Severity",name:`severity_${_.id}`,value:_.severity,options:TK.map(w=>({label:w,value:w})),onChange:w=>b(_.id,"severity",w)}),V.jsxs("div",{className:"flex flex-col gap-1",children:[V.jsx("label",{className:"text-sm font-medium",children:"Attachments"}),V.jsx("input",{type:"file",multiple:!0,accept:"image/*,video/*",onChange:w=>g(_.id,w.target.files),className:"block w-full text-sm"}),_.attachments.length>0&&V.jsx("ul",{className:"list-disc ml-4 text-xs text-gray-600",children:_.attachments.map(w=>V.jsx("li",{className:"truncate",children:V.jsx("a",{href:w,target:"_blank",className:"underline",children:w})},w))})]})]}),V.jsx(ol,{label:"Steps to reproduce",name:`steps_${_.id}`,value:_.stepsToReproduce,placeholder:"Click X, then Y",onChange:w=>b(_.id,"stepsToReproduce",w.target.value)}),V.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[V.jsx(ol,{label:"Expected",name:`expected_${_.id}`,value:_.expected,onChange:w=>b(_.id,"expected",w.target.value)}),V.jsx(ol,{label:"Actual",name:`actual_${_.id}`,value:_.actual,onChange:w=>b(_.id,"actual",w.target.value)})]})]},_.id))})]}),V.jsxs("footer",{className:"flex flex-col sm:flex-row items-center gap-3 sm:gap-4",children:[V.jsx(Xn,{type:"submit",disabled:t||!p,children:t?"Saving":"Submit feedback"}),!p&&V.jsx("span",{className:"text-sm text-gray-500",children:"Fill all * required fields to enable submit."})]})]})})})};var Cf={},aj;function Z4(){if(aj)return Cf;aj=1;function n(g){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?n=function(_){return typeof _}:n=function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},n(g)}Object.defineProperty(Cf,"__esModule",{value:!0}),Cf.Collapse=void 0;var t=i(jp());function i(g){return g&&g.__esModule?g:{default:g}}function r(g,v){if(!(g instanceof v))throw new TypeError("Cannot call a class as a function")}function s(g,v){for(var _=0;_<v.length;_++){var x=v[_];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}function o(g,v,_){return v&&s(g.prototype,v),g}function a(g,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(v&&v.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),v&&c(g,v)}function c(g,v){return c=Object.setPrototypeOf||function(x,w){return x.__proto__=w,x},c(g,v)}function l(g){var v=y();return function(){var x=d(g),w;if(v){var S=d(this).constructor;w=Reflect.construct(x,arguments,S)}else w=x.apply(this,arguments);return u(this,w)}}function u(g,v){if(v&&(n(v)==="object"||typeof v=="function"))return v;if(v!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return p(g)}function p(g){if(g===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g}function y(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function d(g){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(_){return _.__proto__||Object.getPrototypeOf(_)},d(g)}function f(g,v,_){return v in g?Object.defineProperty(g,v,{value:_,enumerable:!0,configurable:!0,writable:!0}):g[v]=_,g}var b=function(g){a(_,g);var v=l(_);function _(x){var w;return r(this,_),w=v.call(this,x),f(p(w),"timeout",void 0),f(p(w),"container",void 0),f(p(w),"content",void 0),f(p(w),"onResize",function(){if(clearTimeout(w.timeout),!(!w.container||!w.content)){var S=w.props,R=S.isOpened,D=S.checkTimeout,A=Math.floor(w.container.clientHeight),C=Math.floor(w.content.clientHeight),j=R&&Math.abs(C-A)<=1,P=!R&&Math.abs(A)<=1;j||P?w.onRest({isFullyOpened:j,isFullyClosed:P,isOpened:R,containerHeight:A,contentHeight:C}):(w.onWork({isFullyOpened:j,isFullyClosed:P,isOpened:R,containerHeight:A,contentHeight:C}),w.timeout=setTimeout(function(){return w.onResize()},D))}}),f(p(w),"onRest",function(S){var R=S.isFullyOpened,D=S.isFullyClosed,A=S.isOpened,C=S.containerHeight,j=S.contentHeight;if(!(!w.container||!w.content)){var P=A&&w.container.style.height==="".concat(j,"px"),O=!A&&w.container.style.height==="0px";if(P||O){w.container.style.overflow=A?"initial":"hidden",w.container.style.height=A?"auto":"0px";var L=w.props.onRest;L&&L({isFullyOpened:R,isFullyClosed:D,isOpened:A,containerHeight:C,contentHeight:j})}}}),f(p(w),"onWork",function(S){var R=S.isFullyOpened,D=S.isFullyClosed,A=S.isOpened,C=S.containerHeight,j=S.contentHeight;if(!(!w.container||!w.content)){var P=A&&w.container.style.height==="".concat(j,"px"),O=!A&&w.container.style.height==="0px";if(!(P||O)){w.container.style.overflow="hidden",w.container.style.height=A?"".concat(j,"px"):"0px";var L=w.props.onWork;L&&L({isFullyOpened:R,isFullyClosed:D,isOpened:A,containerHeight:C,contentHeight:j})}}}),f(p(w),"onRefContainer",function(S){w.container=S}),f(p(w),"onRefContent",function(S){w.content=S}),x.initialStyle?w.initialStyle=x.initialStyle:w.initialStyle=x.isOpened?{height:"auto",overflow:"initial"}:{height:"0px",overflow:"hidden"},w}return o(_,[{key:"componentDidMount",value:function(){this.onResize()}},{key:"shouldComponentUpdate",value:function(w){var S=this.props,R=S.theme,D=S.isOpened,A=S.children;return A!==w.children||D!==w.isOpened||Object.keys(R).some(function(C){return R[C]!==w.theme[C]})}},{key:"getSnapshotBeforeUpdate",value:function(){if(!this.container||!this.content)return null;if(this.container.style.height==="auto"){var w=this.content.clientHeight;this.container.style.height="".concat(w,"px")}return null}},{key:"componentDidUpdate",value:function(){this.onResize()}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timeout)}},{key:"render",value:function(){var w=this.props,S=w.theme,R=w.children,D=w.isOpened;return t.default.createElement("div",{ref:this.onRefContainer,className:S.collapse,style:this.initialStyle,"aria-hidden":!D},t.default.createElement("div",{ref:this.onRefContent,className:S.content},R))}}]),_}(t.default.Component);return Cf.Collapse=b,f(b,"defaultProps",{theme:{collapse:"ReactCollapse--collapse",content:"ReactCollapse--content"},initialStyle:void 0,onRest:void 0,onWork:void 0,checkTimeout:50}),Cf}var Af={},oj;function jK(){if(oj)return Af;oj=1;function n(A){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?n=function(j){return typeof j}:n=function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},n(A)}Object.defineProperty(Af,"__esModule",{value:!0}),Af.UnmountClosed=void 0;var t=o(jp()),i=Z4(),r=["isOpened"],s=["isOpened"];function o(A){return A&&A.__esModule?A:{default:A}}function a(){return a=Object.assign||function(A){for(var C=1;C<arguments.length;C++){var j=arguments[C];for(var P in j)Object.prototype.hasOwnProperty.call(j,P)&&(A[P]=j[P])}return A},a.apply(this,arguments)}function c(A,C){var j=Object.keys(A);if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(A);C&&(P=P.filter(function(O){return Object.getOwnPropertyDescriptor(A,O).enumerable})),j.push.apply(j,P)}return j}function l(A){for(var C=1;C<arguments.length;C++){var j=arguments[C]!=null?arguments[C]:{};C%2?c(Object(j),!0).forEach(function(P){R(A,P,j[P])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(j)):c(Object(j)).forEach(function(P){Object.defineProperty(A,P,Object.getOwnPropertyDescriptor(j,P))})}return A}function u(A,C){if(A==null)return{};var j=p(A,C),P,O;if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(A);for(O=0;O<L.length;O++)P=L[O],!(C.indexOf(P)>=0)&&Object.prototype.propertyIsEnumerable.call(A,P)&&(j[P]=A[P])}return j}function p(A,C){if(A==null)return{};var j={},P=Object.keys(A),O,L;for(L=0;L<P.length;L++)O=P[L],!(C.indexOf(O)>=0)&&(j[O]=A[O]);return j}function y(A,C){if(!(A instanceof C))throw new TypeError("Cannot call a class as a function")}function d(A,C){for(var j=0;j<C.length;j++){var P=C[j];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(A,P.key,P)}}function f(A,C,j){return C&&d(A.prototype,C),A}function b(A,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(C&&C.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),C&&g(A,C)}function g(A,C){return g=Object.setPrototypeOf||function(P,O){return P.__proto__=O,P},g(A,C)}function v(A){var C=w();return function(){var P=S(A),O;if(C){var L=S(this).constructor;O=Reflect.construct(P,arguments,L)}else O=P.apply(this,arguments);return _(this,O)}}function _(A,C){if(C&&(n(C)==="object"||typeof C=="function"))return C;if(C!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return x(A)}function x(A){if(A===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A}function w(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function S(A){return S=Object.setPrototypeOf?Object.getPrototypeOf:function(j){return j.__proto__||Object.getPrototypeOf(j)},S(A)}function R(A,C,j){return C in A?Object.defineProperty(A,C,{value:j,enumerable:!0,configurable:!0,writable:!0}):A[C]=j,A}var D=function(A){b(j,A);var C=v(j);function j(P){var O;return y(this,j),O=C.call(this,P),R(x(O),"onWork",function(L){var N=L.isOpened,q=u(L,r);O.setState({isResting:!1,isOpened:N});var W=O.props.onWork;W&&W(l({isOpened:N},q))}),R(x(O),"onRest",function(L){var N=L.isOpened,q=u(L,s);O.setState({isResting:!0,isOpened:N,isInitialRender:!1});var W=O.props.onRest;W&&W(l({isOpened:N},q))}),R(x(O),"getInitialStyle",function(){var L=O.state,N=L.isOpened,q=L.isInitialRender;return q?N?{height:"auto",overflow:"initial"}:{height:"0px",overflow:"hidden"}:{height:"0px",overflow:"hidden"}}),O.state={isResting:!0,isOpened:P.isOpened,isInitialRender:!0},O}return f(j,[{key:"componentDidUpdate",value:function(O){var L=this.props.isOpened;O.isOpened!==L&&this.setState({isResting:!1,isOpened:L,isInitialRender:!1})}},{key:"render",value:function(){var O=this.state,L=O.isResting,N=O.isOpened;return L&&!N?null:t.default.createElement(i.Collapse,a({},this.props,{initialStyle:this.getInitialStyle(),onWork:this.onWork,onRest:this.onRest}))}}]),j}(t.default.PureComponent);return Af.UnmountClosed=D,R(D,"defaultProps",{onWork:void 0,onRest:void 0}),Af}var g_,lj;function RK(){if(lj)return g_;lj=1;var n=Z4(),t=n.Collapse,i=jK(),r=i.UnmountClosed;return g_=r,r.Collapse=t,r.UnmountClosed=r,g_}var Qp=RK();const Ks=({label:n,min:t,max:i,step:r,value:s,onChange:o})=>{const a=Ee.useMemo(()=>(s-t)/(i-t)*100,[s,t,i]),c=Ee.useMemo(()=>[0,25,50,75,100],[]);return V.jsxs("div",{className:"control-group text-xs",children:[V.jsx("label",{className:"block mb-1 font-medium",children:n}),V.jsxs("div",{className:"relative w-full h-6",children:[V.jsx("div",{className:"absolute inset-0 pointer-events-none",children:c.map(l=>{const u=l%50===0;return V.jsx("div",{className:"absolute bg-gray-600",style:{left:`${l}%`,width:u?"2px":"1px",height:u?"6px":"4px",top:"50%",transform:"translate(-50%, -50%)"}},l)})}),V.jsx("input",{type:"range",min:t,max:i,step:r,value:s,onChange:l=>o(parseFloat(l.currentTarget.value)),className:"w-full h-2 rounded-lg appearance-none focus:outline-none",style:{background:`linear-gradient(
              to right,
              #3b82f6 0%,
              #3b82f6 ${a}%,
              #d1d5db ${a}%,
              #d1d5db 100%
            )`}})]}),V.jsxs("div",{className:"flex justify-between mt-1 text-gray-600",children:[V.jsx("span",{children:t}),V.jsx("span",{children:i})]})]})},J4=(n,t)=>`users/${n}/${t}-settings`,cj=(n,t,i)=>`${J4(n,t)}/${i}`,OK=(n,t,i)=>`users/${n}/${t}-settings/${i}.csv`,IK=(n,t,i)=>`users/${n}/${t}-settings/${i}.json`;function kK(n,t){return{...t,...n}}function Iy({module:n,settings:t,setSettings:i,mergeLoaded:r=kK,className:s="",compact:o=!0}){const{currentUser:a}=Rc(),c=a==null?void 0:a.uid,[l,u]=Ee.useState(""),[p,y]=Ee.useState(""),[d,f]=Ee.useState([]),[b,g]=Ee.useState(null);Ee.useEffect(()=>{c&&(async()=>{try{const w=await L9(Ra(Ds,J4(c,n)));f(w.docs.map(S=>S.id).sort())}catch(w){console.error("fetch presets failed",w)}})()},[c,n]),Ee.useEffect(()=>{if(!b)return;const w=setTimeout(()=>g(null),2e3);return()=>clearTimeout(w)},[b]);const v=async()=>{if(!c){g({message:"Please log in.",type:"error"});return}const w=l.trim();if(!w){g({message:"Enter a preset name.",type:"error"});return}try{const S=cj(c,n,w),R=Tl(Ds,S);if((await jC(R)).exists()&&!window.confirm(`Preset "${w}" already exists. Overwrite?`))return;const A=new Date,C={...t,presetName:w,userId:c,timestamp:A.toISOString(),localDateTime:A.toLocaleString(),schema:1};await Gu(R,C,{merge:!0});const j=Object.entries(C).map(([P,O])=>({setting:P,value:Array.isArray(O)?JSON.stringify(O):String(O)}));await Ya(bs(xs,OK(c,n,w)),new Blob([ou.unparse(j)],{type:"text/csv;charset=utf-8;"})),await Ya(bs(xs,IK(c,n,w)),new Blob([JSON.stringify(C,null,2)],{type:"application/json"})),f(P=>P.includes(w)?P:[...P,w].sort()),g({message:"Preset saved.",type:"success"})}catch(S){console.error("savePreset failed",S),g({message:`Save failed: ${(S==null?void 0:S.code)||""} ${(S==null?void 0:S.message)||S}`,type:"error"})}},_=async()=>{if(!c){g({message:"Please log in.",type:"error"});return}const w=p.trim();if(!w){g({message:"Choose a preset to load.",type:"error"});return}try{const S=await jC(Tl(Ds,cj(c,n,w)));if(!S.exists()){g({message:"Preset not found.",type:"error"});return}const R=S.data();i(D=>r(R,D)),g({message:`Loaded "${w}".`,type:"success"})}catch(S){console.error("loadPreset failed",S),g({message:`Load failed: ${(S==null?void 0:S.code)||""} ${(S==null?void 0:S.message)||S}`,type:"error"})}},x=o?"text-xs":"text-sm";return V.jsx("div",{className:`rounded ${s}`,children:V.jsxs("div",{className:`space-y-2 ${x}`,children:[V.jsxs("div",{children:[V.jsx("label",{className:"block mb-1",children:"Save as preset"}),V.jsxs("div",{className:"flex gap-2",children:[V.jsx("input",{value:l,onChange:w=>u(w.target.value),placeholder:"Preset name",className:"border p-2 rounded w-full"}),V.jsx("button",{onClick:v,className:"bg-blue-500 text-white px-3 rounded",children:"Save"})]})]}),V.jsxs("div",{children:[V.jsx("label",{className:"block mb-1",children:"Load preset"}),V.jsxs("div",{className:"flex gap-2",children:[V.jsxs("select",{value:p,onChange:w=>y(w.target.value),className:"border p-2 rounded w-full",children:[V.jsx("option",{value:"",children:"Select"}),d.map(w=>V.jsx("option",{value:w,children:w},w))]}),V.jsx("button",{onClick:_,className:"bg-yellow-500 text-white px-3 rounded",children:"Load"})]})]}),b&&V.jsx("div",{className:`text-white p-2 rounded ${b.type==="success"?"bg-green-500":"bg-red-500"}`,children:b.message})]})})}const MK="multifunction",PK=["sine","tan","cotan","sawtooth","square","triangle"],DK=["static","up","down","left","right","oscillateUpDown","oscillateRightLeft","circular"],NK=["none","rainbow","pastel"],LK=(n,t)=>({...t,waveType:PK.includes(n.waveType)?n.waveType:t.waveType,direction:DK.includes(n.direction)?n.direction:t.direction,rotationSpeed:typeof n.rotationSpeed=="number"?n.rotationSpeed:t.rotationSpeed,rotationRadius:typeof n.rotationRadius=="number"?n.rotationRadius:t.rotationRadius,oscillationRange:typeof n.oscillationRange=="number"?n.oscillationRange:t.oscillationRange,angle:typeof n.angle=="number"?n.angle:t.angle,amplitude:typeof n.amplitude=="number"?n.amplitude:t.amplitude,frequency:typeof n.frequency=="number"?n.frequency:t.frequency,speed:typeof n.speed=="number"?n.speed:t.speed,thickness:typeof n.thickness=="number"?n.thickness:t.thickness,phaseOffset:typeof n.phaseOffset=="number"?n.phaseOffset:t.phaseOffset,numLines:typeof n.numLines=="number"?n.numLines:t.numLines,distance:typeof n.distance=="number"?n.distance:t.distance,groups:typeof n.groups=="number"?n.groups:t.groups,groupDistance:typeof n.groupDistance=="number"?n.groupDistance:t.groupDistance,bgColor:typeof n.bgColor=="string"?n.bgColor:t.bgColor,lineColor:typeof n.lineColor=="string"?n.lineColor:t.lineColor,selectedPalette:NK.includes(n.selectedPalette)?n.selectedPalette:t.selectedPalette}),FK=({settings:n,setSettings:t,startAnimation:i,stopAnimation:r,resetAnimation:s})=>{const[o,a]=Ee.useState(!0);return V.jsxs("div",{className:`fixed right-4 top-2 p-4 rounded ${o?"shadow-lg bg-transparent":""} w-60 z-50 h-full overflow-y-auto`,children:[V.jsx("button",{onClick:()=>a(!o),className:"mb-2 bg-gray-200 text-xs p-2 border rounded w-full",children:o?"Collapse Controls":"Expand Controls"}),V.jsx(Qp.Collapse,{isOpened:o,children:V.jsxs("div",{className:"space-y-2",children:[V.jsxs("div",{className:"text-xs flex space-x-2",children:[V.jsx("button",{onClick:i,className:"bg-green-500 text-xs text-white p-2 rounded w-1/3",children:"Start"}),V.jsx("button",{onClick:r,className:"bg-red-500 text-xs text-white p-2 rounded w-1/3",children:"Stop"}),V.jsx("button",{onClick:s,className:"bg-gray-500 text-xs text-white p-2 rounded w-1/3",children:"Reset"})]}),V.jsxs("div",{className:"control-group text-xs",children:[V.jsx("label",{className:"block mb-2 text-xs",children:"Wave Type:"}),V.jsxs("select",{value:n.waveType,onChange:c=>t({...n,waveType:c.target.value}),className:"border p-2 rounded w-full",children:[V.jsx("option",{value:"sine",children:"Sine"}),V.jsx("option",{value:"tan",children:"Tan"}),V.jsx("option",{value:"cotan",children:"Cotan"}),V.jsx("option",{value:"sawtooth",children:"Sawtooth"}),V.jsx("option",{value:"square",children:"Square"}),V.jsx("option",{value:"triangle",children:"Triangle"})]})]}),V.jsxs("div",{className:"control-group text-xs",children:[V.jsx("label",{className:"block mb-2 text-xs",children:"Direction:"}),V.jsxs("select",{value:n.direction,onChange:c=>t({...n,direction:c.target.value}),className:"border p-2 rounded w-full",children:[V.jsx("option",{value:"static",children:"Static"}),V.jsx("option",{value:"up",children:"Up"}),V.jsx("option",{value:"down",children:"Down"}),V.jsx("option",{value:"left",children:"Left"}),V.jsx("option",{value:"right",children:"Right"}),V.jsx("option",{value:"oscillateUpDown",children:"Oscillate Up and Down"}),V.jsx("option",{value:"oscillateRightLeft",children:"Oscillate Right and Left"}),V.jsx("option",{value:"circular",children:"Circular"})]})]}),n.direction==="circular"&&V.jsxs(V.Fragment,{children:[V.jsxs("div",{className:"control-group text-xs",children:[V.jsx("label",{className:"block mb-2 text-xs",children:"Rotation Speed:"}),V.jsx("input",{type:"range",min:"0.0",max:"2",step:"0.1",value:n.rotationSpeed,onChange:c=>t({...n,rotationSpeed:parseFloat(c.target.value)}),className:"w-full",list:"rotationSpeedSteps"}),V.jsx("datalist",{id:"rotationSpeedSteps",children:[...Array(100)].map((c,l)=>V.jsx("option",{value:l/100},l))})]}),V.jsxs("div",{className:"control-group text-xs ",children:[V.jsx("label",{className:"block mb-2 text-xs",children:"Rotation Radius:"}),V.jsx("input",{type:"range",min:"10",max:"500",value:n.rotationRadius,onChange:c=>t({...n,rotationRadius:parseFloat(c.target.value)}),className:"w-full",list:"rotationRadiusSteps"}),V.jsx("datalist",{id:"rotationRadiusSteps",children:[...Array(50)].map((c,l)=>V.jsx("option",{value:l*10},l))})]})]}),["oscillateUpDown","oscillateRightLeft"].includes(n.direction)&&V.jsxs("div",{className:"control-group",children:[V.jsx("label",{className:"block mb-2 text-xs",children:"Oscillation Range:"}),V.jsx("input",{type:"range",min:"10",max:Math.min(window.innerWidth,window.innerHeight),value:n.oscillationRange,onChange:c=>t({...n,oscillationRange:parseFloat(c.target.value)}),className:"w-full",list:"oscillationRangeSteps"}),V.jsx("datalist",{id:"oscillationRangeSteps",children:[...Array(10)].map((c,l)=>V.jsx("option",{value:l*10},l))})]}),V.jsxs("div",{className:"control-group text-xs",children:[V.jsx("label",{className:"block mb-2 text-xs",children:"Angle:"}),V.jsx("input",{type:"range",min:"0",max:"360",step:"1",value:n.angle*(180/Math.PI),onChange:c=>t({...n,angle:parseFloat(c.target.value)*(Math.PI/180)}),className:"w-full",list:"angleSteps"}),V.jsx("datalist",{id:"angleSteps",children:[...Array(36)].map((c,l)=>V.jsx("option",{value:l*10},l))})]}),V.jsx("div",{className:"control-group text-xs",children:V.jsx(Ks,{label:"Amplitude",min:0,max:360,step:1,value:n.amplitude,onChange:c=>t(l=>({...l,amplitude:c}))})}),V.jsxs("div",{className:"control-group text-xs",children:[V.jsx("label",{className:"block mb-2 text-xs",children:"Frequency:"}),V.jsx("input",{type:"range",min:"1",max:"300",step:"1",value:n.frequency,onChange:c=>t({...n,frequency:parseFloat(c.target.value)}),className:"w-full",list:"frequencySteps"}),V.jsx("datalist",{id:"frequencySteps",children:[...Array(30)].map((c,l)=>V.jsx("option",{value:l*10},l))})]}),V.jsx("div",{className:"control-group text-xs",children:V.jsx(Ks,{label:"Speed",min:1,max:10,step:1,value:n.speed,onChange:c=>t(l=>({...l,speed:c}))})}),V.jsxs("div",{className:"control-group text-xs",children:[V.jsx("label",{className:"block mb-2 text-xs",children:"Line Thickness:"}),V.jsx("input",{type:"range",min:"1",max:"10",step:"1",value:n.thickness,onChange:c=>t({...n,thickness:parseFloat(c.target.value)}),className:"w-full",list:"thicknessSteps"}),V.jsx("datalist",{id:"thicknessSteps",children:[...Array(10)].map((c,l)=>V.jsx("option",{value:l+1},l))})]}),V.jsxs("div",{className:"control-group text-xs",children:[V.jsx("label",{className:"block mb-2 text-xs",children:"Phase Offset:"}),V.jsx("input",{type:"range",min:"0",max:"360",step:"1",value:n.phaseOffset*(180/Math.PI),onChange:c=>t({...n,phaseOffset:parseFloat(c.target.value)/360*(2*Math.PI)}),className:"w-full",list:"phaseOffsetSteps"}),V.jsx("datalist",{id:"phaseOffsetSteps",children:[...Array(36)].map((c,l)=>V.jsx("option",{value:l*10},l))})]}),V.jsxs("div",{className:"control-group text-xs",children:[V.jsx("label",{className:"block mb-2 text-xs",children:"Number of Lines:"}),V.jsx("input",{type:"range",min:"1",max:"100",step:"1",value:n.numLines,onChange:c=>t({...n,numLines:parseInt(c.target.value,10)}),className:"w-full",list:"numLinesSteps"}),V.jsx("datalist",{id:"numLinesSteps",children:[...Array(10)].map((c,l)=>V.jsx("option",{value:l*10},l))})]}),V.jsxs("div",{className:"control-group text-xs",children:[V.jsx("label",{className:"block mb-2 text-xs",children:"Distance Between Lines:"}),V.jsx("input",{type:"range",min:"1",max:"200",step:"1",value:n.distance,onChange:c=>t({...n,distance:parseFloat(c.target.value)}),className:"w-full",list:"distanceSteps"}),V.jsx("datalist",{id:"distanceSteps",children:[...Array(20)].map((c,l)=>V.jsx("option",{value:l*10},l))})]}),V.jsxs("div",{className:"control-group text-xs",children:[V.jsx("label",{className:"block mb-2 text-xs",children:"Number of Groups:"}),V.jsx("input",{type:"range",min:"1",max:"10",step:"1",value:n.groups,onChange:c=>t({...n,groups:parseInt(c.target.value,10)}),className:"w-full",list:"groupsSteps"}),V.jsx("datalist",{id:"groupsSteps",children:[...Array(10)].map((c,l)=>V.jsx("option",{value:l+1},l))})]}),V.jsxs("div",{className:"control-group text-xs",children:[V.jsx("label",{className:"block mb-2 text-xs",children:"Distance between Groups:"}),V.jsx("input",{type:"range",min:"0",max:"1000",step:"1",value:n.groupDistance,onChange:c=>t({...n,groupDistance:parseFloat(c.target.value)}),className:"w-full",list:"groupDistanceSteps"}),V.jsx("datalist",{id:"groupDistanceSteps",children:[...Array(100)].map((c,l)=>V.jsx("option",{value:l*10},l))})]}),V.jsxs("div",{className:"control-group text-xs",children:[V.jsx("label",{className:"block mb-2 text-xs",children:"Background Color:"}),V.jsx("input",{type:"color",value:n.bgColor,onChange:c=>t({...n,bgColor:c.target.value}),className:"w-full"})]}),V.jsxs("div",{className:"control-group text-xs",children:[V.jsx("label",{className:"block mb-2 text-xs",children:"Line Color:"}),V.jsx("input",{type:"color",value:n.lineColor,onChange:c=>t({...n,lineColor:c.target.value}),className:"w-full"})]}),V.jsxs("div",{className:"control-group text-xs",children:[V.jsx("label",{className:"block mb-2 text-xs",children:"Use Palette:"}),V.jsxs("select",{value:n.selectedPalette,onChange:c=>t({...n,selectedPalette:c.target.value}),className:"border p-2 rounded w-full",children:[V.jsx("option",{value:"none",children:"None"}),V.jsx("option",{value:"rainbow",children:"Rainbow"}),V.jsx("option",{value:"pastel",children:"Pastel"})]})]}),V.jsx("hr",{className:"my-2"}),V.jsx(Iy,{module:MK,settings:n,setSettings:t,mergeLoaded:LK,className:"bg-transparent"})]})})]})},UK={Date:!0,RegExp:!0,String:!0,Number:!0};function e3(n,t,i={cyclesFix:!0},r=[]){var c,l;let s=[];const o=Array.isArray(n);for(const u in n){const p=n[u],y=o?+u:u;if(!(u in t)){s.push({type:"REMOVE",path:[y],oldValue:n[u]});continue}const d=t[u],f=typeof p=="object"&&typeof d=="object"&&Array.isArray(p)===Array.isArray(d);if(p&&d&&f&&!UK[(l=(c=Object.getPrototypeOf(p))==null?void 0:c.constructor)==null?void 0:l.name]&&(!i.cyclesFix||!r.includes(p))){const b=e3(p,d,i,i.cyclesFix?r.concat([p]):[]);s.push.apply(s,b.map(g=>(g.path.unshift(y),g)))}else p!==d&&!(Number.isNaN(p)&&Number.isNaN(d))&&!(f&&(isNaN(p)?p+""==d+"":+p==+d))&&s.push({path:[y],type:"CHANGE",value:d,oldValue:p})}const a=Array.isArray(t);for(const u in t)u in n||s.push({type:"CREATE",path:[a?+u:u],value:t[u]});return s}function b0(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var y_={exports:{}};/*! p5.js v1.11.2 November 28, 2024 */var uj;function BK(){return uj||(uj=1,function(n,t){(function(i){n.exports=i()})(function(){var i;return function r(s,o,a){function c(p,y){if(!o[p]){if(!s[p]){var d=typeof b0=="function"&&b0;if(!y&&d)return d(p,!0);if(l)return l(p,!0);throw(y=new Error("Cannot find module '"+p+"'")).code="MODULE_NOT_FOUND",y}d=o[p]={exports:{}},s[p][0].call(d.exports,function(f){return c(s[p][1][f]||f)},d,d.exports,r,s,o,a)}return o[p].exports}for(var l=typeof b0=="function"&&b0,u=0;u<a.length;u++)c(a[u]);return c}({1:[function(r,s,o){o.byteLength=function(g){var g=d(g),b=g[0],g=g[1];return 3*(b+g)/4-g},o.toByteArray=function(f){var b,g,_=d(f),v=_[0],_=_[1],x=new l(function(R,D){return 3*(R+D)/4-D}(v,_)),w=0,S=0<_?v-4:v;for(g=0;g<S;g+=4)b=c[f.charCodeAt(g)]<<18|c[f.charCodeAt(g+1)]<<12|c[f.charCodeAt(g+2)]<<6|c[f.charCodeAt(g+3)],x[w++]=b>>16&255,x[w++]=b>>8&255,x[w++]=255&b;return _===2&&(b=c[f.charCodeAt(g)]<<2|c[f.charCodeAt(g+1)]>>4,x[w++]=255&b),_===1&&(b=c[f.charCodeAt(g)]<<10|c[f.charCodeAt(g+1)]<<4|c[f.charCodeAt(g+2)]>>2,x[w++]=b>>8&255,x[w++]=255&b),x},o.fromByteArray=function(f){for(var b,g=f.length,v=g%3,_=[],x=0,w=g-v;x<w;x+=16383)_.push(function(S,R,D){for(var A,C=[],j=R;j<D;j+=3)A=(S[j]<<16&16711680)+(S[j+1]<<8&65280)+(255&S[j+2]),C.push(function(P){return a[P>>18&63]+a[P>>12&63]+a[P>>6&63]+a[63&P]}(A));return C.join("")}(f,x,w<x+16383?w:x+16383));return v==1?(b=f[g-1],_.push(a[b>>2]+a[b<<4&63]+"==")):v==2&&(b=(f[g-2]<<8)+f[g-1],_.push(a[b>>10]+a[b>>4&63]+a[b<<2&63]+"=")),_.join("")};for(var a=[],c=[],l=typeof Uint8Array<"u"?Uint8Array:Array,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p=0,y=u.length;p<y;++p)a[p]=u[p],c[u.charCodeAt(p)]=p;function d(f){var b=f.length;if(0<b%4)throw new Error("Invalid string. Length must be a multiple of 4");return f=f.indexOf("="),b=(f=f===-1?b:f)===b?0:4-f%4,[f,b]}c[45]=62,c[95]=63},{}],2:[function(r,s,o){},{}],3:[function(r,s,o){},{}],4:[function(r,s,o){(function(d){var c=r("base64-js"),l=r("ieee754"),u=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null,p=(o.Buffer=d,o.SlowBuffer=function(I){return+I!=I&&(I=0),d.alloc(+I)},o.INSPECT_MAX_BYTES=50,2147483647);function y(I){if(p<I)throw new RangeError('The value "'+I+'" is invalid for option "size"');return I=new Uint8Array(I),Object.setPrototypeOf(I,d.prototype),I}function d(I,U,H){if(typeof I!="number")return f(I,U,H);if(typeof U=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return g(I)}function f(I,U,H){if(typeof I=="string"){var X=I,ae=U;if(d.isEncoding(ae=typeof ae=="string"&&ae!==""?ae:"utf8"))return le=0|x(X,ae),he=y(le),he=(X=he.write(X,ae))!==le?he.slice(0,X):he;throw new TypeError("Unknown encoding: "+ae)}if(ArrayBuffer.isView(I))return v(I);if(I!=null){if(Q(I,ArrayBuffer)||I&&Q(I.buffer,ArrayBuffer)){var le=I,X=U,he=H;if(X<0||le.byteLength<X)throw new RangeError('"offset" is outside of buffer bounds');if(le.byteLength<X+(he||0))throw new RangeError('"length" is outside of buffer bounds');return le=X===void 0&&he===void 0?new Uint8Array(le):he===void 0?new Uint8Array(le,X):new Uint8Array(le,X,he),Object.setPrototypeOf(le,d.prototype),le}if(typeof I=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');if(ae=I.valueOf&&I.valueOf(),ae!=null&&ae!==I)return d.from(ae,U,H);var ye=function(me){{var xe,Se;if(d.isBuffer(me))return xe=0|_(me.length),(Se=y(xe)).length!==0&&me.copy(Se,0,0,xe),Se}if(me.length!==void 0)return typeof me.length!="number"||ne(me.length)?y(0):v(me);if(me.type==="Buffer"&&Array.isArray(me.data))return v(me.data)}(I);if(ye)return ye;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof I[Symbol.toPrimitive]=="function")return d.from(I[Symbol.toPrimitive]("string"),U,H)}throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof I)}function b(I){if(typeof I!="number")throw new TypeError('"size" argument must be of type number');if(I<0)throw new RangeError('The value "'+I+'" is invalid for option "size"')}function g(I){return b(I),y(I<0?0:0|_(I))}function v(I){for(var U=I.length<0?0:0|_(I.length),H=y(U),X=0;X<U;X+=1)H[X]=255&I[X];return H}function _(I){if(p<=I)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+p.toString(16)+" bytes");return 0|I}function x(I,U){if(d.isBuffer(I))return I.length;if(ArrayBuffer.isView(I)||Q(I,ArrayBuffer))return I.byteLength;if(typeof I!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof I);var H=I.length,X=2<arguments.length&&arguments[2]===!0;if(!X&&H===0)return 0;for(var ae=!1;;)switch(U){case"ascii":case"latin1":case"binary":return H;case"utf8":case"utf-8":return J(I).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*H;case"hex":return H>>>1;case"base64":return te(I).length;default:if(ae)return X?-1:J(I).length;U=(""+U).toLowerCase(),ae=!0}}function w(I,U,H){var X,ae=!1;if((U=U===void 0||U<0?0:U)>this.length||(H=H===void 0||H>this.length?this.length:H)<=0||(H>>>=0)<=(U>>>=0))return"";for(I=I||"utf8";;)switch(I){case"hex":var le=this,Ne=U,he=H,Se=le.length;(!he||he<0||Se<he)&&(he=Se);for(var ye="",me=Ne=!Ne||Ne<0?0:Ne;me<he;++me)ye+=re[le[me]];return ye;case"utf8":case"utf-8":return j(this,U,H);case"ascii":var xe=this,Se=U,pe=H,Te="";pe=Math.min(xe.length,pe);for(var ke=Se;ke<pe;++ke)Te+=String.fromCharCode(127&xe[ke]);return Te;case"latin1":case"binary":var Me=this,Ne=U,Ve=H,Xe="";Ve=Math.min(Me.length,Ve);for(var ht=Ne;ht<Ve;++ht)Xe+=String.fromCharCode(Me[ht]);return Xe;case"base64":return Ke=this,X=H,(jt=U)===0&&X===Ke.length?c.fromByteArray(Ke):c.fromByteArray(Ke.slice(jt,X));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(var Ke=U,jt=H,bt=this.slice(Ke,jt),gt="",Tt=0;Tt<bt.length;Tt+=2)gt+=String.fromCharCode(bt[Tt]+256*bt[Tt+1]);return gt;default:if(ae)throw new TypeError("Unknown encoding: "+I);I=(I+"").toLowerCase(),ae=!0}}function S(I,U,H){var X=I[U];I[U]=I[H],I[H]=X}function R(I,U,H,X,ae){if(I.length===0)return-1;if(typeof H=="string"?(X=H,H=0):2147483647<H?H=2147483647:H<-2147483648&&(H=-2147483648),(H=(H=ne(H=+H)?ae?0:I.length-1:H)<0?I.length+H:H)>=I.length){if(ae)return-1;H=I.length-1}else if(H<0){if(!ae)return-1;H=0}if(typeof U=="string"&&(U=d.from(U,X)),d.isBuffer(U))return U.length===0?-1:D(I,U,H,X,ae);if(typeof U=="number")return U&=255,typeof Uint8Array.prototype.indexOf=="function"?(ae?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(I,U,H):D(I,[U],H,X,ae);throw new TypeError("val must be string, number or Buffer")}function D(I,U,H,X,ae){var le=1,he=I.length,ye=U.length;if(X!==void 0&&((X=String(X).toLowerCase())==="ucs2"||X==="ucs-2"||X==="utf16le"||X==="utf-16le")){if(I.length<2||U.length<2)return-1;he/=le=2,ye/=2,H/=2}function me(ke,Me){return le===1?ke[Me]:ke.readUInt16BE(Me*le)}if(ae)for(var xe=-1,Se=H;Se<he;Se++)if(me(I,Se)===me(U,xe===-1?0:Se-xe)){if(Se-(xe=xe===-1?Se:xe)+1===ye)return xe*le}else xe!==-1&&(Se-=Se-xe),xe=-1;else for(Se=H=he<H+ye?he-ye:H;0<=Se;Se--){for(var pe=!0,Te=0;Te<ye;Te++)if(me(I,Se+Te)!==me(U,Te)){pe=!1;break}if(pe)return Se}return-1}function A(I,U,H,X){return ee(function(ae){for(var le=[],he=0;he<ae.length;++he)le.push(255&ae.charCodeAt(he));return le}(U),I,H,X)}function C(I,U,H,X){return ee(function(ae,le){for(var he,ye,me=[],xe=0;xe<ae.length&&!((le-=2)<0);++xe)ye=ae.charCodeAt(xe),he=ye>>8,ye=ye%256,me.push(ye),me.push(he);return me}(U,I.length-H),I,H,X)}function j(I,U,H){H=Math.min(I.length,H);for(var X=[],ae=U;ae<H;){var le,he,ye,me,xe=I[ae],Se=null,pe=239<xe?4:223<xe?3:191<xe?2:1;if(ae+pe<=H)switch(pe){case 1:xe<128&&(Se=xe);break;case 2:(192&(le=I[ae+1]))==128&&127<(me=(31&xe)<<6|63&le)&&(Se=me);break;case 3:le=I[ae+1],he=I[ae+2],(192&le)==128&&(192&he)==128&&2047<(me=(15&xe)<<12|(63&le)<<6|63&he)&&(me<55296||57343<me)&&(Se=me);break;case 4:le=I[ae+1],he=I[ae+2],ye=I[ae+3],(192&le)==128&&(192&he)==128&&(192&ye)==128&&65535<(me=(15&xe)<<18|(63&le)<<12|(63&he)<<6|63&ye)&&me<1114112&&(Se=me)}Se===null?(Se=65533,pe=1):65535<Se&&(Se-=65536,X.push(Se>>>10&1023|55296),Se=56320|1023&Se),X.push(Se),ae+=pe}var Te=X,ke=Te.length;if(ke<=P)return String.fromCharCode.apply(String,Te);for(var Me="",Ne=0;Ne<ke;)Me+=String.fromCharCode.apply(String,Te.slice(Ne,Ne+=P));return Me}o.kMaxLength=p,(d.TYPED_ARRAY_SUPPORT=function(){try{var I=new Uint8Array(1),U={foo:function(){return 42}};return Object.setPrototypeOf(U,Uint8Array.prototype),Object.setPrototypeOf(I,U),I.foo()===42}catch{return!1}}())||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(d.prototype,"parent",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.buffer}}),Object.defineProperty(d.prototype,"offset",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&d[Symbol.species]===d&&Object.defineProperty(d,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),d.poolSize=8192,d.from=f,Object.setPrototypeOf(d.prototype,Uint8Array.prototype),Object.setPrototypeOf(d,Uint8Array),d.alloc=function(I,U,H){return U=U,H=H,b(I=I),!(I<=0)&&U!==void 0?typeof H=="string"?y(I).fill(U,H):y(I).fill(U):y(I)},d.allocUnsafe=g,d.allocUnsafeSlow=g,d.isBuffer=function(I){return I!=null&&I._isBuffer===!0&&I!==d.prototype},d.compare=function(I,U){if(Q(I,Uint8Array)&&(I=d.from(I,I.offset,I.byteLength)),Q(U,Uint8Array)&&(U=d.from(U,U.offset,U.byteLength)),!d.isBuffer(I)||!d.isBuffer(U))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(I===U)return 0;for(var H=I.length,X=U.length,ae=0,le=Math.min(H,X);ae<le;++ae)if(I[ae]!==U[ae]){H=I[ae],X=U[ae];break}return H<X?-1:X<H?1:0},d.isEncoding=function(I){switch(String(I).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},d.concat=function(I,U){if(!Array.isArray(I))throw new TypeError('"list" argument must be an Array of Buffers');if(I.length===0)return d.alloc(0);if(U===void 0)for(ae=U=0;ae<I.length;++ae)U+=I[ae].length;for(var H=d.allocUnsafe(U),X=0,ae=0;ae<I.length;++ae){var le=I[ae];if(Q(le,Uint8Array)&&(le=d.from(le)),!d.isBuffer(le))throw new TypeError('"list" argument must be an Array of Buffers');le.copy(H,X),X+=le.length}return H},d.byteLength=x,d.prototype._isBuffer=!0,d.prototype.swap16=function(){var I=this.length;if(I%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var U=0;U<I;U+=2)S(this,U,U+1);return this},d.prototype.swap32=function(){var I=this.length;if(I%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var U=0;U<I;U+=4)S(this,U,U+3),S(this,U+1,U+2);return this},d.prototype.swap64=function(){var I=this.length;if(I%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var U=0;U<I;U+=8)S(this,U,U+7),S(this,U+1,U+6),S(this,U+2,U+5),S(this,U+3,U+4);return this},d.prototype.toLocaleString=d.prototype.toString=function(){var I=this.length;return I===0?"":arguments.length===0?j(this,0,I):w.apply(this,arguments)},d.prototype.equals=function(I){if(d.isBuffer(I))return this===I||d.compare(this,I)===0;throw new TypeError("Argument must be a Buffer")},d.prototype.inspect=function(){var U="",I=o.INSPECT_MAX_BYTES,U=this.toString("hex",0,I).replace(/(.{2})/g,"$1 ").trim();return this.length>I&&(U+=" ... "),"<Buffer "+U+">"},u&&(d.prototype[u]=d.prototype.inspect),d.prototype.compare=function(I,U,H,X,ae){if(Q(I,Uint8Array)&&(I=d.from(I,I.offset,I.byteLength)),!d.isBuffer(I))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof I);if(H===void 0&&(H=I?I.length:0),X===void 0&&(X=0),ae===void 0&&(ae=this.length),(U=U===void 0?0:U)<0||H>I.length||X<0||ae>this.length)throw new RangeError("out of range index");if(ae<=X&&H<=U)return 0;if(ae<=X)return-1;if(H<=U)return 1;if(this===I)return 0;for(var le=(ae>>>=0)-(X>>>=0),he=(H>>>=0)-(U>>>=0),ye=Math.min(le,he),me=this.slice(X,ae),xe=I.slice(U,H),Se=0;Se<ye;++Se)if(me[Se]!==xe[Se]){le=me[Se],he=xe[Se];break}return le<he?-1:he<le?1:0},d.prototype.includes=function(I,U,H){return this.indexOf(I,U,H)!==-1},d.prototype.indexOf=function(I,U,H){return R(this,I,U,H,!0)},d.prototype.lastIndexOf=function(I,U,H){return R(this,I,U,H,!1)},d.prototype.write=function(I,U,H,X){if(U===void 0)X="utf8",H=this.length,U=0;else if(H===void 0&&typeof U=="string")X=U,H=this.length,U=0;else{if(!isFinite(U))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");U>>>=0,isFinite(H)?(H>>>=0,X===void 0&&(X="utf8")):(X=H,H=void 0)}var ae=this.length-U;if((H===void 0||ae<H)&&(H=ae),0<I.length&&(H<0||U<0)||U>this.length)throw new RangeError("Attempt to write outside buffer bounds");X=X||"utf8";for(var le,he,ye,me=!1;;)switch(X){case"hex":var xe=this,Se=I,pe=U,Te=H,ke=(pe=Number(pe)||0,xe.length-pe);(!Te||ke<(Te=Number(Te)))&&(Te=ke),(ke=Se.length)/2<Te&&(Te=ke/2);for(var Me=0;Me<Te;++Me){var Ne=parseInt(Se.substr(2*Me,2),16);if(ne(Ne))return Me;xe[pe+Me]=Ne}return Me;case"utf8":case"utf-8":return ke=U,ye=H,ee(J(I,(he=this).length-ke),he,ke,ye);case"ascii":return A(this,I,U,H);case"latin1":case"binary":return A(this,I,U,H);case"base64":return he=this,ye=U,le=H,ee(te(I),he,ye,le);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,I,U,H);default:if(me)throw new TypeError("Unknown encoding: "+X);X=(""+X).toLowerCase(),me=!0}},d.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var P=4096;function O(I,U,H){if(I%1!=0||I<0)throw new RangeError("offset is not uint");if(H<I+U)throw new RangeError("Trying to access beyond buffer length")}function L(I,U,H,X,ae,le){if(!d.isBuffer(I))throw new TypeError('"buffer" argument must be a Buffer instance');if(ae<U||U<le)throw new RangeError('"value" argument is out of bounds');if(H+X>I.length)throw new RangeError("Index out of range")}function N(I,U,H,X){if(H+X>I.length)throw new RangeError("Index out of range");if(H<0)throw new RangeError("Index out of range")}function q(I,U,H,X,ae){return U=+U,H>>>=0,ae||N(I,0,H,4),l.write(I,U,H,X,23,4),H+4}function W(I,U,H,X,ae){return U=+U,H>>>=0,ae||N(I,0,H,8),l.write(I,U,H,X,52,8),H+8}d.prototype.slice=function(I,U){var H=this.length,H=((I=~~I)<0?(I+=H)<0&&(I=0):H<I&&(I=H),(U=U===void 0?H:~~U)<0?(U+=H)<0&&(U=0):H<U&&(U=H),U<I&&(U=I),this.subarray(I,U));return Object.setPrototypeOf(H,d.prototype),H},d.prototype.readUIntLE=function(I,U,H){I>>>=0,U>>>=0,H||O(I,U,this.length);for(var X=this[I],ae=1,le=0;++le<U&&(ae*=256);)X+=this[I+le]*ae;return X},d.prototype.readUIntBE=function(I,U,H){I>>>=0,U>>>=0,H||O(I,U,this.length);for(var X=this[I+--U],ae=1;0<U&&(ae*=256);)X+=this[I+--U]*ae;return X},d.prototype.readUInt8=function(I,U){return I>>>=0,U||O(I,1,this.length),this[I]},d.prototype.readUInt16LE=function(I,U){return I>>>=0,U||O(I,2,this.length),this[I]|this[I+1]<<8},d.prototype.readUInt16BE=function(I,U){return I>>>=0,U||O(I,2,this.length),this[I]<<8|this[I+1]},d.prototype.readUInt32LE=function(I,U){return I>>>=0,U||O(I,4,this.length),(this[I]|this[I+1]<<8|this[I+2]<<16)+16777216*this[I+3]},d.prototype.readUInt32BE=function(I,U){return I>>>=0,U||O(I,4,this.length),16777216*this[I]+(this[I+1]<<16|this[I+2]<<8|this[I+3])},d.prototype.readIntLE=function(I,U,H){I>>>=0,U>>>=0,H||O(I,U,this.length);for(var X=this[I],ae=1,le=0;++le<U&&(ae*=256);)X+=this[I+le]*ae;return(ae*=128)<=X&&(X-=Math.pow(2,8*U)),X},d.prototype.readIntBE=function(I,U,H){I>>>=0,U>>>=0,H||O(I,U,this.length);for(var X=U,ae=1,le=this[I+--X];0<X&&(ae*=256);)le+=this[I+--X]*ae;return(ae*=128)<=le&&(le-=Math.pow(2,8*U)),le},d.prototype.readInt8=function(I,U){return I>>>=0,U||O(I,1,this.length),128&this[I]?-1*(255-this[I]+1):this[I]},d.prototype.readInt16LE=function(I,U){return I>>>=0,U||O(I,2,this.length),U=this[I]|this[I+1]<<8,32768&U?4294901760|U:U},d.prototype.readInt16BE=function(I,U){return I>>>=0,U||O(I,2,this.length),U=this[I+1]|this[I]<<8,32768&U?4294901760|U:U},d.prototype.readInt32LE=function(I,U){return I>>>=0,U||O(I,4,this.length),this[I]|this[I+1]<<8|this[I+2]<<16|this[I+3]<<24},d.prototype.readInt32BE=function(I,U){return I>>>=0,U||O(I,4,this.length),this[I]<<24|this[I+1]<<16|this[I+2]<<8|this[I+3]},d.prototype.readFloatLE=function(I,U){return I>>>=0,U||O(I,4,this.length),l.read(this,I,!0,23,4)},d.prototype.readFloatBE=function(I,U){return I>>>=0,U||O(I,4,this.length),l.read(this,I,!1,23,4)},d.prototype.readDoubleLE=function(I,U){return I>>>=0,U||O(I,8,this.length),l.read(this,I,!0,52,8)},d.prototype.readDoubleBE=function(I,U){return I>>>=0,U||O(I,8,this.length),l.read(this,I,!1,52,8)},d.prototype.writeUIntLE=function(I,U,H,X){I=+I,U>>>=0,H>>>=0,X||L(this,I,U,H,Math.pow(2,8*H)-1,0);var ae=1,le=0;for(this[U]=255&I;++le<H&&(ae*=256);)this[U+le]=I/ae&255;return U+H},d.prototype.writeUIntBE=function(I,U,H,X){I=+I,U>>>=0,H>>>=0,X||L(this,I,U,H,Math.pow(2,8*H)-1,0);var ae=H-1,le=1;for(this[U+ae]=255&I;0<=--ae&&(le*=256);)this[U+ae]=I/le&255;return U+H},d.prototype.writeUInt8=function(I,U,H){return I=+I,U>>>=0,H||L(this,I,U,1,255,0),this[U]=255&I,U+1},d.prototype.writeUInt16LE=function(I,U,H){return I=+I,U>>>=0,H||L(this,I,U,2,65535,0),this[U]=255&I,this[U+1]=I>>>8,U+2},d.prototype.writeUInt16BE=function(I,U,H){return I=+I,U>>>=0,H||L(this,I,U,2,65535,0),this[U]=I>>>8,this[U+1]=255&I,U+2},d.prototype.writeUInt32LE=function(I,U,H){return I=+I,U>>>=0,H||L(this,I,U,4,4294967295,0),this[U+3]=I>>>24,this[U+2]=I>>>16,this[U+1]=I>>>8,this[U]=255&I,U+4},d.prototype.writeUInt32BE=function(I,U,H){return I=+I,U>>>=0,H||L(this,I,U,4,4294967295,0),this[U]=I>>>24,this[U+1]=I>>>16,this[U+2]=I>>>8,this[U+3]=255&I,U+4},d.prototype.writeIntLE=function(I,U,H,X){I=+I,U>>>=0,X||L(this,I,U,H,(X=Math.pow(2,8*H-1))-1,-X);var ae=0,le=1,he=0;for(this[U]=255&I;++ae<H&&(le*=256);)I<0&&he===0&&this[U+ae-1]!==0&&(he=1),this[U+ae]=(I/le>>0)-he&255;return U+H},d.prototype.writeIntBE=function(I,U,H,X){I=+I,U>>>=0,X||L(this,I,U,H,(X=Math.pow(2,8*H-1))-1,-X);var ae=H-1,le=1,he=0;for(this[U+ae]=255&I;0<=--ae&&(le*=256);)I<0&&he===0&&this[U+ae+1]!==0&&(he=1),this[U+ae]=(I/le>>0)-he&255;return U+H},d.prototype.writeInt8=function(I,U,H){return I=+I,U>>>=0,H||L(this,I,U,1,127,-128),this[U]=255&(I=I<0?255+I+1:I),U+1},d.prototype.writeInt16LE=function(I,U,H){return I=+I,U>>>=0,H||L(this,I,U,2,32767,-32768),this[U]=255&I,this[U+1]=I>>>8,U+2},d.prototype.writeInt16BE=function(I,U,H){return I=+I,U>>>=0,H||L(this,I,U,2,32767,-32768),this[U]=I>>>8,this[U+1]=255&I,U+2},d.prototype.writeInt32LE=function(I,U,H){return I=+I,U>>>=0,H||L(this,I,U,4,2147483647,-2147483648),this[U]=255&I,this[U+1]=I>>>8,this[U+2]=I>>>16,this[U+3]=I>>>24,U+4},d.prototype.writeInt32BE=function(I,U,H){return I=+I,U>>>=0,H||L(this,I,U,4,2147483647,-2147483648),this[U]=(I=I<0?4294967295+I+1:I)>>>24,this[U+1]=I>>>16,this[U+2]=I>>>8,this[U+3]=255&I,U+4},d.prototype.writeFloatLE=function(I,U,H){return q(this,I,U,!0,H)},d.prototype.writeFloatBE=function(I,U,H){return q(this,I,U,!1,H)},d.prototype.writeDoubleLE=function(I,U,H){return W(this,I,U,!0,H)},d.prototype.writeDoubleBE=function(I,U,H){return W(this,I,U,!1,H)},d.prototype.copy=function(I,U,H,X){if(!d.isBuffer(I))throw new TypeError("argument should be a Buffer");if(H=H||0,X||X===0||(X=this.length),U>=I.length&&(U=I.length),(X=0<X&&X<H?H:X)===H||I.length===0||this.length===0)return 0;if((U=U||0)<0)throw new RangeError("targetStart out of bounds");if(H<0||H>=this.length)throw new RangeError("Index out of range");if(X<0)throw new RangeError("sourceEnd out of bounds");X>this.length&&(X=this.length);var ae=(X=I.length-U<X-H?I.length-U+H:X)-H;if(this===I&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(U,H,X);else if(this===I&&H<U&&U<X)for(var le=ae-1;0<=le;--le)I[le+U]=this[le+H];else Uint8Array.prototype.set.call(I,this.subarray(H,X),U);return ae},d.prototype.fill=function(I,U,H,X){if(typeof I=="string"){if(typeof U=="string"?(X=U,U=0,H=this.length):typeof H=="string"&&(X=H,H=this.length),X!==void 0&&typeof X!="string")throw new TypeError("encoding must be a string");if(typeof X=="string"&&!d.isEncoding(X))throw new TypeError("Unknown encoding: "+X);var ae;I.length===1&&(ae=I.charCodeAt(0),(X==="utf8"&&ae<128||X==="latin1")&&(I=ae))}else typeof I=="number"?I&=255:typeof I=="boolean"&&(I=Number(I));if(U<0||this.length<U||this.length<H)throw new RangeError("Out of range index");var le;if(!(H<=U))if(U>>>=0,H=H===void 0?this.length:H>>>0,typeof(I=I||0)=="number")for(le=U;le<H;++le)this[le]=I;else{var he=d.isBuffer(I)?I:d.from(I,X),ye=he.length;if(ye===0)throw new TypeError('The value "'+I+'" is invalid for argument "value"');for(le=0;le<H-U;++le)this[le+U]=he[le%ye]}return this};var Y=/[^+/0-9A-Za-z-_]/g;function J(I,U){U=U||1/0;for(var H,X=I.length,ae=null,le=[],he=0;he<X;++he){if(55295<(H=I.charCodeAt(he))&&H<57344){if(!ae){if(56319<H){-1<(U-=3)&&le.push(239,191,189);continue}if(he+1===X){-1<(U-=3)&&le.push(239,191,189);continue}ae=H;continue}if(H<56320){-1<(U-=3)&&le.push(239,191,189),ae=H;continue}H=65536+(ae-55296<<10|H-56320)}else ae&&-1<(U-=3)&&le.push(239,191,189);if(ae=null,H<128){if(--U<0)break;le.push(H)}else if(H<2048){if((U-=2)<0)break;le.push(H>>6|192,63&H|128)}else if(H<65536){if((U-=3)<0)break;le.push(H>>12|224,H>>6&63|128,63&H|128)}else{if(!(H<1114112))throw new Error("Invalid code point");if((U-=4)<0)break;le.push(H>>18|240,H>>12&63|128,H>>6&63|128,63&H|128)}}return le}function te(I){return c.toByteArray(function(U){if((U=(U=U.split("=")[0]).trim().replace(Y,"")).length<2)return"";for(;U.length%4!=0;)U+="=";return U}(I))}function ee(I,U,H,X){for(var ae=0;ae<X&&!(ae+H>=U.length||ae>=I.length);++ae)U[ae+H]=I[ae];return ae}function Q(I,U){return I instanceof U||I!=null&&I.constructor!=null&&I.constructor.name!=null&&I.constructor.name===U.name}function ne(I){return I!=I}var re=function(){for(var I="0123456789abcdef",U=new Array(256),H=0;H<16;++H)for(var X=16*H,ae=0;ae<16;++ae)U[X+ae]=I[H]+I[ae];return U}()}).call(this,r("buffer").Buffer)},{"base64-js":1,buffer:4,ieee754:254}],5:[function(r,s,o){s.exports=function(a){if(typeof a!="function")throw TypeError(String(a)+" is not a function");return a}},{}],6:[function(r,s,o){var a=r("../internals/is-object");s.exports=function(c){if(a(c)||c===null)return c;throw TypeError("Can't set "+String(c)+" as a prototype")}},{"../internals/is-object":75}],7:[function(l,s,o){var a=l("../internals/well-known-symbol"),c=l("../internals/object-create"),l=l("../internals/object-define-property"),u=a("unscopables"),p=Array.prototype;p[u]==null&&l.f(p,u,{configurable:!0,value:c(null)}),s.exports=function(y){p[u][y]=!0}},{"../internals/object-create":91,"../internals/object-define-property":93,"../internals/well-known-symbol":150}],8:[function(r,s,o){var a=r("../internals/string-multibyte").charAt;s.exports=function(c,l,u){return l+(u?a(c,l).length:1)}},{"../internals/string-multibyte":125}],9:[function(r,s,o){s.exports=function(a,c,l){if(a instanceof c)return a;throw TypeError("Incorrect "+(l?l+" ":"")+"invocation")}},{}],10:[function(r,s,o){var a=r("../internals/is-object");s.exports=function(c){if(a(c))return c;throw TypeError(String(c)+" is not an object")}},{"../internals/is-object":75}],11:[function(r,s,o){s.exports=typeof ArrayBuffer<"u"&&typeof DataView<"u"},{}],12:[function(N,s,o){function a(W){return y(W)&&d(q,f(W))}var c,l=N("../internals/array-buffer-native"),u=N("../internals/descriptors"),p=N("../internals/global"),y=N("../internals/is-object"),d=N("../internals/has"),f=N("../internals/classof"),b=N("../internals/create-non-enumerable-property"),g=N("../internals/redefine"),v=N("../internals/object-define-property").f,_=N("../internals/object-get-prototype-of"),x=N("../internals/object-set-prototype-of"),P=N("../internals/well-known-symbol"),N=N("../internals/uid"),w=p.Int8Array,S=w&&w.prototype,R=p.Uint8ClampedArray,R=R&&R.prototype,D=w&&_(w),A=S&&_(S),C=Object.prototype,j=C.isPrototypeOf,P=P("toStringTag"),O=N("TYPED_ARRAY_TAG"),L=l&&!!x&&f(p.opera)!=="Opera",N=!1,q={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8};for(c in q)p[c]||(L=!1);if((!L||typeof D!="function"||D===Function.prototype)&&(D=function(){throw TypeError("Incorrect invocation")},L))for(c in q)p[c]&&x(p[c],D);if((!L||!A||A===C)&&(A=D.prototype,L))for(c in q)p[c]&&x(p[c].prototype,A);if(L&&_(R)!==A&&x(R,A),u&&!d(A,P))for(c in N=!0,v(A,P,{get:function(){return y(this)?this[O]:void 0}}),q)p[c]&&b(p[c],O,c);s.exports={NATIVE_ARRAY_BUFFER_VIEWS:L,TYPED_ARRAY_TAG:N&&O,aTypedArray:function(W){if(a(W))return W;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(W){if(x){if(j.call(D,W))return W}else for(var Y in q)if(d(q,c)&&(Y=p[Y],Y&&(W===Y||j.call(Y,W))))return W;throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(W,Y,J){if(u){if(J)for(var te in q)te=p[te],te&&d(te.prototype,W)&&delete te.prototype[W];A[W]&&!J||g(A,W,!J&&L&&S[W]||Y)}},exportTypedArrayStaticMethod:function(W,Y,J){var te,ee;if(u){if(x){if(J)for(te in q)(ee=p[te])&&d(ee,W)&&delete ee[W];if(D[W]&&!J)return;try{return g(D,W,!J&&L&&w[W]||Y)}catch{}}for(te in q)!(ee=p[te])||ee[W]&&!J||g(ee,W,Y)}},isView:function(W){return W=f(W),W==="DataView"||d(q,W)},isTypedArray:a,TypedArray:D,TypedArrayPrototype:A}},{"../internals/array-buffer-native":11,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/global":60,"../internals/has":61,"../internals/is-object":75,"../internals/object-define-property":93,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine":110,"../internals/uid":147,"../internals/well-known-symbol":150}],13:[function(H,s,o){function a(pe){return[255&pe]}function c(pe){return[255&pe,pe>>8&255]}function l(pe){return[255&pe,pe>>8&255,pe>>16&255,pe>>24&255]}function u(pe){return pe[3]<<24|pe[2]<<16|pe[1]<<8|pe[0]}function p(pe){return le(pe,23,4)}function y(pe){return le(pe,52,8)}function d(pe,Te){N(pe[Q],Te,{get:function(){return Y(this)[Te]}})}function f(Xe,Te,Ve,Me){if(Ve=C(Ve),Xe=Y(Xe),Ve+Te>Xe.byteLength)throw ae(ne);var Ne=Y(Xe.buffer).bytes,Ve=Ve+Xe.byteOffset,Xe=Ne.slice(Ve,Ve+Te);return Me?Xe:Xe.reverse()}function b(pe,Te,ke,Me,Ne,Ve){if(ke=C(ke),pe=Y(pe),ke+Te>pe.byteLength)throw ae(ne);for(var Xe=Y(pe.buffer).bytes,ht=ke+pe.byteOffset,Ke=Me(+Ne),jt=0;jt<Te;jt++)Xe[ht+jt]=Ke[Ve?jt:Te-jt-1]}var g=H("../internals/global"),v=H("../internals/descriptors"),_=H("../internals/array-buffer-native"),x=H("../internals/create-non-enumerable-property"),w=H("../internals/redefine-all"),S=H("../internals/fails"),R=H("../internals/an-instance"),D=H("../internals/to-integer"),A=H("../internals/to-length"),C=H("../internals/to-index"),j=H("../internals/ieee754"),P=H("../internals/object-get-prototype-of"),O=H("../internals/object-set-prototype-of"),L=H("../internals/object-get-own-property-names").f,N=H("../internals/object-define-property").f,q=H("../internals/array-fill"),W=H("../internals/set-to-string-tag"),H=H("../internals/internal-state"),Y=H.get,J=H.set,te="ArrayBuffer",ee="DataView",Q="prototype",ne="Wrong index",re=g[te],I=re,U=g[ee],H=U&&U[Q],X=Object.prototype,ae=g.RangeError,le=j.pack,he=j.unpack;if(_){if(!S(function(){re(1)})||!S(function(){new re(-1)})||S(function(){return new re,new re(1.5),new re(NaN),re.name!=te})){for(var ye,g=(I=function(ke){return R(this,I),new re(C(ke))})[Q]=re[Q],me=L(re),xe=0;me.length>xe;)(ye=me[xe++])in I||x(I,ye,re[ye]);g.constructor=I}O&&P(H)!==X&&O(H,X);var j=new U(new I(2)),Se=H.setInt8;j.setInt8(0,2147483648),j.setInt8(1,2147483649),!j.getInt8(0)&&j.getInt8(1)||w(H,{setInt8:function(Te,ke){Se.call(this,Te,ke<<24>>24)},setUint8:function(Te,ke){Se.call(this,Te,ke<<24>>24)}},{unsafe:!0})}else I=function(pe){R(this,I,te),pe=C(pe),J(this,{bytes:q.call(new Array(pe),0),byteLength:pe}),v||(this.byteLength=pe)},U=function(pe,Ne,ke){R(this,U,ee),R(pe,I,ee);var Me=Y(pe).byteLength,Ne=D(Ne);if(Ne<0||Me<Ne)throw ae("Wrong offset");if(Me<Ne+(ke=ke===void 0?Me-Ne:A(ke)))throw ae("Wrong length");J(this,{buffer:pe,byteLength:ke,byteOffset:Ne}),v||(this.buffer=pe,this.byteLength=ke,this.byteOffset=Ne)},v&&(d(I,"byteLength"),d(U,"buffer"),d(U,"byteLength"),d(U,"byteOffset")),w(U[Q],{getInt8:function(pe){return f(this,1,pe)[0]<<24>>24},getUint8:function(pe){return f(this,1,pe)[0]},getInt16:function(pe){return pe=f(this,2,pe,1<arguments.length?arguments[1]:void 0),(pe[1]<<8|pe[0])<<16>>16},getUint16:function(pe){return pe=f(this,2,pe,1<arguments.length?arguments[1]:void 0),pe[1]<<8|pe[0]},getInt32:function(pe){return u(f(this,4,pe,1<arguments.length?arguments[1]:void 0))},getUint32:function(pe){return u(f(this,4,pe,1<arguments.length?arguments[1]:void 0))>>>0},getFloat32:function(pe){return he(f(this,4,pe,1<arguments.length?arguments[1]:void 0),23)},getFloat64:function(pe){return he(f(this,8,pe,1<arguments.length?arguments[1]:void 0),52)},setInt8:function(pe,Te){b(this,1,pe,a,Te)},setUint8:function(pe,Te){b(this,1,pe,a,Te)},setInt16:function(pe,Te){b(this,2,pe,c,Te,2<arguments.length?arguments[2]:void 0)},setUint16:function(pe,Te){b(this,2,pe,c,Te,2<arguments.length?arguments[2]:void 0)},setInt32:function(pe,Te){b(this,4,pe,l,Te,2<arguments.length?arguments[2]:void 0)},setUint32:function(pe,Te){b(this,4,pe,l,Te,2<arguments.length?arguments[2]:void 0)},setFloat32:function(pe,Te){b(this,4,pe,p,Te,2<arguments.length?arguments[2]:void 0)},setFloat64:function(pe,Te){b(this,8,pe,y,Te,2<arguments.length?arguments[2]:void 0)}});W(I,te),W(U,ee),s.exports={ArrayBuffer:I,DataView:U}},{"../internals/an-instance":9,"../internals/array-buffer-native":11,"../internals/array-fill":15,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/ieee754":66,"../internals/internal-state":71,"../internals/object-define-property":93,"../internals/object-get-own-property-names":96,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine-all":109,"../internals/set-to-string-tag":119,"../internals/to-index":135,"../internals/to-integer":137,"../internals/to-length":138}],14:[function(r,s,o){var a=r("../internals/to-object"),c=r("../internals/to-absolute-index"),l=r("../internals/to-length"),u=Math.min;s.exports=[].copyWithin||function(v,y){var d=a(this),f=l(d.length),b=c(v,f),g=c(y,f),v=2<arguments.length?arguments[2]:void 0,_=u((v===void 0?f:c(v,f))-g,f-b),x=1;for(g<b&&b<g+_&&(x=-1,g+=_-1,b+=_-1);0<_--;)g in d?d[b]=d[g]:delete d[b],b+=x,g+=x;return d}},{"../internals/to-absolute-index":134,"../internals/to-length":138,"../internals/to-object":139}],15:[function(r,s,o){var a=r("../internals/to-object"),c=r("../internals/to-absolute-index"),l=r("../internals/to-length");s.exports=function(u){for(var p=a(this),y=l(p.length),f=arguments.length,d=c(1<f?arguments[1]:void 0,y),f=2<f?arguments[2]:void 0,b=f===void 0?y:c(f,y);d<b;)p[d++]=u;return p}},{"../internals/to-absolute-index":134,"../internals/to-length":138,"../internals/to-object":139}],16:[function(l,s,o){var a=l("../internals/array-iteration").forEach,c=l("../internals/array-method-is-strict"),l=l("../internals/array-method-uses-to-length"),c=c("forEach"),l=l("forEach");s.exports=c&&l?[].forEach:function(u){return a(this,u,1<arguments.length?arguments[1]:void 0)}},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23}],17:[function(r,s,o){var a=r("../internals/function-bind-context"),c=r("../internals/to-object"),l=r("../internals/call-with-safe-iteration-closing"),u=r("../internals/is-array-iterator-method"),p=r("../internals/to-length"),y=r("../internals/create-property"),d=r("../internals/get-iterator-method");s.exports=function(R){var b,g,v,_,x,w,S=c(R),R=typeof this=="function"?this:Array,D=arguments.length,A=1<D?arguments[1]:void 0,C=A!==void 0,j=d(S),P=0;if(C&&(A=a(A,2<D?arguments[2]:void 0,2)),j==null||R==Array&&u(j))for(g=new R(b=p(S.length));P<b;P++)w=C?A(S[P],P):S[P],y(g,P,w);else for(x=(_=j.call(S)).next,g=new R;!(v=x.call(_)).done;P++)w=C?l(_,A,[v.value,P],!0):v.value,y(g,P,w);return g.length=P,g}},{"../internals/call-with-safe-iteration-closing":26,"../internals/create-property":40,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":138,"../internals/to-object":139}],18:[function(r,s,o){function a(p){return function(y,d,f){var b,g=c(y),v=l(g.length),_=u(f,v);if(p&&d!=d){for(;_<v;)if((b=g[_++])!=b)return!0}else for(;_<v;_++)if((p||_ in g)&&g[_]===d)return p||_||0;return!p&&-1}}var c=r("../internals/to-indexed-object"),l=r("../internals/to-length"),u=r("../internals/to-absolute-index");s.exports={includes:a(!0),indexOf:a(!1)}},{"../internals/to-absolute-index":134,"../internals/to-indexed-object":136,"../internals/to-length":138}],19:[function(r,s,o){function a(f){var b=f==1,g=f==2,v=f==3,_=f==4,x=f==6,w=f==5||x;return function(S,R,D,A){for(var C,j,P=u(S),O=l(P),L=c(R,D,3),N=p(O.length),q=0,R=A||y,W=b?R(S,N):g?R(S,0):void 0;q<N;q++)if((w||q in O)&&(j=L(C=O[q],q,P),f)){if(b)W[q]=j;else if(j)switch(f){case 3:return!0;case 5:return C;case 6:return q;case 2:d.call(W,C)}else if(_)return!1}return x?-1:v||_?_:W}}var c=r("../internals/function-bind-context"),l=r("../internals/indexed-object"),u=r("../internals/to-object"),p=r("../internals/to-length"),y=r("../internals/array-species-create"),d=[].push;s.exports={forEach:a(0),map:a(1),filter:a(2),some:a(3),every:a(4),find:a(5),findIndex:a(6)}},{"../internals/array-species-create":25,"../internals/function-bind-context":55,"../internals/indexed-object":67,"../internals/to-length":138,"../internals/to-object":139}],20:[function(f,s,o){var a=f("../internals/to-indexed-object"),c=f("../internals/to-integer"),l=f("../internals/to-length"),d=f("../internals/array-method-is-strict"),f=f("../internals/array-method-uses-to-length"),u=Math.min,p=[].lastIndexOf,y=!!p&&1/[1].lastIndexOf(1,-0)<0,d=d("lastIndexOf"),f=f("indexOf",{ACCESSORS:!0,1:0});s.exports=y||!d||!f?function(b){if(y)return p.apply(this,arguments)||0;var g=a(this),v=l(g.length),_=v-1;for((_=1<arguments.length?u(_,c(arguments[1])):_)<0&&(_=v+_);0<=_;_--)if(_ in g&&g[_]===b)return _||0;return-1}:p},{"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/to-indexed-object":136,"../internals/to-integer":137,"../internals/to-length":138}],21:[function(r,s,o){var a=r("../internals/fails"),c=r("../internals/well-known-symbol"),l=r("../internals/engine-v8-version"),u=c("species");s.exports=function(p){return 51<=l||!a(function(){var y=[];return(y.constructor={})[u]=function(){return{foo:1}},y[p](Boolean).foo!==1})}},{"../internals/engine-v8-version":48,"../internals/fails":51,"../internals/well-known-symbol":150}],22:[function(r,s,o){var a=r("../internals/fails");s.exports=function(c,l){var u=[][c];return!!u&&a(function(){u.call(null,l||function(){throw 1},1)})}},{"../internals/fails":51}],23:[function(r,s,o){function a(d){throw d}var c=r("../internals/descriptors"),l=r("../internals/fails"),u=r("../internals/has"),p=Object.defineProperty,y={};s.exports=function(d,f){var b,g,v,_;return u(y,d)?y[d]:(b=[][d],g=!!u(f=f||{},"ACCESSORS")&&f.ACCESSORS,v=u(f,0)?f[0]:a,_=u(f,1)?f[1]:void 0,y[d]=!!b&&!l(function(){if(g&&!c)return!0;var x={length:-1};g?p(x,1,{enumerable:!0,get:a}):x[1]=1,b.call(x,v,_)}))}},{"../internals/descriptors":43,"../internals/fails":51,"../internals/has":61}],24:[function(r,s,o){function a(y){return function(d,f,b,g){c(f);var v=l(d),_=u(v),x=p(v.length),w=y?x-1:0,S=y?-1:1;if(b<2)for(;;){if(w in _){g=_[w],w+=S;break}if(w+=S,y?w<0:x<=w)throw TypeError("Reduce of empty array with no initial value")}for(;y?0<=w:w<x;w+=S)w in _&&(g=f(g,_[w],w,v));return g}}var c=r("../internals/a-function"),l=r("../internals/to-object"),u=r("../internals/indexed-object"),p=r("../internals/to-length");s.exports={left:a(!1),right:a(!0)}},{"../internals/a-function":5,"../internals/indexed-object":67,"../internals/to-length":138,"../internals/to-object":139}],25:[function(r,s,o){var a=r("../internals/is-object"),c=r("../internals/is-array"),l=r("../internals/well-known-symbol")("species");s.exports=function(u,p){var y;return new((y=c(u)&&(typeof(y=u.constructor)=="function"&&(y===Array||c(y.prototype))||a(y)&&(y=y[l])===null)?void 0:y)===void 0?Array:y)(p===0?0:p)}},{"../internals/is-array":73,"../internals/is-object":75,"../internals/well-known-symbol":150}],26:[function(r,s,o){var a=r("../internals/an-object");s.exports=function(c,l,u,p){try{return p?l(a(u)[0],u[1]):l(u)}catch(y){throw p=c.return,p!==void 0&&a(p.call(c)),y}}},{"../internals/an-object":10}],27:[function(r,s,o){var a=r("../internals/well-known-symbol")("iterator"),c=!1;try{var l=0,u={next:function(){return{done:!!l++}},return:function(){c=!0}};u[a]=function(){return this},Array.from(u,function(){throw 2})}catch{}s.exports=function(p,y){if(!y&&!c)return!1;var d=!1;try{var f={};f[a]=function(){return{next:function(){return{done:d=!0}}}},p(f)}catch{}return d}},{"../internals/well-known-symbol":150}],28:[function(r,s,o){var a={}.toString;s.exports=function(c){return a.call(c).slice(8,-1)}},{}],29:[function(r,s,o){var a=r("../internals/to-string-tag-support"),c=r("../internals/classof-raw"),l=r("../internals/well-known-symbol")("toStringTag"),u=c(function(){return arguments}())=="Arguments";s.exports=a?c:function(p){var y;return p===void 0?"Undefined":p===null?"Null":typeof(y=function(d,f){try{return d[f]}catch{}}(p=Object(p),l))=="string"?y:u?c(p):(y=c(p))=="Object"&&typeof p.callee=="function"?"Arguments":y}},{"../internals/classof-raw":28,"../internals/to-string-tag-support":143,"../internals/well-known-symbol":150}],30:[function(v,s,o){var a=v("../internals/object-define-property").f,c=v("../internals/object-create"),l=v("../internals/redefine-all"),u=v("../internals/function-bind-context"),p=v("../internals/an-instance"),y=v("../internals/iterate"),d=v("../internals/define-iterator"),f=v("../internals/set-species"),b=v("../internals/descriptors"),g=v("../internals/internal-metadata").fastKey,v=v("../internals/internal-state"),_=v.set,x=v.getterFor;s.exports={getConstructor:function(w,S,R,D){function A(O,L,N){var q,W=P(O),Y=C(O,L);return Y?Y.value=N:(W.last=Y={index:q=g(L,!0),key:L,value:N,previous:L=W.last,next:void 0,removed:!1},W.first||(W.first=Y),L&&(L.next=Y),b?W.size++:O.size++,q!=="F"&&(W.index[q]=Y)),O}function C(q,L){var N,q=P(q),W=g(L);if(W!=="F")return q.index[W];for(N=q.first;N;N=N.next)if(N.key==L)return N}var j=w(function(O,L){p(O,j,S),_(O,{type:S,index:c(null),first:void 0,last:void 0,size:0}),b||(O.size=0),L!=null&&y(L,O[D],O,R)}),P=x(S);return l(j.prototype,{clear:function(){for(var O=P(this),L=O.index,N=O.first;N;)N.removed=!0,N.previous&&(N.previous=N.previous.next=void 0),delete L[N.index],N=N.next;O.first=O.last=void 0,b?O.size=0:this.size=0},delete:function(W){var L,N,q=P(this),W=C(this,W);return W&&(L=W.next,N=W.previous,delete q.index[W.index],W.removed=!0,N&&(N.next=L),L&&(L.previous=N),q.first==W&&(q.first=L),q.last==W&&(q.last=N),b?q.size--:this.size--),!!W},forEach:function(O){for(var L,N=P(this),q=u(O,1<arguments.length?arguments[1]:void 0,3);L=L?L.next:N.first;)for(q(L.value,L.key,this);L&&L.removed;)L=L.previous},has:function(O){return!!C(this,O)}}),l(j.prototype,R?{get:function(O){return O=C(this,O),O&&O.value},set:function(O,L){return A(this,O===0?0:O,L)}}:{add:function(O){return A(this,O=O===0?0:O,O)}}),b&&a(j.prototype,"size",{get:function(){return P(this).size}}),j},setStrong:function(w,S,R){var D=S+" Iterator",A=x(S),C=x(D);d(w,S,function(j,P){_(this,{type:D,target:j,state:A(j),kind:P,last:void 0})},function(){for(var j=C(this),P=j.kind,O=j.last;O&&O.removed;)O=O.previous;return j.target&&(j.last=O=O?O.next:j.state.first)?P=="keys"?{value:O.key,done:!1}:P=="values"?{value:O.value,done:!1}:{value:[O.key,O.value],done:!1}:{value:j.target=void 0,done:!0}},R?"entries":"values",!R,!0),f(S)}}},{"../internals/an-instance":9,"../internals/define-iterator":41,"../internals/descriptors":43,"../internals/function-bind-context":55,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/iterate":78,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/redefine-all":109,"../internals/set-species":118}],31:[function(_,s,o){function a(A){return A.frozen||(A.frozen=new c)}function c(){this.entries=[]}function l(A,C){return S(A.entries,function(j){return j[0]===C})}var u=_("../internals/redefine-all"),p=_("../internals/internal-metadata").getWeakData,y=_("../internals/an-object"),d=_("../internals/is-object"),f=_("../internals/an-instance"),b=_("../internals/iterate"),g=_("../internals/array-iteration"),v=_("../internals/has"),_=_("../internals/internal-state"),x=_.set,w=_.getterFor,S=g.find,R=g.findIndex,D=0;c.prototype={get:function(A){if(A=l(this,A),A)return A[1]},has:function(A){return!!l(this,A)},set:function(A,C){var j=l(this,A);j?j[1]=C:this.entries.push([A,C])},delete:function(A){var C=R(this.entries,function(j){return j[0]===A});return~C&&this.entries.splice(C,1),!!~C}},s.exports={getConstructor:function(A,C,j,P){function O(q,W,Y){var J=N(q),te=p(y(W),!0);return te===!0?a(J).set(W,Y):te[J.id]=Y,q}var L=A(function(q,W){f(q,L,C),x(q,{type:C,id:D++,frozen:void 0}),W!=null&&b(W,q[P],q,j)}),N=w(C);return u(L.prototype,{delete:function(q){var W,Y=N(this);return!!d(q)&&((W=p(q))===!0?a(Y).delete(q):W&&v(W,Y.id)&&delete W[Y.id])},has:function(q){var W,Y=N(this);return!!d(q)&&((W=p(q))===!0?a(Y).has(q):W&&v(W,Y.id))}}),u(L.prototype,j?{get:function(q){var W,Y=N(this);if(d(q))return(W=p(q))===!0?a(Y).get(q):W?W[Y.id]:void 0},set:function(q,W){return O(this,q,W)}}:{add:function(q){return O(this,q,!0)}}),L}}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/array-iteration":19,"../internals/has":61,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/is-object":75,"../internals/iterate":78,"../internals/redefine-all":109}],32:[function(r,s,o){var a=r("../internals/export"),c=r("../internals/global"),l=r("../internals/is-forced"),u=r("../internals/redefine"),p=r("../internals/internal-metadata"),y=r("../internals/iterate"),d=r("../internals/an-instance"),f=r("../internals/is-object"),b=r("../internals/fails"),g=r("../internals/check-correctness-of-iteration"),v=r("../internals/set-to-string-tag"),_=r("../internals/inherit-if-required");s.exports=function(x,w,S){function R(te){var ee=W[te];u(W,te,te=="add"?function(Q){return ee.call(this,Q===0?0:Q),this}:te=="delete"?function(Q){return!(L&&!f(Q))&&ee.call(this,Q===0?0:Q)}:te=="get"?function(Q){return L&&!f(Q)?void 0:ee.call(this,Q===0?0:Q)}:te=="has"?function(Q){return!(L&&!f(Q))&&ee.call(this,Q===0?0:Q)}:function(Q,ne){return ee.call(this,Q===0?0:Q,ne),this})}var D,A,C,j,P,O=x.indexOf("Map")!==-1,L=x.indexOf("Weak")!==-1,N=O?"set":"add",q=c[x],W=q&&q.prototype,Y=q,J={};return l(x,typeof q!="function"||!(L||W.forEach&&!b(function(){new q().entries().next()})))?(Y=S.getConstructor(w,x,O,N),p.REQUIRED=!0):l(x,!0)&&(A=(D=new Y)[N](L?{}:-0,1)!=D,C=b(function(){D.has(1)}),j=g(function(te){new q(te)}),P=!L&&b(function(){for(var te=new q,ee=5;ee--;)te[N](ee,ee);return!te.has(-0)}),j||(((Y=w(function(te,ee){return d(te,Y,x),te=_(new q,te,Y),ee!=null&&y(ee,te[N],te,O),te})).prototype=W).constructor=Y),(C||P)&&(R("delete"),R("has"),O&&R("get")),(P||A)&&R(N),L&&W.clear&&delete W.clear),J[x]=Y,a({global:!0,forced:Y!=q},J),v(Y,x),L||S.setStrong(Y,x,O),Y}},{"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/export":50,"../internals/fails":51,"../internals/global":60,"../internals/inherit-if-required":68,"../internals/internal-metadata":70,"../internals/is-forced":74,"../internals/is-object":75,"../internals/iterate":78,"../internals/redefine":110,"../internals/set-to-string-tag":119}],33:[function(r,s,o){var a=r("../internals/has"),c=r("../internals/own-keys"),l=r("../internals/object-get-own-property-descriptor"),u=r("../internals/object-define-property");s.exports=function(p,y){for(var d=c(y),f=u.f,b=l.f,g=0;g<d.length;g++){var v=d[g];a(p,v)||f(p,v,b(y,v))}}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/own-keys":105}],34:[function(r,s,o){var a=r("../internals/well-known-symbol")("match");s.exports=function(c){var l=/./;try{"/./"[c](l)}catch{try{return l[a]=!1,"/./"[c](l)}catch{}}return!1}},{"../internals/well-known-symbol":150}],35:[function(r,s,o){r=r("../internals/fails"),s.exports=!r(function(){function a(){}return a.prototype.constructor=null,Object.getPrototypeOf(new a)!==a.prototype})},{"../internals/fails":51}],36:[function(r,s,o){var a=r("../internals/require-object-coercible"),c=/"/g;s.exports=function(d,u,p,y){var d=String(a(d)),f="<"+u;return p!==""&&(f+=" "+p+'="'+String(y).replace(c,"&quot;")+'"'),f+">"+d+"</"+u+">"}},{"../internals/require-object-coercible":115}],37:[function(r,s,o){function a(){return this}var c=r("../internals/iterators-core").IteratorPrototype,l=r("../internals/object-create"),u=r("../internals/create-property-descriptor"),p=r("../internals/set-to-string-tag"),y=r("../internals/iterators");s.exports=function(d,f,b){return f+=" Iterator",d.prototype=l(c,{next:u(1,b)}),p(d,f,!1,!0),y[f]=a,d}},{"../internals/create-property-descriptor":39,"../internals/iterators":80,"../internals/iterators-core":79,"../internals/object-create":91,"../internals/set-to-string-tag":119}],38:[function(r,s,o){var a=r("../internals/descriptors"),c=r("../internals/object-define-property"),l=r("../internals/create-property-descriptor");s.exports=a?function(u,p,y){return c.f(u,p,l(1,y))}:function(u,p,y){return u[p]=y,u}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/object-define-property":93}],39:[function(r,s,o){s.exports=function(a,c){return{enumerable:!(1&a),configurable:!(2&a),writable:!(4&a),value:c}}},{}],40:[function(r,s,o){var a=r("../internals/to-primitive"),c=r("../internals/object-define-property"),l=r("../internals/create-property-descriptor");s.exports=function(u,p,y){p=a(p),p in u?c.f(u,p,l(0,y)):u[p]=y}},{"../internals/create-property-descriptor":39,"../internals/object-define-property":93,"../internals/to-primitive":142}],41:[function(_,s,o){function a(){return this}var c=_("../internals/export"),l=_("../internals/create-iterator-constructor"),u=_("../internals/object-get-prototype-of"),p=_("../internals/object-set-prototype-of"),y=_("../internals/set-to-string-tag"),d=_("../internals/create-non-enumerable-property"),f=_("../internals/redefine"),b=_("../internals/well-known-symbol"),g=_("../internals/is-pure"),v=_("../internals/iterators"),_=_("../internals/iterators-core"),x=_.IteratorPrototype,w=_.BUGGY_SAFARI_ITERATORS,S=b("iterator"),R="values",D="entries";s.exports=function(A,C,j,J,O,L,N){l(j,C,J);function q(I){if(I===O&&ne)return ne;if(!w&&I in ee)return ee[I];switch(I){case"keys":case R:case D:return function(){return new j(this,I)}}return function(){return new j(this)}}var W,Y,J=C+" Iterator",te=!1,ee=A.prototype,Q=ee[S]||ee["@@iterator"]||O&&ee[O],ne=!w&&Q||q(O),re=C=="Array"&&ee.entries||Q;if(re&&(re=u(re.call(new A)),x!==Object.prototype&&re.next&&(g||u(re)===x||(p?p(re,x):typeof re[S]!="function"&&d(re,S,a)),y(re,J,!0,!0),g&&(v[J]=a))),O==R&&Q&&Q.name!==R&&(te=!0,ne=function(){return Q.call(this)}),g&&!N||ee[S]===ne||d(ee,S,ne),v[C]=ne,O)if(W={values:q(R),keys:L?ne:q("keys"),entries:q(D)},N)for(Y in W)!w&&!te&&Y in ee||f(ee,Y,W[Y]);else c({target:C,proto:!0,forced:w||te},W);return W}},{"../internals/create-iterator-constructor":37,"../internals/create-non-enumerable-property":38,"../internals/export":50,"../internals/is-pure":76,"../internals/iterators":80,"../internals/iterators-core":79,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine":110,"../internals/set-to-string-tag":119,"../internals/well-known-symbol":150}],42:[function(r,s,o){var a=r("../internals/path"),c=r("../internals/has"),l=r("../internals/well-known-symbol-wrapped"),u=r("../internals/object-define-property").f;s.exports=function(p){var y=a.Symbol||(a.Symbol={});c(y,p)||u(y,p,{value:l.f(p)})}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/path":106,"../internals/well-known-symbol-wrapped":149}],43:[function(r,s,o){r=r("../internals/fails"),s.exports=!r(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},{"../internals/fails":51}],44:[function(c,s,o){var a=c("../internals/global"),c=c("../internals/is-object"),l=a.document,u=c(l)&&c(l.createElement);s.exports=function(p){return u?l.createElement(p):{}}},{"../internals/global":60,"../internals/is-object":75}],45:[function(r,s,o){s.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},{}],46:[function(r,s,o){r=r("../internals/engine-user-agent"),s.exports=/(iphone|ipod|ipad).*applewebkit/i.test(r)},{"../internals/engine-user-agent":47}],47:[function(r,s,o){r=r("../internals/get-built-in"),s.exports=r("navigator","userAgent")||""},{"../internals/get-built-in":57}],48:[function(l,s,o){var a,c,u=l("../internals/global"),l=l("../internals/engine-user-agent"),u=u.process,u=u&&u.versions,u=u&&u.v8;u?c=(a=u.split("."))[0]+a[1]:l&&(!(a=l.match(/Edge\/(\d+)/))||74<=a[1])&&(a=l.match(/Chrome\/(\d+)/))&&(c=a[1]),s.exports=c&&+c},{"../internals/engine-user-agent":47,"../internals/global":60}],49:[function(r,s,o){s.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],50:[function(r,s,o){var a=r("../internals/global"),c=r("../internals/object-get-own-property-descriptor").f,l=r("../internals/create-non-enumerable-property"),u=r("../internals/redefine"),p=r("../internals/set-global"),y=r("../internals/copy-constructor-properties"),d=r("../internals/is-forced");s.exports=function(f,b){var g,v,_,x=f.target,w=f.global,S=f.stat,R=w?a:S?a[x]||p(x,{}):(a[x]||{}).prototype;if(R)for(g in b){if(v=b[g],_=f.noTargetGet?(_=c(R,g))&&_.value:R[g],!d(w?g:x+(S?".":"#")+g,f.forced)&&_!==void 0){if(typeof v==typeof _)continue;y(v,_)}(f.sham||_&&_.sham)&&l(v,"sham",!0),u(R,g,v,f)}}},{"../internals/copy-constructor-properties":33,"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/is-forced":74,"../internals/object-get-own-property-descriptor":94,"../internals/redefine":110,"../internals/set-global":117}],51:[function(r,s,o){s.exports=function(a){try{return!!a()}catch{return!0}}},{}],52:[function(b,s,o){b("../modules/es.regexp.exec");var a=b("../internals/redefine"),c=b("../internals/fails"),l=b("../internals/well-known-symbol"),u=b("../internals/regexp-exec"),p=b("../internals/create-non-enumerable-property"),y=l("species"),d=!c(function(){var _=/./;return _.exec=function(){var x=[];return x.groups={a:"7"},x},"".replace(_,"$<a>")!=="7"}),f="a".replace(/./,"$0")==="$0",b=l("replace"),g=!!/./[b]&&/./[b]("a","$0")==="",v=!c(function(){var x=/(?:)/,_=x.exec,x=(x.exec=function(){return _.apply(this,arguments)},"ab".split(x));return x.length!==2||x[0]!=="a"||x[1]!=="b"});s.exports=function(_,x,w,S){var R,D,A=l(_),C=!c(function(){var P={};return P[A]=function(){return 7},""[_](P)!=7}),j=C&&!c(function(){var P=!1,O=/a/;return _==="split"&&((O={constructor:{}}).constructor[y]=function(){return O},O.flags="",O[A]=/./[A]),O.exec=function(){return P=!0,null},O[A](""),!P});C&&j&&(_!=="replace"||d&&f&&!g)&&(_!=="split"||v)||(R=/./[A],w=(j=w(A,""[_],function(P,O,L,N,q){return O.exec===u?C&&!q?{done:!0,value:R.call(O,L,N)}:{done:!0,value:P.call(L,O,N)}:{done:!1}},{REPLACE_KEEPS_$0:f,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:g}))[0],D=j[1],a(String.prototype,_,w),a(RegExp.prototype,A,x==2?function(P,O){return D.call(P,this,O)}:function(P){return D.call(P,this)})),S&&p(RegExp.prototype[A],"sham",!0)}},{"../internals/create-non-enumerable-property":38,"../internals/fails":51,"../internals/redefine":110,"../internals/regexp-exec":112,"../internals/well-known-symbol":150,"../modules/es.regexp.exec":195}],53:[function(r,s,o){function a(p,y,d,f,b,g,v,_){for(var x,w=b,S=0,R=!!v&&u(v,_,3);S<f;){if(S in d){if(x=R?R(d[S],S,y):d[S],0<g&&c(x))w=a(p,y,x,l(x.length),w,g-1)-1;else{if(9007199254740991<=w)throw TypeError("Exceed the acceptable array length");p[w]=x}w++}S++}return w}var c=r("../internals/is-array"),l=r("../internals/to-length"),u=r("../internals/function-bind-context");s.exports=a},{"../internals/function-bind-context":55,"../internals/is-array":73,"../internals/to-length":138}],54:[function(r,s,o){r=r("../internals/fails"),s.exports=!r(function(){return Object.isExtensible(Object.preventExtensions({}))})},{"../internals/fails":51}],55:[function(r,s,o){var a=r("../internals/a-function");s.exports=function(c,l,u){if(a(c),l===void 0)return c;switch(u){case 0:return function(){return c.call(l)};case 1:return function(p){return c.call(l,p)};case 2:return function(p,y){return c.call(l,p,y)};case 3:return function(p,y,d){return c.call(l,p,y,d)}}return function(){return c.apply(l,arguments)}}},{"../internals/a-function":5}],56:[function(r,s,o){var a=r("../internals/a-function"),c=r("../internals/is-object"),l=[].slice,u={};s.exports=Function.bind||function(p){var y=a(this),d=l.call(arguments,1),f=function(){var b=d.concat(l.call(arguments));if(this instanceof f){var g=y,v=b.length,_=b;if(!(v in u)){for(var x=[],w=0;w<v;w++)x[w]="a["+w+"]";u[v]=Function("C,a","return new C("+x.join(",")+")")}return u[v](g,_)}return y.apply(p,b)};return c(y.prototype)&&(f.prototype=y.prototype),f}},{"../internals/a-function":5,"../internals/is-object":75}],57:[function(r,s,o){function a(u){return typeof u=="function"?u:void 0}var c=r("../internals/path"),l=r("../internals/global");s.exports=function(u,p){return arguments.length<2?a(c[u])||a(l[u]):c[u]&&c[u][p]||l[u]&&l[u][p]}},{"../internals/global":60,"../internals/path":106}],58:[function(r,s,o){var a=r("../internals/classof"),c=r("../internals/iterators"),l=r("../internals/well-known-symbol")("iterator");s.exports=function(u){if(u!=null)return u[l]||u["@@iterator"]||c[a(u)]}},{"../internals/classof":29,"../internals/iterators":80,"../internals/well-known-symbol":150}],59:[function(r,s,o){var a=r("../internals/an-object"),c=r("../internals/get-iterator-method");s.exports=function(l){var u=c(l);if(typeof u!="function")throw TypeError(String(l)+" is not iterable");return a(u.call(l))}},{"../internals/an-object":10,"../internals/get-iterator-method":58}],60:[function(r,s,o){(function(a){function c(l){return l&&l.Math==Math&&l}s.exports=c(typeof globalThis=="object"&&globalThis)||c(typeof window=="object"&&window)||c(typeof self=="object"&&self)||c(typeof a=="object"&&a)||Function("return this")()}).call(this,typeof e0<"u"?e0:typeof self<"u"?self:typeof window<"u"?window:{})},{}],61:[function(r,s,o){var a={}.hasOwnProperty;s.exports=function(c,l){return a.call(c,l)}},{}],62:[function(r,s,o){s.exports={}},{}],63:[function(r,s,o){var a=r("../internals/global");s.exports=function(c,l){var u=a.console;u&&u.error&&(arguments.length===1?u.error(c):u.error(c,l))}},{"../internals/global":60}],64:[function(r,s,o){r=r("../internals/get-built-in"),s.exports=r("document","documentElement")},{"../internals/get-built-in":57}],65:[function(r,s,o){var a=r("../internals/descriptors"),c=r("../internals/fails"),l=r("../internals/document-create-element");s.exports=!a&&!c(function(){return Object.defineProperty(l("div"),"a",{get:function(){return 7}}).a!=7})},{"../internals/descriptors":43,"../internals/document-create-element":44,"../internals/fails":51}],66:[function(r,s,o){var a=Math.abs,c=Math.pow,l=Math.floor,u=Math.log,p=Math.LN2;s.exports={pack:function(y,d,w){var b,g,v,_=new Array(w),x=8*w-d-1,w=(1<<x)-1,S=w>>1,R=d===23?c(2,-24)-c(2,-77):0,D=y<0||y===0&&1/y<0?1:0,A=0;for((y=a(y))!=y||y===1/0?(g=y!=y?1:0,b=w):(b=l(u(y)/p),y*(v=c(2,-b))<1&&(b--,v*=2),2<=(y+=1<=b+S?R/v:R*c(2,1-S))*v&&(b++,v/=2),w<=b+S?(g=0,b=w):1<=b+S?(g=(y*v-1)*c(2,d),b+=S):(g=y*c(2,S-1)*c(2,d),b=0));8<=d;_[A++]=255&g,g/=256,d-=8);for(b=b<<d|g,x+=d;0<x;_[A++]=255&b,b/=256,x-=8);return _[--A]|=128*D,_},unpack:function(y,d){var f,b=y.length,w=8*b-d-1,g=(1<<w)-1,v=g>>1,_=w-7,x=b-1,w=y[x--],S=127&w;for(w>>=7;0<_;S=256*S+y[x],x--,_-=8);for(f=S&(1<<-_)-1,S>>=-_,_+=d;0<_;f=256*f+y[x],x--,_-=8);if(S===0)S=1-v;else{if(S===g)return f?NaN:w?-1/0:1/0;f+=c(2,d),S-=v}return(w?-1:1)*f*c(2,S-d)}}},{}],67:[function(r,s,o){var a=r("../internals/fails"),c=r("../internals/classof-raw"),l="".split;s.exports=a(function(){return!Object("z").propertyIsEnumerable(0)})?function(u){return c(u)=="String"?l.call(u,""):Object(u)}:Object},{"../internals/classof-raw":28,"../internals/fails":51}],68:[function(r,s,o){var a=r("../internals/is-object"),c=r("../internals/object-set-prototype-of");s.exports=function(l,u,p){return c&&typeof(u=u.constructor)=="function"&&u!==p&&a(u=u.prototype)&&u!==p.prototype&&c(l,u),l}},{"../internals/is-object":75,"../internals/object-set-prototype-of":102}],69:[function(a,s,o){var a=a("../internals/shared-store"),c=Function.toString;typeof a.inspectSource!="function"&&(a.inspectSource=function(l){return c.call(l)}),s.exports=a.inspectSource},{"../internals/shared-store":121}],70:[function(r,s,o){function a(_){p(_,f,{value:{objectID:"O"+ ++b,weakData:{}}})}var c=r("../internals/hidden-keys"),l=r("../internals/is-object"),u=r("../internals/has"),p=r("../internals/object-define-property").f,y=r("../internals/uid"),d=r("../internals/freezing"),f=y("meta"),b=0,g=Object.isExtensible||function(){return!0},v=s.exports={REQUIRED:!1,fastKey:function(_,x){if(!l(_))return typeof _=="symbol"?_:(typeof _=="string"?"S":"P")+_;if(!u(_,f)){if(!g(_))return"F";if(!x)return"E";a(_)}return _[f].objectID},getWeakData:function(_,x){if(!u(_,f)){if(!g(_))return!0;if(!x)return!1;a(_)}return _[f].weakData},onFreeze:function(_){return d&&v.REQUIRED&&g(_)&&!u(_,f)&&a(_),_}};c[f]=!0},{"../internals/freezing":54,"../internals/has":61,"../internals/hidden-keys":62,"../internals/is-object":75,"../internals/object-define-property":93,"../internals/uid":147}],71:[function(w,s,o){var a,c,l,u,p,y,d,f,b=w("../internals/native-weak-map"),S=w("../internals/global"),g=w("../internals/is-object"),v=w("../internals/create-non-enumerable-property"),_=w("../internals/has"),x=w("../internals/shared-key"),w=w("../internals/hidden-keys"),S=S.WeakMap;d=b?(a=new S,c=a.get,l=a.has,u=a.set,p=function(R,D){return u.call(a,R,D),D},y=function(R){return c.call(a,R)||{}},function(R){return l.call(a,R)}):(w[f=x("state")]=!0,p=function(R,D){return v(R,f,D),D},y=function(R){return _(R,f)?R[f]:{}},function(R){return _(R,f)}),s.exports={set:p,get:y,has:d,enforce:function(R){return d(R)?y(R):p(R,{})},getterFor:function(R){return function(D){if(g(D)&&(D=y(D)).type===R)return D;throw TypeError("Incompatible receiver, "+R+" required")}}}},{"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/has":61,"../internals/hidden-keys":62,"../internals/is-object":75,"../internals/native-weak-map":86,"../internals/shared-key":120}],72:[function(r,s,o){var a=r("../internals/well-known-symbol"),c=r("../internals/iterators"),l=a("iterator"),u=Array.prototype;s.exports=function(p){return p!==void 0&&(c.Array===p||u[l]===p)}},{"../internals/iterators":80,"../internals/well-known-symbol":150}],73:[function(r,s,o){var a=r("../internals/classof-raw");s.exports=Array.isArray||function(c){return a(c)=="Array"}},{"../internals/classof-raw":28}],74:[function(r,s,o){function a(f,b){return(f=p[u(f)])==d||f!=y&&(typeof b=="function"?c(b):!!b)}var c=r("../internals/fails"),l=/#|\.prototype\./,u=a.normalize=function(f){return String(f).replace(l,".").toLowerCase()},p=a.data={},y=a.NATIVE="N",d=a.POLYFILL="P";s.exports=a},{"../internals/fails":51}],75:[function(r,s,o){s.exports=function(a){return typeof a=="object"?a!==null:typeof a=="function"}},{}],76:[function(r,s,o){s.exports=!1},{}],77:[function(r,s,o){var a=r("../internals/is-object"),c=r("../internals/classof-raw"),l=r("../internals/well-known-symbol")("match");s.exports=function(u){var p;return a(u)&&((p=u[l])!==void 0?!!p:c(u)=="RegExp")}},{"../internals/classof-raw":28,"../internals/is-object":75,"../internals/well-known-symbol":150}],78:[function(r,s,o){function a(f,b){this.stopped=f,this.result=b}var c=r("../internals/an-object"),l=r("../internals/is-array-iterator-method"),u=r("../internals/to-length"),p=r("../internals/function-bind-context"),y=r("../internals/get-iterator-method"),d=r("../internals/call-with-safe-iteration-closing");(s.exports=function(f,b,g,v,_){var x,w,S,R,D,A,C=p(b,g,v?2:1);if(_)x=f;else{if(typeof(b=y(f))!="function")throw TypeError("Target is not iterable");if(l(b)){for(w=0,S=u(f.length);w<S;w++)if((R=v?C(c(A=f[w])[0],A[1]):C(f[w]))&&R instanceof a)return R;return new a(!1)}x=b.call(f)}for(D=x.next;!(A=D.call(x)).done;)if(typeof(R=d(x,C,A.value,v))=="object"&&R&&R instanceof a)return R;return new a(!1)}).stop=function(f){return new a(!0,f)}},{"../internals/an-object":10,"../internals/call-with-safe-iteration-closing":26,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":138}],79:[function(y,s,o){var a,c,l=y("../internals/object-get-prototype-of"),u=y("../internals/create-non-enumerable-property"),p=y("../internals/has"),d=y("../internals/well-known-symbol"),y=y("../internals/is-pure"),d=d("iterator"),f=!1;[].keys&&("next"in(c=[].keys())?(l=l(l(c)))!==Object.prototype&&(a=l):f=!0),a==null&&(a={}),y||p(a,d)||u(a,d,function(){return this}),s.exports={IteratorPrototype:a,BUGGY_SAFARI_ITERATORS:f}},{"../internals/create-non-enumerable-property":38,"../internals/has":61,"../internals/is-pure":76,"../internals/object-get-prototype-of":98,"../internals/well-known-symbol":150}],80:[function(r,s,o){s.exports={}},{}],81:[function(r,s,o){s.exports=Math.sign||function(a){return(a=+a)==0||a!=a?a:a<0?-1:1}},{}],82:[function(v,s,o){var a,c,l,u,p,y,d,f,b=v("../internals/global"),D=v("../internals/object-get-own-property-descriptor").f,R=v("../internals/classof-raw"),g=v("../internals/task").set,v=v("../internals/engine-is-ios"),_=b.MutationObserver||b.WebKitMutationObserver,x=b.process,w=b.Promise,S=R(x)=="process",R=D(b,"queueMicrotask"),D=R&&R.value;D||(a=function(){var A,C;for(S&&(A=x.domain)&&A.exit();c;){C=c.fn,c=c.next;try{C()}catch(j){throw c?u():l=void 0,j}}l=void 0,A&&A.enter()},u=S?function(){x.nextTick(a)}:_&&!v?(p=!0,y=document.createTextNode(""),new _(a).observe(y,{characterData:!0}),function(){y.data=p=!p}):w&&w.resolve?(d=w.resolve(void 0),f=d.then,function(){f.call(d,a)}):function(){g.call(b,a)}),s.exports=D||function(A){A={fn:A,next:void 0},l&&(l.next=A),c||(c=A,u()),l=A}},{"../internals/classof-raw":28,"../internals/engine-is-ios":46,"../internals/global":60,"../internals/object-get-own-property-descriptor":94,"../internals/task":132}],83:[function(r,s,o){r=r("../internals/global"),s.exports=r.Promise},{"../internals/global":60}],84:[function(r,s,o){r=r("../internals/fails"),s.exports=!!Object.getOwnPropertySymbols&&!r(function(){return!String(Symbol())})},{"../internals/fails":51}],85:[function(r,s,o){var a=r("../internals/fails"),c=r("../internals/well-known-symbol"),l=r("../internals/is-pure"),u=c("iterator");s.exports=!a(function(){var p=new URL("b?a=1&b=2&c=3","http://a"),y=p.searchParams,d="";return p.pathname="c%20d",y.forEach(function(f,b){y.delete("b"),d+=b+f}),l&&!p.toJSON||!y.sort||p.href!=="http://a/c%20d?a=1&c=3"||y.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!y[u]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("http://").host!=="xn--e1aybc"||new URL("http://a#").hash!=="#%D0%B1"||d!=="a1c3"||new URL("http://x",void 0).host!=="x"})},{"../internals/fails":51,"../internals/is-pure":76,"../internals/well-known-symbol":150}],86:[function(a,s,o){var c=a("../internals/global"),a=a("../internals/inspect-source"),c=c.WeakMap;s.exports=typeof c=="function"&&/native code/.test(a(c))},{"../internals/global":60,"../internals/inspect-source":69}],87:[function(r,s,o){function a(l){var u,p;this.promise=new l(function(y,d){if(u!==void 0||p!==void 0)throw TypeError("Bad Promise constructor");u=y,p=d}),this.resolve=c(u),this.reject=c(p)}var c=r("../internals/a-function");s.exports.f=function(l){return new a(l)}},{"../internals/a-function":5}],88:[function(r,s,o){var a=r("../internals/is-regexp");s.exports=function(c){if(a(c))throw TypeError("The method doesn't accept regular expressions");return c}},{"../internals/is-regexp":77}],89:[function(r,s,o){var a=r("../internals/global").isFinite;s.exports=Number.isFinite||function(c){return typeof c=="number"&&a(c)}},{"../internals/global":60}],90:[function(r,s,o){var a=r("../internals/descriptors"),c=r("../internals/fails"),l=r("../internals/object-keys"),u=r("../internals/object-get-own-property-symbols"),p=r("../internals/object-property-is-enumerable"),y=r("../internals/to-object"),d=r("../internals/indexed-object"),f=Object.assign,b=Object.defineProperty;s.exports=!f||c(function(){var g,v,_,x;return!(!a||f({b:1},f(b({},"a",{enumerable:!0,get:function(){b(this,"b",{value:3,enumerable:!1})}}),{b:2})).b===1)||(v={},x="abcdefghijklmnopqrst",(g={})[_=Symbol()]=7,x.split("").forEach(function(w){v[w]=w}),f({},g)[_]!=7||l(f({},v)).join("")!=x)})?function(g,v){for(var _=y(g),x=arguments.length,w=1,S=u.f,R=p.f;w<x;)for(var D,A=d(arguments[w++]),C=S?l(A).concat(S(A)):l(A),j=C.length,P=0;P<j;)D=C[P++],a&&!R.call(A,D)||(_[D]=A[D]);return _}:f},{"../internals/descriptors":43,"../internals/fails":51,"../internals/indexed-object":67,"../internals/object-get-own-property-symbols":97,"../internals/object-keys":100,"../internals/object-property-is-enumerable":101,"../internals/to-object":139}],91:[function(b,s,o){function a(){}var c,l=b("../internals/an-object"),u=b("../internals/object-define-properties"),p=b("../internals/enum-bug-keys"),y=b("../internals/hidden-keys"),d=b("../internals/html"),f=b("../internals/document-create-element"),b=b("../internals/shared-key"),g="prototype",v="script",_=b("IE_PROTO"),x=function(S){return"<"+v+">"+S+"</"+v+">"},w=function(){try{c=document.domain&&new ActiveXObject("htmlfile")}catch{}w=c?((S=c).write(x("")),S.close(),R=S.parentWindow.Object,S=null,R):(S=f("iframe"),R="java"+v+":",S.style.display="none",d.appendChild(S),S.src=String(R),(R=S.contentWindow.document).open(),R.write(x("document.F=Object")),R.close(),R.F);for(var S,R,D=p.length;D--;)delete w[g][p[D]];return w()};y[_]=!0,s.exports=Object.create||function(S,R){var D;return S!==null?(a[g]=l(S),D=new a,a[g]=null,D[_]=S):D=w(),R===void 0?D:u(D,R)}},{"../internals/an-object":10,"../internals/document-create-element":44,"../internals/enum-bug-keys":49,"../internals/hidden-keys":62,"../internals/html":64,"../internals/object-define-properties":92,"../internals/shared-key":120}],92:[function(r,s,o){var a=r("../internals/descriptors"),c=r("../internals/object-define-property"),l=r("../internals/an-object"),u=r("../internals/object-keys");s.exports=a?Object.defineProperties:function(p,y){l(p);for(var d,f=u(y),b=f.length,g=0;g<b;)c.f(p,d=f[g++],y[d]);return p}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/object-define-property":93,"../internals/object-keys":100}],93:[function(r,s,o){var a=r("../internals/descriptors"),c=r("../internals/ie8-dom-define"),l=r("../internals/an-object"),u=r("../internals/to-primitive"),p=Object.defineProperty;o.f=a?p:function(y,d,f){if(l(y),d=u(d,!0),l(f),c)try{return p(y,d,f)}catch{}if("get"in f||"set"in f)throw TypeError("Accessors not supported");return"value"in f&&(y[d]=f.value),y}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/ie8-dom-define":65,"../internals/to-primitive":142}],94:[function(r,s,o){var a=r("../internals/descriptors"),c=r("../internals/object-property-is-enumerable"),l=r("../internals/create-property-descriptor"),u=r("../internals/to-indexed-object"),p=r("../internals/to-primitive"),y=r("../internals/has"),d=r("../internals/ie8-dom-define"),f=Object.getOwnPropertyDescriptor;o.f=a?f:function(b,g){if(b=u(b),g=p(g,!0),d)try{return f(b,g)}catch{}if(y(b,g))return l(!c.f.call(b,g),b[g])}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/has":61,"../internals/ie8-dom-define":65,"../internals/object-property-is-enumerable":101,"../internals/to-indexed-object":136,"../internals/to-primitive":142}],95:[function(r,s,o){var a=r("../internals/to-indexed-object"),c=r("../internals/object-get-own-property-names").f,l={}.toString,u=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];s.exports.f=function(p){if(!u||l.call(p)!="[object Window]")return c(a(p));try{return c(p)}catch{return u.slice()}}},{"../internals/object-get-own-property-names":96,"../internals/to-indexed-object":136}],96:[function(r,s,o){var a=r("../internals/object-keys-internal"),c=r("../internals/enum-bug-keys").concat("length","prototype");o.f=Object.getOwnPropertyNames||function(l){return a(l,c)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":99}],97:[function(r,s,o){o.f=Object.getOwnPropertySymbols},{}],98:[function(u,s,o){var a=u("../internals/has"),c=u("../internals/to-object"),l=u("../internals/shared-key"),u=u("../internals/correct-prototype-getter"),p=l("IE_PROTO"),y=Object.prototype;s.exports=u?Object.getPrototypeOf:function(d){return d=c(d),a(d,p)?d[p]:typeof d.constructor=="function"&&d instanceof d.constructor?d.constructor.prototype:d instanceof Object?y:null}},{"../internals/correct-prototype-getter":35,"../internals/has":61,"../internals/shared-key":120,"../internals/to-object":139}],99:[function(r,s,o){var a=r("../internals/has"),c=r("../internals/to-indexed-object"),l=r("../internals/array-includes").indexOf,u=r("../internals/hidden-keys");s.exports=function(p,y){var d,f=c(p),b=0,g=[];for(d in f)!a(u,d)&&a(f,d)&&g.push(d);for(;y.length>b;)!a(f,d=y[b++])||~l(g,d)||g.push(d);return g}},{"../internals/array-includes":18,"../internals/has":61,"../internals/hidden-keys":62,"../internals/to-indexed-object":136}],100:[function(r,s,o){var a=r("../internals/object-keys-internal"),c=r("../internals/enum-bug-keys");s.exports=Object.keys||function(l){return a(l,c)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":99}],101:[function(r,s,o){var a={}.propertyIsEnumerable,c=Object.getOwnPropertyDescriptor,l=c&&!a.call({1:2},1);o.f=l?function(u){return u=c(this,u),!!u&&u.enumerable}:a},{}],102:[function(r,s,o){var a=r("../internals/an-object"),c=r("../internals/a-possible-prototype");s.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var l,u=!1,p={};try{(l=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(p,[]),u=p instanceof Array}catch{}return function(y,d){return a(y),c(d),u?l.call(y,d):y.__proto__=d,y}}():void 0)},{"../internals/a-possible-prototype":6,"../internals/an-object":10}],103:[function(r,s,o){function a(y){return function(d){for(var f,b=u(d),g=l(b),v=g.length,_=0,x=[];_<v;)f=g[_++],c&&!p.call(b,f)||x.push(y?[f,b[f]]:b[f]);return x}}var c=r("../internals/descriptors"),l=r("../internals/object-keys"),u=r("../internals/to-indexed-object"),p=r("../internals/object-property-is-enumerable").f;s.exports={entries:a(!0),values:a(!1)}},{"../internals/descriptors":43,"../internals/object-keys":100,"../internals/object-property-is-enumerable":101,"../internals/to-indexed-object":136}],104:[function(r,s,o){var a=r("../internals/to-string-tag-support"),c=r("../internals/classof");s.exports=a?{}.toString:function(){return"[object "+c(this)+"]"}},{"../internals/classof":29,"../internals/to-string-tag-support":143}],105:[function(r,s,o){var a=r("../internals/get-built-in"),c=r("../internals/object-get-own-property-names"),l=r("../internals/object-get-own-property-symbols"),u=r("../internals/an-object");s.exports=a("Reflect","ownKeys")||function(p){var y=c.f(u(p)),d=l.f;return d?y.concat(d(p)):y}},{"../internals/an-object":10,"../internals/get-built-in":57,"../internals/object-get-own-property-names":96,"../internals/object-get-own-property-symbols":97}],106:[function(r,s,o){r=r("../internals/global"),s.exports=r},{"../internals/global":60}],107:[function(r,s,o){s.exports=function(a){try{return{error:!1,value:a()}}catch(c){return{error:!0,value:c}}}},{}],108:[function(r,s,o){var a=r("../internals/an-object"),c=r("../internals/is-object"),l=r("../internals/new-promise-capability");s.exports=function(u,p){return a(u),c(p)&&p.constructor===u?p:((0,(u=l.f(u)).resolve)(p),u.promise)}},{"../internals/an-object":10,"../internals/is-object":75,"../internals/new-promise-capability":87}],109:[function(r,s,o){var a=r("../internals/redefine");s.exports=function(c,l,u){for(var p in l)a(c,p,l[p],u);return c}},{"../internals/redefine":110}],110:[function(y,s,o){var a=y("../internals/global"),c=y("../internals/create-non-enumerable-property"),l=y("../internals/has"),u=y("../internals/set-global"),p=y("../internals/inspect-source"),y=y("../internals/internal-state"),d=y.get,f=y.enforce,b=String(String).split("String");(s.exports=function(g,v,_,R){var w=!!R&&!!R.unsafe,S=!!R&&!!R.enumerable,R=!!R&&!!R.noTargetGet;typeof _=="function"&&(typeof v!="string"||l(_,"name")||c(_,"name",v),f(_).source=b.join(typeof v=="string"?v:"")),g===a?S?g[v]=_:u(v,_):(w?!R&&g[v]&&(S=!0):delete g[v],S?g[v]=_:c(g,v,_))})(Function.prototype,"toString",function(){return typeof this=="function"&&d(this).source||p(this)})},{"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/has":61,"../internals/inspect-source":69,"../internals/internal-state":71,"../internals/set-global":117}],111:[function(r,s,o){var a=r("./classof-raw"),c=r("./regexp-exec");s.exports=function(l,u){var p=l.exec;if(typeof p=="function"){if(p=p.call(l,u),typeof p!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return p}if(a(l)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return c.call(l,u)}},{"./classof-raw":28,"./regexp-exec":112}],112:[function(u,s,o){var a,c,l=u("./regexp-flags"),u=u("./regexp-sticky-helpers"),p=RegExp.prototype.exec,y=String.prototype.replace,d=p,f=(a=/a/,c=/b*/g,p.call(a,"a"),p.call(c,"a"),a.lastIndex!==0||c.lastIndex!==0),b=u.UNSUPPORTED_Y||u.BROKEN_CARET,g=/()??/.exec("")[1]!==void 0;s.exports=d=f||g||b?function(v){var _,x,w,S,R=this,D=b&&R.sticky,A=l.call(R),C=R.source,j=0,P=v;return D&&((A=A.replace("y","")).indexOf("g")===-1&&(A+="g"),P=String(v).slice(R.lastIndex),0<R.lastIndex&&(!R.multiline||R.multiline&&v[R.lastIndex-1]!==`
`)&&(C="(?: "+C+")",P=" "+P,j++),x=new RegExp("^(?:"+C+")",A)),g&&(x=new RegExp("^"+C+"$(?!\\s)",A)),f&&(_=R.lastIndex),w=p.call(D?x:R,P),D?w?(w.input=w.input.slice(j),w[0]=w[0].slice(j),w.index=R.lastIndex,R.lastIndex+=w[0].length):R.lastIndex=0:f&&w&&(R.lastIndex=R.global?w.index+w[0].length:_),g&&w&&1<w.length&&y.call(w[0],x,function(){for(S=1;S<arguments.length-2;S++)arguments[S]===void 0&&(w[S]=void 0)}),w}:d},{"./regexp-flags":113,"./regexp-sticky-helpers":114}],113:[function(r,s,o){var a=r("../internals/an-object");s.exports=function(){var c=a(this),l="";return c.global&&(l+="g"),c.ignoreCase&&(l+="i"),c.multiline&&(l+="m"),c.dotAll&&(l+="s"),c.unicode&&(l+="u"),c.sticky&&(l+="y"),l}},{"../internals/an-object":10}],114:[function(r,s,o){r=r("./fails");function a(c,l){return RegExp(c,l)}o.UNSUPPORTED_Y=r(function(){var c=a("a","y");return c.lastIndex=2,c.exec("abcd")!=null}),o.BROKEN_CARET=r(function(){var c=a("^r","gy");return c.lastIndex=2,c.exec("str")!=null})},{"./fails":51}],115:[function(r,s,o){s.exports=function(a){if(a==null)throw TypeError("Can't call method on "+a);return a}},{}],116:[function(r,s,o){s.exports=Object.is||function(a,c){return a===c?a!==0||1/a==1/c:a!=a&&c!=c}},{}],117:[function(r,s,o){var a=r("../internals/global"),c=r("../internals/create-non-enumerable-property");s.exports=function(l,u){try{c(a,l,u)}catch{a[l]=u}return u}},{"../internals/create-non-enumerable-property":38,"../internals/global":60}],118:[function(r,s,o){var a=r("../internals/get-built-in"),c=r("../internals/object-define-property"),l=r("../internals/well-known-symbol"),u=r("../internals/descriptors"),p=l("species");s.exports=function(d){var d=a(d),f=c.f;u&&d&&!d[p]&&f(d,p,{configurable:!0,get:function(){return this}})}},{"../internals/descriptors":43,"../internals/get-built-in":57,"../internals/object-define-property":93,"../internals/well-known-symbol":150}],119:[function(r,s,o){var a=r("../internals/object-define-property").f,c=r("../internals/has"),l=r("../internals/well-known-symbol")("toStringTag");s.exports=function(u,p,y){u&&!c(u=y?u:u.prototype,l)&&a(u,l,{configurable:!0,value:p})}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/well-known-symbol":150}],120:[function(r,s,o){var a=r("../internals/shared"),c=r("../internals/uid"),l=a("keys");s.exports=function(u){return l[u]||(l[u]=c(u))}},{"../internals/shared":122,"../internals/uid":147}],121:[function(a,s,o){var l=a("../internals/global"),a=a("../internals/set-global"),c="__core-js_shared__",l=l[c]||a(c,{});s.exports=l},{"../internals/global":60,"../internals/set-global":117}],122:[function(r,s,o){var a=r("../internals/is-pure"),c=r("../internals/shared-store");(s.exports=function(l,u){return c[l]||(c[l]=u!==void 0?u:{})})("versions",[]).push({version:"3.6.5",mode:a?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},{"../internals/is-pure":76,"../internals/shared-store":121}],123:[function(r,s,o){var a=r("../internals/an-object"),c=r("../internals/a-function"),l=r("../internals/well-known-symbol")("species");s.exports=function(y,p){var y=a(y).constructor;return y===void 0||(y=a(y)[l])==null?p:c(y)}},{"../internals/a-function":5,"../internals/an-object":10,"../internals/well-known-symbol":150}],124:[function(r,s,o){var a=r("../internals/fails");s.exports=function(c){return a(function(){var l=""[c]('"');return l!==l.toLowerCase()||3<l.split('"').length})}},{"../internals/fails":51}],125:[function(r,s,o){function a(u){return function(f,b){var d,f=String(l(f)),b=c(b),g=f.length;return b<0||g<=b?u?"":void 0:(d=f.charCodeAt(b))<55296||56319<d||b+1===g||(g=f.charCodeAt(b+1))<56320||57343<g?u?f.charAt(b):d:u?f.slice(b,b+2):g-56320+(d-55296<<10)+65536}}var c=r("../internals/to-integer"),l=r("../internals/require-object-coercible");s.exports={codeAt:a(!1),charAt:a(!0)}},{"../internals/require-object-coercible":115,"../internals/to-integer":137}],126:[function(r,s,o){r=r("../internals/engine-user-agent"),s.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(r)},{"../internals/engine-user-agent":47}],127:[function(r,s,o){function a(y){return function(g,x,_){var g=String(u(g)),v=g.length,_=_===void 0?" ":String(_),x=c(x);return x<=v||_==""?g:((v=l.call(_,p((x=x-v)/_.length))).length>x&&(v=v.slice(0,x)),y?g+v:v+g)}}var c=r("../internals/to-length"),l=r("../internals/string-repeat"),u=r("../internals/require-object-coercible"),p=Math.ceil;s.exports={start:a(!1),end:a(!0)}},{"../internals/require-object-coercible":115,"../internals/string-repeat":129,"../internals/to-length":138}],128:[function(r,s,o){function a(w){return w+22+75*(w<26)}function c(w){var S,R=[],D=(w=function(Q){for(var ne=[],re=0,I=Q.length;re<I;){var U,H=Q.charCodeAt(re++);55296<=H&&H<=56319&&re<I?(64512&(U=Q.charCodeAt(re++)))==56320?ne.push(((1023&H)<<10)+(1023&U)+65536):(ne.push(H),re--):ne.push(H)}return ne}(w)).length,A=128,C=0,j=72;for(N=0;N<w.length;N++)(S=w[N])<128&&R.push(x(S));var P=R.length,O=P;for(P&&R.push("-");O<D;){for(var L=l,N=0;N<w.length;N++)A<=(S=w[N])&&S<L&&(L=S);var q=O+1;if(L-A>_((l-C)/q))throw RangeError(g);for(C+=(L-A)*q,A=L,N=0;N<w.length;N++){if((S=w[N])<A&&++C>l)throw RangeError(g);if(S==A){for(var W=C,Y=u;;Y+=u){var J=Y<=j?1:j+p<=Y?p:Y-j;if(W<J)break;var te=W-J,ee=u-J;R.push(x(a(J+te%ee))),W=_(te/ee)}R.push(x(a(W))),j=function(Q,ne,re){var I=0;for(Q=re?_(Q/d):Q>>1,Q+=_(Q/ne);v*p>>1<Q;I+=u)Q=_(Q/v);return _(I+(v+1)*Q/(Q+y))}(C,q,O==P),C=0,++O}}++C,++A}return R.join("")}var l=2147483647,u=36,p=26,y=38,d=700,f=/[^\0-\u007E]/,b=/[.\u3002\uFF0E\uFF61]/g,g="Overflow: input needs wider integers to process",v=u-1,_=Math.floor,x=String.fromCharCode;s.exports=function(w){for(var S,R=[],D=w.toLowerCase().replace(b,".").split("."),A=0;A<D.length;A++)S=D[A],R.push(f.test(S)?"xn--"+c(S):S);return R.join(".")}},{}],129:[function(r,s,o){var a=r("../internals/to-integer"),c=r("../internals/require-object-coercible");s.exports="".repeat||function(l){var u=String(c(this)),p="",y=a(l);if(y<0||y==1/0)throw RangeError("Wrong number of repetitions");for(;0<y;(y>>>=1)&&(u+=u))1&y&&(p+=u);return p}},{"../internals/require-object-coercible":115,"../internals/to-integer":137}],130:[function(r,s,o){var a=r("../internals/fails"),c=r("../internals/whitespaces");s.exports=function(l){return a(function(){return!!c[l]()||""[l]()!=""||c[l].name!==l})}},{"../internals/fails":51,"../internals/whitespaces":151}],131:[function(l,s,o){function a(y){return function(d){return d=String(c(d)),1&y&&(d=d.replace(u,"")),d=2&y?d.replace(p,""):d}}var c=l("../internals/require-object-coercible"),l="["+l("../internals/whitespaces")+"]",u=RegExp("^"+l+l+"*"),p=RegExp(l+l+"*$");s.exports={start:a(1),end:a(2),trim:a(3)}},{"../internals/require-object-coercible":115,"../internals/whitespaces":151}],132:[function(v,s,o){function a(O){return function(){P(O)}}function c(O){P(O.data)}function l(O){p.postMessage(O+"",_.protocol+"//"+_.host)}var u,p=v("../internals/global"),y=v("../internals/fails"),d=v("../internals/classof-raw"),f=v("../internals/function-bind-context"),b=v("../internals/html"),g=v("../internals/document-create-element"),v=v("../internals/engine-is-ios"),_=p.location,x=p.setImmediate,w=p.clearImmediate,S=p.process,R=p.MessageChannel,D=p.Dispatch,A=0,C={},j="onreadystatechange",P=function(O){var L;C.hasOwnProperty(O)&&(L=C[O],delete C[O],L())};x&&w||(x=function(O){for(var L=[],N=1;N<arguments.length;)L.push(arguments[N++]);return C[++A]=function(){(typeof O=="function"?O:Function(O)).apply(void 0,L)},u(A),A},w=function(O){delete C[O]},d(S)=="process"?u=function(O){S.nextTick(a(O))}:D&&D.now?u=function(O){D.now(a(O))}:R&&!v?(v=(d=new R).port2,d.port1.onmessage=c,u=f(v.postMessage,v,1)):!p.addEventListener||typeof postMessage!="function"||p.importScripts||y(l)||_.protocol==="file:"?u=j in g("script")?function(O){b.appendChild(g("script"))[j]=function(){b.removeChild(this),P(O)}}:function(O){setTimeout(a(O),0)}:(u=l,p.addEventListener("message",c,!1))),s.exports={set:x,clear:w}},{"../internals/classof-raw":28,"../internals/document-create-element":44,"../internals/engine-is-ios":46,"../internals/fails":51,"../internals/function-bind-context":55,"../internals/global":60,"../internals/html":64}],133:[function(r,s,o){var a=r("../internals/classof-raw");s.exports=function(c){if(typeof c!="number"&&a(c)!="Number")throw TypeError("Incorrect invocation");return+c}},{"../internals/classof-raw":28}],134:[function(r,s,o){var a=r("../internals/to-integer"),c=Math.max,l=Math.min;s.exports=function(u,p){return u=a(u),u<0?c(u+p,0):l(u,p)}},{"../internals/to-integer":137}],135:[function(r,s,o){var a=r("../internals/to-integer"),c=r("../internals/to-length");s.exports=function(u){if(u===void 0)return 0;var u=a(u),p=c(u);if(u!==p)throw RangeError("Wrong length or index");return p}},{"../internals/to-integer":137,"../internals/to-length":138}],136:[function(r,s,o){var a=r("../internals/indexed-object"),c=r("../internals/require-object-coercible");s.exports=function(l){return a(c(l))}},{"../internals/indexed-object":67,"../internals/require-object-coercible":115}],137:[function(r,s,o){var a=Math.ceil,c=Math.floor;s.exports=function(l){return isNaN(l=+l)?0:(0<l?c:a)(l)}},{}],138:[function(r,s,o){var a=r("../internals/to-integer"),c=Math.min;s.exports=function(l){return 0<l?c(a(l),9007199254740991):0}},{"../internals/to-integer":137}],139:[function(r,s,o){var a=r("../internals/require-object-coercible");s.exports=function(c){return Object(a(c))}},{"../internals/require-object-coercible":115}],140:[function(r,s,o){var a=r("../internals/to-positive-integer");s.exports=function(c,l){if(c=a(c),c%l)throw RangeError("Wrong offset");return c}},{"../internals/to-positive-integer":141}],141:[function(r,s,o){var a=r("../internals/to-integer");s.exports=function(c){if(c=a(c),c<0)throw RangeError("The argument can't be less than 0");return c}},{"../internals/to-integer":137}],142:[function(r,s,o){var a=r("../internals/is-object");s.exports=function(c,l){if(!a(c))return c;var u,p;if(l&&typeof(u=c.toString)=="function"&&!a(p=u.call(c))||typeof(u=c.valueOf)=="function"&&!a(p=u.call(c))||!l&&typeof(u=c.toString)=="function"&&!a(p=u.call(c)))return p;throw TypeError("Can't convert object to primitive value")}},{"../internals/is-object":75}],143:[function(r,s,o){var a={};a[r("../internals/well-known-symbol")("toStringTag")]="z",s.exports=String(a)==="[object z]"},{"../internals/well-known-symbol":150}],144:[function(r,s,o){function a(Ne,Ve){for(var Xe=0,ht=Ve.length,Ke=new(pe(Ne))(ht);Xe<ht;)Ke[Xe]=Ve[Xe++];return Ke}function c(Ne,Ve){U(Ne,Ve,{get:function(){return re(this)[Ve]}})}function l(Ne){return Ne instanceof le||(Ne=P(Ne))=="ArrayBuffer"||Ne=="SharedArrayBuffer"}function u(Ne,Ve){return Te(Ne)&&typeof Ve!="symbol"&&Ve in Ne&&String(+Ve)==String(Ve)}function p(Ne,Ve){return u(Ne,Ve=C(Ve,!0))?w(2,Ne[Ve]):H(Ne,Ve)}function y(Ne,Ve,Xe){return!(u(Ne,Ve=C(Ve,!0))&&O(Xe)&&j(Xe,"value"))||j(Xe,"get")||j(Xe,"set")||Xe.configurable||j(Xe,"writable")&&!Xe.writable||j(Xe,"enumerable")&&!Xe.enumerable?U(Ne,Ve,Xe):(Ne[Ve]=Xe.value,Ne)}var d=r("../internals/export"),f=r("../internals/global"),b=r("../internals/descriptors"),g=r("../internals/typed-array-constructors-require-wrappers"),v=r("../internals/array-buffer-view-core"),_=r("../internals/array-buffer"),x=r("../internals/an-instance"),w=r("../internals/create-property-descriptor"),S=r("../internals/create-non-enumerable-property"),R=r("../internals/to-length"),D=r("../internals/to-index"),A=r("../internals/to-offset"),C=r("../internals/to-primitive"),j=r("../internals/has"),P=r("../internals/classof"),O=r("../internals/is-object"),L=r("../internals/object-create"),N=r("../internals/object-set-prototype-of"),q=r("../internals/object-get-own-property-names").f,W=r("../internals/typed-array-from"),Y=r("../internals/array-iteration").forEach,J=r("../internals/set-species"),te=r("../internals/object-define-property"),ee=r("../internals/object-get-own-property-descriptor"),Q=r("../internals/internal-state"),ne=r("../internals/inherit-if-required"),re=Q.get,I=Q.set,U=te.f,H=ee.f,X=Math.round,ae=f.RangeError,le=_.ArrayBuffer,he=_.DataView,ye=v.NATIVE_ARRAY_BUFFER_VIEWS,me=v.TYPED_ARRAY_TAG,xe=v.TypedArray,Se=v.TypedArrayPrototype,pe=v.aTypedArrayConstructor,Te=v.isTypedArray,ke="BYTES_PER_ELEMENT",Me="Wrong length";b?(ye||(ee.f=p,te.f=y,c(Se,"buffer"),c(Se,"byteOffset"),c(Se,"byteLength"),c(Se,"length")),d({target:"Object",stat:!0,forced:!ye},{getOwnPropertyDescriptor:p,defineProperty:y}),s.exports=function($e,Ve,Xe){function ht(Ge,de){U(Ge,de,{get:function(){var ge=this,ce=de;return(ge=re(ge)).view[bt](ce*Ke+ge.byteOffset,!0)},set:function(ge){var ce=this,we=de;ce=re(ce),Xe&&(ge=(ge=X(ge))<0?0:255<ge?255:255&ge),ce.view[gt](we*Ke+ce.byteOffset,ge,!0)},enumerable:!0})}var Ke=$e.match(/\d+$/)[0]/8,jt=$e+(Xe?"Clamped":"")+"Array",bt="get"+$e,gt="set"+$e,Tt=f[jt],St=Tt,$e=St&&St.prototype,dt={};ye?g&&(St=Ve(function(Ge,de,ge,ce){return x(Ge,St,jt),ne(O(de)?l(de)?ce!==void 0?new Tt(de,A(ge,Ke),ce):ge!==void 0?new Tt(de,A(ge,Ke)):new Tt(de):Te(de)?a(St,de):W.call(St,de):new Tt(D(de)),Ge,St)}),N&&N(St,xe),Y(q(Tt),function(Ge){Ge in St||S(St,Ge,Tt[Ge])}),St.prototype=$e):(St=Ve(function(Ge,de,ge,ce){x(Ge,St,jt);var we,He,We=0,rt=0;if(O(de)){if(!l(de))return Te(de)?a(St,de):W.call(St,de);var Et=de,rt=A(ge,Ke),ge=de.byteLength;if(ce===void 0){if(ge%Ke||(we=ge-rt)<0)throw ae(Me)}else if(ge<(we=R(ce)*Ke)+rt)throw ae(Me);He=we/Ke}else He=D(de),Et=new le(we=He*Ke);for(I(Ge,{buffer:Et,byteOffset:rt,byteLength:we,length:He,view:new he(Et)});We<He;)ht(Ge,We++)}),N&&N(St,xe),$e=St.prototype=L(Se)),$e.constructor!==St&&S($e,"constructor",St),me&&S($e,me,jt),dt[jt]=St,d({global:!0,forced:St!=Tt,sham:!ye},dt),ke in St||S(St,ke,Ke),ke in $e||S($e,ke,Ke),J(jt)}):s.exports=function(){}},{"../internals/an-instance":9,"../internals/array-buffer":13,"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/inherit-if-required":68,"../internals/internal-state":71,"../internals/is-object":75,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/object-set-prototype-of":102,"../internals/set-species":118,"../internals/to-index":135,"../internals/to-length":138,"../internals/to-offset":140,"../internals/to-primitive":142,"../internals/typed-array-constructors-require-wrappers":145,"../internals/typed-array-from":146}],145:[function(u,s,o){var a=u("../internals/global"),c=u("../internals/fails"),l=u("../internals/check-correctness-of-iteration"),u=u("../internals/array-buffer-view-core").NATIVE_ARRAY_BUFFER_VIEWS,p=a.ArrayBuffer,y=a.Int8Array;s.exports=!u||!c(function(){y(1)})||!c(function(){new y(-1)})||!l(function(d){new y,new y(null),new y(1.5),new y(d)},!0)||c(function(){return new y(new p(2),1,void 0).length!==1})},{"../internals/array-buffer-view-core":12,"../internals/check-correctness-of-iteration":27,"../internals/fails":51,"../internals/global":60}],146:[function(r,s,o){var a=r("../internals/to-object"),c=r("../internals/to-length"),l=r("../internals/get-iterator-method"),u=r("../internals/is-array-iterator-method"),p=r("../internals/function-bind-context"),y=r("../internals/array-buffer-view-core").aTypedArrayConstructor;s.exports=function(d){var f,b,g,v,_,x,w=a(d),S=arguments.length,R=1<S?arguments[1]:void 0,D=R!==void 0,A=l(w);if(A!=null&&!u(A))for(x=(_=A.call(w)).next,w=[];!(v=x.call(_)).done;)w.push(v.value);for(D&&2<S&&(R=p(R,arguments[2],2)),b=c(w.length),g=new(y(this))(b),f=0;f<b;f++)g[f]=D?R(w[f],f):w[f];return g}},{"../internals/array-buffer-view-core":12,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":138,"../internals/to-object":139}],147:[function(r,s,o){var a=0,c=Math.random();s.exports=function(l){return"Symbol("+String(l===void 0?"":l)+")_"+(++a+c).toString(36)}},{}],148:[function(r,s,o){r=r("../internals/native-symbol"),s.exports=r&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/native-symbol":84}],149:[function(r,s,o){r=r("../internals/well-known-symbol"),o.f=r},{"../internals/well-known-symbol":150}],150:[function(y,s,o){var a=y("../internals/global"),c=y("../internals/shared"),l=y("../internals/has"),u=y("../internals/uid"),p=y("../internals/native-symbol"),y=y("../internals/use-symbol-as-uid"),d=c("wks"),f=a.Symbol,b=y?f:f&&f.withoutSetter||u;s.exports=function(g){return l(d,g)||(p&&l(f,g)?d[g]=f[g]:d[g]=b("Symbol."+g)),d[g]}},{"../internals/global":60,"../internals/has":61,"../internals/native-symbol":84,"../internals/shared":122,"../internals/uid":147,"../internals/use-symbol-as-uid":148}],151:[function(r,s,o){s.exports=`	
\v\f\r \u2028\u2029\uFEFF`},{}],152:[function(l,s,o){var a=l("../internals/export"),c=l("../internals/global"),p=l("../internals/array-buffer"),l=l("../internals/set-species"),u="ArrayBuffer",p=p[u];a({global:!0,forced:c[u]!==p},{ArrayBuffer:p}),l(u)},{"../internals/array-buffer":13,"../internals/export":50,"../internals/global":60,"../internals/set-species":118}],153:[function(w,s,o){var a=w("../internals/export"),c=w("../internals/fails"),l=w("../internals/is-array"),u=w("../internals/is-object"),p=w("../internals/to-object"),y=w("../internals/to-length"),d=w("../internals/create-property"),f=w("../internals/array-species-create"),b=w("../internals/array-method-has-species-support"),x=w("../internals/well-known-symbol"),w=w("../internals/engine-v8-version"),g=x("isConcatSpreadable"),v=9007199254740991,_="Maximum allowed index exceeded",x=51<=w||!c(function(){var S=[];return S[g]=!1,S.concat()[0]!==S}),w=b("concat");a({target:"Array",proto:!0,forced:!x||!w},{concat:function(S){for(var R,D,A,C,j,P=p(this),O=f(P,0),L=0,N=-1,q=arguments.length;N<q;N++)if(j=void 0,!u(C=A=N===-1?P:arguments[N])||((j=C[g])!==void 0?!j:!l(C))){if(v<=L)throw TypeError(_);d(O,L++,A)}else{if(D=y(A.length),v<L+D)throw TypeError(_);for(R=0;R<D;R++,L++)R in A&&d(O,L,A[R])}return O.length=L,O}})},{"../internals/array-method-has-species-support":21,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/fails":51,"../internals/is-array":73,"../internals/is-object":75,"../internals/to-length":138,"../internals/to-object":139,"../internals/well-known-symbol":150}],154:[function(l,s,o){var a=l("../internals/export"),c=l("../internals/array-copy-within"),l=l("../internals/add-to-unscopables");a({target:"Array",proto:!0},{copyWithin:c}),l("copyWithin")},{"../internals/add-to-unscopables":7,"../internals/array-copy-within":14,"../internals/export":50}],155:[function(u,s,o){var a=u("../internals/export"),c=u("../internals/array-iteration").every,l=u("../internals/array-method-is-strict"),u=u("../internals/array-method-uses-to-length"),l=l("every"),u=u("every");a({target:"Array",proto:!0,forced:!l||!u},{every:function(p){return c(this,p,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],156:[function(l,s,o){var a=l("../internals/export"),c=l("../internals/array-fill"),l=l("../internals/add-to-unscopables");a({target:"Array",proto:!0},{fill:c}),l("fill")},{"../internals/add-to-unscopables":7,"../internals/array-fill":15,"../internals/export":50}],157:[function(u,s,o){var a=u("../internals/export"),c=u("../internals/array-iteration").filter,l=u("../internals/array-method-has-species-support"),u=u("../internals/array-method-uses-to-length"),l=l("filter"),u=u("filter");a({target:"Array",proto:!0,forced:!l||!u},{filter:function(p){return c(this,p,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],158:[function(y,s,o){var a=y("../internals/export"),c=y("../internals/array-iteration").findIndex,l=y("../internals/add-to-unscopables"),y=y("../internals/array-method-uses-to-length"),u="findIndex",p=!0,y=y(u);u in[]&&Array(1)[u](function(){p=!1}),a({target:"Array",proto:!0,forced:p||!y},{findIndex:function(d){return c(this,d,1<arguments.length?arguments[1]:void 0)}}),l(u)},{"../internals/add-to-unscopables":7,"../internals/array-iteration":19,"../internals/array-method-uses-to-length":23,"../internals/export":50}],159:[function(r,s,o){var a=r("../internals/export"),c=r("../internals/flatten-into-array"),l=r("../internals/to-object"),u=r("../internals/to-length"),p=r("../internals/a-function"),y=r("../internals/array-species-create");a({target:"Array",proto:!0},{flatMap:function(d){var f,b=l(this),g=u(b.length);return p(d),(f=y(b,0)).length=c(f,b,b,g,0,1,d,1<arguments.length?arguments[1]:void 0),f}})},{"../internals/a-function":5,"../internals/array-species-create":25,"../internals/export":50,"../internals/flatten-into-array":53,"../internals/to-length":138,"../internals/to-object":139}],160:[function(r,s,o){var a=r("../internals/export"),c=r("../internals/flatten-into-array"),l=r("../internals/to-object"),u=r("../internals/to-length"),p=r("../internals/to-integer"),y=r("../internals/array-species-create");a({target:"Array",proto:!0},{flat:function(){var d=arguments.length?arguments[0]:void 0,f=l(this),b=u(f.length),g=y(f,0);return g.length=c(g,f,f,b,0,d===void 0?1:p(d)),g}})},{"../internals/array-species-create":25,"../internals/export":50,"../internals/flatten-into-array":53,"../internals/to-integer":137,"../internals/to-length":138,"../internals/to-object":139}],161:[function(c,s,o){var a=c("../internals/export"),c=c("../internals/array-for-each");a({target:"Array",proto:!0,forced:[].forEach!=c},{forEach:c})},{"../internals/array-for-each":16,"../internals/export":50}],162:[function(r,s,o){var a=r("../internals/export"),c=r("../internals/array-from");a({target:"Array",stat:!0,forced:!r("../internals/check-correctness-of-iteration")(function(l){Array.from(l)})},{from:c})},{"../internals/array-from":17,"../internals/check-correctness-of-iteration":27,"../internals/export":50}],163:[function(r,s,o){var a=r("../internals/export"),c=r("../internals/array-includes").includes,l=r("../internals/add-to-unscopables");a({target:"Array",proto:!0,forced:!r("../internals/array-method-uses-to-length")("indexOf",{ACCESSORS:!0,1:0})},{includes:function(u){return c(this,u,1<arguments.length?arguments[1]:void 0)}}),l("includes")},{"../internals/add-to-unscopables":7,"../internals/array-includes":18,"../internals/array-method-uses-to-length":23,"../internals/export":50}],164:[function(y,s,o){var a=y("../internals/export"),c=y("../internals/array-includes").indexOf,p=y("../internals/array-method-is-strict"),y=y("../internals/array-method-uses-to-length"),l=[].indexOf,u=!!l&&1/[1].indexOf(1,-0)<0,p=p("indexOf"),y=y("indexOf",{ACCESSORS:!0,1:0});a({target:"Array",proto:!0,forced:u||!p||!y},{indexOf:function(d){return u?l.apply(this,arguments)||0:c(this,d,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-includes":18,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],165:[function(p,s,o){var a=p("../internals/to-indexed-object"),c=p("../internals/add-to-unscopables"),l=p("../internals/iterators"),u=p("../internals/internal-state"),p=p("../internals/define-iterator"),y="Array Iterator",d=u.set,f=u.getterFor(y);s.exports=p(Array,"Array",function(b,g){d(this,{type:y,target:a(b),index:0,kind:g})},function(){var b=f(this),g=b.target,v=b.kind,_=b.index++;return!g||_>=g.length?{value:b.target=void 0,done:!0}:v=="keys"?{value:_,done:!1}:v=="values"?{value:g[_],done:!1}:{value:[_,g[_]],done:!1}},"values"),l.Arguments=l.Array,c("keys"),c("values"),c("entries")},{"../internals/add-to-unscopables":7,"../internals/define-iterator":41,"../internals/internal-state":71,"../internals/iterators":80,"../internals/to-indexed-object":136}],166:[function(p,s,o){var a=p("../internals/export"),u=p("../internals/indexed-object"),c=p("../internals/to-indexed-object"),p=p("../internals/array-method-is-strict"),l=[].join,u=u!=Object,p=p("join",",");a({target:"Array",proto:!0,forced:u||!p},{join:function(y){return l.call(c(this),y===void 0?",":y)}})},{"../internals/array-method-is-strict":22,"../internals/export":50,"../internals/indexed-object":67,"../internals/to-indexed-object":136}],167:[function(c,s,o){var a=c("../internals/export"),c=c("../internals/array-last-index-of");a({target:"Array",proto:!0,forced:c!==[].lastIndexOf},{lastIndexOf:c})},{"../internals/array-last-index-of":20,"../internals/export":50}],168:[function(u,s,o){var a=u("../internals/export"),c=u("../internals/array-iteration").map,l=u("../internals/array-method-has-species-support"),u=u("../internals/array-method-uses-to-length"),l=l("map"),u=u("map");a({target:"Array",proto:!0,forced:!l||!u},{map:function(p){return c(this,p,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],169:[function(g,s,o){var a=g("../internals/export"),c=g("../internals/is-object"),l=g("../internals/is-array"),u=g("../internals/to-absolute-index"),p=g("../internals/to-length"),y=g("../internals/to-indexed-object"),d=g("../internals/create-property"),f=g("../internals/well-known-symbol"),b=g("../internals/array-method-has-species-support"),g=g("../internals/array-method-uses-to-length"),b=b("slice"),g=g("slice",{ACCESSORS:!0,0:0,1:2}),v=f("species"),_=[].slice,x=Math.max;a({target:"Array",proto:!0,forced:!b||!g},{slice:function(w,S){var R,D,A,C=y(this),j=p(C.length),P=u(w,j),O=u(S===void 0?j:S,j);if(l(C)&&((R=typeof(R=C.constructor)=="function"&&(R===Array||l(R.prototype))||c(R)&&(R=R[v])===null?void 0:R)===Array||R===void 0))return _.call(C,P,O);for(D=new(R===void 0?Array:R)(x(O-P,0)),A=0;P<O;P++,A++)P in C&&d(D,A,C[P]);return D.length=A,D}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/create-property":40,"../internals/export":50,"../internals/is-array":73,"../internals/is-object":75,"../internals/to-absolute-index":134,"../internals/to-indexed-object":136,"../internals/to-length":138,"../internals/well-known-symbol":150}],170:[function(u,s,o){var a=u("../internals/export"),c=u("../internals/array-iteration").some,l=u("../internals/array-method-is-strict"),u=u("../internals/array-method-uses-to-length"),l=l("some"),u=u("some");a({target:"Array",proto:!0,forced:!l||!u},{some:function(p){return c(this,p,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],171:[function(b,s,o){var a=b("../internals/export"),c=b("../internals/to-absolute-index"),l=b("../internals/to-integer"),u=b("../internals/to-length"),p=b("../internals/to-object"),y=b("../internals/array-species-create"),d=b("../internals/create-property"),f=b("../internals/array-method-has-species-support"),b=b("../internals/array-method-uses-to-length"),f=f("splice"),b=b("splice",{ACCESSORS:!0,0:0,1:2}),g=Math.max,v=Math.min;a({target:"Array",proto:!0,forced:!f||!b},{splice:function(L,x){var w,S,R,D,A,C,j=p(this),P=u(j.length),O=c(L,P),L=arguments.length;if(L===0?w=S=0:S=L===1?(w=0,P-O):(w=L-2,v(g(l(x),0),P-O)),9007199254740991<P+w-S)throw TypeError("Maximum allowed length exceeded");for(R=y(j,S),D=0;D<S;D++)(A=O+D)in j&&d(R,D,j[A]);if(w<(R.length=S)){for(D=O;D<P-S;D++)C=D+w,(A=D+S)in j?j[C]=j[A]:delete j[C];for(D=P;P-S+w<D;D--)delete j[D-1]}else if(S<w)for(D=P-S;O<D;D--)C=D+w-1,(A=D+S-1)in j?j[C]=j[A]:delete j[C];for(D=0;D<w;D++)j[D+O]=arguments[D+2];return j.length=P-S+w,R}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/export":50,"../internals/to-absolute-index":134,"../internals/to-integer":137,"../internals/to-length":138,"../internals/to-object":139}],172:[function(r,s,o){r("../internals/add-to-unscopables")("flatMap")},{"../internals/add-to-unscopables":7}],173:[function(r,s,o){r("../internals/add-to-unscopables")("flat")},{"../internals/add-to-unscopables":7}],174:[function(c,s,o){var a=c("../internals/descriptors"),c=c("../internals/object-define-property").f,l=Function.prototype,u=l.toString,p=/^\s*function ([^ (]*)/;!a||"name"in l||c(l,"name",{configurable:!0,get:function(){try{return u.call(this).match(p)[1]}catch{return""}}})},{"../internals/descriptors":43,"../internals/object-define-property":93}],175:[function(c,s,o){var a=c("../internals/collection"),c=c("../internals/collection-strong");s.exports=a("Map",function(l){return function(){return l(this,arguments.length?arguments[0]:void 0)}},c)},{"../internals/collection":32,"../internals/collection-strong":30}],176:[function(a,s,o){var a=a("../internals/export"),c=Math.hypot,l=Math.abs,u=Math.sqrt;a({target:"Math",stat:!0,forced:!!c&&c(1/0,NaN)!==1/0},{hypot:function(p,y){for(var d,f,b=0,g=0,v=arguments.length,_=0;g<v;)_<(d=l(arguments[g++]))?(b=b*(f=_/d)*f+1,_=d):b+=0<d?(f=d/_)*f:d;return _===1/0?1/0:_*u(b)}})},{"../internals/export":50}],177:[function(a,s,o){var a=a("../internals/export"),c=Math.log,l=Math.LN2;a({target:"Math",stat:!0},{log2:function(u){return c(u)/l}})},{"../internals/export":50}],178:[function(r,s,o){r("../internals/export")({target:"Math",stat:!0},{sign:r("../internals/math-sign")})},{"../internals/export":50,"../internals/math-sign":81}],179:[function(r,s,o){function a(N){var q,W,Y,J,te,ee,Q,ne=b(N,!1);if(typeof ne=="string"&&2<ne.length){if((N=(ne=S(ne)).charCodeAt(0))===43||N===45){if((q=ne.charCodeAt(2))===88||q===120)return NaN}else if(N===48){switch(ne.charCodeAt(1)){case 66:case 98:W=2,Y=49;break;case 79:case 111:W=8,Y=55;break;default:return+ne}for(te=(J=ne.slice(2)).length,ee=0;ee<te;ee++)if((Q=J.charCodeAt(ee))<48||Y<Q)return NaN;return parseInt(J,W)}}return+ne}var c=r("../internals/descriptors"),l=r("../internals/global"),u=r("../internals/is-forced"),p=r("../internals/redefine"),y=r("../internals/has"),d=r("../internals/classof-raw"),f=r("../internals/inherit-if-required"),b=r("../internals/to-primitive"),g=r("../internals/fails"),v=r("../internals/object-create"),_=r("../internals/object-get-own-property-names").f,x=r("../internals/object-get-own-property-descriptor").f,w=r("../internals/object-define-property").f,S=r("../internals/string-trim").trim,R="Number",D=l[R],A=D.prototype,C=d(v(A))==R;if(u(R,!D(" 0o1")||!D("0b1")||D("+0x1"))){for(var j,P=function(q){var q=arguments.length<1?0:q,W=this;return W instanceof P&&(C?g(function(){A.valueOf.call(W)}):d(W)!=R)?f(new D(a(q)),W,P):a(q)},O=c?_(D):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),L=0;O.length>L;L++)y(D,j=O[L])&&!y(P,j)&&w(P,j,x(D,j));(P.prototype=A).constructor=P,p(l,R,P)}},{"../internals/classof-raw":28,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/has":61,"../internals/inherit-if-required":68,"../internals/is-forced":74,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/redefine":110,"../internals/string-trim":131,"../internals/to-primitive":142}],180:[function(r,s,o){r("../internals/export")({target:"Number",stat:!0},{EPSILON:Math.pow(2,-52)})},{"../internals/export":50}],181:[function(r,s,o){r("../internals/export")({target:"Number",stat:!0},{isFinite:r("../internals/number-is-finite")})},{"../internals/export":50,"../internals/number-is-finite":89}],182:[function(y,s,o){function a(b,g,v){return g===0?v:g%2==1?a(b,g-1,v*b):a(b*b,g/2,v)}var c=y("../internals/export"),l=y("../internals/to-integer"),u=y("../internals/this-number-value"),p=y("../internals/string-repeat"),y=y("../internals/fails"),d=1 .toFixed,f=Math.floor;c({target:"Number",proto:!0,forced:d&&(8e-5.toFixed(3)!=="0.000"||.9.toFixed(0)!=="1"||1.255.toFixed(2)!=="1.25"||0xde0b6b3a7640080.toFixed(0)!=="1000000000000000128")||!y(function(){d.call({})})},{toFixed:function(R){function g(j,P){for(var O=-1,L=P;++O<6;)L+=j*D[O],D[O]=L%1e7,L=f(L/1e7)}function v(j){for(var P=6,O=0;0<=--P;)O+=D[P],D[P]=f(O/j),O=O%j*1e7}function _(){for(var j,P=6,O="";0<=--P;)O===""&&P!==0&&D[P]===0||(j=String(D[P]),O=O===""?j:O+p.call("0",7-j.length)+j);return O}var x,w,S=u(this),R=l(R),D=[0,0,0,0,0,0],A="",C="0";if(R<0||20<R)throw RangeError("Incorrect fraction digits");if(S!=S)return"NaN";if(S<=-1e21||1e21<=S)return String(S);if(S<0&&(A="-",S=-S),1e-21<S)if(S=(x=function(j){for(var P=0,O=j;4096<=O;)P+=12,O/=4096;for(;2<=O;)P+=1,O/=2;return P}(S*a(2,69,1))-69)<0?S*a(2,-x,1):S/a(2,x,1),S*=4503599627370496,0<(x=52-x)){for(g(0,S),w=R;7<=w;)g(1e7,0),w-=7;for(g(a(10,w,1),0),w=x-1;23<=w;)v(1<<23),w-=23;v(1<<w),g(1,1),v(2),C=_()}else g(0,S),g(1<<-x,0),C=_()+p.call("0",R);return C=0<R?A+((S=C.length)<=R?"0."+p.call("0",R-S)+C:C.slice(0,S-R)+"."+C.slice(S-R)):A+C}})},{"../internals/export":50,"../internals/fails":51,"../internals/string-repeat":129,"../internals/this-number-value":133,"../internals/to-integer":137}],183:[function(c,s,o){var a=c("../internals/export"),c=c("../internals/object-assign");a({target:"Object",stat:!0,forced:Object.assign!==c},{assign:c})},{"../internals/export":50,"../internals/object-assign":90}],184:[function(r,s,o){var a=r("../internals/export"),c=r("../internals/object-to-array").entries;a({target:"Object",stat:!0},{entries:function(l){return c(l)}})},{"../internals/export":50,"../internals/object-to-array":103}],185:[function(r,s,o){var a=r("../internals/export"),c=r("../internals/iterate"),l=r("../internals/create-property");a({target:"Object",stat:!0},{fromEntries:function(u){var p={};return c(u,function(y,d){l(p,y,d)},void 0,!0),p}})},{"../internals/create-property":40,"../internals/export":50,"../internals/iterate":78}],186:[function(u,s,o){var a=u("../internals/export"),p=u("../internals/fails"),c=u("../internals/to-indexed-object"),l=u("../internals/object-get-own-property-descriptor").f,u=u("../internals/descriptors"),p=p(function(){l(1)});a({target:"Object",stat:!0,forced:!u||p,sham:!u},{getOwnPropertyDescriptor:function(y,d){return l(c(y),d)}})},{"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-descriptor":94,"../internals/to-indexed-object":136}],187:[function(l,s,o){var a=l("../internals/export"),c=l("../internals/fails"),l=l("../internals/object-get-own-property-names-external").f;a({target:"Object",stat:!0,forced:c(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:l})},{"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-names-external":95}],188:[function(p,s,o){var a=p("../internals/export"),c=p("../internals/fails"),l=p("../internals/to-object"),u=p("../internals/object-get-prototype-of"),p=p("../internals/correct-prototype-getter");a({target:"Object",stat:!0,forced:c(function(){u(1)}),sham:!p},{getPrototypeOf:function(y){return u(l(y))}})},{"../internals/correct-prototype-getter":35,"../internals/export":50,"../internals/fails":51,"../internals/object-get-prototype-of":98,"../internals/to-object":139}],189:[function(r,s,o){var a=r("../internals/export"),c=r("../internals/to-object"),l=r("../internals/object-keys");a({target:"Object",stat:!0,forced:r("../internals/fails")(function(){l(1)})},{keys:function(u){return l(c(u))}})},{"../internals/export":50,"../internals/fails":51,"../internals/object-keys":100,"../internals/to-object":139}],190:[function(l,s,o){var a=l("../internals/to-string-tag-support"),c=l("../internals/redefine"),l=l("../internals/object-to-string");a||c(Object.prototype,"toString",l,{unsafe:!0})},{"../internals/object-to-string":104,"../internals/redefine":110,"../internals/to-string-tag-support":143}],191:[function(Xe,s,o){var a,c,l,u,p=Xe("../internals/export"),y=Xe("../internals/is-pure"),d=Xe("../internals/global"),f=Xe("../internals/get-built-in"),b=Xe("../internals/native-promise-constructor"),g=Xe("../internals/redefine"),v=Xe("../internals/redefine-all"),_=Xe("../internals/set-to-string-tag"),x=Xe("../internals/set-species"),w=Xe("../internals/is-object"),S=Xe("../internals/a-function"),R=Xe("../internals/an-instance"),D=Xe("../internals/classof-raw"),A=Xe("../internals/inspect-source"),C=Xe("../internals/iterate"),j=Xe("../internals/check-correctness-of-iteration"),P=Xe("../internals/species-constructor"),O=Xe("../internals/task").set,L=Xe("../internals/microtask"),N=Xe("../internals/promise-resolve"),q=Xe("../internals/host-report-errors"),W=Xe("../internals/new-promise-capability"),Y=Xe("../internals/perform"),J=Xe("../internals/internal-state"),te=Xe("../internals/is-forced"),ht=Xe("../internals/well-known-symbol"),ee=Xe("../internals/engine-v8-version"),Q=ht("species"),ne="Promise",re=J.get,I=J.set,U=J.getterFor(ne),H=b,X=d.TypeError,ae=d.document,le=d.process,he=f("fetch"),ye=W.f,me=ye,xe=D(le)=="process",Se=!!(ae&&ae.createEvent&&d.dispatchEvent),pe="unhandledrejection",Te="rejectionhandled",ke=1,Me=2,Ne=1,Ve=2,Xe=te(ne,function(){var dt,Ge;return A(H)===String(H)&&(ee===66||!xe&&typeof PromiseRejectionEvent!="function")?!0:!(!y||H.prototype.finally)||!(51<=ee&&/native code/.test(H))&&(Ge=function(de){de(function(){},function(){})},((dt=H.resolve(1)).constructor={})[Q]=Ge,!(dt.then(function(){})instanceof Ge))}),ht=Xe||!j(function(dt){H.all(dt).catch(function(){})}),Ke=function(dt){var Ge;return!(!w(dt)||typeof(Ge=dt.then)!="function")&&Ge},jt=function(dt,Ge,de){var ge;Ge.notified||(Ge.notified=!0,ge=Ge.reactions,L(function(){for(var ce,we,He=Ge.value,We=Ge.state==ke,rt=0;ge.length>rt;){var Et,It,Pt,Dt=ge[rt++],Qt=We?Dt.ok:Dt.fail,Gt=Dt.resolve,Ft=Dt.reject,Xt=Dt.domain;try{Qt?(We||(Ge.rejection===Ve&&function(Wt,Mr){O.call(d,function(){xe?le.emit("rejectionHandled",Wt):bt(Te,Wt,Mr.value)})}(dt,Ge),Ge.rejection=Ne),Qt===!0?Et=He:(Xt&&Xt.enter(),Et=Qt(He),Xt&&(Xt.exit(),Pt=!0)),Et===Dt.promise?Ft(X("Promise-chain cycle")):(It=Ke(Et))?It.call(Et,Gt,Ft):Gt(Et)):Ft(He)}catch(Wt){Xt&&!Pt&&Xt.exit(),Ft(Wt)}}Ge.reactions=[],Ge.notified=!1,de&&!Ge.rejection&&(ce=dt,we=Ge,O.call(d,function(){var Wt=we.value,Mr=gt(we);if(Mr&&(Mr=Y(function(){xe?le.emit("unhandledRejection",Wt,ce):bt(pe,ce,Wt)}),we.rejection=xe||gt(we)?Ve:Ne,Mr.error))throw Mr.value}))}))},bt=function(dt,Ge,de){var ge;Se?((ge=ae.createEvent("Event")).promise=Ge,ge.reason=de,ge.initEvent(dt,!1,!0),d.dispatchEvent(ge)):ge={promise:Ge,reason:de},(Ge=d["on"+dt])?Ge(ge):dt===pe&&q("Unhandled promise rejection",de)},gt=function(dt){return dt.rejection!==Ne&&!dt.parent},Tt=function(dt,Ge,de,ge){return function(ce){dt(Ge,de,ce,ge)}},St=function(dt,Ge,de,ge){Ge.done||(Ge.done=!0,(Ge=ge||Ge).value=de,Ge.state=Me,jt(dt,Ge,!0))},$e=function(dt,Ge,de,ge){if(!Ge.done){Ge.done=!0,ge&&(Ge=ge);try{if(dt===de)throw X("Promise can't be resolved itself");var ce=Ke(de);ce?L(function(){var we={done:!1};try{ce.call(de,Tt($e,dt,we,Ge),Tt(St,dt,we,Ge))}catch(He){St(dt,we,He,Ge)}}):(Ge.value=de,Ge.state=ke,jt(dt,Ge,!1))}catch(we){St(dt,{done:!1},we,Ge)}}};Xe&&(H=function(dt){R(this,H,ne),S(dt),a.call(this);var Ge=re(this);try{dt(Tt($e,this,Ge),Tt(St,this,Ge))}catch(de){St(this,Ge,de)}},(a=function(dt){I(this,{type:ne,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=v(H.prototype,{then:function(dt,Ge){var de=U(this),ge=ye(P(this,H));return ge.ok=typeof dt!="function"||dt,ge.fail=typeof Ge=="function"&&Ge,ge.domain=xe?le.domain:void 0,de.parent=!0,de.reactions.push(ge),de.state!=0&&jt(this,de,!1),ge.promise},catch:function(dt){return this.then(void 0,dt)}}),c=function(){var dt=new a,Ge=re(dt);this.promise=dt,this.resolve=Tt($e,dt,Ge),this.reject=Tt(St,dt,Ge)},W.f=ye=function(dt){return dt===H||dt===l?new c:me(dt)},y||typeof b!="function"||(u=b.prototype.then,g(b.prototype,"then",function(dt,Ge){var de=this;return new H(function(ge,ce){u.call(de,ge,ce)}).then(dt,Ge)},{unsafe:!0}),typeof he=="function"&&p({global:!0,enumerable:!0,forced:!0},{fetch:function(dt){return N(H,he.apply(d,arguments))}}))),p({global:!0,wrap:!0,forced:Xe},{Promise:H}),_(H,ne,!1,!0),x(ne),l=f(ne),p({target:ne,stat:!0,forced:Xe},{reject:function(dt){var Ge=ye(this);return Ge.reject.call(void 0,dt),Ge.promise}}),p({target:ne,stat:!0,forced:y||Xe},{resolve:function(dt){return N(y&&this===l?H:this,dt)}}),p({target:ne,stat:!0,forced:ht},{all:function(dt){var Ge=this,de=ye(Ge),ge=de.resolve,ce=de.reject,we=Y(function(){var He=S(Ge.resolve),We=[],rt=0,Et=1;C(dt,function(It){var Pt=rt++,Dt=!1;We.push(void 0),Et++,He.call(Ge,It).then(function(Qt){Dt||(Dt=!0,We[Pt]=Qt,--Et||ge(We))},ce)}),--Et||ge(We)});return we.error&&ce(we.value),de.promise},race:function(dt){var Ge=this,de=ye(Ge),ge=de.reject,ce=Y(function(){var we=S(Ge.resolve);C(dt,function(He){we.call(Ge,He).then(de.resolve,ge)})});return ce.error&&ge(ce.value),de.promise}})},{"../internals/a-function":5,"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/classof-raw":28,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/get-built-in":57,"../internals/global":60,"../internals/host-report-errors":63,"../internals/inspect-source":69,"../internals/internal-state":71,"../internals/is-forced":74,"../internals/is-object":75,"../internals/is-pure":76,"../internals/iterate":78,"../internals/microtask":82,"../internals/native-promise-constructor":83,"../internals/new-promise-capability":87,"../internals/perform":107,"../internals/promise-resolve":108,"../internals/redefine":110,"../internals/redefine-all":109,"../internals/set-species":118,"../internals/set-to-string-tag":119,"../internals/species-constructor":123,"../internals/task":132,"../internals/well-known-symbol":150}],192:[function(d,s,o){var a=d("../internals/export"),v=d("../internals/get-built-in"),c=d("../internals/a-function"),l=d("../internals/an-object"),u=d("../internals/is-object"),p=d("../internals/object-create"),y=d("../internals/function-bind"),d=d("../internals/fails"),f=v("Reflect","construct"),b=d(function(){function _(){}return!(f(function(){},[],_)instanceof _)}),g=!d(function(){f(function(){})}),v=b||g;a({target:"Reflect",stat:!0,forced:v,sham:v},{construct:function(_,x){c(_),l(x);var w=arguments.length<3?_:c(arguments[2]);if(g&&!b)return f(_,x,w);if(_==w){switch(x.length){case 0:return new _;case 1:return new _(x[0]);case 2:return new _(x[0],x[1]);case 3:return new _(x[0],x[1],x[2]);case 4:return new _(x[0],x[1],x[2],x[3])}var S=[null];return S.push.apply(S,x),new(y.apply(_,S))}return S=w.prototype,w=p(u(S)?S:Object.prototype),S=Function.apply.call(_,w,x),u(S)?S:w}})},{"../internals/a-function":5,"../internals/an-object":10,"../internals/export":50,"../internals/fails":51,"../internals/function-bind":56,"../internals/get-built-in":57,"../internals/is-object":75,"../internals/object-create":91}],193:[function(r,s,o){var a=r("../internals/export"),c=r("../internals/is-object"),l=r("../internals/an-object"),u=r("../internals/has"),p=r("../internals/object-get-own-property-descriptor"),y=r("../internals/object-get-prototype-of");a({target:"Reflect",stat:!0},{get:function d(f,b){var g,v=arguments.length<3?f:arguments[2];return l(f)===v?f[b]:(g=p.f(f,b))?u(g,"value")?g.value:g.get===void 0?void 0:g.get.call(v):c(g=y(f))?d(g,b,v):void 0}})},{"../internals/an-object":10,"../internals/export":50,"../internals/has":61,"../internals/is-object":75,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-prototype-of":98}],194:[function(r,s,o){var a=r("../internals/descriptors"),c=r("../internals/global"),l=r("../internals/is-forced"),u=r("../internals/inherit-if-required"),p=r("../internals/object-define-property").f,y=r("../internals/object-get-own-property-names").f,d=r("../internals/is-regexp"),f=r("../internals/regexp-flags"),b=r("../internals/regexp-sticky-helpers"),g=r("../internals/redefine"),v=r("../internals/fails"),_=r("../internals/internal-state").set,x=r("../internals/set-species"),w=r("../internals/well-known-symbol")("match"),S=c.RegExp,R=S.prototype,D=/a/g,A=/a/g,C=new S(D)!==D,j=b.UNSUPPORTED_Y;if(a&&l("RegExp",!C||j||v(function(){return A[w]=!1,S(D)!=D||S(A)==A||S(D,"i")!="/a/i"}))){for(var P=function(N,q){var W,Y=this instanceof P,J=d(N),te=q===void 0;return!Y&&J&&N.constructor===P&&te?N:(C?J&&!te&&(N=N.source):N instanceof P&&(te&&(q=f.call(N)),N=N.source),j&&(W=!!q&&-1<q.indexOf("y"))&&(q=q.replace(/y/g,"")),J=u(C?new S(N,q):S(N,q),Y?this:R,P),j&&W&&_(J,{sticky:W}),J)},O=y(S),L=0;O.length>L;)(function(N){N in P||p(P,N,{configurable:!0,get:function(){return S[N]},set:function(q){S[N]=q}})})(O[L++]);(R.constructor=P).prototype=R,g(c,"RegExp",P)}x("RegExp")},{"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/inherit-if-required":68,"../internals/internal-state":71,"../internals/is-forced":74,"../internals/is-regexp":77,"../internals/object-define-property":93,"../internals/object-get-own-property-names":96,"../internals/redefine":110,"../internals/regexp-flags":113,"../internals/regexp-sticky-helpers":114,"../internals/set-species":118,"../internals/well-known-symbol":150}],195:[function(c,s,o){var a=c("../internals/export"),c=c("../internals/regexp-exec");a({target:"RegExp",proto:!0,forced:/./.exec!==c},{exec:c})},{"../internals/export":50,"../internals/regexp-exec":112}],196:[function(u,s,o){var a=u("../internals/redefine"),c=u("../internals/an-object"),d=u("../internals/fails"),l=u("../internals/regexp-flags"),u="toString",p=RegExp.prototype,y=p[u],d=d(function(){return y.call({source:"a",flags:"b"})!="/a/b"}),f=y.name!=u;(d||f)&&a(RegExp.prototype,u,function(){var b=c(this),g=String(b.source),v=b.flags;return"/"+g+"/"+String(v===void 0&&b instanceof RegExp&&!("flags"in p)?l.call(b):v)},{unsafe:!0})},{"../internals/an-object":10,"../internals/fails":51,"../internals/redefine":110,"../internals/regexp-flags":113}],197:[function(c,s,o){var a=c("../internals/collection"),c=c("../internals/collection-strong");s.exports=a("Set",function(l){return function(){return l(this,arguments.length?arguments[0]:void 0)}},c)},{"../internals/collection":32,"../internals/collection-strong":30}],198:[function(y,s,o){var a=y("../internals/export"),c=y("../internals/object-get-own-property-descriptor").f,l=y("../internals/to-length"),u=y("../internals/not-a-regexp"),p=y("../internals/require-object-coercible"),b=y("../internals/correct-is-regexp-logic"),y=y("../internals/is-pure"),d="".endsWith,f=Math.min,b=b("endsWith");a({target:"String",proto:!0,forced:!!(y||b||!(a=c(String.prototype,"endsWith"))||a.writable)&&!b},{endsWith:function(g){var v=String(p(this)),_=(u(g),1<arguments.length?arguments[1]:void 0),x=l(v.length),_=_===void 0?x:f(l(_),x),x=String(g);return d?d.call(v,x,_):v.slice(_-x.length,_)===x}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":76,"../internals/not-a-regexp":88,"../internals/object-get-own-property-descriptor":94,"../internals/require-object-coercible":115,"../internals/to-length":138}],199:[function(r,s,o){var a=r("../internals/export"),c=r("../internals/not-a-regexp"),l=r("../internals/require-object-coercible");a({target:"String",proto:!0,forced:!r("../internals/correct-is-regexp-logic")("includes")},{includes:function(u){return!!~String(l(this)).indexOf(c(u),1<arguments.length?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/not-a-regexp":88,"../internals/require-object-coercible":115}],200:[function(l,s,o){var a=l("../internals/string-multibyte").charAt,c=l("../internals/internal-state"),l=l("../internals/define-iterator"),u="String Iterator",p=c.set,y=c.getterFor(u);l(String,"String",function(d){p(this,{type:u,string:String(d),index:0})},function(){var d=y(this),f=d.string,b=d.index;return b>=f.length?{value:void 0,done:!0}:(f=a(f,b),d.index+=f.length,{value:f,done:!1})})},{"../internals/define-iterator":41,"../internals/internal-state":71,"../internals/string-multibyte":125}],201:[function(r,s,o){var a=r("../internals/fix-regexp-well-known-symbol-logic"),c=r("../internals/an-object"),l=r("../internals/to-length"),u=r("../internals/require-object-coercible"),p=r("../internals/advance-string-index"),y=r("../internals/regexp-exec-abstract");a("match",1,function(d,f,b){return[function(g){var v=u(this),_=g==null?void 0:g[d];return _!==void 0?_.call(g,v):new RegExp(g)[d](String(v))},function(g){var v=b(f,g,this);if(v.done)return v.value;var _=c(g),x=String(this);if(!_.global)return y(_,x);for(var w=_.unicode,S=[],R=_.lastIndex=0;(D=y(_,x))!==null;){var D=String(D[0]);(S[R]=D)===""&&(_.lastIndex=p(x,l(_.lastIndex),w)),R++}return R===0?null:S}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/to-length":138}],202:[function(r,s,o){var a=r("../internals/export"),c=r("../internals/string-pad").start;a({target:"String",proto:!0,forced:r("../internals/string-pad-webkit-bug")},{padStart:function(l){return c(this,l,1<arguments.length?arguments[1]:void 0)}})},{"../internals/export":50,"../internals/string-pad":127,"../internals/string-pad-webkit-bug":126}],203:[function(r,s,o){r("../internals/export")({target:"String",proto:!0},{repeat:r("../internals/string-repeat")})},{"../internals/export":50,"../internals/string-repeat":129}],204:[function(r,s,o){var a=r("../internals/fix-regexp-well-known-symbol-logic"),c=r("../internals/an-object"),l=r("../internals/to-object"),u=r("../internals/to-length"),p=r("../internals/to-integer"),y=r("../internals/require-object-coercible"),d=r("../internals/advance-string-index"),f=r("../internals/regexp-exec-abstract"),b=Math.max,g=Math.min,v=Math.floor,_=/\$([$&'`]|\d\d?|<[^>]*>)/g,x=/\$([$&'`]|\d\d?)/g;a("replace",2,function(w,S,R,D){var A=D.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,C=D.REPLACE_KEEPS_$0,j=A?"$":"$0";return[function(P,O){var L=y(this),N=P==null?void 0:P[w];return N!==void 0?N.call(P,L,O):S.call(String(L),P,O)},function(P,O){if(!A&&C||typeof O=="string"&&O.indexOf(j)===-1){var L=R(S,P,this,O);if(L.done)return L.value}for(var N,q=c(P),W=String(this),Y=typeof O=="function",J=(Y||(O=String(O)),q.global),te=(J&&(N=q.unicode,q.lastIndex=0),[]);(I=f(q,W))!==null&&(te.push(I),J);)String(I[0])===""&&(q.lastIndex=d(W,u(q.lastIndex),N));for(var ee,Q="",ne=0,re=0;re<te.length;re++){for(var I=te[re],U=String(I[0]),H=b(g(p(I.index),W.length),0),X=[],ae=1;ae<I.length;ae++)X.push((ee=I[ae])===void 0?ee:String(ee));var le=I.groups,he=Y?(he=[U].concat(X,H,W),le!==void 0&&he.push(le),String(O.apply(void 0,he))):function(ye,me,xe,Se,pe,Te){var ke=xe+ye.length,Me=Se.length,Ne=x;return pe!==void 0&&(pe=l(pe),Ne=_),S.call(Te,Ne,function(Ve,Xe){var ht;switch(Xe.charAt(0)){case"$":return"$";case"&":return ye;case"`":return me.slice(0,xe);case"'":return me.slice(ke);case"<":ht=pe[Xe.slice(1,-1)];break;default:var Ke,jt=+Xe;if(jt==0)return Ve;if(Me<jt)return(Ke=v(jt/10))!==0&&Ke<=Me?Se[Ke-1]===void 0?Xe.charAt(1):Se[Ke-1]+Xe.charAt(1):Ve;ht=Se[jt-1]}return ht===void 0?"":ht})}(U,W,H,X,le,O);ne<=H&&(Q+=W.slice(ne,H)+he,ne=H+U.length)}return Q+W.slice(ne)}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/to-integer":137,"../internals/to-length":138,"../internals/to-object":139}],205:[function(r,s,o){var a=r("../internals/fix-regexp-well-known-symbol-logic"),c=r("../internals/an-object"),l=r("../internals/require-object-coercible"),u=r("../internals/same-value"),p=r("../internals/regexp-exec-abstract");a("search",1,function(y,d,f){return[function(b){var g=l(this),v=b==null?void 0:b[y];return v!==void 0?v.call(b,g):new RegExp(b)[y](String(g))},function(b){var g,v=f(d,b,this);return v.done?v.value:(v=c(b),b=String(this),g=v.lastIndex,u(g,0)||(v.lastIndex=0),b=p(v,b),u(v.lastIndex,g)||(v.lastIndex=g),b===null?-1:b.index)}]})},{"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/same-value":116}],206:[function(g,s,o){var a=g("../internals/fix-regexp-well-known-symbol-logic"),c=g("../internals/is-regexp"),l=g("../internals/an-object"),u=g("../internals/require-object-coercible"),p=g("../internals/species-constructor"),y=g("../internals/advance-string-index"),d=g("../internals/to-length"),f=g("../internals/regexp-exec-abstract"),b=g("../internals/regexp-exec"),g=g("../internals/fails"),v=[].push,_=Math.min,x=4294967295,w=!g(function(){return!RegExp(x,"y")});a("split",2,function(S,R,D){var A="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||1<".".split(/()()/).length||"".split(/.?/).length?function(C,j){var P=String(u(this)),O=j===void 0?x:j>>>0;if(O==0)return[];if(C===void 0)return[P];if(!c(C))return R.call(P,C,O);for(var L,N,q,W=[],j=(C.ignoreCase?"i":"")+(C.multiline?"m":"")+(C.unicode?"u":"")+(C.sticky?"y":""),Y=0,J=new RegExp(C.source,j+"g");(L=b.call(J,P))&&!(Y<(N=J.lastIndex)&&(W.push(P.slice(Y,L.index)),1<L.length&&L.index<P.length&&v.apply(W,L.slice(1)),q=L[0].length,Y=N,W.length>=O));)J.lastIndex===L.index&&J.lastIndex++;return Y===P.length?!q&&J.test("")||W.push(""):W.push(P.slice(Y)),W.length>O?W.slice(0,O):W}:"0".split(void 0,0).length?function(C,j){return C===void 0&&j===0?[]:R.call(this,C,j)}:R;return[function(C,j){var P=u(this),O=C==null?void 0:C[S];return O!==void 0?O.call(C,P,j):A.call(String(P),C,j)},function(L,j){var P=D(A,L,this,j,A!==R);if(P.done)return P.value;var P=l(L),O=String(this),L=p(P,RegExp),N=P.unicode,q=(P.ignoreCase?"i":"")+(P.multiline?"m":"")+(P.unicode?"u":"")+(w?"y":"g"),W=new L(w?P:"^(?:"+P.source+")",q),Y=j===void 0?x:j>>>0;if(Y==0)return[];if(O.length===0)return f(W,O)===null?[O]:[];for(var J=0,te=0,ee=[];te<O.length;){W.lastIndex=w?te:0;var Q,ne=f(W,w?O:O.slice(te));if(ne===null||(Q=_(d(W.lastIndex+(w?0:te)),O.length))===J)te=y(O,te,N);else{if(ee.push(O.slice(J,te)),ee.length===Y)return ee;for(var re=1;re<=ne.length-1;re++)if(ee.push(ne[re]),ee.length===Y)return ee;te=J=Q}}return ee.push(O.slice(J)),ee}]},!w)},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fails":51,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/is-regexp":77,"../internals/regexp-exec":112,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/species-constructor":123,"../internals/to-length":138}],207:[function(y,s,o){var a=y("../internals/export"),c=y("../internals/object-get-own-property-descriptor").f,l=y("../internals/to-length"),u=y("../internals/not-a-regexp"),p=y("../internals/require-object-coercible"),b=y("../internals/correct-is-regexp-logic"),y=y("../internals/is-pure"),d="".startsWith,f=Math.min,b=b("startsWith");a({target:"String",proto:!0,forced:!!(y||b||!(a=c(String.prototype,"startsWith"))||a.writable)&&!b},{startsWith:function(x){var v=String(p(this)),_=(u(x),l(f(1<arguments.length?arguments[1]:void 0,v.length))),x=String(x);return d?d.call(v,x,_):v.slice(_,_+x.length)===x}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":76,"../internals/not-a-regexp":88,"../internals/object-get-own-property-descriptor":94,"../internals/require-object-coercible":115,"../internals/to-length":138}],208:[function(r,s,o){var a=r("../internals/export"),c=r("../internals/create-html");a({target:"String",proto:!0,forced:r("../internals/string-html-forced")("sub")},{sub:function(){return c(this,"sub","","")}})},{"../internals/create-html":36,"../internals/export":50,"../internals/string-html-forced":124}],209:[function(r,s,o){var a=r("../internals/export"),c=r("../internals/string-trim").trim;a({target:"String",proto:!0,forced:r("../internals/string-trim-forced")("trim")},{trim:function(){return c(this)}})},{"../internals/export":50,"../internals/string-trim":131,"../internals/string-trim-forced":130}],210:[function(_,s,o){var a,c,l,u,p,y=_("../internals/export"),d=_("../internals/descriptors"),f=_("../internals/global"),b=_("../internals/has"),g=_("../internals/is-object"),v=_("../internals/object-define-property").f,_=_("../internals/copy-constructor-properties"),x=f.Symbol;!d||typeof x!="function"||"description"in x.prototype&&x().description===void 0||(a={},_(c=function(){var w=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),S=this instanceof c?new x(w):w===void 0?x():x(w);return w===""&&(a[S]=!0),S},x),(f=c.prototype=x.prototype).constructor=c,l=f.toString,u=String(x("test"))=="Symbol(test)",p=/^Symbol\((.*)\)[^)]+$/,v(f,"description",{configurable:!0,get:function(){var w=g(this)?this.valueOf():this,S=l.call(w);return b(a,w)?"":(w=u?S.slice(7,-1):S.replace(p,"$1"))===""?void 0:w}}),y({global:!0,forced:!0},{Symbol:c}))},{"../internals/copy-constructor-properties":33,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/is-object":75,"../internals/object-define-property":93}],211:[function(r,s,o){r("../internals/define-well-known-symbol")("iterator")},{"../internals/define-well-known-symbol":42}],212:[function(me,s,o){function a(ce,we){var He=ht[ce]=P(Te[ye]);return xe(He,{type:he,tag:ce,description:we}),b||(He.description=we),He}function c(ce,We){R(ce);var He=A(We),We=O(He).concat(ge(He));return ae(We,function(rt){b&&!de.call(He,rt)||Ge(ce,rt,He[rt])}),ce}function l(We,rt){var He,We=A(We),rt=C(rt,!0);if(We!==pe||!x(ht,rt)||x(Ke,rt))return!(He=Me(We,rt))||!x(ht,rt)||x(We,le)&&We[le][rt]||(He.enumerable=!0),He}function u(we){var we=Ve(A(we)),He=[];return ae(we,function(We){x(ht,We)||x(ne,We)||He.push(We)}),He}var p=me("../internals/export"),y=me("../internals/global"),d=me("../internals/get-built-in"),f=me("../internals/is-pure"),b=me("../internals/descriptors"),g=me("../internals/native-symbol"),v=me("../internals/use-symbol-as-uid"),_=me("../internals/fails"),x=me("../internals/has"),w=me("../internals/is-array"),S=me("../internals/is-object"),R=me("../internals/an-object"),D=me("../internals/to-object"),A=me("../internals/to-indexed-object"),C=me("../internals/to-primitive"),j=me("../internals/create-property-descriptor"),P=me("../internals/object-create"),O=me("../internals/object-keys"),L=me("../internals/object-get-own-property-names"),N=me("../internals/object-get-own-property-names-external"),q=me("../internals/object-get-own-property-symbols"),W=me("../internals/object-get-own-property-descriptor"),Y=me("../internals/object-define-property"),J=me("../internals/object-property-is-enumerable"),te=me("../internals/create-non-enumerable-property"),ee=me("../internals/redefine"),Q=me("../internals/shared"),gt=me("../internals/shared-key"),ne=me("../internals/hidden-keys"),re=me("../internals/uid"),I=me("../internals/well-known-symbol"),U=me("../internals/well-known-symbol-wrapped"),H=me("../internals/define-well-known-symbol"),X=me("../internals/set-to-string-tag"),Tt=me("../internals/internal-state"),ae=me("../internals/array-iteration").forEach,le=gt("hidden"),he="Symbol",ye="prototype",me=I("toPrimitive"),xe=Tt.set,Se=Tt.getterFor(he),pe=Object[ye],Te=y.Symbol,ke=d("JSON","stringify"),Me=W.f,Ne=Y.f,Ve=N.f,Xe=J.f,ht=Q("symbols"),Ke=Q("op-symbols"),jt=Q("string-to-symbol-registry"),bt=Q("symbol-to-string-registry"),gt=Q("wks"),Tt=y.QObject,St=!Tt||!Tt[ye]||!Tt[ye].findChild,$e=b&&_(function(){return P(Ne({},"a",{get:function(){return Ne(this,"a",{value:7}).a}})).a!=7})?function(ce,we,He){var We=Me(pe,we);We&&delete pe[we],Ne(ce,we,He),We&&ce!==pe&&Ne(pe,we,We)}:Ne,dt=v?function(ce){return typeof ce=="symbol"}:function(ce){return Object(ce)instanceof Te},Ge=function(ce,we,He){return ce===pe&&Ge(Ke,we,He),R(ce),we=C(we,!0),R(He),(x(ht,we)?(He.enumerable?(x(ce,le)&&ce[le][we]&&(ce[le][we]=!1),He=P(He,{enumerable:j(0,!1)})):(x(ce,le)||Ne(ce,le,j(1,{})),ce[le][we]=!0),$e):Ne)(ce,we,He)},de=function(we){var we=C(we,!0),He=Xe.call(this,we);return!(this===pe&&x(ht,we)&&!x(Ke,we))&&(!(He||!x(this,we)||!x(ht,we)||x(this,le)&&this[le][we])||He)},ge=function(He){var we=He===pe,He=Ve(we?Ke:A(He)),We=[];return ae(He,function(rt){!x(ht,rt)||we&&!x(pe,rt)||We.push(ht[rt])}),We};g||(ee((Te=function(){if(this instanceof Te)throw TypeError("Symbol is not a constructor");var ce=arguments.length&&arguments[0]!==void 0?String(arguments[0]):void 0,we=re(ce),He=function(We){this===pe&&He.call(Ke,We),x(this,le)&&x(this[le],we)&&(this[le][we]=!1),$e(this,we,j(1,We))};return b&&St&&$e(pe,we,{configurable:!0,set:He}),a(we,ce)})[ye],"toString",function(){return Se(this).tag}),ee(Te,"withoutSetter",function(ce){return a(re(ce),ce)}),J.f=de,Y.f=Ge,W.f=l,L.f=N.f=u,q.f=ge,U.f=function(ce){return a(I(ce),ce)},b&&(Ne(Te[ye],"description",{configurable:!0,get:function(){return Se(this).description}}),f||ee(pe,"propertyIsEnumerable",de,{unsafe:!0}))),p({global:!0,wrap:!0,forced:!g,sham:!g},{Symbol:Te}),ae(O(gt),function(ce){H(ce)}),p({target:he,stat:!0,forced:!g},{for:function(He){var we,He=String(He);return x(jt,He)?jt[He]:(we=Te(He),jt[He]=we,bt[we]=He,we)},keyFor:function(ce){if(!dt(ce))throw TypeError(ce+" is not a symbol");if(x(bt,ce))return bt[ce]},useSetter:function(){St=!0},useSimple:function(){St=!1}}),p({target:"Object",stat:!0,forced:!g,sham:!b},{create:function(ce,we){return we===void 0?P(ce):c(P(ce),we)},defineProperty:Ge,defineProperties:c,getOwnPropertyDescriptor:l}),p({target:"Object",stat:!0,forced:!g},{getOwnPropertyNames:u,getOwnPropertySymbols:ge}),p({target:"Object",stat:!0,forced:_(function(){q.f(1)})},{getOwnPropertySymbols:function(ce){return q.f(D(ce))}}),ke&&p({target:"JSON",stat:!0,forced:!g||_(function(){var ce=Te();return ke([ce])!="[null]"||ke({a:ce})!="{}"||ke(Object(ce))!="{}"})},{stringify:function(ce,we,He){for(var We,rt=[ce],Et=1;Et<arguments.length;)rt.push(arguments[Et++]);if((S(We=we)||ce!==void 0)&&!dt(ce))return w(we)||(we=function(It,Pt){if(typeof We=="function"&&(Pt=We.call(this,It,Pt)),!dt(Pt))return Pt}),rt[1]=we,ke.apply(null,rt)}}),Te[ye][me]||te(Te[ye],me,Te[ye].valueOf),X(Te,he),ne[le]=!0},{"../internals/an-object":10,"../internals/array-iteration":19,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/define-well-known-symbol":42,"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/get-built-in":57,"../internals/global":60,"../internals/has":61,"../internals/hidden-keys":62,"../internals/internal-state":71,"../internals/is-array":73,"../internals/is-object":75,"../internals/is-pure":76,"../internals/native-symbol":84,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/object-get-own-property-names-external":95,"../internals/object-get-own-property-symbols":97,"../internals/object-keys":100,"../internals/object-property-is-enumerable":101,"../internals/redefine":110,"../internals/set-to-string-tag":119,"../internals/shared":122,"../internals/shared-key":120,"../internals/to-indexed-object":136,"../internals/to-object":139,"../internals/to-primitive":142,"../internals/uid":147,"../internals/use-symbol-as-uid":148,"../internals/well-known-symbol":150,"../internals/well-known-symbol-wrapped":149}],213:[function(r,s,o){var a=r("../internals/array-buffer-view-core"),c=r("../internals/array-copy-within"),l=a.aTypedArray;(0,a.exportTypedArrayMethod)("copyWithin",function(u,p){return c.call(l(this),u,p,2<arguments.length?arguments[2]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-copy-within":14}],214:[function(r,s,o){var a=r("../internals/array-buffer-view-core"),c=r("../internals/array-iteration").every,l=a.aTypedArray;(0,a.exportTypedArrayMethod)("every",function(u){return c(l(this),u,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],215:[function(r,s,o){var a=r("../internals/array-buffer-view-core"),c=r("../internals/array-fill"),l=a.aTypedArray;(0,a.exportTypedArrayMethod)("fill",function(u){return c.apply(l(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-fill":15}],216:[function(r,s,o){var a=r("../internals/array-buffer-view-core"),c=r("../internals/array-iteration").filter,l=r("../internals/species-constructor"),u=a.aTypedArray,p=a.aTypedArrayConstructor;(0,a.exportTypedArrayMethod)("filter",function(y){for(var d=c(u(this),y,1<arguments.length?arguments[1]:void 0),y=l(this,this.constructor),f=0,b=d.length,g=new(p(y))(b);f<b;)g[f]=d[f++];return g})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":123}],217:[function(r,s,o){var a=r("../internals/array-buffer-view-core"),c=r("../internals/array-iteration").findIndex,l=a.aTypedArray;(0,a.exportTypedArrayMethod)("findIndex",function(u){return c(l(this),u,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],218:[function(r,s,o){var a=r("../internals/array-buffer-view-core"),c=r("../internals/array-iteration").find,l=a.aTypedArray;(0,a.exportTypedArrayMethod)("find",function(u){return c(l(this),u,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],219:[function(r,s,o){r("../internals/typed-array-constructor")("Float32",function(a){return function(c,l,u){return a(this,c,l,u)}})},{"../internals/typed-array-constructor":144}],220:[function(r,s,o){r("../internals/typed-array-constructor")("Float64",function(a){return function(c,l,u){return a(this,c,l,u)}})},{"../internals/typed-array-constructor":144}],221:[function(r,s,o){var a=r("../internals/array-buffer-view-core"),c=r("../internals/array-iteration").forEach,l=a.aTypedArray;(0,a.exportTypedArrayMethod)("forEach",function(u){c(l(this),u,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],222:[function(r,s,o){var a=r("../internals/array-buffer-view-core"),c=r("../internals/array-includes").includes,l=a.aTypedArray;(0,a.exportTypedArrayMethod)("includes",function(u){return c(l(this),u,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],223:[function(r,s,o){var a=r("../internals/array-buffer-view-core"),c=r("../internals/array-includes").indexOf,l=a.aTypedArray;(0,a.exportTypedArrayMethod)("indexOf",function(u){return c(l(this),u,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],224:[function(r,s,o){r("../internals/typed-array-constructor")("Int16",function(a){return function(c,l,u){return a(this,c,l,u)}})},{"../internals/typed-array-constructor":144}],225:[function(r,s,o){r("../internals/typed-array-constructor")("Int32",function(a){return function(c,l,u){return a(this,c,l,u)}})},{"../internals/typed-array-constructor":144}],226:[function(c,s,o){function a(){return l.call(y(this))}var b=c("../internals/global"),f=c("../internals/array-buffer-view-core"),d=c("../modules/es.array.iterator"),c=c("../internals/well-known-symbol")("iterator"),b=b.Uint8Array,l=d.values,u=d.keys,p=d.entries,y=f.aTypedArray,d=f.exportTypedArrayMethod,f=b&&b.prototype[c],b=!!f&&(f.name=="values"||f.name==null);d("entries",function(){return p.call(y(this))}),d("keys",function(){return u.call(y(this))}),d("values",a,!b),d(c,a,!b)},{"../internals/array-buffer-view-core":12,"../internals/global":60,"../internals/well-known-symbol":150,"../modules/es.array.iterator":165}],227:[function(c,s,o){var c=c("../internals/array-buffer-view-core"),a=c.aTypedArray,c=c.exportTypedArrayMethod,l=[].join;c("join",function(u){return l.apply(a(this),arguments)})},{"../internals/array-buffer-view-core":12}],228:[function(r,s,o){var a=r("../internals/array-buffer-view-core"),c=r("../internals/array-last-index-of"),l=a.aTypedArray;(0,a.exportTypedArrayMethod)("lastIndexOf",function(u){return c.apply(l(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-last-index-of":20}],229:[function(r,s,o){var a=r("../internals/array-buffer-view-core"),c=r("../internals/array-iteration").map,l=r("../internals/species-constructor"),u=a.aTypedArray,p=a.aTypedArrayConstructor;(0,a.exportTypedArrayMethod)("map",function(y){return c(u(this),y,1<arguments.length?arguments[1]:void 0,function(d,f){return new(p(l(d,d.constructor)))(f)})})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":123}],230:[function(r,s,o){var a=r("../internals/array-buffer-view-core"),c=r("../internals/array-reduce").right,l=a.aTypedArray;(0,a.exportTypedArrayMethod)("reduceRight",function(u){return c(l(this),u,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],231:[function(r,s,o){var a=r("../internals/array-buffer-view-core"),c=r("../internals/array-reduce").left,l=a.aTypedArray;(0,a.exportTypedArrayMethod)("reduce",function(u){return c(l(this),u,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],232:[function(c,s,o){var c=c("../internals/array-buffer-view-core"),a=c.aTypedArray,c=c.exportTypedArrayMethod,l=Math.floor;c("reverse",function(){for(var u,p=a(this).length,y=l(p/2),d=0;d<y;)u=this[d],this[d++]=this[--p],this[p]=u;return this})},{"../internals/array-buffer-view-core":12}],233:[function(p,s,o){var a=p("../internals/array-buffer-view-core"),c=p("../internals/to-length"),l=p("../internals/to-offset"),u=p("../internals/to-object"),p=p("../internals/fails"),y=a.aTypedArray;(0,a.exportTypedArrayMethod)("set",function(d){y(this);var f=l(1<arguments.length?arguments[1]:void 0,1),b=this.length,g=u(d),v=c(g.length),_=0;if(b<v+f)throw RangeError("Wrong length");for(;_<v;)this[f+_]=g[_++]},p(function(){new Int8Array(1).set({})}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/to-length":138,"../internals/to-object":139,"../internals/to-offset":140}],234:[function(c,s,o){var p=c("../internals/array-buffer-view-core"),a=c("../internals/species-constructor"),c=c("../internals/fails"),l=p.aTypedArray,u=p.aTypedArrayConstructor,p=p.exportTypedArrayMethod,y=[].slice;p("slice",function(d,f){for(var b=y.call(l(this),d,f),d=a(this,this.constructor),g=0,v=b.length,_=new(u(d))(v);g<v;)_[g]=b[g++];return _},c(function(){new Int8Array(1).slice()}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/species-constructor":123}],235:[function(r,s,o){var a=r("../internals/array-buffer-view-core"),c=r("../internals/array-iteration").some,l=a.aTypedArray;(0,a.exportTypedArrayMethod)("some",function(u){return c(l(this),u,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],236:[function(c,s,o){var c=c("../internals/array-buffer-view-core"),a=c.aTypedArray,c=c.exportTypedArrayMethod,l=[].sort;c("sort",function(u){return l.call(a(this),u)})},{"../internals/array-buffer-view-core":12}],237:[function(r,s,o){var a=r("../internals/array-buffer-view-core"),c=r("../internals/to-length"),l=r("../internals/to-absolute-index"),u=r("../internals/species-constructor"),p=a.aTypedArray;(0,a.exportTypedArrayMethod)("subarray",function(g,d){var f=p(this),b=f.length,g=l(g,b);return new(u(f,f.constructor))(f.buffer,f.byteOffset+g*f.BYTES_PER_ELEMENT,c((d===void 0?b:l(d,b))-g))})},{"../internals/array-buffer-view-core":12,"../internals/species-constructor":123,"../internals/to-absolute-index":134,"../internals/to-length":138}],238:[function(c,s,o){var p=c("../internals/global"),a=c("../internals/array-buffer-view-core"),c=c("../internals/fails"),l=p.Int8Array,u=a.aTypedArray,p=a.exportTypedArrayMethod,y=[].toLocaleString,d=[].slice,f=!!l&&c(function(){y.call(new l(1))});p("toLocaleString",function(){return y.apply(f?d.call(u(this)):u(this),arguments)},c(function(){return[1,2].toLocaleString()!=new l([1,2]).toLocaleString()})||!c(function(){l.prototype.toLocaleString.call([1,2])}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":60}],239:[function(c,s,o){var a=c("../internals/array-buffer-view-core").exportTypedArrayMethod,p=c("../internals/fails"),c=c("../internals/global").Uint8Array,c=c&&c.prototype||{},l=[].toString,u=[].join,p=(p(function(){l.call({})})&&(l=function(){return u.call(this)}),c.toString!=l);a("toString",l,p)},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":60}],240:[function(r,s,o){r("../internals/typed-array-constructor")("Uint16",function(a){return function(c,l,u){return a(this,c,l,u)}})},{"../internals/typed-array-constructor":144}],241:[function(r,s,o){r("../internals/typed-array-constructor")("Uint32",function(a){return function(c,l,u){return a(this,c,l,u)}})},{"../internals/typed-array-constructor":144}],242:[function(r,s,o){r("../internals/typed-array-constructor")("Uint8",function(a){return function(c,l,u){return a(this,c,l,u)}})},{"../internals/typed-array-constructor":144}],243:[function(r,s,o){r("../internals/typed-array-constructor")("Uint8",function(a){return function(c,l,u){return a(this,c,l,u)}},!0)},{"../internals/typed-array-constructor":144}],244:[function(x,R,o){function a(D){return function(){return D(this,arguments.length?arguments[0]:void 0)}}var c,l,u,p,y,w=x("../internals/global"),d=x("../internals/redefine-all"),f=x("../internals/internal-metadata"),b=x("../internals/collection"),g=x("../internals/collection-weak"),v=x("../internals/is-object"),_=x("../internals/internal-state").enforce,x=x("../internals/native-weak-map"),w=!w.ActiveXObject&&"ActiveXObject"in w,S=Object.isExtensible,R=R.exports=b("WeakMap",a,g);x&&w&&(c=g.getConstructor(a,"WeakMap",!0),f.REQUIRED=!0,b=R.prototype,l=b.delete,u=b.has,p=b.get,y=b.set,d(b,{delete:function(D){var A;return v(D)&&!S(D)?((A=_(this)).frozen||(A.frozen=new c),l.call(this,D)||A.frozen.delete(D)):l.call(this,D)},has:function(D){var A;return v(D)&&!S(D)?((A=_(this)).frozen||(A.frozen=new c),u.call(this,D)||A.frozen.has(D)):u.call(this,D)},get:function(D){var A;return!v(D)||S(D)||((A=_(this)).frozen||(A.frozen=new c),u.call(this,D))?p.call(this,D):A.frozen.get(D)},set:function(D,A){var C;return!v(D)||S(D)||((C=_(this)).frozen||(C.frozen=new c),u.call(this,D))?y.call(this,D,A):C.frozen.set(D,A),this}}))},{"../internals/collection":32,"../internals/collection-weak":31,"../internals/global":60,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/is-object":75,"../internals/native-weak-map":86,"../internals/redefine-all":109}],245:[function(r,s,o){var a,c=r("../internals/global"),l=r("../internals/dom-iterables"),u=r("../internals/array-for-each"),p=r("../internals/create-non-enumerable-property");for(a in l){var y=c[a],y=y&&y.prototype;if(y&&y.forEach!==u)try{p(y,"forEach",u)}catch{y.forEach=u}}},{"../internals/array-for-each":16,"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":60}],246:[function(y,s,o){var a,c=y("../internals/global"),l=y("../internals/dom-iterables"),u=y("../modules/es.array.iterator"),p=y("../internals/create-non-enumerable-property"),y=y("../internals/well-known-symbol"),d=y("iterator"),f=y("toStringTag"),b=u.values;for(a in l){var g=c[a],v=g&&g.prototype;if(v){if(v[d]!==b)try{p(v,d,b)}catch{v[d]=b}if(v[f]||p(v,f,a),l[a]){for(var _ in u)if(v[_]!==u[_])try{p(v,_,u[_])}catch{v[_]=u[_]}}}}},{"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":60,"../internals/well-known-symbol":150,"../modules/es.array.iterator":165}],247:[function(le,s,o){le("../modules/es.array.iterator");function a(he){try{return decodeURIComponent(he)}catch{return he}}function c(he){return H[he]}function l(he){return encodeURIComponent(he).replace(U,c)}function u(he){this.entries.length=0,X(this.entries,he)}function p(he,ye){if(he<ye)throw TypeError("Not enough arguments")}function y(){w(this,y,Y);var he,ye,me,xe,Se,pe,Te,ke,Me=0<arguments.length?arguments[0]:void 0,Ne=[];if(te(this,{type:Y,entries:Ne,updateURL:function(){},updateSearchParams:u}),Me!==void 0)if(C(Me))if(typeof(he=L(Me))=="function")for(me=(ye=he.call(Me)).next;!(xe=me.call(ye)).done;){if((pe=(Se=(xe=O(A(xe.value))).next).call(xe)).done||(Te=Se.call(xe)).done||!Se.call(xe).done)throw TypeError("Expected sequence with length 2");Ne.push({key:pe.value+"",value:Te.value+""})}else for(ke in Me)S(Me,ke)&&Ne.push({key:ke,value:Me[ke]+""});else X(Ne,typeof Me=="string"?Me.charAt(0)==="?"?Me.slice(1):Me:Me+"")}var d=le("../internals/export"),W=le("../internals/get-built-in"),f=le("../internals/native-url"),b=le("../internals/redefine"),g=le("../internals/redefine-all"),v=le("../internals/set-to-string-tag"),_=le("../internals/create-iterator-constructor"),x=le("../internals/internal-state"),w=le("../internals/an-instance"),S=le("../internals/has"),R=le("../internals/function-bind-context"),D=le("../internals/classof"),A=le("../internals/an-object"),C=le("../internals/is-object"),j=le("../internals/object-create"),P=le("../internals/create-property-descriptor"),O=le("../internals/get-iterator"),L=le("../internals/get-iterator-method"),le=le("../internals/well-known-symbol"),N=W("fetch"),q=W("Headers"),W=le("iterator"),Y="URLSearchParams",J=Y+"Iterator",te=x.set,ee=x.getterFor(Y),Q=x.getterFor(J),ne=/\+/g,re=Array(4),I=function(he){var ye,me=he.replace(ne," "),xe=4;try{return decodeURIComponent(me)}catch{for(;xe;)me=me.replace((ye=xe--,re[ye-1]||(re[ye-1]=RegExp("((?:%[\\da-f]{2}){"+ye+"})","gi"))),a);return me}},U=/[!'()~]|%20/g,H={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},X=function(he,ye){if(ye)for(var me,xe=ye.split("&"),Se=0;Se<xe.length;)(me=xe[Se++]).length&&(me=me.split("="),he.push({key:I(me.shift()),value:I(me.join("="))}))},ae=_(function(he,ye){te(this,{type:J,iterator:O(ee(he).entries),kind:ye})},"Iterator",function(){var ye=Q(this),he=ye.kind,ye=ye.iterator.next(),me=ye.value;return ye.done||(ye.value=he==="keys"?me.key:he==="values"?me.value:[me.key,me.value]),ye}),le=y.prototype;g(le,{append:function(he,ye){p(arguments.length,2);var me=ee(this);me.entries.push({key:he+"",value:ye+""}),me.updateURL()},delete:function(he){p(arguments.length,1);for(var ye=ee(this),me=ye.entries,xe=he+"",Se=0;Se<me.length;)me[Se].key===xe?me.splice(Se,1):Se++;ye.updateURL()},get:function(he){p(arguments.length,1);for(var ye=ee(this).entries,me=he+"",xe=0;xe<ye.length;xe++)if(ye[xe].key===me)return ye[xe].value;return null},getAll:function(he){p(arguments.length,1);for(var ye=ee(this).entries,me=he+"",xe=[],Se=0;Se<ye.length;Se++)ye[Se].key===me&&xe.push(ye[Se].value);return xe},has:function(he){p(arguments.length,1);for(var ye=ee(this).entries,me=he+"",xe=0;xe<ye.length;)if(ye[xe++].key===me)return!0;return!1},set:function(he,ye){p(arguments.length,1);for(var me,xe=ee(this),Se=xe.entries,pe=!1,Te=he+"",ke=ye+"",Me=0;Me<Se.length;Me++)(me=Se[Me]).key===Te&&(pe?Se.splice(Me--,1):(pe=!0,me.value=ke));pe||Se.push({key:Te,value:ke}),xe.updateURL()},sort:function(){for(var he,ye,me=ee(this),xe=me.entries,Se=xe.slice(),pe=xe.length=0;pe<Se.length;pe++){for(he=Se[pe],ye=0;ye<pe;ye++)if(xe[ye].key>he.key){xe.splice(ye,0,he);break}ye===pe&&xe.push(he)}me.updateURL()},forEach:function(he){for(var ye,me=ee(this).entries,xe=R(he,1<arguments.length?arguments[1]:void 0,3),Se=0;Se<me.length;)xe((ye=me[Se++]).value,ye.key,this)},keys:function(){return new ae(this,"keys")},values:function(){return new ae(this,"values")},entries:function(){return new ae(this,"entries")}},{enumerable:!0}),b(le,W,le.entries),b(le,"toString",function(){for(var he,ye=ee(this).entries,me=[],xe=0;xe<ye.length;)he=ye[xe++],me.push(l(he.key)+"="+l(he.value));return me.join("&")},{enumerable:!0}),v(y,Y),d({global:!0,forced:!f},{URLSearchParams:y}),f||typeof N!="function"||typeof q!="function"||d({global:!0,enumerable:!0,forced:!0},{fetch:function(Se){var ye,me,xe,Se=[Se];return 1<arguments.length&&(C(ye=arguments[1])&&(me=ye.body,D(me)===Y&&((xe=ye.headers?new q(ye.headers):new q).has("content-type")||xe.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),ye=j(ye,{body:P(0,String(me)),headers:P(0,xe)}))),Se.push(ye)),N.apply(this,Se)}}),s.exports={URLSearchParams:y,getState:ee}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/classof":29,"../internals/create-iterator-constructor":37,"../internals/create-property-descriptor":39,"../internals/export":50,"../internals/function-bind-context":55,"../internals/get-built-in":57,"../internals/get-iterator":59,"../internals/get-iterator-method":58,"../internals/has":61,"../internals/internal-state":71,"../internals/is-object":75,"../internals/native-url":85,"../internals/object-create":91,"../internals/redefine":110,"../internals/redefine-all":109,"../internals/set-to-string-tag":119,"../internals/well-known-symbol":150,"../modules/es.array.iterator":165}],248:[function(O,s,o){O("../modules/es.string.iterator");function a(be){var Fe,qe,Be,ft;if(typeof be=="number"){for(Fe=[],qe=0;qe<4;qe++)Fe.unshift(be%256),be=J(be/256);return Fe.join(".")}if(typeof be!="object")return be;for(Fe="",Be=Te(be),qe=0;qe<8;qe++)ft&&be[qe]===0||(ft=ft&&!1,Be===qe?(Fe+=qe?":":"::",ft=!0):(Fe+=be[qe].toString(16),qe<7&&(Fe+=":")));return"["+Fe+"]"}function c(be){return!be.host||be.cannotBeABaseURL||be.scheme=="file"}function l(be,Fe,qe,Be){var ft,Qe,At,nt=qe||dt,mt=0,vt="",ir=!1,Zt=!1,nr=!1;for(qe||(be.scheme="",be.username="",be.password="",be.host=null,be.port=null,be.path=[],be.query=null,be.fragment=null,be.cannotBeABaseURL=!1,Fe=Fe.replace(xe,"")),Fe=Fe.replace(Se,""),ft=D(Fe);mt<=ft.length;){switch(Qe=ft[mt],nt){case dt:if(!Qe||!I.test(Qe)){if(qe)return Q;nt=de;continue}vt+=Qe.toLowerCase(),nt=Ge;break;case Ge:if(Qe&&(U.test(Qe)||Qe=="+"||Qe=="-"||Qe=="."))vt+=Qe.toLowerCase();else{if(Qe!=":"){if(qe)return Q;vt="",nt=de,mt=0;continue}if(qe&&(Ke(be)!=S(ht,vt)||vt=="file"&&(jt(be)||be.port!==null)||be.scheme=="file"&&!be.host))return;if(be.scheme=vt,qe)return void(Ke(be)&&ht[be.scheme]==be.port&&(be.port=null));vt="",be.scheme=="file"?nt=Qt:Ke(be)&&Be&&Be.scheme==be.scheme?nt=ge:Ke(be)?nt=We:ft[mt+1]=="/"?(nt=ce,mt++):(be.cannotBeABaseURL=!0,be.path.push(""),nt=Mr)}break;case de:if(!Be||Be.cannotBeABaseURL&&Qe!="#")return Q;if(Be.cannotBeABaseURL&&Qe=="#"){be.scheme=Be.scheme,be.path=Be.path.slice(),be.query=Be.query,be.fragment="",be.cannotBeABaseURL=!0,nt=Jr;break}nt=Be.scheme=="file"?Qt:we;continue;case ge:if(Qe!="/"||ft[mt+1]!="/"){nt=we;continue}nt=rt,mt++;break;case ce:if(Qe=="/"){nt=Et;break}nt=Wt;continue;case we:if(be.scheme=Be.scheme,Qe==y)be.username=Be.username,be.password=Be.password,be.host=Be.host,be.port=Be.port,be.path=Be.path.slice(),be.query=Be.query;else if(Qe=="/"||Qe=="\\"&&Ke(be))nt=He;else if(Qe=="?")be.username=Be.username,be.password=Be.password,be.host=Be.host,be.port=Be.port,be.path=Be.path.slice(),be.query="",nt=pn;else{if(Qe!="#"){be.username=Be.username,be.password=Be.password,be.host=Be.host,be.port=Be.port,be.path=Be.path.slice(),be.path.pop(),nt=Wt;continue}be.username=Be.username,be.password=Be.password,be.host=Be.host,be.port=Be.port,be.path=Be.path.slice(),be.query=Be.query,be.fragment="",nt=Jr}break;case He:if(!Ke(be)||Qe!="/"&&Qe!="\\"){if(Qe!="/"){be.username=Be.username,be.password=Be.password,be.host=Be.host,be.port=Be.port,nt=Wt;continue}nt=Et}else nt=rt;break;case We:if(nt=rt,Qe!="/"||vt.charAt(mt+1)!="/")continue;mt++;break;case rt:if(Qe=="/"||Qe=="\\")break;nt=Et;continue;case Et:if(Qe=="@"){ir&&(vt="%40"+vt);for(var ir=!0,br=D(vt),Qn=0;Qn<br.length;Qn++){var wn=br[Qn];wn!=":"||nr?(wn=Xe(wn,Ve),nr?be.password+=wn:be.username+=wn):nr=!0}vt=""}else if(Qe==y||Qe=="/"||Qe=="?"||Qe=="#"||Qe=="\\"&&Ke(be)){if(ir&&vt=="")return ee;mt-=D(vt).length+1,vt="",nt=It}else vt+=Qe;break;case It:case Pt:if(qe&&be.scheme=="file"){nt=Ft;continue}if(Qe!=":"||Zt){if(Qe==y||Qe=="/"||Qe=="?"||Qe=="#"||Qe=="\\"&&Ke(be)){if(Ke(be)&&vt=="")return ne;if(qe&&vt==""&&(jt(be)||be.port!==null))return;if(At=pe(be,vt))return At;if(vt="",nt=Xt,qe)return;continue}Qe=="["?Zt=!0:Qe=="]"&&(Zt=!1),vt+=Qe}else{if(vt=="")return ne;if(At=pe(be,vt))return At;if(vt="",nt=Dt,qe==Pt)return}break;case Dt:if(!H.test(Qe)){if(Qe==y||Qe=="/"||Qe=="?"||Qe=="#"||Qe=="\\"&&Ke(be)||qe){if(vt!=""){var jn=parseInt(vt,10);if(65535<jn)return re;be.port=Ke(be)&&jn===ht[be.scheme]?null:jn,vt=""}if(qe)return;nt=Xt;continue}return re}vt+=Qe;break;case Qt:if(be.scheme="file",Qe=="/"||Qe=="\\")nt=Gt;else{if(!Be||Be.scheme!="file"){nt=Wt;continue}if(Qe==y)be.host=Be.host,be.path=Be.path.slice(),be.query=Be.query;else if(Qe=="?")be.host=Be.host,be.path=Be.path.slice(),be.query="",nt=pn;else{if(Qe!="#"){gt(ft.slice(mt).join(""))||(be.host=Be.host,be.path=Be.path.slice(),Tt(be)),nt=Wt;continue}be.host=Be.host,be.path=Be.path.slice(),be.query=Be.query,be.fragment="",nt=Jr}}break;case Gt:if(Qe=="/"||Qe=="\\"){nt=Ft;break}Be&&Be.scheme=="file"&&!gt(ft.slice(mt).join(""))&&(bt(Be.path[0],!0)?be.path.push(Be.path[0]):be.host=Be.host),nt=Wt;continue;case Ft:if(Qe==y||Qe=="/"||Qe=="\\"||Qe=="?"||Qe=="#"){if(!qe&&bt(vt))nt=Wt;else{if(vt==""){if(be.host="",qe)return}else{if(At=pe(be,vt))return At;if(be.host=="localhost"&&(be.host=""),qe)return;vt=""}nt=Xt}continue}vt+=Qe;break;case Xt:if(Ke(be)){if(nt=Wt,Qe!="/"&&Qe!="\\")continue}else if(qe||Qe!="?")if(qe||Qe!="#"){if(Qe!=y&&(nt=Wt,Qe!="/"))continue}else be.fragment="",nt=Jr;else be.query="",nt=pn;break;case Wt:if(Qe==y||Qe=="/"||Qe=="\\"&&Ke(be)||!qe&&(Qe=="?"||Qe=="#")){if($e(vt)?(Tt(be),Qe=="/"||Qe=="\\"&&Ke(be)||be.path.push("")):St(vt)?Qe=="/"||Qe=="\\"&&Ke(be)||be.path.push(""):(be.scheme=="file"&&!be.path.length&&bt(vt)&&(be.host&&(be.host=""),vt=vt.charAt(0)+":"),be.path.push(vt)),vt="",be.scheme=="file"&&(Qe==y||Qe=="?"||Qe=="#"))for(;1<be.path.length&&be.path[0]==="";)be.path.shift();Qe=="?"?(be.query="",nt=pn):Qe=="#"&&(be.fragment="",nt=Jr)}else vt+=Xe(Qe,Ne);break;case Mr:Qe=="?"?(be.query="",nt=pn):Qe=="#"?(be.fragment="",nt=Jr):Qe!=y&&(be.path[0]+=Xe(Qe,ke));break;case pn:qe||Qe!="#"?Qe!=y&&(Qe=="'"&&Ke(be)?be.query+="%27":be.query+=Qe=="#"?"%23":Xe(Qe,ke)):(be.fragment="",nt=Jr);break;case Jr:Qe!=y&&(be.fragment+=Xe(Qe,Me))}mt++}}function u(Qe){var Fe,qe,Be=w(this,u,"URL"),ft=1<arguments.length?arguments[1]:void 0,Qe=String(Qe),At=W(Be,{type:"URL"});if(ft!==void 0){if(ft instanceof u)Fe=Y(ft);else if(qe=l(Fe={},String(ft)))throw TypeError(qe)}if(qe=l(At,Qe,null,Fe))throw TypeError(qe);var nt=At.searchParams=new N;(ft=q(nt)).updateSearchParams(At.query),ft.updateURL=function(){At.query=String(nt)||null},g||(Be.href=Fr.call(Be),Be.origin=hr.call(Be),Be.protocol=on.call(Be),Be.username=xn.call(Be),Be.password=jr.call(Be),Be.host=_e.call(Be),Be.hostname=Pe.call(Be),Be.port=Ae.call(Be),Be.pathname=Ie.call(Be),Be.search=De.call(Be),Be.searchParams=Le.call(Be),Be.hash=ot.call(Be))}function p(be,Fe){return{get:be,set:Fe,configurable:!0,enumerable:!0}}var y,d,f,b=O("../internals/export"),g=O("../internals/descriptors"),v=O("../internals/native-url"),rr=O("../internals/global"),_=O("../internals/object-define-properties"),x=O("../internals/redefine"),w=O("../internals/an-instance"),S=O("../internals/has"),R=O("../internals/object-assign"),D=O("../internals/array-from"),A=O("../internals/string-multibyte").codeAt,C=O("../internals/string-punycode-to-ascii"),j=O("../internals/set-to-string-tag"),P=O("../modules/web.url-search-params"),O=O("../internals/internal-state"),L=rr.URL,N=P.URLSearchParams,q=P.getState,W=O.set,Y=O.getterFor("URL"),J=Math.floor,te=Math.pow,ee="Invalid authority",Q="Invalid scheme",ne="Invalid host",re="Invalid port",I=/[A-Za-z]/,U=/[\d+-.A-Za-z]/,H=/\d/,X=/^(0x|0X)/,ae=/^[0-7]+$/,le=/^\d+$/,he=/^[\dA-Fa-f]+$/,ye=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,me=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,xe=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,Se=/[\u0009\u000A\u000D]/g,pe=function(be,Fe){var qe,Be,ft;if(Fe.charAt(0)=="[")return Fe.charAt(Fe.length-1)=="]"&&(qe=function(Qe){var At=[0,0,0,0,0,0,0,0],nt=0,mt=null,vt=0,ir,Zt,nr,br,Qn,wn,jn,mn=function(){return Qe.charAt(vt)};if(mn()==":"){if(Qe.charAt(1)!=":")return;vt+=2,nt++,mt=nt}for(;mn();){if(nt==8)return;if(mn()==":"){if(mt!==null)return;vt++,nt++,mt=nt;continue}for(ir=Zt=0;Zt<4&&he.test(mn());)ir=ir*16+parseInt(mn(),16),vt++,Zt++;if(mn()=="."){if(Zt==0||(vt-=Zt,nt>6))return;for(nr=0;mn();){if(br=null,nr>0)if(mn()=="."&&nr<4)vt++;else return;if(!H.test(mn()))return;for(;H.test(mn());){if(Qn=parseInt(mn(),10),br===null)br=Qn;else{if(br==0)return;br=br*10+Qn}if(br>255)return;vt++}At[nt]=At[nt]*256+br,nr++,(nr==2||nr==4)&&nt++}if(nr!=4)return;break}else if(mn()==":"){if(vt++,!mn())return}else if(mn())return;At[nt++]=ir}if(mt!==null)for(wn=nt-mt,nt=7;nt!=0&&wn>0;)jn=At[nt],At[nt--]=At[mt+wn-1],At[mt+--wn]=jn;else if(nt!=8)return;return At}(Fe.slice(1,-1)))?void(be.host=qe):ne;if(Ke(be))return Fe=C(Fe),ye.test(Fe)||(qe=function(Qe){var At=Qe.split("."),nt,mt,vt,ir,Zt,nr,br;if(At.length&&At[At.length-1]==""&&At.pop(),(nt=At.length)>4)return Qe;for(mt=[],vt=0;vt<nt;vt++){if(ir=At[vt],ir=="")return Qe;if(Zt=10,ir.length>1&&ir.charAt(0)=="0"&&(Zt=X.test(ir)?16:8,ir=ir.slice(Zt==8?1:2)),ir==="")nr=0;else{if(!(Zt==10?le:Zt==8?ae:he).test(ir))return Qe;nr=parseInt(ir,Zt)}mt.push(nr)}for(vt=0;vt<nt;vt++)if(nr=mt[vt],vt==nt-1){if(nr>=te(256,5-nt))return null}else if(nr>255)return null;for(br=mt.pop(),vt=0;vt<mt.length;vt++)br+=mt[vt]*te(256,3-vt);return br}(Fe))===null?ne:void(be.host=qe);if(me.test(Fe))return ne;for(qe="",Be=D(Fe),ft=0;ft<Be.length;ft++)qe+=Xe(Be[ft],ke);be.host=qe},Te=function(be){for(var Fe=null,qe=1,Be=null,ft=0,Qe=0;Qe<8;Qe++)be[Qe]!==0?(qe<ft&&(Fe=Be,qe=ft),Be=null,ft=0):(Be===null&&(Be=Qe),++ft);return qe<ft&&(Fe=Be,qe=ft),Fe},ke={},Me=R({},ke,{" ":1,'"':1,"<":1,">":1,"`":1}),Ne=R({},Me,{"#":1,"?":1,"{":1,"}":1}),Ve=R({},Ne,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Xe=function(be,Fe){var qe=A(be,0);return 32<qe&&qe<127&&!S(Fe,be)?be:encodeURIComponent(be)},ht={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Ke=function(be){return S(ht,be.scheme)},jt=function(be){return be.username!=""||be.password!=""},bt=function(be,Fe){return be.length==2&&I.test(be.charAt(0))&&((be=be.charAt(1))==":"||!Fe&&be=="|")},gt=function(be){return 1<be.length&&bt(be.slice(0,2))&&(be.length==2||(be=be.charAt(2))==="/"||be==="\\"||be==="?"||be==="#")},Tt=function(be){var Fe=be.path,qe=Fe.length;!qe||be.scheme=="file"&&qe==1&&bt(Fe[0],!0)||Fe.pop()},St=function(be){return be==="."||be.toLowerCase()==="%2e"},$e=function(be){return(be=be.toLowerCase())===".."||be==="%2e."||be===".%2e"||be==="%2e%2e"},dt={},Ge={},de={},ge={},ce={},we={},He={},We={},rt={},Et={},It={},Pt={},Dt={},Qt={},Gt={},Ft={},Xt={},Wt={},Mr={},pn={},Jr={},rr=u.prototype,Fr=function(){var be=Y(this),Fe=be.scheme,qe=be.username,Be=be.password,ft=be.host,Qe=be.port,At=be.path,nt=be.query,mt=be.fragment,vt=Fe+":";return ft!==null?(vt+="//",jt(be)&&(vt+=qe+(Be?":"+Be:"")+"@"),vt+=a(ft),Qe!==null&&(vt+=":"+Qe)):Fe=="file"&&(vt+="//"),vt+=be.cannotBeABaseURL?At[0]:At.length?"/"+At.join("/"):"",nt!==null&&(vt+="?"+nt),mt!==null&&(vt+="#"+mt),vt},hr=function(){var be=Y(this),Fe=be.scheme,qe=be.port;if(Fe=="blob")try{return new URL(Fe.path[0]).origin}catch{return"null"}return Fe!="file"&&Ke(be)?Fe+"://"+a(be.host)+(qe!==null?":"+qe:""):"null"},on=function(){return Y(this).scheme+":"},xn=function(){return Y(this).username},jr=function(){return Y(this).password},_e=function(){var Fe=Y(this),be=Fe.host,Fe=Fe.port;return be===null?"":Fe===null?a(be):a(be)+":"+Fe},Pe=function(){var be=Y(this).host;return be===null?"":a(be)},Ae=function(){var be=Y(this).port;return be===null?"":String(be)},Ie=function(){var be=Y(this),Fe=be.path;return be.cannotBeABaseURL?Fe[0]:Fe.length?"/"+Fe.join("/"):""},De=function(){var be=Y(this).query;return be?"?"+be:""},Le=function(){return Y(this).searchParams},ot=function(){var be=Y(this).fragment;return be?"#"+be:""};g&&_(rr,{href:p(Fr,function(qe){var Fe=Y(this),qe=String(qe),qe=l(Fe,qe);if(qe)throw TypeError(qe);q(Fe.searchParams).updateSearchParams(Fe.query)}),origin:p(hr),protocol:p(on,function(be){var Fe=Y(this);l(Fe,String(be)+":",dt)}),username:p(xn,function(be){var Fe=Y(this),qe=D(String(be));if(!c(Fe)){Fe.username="";for(var Be=0;Be<qe.length;Be++)Fe.username+=Xe(qe[Be],Ve)}}),password:p(jr,function(be){var Fe=Y(this),qe=D(String(be));if(!c(Fe)){Fe.password="";for(var Be=0;Be<qe.length;Be++)Fe.password+=Xe(qe[Be],Ve)}}),host:p(_e,function(be){var Fe=Y(this);Fe.cannotBeABaseURL||l(Fe,String(be),It)}),hostname:p(Pe,function(be){var Fe=Y(this);Fe.cannotBeABaseURL||l(Fe,String(be),Pt)}),port:p(Ae,function(be){var Fe=Y(this);c(Fe)||((be=String(be))==""?Fe.port=null:l(Fe,be,Dt))}),pathname:p(Ie,function(be){var Fe=Y(this);Fe.cannotBeABaseURL||(Fe.path=[],l(Fe,be+"",Xt))}),search:p(De,function(be){var Fe=Y(this);(be=String(be))==""?Fe.query=null:(be.charAt(0)=="?"&&(be=be.slice(1)),Fe.query="",l(Fe,be,pn)),q(Fe.searchParams).updateSearchParams(Fe.query)}),searchParams:p(Le),hash:p(ot,function(be){var Fe=Y(this);(be=String(be))==""?Fe.fragment=null:(be.charAt(0)=="#"&&(be=be.slice(1)),Fe.fragment="",l(Fe,be,Jr))})}),x(rr,"toJSON",function(){return Fr.call(this)},{enumerable:!0}),x(rr,"toString",function(){return Fr.call(this)},{enumerable:!0}),L&&(d=L.createObjectURL,f=L.revokeObjectURL,d&&x(u,"createObjectURL",function(be){return d.apply(L,arguments)}),f&&x(u,"revokeObjectURL",function(be){return f.apply(L,arguments)})),j(u,"URL"),b({global:!0,forced:!v,sham:!g},{URL:u})},{"../internals/an-instance":9,"../internals/array-from":17,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/internal-state":71,"../internals/native-url":85,"../internals/object-assign":90,"../internals/object-define-properties":92,"../internals/redefine":110,"../internals/set-to-string-tag":119,"../internals/string-multibyte":125,"../internals/string-punycode-to-ascii":128,"../modules/es.string.iterator":200,"../modules/web.url-search-params":247}],249:[function(r,s,o){s.exports=r("./").polyfill()},{"./":250}],250:[function(r,s,o){(function(a,c){var l,u;l=this,u=function(){function p(pe){return typeof pe=="function"}var y=Array.isArray||function(pe){return Object.prototype.toString.call(pe)==="[object Array]"},d=0,f=void 0,b=void 0,g=function(pe,Te){R[d]=pe,R[d+1]=Te,(d+=2)===2&&(b?b(D):N())},v=typeof window<"u"?window:void 0,_=v||{},_=_.MutationObserver||_.WebKitMutationObserver,x=typeof self>"u"&&a!==void 0&&{}.toString.call(a)==="[object process]",w=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function S(){var pe=setTimeout;return function(){return pe(D,1)}}var R=new Array(1e3);function D(){for(var pe=0;pe<d;pe+=2)(0,R[pe])(R[pe+1]),R[pe]=void 0,R[pe+1]=void 0;d=0}function A(){try{var pe=Function("return this")().require("vertx");return(f=pe.runOnLoop||pe.runOnContext)!==void 0?function(){f(D)}:S()}catch{return S()}}var C,j,P,N=void 0;function O(pe,Te){var ke,Me=this,Ne=new this.constructor(W),Ve=(Ne[q]===void 0&&he(Ne),Me._state);return Ve?(ke=arguments[Ve-1],g(function(){return ae(Ve,Ne,ke,Me._result)})):H(Me,Ne,pe,Te),Ne}function L(pe){var Te;return pe&&typeof pe=="object"&&pe.constructor===this?pe:(ne(Te=new this(W),pe),Te)}var N=x?function(){return a.nextTick(D)}:_?(j=0,x=new _(D),P=document.createTextNode(""),x.observe(P,{characterData:!0}),function(){P.data=j=++j%2}):w?((C=new MessageChannel).port1.onmessage=D,function(){return C.port2.postMessage(0)}):(v===void 0&&typeof r=="function"?A:S)(),q=Math.random().toString(36).substring(2);function W(){}var Y=void 0,J=1,te=2;function ee(pe,Te,ke){g(function(Me){var Ne=!1,Ve=function(Xe,ht,Ke,jt){try{Xe.call(ht,Ke,jt)}catch(bt){return bt}}(ke,Te,function(Xe){Ne||(Ne=!0,(Te!==Xe?ne:I)(Me,Xe))},function(Xe){Ne||(Ne=!0,U(Me,Xe))},Me._label);!Ne&&Ve&&(Ne=!0,U(Me,Ve))},pe)}function Q(pe,Te,ke){var Me,Ne;Te.constructor===pe.constructor&&ke===O&&Te.constructor.resolve===L?(Me=pe,(Ne=Te)._state===J?I(Me,Ne._result):Ne._state===te?U(Me,Ne._result):H(Ne,void 0,function(Ve){return ne(Me,Ve)},function(Ve){return U(Me,Ve)})):ke!==void 0&&p(ke)?ee(pe,Te,ke):I(pe,Te)}function ne(pe,Te){if(pe===Te)U(pe,new TypeError("You cannot resolve a promise with itself"));else if(ke=typeof Te,Te===null||ke!="object"&&ke!="function")I(pe,Te);else{ke=void 0;try{ke=Te.then}catch(Me){return void U(pe,Me)}Q(pe,Te,ke)}var ke}function re(pe){pe._onerror&&pe._onerror(pe._result),X(pe)}function I(pe,Te){pe._state===Y&&(pe._result=Te,pe._state=J,pe._subscribers.length!==0&&g(X,pe))}function U(pe,Te){pe._state===Y&&(pe._state=te,pe._result=Te,g(re,pe))}function H(pe,Te,ke,Me){var Ne=pe._subscribers,Ve=Ne.length;pe._onerror=null,Ne[Ve]=Te,Ne[Ve+J]=ke,Ne[Ve+te]=Me,Ve===0&&pe._state&&g(X,pe)}function X(pe){var Te=pe._subscribers,ke=pe._state;if(Te.length!==0){for(var Me,Ne=void 0,Ve=pe._result,Xe=0;Xe<Te.length;Xe+=3)Me=Te[Xe],Ne=Te[Xe+ke],Me?ae(ke,Me,Ne,Ve):Ne(Ve);pe._subscribers.length=0}}function ae(pe,Te,ke,Me){var Ne=p(ke),Ve=void 0,Xe=void 0,ht=!0;if(Ne){try{Ve=ke(Me)}catch(Ke){ht=!1,Xe=Ke}if(Te===Ve)return void U(Te,new TypeError("A promises callback cannot return that same promise."))}else Ve=Me;Te._state===Y&&(Ne&&ht?ne(Te,Ve):ht===!1?U(Te,Xe):pe===J?I(Te,Ve):pe===te&&U(Te,Ve))}var le=0;function he(pe){pe[q]=le++,pe._state=void 0,pe._result=void 0,pe._subscribers=[]}me.prototype._enumerate=function(pe){for(var Te=0;this._state===Y&&Te<pe.length;Te++)this._eachEntry(pe[Te],Te)},me.prototype._eachEntry=function(pe,Te){var ke=this._instanceConstructor,Me=ke.resolve;if(Me===L){var Ne,Ve=void 0,Xe=void 0,ht=!1;try{Ve=pe.then}catch(Ke){ht=!0,Xe=Ke}Ve===O&&pe._state!==Y?this._settledAt(pe._state,Te,pe._result):typeof Ve!="function"?(this._remaining--,this._result[Te]=pe):ke===xe?(Ne=new ke(W),ht?U(Ne,Xe):Q(Ne,pe,Ve),this._willSettleAt(Ne,Te)):this._willSettleAt(new ke(function(Ke){return Ke(pe)}),Te)}else this._willSettleAt(Me(pe),Te)},me.prototype._settledAt=function(pe,Te,ke){var Me=this.promise;Me._state===Y&&(this._remaining--,pe===te?U(Me,ke):this._result[Te]=ke),this._remaining===0&&I(Me,this._result)},me.prototype._willSettleAt=function(pe,Te){var ke=this;H(pe,void 0,function(Me){return ke._settledAt(J,Te,Me)},function(Me){return ke._settledAt(te,Te,Me)})};var ye=me;function me(pe,Te){this._instanceConstructor=pe,this.promise=new pe(W),this.promise[q]||he(this.promise),y(Te)?(this.length=Te.length,this._remaining=Te.length,this._result=new Array(this.length),this.length!==0&&(this.length=this.length||0,this._enumerate(Te),this._remaining!==0)||I(this.promise,this._result)):U(this.promise,new Error("Array Methods must be provided an Array"))}Se.prototype.catch=function(pe){return this.then(null,pe)},Se.prototype.finally=function(pe){var Te=this.constructor;return p(pe)?this.then(function(ke){return Te.resolve(pe()).then(function(){return ke})},function(ke){return Te.resolve(pe()).then(function(){throw ke})}):this.then(pe,pe)};var xe=Se;function Se(pe){if(this[q]=le++,this._result=this._state=void 0,this._subscribers=[],W!==pe){if(typeof pe!="function")throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof Se))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");var Te=this;try{pe(function(ke){ne(Te,ke)},function(ke){U(Te,ke)})}catch(ke){U(Te,ke)}}}return xe.prototype.then=O,xe.all=function(pe){return new ye(this,pe).promise},xe.race=function(pe){var Te=this;return y(pe)?new Te(function(ke,Me){for(var Ne=pe.length,Ve=0;Ve<Ne;Ve++)Te.resolve(pe[Ve]).then(ke,Me)}):new Te(function(ke,Me){return Me(new TypeError("You must pass an array to race."))})},xe.resolve=L,xe.reject=function(pe){var Te=new this(W);return U(Te,pe),Te},xe._setScheduler=function(pe){b=pe},xe._setAsap=function(pe){g=pe},xe._asap=g,xe.polyfill=function(){var pe=void 0;if(c!==void 0)pe=c;else if(typeof self<"u")pe=self;else try{pe=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var Te=pe.Promise;if(Te){var ke=null;try{ke=Object.prototype.toString.call(Te.resolve())}catch{}if(ke==="[object Promise]"&&!Te.cast)return}pe.Promise=xe},xe.Promise=xe},typeof o=="object"&&s!==void 0?s.exports=u():l.ES6Promise=u()}).call(this,r("_process"),typeof e0<"u"?e0:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:259}],251:[function(r,s,o){var a,c;a=this,c=function(l,u){var p=5e3,y="callback";function d(b){try{delete window[b]}catch{window[b]=void 0}}function f(b){b=document.getElementById(b),b&&document.getElementsByTagName("head")[0].removeChild(b)}u.exports=function(b){var g=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],v=b,_=g.timeout||p,x=g.jsonpCallback||y,w=void 0;return new Promise(function(S,R){var D=g.jsonpCallbackFunction||"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random()),A=x+"_"+D,C=(window[D]=function(j){S({ok:!0,json:function(){return Promise.resolve(j)}}),w&&clearTimeout(w),f(A),d(D)},v+=v.indexOf("?")===-1?"?":"&",document.createElement("script"));C.setAttribute("src",""+v+x+"="+D),g.charset&&C.setAttribute("charset",g.charset),C.id=A,document.getElementsByTagName("head")[0].appendChild(C),w=setTimeout(function(){R(new Error("JSONP request to "+b+" timed out")),d(D),f(A),window[D]=function(){d(D)}},_),C.onerror=function(){R(new Error("JSONP request to "+b+" failed")),d(D),f(A),w&&clearTimeout(w)}})}},o!==void 0&&s!==void 0?c(0,s):(c(c={exports:{}},c),a.fetchJsonp=c.exports)},{}],252:[function(r,s,o){var a=function(c){var l,u,p,y,d,f,b,g,v,_,x;if(!(c===void 0||typeof navigator<"u"&&/MSIE [1-9]\./.test(navigator.userAgent)))return x=c.document,l=function(){return c.URL||c.webkitURL||c},u=x.createElementNS("http://www.w3.org/1999/xhtml","a"),p="download"in u,y=/constructor/i.test(c.HTMLElement)||c.safari,d=/CriOS\/[\d]+/.test(navigator.userAgent),f=function(w){(c.setImmediate||c.setTimeout)(function(){throw w},0)},b=4e4,g=function(w){setTimeout(function(){typeof w=="string"?l().revokeObjectURL(w):w.remove()},b)},v=function(w){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(w.type)?new Blob(["\uFEFF",w],{type:w.type}):w},x=(_=function(w,S,j){j||(w=v(w));var D,A,C=this,j=w.type==="application/octet-stream",P=function(){for(var O=C,L="writestart progress write writeend".split(" "),N=void 0,q=(L=[].concat(L)).length;q--;){var W=O["on"+L[q]];if(typeof W=="function")try{W.call(O,N||O)}catch(Y){f(Y)}}};C.readyState=C.INIT,p?(D=l().createObjectURL(w),setTimeout(function(){var O,L;u.href=D,u.download=S,O=u,L=new MouseEvent("click"),O.dispatchEvent(L),P(),g(D),C.readyState=C.DONE})):(d||j&&y)&&c.FileReader?((A=new FileReader).onloadend=function(){var O=d?A.result:A.result.replace(/^data:[^;]*;/,"data:attachment/file;");c.open(O,"_blank")||(c.location.href=O),O=void 0,C.readyState=C.DONE,P()},A.readAsDataURL(w),C.readyState=C.INIT):(D=D||l().createObjectURL(w),!j&&c.open(D,"_blank")||(c.location.href=D),C.readyState=C.DONE,P(),g(D))}).prototype,typeof navigator<"u"&&navigator.msSaveOrOpenBlob?function(w,S,R){return S=S||w.name||"download",R||(w=v(w)),navigator.msSaveOrOpenBlob(w,S)}:(x.abort=function(){},x.readyState=x.INIT=0,x.WRITING=1,x.DONE=2,x.error=x.onwritestart=x.onprogress=x.onwrite=x.onabort=x.onerror=x.onwriteend=null,function(w,S,R){return new _(w,S||w.name||"download",R)})}(typeof self<"u"&&self||typeof window<"u"&&window||this.content);s!==void 0&&s.exports?s.exports.saveAs=a:i!=null},{}],253:[function(r,s,o){var a,c=Object.defineProperty,l=(c(o,"__esModule",{value:!0}),o),u={GIFEncoder:()=>P,applyPalette:()=>function(Y,J,te="rgb565"){if(!Y||!Y.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(Y instanceof Uint8Array||Y instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");if(256<J.length)throw new Error("applyPalette() only works with 256 colors or less");const ee=new Uint32Array(Y.buffer),Q=ee.length,ne=te==="rgb444"?4096:65536,re=new Uint8Array(Q),I=new Array(ne);if(te==="rgba4444")for(let Se=0;Se<Q;Se++){var ae=ee[Se],U=ae>>24&255,H=ae>>16&255,X=ae>>8&255,ae=255&ae,le=g(ae,X,H,U),le=le in I?I[le]:I[le]=function(pe,Te,ke,Me,Ne){let Ve=0,Xe=1e100;for(let bt=0;bt<Ne.length;bt++){var ht,Ke=Ne[bt],jt=A(Ke[3]-Me);jt>Xe||(ht=Ke[0],(jt+=A(ht-pe))>Xe||(ht=Ke[1],(jt+=A(ht-Te))>Xe||(ht=Ke[2],(jt+=A(ht-ke))>Xe||(Xe=jt,Ve=bt))))}return Ve}(ae,X,H,U,J);re[Se]=le}else{const Se=te==="rgb444"?v:b;for(let pe=0;pe<Q;pe++){var me=ee[pe],he=me>>16&255,ye=me>>8&255,me=255&me,xe=Se(me,ye,he),xe=xe in I?I[xe]:I[xe]=function(Te,ke,Me,Ne){let Ve=0,Xe=1e100;for(let bt=0;bt<Ne.length;bt++){var ht,Ke=Ne[bt],jt=A(Ke[0]-Te);jt>Xe||(ht=Ke[1],(jt+=A(ht-ke))>Xe||(ht=Ke[2],(jt+=A(ht-Me))>Xe||(Xe=jt,Ve=bt)))}return Ve}(me,ye,he,J);re[pe]=xe}}return re},default:()=>W,nearestColor:()=>function(Y,J,te=R){return Y[C(Y,J,te)]},nearestColorIndex:()=>C,nearestColorIndexWithDistance:()=>j,prequantize:()=>function(Y,{roundRGB:J=5,roundAlpha:te=10,oneBitAlpha:ee=null}={}){const Q=new Uint32Array(Y.buffer);for(let H=0;H<Q.length;H++){var U=Q[H];let X=U>>24&255;var ne,re=U>>16&255,I=U>>8&255,U=255&U;X=D(X,te),ee&&(ne=typeof ee=="number"?ee:127,X=X<=ne?0:255),U=D(U,J),I=D(I,J),re=D(re,J),Q[H]=X<<24|re<<16|I<<8|U<<0}},quantize:()=>function(Y,J,te={}){var{format:ee="rgb565",clearAlpha:Q=!0,clearAlphaColor:ne=0,clearAlphaThreshold:re=0,oneBitAlpha:I=!1}=te;if(!Y||!Y.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(Y instanceof Uint8Array||Y instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");Y=new Uint32Array(Y.buffer);let U=te.useSqrt!==!1;const H=ee==="rgba4444",X=function(gt,Tt){const St=Tt==="rgb444"?4096:65536,$e=new Array(St),dt=gt.length;if(Tt==="rgba4444")for(let Gt=0;Gt<dt;++Gt){var ce=gt[Gt],Ge=ce>>24&255,de=ce>>16&255,ge=ce>>8&255,ce=255&ce,we=g(ce,ge,de,Ge);let Ft=we in $e?$e[we]:$e[we]=S();Ft.rc+=ce,Ft.gc+=ge,Ft.bc+=de,Ft.ac+=Ge,Ft.cnt++}else if(Tt==="rgb444")for(let Gt=0;Gt<dt;++Gt){var rt=gt[Gt],He=rt>>16&255,We=rt>>8&255,rt=255&rt,Et=v(rt,We,He);let Ft=Et in $e?$e[Et]:$e[Et]=S();Ft.rc+=rt,Ft.gc+=We,Ft.bc+=He,Ft.cnt++}else for(let Gt=0;Gt<dt;++Gt){var Dt=gt[Gt],It=Dt>>16&255,Pt=Dt>>8&255,Dt=255&Dt,Qt=b(Dt,Pt,It);let Ft=Qt in $e?$e[Qt]:$e[Qt]=S();Ft.rc+=Dt,Ft.gc+=Pt,Ft.bc+=It,Ft.cnt++}return $e}(Y,ee),ae=X.length,le=ae-1,he=new Uint32Array(ae+1);for(var ye=0,me=0;me<ae;++me){const gt=X[me];gt!=null&&(Ke=1/gt.cnt,H&&(gt.ac*=Ke),gt.rc*=Ke,gt.gc*=Ke,gt.bc*=Ke,X[ye++]=gt)}x(J)/ye<.022&&(U=!1);for(var xe,Se,pe,me=0;me<ye-1;++me)X[me].fw=me+1,X[me+1].bk=me,U&&(X[me].cnt=Math.sqrt(X[me].cnt));for(U&&(X[me].cnt=Math.sqrt(X[me].cnt)),me=0;me<ye;++me){w(X,me);var Te=X[me].err;for(Se=++he[0];1<Se&&(pe=Se>>1,!(X[xe=he[pe]].err<=Te));Se=pe)he[Se]=xe;he[Se]=me}var ke,Me=ye-J;for(me=0;me<Me;){for(;;){var Ne=he[1];if((ke=X[Ne]).tm>=ke.mtm&&X[ke.nn].mtm<=ke.tm)break;for(ke.mtm==le?Ne=he[1]=he[he[0]--]:(w(X,Ne),ke.tm=me),Te=X[Ne].err,Se=1;(pe=Se+Se)<=he[0]&&(pe<he[0]&&X[he[pe]].err>X[he[pe+1]].err&&pe++,!(Te<=X[xe=he[pe]].err));Se=pe)he[Se]=xe;he[Se]=Ne}var Ve=X[ke.nn],Xe=ke.cnt,ht=Ve.cnt,Ke=1/(Xe+ht);H&&(ke.ac=Ke*(Xe*ke.ac+ht*Ve.ac)),ke.rc=Ke*(Xe*ke.rc+ht*Ve.rc),ke.gc=Ke*(Xe*ke.gc+ht*Ve.gc),ke.bc=Ke*(Xe*ke.bc+ht*Ve.bc),ke.cnt+=Ve.cnt,ke.mtm=++me,X[Ve.bk].fw=Ve.fw,X[Ve.fw].bk=Ve.bk,Ve.mtm=le}let jt=[];for(me=0;;0){let gt=_(Math.round(X[me].rc),0,255),Tt=_(Math.round(X[me].gc),0,255),St=_(Math.round(X[me].bc),0,255),$e=255;H&&($e=_(Math.round(X[me].ac),0,255),I&&(bt=typeof I=="number"?I:127,$e=$e<=bt?0:255),Q&&$e<=re&&(gt=Tt=St=ne,$e=0));var bt=H?[gt,Tt,St,$e]:[gt,Tt,St];if(function(dt,Ge){for(let ce=0;ce<dt.length;ce++){var ge=dt[ce],de=ge[0]===Ge[0]&&ge[1]===Ge[1]&&ge[2]===Ge[2],ge=!(4<=ge.length&&4<=Ge.length)||ge[3]===Ge[3];if(de&&ge)return!0}return!1}(jt,bt)||jt.push(bt),(me=X[me].fw)==0)break}return jt},snapColorsToPalette:()=>function(Y,J,te=5){if(Y.length&&J.length){var ee=Y.map(U=>U.slice(0,3)),Q=te*te,ne=Y[0].length;for(let U=0;U<J.length;U++){let H=J[U];H=H.length<ne?[H[0],H[1],H[2],255]:H.length>ne?H.slice(0,3):H.slice();var I=j(ee,H.slice(0,3),R),re=I[0],I=I[1];0<I&&I<=Q&&(Y[re]=H)}}}};for(a in u)c(l,a,{get:u[a],enumerable:!0});var p={signature:"GIF",version:"89a",trailer:59,extensionIntroducer:33,applicationExtensionLabel:255,graphicControlExtensionLabel:249,imageSeparator:44,signatureSize:3,versionSize:3,globalColorTableFlagMask:128,colorResolutionMask:112,sortFlagMask:8,globalColorTableSizeMask:7,applicationIdentifierSize:8,applicationAuthCodeSize:3,disposalMethodMask:28,userInputFlagMask:2,transparentColorFlagMask:1,localColorTableFlagMask:128,interlaceFlagMask:64,idSortFlagMask:32,localColorTableSizeMask:7};function y(Y=256){let J=0,te=new Uint8Array(Y);return{get buffer(){return te.buffer},reset(){J=0},bytesView(){return te.subarray(0,J)},bytes(){return te.slice(0,J)},writeByte(Q){ee(J+1),te[J]=Q,J++},writeBytes(Q,ne=0,re=Q.length){ee(J+re);for(let I=0;I<re;I++)te[J++]=Q[I+ne]},writeBytesView(Q,ne=0,re=Q.byteLength){ee(J+re),te.set(Q.subarray(ne,ne+re),J),J+=re}};function ee(Q){var ne=te.length;if(!(Q<=ne)){Q=Math.max(Q,ne*(ne<1048576?2:1.125)>>>0),ne!=0&&(Q=Math.max(Q,256));const re=te;te=new Uint8Array(Q),0<J&&te.set(re.subarray(0,J),0)}}}var d=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],f=function(Y,J,te,H,Q=y(512),ne=new Uint8Array(256),re=new Int32Array(5003),I=new Int32Array(5003)){var U=re.length,H=Math.max(2,H);ne.fill(0),I.fill(0),re.fill(-1);let X=0,ae=0;var le=H+1;const he=le;let ye=!1,me=he,xe=(1<<me)-1;var Se=1<<le-1;const pe=1+Se;let Te=2+Se,ke=0,Me=te[0],Ne=0;for(let bt=U;bt<65536;bt*=2)++Ne;Ne=8-Ne,Q.writeByte(H),jt(Se);var Ve=te.length;for(let bt=1;bt<Ve;bt++)e:{var Xe=te[bt],ht=(Xe<<12)+Me;let gt=Xe<<Ne^Me;if(re[gt]===ht)Me=I[gt];else{for(var Ke=gt===0?1:U-gt;0<=re[gt];)if((gt-=Ke)<0&&(gt+=U),re[gt]===ht){Me=I[gt];break e}jt(Me),Me=Xe,Te<4096?(I[gt]=Te++,re[gt]=ht):(re.fill(-1),Te=2+Se,ye=!0,jt(Se))}}return jt(Me),jt(pe),Q.writeByte(0),Q.bytesView();function jt(bt){for(X&=d[ae],0<ae?X|=bt<<ae:X=bt,ae+=me;8<=ae;)ne[ke++]=255&X,254<=ke&&(Q.writeByte(ke),Q.writeBytesView(ne,0,ke),ke=0),X>>=8,ae-=8;if((Te>xe||ye)&&(ye?(me=he,xe=(1<<me)-1,ye=!1):(++me,xe=me===12?1<<me:(1<<me)-1)),bt==pe){for(;0<ae;)ne[ke++]=255&X,254<=ke&&(Q.writeByte(ke),Q.writeBytesView(ne,0,ke),ke=0),X>>=8,ae-=8;0<ke&&(Q.writeByte(ke),Q.writeBytesView(ne,0,ke),ke=0)}}};function b(Y,J,te){return Y<<8&63488|J<<2&992|te>>3}function g(Y,J,te,ee){return Y>>4|240&J|(240&te)<<4|(240&ee)<<8}function v(Y,J,te){return Y>>4<<8|240&J|te>>4}function _(Y,J,te){return Y<J?J:te<Y?te:Y}function x(Y){return Y*Y}function w(Y,J,te){var ee=0,Q=1e100;const ne=Y[J];for(var re=ne.cnt,I=ne.ac,U=ne.rc,H=ne.gc,X=ne.bc,ae=ne.fw;ae!=0;ae=Y[ae].fw){var le,he=Y[ae],ye=he.cnt,ye=re*ye/(re+ye);Q<=ye||(le=0,Q<=(le+=ye*x(he.rc-U))||Q<=(le+=ye*x(he.gc-H))||Q<=(le+=ye*x(he.bc-X))||(Q=le,ee=ae))}ne.err=Q,ne.nn=ee}function S(){return{ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0}}function R(Y,J){for(var te=0,ee=0;ee<Y.length;ee++){var Q=Y[ee]-J[ee];te+=Q*Q}return te}function D(Y,J){return 1<J?Math.round(Y/J)*J:Y}function A(Y){return Y*Y}function C(Y,J,te=R){let ee=1/0,Q=-1;for(let re=0;re<Y.length;re++){var ne=te(J,Y[re]);ne<ee&&(ee=ne,Q=re)}return Q}function j(Y,J,te=R){let ee=1/0,Q=-1;for(let re=0;re<Y.length;re++){var ne=te(J,Y[re]);ne<ee&&(ee=ne,Q=re)}return[Q,ee]}function P(Y={}){const{initialCapacity:J=4096,auto:te=!0}=Y,ee=y(J),Q=new Uint8Array(256),ne=new Int32Array(5003),re=new Int32Array(5003);let I=!1;return{reset(){ee.reset(),I=!1},finish(){ee.writeByte(p.trailer)},bytes(){return ee.bytes()},bytesView(){return ee.bytesView()},get buffer(){return ee.buffer},get stream(){return ee},writeHeader:U,writeFrame(H,X,ae,Me={}){var{transparent:he=!1,transparentIndex:ye=0,delay:Ke=0,palette:me=null,repeat:Ve=0,colorDepth:xe=8,dispose:Se=-1}=Me;let pe=!1;if(te?I||(pe=!0,U(),I=!0):pe=!!Me.first,X=Math.max(0,Math.floor(X)),ae=Math.max(0,Math.floor(ae)),pe){if(!me)throw new Error("First frame must include a { palette } option");var[Me,Xe,ke,ht,Ne=8]=[ee,X,ae,me,xe];ht=q(ht.length)-1,Ne=128|Ne-1<<4|ht,L(Me,Xe),L(Me,ke),Me.writeBytes([Ne,0,0]),O(ee,me),0<=Ve&&(ht=ee,Xe=Ve,ht.writeByte(33),ht.writeByte(255),ht.writeByte(11),N(ht,"NETSCAPE2.0"),ht.writeByte(3),ht.writeByte(1),L(ht,Xe),ht.writeByte(0))}var Te,ke=Math.round(Ke/10),Me=ee,Ne=Se,Ve=ke,Xe=he,ht=ye,Ke=(Me.writeByte(33),Me.writeByte(249),Me.writeByte(4),ht<0&&(ht=0,Xe=!1),Xe=Xe?(Te=1,2):Te=0,0<=Ne&&(Xe=7&Ne),Xe<<=2,Me.writeByte(0|Xe|Te),L(Me,Ve),Me.writeByte(ht||0),Me.writeByte(0),!!me&&!pe);Se=ee,he=X,ye=ae,Te=Ke?me:null,Se.writeByte(44),L(Se,0),L(Se,0),L(Se,he),L(Se,ye),Te?(he=q(Te.length)-1,Se.writeByte(128|he)):Se.writeByte(0),Ke&&O(ee,me),[Ve,Me,ye,he,Se=8,Ke,me,H]=[ee,H,X,ae,xe,Q,ne,re],f(ye,he,Me,Se,Ve,Ke,me,H)}};function U(){N(ee,"GIF89a")}}function O(Y,J){var te=1<<q(J.length);for(let ee=0;ee<te;ee++){let Q=[0,0,0];ee<J.length&&(Q=J[ee]),Y.writeByte(Q[0]),Y.writeByte(Q[1]),Y.writeByte(Q[2])}}function L(Y,J){Y.writeByte(255&J),Y.writeByte(J>>8&255)}function N(Y,J){for(var te=0;te<J.length;te++)Y.writeByte(J.charCodeAt(te))}function q(Y){return Math.max(Math.ceil(Math.log2(Y)),1)}var W=P},{}],254:[function(r,s,o){o.read=function(a,c,l,u,w){var y,d,f=8*w-u-1,b=(1<<f)-1,g=b>>1,v=-7,_=l?w-1:0,x=l?-1:1,w=a[c+_];for(_+=x,y=w&(1<<-v)-1,w>>=-v,v+=f;0<v;y=256*y+a[c+_],_+=x,v-=8);for(d=y&(1<<-v)-1,y>>=-v,v+=u;0<v;d=256*d+a[c+_],_+=x,v-=8);if(y===0)y=1-g;else{if(y===b)return d?NaN:1/0*(w?-1:1);d+=Math.pow(2,u),y-=g}return(w?-1:1)*d*Math.pow(2,y-u)},o.write=function(a,c,l,u,p,S){var d,f,b=8*S-p-1,g=(1<<b)-1,v=g>>1,_=p===23?Math.pow(2,-24)-Math.pow(2,-77):0,x=u?0:S-1,w=u?1:-1,S=c<0||c===0&&1/c<0?1:0;for(c=Math.abs(c),isNaN(c)||c===1/0?(f=isNaN(c)?1:0,d=g):(d=Math.floor(Math.log(c)/Math.LN2),c*(u=Math.pow(2,-d))<1&&(d--,u*=2),2<=(c+=1<=d+v?_/u:_*Math.pow(2,1-v))*u&&(d++,u/=2),g<=d+v?(f=0,d=g):1<=d+v?(f=(c*u-1)*Math.pow(2,p),d+=v):(f=c*Math.pow(2,v-1)*Math.pow(2,p),d=0));8<=p;a[l+x]=255&f,x+=w,f/=256,p-=8);for(d=d<<p|f,b+=p;0<b;a[l+x]=255&d,x+=w,d/=256,b-=8);a[l+x-w]|=128*S}},{}],255:[function(r,s,o){var a;function c(de,ge){return de.b===ge.b&&de.a===ge.a}function l(de,ge){return de.b<ge.b||de.b===ge.b&&de.a<=ge.a}function u(de,ge,ce){var we=ge.b-de.b,He=ce.b-ge.b;return 0<we+He?we<He?ge.a-de.a+we/(we+He)*(de.a-ce.a):ge.a-ce.a+He/(we+He)*(ce.a-de.a):0}function p(de,ge,ce){var we=ge.b-de.b,He=ce.b-ge.b;return 0<we+He?(ge.a-ce.a)*we+(ge.a-de.a)*He:0}function y(de,ge){return de.a<ge.a||de.a===ge.a&&de.b<=ge.b}function d(de,ge,ce){var we=ge.a-de.a,He=ce.a-ge.a;return 0<we+He?we<He?ge.b-de.b+we/(we+He)*(de.b-ce.b):ge.b-ce.b+He/(we+He)*(ce.b-de.b):0}function f(de,ge,ce){var we=ge.a-de.a,He=ce.a-ge.a;return 0<we+He?(ge.b-ce.b)*we+(ge.b-de.b)*He:0}function b(de,ge,ce,we){return(de=de<0?0:de)<=(ce=ce<0?0:ce)?ce===0?(ge+we)/2:ge+de/(de+ce)*(we-ge):we+ce/(de+ce)*(ge-we)}function g(de){var ge=S(de.b);return D(ge,de.c),D(ge.b,de.c),A(ge,de.a),ge}function v(de,ge){var ce=!1,we=!1;de!==ge&&(ge.a!==de.a&&(we=!0,j(ge.a,de.a)),ge.d!==de.d&&(ce=!0,P(ge.d,de.d)),R(ge,de),we||(D(ge,de.a),de.a.c=de),ce||(A(ge,de.d),de.d.a=de))}function _(de){var ge=de.b,ce=!1;de.d!==de.b.d&&(ce=!0,P(de.d,de.b.d)),de.c===de?j(de.a,null):(de.b.d.a=de.b.e,de.a.c=de.c,R(de,de.b.e),ce||A(de,de.d)),ge.c===ge?(j(ge.a,null),P(ge.d,null)):(de.d.a=ge.b.e,ge.a.c=ge.c,R(ge,ge.b.e)),C(de)}function x(de){var ge=S(de),ce=ge.b;return R(ge,de.e),ge.a=de.b.a,D(ce,ge.a),ge.d=ce.d=de.d,ge=ge.b,R(de.b,de.b.b.e),R(de.b,ge),de.b.a=ge.a,ge.b.a.c=ge.b,ge.b.d=de.b.d,ge.f=de.f,ge.b.f=de.b.f,ge}function w(de,ge){var ce=!1,we=S(de),He=we.b;return ge.d!==de.d&&(ce=!0,P(ge.d,de.d)),R(we,de.e),R(He,ge),we.a=de.b.a,He.a=ge.a,we.d=He.d=de.d,de.d.a=He,ce||A(we,de.d),we}function S(de){var ge=new ke,ce=new ke,we=de.b.h;return(((ce.h=we).b.h=ge).h=de).b.h=ce,ge.b=ce,((ge.c=ge).e=ce).b=ge,(ce.c=ce).e=ge}function R(de,ge){var ce=de.c,we=ge.c;ce.b.e=ge,(we.b.e=de).c=we,ge.c=ce}function D(de,ge){var ce=ge.f,we=new Ne(ge,ce);for(ce.e=we,ce=(ge.f=we).c=de;ce.a=we,(ce=ce.c)!==de;);}function A(de,ge){var ce=ge.d,we=new Te(ge,ce);for(ce.b=we,(ge.d=we).a=de,we.c=ge.c,ce=de;ce.d=we,(ce=ce.e)!==de;);}function C(de){var ge=de.h;de=de.b.h,(ge.b.h=de).b.h=ge}function j(de,ge){for(var ce=de.c,we=ce;we.a=ge,(we=we.c)!==ce;);ce=de.f,((we=de.e).f=ce).e=we}function P(de,ge){for(var ce=de.a,we=ce;we.d=ge,(we=we.e)!==ce;);ce=de.d,((we=de.b).d=ce).b=we}function O(de){var ge=0;return Math.abs(de[1])>Math.abs(de[0])&&(ge=1),ge=Math.abs(de[2])>Math.abs(de[ge])?2:ge}function L(de,ge){de.f+=ge.f,de.b.f+=ge.b.f}function N(de,ge,ce){return de=de.a,ge=ge.a,ce=ce.a,ge.b.a===de?ce.b.a===de?l(ge.a,ce.a)?p(ce.b.a,ge.a,ce.a)<=0:0<=p(ge.b.a,ce.a,ge.a):p(ce.b.a,de,ce.a)<=0:ce.b.a===de?0<=p(ge.b.a,de,ge.a):(ge=u(ge.b.a,de,ge.a),(de=u(ce.b.a,de,ce.a))<=ge)}function q(de){de.a.i=null;var ge=de.e;ge.a.c=ge.c,ge.c.a=ge.a,de.e=null}function W(de,ge){_(de.a),de.c=!1,(de.a=ge).i=de}function Y(de){for(var ge=de.a.a;(de=Ge(de)).a.a===ge;);return de.c&&(W(de,ge=w(dt(de).a.b,de.a.e)),de=Ge(de)),de}function J(de,ge,ce){var we=new $e;return we.a=ce,we.e=ye(de.f,ge.e,we),ce.i=we}function te(de,ge){switch(de.s){case 100130:return(1&ge)!=0;case 100131:return ge!==0;case 100132:return 0<ge;case 100133:return ge<0;case 100134:return 2<=ge||ge<=-2}return!1}function ee(de){var ge=de.a,ce=ge.d;ce.c=de.d,ce.a=ge,q(de)}function Q(de,ge,ce){for(ge=(de=ge).a;de!==ce;){de.c=!1;var we=dt(de),He=we.a;if(He.a!==ge.a){if(!we.c){ee(de);break}W(we,He=w(ge.c.b,He.b))}ge.c!==He&&(v(He.b.e,He),v(ge,He)),ee(de),ge=we.a,de=we}return ge}function ne(de,ge,ce,we,He,We){for(var rt=!0;J(de,ge,ce.b),(ce=ce.c)!==we;);for(He===null&&(He=dt(ge).a.b.c);(ce=(we=dt(ge)).a.b).a===He.a;)ce.c!==He&&(v(ce.b.e,ce),v(He.b.e,ce)),we.f=ge.f-ce.f,we.d=te(de,we.f),ge.b=!0,!rt&&H(de,ge)&&(L(ce,He),q(ge),_(He)),rt=!1,ge=we,He=ce;ge.b=!0,We&&ae(de,ge)}function re(de,ge,ce,we,He){var We=[ge.g[0],ge.g[1],ge.g[2]];ge.d=null,ge.d=de.o&&de.o(We,ce,we,de.c)||null,ge.d===null&&(He?de.n||(pe(de,100156),de.n=!0):ge.d=ce[0])}function I(de,ge,ce){var we=[null,null,null,null];we[0]=ge.a.d,we[1]=ce.a.d,re(de,ge.a,we,[.5,.5,0,0],!1),v(ge,ce)}function U(de,ge,ce,we,He){var We=Math.abs(ge.b-de.b)+Math.abs(ge.a-de.a),rt=Math.abs(ce.b-de.b)+Math.abs(ce.a-de.a),Et=He+1;we[He]=.5*rt/(We+rt),we[Et]=.5*We/(We+rt),de.g[0]+=we[He]*ge.g[0]+we[Et]*ce.g[0],de.g[1]+=we[He]*ge.g[1]+we[Et]*ce.g[1],de.g[2]+=we[He]*ge.g[2]+we[Et]*ce.g[2]}function H(de,ge){var ce=dt(ge),we=ge.a,He=ce.a;if(l(we.a,He.a)){if(0<p(He.b.a,we.a,He.a))return;if(c(we.a,He.a)){if(we.a!==He.a){var ce=de.e,We=we.a.h;if(0<=We){var rt=(ce=ce.b).d,Et=ce.e,It=ce.c,Pt=It[We];rt[Pt]=rt[ce.a],(It[rt[Pt]]=Pt)<=--ce.a&&(Pt<=1||l(Et[rt[Pt>>1]],Et[rt[Pt]])?Tt:St)(ce,Pt),Et[We]=null,It[We]=ce.b,ce.b=We}else for(ce.c[-(We+1)]=null;0<ce.a&&ce.c[ce.d[ce.a-1]]===null;)--ce.a;I(de,He.b.e,we)}}else x(He.b),v(we,He.b.e),ge.b=ce.b=!0}else{if(p(we.b.a,He.a,we.a)<0)return;Ge(ge).b=ge.b=!0,x(we.b),v(He.b.e,we)}return 1}function X(de,ge){var ce=dt(ge),we=ge.a,He=ce.a,We=we.a,rt=He.a,Et=we.b.a,It=He.b.a,Pt=new Ne;if(p(Et,de.a,We),p(It,de.a,rt),!(We===rt||Math.min(We.a,Et.a)>Math.max(rt.a,It.a))){if(l(We,rt)){if(0<p(It,We,rt))return}else if(p(Et,rt,We)<0)return;var Dt,Qt,Gt=Et,Ft=We,Xt=It,Wt=rt;if(l(Gt,Ft)||(Dt=Gt,Gt=Ft,Ft=Dt),l(Xt,Wt)||(Dt=Xt,Xt=Wt,Wt=Dt),l(Gt,Xt)||(Dt=Gt,Gt=Xt,Xt=Dt,Dt=Ft,Ft=Wt,Wt=Dt),l(Xt,Ft)?l(Ft,Wt)?((Dt=u(Gt,Xt,Ft))+(Qt=u(Xt,Ft,Wt))<0&&(Dt=-Dt,Qt=-Qt),Pt.b=b(Dt,Xt.b,Qt,Ft.b)):((Dt=p(Gt,Xt,Ft))+(Qt=-p(Gt,Wt,Ft))<0&&(Dt=-Dt,Qt=-Qt),Pt.b=b(Dt,Xt.b,Qt,Wt.b)):Pt.b=(Xt.b+Ft.b)/2,y(Gt,Ft)||(Dt=Gt,Gt=Ft,Ft=Dt),y(Xt,Wt)||(Dt=Xt,Xt=Wt,Wt=Dt),y(Gt,Xt)||(Dt=Gt,Gt=Xt,Xt=Dt,Dt=Ft,Ft=Wt,Wt=Dt),y(Xt,Ft)?y(Ft,Wt)?((Dt=d(Gt,Xt,Ft))+(Qt=d(Xt,Ft,Wt))<0&&(Dt=-Dt,Qt=-Qt),Pt.a=b(Dt,Xt.a,Qt,Ft.a)):((Dt=f(Gt,Xt,Ft))+(Qt=-f(Gt,Wt,Ft))<0&&(Dt=-Dt,Qt=-Qt),Pt.a=b(Dt,Xt.a,Qt,Wt.a)):Pt.a=(Xt.a+Ft.a)/2,l(Pt,de.a)&&(Pt.b=de.a.b,Pt.a=de.a.a),Gt=l(We,rt)?We:rt,l(Gt,Pt)&&(Pt.b=Gt.b,Pt.a=Gt.a),c(Pt,We)||c(Pt,rt))return H(de,ge),0;if(!c(Et,de.a)&&0<=p(Et,de.a,Pt)||!c(It,de.a)&&p(It,de.a,Pt)<=0){if(It===de.a)x(we.b),v(He.b,we),we=dt(ge=Y(ge)).a,Q(de,dt(ge),ce),ne(de,ge,we.b.e,we,we,!0);else{if(Et!==de.a)return 0<=p(Et,de.a,Pt)&&(Ge(ge).b=ge.b=!0,x(we.b),we.a.b=de.a.b,we.a.a=de.a.a),void(p(It,de.a,Pt)<=0&&(ge.b=ce.b=!0,x(He.b),He.a.b=de.a.b,He.a.a=de.a.a));for(x(He.b),v(we.e,He.b.e),rt=(We=ce=ge).a.b.a;(We=Ge(We)).a.b.a===rt;);We=dt(ge=We).a.b.c,ce.a=He.b.e,ne(de,ge,(He=Q(de,ce,null)).c,we.b.c,We,!0)}return 1}x(we.b),x(He.b),v(He.b.e,we),we.a.b=Pt.b,we.a.a=Pt.a,we.a.h=Xe(de.e,we.a),we=we.a,He=[0,0,0,0],Pt=[We.d,Et.d,rt.d,It.d],we.g[0]=we.g[1]=we.g[2]=0,U(we,We,Et,He,0),U(we,rt,It,He,2),re(de,we,Pt,He,!0),Ge(ge).b=ge.b=ce.b=!0}}function ae(de,ge){for(var ce=dt(ge);;){for(;ce.b;)ce=dt(ge=ce);if(!ge.b&&((ge=Ge(ce=ge))===null||!ge.b))break;ge.b=!1;var we=ge.a,He=ce.a;if(We=we.b.a!==He.b.a)e:{var We,rt=dt(We=ge),Et=We.a,It=rt.a,Pt=void 0;if(l(Et.b.a,It.b.a)){if(p(Et.b.a,It.b.a,Et.a)<0){We=!1;break e}Ge(We).b=We.b=!0,Pt=x(Et),v(It.b,Pt),Pt.d.c=We.d}else{if(0<p(It.b.a,Et.b.a,It.a)){We=!1;break e}We.b=rt.b=!0,Pt=x(It),v(Et.e,It.b),Pt.b.d.c=We.d}We=!0}if(We&&(ce.c?(q(ce),_(He),He=(ce=dt(ge)).a):ge.c&&(q(ge),_(we),we=(ge=Ge(ce)).a)),we.a!==He.a){if(we.b.a===He.b.a||ge.c||ce.c||we.b.a!==de.a&&He.b.a!==de.a)H(de,ge);else if(X(de,ge))break}we.a===He.a&&we.b.a===He.b.a&&(L(He,we),q(ge),_(we),ge=Ge(ce))}}function le(de,ge){var ce=new $e,we=g(de.b);we.a.b=4e150,we.a.a=ge,we.b.a.b=-4e150,we.b.a.a=ge,de.a=we.b.a,ce.a=we,ce.f=0,ce.d=!1,ce.c=!1,ce.h=!0,ce.b=!1,we=ye(we=de.f,we.a,ce),ce.e=we}function he(de){this.a=new me,this.b=de,this.c=N}function ye(de,ge,ce){for(;(ge=ge.c).b!==null&&!de.c(de.b,ge.b,ce););return de=new me(ce,ge.a,ge),ge.a.c=de,ge.a=de}function me(de,ge,ce){this.b=de||null,this.a=ge||this,this.c=ce||this}function xe(){this.d=0,this.p=this.b=this.q=null,this.j=[0,0,0],this.s=100130,this.n=!1,this.o=this.a=this.e=this.f=null,this.m=!1,this.c=this.r=this.i=this.k=this.l=this.h=null}function Se(de,ge){if(de.d!==ge)for(;de.d!==ge;)if(de.d<ge)switch(de.d){case 0:pe(de,100151),de.u(null);break;case 1:pe(de,100152),de.t()}else switch(de.d){case 2:pe(de,100154),de.v();break;case 1:pe(de,100153),de.w()}}function pe(de,ge){de.p&&de.p(ge,de.c)}function Te(de,ge){this.b=de||this,this.d=ge||this,this.a=null,this.c=!1}function ke(){(this.h=this).i=this.d=this.a=this.e=this.c=this.b=null,this.f=0}function Me(){this.c=new Ne,this.a=new Te,this.b=new ke,this.d=new ke,this.b.b=this.d,this.d.b=this.b}function Ne(de,ge){this.e=de||this,this.f=ge||this,this.d=this.c=null,this.g=[0,0,0],this.h=this.a=this.b=0}function Ve(){this.c=[],this.d=null,this.a=0,this.e=!1,this.b=new Ke}function Xe(de,ge){var ce,we,He;return de.e?(2*(we=++(ce=de.b).a)>ce.f&&(ce.f*=2,ce.c=jt(ce.c,ce.f+1)),ce.b===0?He=we:(He=ce.b,ce.b=ce.c[ce.b]),ce.e[He]=ge,ce.c[He]=we,ce.d[we]=He,ce.h&&St(ce,we),He):(ce=de.a++,de.c[ce]=ge,-(ce+1))}function ht(de){if(de.a===0)return gt(de.b);var ge=de.c[de.d[de.a-1]];if(de.b.a!==0&&l(bt(de.b),ge))return gt(de.b);for(;--de.a,0<de.a&&de.c[de.d[de.a-1]]===null;);return ge}function Ke(){this.d=jt([0],33),this.e=[null,null],this.c=[0,0],this.a=0,this.f=32,this.b=0,this.h=!1,this.d[1]=1}function jt(de,ge){for(var ce=Array(ge),we=0;we<de.length;we++)ce[we]=de[we];for(;we<ge;we++)ce[we]=0;return ce}function bt(de){return de.e[de.d[1]]}function gt(de){var ge=de.d,ce=de.e,we=de.c,He=ge[1],We=ce[He];return 0<de.a&&(ge[1]=ge[de.a],we[ge[1]]=1,ce[He]=null,we[He]=de.b,de.b=He,0<--de.a&&Tt(de,1)),We}function Tt(de,ge){for(var ce=de.d,we=de.e,He=de.c,We=ge,rt=ce[We];;){var Et=We<<1,It=(Et<de.a&&l(we[ce[Et+1]],we[ce[Et]])&&(Et+=1),ce[Et]);if(Et>de.a||l(we[rt],we[It])){He[ce[We]=rt]=We;break}He[ce[We]=It]=We,We=Et}}function St(de,ge){for(var ce=de.d,we=de.e,He=de.c,We=ge,rt=ce[We];;){var Et=We>>1,It=ce[Et];if(Et==0||l(we[It],we[rt])){He[ce[We]=rt]=We;break}He[ce[We]=It]=We,We=Et}}function $e(){this.e=this.a=null,this.f=0,this.c=this.b=this.h=this.d=!1}function dt(de){return de.e.c.b}function Ge(de){return de.e.a.b}(a=xe.prototype).x=function(){Se(this,0)},a.B=function(de,ge){switch(de){case 100142:return;case 100140:switch(ge){case 100130:case 100131:case 100132:case 100133:case 100134:return void(this.s=ge)}break;case 100141:return void(this.m=!!ge);default:return void pe(this,100900)}pe(this,100901)},a.y=function(de){switch(de){case 100142:return 0;case 100140:return this.s;case 100141:return this.m;default:pe(this,100900)}return!1},a.A=function(de,ge,ce){this.j[0]=de,this.j[1]=ge,this.j[2]=ce},a.z=function(de,ge){var ce=ge||null;switch(de){case 100100:case 100106:this.h=ce;break;case 100104:case 100110:this.l=ce;break;case 100101:case 100107:this.k=ce;break;case 100102:case 100108:this.i=ce;break;case 100103:case 100109:this.p=ce;break;case 100105:case 100111:this.o=ce;break;case 100112:this.r=ce;break;default:pe(this,100900)}},a.C=function(de,ge){var ce=!1,we=[0,0,0];Se(this,2);for(var He=0;He<3;++He){var We=de[He];We<-1e150&&(We=-1e150,ce=!0),1e150<We&&(We=1e150,ce=!0),we[He]=We}ce&&pe(this,100155),(ce=this.q)===null?v(ce=g(this.b),ce.b):(x(ce),ce=ce.e),ce.a.d=ge,ce.a.g[0]=we[0],ce.a.g[1]=we[1],ce.a.g[2]=we[2],ce.f=1,ce.b.f=-1,this.q=ce},a.u=function(de){Se(this,0),this.d=1,this.b=new Me,this.c=de},a.t=function(){Se(this,1),this.d=2,this.q=null},a.v=function(){Se(this,2),this.d=1},a.w=function(){Se(this,1),this.d=0;var de,ge,ce=this.j[0],we=this.j[1],He=this.j[2],We=!1,rt=[ce,we,He];if(ce===0&&we===0&&He===0){for(var we=[-2e150,-2e150,-2e150],Et=[2e150,2e150,2e150],He=[],It=[],ce=(We=this.b.c).e;ce!==We;ce=ce.e)for(var Pt=0;Pt<3;++Pt){var Dt=ce.g[Pt];Dt<Et[Pt]&&(Et[Pt]=Dt,It[Pt]=ce),Dt>we[Pt]&&(we[Pt]=Dt,He[Pt]=ce)}if(we[1]-Et[1]>we[ce=0]-Et[0]&&(ce=1),Et[ce=we[2]-Et[2]>we[ce]-Et[ce]?2:ce]>=we[ce])rt[0]=0,rt[1]=0,rt[2]=1;else{for(Et=It[ce],He=He[ce],It=[we=0,0,0],Et=[Et.g[0]-He.g[0],Et.g[1]-He.g[1],Et.g[2]-He.g[2]],Pt=[0,0,0],ce=We.e;ce!==We;ce=ce.e)Pt[0]=ce.g[0]-He.g[0],Pt[1]=ce.g[1]-He.g[1],Pt[2]=ce.g[2]-He.g[2],It[0]=Et[1]*Pt[2]-Et[2]*Pt[1],It[1]=Et[2]*Pt[0]-Et[0]*Pt[2],It[2]=Et[0]*Pt[1]-Et[1]*Pt[0],we<(Dt=It[0]*It[0]+It[1]*It[1]+It[2]*It[2])&&(we=Dt,rt[0]=It[0],rt[1]=It[1],rt[2]=It[2]);we<=0&&(rt[0]=rt[1]=rt[2]=0,rt[O(Et)]=1)}We=!0}for(It=O(rt),ce=this.b.c,we=(It+1)%3,He=(It+2)%3,It=0<rt[It]?1:-1,rt=ce.e;rt!==ce;rt=rt.e)rt.b=rt.g[we],rt.a=It*rt.g[He];if(We){for(rt=0,ce=(We=this.b.a).b;ce!==We;ce=ce.b)if(!((we=ce.a).f<=0))for(;rt+=(we.a.b-we.b.a.b)*(we.a.a+we.b.a.a),(we=we.e)!==ce.a;);if(rt<0)for(We=(rt=this.b.c).e;We!==rt;We=We.e)We.a=-We.a}for(this.n=!1,rt=this.b.b,ce=rt.h;ce!==rt;ce=We)We=ce.h,we=ce.e,c(ce.a,ce.b.a)&&ce.e.e!==ce&&(I(this,we,ce),_(ce),we=(ce=we).e),we.e===ce&&(we!==ce&&(we!==We&&we!==We.b||(We=We.h),_(we)),ce!==We&&ce!==We.b||(We=We.h),_(ce));for(this.e=rt=new Ve,We=this.b.c,ce=We.e;ce!==We;ce=ce.e)ce.h=Xe(rt,ce);var Qt=rt;Qt.d=[];for(var Gt=0;Gt<Qt.a;Gt++)Qt.d[Gt]=Gt;Qt.d.sort(function(Wt){return function(Mr,pn){return l(Wt[Mr],Wt[pn])?1:-1}}(Qt.c)),Qt.e=!0;for(var Ft=Qt.b,Xt=Ft.a;1<=Xt;--Xt)Tt(Ft,Xt);for(Ft.h=!0,this.f=new he(this),le(this,-4e150),le(this,4e150);(rt=ht(this.e))!==null;){for(;;){e:if((ce=this.e).a===0)We=bt(ce.b);else if(We=ce.c[ce.d[ce.a-1]],ce.b.a!==0&&l(ce=bt(ce.b),We)){We=ce;break e}if(We===null||!c(We,rt))break;We=ht(this.e),I(this,rt.c,We.c)}(function Wt(Mr,pn){for(var Jr,rr=(Mr.a=pn).c;rr.i===null;)if((rr=rr.c)===pn.c){var rr=Mr,Fr=pn;(jr=new $e).a=Fr.c.b;for(var _e=(hr=rr.f).a;(_e=_e.a).b!==null&&!hr.c(hr.b,jr,_e.b););var hr,on,xn=dt(hr=_e.b),jr=hr.a,_e=xn.a;return void(p(jr.b.a,Fr,jr.a)===0?c((jr=hr.a).a,Fr)||c(jr.b.a,Fr)||(x(jr.b),hr.c&&(_(jr.c),hr.c=!1),v(Fr.c,jr),Wt(rr,Fr)):(on=l(_e.b.a,jr.b.a)?hr:xn,xn=void 0,hr.d||on.c?(xn=on===hr?w(Fr.c.b,jr.e):w(_e.b.c.b,Fr.c).b,on.c?W(on,xn):((hr=J(jr=rr,hr,xn)).f=Ge(hr).f+hr.a.f,hr.d=te(jr,hr.f)),Wt(rr,Fr)):ne(rr,hr,Fr.c,Fr.c,null,!0)))}hr=(jr=dt(rr=Y(rr.i))).a,(jr=Q(Mr,jr,null)).c===hr?(jr=(hr=jr).c,_e=dt(rr),xn=rr.a,on=_e.a,Jr=!1,xn.b.a!==on.b.a&&X(Mr,rr),c(xn.a,Mr.a)&&(v(jr.b.e,xn),jr=dt(rr=Y(rr)).a,Q(Mr,dt(rr),_e),Jr=!0),c(on.a,Mr.a)&&(v(hr,on.b.e),hr=Q(Mr,_e,null),Jr=!0),Jr?ne(Mr,rr,hr.c,jr,jr,!0):(Fr=l(on.a,xn.a)?on.b.e:xn,ne(Mr,rr,Fr=w(hr.c.b,Fr),Fr.c,Fr.c,!1),Fr.b.i.c=!0,ae(Mr,rr))):ne(Mr,rr,jr.c,hr,hr,!0)})(this,rt)}for(this.a=this.f.a.a.b.a.a,rt=0;(We=this.f.a.a.b)!==null;)We.h||++rt,q(We);for(this.f=null,(rt=this.e).b=null,rt.d=null,this.e=rt.c=null,rt=this.b,ce=rt.a.b;ce!==rt.a;ce=We)We=ce.b,(ce=ce.a).e.e===ce&&(L(ce.c,ce),_(ce));if(!this.n){if(rt=this.b,this.m)for(ce=rt.b.h;ce!==rt.b;ce=We)We=ce.h,ce.b.d.c!==ce.d.c?ce.f=ce.d.c?1:-1:_(ce);else for(ce=rt.a.b;ce!==rt.a;ce=We)if(We=ce.b,ce.c){for(ce=ce.a;l(ce.b.a,ce.a);ce=ce.c.b);for(;l(ce.a,ce.b.a);ce=ce.e);for(we=ce.c.b,He=void 0;ce.e!==we;)if(l(ce.b.a,we.a)){for(;we.e!==ce&&(l((ge=we.e).b.a,ge.a)||p(we.a,we.b.a,we.e.b.a)<=0);)we=(He=w(we.e,we)).b;we=we.c.b}else{for(;we.e!==ce&&(l((de=ce.c.b).a,de.b.a)||0<=p(ce.b.a,ce.a,ce.c.b.a));)ce=(He=w(ce,ce.c.b)).b;ce=ce.e}for(;we.e.e!==ce;)He=w(we.e,we),we=He.b}if(this.h||this.i||this.k||this.l)if(this.m){for(We=(rt=this.b).a.b;We!==rt.a;We=We.b)if(We.c){for(this.h&&this.h(2,this.c),ce=We.a;this.k&&this.k(ce.a.d,this.c),(ce=ce.e)!==We.a;);this.i&&this.i(this.c)}}else{for(rt=this.b,We=!!this.l,ce=!1,we=-1,He=rt.a.d;He!==rt.a;He=He.d)if(He.c)for(ce||(this.h&&this.h(4,this.c),ce=!0),It=He.a;We&&(Et=It.b.d.c?0:1,we!==Et&&(we=Et,this.l&&this.l(!!we,this.c))),this.k&&this.k(It.a.d,this.c),(It=It.e)!==He.a;);ce&&this.i&&this.i(this.c)}if(this.r){for(rt=this.b,ce=rt.a.b;ce!==rt.a;ce=We)if(We=ce.b,!ce.c){for(He=(we=ce.a).e,It=void 0;He=(It=He).e,(It.d=null)===It.b.d&&(It.c===It?j(It.a,null):(It.a.c=It.c,R(It,It.b.e)),(Et=It.b).c===Et?j(Et.a,null):(Et.a.c=Et.c,R(Et,Et.b.e)),C(It)),It!==we;);we=ce.d,((ce=ce.b).d=we).b=ce}return this.r(this.b),void(this.c=this.b=null)}}this.b=this.c=null},this.libtess={GluTesselator:xe,windingRule:{GLU_TESS_WINDING_ODD:100130,GLU_TESS_WINDING_NONZERO:100131,GLU_TESS_WINDING_POSITIVE:100132,GLU_TESS_WINDING_NEGATIVE:100133,GLU_TESS_WINDING_ABS_GEQ_TWO:100134},primitiveType:{GL_LINE_LOOP:2,GL_TRIANGLES:4,GL_TRIANGLE_STRIP:5,GL_TRIANGLE_FAN:6},errorType:{GLU_TESS_MISSING_BEGIN_POLYGON:100151,GLU_TESS_MISSING_END_POLYGON:100153,GLU_TESS_MISSING_BEGIN_CONTOUR:100152,GLU_TESS_MISSING_END_CONTOUR:100154,GLU_TESS_COORD_TOO_LARGE:100155,GLU_TESS_NEED_COMBINE_CALLBACK:100156},gluEnum:{GLU_TESS_MESH:100112,GLU_TESS_TOLERANCE:100142,GLU_TESS_WINDING_RULE:100140,GLU_TESS_BOUNDARY_ONLY:100141,GLU_INVALID_ENUM:100900,GLU_INVALID_VALUE:100901,GLU_TESS_BEGIN:100100,GLU_TESS_VERTEX:100101,GLU_TESS_END:100102,GLU_TESS_ERROR:100103,GLU_TESS_EDGE_FLAG:100104,GLU_TESS_COMBINE:100105,GLU_TESS_BEGIN_DATA:100106,GLU_TESS_VERTEX_DATA:100107,GLU_TESS_END_DATA:100108,GLU_TESS_ERROR_DATA:100109,GLU_TESS_EDGE_FLAG_DATA:100110,GLU_TESS_COMBINE_DATA:100111}},xe.prototype.gluDeleteTess=xe.prototype.x,xe.prototype.gluTessProperty=xe.prototype.B,xe.prototype.gluGetTessProperty=xe.prototype.y,xe.prototype.gluTessNormal=xe.prototype.A,xe.prototype.gluTessCallback=xe.prototype.z,xe.prototype.gluTessVertex=xe.prototype.C,xe.prototype.gluTessBeginPolygon=xe.prototype.u,xe.prototype.gluTessBeginContour=xe.prototype.t,xe.prototype.gluTessEndContour=xe.prototype.v,xe.prototype.gluTessEndPolygon=xe.prototype.w,s!==void 0&&(s.exports=this.libtess)},{}],256:[function(r,s,o){function a(l,u,p,y){var d=0,f=(y=y===void 0?{}:y).loop===void 0?null:y.loop,b=y.palette===void 0?null:y.palette;if(u<=0||p<=0||65535<u||65535<p)throw new Error("Width/Height invalid.");function g(A){if(A=A.length,A<2||256<A||A&A-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return A}l[d++]=71,l[d++]=73,l[d++]=70,l[d++]=56,l[d++]=57,l[d++]=97;var v=0,_=0;if(b!==null){for(var x=g(b);x>>=1;)++v;if(x=1<<v,--v,y.background!==void 0){if(x<=(_=y.background))throw new Error("Background index out of range.");if(_===0)throw new Error("Background index explicitly passed as 0.")}}if(l[d++]=255&u,l[d++]=u>>8&255,l[d++]=255&p,l[d++]=p>>8&255,l[d++]=(b!==null?128:0)|v,l[d++]=_,l[d++]=0,b!==null)for(var w=0,S=b.length;w<S;++w){var R=b[w];l[d++]=R>>16&255,l[d++]=R>>8&255,l[d++]=255&R}if(f!==null){if(f<0||65535<f)throw new Error("Loop count invalid.");l[d++]=33,l[d++]=255,l[d++]=11,l[d++]=78,l[d++]=69,l[d++]=84,l[d++]=83,l[d++]=67,l[d++]=65,l[d++]=80,l[d++]=69,l[d++]=50,l[d++]=46,l[d++]=48,l[d++]=3,l[d++]=1,l[d++]=255&f,l[d++]=f>>8&255,l[d++]=0}var D=!1;this.addFrame=function(A,C,j,P,O,L){if(D===!0&&(--d,D=!1),L=L===void 0?{}:L,A<0||C<0||65535<A||65535<C)throw new Error("x/y invalid.");if(j<=0||P<=0||65535<j||65535<P)throw new Error("Width/Height invalid.");if(O.length<j*P)throw new Error("Not enough pixels for the frame size.");var N=!0,q=L.palette;if(q==null&&(N=!1,q=b),q==null)throw new Error("Must supply either a local or global palette.");for(var Y=g(q),W=0;Y>>=1;)++W;var Y=1<<W,J=L.delay===void 0?0:L.delay,te=L.disposal===void 0?0:L.disposal;if(te<0||3<te)throw new Error("Disposal out of range.");var ee=!1,Q=0;if(L.transparent!==void 0&&L.transparent!==null&&(ee=!0,(Q=L.transparent)<0||Y<=Q))throw new Error("Transparent color index.");if(te===0&&!ee&&J===0||(l[d++]=33,l[d++]=249,l[d++]=4,l[d++]=te<<2|(ee===!0?1:0),l[d++]=255&J,l[d++]=J>>8&255,l[d++]=Q,l[d++]=0),l[d++]=44,l[d++]=255&A,l[d++]=A>>8&255,l[d++]=255&C,l[d++]=C>>8&255,l[d++]=255&j,l[d++]=j>>8&255,l[d++]=255&P,l[d++]=P>>8&255,l[d++]=N===!0?128|W-1:0,N===!0)for(var ne=0,re=q.length;ne<re;++ne){var I=q[ne];l[d++]=I>>16&255,l[d++]=I>>8&255,l[d++]=255&I}return d=function(U,H,X,ae){U[H++]=X;var le=H++,he=1<<X,ye=he-1,me=1+he,xe=1+me,Se=X+1,pe=0,Te=0;function ke(gt){for(;gt<=pe;)U[H++]=255&Te,Te>>=8,pe-=8,H===le+256&&(U[le]=255,le=H++)}function Me(gt){Te|=gt<<pe,pe+=Se,ke(8)}var Ne=ae[0]&ye,Ve={};Me(he);for(var Xe=1,ht=ae.length;Xe<ht;++Xe){var Ke=ae[Xe]&ye,jt=Ne<<8|Ke,bt=Ve[jt];if(bt===void 0){for(Te|=Ne<<pe,pe+=Se;8<=pe;)U[H++]=255&Te,Te>>=8,pe-=8,H===le+256&&(U[le]=255,le=H++);xe===4096?(Me(he),xe=1+me,Se=X+1,Ve={}):(1<<Se<=xe&&++Se,Ve[jt]=xe++),Ne=Ke}else Ne=bt}return Me(Ne),Me(me),ke(1),le+1===H?U[le]=0:(U[le]=H-le-1,U[H++]=0),H}(l,d,W<2?2:W,O)},this.end=function(){return D===!1&&(l[d++]=59,D=!0),d},this.getOutputBuffer=function(){return l},this.setOutputBuffer=function(A){l=A},this.getOutputBufferPosition=function(){return d},this.setOutputBufferPosition=function(A){d=A}}function c(l,u,p,y){for(var d=l[u++],f=1<<d,b=1+f,g=1+b,v=d+1,_=(1<<v)-1,x=0,w=0,S=0,R=l[u++],D=new Int32Array(4096),A=null;;){for(;x<16&&R!==0;)w|=l[u++]<<x,x+=8,R===1?R=l[u++]:--R;if(x<v)break;var C=w&_;if(w>>=v,x-=v,C==f)g=1+b,_=(1<<(v=d+1))-1,A=null;else{if(C==b)break;for(var j=C<g?C:A,P=0,O=j;f<O;)O=D[O]>>8,++P;var L=O;if(y<S+P+(j!==C?1:0))return void console.log("Warning, gif stream longer than expected.");p[S++]=L;var N=S+=P;for(j!==C&&(p[S++]=L),O=j;P--;)O=D[O],p[--N]=255&O,O>>=8;A!==null&&g<4096&&(D[g++]=A<<8|L,_+1<=g&&v<12&&(++v,_=_<<1|1)),A=C}}S!==y&&console.log("Warning, gif stream shorter than expected.")}try{o.GifWriter=a,o.GifReader=function(l){var u=0;if(l[u++]!==71||l[u++]!==73||l[u++]!==70||l[u++]!==56||(l[u++]+1&253)!=56||l[u++]!==97)throw new Error("Invalid GIF 87a/89a header.");var p=l[u++]|l[u++]<<8,y=l[u++]|l[u++]<<8,d=l[u++],f=1<<1+(7&d),b=(l[u++],l[u++],null),g=null,v=(d>>7&&(b=u,u+=3*(g=f)),!0),_=[],x=0,w=null,S=0,R=null;for(this.width=p,this.height=y;v&&u<l.length;)switch(l[u++]){case 33:switch(l[u++]){case 255:if(l[u]!==11||l[u+1]==78&&l[u+2]==69&&l[u+3]==84&&l[u+4]==83&&l[u+5]==67&&l[u+6]==65&&l[u+7]==80&&l[u+8]==69&&l[u+9]==50&&l[u+10]==46&&l[u+11]==48&&l[u+12]==3&&l[u+13]==1&&l[u+16]==0)u+=14,R=l[u++]|l[u++]<<8,u++;else for(u+=12;;){if(!(0<=(A=l[u++])))throw Error("Invalid block size");if(A===0)break;u+=A}break;case 249:if(l[u++]!==4||l[u+4]!==0)throw new Error("Invalid graphics extension block.");var D=l[u++],x=l[u++]|l[u++]<<8,w=l[u++];!(1&D)&&(w=null),S=D>>2&7,u++;break;case 254:for(;;){if(!(0<=(A=l[u++])))throw Error("Invalid block size");if(A===0)break;u+=A}break;default:throw new Error("Unknown graphic control label: 0x"+l[u-1].toString(16))}break;case 44:var A,C=l[u++]|l[u++]<<8,j=l[u++]|l[u++]<<8,P=l[u++]|l[u++]<<8,O=l[u++]|l[u++]<<8,J=l[u++],L=J>>6&1,N=1<<1+(7&J),q=b,W=g,Y=!1,J=(J>>7&&(Y=!0,q=u,u+=3*(W=N)),u);for(u++;;){if(!(0<=(A=l[u++])))throw Error("Invalid block size");if(A===0)break;u+=A}_.push({x:C,y:j,width:P,height:O,has_local_palette:Y,palette_offset:q,palette_size:W,data_offset:J,data_length:u-J,transparent_index:w,interlaced:!!L,delay:x,disposal:S});break;case 59:v=!1;break;default:throw new Error("Unknown gif block: 0x"+l[u-1].toString(16))}this.numFrames=function(){return _.length},this.loopCount=function(){return R},this.frameInfo=function(te){if(te<0||te>=_.length)throw new Error("Frame index out of range.");return _[te]},this.decodeAndBlitFrameBGRA=function(te,ee){for(var te=this.frameInfo(te),Q=te.width*te.height,ne=new Uint8Array(Q),re=(c(l,te.data_offset,ne,Q),te.palette_offset),I=te.transparent_index,U=(I===null&&(I=256),te.width),H=p-U,X=U,ae=4*(te.y*p+te.x),le=4*((te.y+te.height)*p+te.x),he=ae,ye=4*H,me=(te.interlaced===!0&&(ye+=4*p*7),8),xe=0,Se=ne.length;xe<Se;++xe){var pe,Te,ke=ne[xe];X===0&&(X=U,le<=(he+=ye)&&(ye=4*H+4*p*(me-1),he=ae+(U+H)*(me<<1),me>>=1)),ke===I?he+=4:(pe=l[re+3*ke],Te=l[re+3*ke+1],ke=l[re+3*ke+2],ee[he++]=ke,ee[he++]=Te,ee[he++]=pe,ee[he++]=255),--X}},this.decodeAndBlitFrameRGBA=function(te,ee){for(var te=this.frameInfo(te),Q=te.width*te.height,ne=new Uint8Array(Q),re=(c(l,te.data_offset,ne,Q),te.palette_offset),I=te.transparent_index,U=(I===null&&(I=256),te.width),H=p-U,X=U,ae=4*(te.y*p+te.x),le=4*((te.y+te.height)*p+te.x),he=ae,ye=4*H,me=(te.interlaced===!0&&(ye+=4*p*7),8),xe=0,Se=ne.length;xe<Se;++xe){var pe,Te,ke=ne[xe];X===0&&(X=U,le<=(he+=ye)&&(ye=4*H+4*p*(me-1),he=ae+(U+H)*(me<<1),me>>=1)),ke===I?he+=4:(pe=l[re+3*ke],Te=l[re+3*ke+1],ke=l[re+3*ke+2],ee[he++]=pe,ee[he++]=Te,ee[he++]=ke,ee[he++]=255),--X}}}}catch{}},{}],257:[function(r,s,o){(function(a){var c,l;c=this,l=function(u){function p(Z){if(this==null)throw TypeError();var M,F=String(this),z=F.length,Z=Z?Number(Z):0;if(!((Z=Z!=Z?0:Z)<0||z<=Z))return 55296<=(M=F.charCodeAt(Z))&&M<=56319&&Z+1<z&&56320<=(z=F.charCodeAt(Z+1))&&z<=57343?1024*(M-55296)+z-56320+65536:M}String.prototype.codePointAt||((y=function(){try{var E={},M=Object.defineProperty,F=M(E,E,E)&&M}catch{}return F}())?y(String.prototype,"codePointAt",{value:p,configurable:!0,writable:!0}):String.prototype.codePointAt=p);var y,d=0,f=-3;function b(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function g(E,M){this.source=E,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=M,this.destLen=0,this.ltree=new b,this.dtree=new b}var v=new b,_=new b,x=new Uint8Array(30),w=new Uint16Array(30),S=new Uint8Array(30),R=new Uint16Array(30),D=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),A=new b,C=new Uint8Array(320);function j(E,M,F,z){for(var Z,ie=0;ie<F;++ie)E[ie]=0;for(ie=0;ie<30-F;++ie)E[ie+F]=ie/F|0;for(Z=z,ie=0;ie<30;++ie)M[ie]=Z,Z+=1<<E[ie]}var P=new Uint16Array(16);function O(E,M,F,z){for(var Z,ie=0;ie<16;++ie)E.table[ie]=0;for(ie=0;ie<z;++ie)E.table[M[F+ie]]++;for(ie=Z=E.table[0]=0;ie<16;++ie)P[ie]=Z,Z+=E.table[ie];for(ie=0;ie<z;++ie)M[F+ie]&&(E.trans[P[M[F+ie]]++]=ie)}function L(E,M,F){if(!M)return F;for(;E.bitcount<24;)E.tag|=E.source[E.sourceIndex++]<<E.bitcount,E.bitcount+=8;var z=E.tag&65535>>>16-M;return E.tag>>>=M,E.bitcount-=M,z+F}function N(E,M){for(;E.bitcount<24;)E.tag|=E.source[E.sourceIndex++]<<E.bitcount,E.bitcount+=8;for(var F=0,z=0,Z=0,ie=E.tag;z=2*z+(1&ie),ie>>>=1,F+=M.table[++Z],0<=(z-=M.table[Z]););return E.tag=ie,E.bitcount-=Z,M.trans[F+z]}function q(E,M,F){for(;;){var z=N(E,M);if(z===256)return d;if(z<256)E.dest[E.destLen++]=z;else for(var Z,ie=L(E,x[z-=257],w[z]),z=N(E,F),oe=Z=E.destLen-L(E,S[z],R[z]);oe<Z+ie;++oe)E.dest[E.destLen++]=E.dest[oe]}}for(var W=v,Y=_,J=0;J<7;++J)W.table[J]=0;for(W.table[7]=24,W.table[8]=152,W.table[9]=112,J=0;J<24;++J)W.trans[J]=256+J;for(J=0;J<144;++J)W.trans[24+J]=J;for(J=0;J<8;++J)W.trans[168+J]=280+J;for(J=0;J<112;++J)W.trans[176+J]=144+J;for(J=0;J<5;++J)Y.table[J]=0;for(Y.table[5]=32,J=0;J<32;++J)Y.trans[J]=J;j(x,w,4,3),j(S,R,2,1),x[28]=0,w[28]=258;var te=function(E,M){var F,z,Z,ie=new g(E,M);do{switch(Z=void 0,(z=ie).bitcount--||(z.tag=z.source[z.sourceIndex++],z.bitcount=7),Z=1&z.tag,z.tag>>>=1,z=Z,L(ie,2,0)){case 0:F=function(st){for(var zt,ur;8<st.bitcount;)st.sourceIndex--,st.bitcount-=8;if((zt=256*st.source[st.sourceIndex+1]+st.source[st.sourceIndex])!==(65535&~(256*st.source[st.sourceIndex+3]+st.source[st.sourceIndex+2])))return f;for(st.sourceIndex+=4,ur=zt;ur;--ur)st.dest[st.destLen++]=st.source[st.sourceIndex++];return st.bitcount=0,d}(ie);break;case 1:F=q(ie,v,_);break;case 2:pt=lt=xt=it=oe=Ue=Ze=tt=Ye=je=Oe=ve=void 0;for(var oe,ve=ie,Oe=ie.ltree,je=ie.dtree,Ye=L(ve,5,257),tt=L(ve,5,1),Ze=L(ve,4,4),Ue=0;Ue<19;++Ue)C[Ue]=0;for(Ue=0;Ue<Ze;++Ue){var xt=L(ve,3,0);C[D[Ue]]=xt}for(O(A,C,0,19),oe=0;oe<Ye+tt;){var lt=N(ve,A);switch(lt){case 16:for(var pt=C[oe-1],it=L(ve,2,3);it;--it)C[oe++]=pt;break;case 17:for(it=L(ve,3,3);it;--it)C[oe++]=0;break;case 18:for(it=L(ve,7,11);it;--it)C[oe++]=0;break;default:C[oe++]=lt}}O(Oe,C,0,Ye),O(je,C,Ye,tt),F=q(ie,ie.ltree,ie.dtree);break;default:F=f}if(F!==d)throw new Error("Data error")}while(!z);return ie.destLen<ie.dest.length?typeof ie.dest.slice=="function"?ie.dest.slice(0,ie.destLen):ie.dest.subarray(0,ie.destLen):ie.dest};function ee(E,M,F,z,Z){return Math.pow(1-Z,3)*E+3*Math.pow(1-Z,2)*Z*M+3*(1-Z)*Math.pow(Z,2)*F+Math.pow(Z,3)*z}function Q(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}function ne(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}function re(E){throw new Error(E)}function I(E,M){E||re(M)}Q.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)},Q.prototype.addPoint=function(E,M){typeof E=="number"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=E,this.x2=E),E<this.x1&&(this.x1=E),E>this.x2&&(this.x2=E)),typeof M=="number"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=M,this.y2=M),M<this.y1&&(this.y1=M),M>this.y2&&(this.y2=M))},Q.prototype.addX=function(E){this.addPoint(E,null)},Q.prototype.addY=function(E){this.addPoint(null,E)},Q.prototype.addBezier=function(E,M,F,z,Z,ie,oe,ve){var Oe=[E,M],je=[F,z],Ye=[Z,ie],tt=[oe,ve];this.addPoint(E,M),this.addPoint(oe,ve);for(var Ze=0;Ze<=1;Ze++){var Ue,xt=6*Oe[Ze]-12*je[Ze]+6*Ye[Ze],lt=-3*Oe[Ze]+9*je[Ze]-9*Ye[Ze]+3*tt[Ze],pt=3*je[Ze]-3*Oe[Ze];lt==0?xt==0||0<(Ue=-pt/xt)&&Ue<1&&(Ze===0&&this.addX(ee(Oe[Ze],je[Ze],Ye[Ze],tt[Ze],Ue)),Ze===1&&this.addY(ee(Oe[Ze],je[Ze],Ye[Ze],tt[Ze],Ue))):(Ue=Math.pow(xt,2)-4*pt*lt)<0||(0<(pt=(-xt+Math.sqrt(Ue))/(2*lt))&&pt<1&&(Ze===0&&this.addX(ee(Oe[Ze],je[Ze],Ye[Ze],tt[Ze],pt)),Ze===1&&this.addY(ee(Oe[Ze],je[Ze],Ye[Ze],tt[Ze],pt))),0<(pt=(-xt-Math.sqrt(Ue))/(2*lt))&&pt<1&&(Ze===0&&this.addX(ee(Oe[Ze],je[Ze],Ye[Ze],tt[Ze],pt)),Ze===1&&this.addY(ee(Oe[Ze],je[Ze],Ye[Ze],tt[Ze],pt))))}},Q.prototype.addQuad=function(E,M,F,z,Z,ie){F=E+2/3*(F-E),z=M+2/3*(z-M),this.addBezier(E,M,F,z,F+1/3*(Z-E),z+1/3*(ie-M),Z,ie)},ne.prototype.moveTo=function(E,M){this.commands.push({type:"M",x:E,y:M})},ne.prototype.lineTo=function(E,M){this.commands.push({type:"L",x:E,y:M})},ne.prototype.curveTo=ne.prototype.bezierCurveTo=function(E,M,F,z,Z,ie){this.commands.push({type:"C",x1:E,y1:M,x2:F,y2:z,x:Z,y:ie})},ne.prototype.quadTo=ne.prototype.quadraticCurveTo=function(E,M,F,z){this.commands.push({type:"Q",x1:E,y1:M,x:F,y:z})},ne.prototype.close=ne.prototype.closePath=function(){this.commands.push({type:"Z"})},ne.prototype.extend=function(E){var M;if(E.commands)E=E.commands;else if(E instanceof Q)return M=E,this.moveTo(M.x1,M.y1),this.lineTo(M.x2,M.y1),this.lineTo(M.x2,M.y2),this.lineTo(M.x1,M.y2),void this.close();Array.prototype.push.apply(this.commands,E)},ne.prototype.getBoundingBox=function(){for(var E=new Q,M=0,F=0,z=0,Z=0,ie=0;ie<this.commands.length;ie++){var oe=this.commands[ie];switch(oe.type){case"M":E.addPoint(oe.x,oe.y),M=z=oe.x,F=Z=oe.y;break;case"L":E.addPoint(oe.x,oe.y),z=oe.x,Z=oe.y;break;case"Q":E.addQuad(z,Z,oe.x1,oe.y1,oe.x,oe.y),z=oe.x,Z=oe.y;break;case"C":E.addBezier(z,Z,oe.x1,oe.y1,oe.x2,oe.y2,oe.x,oe.y),z=oe.x,Z=oe.y;break;case"Z":z=M,Z=F;break;default:throw new Error("Unexpected path command "+oe.type)}}return E.isEmpty()&&E.addPoint(0,0),E},ne.prototype.draw=function(E){E.beginPath();for(var M=0;M<this.commands.length;M+=1){var F=this.commands[M];F.type==="M"?E.moveTo(F.x,F.y):F.type==="L"?E.lineTo(F.x,F.y):F.type==="C"?E.bezierCurveTo(F.x1,F.y1,F.x2,F.y2,F.x,F.y):F.type==="Q"?E.quadraticCurveTo(F.x1,F.y1,F.x,F.y):F.type==="Z"&&E.closePath()}this.fill&&(E.fillStyle=this.fill,E.fill()),this.stroke&&(E.strokeStyle=this.stroke,E.lineWidth=this.strokeWidth,E.stroke())},ne.prototype.toPathData=function(E){function M(){for(var ie=arguments,oe="",ve=0;ve<arguments.length;ve+=1){var Oe=ie[ve];0<=Oe&&0<ve&&(oe+=" "),oe+=(Oe=Oe,Math.round(Oe)===Oe?""+Math.round(Oe):Oe.toFixed(E))}return oe}E=E!==void 0?E:2;for(var F="",z=0;z<this.commands.length;z+=1){var Z=this.commands[z];Z.type==="M"?F+="M"+M(Z.x,Z.y):Z.type==="L"?F+="L"+M(Z.x,Z.y):Z.type==="C"?F+="C"+M(Z.x1,Z.y1,Z.x2,Z.y2,Z.x,Z.y):Z.type==="Q"?F+="Q"+M(Z.x1,Z.y1,Z.x,Z.y):Z.type==="Z"&&(F+="Z")}return F},ne.prototype.toSVG=function(E){var M=(M='<path d="')+this.toPathData(E)+'"';return this.fill&&this.fill!=="black"&&(this.fill===null?M+=' fill="none"':M+=' fill="'+this.fill+'"'),this.stroke&&(M+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),M+="/>"},ne.prototype.toDOMElement=function(M){var M=this.toPathData(M),F=document.createElementNS("http://www.w3.org/2000/svg","path");return F.setAttribute("d",M),F};var U={fail:re,argument:I,assert:I},H={},X={},ae={};function le(E){return function(){return E}}X.BYTE=function(E){return U.argument(0<=E&&E<=255,"Byte value should be between 0 and 255."),[E]},ae.BYTE=le(1),X.CHAR=function(E){return[E.charCodeAt(0)]},ae.CHAR=le(1),X.CHARARRAY=function(E){for(var M=[],F=0;F<E.length;F+=1)M[F]=E.charCodeAt(F);return M},ae.CHARARRAY=function(E){return E.length},X.USHORT=function(E){return[E>>8&255,255&E]},ae.USHORT=le(2),X.SHORT=function(E){return[(E=32768<=E?-(65536-E):E)>>8&255,255&E]},ae.SHORT=le(2),X.UINT24=function(E){return[E>>16&255,E>>8&255,255&E]},ae.UINT24=le(3),X.ULONG=function(E){return[E>>24&255,E>>16&255,E>>8&255,255&E]},ae.ULONG=le(4),X.LONG=function(E){return[(E=2147483648<=E?-(4294967296-E):E)>>24&255,E>>16&255,E>>8&255,255&E]},ae.LONG=le(4),X.FIXED=X.ULONG,ae.FIXED=ae.ULONG,X.FWORD=X.SHORT,ae.FWORD=ae.SHORT,X.UFWORD=X.USHORT,ae.UFWORD=ae.USHORT,X.LONGDATETIME=function(E){return[0,0,0,0,E>>24&255,E>>16&255,E>>8&255,255&E]},ae.LONGDATETIME=le(8),X.TAG=function(E){return U.argument(E.length===4,"Tag should be exactly 4 ASCII characters."),[E.charCodeAt(0),E.charCodeAt(1),E.charCodeAt(2),E.charCodeAt(3)]},ae.TAG=le(4),X.Card8=X.BYTE,ae.Card8=ae.BYTE,X.Card16=X.USHORT,ae.Card16=ae.USHORT,X.OffSize=X.BYTE,ae.OffSize=ae.BYTE,X.SID=X.USHORT,ae.SID=ae.USHORT,X.NUMBER=function(E){return-107<=E&&E<=107?[E+139]:108<=E&&E<=1131?[247+((E-=108)>>8),255&E]:-1131<=E&&E<=-108?[251+((E=-E-108)>>8),255&E]:-32768<=E&&E<=32767?X.NUMBER16(E):X.NUMBER32(E)},ae.NUMBER=function(E){return X.NUMBER(E).length},X.NUMBER16=function(E){return[28,E>>8&255,255&E]},ae.NUMBER16=le(3),X.NUMBER32=function(E){return[29,E>>24&255,E>>16&255,E>>8&255,255&E]},ae.NUMBER32=le(5),X.REAL=function(E){for(var M=E.toString(),F=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(M),z=(F&&(F=parseFloat("1e"+((F[2]?+F[2]:0)+F[1].length)),M=(Math.round(E*F)/F).toString()),""),Z=0,ie=M.length;Z<ie;Z+=1){var oe=M[Z];z+=oe==="e"?M[++Z]==="-"?"c":"b":oe==="."?"a":oe==="-"?"e":oe}for(var ve=[30],Oe=0,je=(z+=1&z.length?"f":"ff").length;Oe<je;Oe+=2)ve.push(parseInt(z.substr(Oe,2),16));return ve},ae.REAL=function(E){return X.REAL(E).length},X.NAME=X.CHARARRAY,ae.NAME=ae.CHARARRAY,X.STRING=X.CHARARRAY,ae.STRING=ae.CHARARRAY,H.UTF8=function(E,M,F){for(var z=[],Z=F,ie=0;ie<Z;ie++,M+=1)z[ie]=E.getUint8(M);return String.fromCharCode.apply(null,z)},H.UTF16=function(E,M,F){for(var z=[],Z=F/2,ie=0;ie<Z;ie++,M+=2)z[ie]=E.getUint16(M);return String.fromCharCode.apply(null,z)},X.UTF16=function(E){for(var M=[],F=0;F<E.length;F+=1){var z=E.charCodeAt(F);M[M.length]=z>>8&255,M[M.length]=255&z}return M},ae.UTF16=function(E){return 2*E.length};var he,ye={"x-mac-croatian":"","x-mac-cyrillic":"","x-mac-gaelic":"","x-mac-greek":"","x-mac-icelandic":"","x-mac-inuit":"","x-mac-ce":"",macintosh:"","x-mac-romanian":"","x-mac-turkish":""},me=(H.MACSTRING=function(E,M,F,z){var Z=ye[z];if(Z!==void 0){for(var ie="",oe=0;oe<F;oe++){var ve=E.getUint8(M+oe);ie+=ve<=127?String.fromCharCode(ve):Z[127&ve]}return ie}},typeof WeakMap=="function"&&new WeakMap);function xe(E){return-128<=E&&E<=127}X.MACSTRING=function(E,M){var F=function(oe){if(!he)for(var ve in he={},ye)he[ve]=new String(ve);var Oe=he[oe];if(Oe!==void 0){if(me){var je=me.get(Oe);if(je!==void 0)return je}var Ye=ye[oe];if(Ye!==void 0){for(var tt={},Ze=0;Ze<Ye.length;Ze++)tt[Ye.charCodeAt(Ze)]=Ze+128;return me&&me.set(Oe,tt),tt}}}(M);if(F!==void 0){for(var z=[],Z=0;Z<E.length;Z++){var ie=E.charCodeAt(Z);if(128<=ie&&(ie=F[ie])===void 0)return;z[Z]=ie}return z}},ae.MACSTRING=function(E,M){return E=X.MACSTRING(E,M),E!==void 0?E.length:0},X.VARDELTAS=function(E){for(var z=0,M=[];z<E.length;)var F=E[z],z=(F===0?function(Z,ie,oe){for(var ve=0,Oe=Z.length;ie<Oe&&ve<64&&Z[ie]===0;)++ie,++ve;return oe.push(128|ve-1),ie}:-128<=F&&F<=127?function(Z,ie,oe){for(var ve=0,Oe=Z.length,je=ie;je<Oe&&ve<64;){var Ye=Z[je];if(!xe(Ye)||Ye===0&&je+1<Oe&&Z[je+1]===0)break;++je,++ve}oe.push(ve-1);for(var tt=ie;tt<je;++tt)oe.push(Z[tt]+256&255);return je}:function(Z,ie,oe){for(var ve=0,Oe=Z.length,je=ie;je<Oe&&ve<64;){var Ye=Z[je];if(Ye===0||xe(Ye)&&je+1<Oe&&xe(Z[je+1]))break;++je,++ve}oe.push(64|ve-1);for(var tt=ie;tt<je;++tt){var Ze=Z[tt];oe.push(Ze+65536>>8&255,Ze+256&255)}return je})(E,z,M);return M},X.INDEX=function(E){for(var M=1,F=[M],z=[],Z=0;Z<E.length;Z+=1){var ie=X.OBJECT(E[Z]);Array.prototype.push.apply(z,ie),M+=ie.length,F.push(M)}if(z.length===0)return[0,0];for(var oe=[],ve=1+Math.floor(Math.log(M)/Math.log(2))/8|0,Oe=[void 0,X.BYTE,X.USHORT,X.UINT24,X.ULONG][ve],je=0;je<F.length;je+=1){var Ye=Oe(F[je]);Array.prototype.push.apply(oe,Ye)}return Array.prototype.concat(X.Card16(E.length),X.OffSize(ve),oe,z)},ae.INDEX=function(E){return X.INDEX(E).length},X.DICT=function(E){for(var M=[],F=Object.keys(E),z=F.length,Z=0;Z<z;Z+=1){var ie=parseInt(F[Z],0),oe=E[ie];M=(M=M.concat(X.OPERAND(oe.value,oe.type))).concat(X.OPERATOR(ie))}return M},ae.DICT=function(E){return X.DICT(E).length},X.OPERATOR=function(E){return E<1200?[E]:[12,E-1200]},X.OPERAND=function(E,M){var F=[];if(Array.isArray(M))for(var z=0;z<M.length;z+=1)U.argument(E.length===M.length,"Not enough arguments given for type"+M),F=F.concat(X.OPERAND(E[z],M[z]));else if(M==="SID")F=F.concat(X.NUMBER(E));else if(M==="offset")F=F.concat(X.NUMBER32(E));else if(M==="number")F=F.concat(X.NUMBER(E));else{if(M!=="real")throw new Error("Unknown operand type "+M);F=F.concat(X.REAL(E))}return F},X.OP=X.BYTE,ae.OP=ae.BYTE;var Se=typeof WeakMap=="function"&&new WeakMap;function pe(E,M,F){for(var z=0;z<M.length;z+=1){var Z=M[z];this[Z.name]=Z.value}if(this.tableName=E,this.fields=M,F)for(var ie=Object.keys(F),oe=0;oe<ie.length;oe+=1){var ve=ie[oe],Oe=F[ve];this[ve]!==void 0&&(this[ve]=Oe)}}function Te(E,M,F){F===void 0&&(F=M.length);var z=new Array(M.length+1);z[0]={name:E+"Count",type:"USHORT",value:F};for(var Z=0;Z<M.length;Z++)z[Z+1]={name:E+Z,type:"USHORT",value:M[Z]};return z}function ke(E,M,F){var z=M.length,Z=new Array(z+1);Z[0]={name:E+"Count",type:"USHORT",value:z};for(var ie=0;ie<z;ie++)Z[ie+1]={name:E+ie,type:"TABLE",value:F(M[ie],ie)};return Z}function Me(E,M,F){var z=M.length,Z=[];Z[0]={name:E+"Count",type:"USHORT",value:z};for(var ie=0;ie<z;ie++)Z=Z.concat(F(M[ie],ie));return Z}function Ne(E){E.format===1?pe.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(Te("glyph",E.glyphs))):U.assert(!1,"Can't create coverage table format 2 yet.")}function Ve(E){pe.call(this,"scriptListTable",Me("scriptRecord",E,function(M,F){var z=M.script,Z=z.defaultLangSys;return U.assert(!!Z,"Unable to write GSUB: script "+M.tag+" has no default language system."),[{name:"scriptTag"+F,type:"TAG",value:M.tag},{name:"script"+F,type:"TABLE",value:new pe("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new pe("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:Z.reqFeatureIndex}].concat(Te("featureIndex",Z.featureIndexes)))}].concat(Me("langSys",z.langSysRecords,function(ie,oe){var ve=ie.langSys;return[{name:"langSysTag"+oe,type:"TAG",value:ie.tag},{name:"langSys"+oe,type:"TABLE",value:new pe("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:ve.reqFeatureIndex}].concat(Te("featureIndex",ve.featureIndexes)))}]})))}]}))}function Xe(E){pe.call(this,"featureListTable",Me("featureRecord",E,function(M,F){var z=M.feature;return[{name:"featureTag"+F,type:"TAG",value:M.tag},{name:"feature"+F,type:"TABLE",value:new pe("featureTable",[{name:"featureParams",type:"USHORT",value:z.featureParams}].concat(Te("lookupListIndex",z.lookupListIndexes)))}]}))}function ht(E,M){pe.call(this,"lookupListTable",ke("lookup",E,function(F){var z=M[F.lookupType];return U.assert(!!z,"Unable to write GSUB lookup type "+F.lookupType+" tables."),new pe("lookupTable",[{name:"lookupType",type:"USHORT",value:F.lookupType},{name:"lookupFlag",type:"USHORT",value:F.lookupFlag}].concat(ke("subtable",F.subtables,z)))}))}X.CHARSTRING=function(E){if(Se){var M=Se.get(E);if(M!==void 0)return M}for(var ie=[],F=E.length,z=0;z<F;z+=1)var Z=E[z],ie=ie.concat(X[Z.type](Z.value));return Se&&Se.set(E,ie),ie},ae.CHARSTRING=function(E){return X.CHARSTRING(E).length},X.OBJECT=function(E){var M=X[E.type];return U.argument(M!==void 0,"No encoding function for type "+E.type),M(E.value)},ae.OBJECT=function(E){var M=ae[E.type];return U.argument(M!==void 0,"No sizeOf function for type "+E.type),M(E.value)},X.TABLE=function(E){for(var M=[],F=E.fields.length,z=[],Z=[],ie=0;ie<F;ie+=1){var oe=E.fields[ie],Oe=X[oe.type],ve=(U.argument(Oe!==void 0,"No encoding function for field type "+oe.type+" ("+oe.name+")"),E[oe.name]),Oe=Oe(ve=ve===void 0?oe.value:ve);oe.type==="TABLE"?(Z.push(M.length),M=M.concat([0,0]),z.push(Oe)):M=M.concat(Oe)}for(var je=0;je<z.length;je+=1){var Ye=Z[je],tt=M.length;U.argument(tt<65536,"Table "+E.tableName+" too big."),M[Ye]=tt>>8,M[Ye+1]=255&tt,M=M.concat(z[je])}return M},ae.TABLE=function(E){for(var M=0,F=E.fields.length,z=0;z<F;z+=1){var Z=E.fields[z],ie=ae[Z.type],oe=(U.argument(ie!==void 0,"No sizeOf function for field type "+Z.type+" ("+Z.name+")"),E[Z.name]);M+=ie(oe=oe===void 0?Z.value:oe),Z.type==="TABLE"&&(M+=2)}return M},X.RECORD=X.TABLE,ae.RECORD=ae.TABLE,X.LITERAL=function(E){return E},ae.LITERAL=function(E){return E.length},pe.prototype.encode=function(){return X.TABLE(this)},pe.prototype.sizeOf=function(){return ae.TABLE(this)};var Ke={Table:pe,Record:pe,Coverage:(Ne.prototype=Object.create(pe.prototype)).constructor=Ne,ScriptList:(Ve.prototype=Object.create(pe.prototype)).constructor=Ve,FeatureList:(Xe.prototype=Object.create(pe.prototype)).constructor=Xe,LookupList:(ht.prototype=Object.create(pe.prototype)).constructor=ht,ushortList:Te,tableList:ke,recordList:Me};function jt(E,M){return E.getUint8(M)}function bt(E,M){return E.getUint16(M,!1)}function gt(E,M){return E.getUint32(M,!1)}function Tt(E,M){return E.getInt16(M,!1)+E.getUint16(M+2,!1)/65535}var St={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function $e(E,M){this.data=E,this.offset=M,this.relativeOffset=0}$e.prototype.parseByte=function(){var E=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,E},$e.prototype.parseChar=function(){var E=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,E},$e.prototype.parseCard8=$e.prototype.parseByte,$e.prototype.parseCard16=$e.prototype.parseUShort=function(){var E=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,E},$e.prototype.parseSID=$e.prototype.parseUShort,$e.prototype.parseOffset16=$e.prototype.parseUShort,$e.prototype.parseShort=function(){var E=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,E},$e.prototype.parseF2Dot14=function(){var E=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,E},$e.prototype.parseOffset32=$e.prototype.parseULong=function(){var E=gt(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,E},$e.prototype.parseFixed=function(){var E=Tt(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,E},$e.prototype.parseString=function(E){var M=this.data,F=this.offset+this.relativeOffset,z="";this.relativeOffset+=E;for(var Z=0;Z<E;Z++)z+=String.fromCharCode(M.getUint8(F+Z));return z},$e.prototype.parseTag=function(){return this.parseString(4)},$e.prototype.parseLongDateTime=function(){var E=gt(this.data,this.offset+this.relativeOffset+4);return E-=2082844800,this.relativeOffset+=8,E},$e.prototype.parseVersion=function(E){var M=bt(this.data,this.offset+this.relativeOffset),F=bt(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,M+F/(E=E===void 0?4096:E)/10},$e.prototype.skip=function(E,M){this.relativeOffset+=St[E]*(M=M===void 0?1:M)},$e.prototype.parseULongList=function(E){E===void 0&&(E=this.parseULong());for(var M=new Array(E),F=this.data,z=this.offset+this.relativeOffset,Z=0;Z<E;Z++)M[Z]=F.getUint32(z),z+=4;return this.relativeOffset+=4*E,M},$e.prototype.parseOffset16List=$e.prototype.parseUShortList=function(E){E===void 0&&(E=this.parseUShort());for(var M=new Array(E),F=this.data,z=this.offset+this.relativeOffset,Z=0;Z<E;Z++)M[Z]=F.getUint16(z),z+=2;return this.relativeOffset+=2*E,M},$e.prototype.parseShortList=function(E){for(var M=new Array(E),F=this.data,z=this.offset+this.relativeOffset,Z=0;Z<E;Z++)M[Z]=F.getInt16(z),z+=2;return this.relativeOffset+=2*E,M},$e.prototype.parseByteList=function(E){for(var M=new Array(E),F=this.data,z=this.offset+this.relativeOffset,Z=0;Z<E;Z++)M[Z]=F.getUint8(z++);return this.relativeOffset+=E,M},$e.prototype.parseList=function(E,M){M||(M=E,E=this.parseUShort());for(var F=new Array(E),z=0;z<E;z++)F[z]=M.call(this);return F},$e.prototype.parseList32=function(E,M){M||(M=E,E=this.parseULong());for(var F=new Array(E),z=0;z<E;z++)F[z]=M.call(this);return F},$e.prototype.parseRecordList=function(E,M){M||(M=E,E=this.parseUShort());for(var F=new Array(E),z=Object.keys(M),Z=0;Z<E;Z++){for(var ie={},oe=0;oe<z.length;oe++){var ve=z[oe],Oe=M[ve];ie[ve]=Oe.call(this)}F[Z]=ie}return F},$e.prototype.parseRecordList32=function(E,M){M||(M=E,E=this.parseULong());for(var F=new Array(E),z=Object.keys(M),Z=0;Z<E;Z++){for(var ie={},oe=0;oe<z.length;oe++){var ve=z[oe],Oe=M[ve];ie[ve]=Oe.call(this)}F[Z]=ie}return F},$e.prototype.parseStruct=function(E){if(typeof E=="function")return E.call(this);for(var M=Object.keys(E),F={},z=0;z<M.length;z++){var Z=M[z],ie=E[Z];F[Z]=ie.call(this)}return F},$e.prototype.parseValueRecord=function(E){var M;if((E=E===void 0?this.parseUShort():E)!==0)return M={},1&E&&(M.xPlacement=this.parseShort()),2&E&&(M.yPlacement=this.parseShort()),4&E&&(M.xAdvance=this.parseShort()),8&E&&(M.yAdvance=this.parseShort()),16&E&&(M.xPlaDevice=void 0,this.parseShort()),32&E&&(M.yPlaDevice=void 0,this.parseShort()),64&E&&(M.xAdvDevice=void 0,this.parseShort()),128&E&&(M.yAdvDevice=void 0,this.parseShort()),M},$e.prototype.parseValueRecordList=function(){for(var E=this.parseUShort(),M=this.parseUShort(),F=new Array(M),z=0;z<M;z++)F[z]=this.parseValueRecord(E);return F},$e.prototype.parsePointer=function(E){var M=this.parseOffset16();if(0<M)return new $e(this.data,this.offset+M).parseStruct(E)},$e.prototype.parsePointer32=function(E){var M=this.parseOffset32();if(0<M)return new $e(this.data,this.offset+M).parseStruct(E)},$e.prototype.parseListOfLists=function(E){for(var M=this.parseOffset16List(),F=M.length,z=this.relativeOffset,Z=new Array(F),ie=0;ie<F;ie++){var oe=M[ie];if(oe===0)Z[ie]=void 0;else if(this.relativeOffset=oe,E){for(var ve=this.parseOffset16List(),Oe=new Array(ve.length),je=0;je<ve.length;je++)this.relativeOffset=oe+ve[je],Oe[je]=E.call(this);Z[ie]=Oe}else Z[ie]=this.parseUShortList()}return this.relativeOffset=z,Z},$e.prototype.parseCoverage=function(){var E=this.offset+this.relativeOffset,M=this.parseUShort(),F=this.parseUShort();if(M===1)return{format:1,glyphs:this.parseUShortList(F)};if(M!==2)throw new Error("0x"+E.toString(16)+": Coverage format must be 1 or 2.");for(var z=new Array(F),Z=0;Z<F;Z++)z[Z]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:z}},$e.prototype.parseClassDef=function(){var E=this.offset+this.relativeOffset,M=this.parseUShort();if(M===1)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(M===2)return{format:2,ranges:this.parseRecordList({start:$e.uShort,end:$e.uShort,classId:$e.uShort})};throw new Error("0x"+E.toString(16)+": ClassDef format must be 1 or 2.")},$e.list=function(E,M){return function(){return this.parseList(E,M)}},$e.list32=function(E,M){return function(){return this.parseList32(E,M)}},$e.recordList=function(E,M){return function(){return this.parseRecordList(E,M)}},$e.recordList32=function(E,M){return function(){return this.parseRecordList32(E,M)}},$e.pointer=function(E){return function(){return this.parsePointer(E)}},$e.pointer32=function(E){return function(){return this.parsePointer32(E)}},$e.tag=$e.prototype.parseTag,$e.byte=$e.prototype.parseByte,$e.uShort=$e.offset16=$e.prototype.parseUShort,$e.uShortList=$e.prototype.parseUShortList,$e.uLong=$e.offset32=$e.prototype.parseULong,$e.uLongList=$e.prototype.parseULongList,$e.struct=$e.prototype.parseStruct,$e.coverage=$e.prototype.parseCoverage,$e.classDef=$e.prototype.parseClassDef;var dt={reserved:$e.uShort,reqFeatureIndex:$e.uShort,featureIndexes:$e.uShortList},Ge=($e.prototype.parseScriptList=function(){return this.parsePointer($e.recordList({tag:$e.tag,script:$e.pointer({defaultLangSys:$e.pointer(dt),langSysRecords:$e.recordList({tag:$e.tag,langSys:$e.pointer(dt)})})}))||[]},$e.prototype.parseFeatureList=function(){return this.parsePointer($e.recordList({tag:$e.tag,feature:$e.pointer({featureParams:$e.offset16,lookupListIndexes:$e.uShortList})}))||[]},$e.prototype.parseLookupList=function(E){return this.parsePointer($e.list($e.pointer(function(){var M=this.parseUShort(),F=(U.argument(1<=M&&M<=9,"GPOS/GSUB lookup type "+M+" unknown."),this.parseUShort()),z=16&F;return{lookupType:M,lookupFlag:F,subtables:this.parseList($e.pointer(E[M])),markFilteringSet:z?this.parseUShort():void 0}})))||[]},$e.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var E=this.parseUShort(),M=this.parseUShort();return U.argument(E===1&&M<1,"GPOS/GSUB feature variations table unknown."),this.parseRecordList32({conditionSetOffset:$e.offset32,featureTableSubstitutionOffset:$e.offset32})})||[]},{getByte:jt,getCard8:jt,getUShort:bt,getCard16:bt,getShort:function(E,M){return E.getInt16(M,!1)},getULong:gt,getFixed:Tt,getTag:function(E,M){for(var F="",z=M;z<M+4;z+=1)F+=String.fromCharCode(E.getInt8(z));return F},getOffset:function(E,M,F){for(var z=0,Z=0;Z<F;Z+=1)z=(z<<=8)+E.getUint8(M+Z);return z},getBytes:function(E,M,F){for(var z=[],Z=M;Z<F;Z+=1)z.push(E.getUint8(Z));return z},bytesToString:function(E){for(var M="",F=0;F<E.length;F+=1)M+=String.fromCharCode(E[F]);return M},Parser:$e}),de={parse:function(E,M){for(var F={},z=(F.version=Ge.getUShort(E,M),U.argument(F.version===0,"cmap table version should be 0."),F.numTables=Ge.getUShort(E,M+2),-1),Z=F.numTables-1;0<=Z;--Z){var ie=Ge.getUShort(E,M+4+8*Z),oe=Ge.getUShort(E,M+4+8*Z+2);if(ie===3&&(oe===0||oe===1||oe===10)||ie===0&&(oe===0||oe===1||oe===2||oe===3||oe===4)){z=Ge.getULong(E,M+4+8*Z+4);break}}if(z===-1)throw new Error("No valid cmap sub-tables found.");var ve=new Ge.Parser(E,M+z);if(F.format=ve.parseUShort(),F.format===12){var Oe,je=F,Ye=ve;Ye.parseUShort(),je.length=Ye.parseULong(),je.language=Ye.parseULong(),je.groupCount=Oe=Ye.parseULong(),je.glyphIndexMap={};for(var tt=0;tt<Oe;tt+=1)for(var Ze=Ye.parseULong(),Ue=Ye.parseULong(),xt=Ye.parseULong(),lt=Ze;lt<=Ue;lt+=1)je.glyphIndexMap[lt]=xt,xt++}else{if(F.format!==4)throw new Error("Only format 4 and 12 cmap tables are supported (found format "+F.format+").");var pt=F,it=E,st=M,zt=z;pt.length=ve.parseUShort(),pt.language=ve.parseUShort(),pt.segCount=ur=ve.parseUShort()>>1,ve.skip("uShort",3),pt.glyphIndexMap={};for(var ur,qt=new Ge.Parser(it,st+zt+14),$t=new Ge.Parser(it,st+zt+16+2*ur),gr=new Ge.Parser(it,st+zt+16+4*ur),ln=new Ge.Parser(it,st+zt+16+6*ur),Tr=st+zt+16+8*ur,vn=0;vn<ur-1;vn+=1)for(var gi=void 0,yi=qt.parseUShort(),js=$t.parseUShort(),Xr=gr.parseShort(),en=ln.parseUShort(),Hr=js;Hr<=yi;Hr+=1)en!==0?(Tr=(Tr=ln.offset+ln.relativeOffset-2)+en+2*(Hr-js),(gi=Ge.getUShort(it,Tr))!==0&&(gi=gi+Xr&65535)):gi=Hr+Xr&65535,pt.glyphIndexMap[Hr]=gi}return F},make:function(E){for(var M=!0,F=E.length-1;0<F;--F)if(65535<E.get(F).unicode){console.log("Adding CMAP format 12 (needed!)"),M=!1;break}var z,Z,ie=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:M?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:M?12:20}],oe=(ie=(ie=M?ie:ie.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])).concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),new Ke.Table("cmap",ie));for(oe.segments=[],F=0;F<E.length;F+=1){for(var ve=E.get(F),Oe=0;Oe<ve.unicodes.length;Oe+=1)z=ve.unicodes[Oe],Z=F,oe.segments.push({end:z,start:z,delta:-(z-Z),offset:0,glyphIndex:Z});oe.segments=oe.segments.sort(function(st,zt){return st.start-zt.start})}oe.segments.push({end:65535,start:65535,delta:1,offset:0});var je=oe.segments.length,Ye=0,tt=[],Ze=[],Ue=[],xt=[],lt=[],pt=[];for(F=0;F<je;F+=1){var it=oe.segments[F];it.end<=65535&&it.start<=65535?(tt=tt.concat({name:"end_"+F,type:"USHORT",value:it.end}),Ze=Ze.concat({name:"start_"+F,type:"USHORT",value:it.start}),Ue=Ue.concat({name:"idDelta_"+F,type:"SHORT",value:it.delta}),xt=xt.concat({name:"idRangeOffset_"+F,type:"USHORT",value:it.offset}),it.glyphId!==void 0&&(lt=lt.concat({name:"glyph_"+F,type:"USHORT",value:it.glyphId}))):Ye+=1,M||it.glyphIndex===void 0||(pt=(pt=(pt=pt.concat({name:"cmap12Start_"+F,type:"ULONG",value:it.start})).concat({name:"cmap12End_"+F,type:"ULONG",value:it.end})).concat({name:"cmap12Glyph_"+F,type:"ULONG",value:it.glyphIndex}))}return oe.segCountX2=2*(je-Ye),oe.searchRange=2*Math.pow(2,Math.floor(Math.log(je-Ye)/Math.log(2))),oe.entrySelector=Math.log(oe.searchRange/2)/Math.log(2),oe.rangeShift=oe.segCountX2-oe.searchRange,oe.fields=oe.fields.concat(tt),oe.fields.push({name:"reservedPad",type:"USHORT",value:0}),oe.fields=oe.fields.concat(Ze),oe.fields=oe.fields.concat(Ue),oe.fields=oe.fields.concat(xt),oe.fields=oe.fields.concat(lt),oe.cmap4Length=14+2*tt.length+2+2*Ze.length+2*Ue.length+2*xt.length+2*lt.length,M||(ie=16+4*pt.length,oe.cmap12Offset=20+oe.cmap4Length,oe.fields=oe.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:ie},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:pt.length/3}]),oe.fields=oe.fields.concat(pt)),oe}},ge=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],ce=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],we=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],He=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function We(E){this.font=E}function rt(E){this.cmap=E}function Et(E,M){this.encoding=E,this.charset=M}function It(E){switch(E.version){case 1:this.names=He.slice();break;case 2:this.names=new Array(E.numberOfGlyphs);for(var M=0;M<E.numberOfGlyphs;M++)E.glyphNameIndex[M]<He.length?this.names[M]=He[E.glyphNameIndex[M]]:this.names[M]=E.names[E.glyphNameIndex[M]-He.length];break;case 2.5:this.names=new Array(E.numberOfGlyphs);for(var F=0;F<E.numberOfGlyphs;F++)this.names[F]=He[F+E.glyphNameIndex[F]];break;default:this.names=[]}}We.prototype.charToGlyphIndex=function(E){var M=E.codePointAt(0),F=this.font.glyphs;if(F){for(var z=0;z<F.length;z+=1)for(var Z=F.get(z),ie=0;ie<Z.unicodes.length;ie+=1)if(Z.unicodes[ie]===M)return z}return null},rt.prototype.charToGlyphIndex=function(E){return this.cmap.glyphIndexMap[E.codePointAt(0)]||0},Et.prototype.charToGlyphIndex=function(E){return E=E.codePointAt(0),E=this.encoding[E],this.charset.indexOf(E)},It.prototype.nameToGlyphIndex=function(E){return this.names.indexOf(E)},It.prototype.glyphIndexToName=function(E){return this.names[E]};var Pt={line:function(E,M,F,z,Z){E.beginPath(),E.moveTo(M,F),E.lineTo(z,Z),E.stroke()}};function Dt(E){this.bindConstructorValues(E)}function Qt(E,M,F){Object.defineProperty(E,M,{get:function(){return E.path,E[F]},set:function(z){E[F]=z},enumerable:!0,configurable:!0})}function Gt(E,M){if(this.font=E,this.glyphs={},Array.isArray(M))for(var F=0;F<M.length;F++)this.glyphs[F]=M[F];this.length=M&&M.length||0}Dt.prototype.bindConstructorValues=function(E){var M;this.index=E.index||0,this.name=E.name||null,this.unicode=E.unicode||void 0,this.unicodes=E.unicodes||E.unicode!==void 0?[E.unicode]:[],E.xMin&&(this.xMin=E.xMin),E.yMin&&(this.yMin=E.yMin),E.xMax&&(this.xMax=E.xMax),E.yMax&&(this.yMax=E.yMax),E.advanceWidth&&(this.advanceWidth=E.advanceWidth),Object.defineProperty(this,"path",(E=E.path,M=E||new ne,{configurable:!0,get:function(){return M=typeof M=="function"?M():M},set:function(F){M=F}}))},Dt.prototype.addUnicode=function(E){this.unicodes.length===0&&(this.unicode=E),this.unicodes.push(E)},Dt.prototype.getBoundingBox=function(){return this.path.getBoundingBox()},Dt.prototype.getPath=function(E,M,F,z,Z){E=E!==void 0?E:0,M=M!==void 0?M:0,F=F!==void 0?F:72;for(var ie,oe,ve=(z=z||{}).xScale,Oe=z.yScale,je=((ie=z.hinting&&Z&&Z.hinting?this.path&&Z.hinting.exec(this,F):ie)?(oe=Z.hinting.getCommands(ie),E=Math.round(E),M=Math.round(M),ve=Oe=1):(oe=this.path.commands,z=1/this.path.unitsPerEm*F,ve===void 0&&(ve=z),Oe===void 0&&(Oe=z)),new ne),Ye=0;Ye<oe.length;Ye+=1){var tt=oe[Ye];tt.type==="M"?je.moveTo(E+tt.x*ve,M+-tt.y*Oe):tt.type==="L"?je.lineTo(E+tt.x*ve,M+-tt.y*Oe):tt.type==="Q"?je.quadraticCurveTo(E+tt.x1*ve,M+-tt.y1*Oe,E+tt.x*ve,M+-tt.y*Oe):tt.type==="C"?je.curveTo(E+tt.x1*ve,M+-tt.y1*Oe,E+tt.x2*ve,M+-tt.y2*Oe,E+tt.x*ve,M+-tt.y*Oe):tt.type==="Z"&&je.closePath()}return je},Dt.prototype.getContours=function(){if(this.points===void 0)return[];for(var E=[],M=[],F=0;F<this.points.length;F+=1){var z=this.points[F];M.push(z),z.lastPointOfContour&&(E.push(M),M=[])}return U.argument(M.length===0,"There are still points left in the current contour."),E},Dt.prototype.getMetrics=function(){for(var E=this.path.commands,M=[],F=[],z=0;z<E.length;z+=1){var Z=E[z];Z.type!=="Z"&&(M.push(Z.x),F.push(Z.y)),Z.type!=="Q"&&Z.type!=="C"||(M.push(Z.x1),F.push(Z.y1)),Z.type==="C"&&(M.push(Z.x2),F.push(Z.y2))}var ie={xMin:Math.min.apply(null,M),yMin:Math.min.apply(null,F),xMax:Math.max.apply(null,M),yMax:Math.max.apply(null,F),leftSideBearing:this.leftSideBearing};return isFinite(ie.xMin)||(ie.xMin=0),isFinite(ie.xMax)||(ie.xMax=this.advanceWidth),isFinite(ie.yMin)||(ie.yMin=0),isFinite(ie.yMax)||(ie.yMax=0),ie.rightSideBearing=this.advanceWidth-ie.leftSideBearing-(ie.xMax-ie.xMin),ie},Dt.prototype.draw=function(E,M,F,z,Z){this.getPath(M,F,z,Z).draw(E)},Dt.prototype.drawPoints=function(E,M,F,z){function Z(Ye,tt,Ze,Ue){var xt=2*Math.PI;E.beginPath();for(var lt=0;lt<Ye.length;lt+=1)E.moveTo(tt+Ye[lt].x*Ue,Ze+Ye[lt].y*Ue),E.arc(tt+Ye[lt].x*Ue,Ze+Ye[lt].y*Ue,2,0,xt,!1);E.closePath(),E.fill()}M=M!==void 0?M:0,F=F!==void 0?F:0;for(var z=1/this.path.unitsPerEm*(z=z!==void 0?z:24),ie=[],oe=[],ve=this.path,Oe=0;Oe<ve.commands.length;Oe+=1){var je=ve.commands[Oe];je.x!==void 0&&ie.push({x:je.x,y:-je.y}),je.x1!==void 0&&oe.push({x:je.x1,y:-je.y1}),je.x2!==void 0&&oe.push({x:je.x2,y:-je.y2})}E.fillStyle="blue",Z(ie,M,F,z),E.fillStyle="red",Z(oe,M,F,z)},Dt.prototype.drawMetrics=function(E,M,F,z){M=M!==void 0?M:0,F=F!==void 0?F:0,z=1/this.path.unitsPerEm*(z=z!==void 0?z:24),E.lineWidth=1,E.strokeStyle="black",Pt.line(E,M,-1e4,M,1e4),Pt.line(E,-1e4,F,1e4,F);var Z=this.xMin||0,ie=this.yMin||0,oe=this.xMax||0,ve=this.yMax||0,Oe=this.advanceWidth||0;E.strokeStyle="blue",Pt.line(E,M+Z*z,-1e4,M+Z*z,1e4),Pt.line(E,M+oe*z,-1e4,M+oe*z,1e4),Pt.line(E,-1e4,F+-ie*z,1e4,F+-ie*z),Pt.line(E,-1e4,F+-ve*z,1e4,F+-ve*z),E.strokeStyle="green",Pt.line(E,M+Oe*z,-1e4,M+Oe*z,1e4)},Gt.prototype.get=function(E){return typeof this.glyphs[E]=="function"&&(this.glyphs[E]=this.glyphs[E]()),this.glyphs[E]},Gt.prototype.push=function(E,M){this.glyphs[E]=M,this.length++};var Ft={GlyphSet:Gt,glyphLoader:function(E,M){return new Dt({index:M,font:E})},ttfGlyphLoader:function(E,M,F,z,Z,ie){return function(){var oe=new Dt({index:M,font:E});return oe.path=function(){F(oe,z,Z);var ve=ie(E.glyphs,oe);return ve.unitsPerEm=E.unitsPerEm,ve},Qt(oe,"xMin","_xMin"),Qt(oe,"xMax","_xMax"),Qt(oe,"yMin","_yMin"),Qt(oe,"yMax","_yMax"),oe}},cffGlyphLoader:function(E,M,F,z){return function(){var Z=new Dt({index:M,font:E});return Z.path=function(){var ie=F(E,Z,z);return ie.unitsPerEm=E.unitsPerEm,ie},Z}}};function Xt(E){return E=E.length<1240?107:E.length<33900?1131:32768,E}function Wt(E,M,F){var z,Z=[],ie=[],oe=Ge.getCard16(E,M);if(oe!==0){for(var ve=Ge.getByte(E,M+2),Oe=M+(oe+1)*ve+2,je=M+3,Ye=0;Ye<oe+1;Ye+=1)Z.push(Ge.getOffset(E,je,ve)),je+=ve;z=Oe+Z[oe]}else z=M+2;for(var tt=0;tt<Z.length-1;tt+=1){var Ze=Ge.getBytes(E,Oe+Z[tt],Oe+Z[tt+1]);F&&(Ze=F(Ze)),ie.push(Ze)}return{objects:ie,startOffset:M,endOffset:z}}function Mr(E,M){if(M===28)return E.parseByte()<<8|E.parseByte();if(M===29)return E.parseByte()<<24|E.parseByte()<<16|E.parseByte()<<8|E.parseByte();if(M===30){for(var F=E,z="",Z=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var oe=F.parseByte(),ie=oe>>4,oe=15&oe;if(ie==15||(z+=Z[ie],oe==15))break;z+=Z[oe]}return parseFloat(z)}if(32<=M&&M<=246)return M-139;if(247<=M&&M<=250)return 256*(M-247)+E.parseByte()+108;if(251<=M&&M<=254)return 256*-(M-251)-E.parseByte()-108;throw new Error("Invalid b0 "+M)}function pn(E,M,F){var z=new Ge.Parser(E,M=M!==void 0?M:0),Z=[],ie=[];for(F=F!==void 0?F:E.length;z.relativeOffset<F;){var oe=z.parseByte();oe<=21?(oe===12&&(oe=1200+z.parseByte()),Z.push([oe,ie]),ie=[]):ie.push(Mr(z,oe))}for(var ve=Z,Oe={},je=0;je<ve.length;je+=1){var Ye=ve[je][0],tt=ve[je][1],Ze=void 0,Ze=tt.length===1?tt[0]:tt;if(Oe.hasOwnProperty(Ye)&&!isNaN(Oe[Ye]))throw new Error("Object "+Oe+" already has key "+Ye);Oe[Ye]=Ze}return Oe}function Jr(E,M){return M=M<=390?ge[M]:E[M-391]}function rr(E,M,F){for(var z,Z={},ie=0;ie<M.length;ie+=1){var oe=M[ie];if(Array.isArray(oe.type)){var ve=[];ve.length=oe.type.length;for(var Oe=0;Oe<oe.type.length;Oe++)(z=E[oe.op]!==void 0?E[oe.op][Oe]:void 0)===void 0&&(z=oe.value!==void 0&&oe.value[Oe]!==void 0?oe.value[Oe]:null),oe.type[Oe]==="SID"&&(z=Jr(F,z)),ve[Oe]=z;Z[oe.name]=ve}else(z=E[oe.op])===void 0&&(z=oe.value!==void 0?oe.value:null),oe.type==="SID"&&(z=Jr(F,z)),Z[oe.name]=z}return Z}var Fr=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],hr=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function on(E,M,F,z){return rr(pn(E,M,F),hr,z)}function xn(E,M,F,z){for(var Z=[],ie=0;ie<F.length;ie+=1){var oe=new DataView(new Uint8Array(F[ie]).buffer),oe=(ve=z,rr(pn(oe,0,oe.byteLength),Fr,ve)),ve=(oe._subrs=[],oe._subrsBias=0,oe.private[0]),Oe=oe.private[1];ve!==0&&Oe!==0&&(ve=on(E,Oe+M,ve,z),oe._defaultWidthX=ve.defaultWidthX,oe._nominalWidthX=ve.nominalWidthX,ve.subrs!==0&&(Oe=Wt(E,Oe+ve.subrs+M),oe._subrs=Oe.objects,oe._subrsBias=Xt(oe._subrs)),oe._privateDict=ve),Z.push(oe)}return Z}function jr(E,M,F){var z,Z,ie,oe,ve,Oe,je,Ye,tt,Ze=new ne,Ue=[],xt=0,lt=!1,pt=!1,it=0,st=0,zt=(tt=(E.isCIDFont?(ve=E.tables.cff.topDict._fdSelect[M.index],ve=E.tables.cff.topDict._fdArray[ve],Oe=ve._subrs,je=ve._subrsBias,Ye=ve._defaultWidthX,ve):(Oe=E.tables.cff.topDict._subrs,je=E.tables.cff.topDict._subrsBias,Ye=E.tables.cff.topDict._defaultWidthX,E.tables.cff.topDict))._nominalWidthX,Ye);function ur($t,gr){pt&&Ze.closePath(),Ze.moveTo($t,gr),pt=!0}function qt(){Ue.length%2==0||lt||(zt=Ue.shift()+tt),xt+=Ue.length>>1,Ue.length=0,lt=!0}return function $t(gr){for(var ln,Tr,vn,gi,yi,js,Xr,en,Hr,Ti,Kr,qn,Wr=0;Wr<gr.length;){var Pn=gr[Wr];switch(Wr+=1,Pn){case 1:case 3:qt();break;case 4:1<Ue.length&&!lt&&(zt=Ue.shift()+tt,lt=!0),st+=Ue.pop(),ur(it,st);break;case 5:for(;0<Ue.length;)it+=Ue.shift(),st+=Ue.shift(),Ze.lineTo(it,st);break;case 6:for(;0<Ue.length&&(it+=Ue.shift(),Ze.lineTo(it,st),Ue.length!==0);)st+=Ue.shift(),Ze.lineTo(it,st);break;case 7:for(;0<Ue.length&&(st+=Ue.shift(),Ze.lineTo(it,st),Ue.length!==0);)it+=Ue.shift(),Ze.lineTo(it,st);break;case 8:for(;0<Ue.length;)z=it+Ue.shift(),Z=st+Ue.shift(),ie=z+Ue.shift(),oe=Z+Ue.shift(),it=ie+Ue.shift(),st=oe+Ue.shift(),Ze.curveTo(z,Z,ie,oe,it,st);break;case 10:yi=Ue.pop()+je,(js=Oe[yi])&&$t(js);break;case 11:return;case 12:switch(Pn=gr[Wr],Wr+=1,Pn){case 35:z=it+Ue.shift(),Z=st+Ue.shift(),ie=z+Ue.shift(),oe=Z+Ue.shift(),Xr=ie+Ue.shift(),en=oe+Ue.shift(),Hr=Xr+Ue.shift(),Ti=en+Ue.shift(),Kr=Hr+Ue.shift(),qn=Ti+Ue.shift(),it=Kr+Ue.shift(),st=qn+Ue.shift(),Ue.shift(),Ze.curveTo(z,Z,ie,oe,Xr,en),Ze.curveTo(Hr,Ti,Kr,qn,it,st);break;case 34:z=it+Ue.shift(),Z=st,ie=z+Ue.shift(),oe=Z+Ue.shift(),Xr=ie+Ue.shift(),en=oe,Hr=Xr+Ue.shift(),Ti=oe,Kr=Hr+Ue.shift(),qn=st,it=Kr+Ue.shift(),Ze.curveTo(z,Z,ie,oe,Xr,en),Ze.curveTo(Hr,Ti,Kr,qn,it,st);break;case 36:z=it+Ue.shift(),Z=st+Ue.shift(),ie=z+Ue.shift(),oe=Z+Ue.shift(),Xr=ie+Ue.shift(),en=oe,Hr=Xr+Ue.shift(),Ti=oe,Kr=Hr+Ue.shift(),qn=Ti+Ue.shift(),it=Kr+Ue.shift(),Ze.curveTo(z,Z,ie,oe,Xr,en),Ze.curveTo(Hr,Ti,Kr,qn,it,st);break;case 37:z=it+Ue.shift(),Z=st+Ue.shift(),ie=z+Ue.shift(),oe=Z+Ue.shift(),Xr=ie+Ue.shift(),en=oe+Ue.shift(),Hr=Xr+Ue.shift(),Ti=en+Ue.shift(),Kr=Hr+Ue.shift(),qn=Ti+Ue.shift(),Math.abs(Kr-it)>Math.abs(qn-st)?it=Kr+Ue.shift():st=qn+Ue.shift(),Ze.curveTo(z,Z,ie,oe,Xr,en),Ze.curveTo(Hr,Ti,Kr,qn,it,st);break;default:console.log("Glyph "+M.index+": unknown operator 1200"+Pn),Ue.length=0}break;case 14:0<Ue.length&&!lt&&(zt=Ue.shift()+tt,lt=!0),pt&&(Ze.closePath(),pt=!1);break;case 18:qt();break;case 19:case 20:qt(),Wr+=xt+7>>3;break;case 21:2<Ue.length&&!lt&&(zt=Ue.shift()+tt,lt=!0),st+=Ue.pop(),ur(it+=Ue.pop(),st);break;case 22:1<Ue.length&&!lt&&(zt=Ue.shift()+tt,lt=!0),ur(it+=Ue.pop(),st);break;case 23:qt();break;case 24:for(;2<Ue.length;)z=it+Ue.shift(),Z=st+Ue.shift(),ie=z+Ue.shift(),oe=Z+Ue.shift(),it=ie+Ue.shift(),st=oe+Ue.shift(),Ze.curveTo(z,Z,ie,oe,it,st);it+=Ue.shift(),st+=Ue.shift(),Ze.lineTo(it,st);break;case 25:for(;6<Ue.length;)it+=Ue.shift(),st+=Ue.shift(),Ze.lineTo(it,st);z=it+Ue.shift(),Z=st+Ue.shift(),ie=z+Ue.shift(),oe=Z+Ue.shift(),it=ie+Ue.shift(),st=oe+Ue.shift(),Ze.curveTo(z,Z,ie,oe,it,st);break;case 26:for(Ue.length%2&&(it+=Ue.shift());0<Ue.length;)z=it,Z=st+Ue.shift(),ie=z+Ue.shift(),oe=Z+Ue.shift(),it=ie,st=oe+Ue.shift(),Ze.curveTo(z,Z,ie,oe,it,st);break;case 27:for(Ue.length%2&&(st+=Ue.shift());0<Ue.length;)z=it+Ue.shift(),Z=st,ie=z+Ue.shift(),oe=Z+Ue.shift(),it=ie+Ue.shift(),st=oe,Ze.curveTo(z,Z,ie,oe,it,st);break;case 28:ln=gr[Wr],Tr=gr[Wr+1],Ue.push((ln<<24|Tr<<16)>>16),Wr+=2;break;case 29:yi=Ue.pop()+E.gsubrsBias,(js=E.gsubrs[yi])&&$t(js);break;case 30:for(;0<Ue.length&&(z=it,Z=st+Ue.shift(),ie=z+Ue.shift(),oe=Z+Ue.shift(),it=ie+Ue.shift(),st=oe+(Ue.length===1?Ue.shift():0),Ze.curveTo(z,Z,ie,oe,it,st),Ue.length!==0);)z=it+Ue.shift(),Z=st,ie=z+Ue.shift(),oe=Z+Ue.shift(),st=oe+Ue.shift(),it=ie+(Ue.length===1?Ue.shift():0),Ze.curveTo(z,Z,ie,oe,it,st);break;case 31:for(;0<Ue.length&&(z=it+Ue.shift(),Z=st,ie=z+Ue.shift(),oe=Z+Ue.shift(),st=oe+Ue.shift(),it=ie+(Ue.length===1?Ue.shift():0),Ze.curveTo(z,Z,ie,oe,it,st),Ue.length!==0);)z=it,Z=st+Ue.shift(),ie=z+Ue.shift(),oe=Z+Ue.shift(),it=ie+Ue.shift(),st=oe+(Ue.length===1?Ue.shift():0),Ze.curveTo(z,Z,ie,oe,it,st);break;default:Pn<32?console.log("Glyph "+M.index+": unknown operator "+Pn):Pn<247?Ue.push(Pn-139):Pn<251?(ln=gr[Wr],Wr+=1,Ue.push(256*(Pn-247)+ln+108)):Pn<255?(ln=gr[Wr],Wr+=1,Ue.push(256*-(Pn-251)-ln-108)):(ln=gr[Wr],Tr=gr[Wr+1],vn=gr[Wr+2],gi=gr[Wr+3],Wr+=4,Ue.push((ln<<24|Tr<<16|vn<<8|gi)/65536))}}}(F),M.advanceWidth=zt,Ze}function _e(E,M){var F,z=ge.indexOf(E);return 0<=z&&(F=z),0<=(z=M.indexOf(E))?F=z+ge.length:(F=ge.length+M.length,M.push(E)),F}function Pe(E,M,F){for(var z={},Z=0;Z<E.length;Z+=1){var ie=E[Z],oe=M[ie.name];oe===void 0||function ve(Oe,je){if(Oe===je)return 1;if(Array.isArray(Oe)&&Array.isArray(je)&&Oe.length===je.length){for(var Ye=0;Ye<Oe.length;Ye+=1)if(!ve(Oe[Ye],je[Ye]))return;return 1}}(oe,ie.value)||(ie.type==="SID"&&(oe=_e(oe,F)),z[ie.op]={name:ie.name,type:ie.type,value:oe})}return z}function Ae(E,M){var F=new Ke.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return F.dict=Pe(Fr,E,M),F}function Ie(E){var M=new Ke.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return M.topDicts=[{name:"topDict_0",type:"TABLE",value:E}],M}function De(E){for(var M=new Ke.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),F=0;F<E.length;F+=1){var z=E.get(F),Z=function(ie){for(var oe=[],ve=ie.path,Oe=(oe.push({name:"width",type:"NUMBER",value:ie.advanceWidth}),0),je=0,Ye=0;Ye<ve.commands.length;Ye+=1){var tt,Ze,Ue,xt,lt=void 0,pt=void 0,it=ve.commands[Ye];(it=it.type==="Q"?{type:"C",x:it.x,y:it.y,x1:1/3*Oe+2/3*it.x1,y1:1/3*je+2/3*it.y1,x2:1/3*it.x+2/3*it.x1,y2:1/3*it.y+2/3*it.y1}:it).type==="M"?(lt=Math.round(it.x-Oe),pt=Math.round(it.y-je),oe.push({name:"dx",type:"NUMBER",value:lt}),oe.push({name:"dy",type:"NUMBER",value:pt}),oe.push({name:"rmoveto",type:"OP",value:21}),Oe=Math.round(it.x),je=Math.round(it.y)):it.type==="L"?(lt=Math.round(it.x-Oe),pt=Math.round(it.y-je),oe.push({name:"dx",type:"NUMBER",value:lt}),oe.push({name:"dy",type:"NUMBER",value:pt}),oe.push({name:"rlineto",type:"OP",value:5}),Oe=Math.round(it.x),je=Math.round(it.y)):it.type==="C"&&(tt=Math.round(it.x1-Oe),Ze=Math.round(it.y1-je),Ue=Math.round(it.x2-it.x1),xt=Math.round(it.y2-it.y1),lt=Math.round(it.x-it.x2),pt=Math.round(it.y-it.y2),oe.push({name:"dx1",type:"NUMBER",value:tt}),oe.push({name:"dy1",type:"NUMBER",value:Ze}),oe.push({name:"dx2",type:"NUMBER",value:Ue}),oe.push({name:"dy2",type:"NUMBER",value:xt}),oe.push({name:"dx",type:"NUMBER",value:lt}),oe.push({name:"dy",type:"NUMBER",value:pt}),oe.push({name:"rrcurveto",type:"OP",value:8}),Oe=Math.round(it.x),je=Math.round(it.y))}return oe.push({name:"endchar",type:"OP",value:14}),oe}(z);M.charStrings.push({name:z.name,type:"CHARSTRING",value:Z})}return M}var Le={parse:function(E,M,F){F.tables.cff={},ve=E,z=M,(Z={}).formatMajor=Ge.getCard8(ve,z),Z.formatMinor=Ge.getCard8(ve,z+1),Z.size=Ge.getCard8(ve,z+2),Z.offsetSize=Ge.getCard8(ve,z+3),Z.startOffset=z,Z.endOffset=z+4;var ve=Wt(E,Z.endOffset,Ge.bytesToString),z=Wt(E,ve.endOffset),Z=Wt(E,z.endOffset,Ge.bytesToString),ve=Wt(E,Z.endOffset);if(F.gsubrs=ve.objects,F.gsubrsBias=Xt(F.gsubrs),(ve=xn(E,M,z.objects,Z.objects)).length!==1)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+ve.length);if(z=ve[0],(F.tables.cff.topDict=z)._privateDict&&(F.defaultWidthX=z._privateDict.defaultWidthX,F.nominalWidthX=z._privateDict.nominalWidthX),z.ros[0]!==void 0&&z.ros[1]!==void 0&&(F.isCIDFont=!0),F.isCIDFont){var ve=z.fdArray,ie=z.fdSelect;if(ve===0||ie===0)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");ve=xn(E,M,Wt(E,ve+=M).objects,Z.objects),z._fdArray=ve,z._fdSelect=function(Ze,Ue,xt,lt){var pt,it=[],st=new Ge.Parser(Ze,Ue);if((Ze=st.parseCard8())===0)for(var zt=0;zt<xt;zt++){if(lt<=(pt=st.parseCard8()))throw new Error("CFF table CID Font FDSelect has bad FD index value "+pt+" (FD count "+lt+")");it.push(pt)}else{if(Ze!==3)throw new Error("CFF Table CID Font FDSelect table has unsupported format "+Ze);var ur,qt=st.parseCard16(),$t=st.parseCard16();if($t!==0)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+$t);for(var gr=0;gr<qt;gr++){if(pt=st.parseCard8(),ur=st.parseCard16(),lt<=pt)throw new Error("CFF table CID Font FDSelect has bad FD index value "+pt+" (FD count "+lt+")");if(xt<ur)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+ur);for(;$t<ur;$t++)it.push(pt);$t=ur}if(ur!==xt)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+ur)}return it}(E,ie+=M,F.numGlyphs,ve.length)}var ie=M+z.private[1],ve=on(E,ie,z.private[0],Z.objects),oe=(F.defaultWidthX=ve.defaultWidthX,F.nominalWidthX=ve.nominalWidthX,ve.subrs!==0?(ie=Wt(E,ie+ve.subrs),F.subrs=ie.objects,F.subrsBias=Xt(F.subrs)):(F.subrs=[],F.subrsBias=0),Wt(E,M+z.charStrings)),ve=(F.nGlyphs=oe.objects.length,function(Ye,tt,Ze,Ue){var xt=new Ge.Parser(Ye,tt),lt=(--Ze,[".notdef"]);if((Ye=xt.parseCard8())===0)for(var pt=0;pt<Ze;pt+=1)it=xt.parseSID(),lt.push(Jr(Ue,it));else if(Ye===1)for(;lt.length<=Ze;)for(var it=xt.parseSID(),st=xt.parseCard8(),zt=0;zt<=st;zt+=1)lt.push(Jr(Ue,it)),it+=1;else{if(Ye!==2)throw new Error("Unknown charset format "+Ye);for(;lt.length<=Ze;){it=xt.parseSID(),st=xt.parseCard16();for(var ur=0;ur<=st;ur+=1)lt.push(Jr(Ue,it)),it+=1}}return lt}(E,M+z.charset,F.nGlyphs,Z.objects));z.encoding===0?F.cffEncoding=new Et(ce,ve):z.encoding===1?F.cffEncoding=new Et(we,ve):F.cffEncoding=function(Ye,tt,Ze){var Ue={},xt=new Ge.Parser(Ye,tt);if((Ye=xt.parseCard8())===0)for(var lt=xt.parseCard8(),pt=0;pt<lt;pt+=1)Ue[st=xt.parseCard8()]=pt;else{if(Ye!==1)throw new Error("Unknown encoding format "+Ye);for(var it=xt.parseCard8(),st=1,zt=0;zt<it;zt+=1)for(var ur=xt.parseCard8(),qt=xt.parseCard8(),$t=ur;$t<=ur+qt;$t+=1)Ue[$t]=st,st+=1}return new Et(Ue,Ze)}(E,M+z.encoding,ve),F.encoding=F.encoding||F.cffEncoding,F.glyphs=new Ft.GlyphSet(F);for(var Oe=0;Oe<F.nGlyphs;Oe+=1){var je=oe.objects[Oe];F.glyphs.push(Oe,Ft.cffGlyphLoader(F,Oe,jr,je))}},make:function(E,Ye){for(var F,z=new Ke.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),Z=1/Ye.unitsPerEm,Z={version:Ye.version,fullName:Ye.fullName,familyName:Ye.familyName,weight:Ye.weightName,fontBBox:Ye.fontBBox||[0,0,0,0],fontMatrix:[Z,0,0,Z,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},ie=[],oe=1;oe<E.length;oe+=1)F=E.get(oe),ie.push(F.name);var ve,Oe,je=[],Ye=(z.header=new Ke.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}]),z.nameIndex=function(Ze){var Ue=new Ke.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);Ue.names=[];for(var xt=0;xt<Ze.length;xt+=1)Ue.names.push({name:"name_"+xt,type:"NAME",value:Ze[xt]});return Ue}([Ye.postScriptName]),Ae(Z,je)),tt=(z.topDictIndex=Ie(Ye),z.globalSubrIndex=new Ke.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}]),z.charsets=function(Ze,Ue){for(var xt=new Ke.Record("Charsets",[{name:"format",type:"Card8",value:0}]),lt=0;lt<Ze.length;lt+=1){var pt=_e(Ze[lt],Ue);xt.fields.push({name:"glyph_"+lt,type:"SID",value:pt})}return xt}(ie,je),z.charStringsIndex=De(E),z.privateDict=(tt={},ve=je,(Oe=new Ke.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}])).dict=Pe(hr,tt,ve),Oe),z.stringIndex=function(Ze){var Ue=new Ke.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);Ue.strings=[];for(var xt=0;xt<Ze.length;xt+=1)Ue.strings.push({name:"string_"+xt,type:"STRING",value:Ze[xt]});return Ue}(je),z.header.sizeOf()+z.nameIndex.sizeOf()+z.topDictIndex.sizeOf()+z.stringIndex.sizeOf()+z.globalSubrIndex.sizeOf());return Z.charset=tt,Z.encoding=0,Z.charStrings=Z.charset+z.charsets.sizeOf(),Z.private[1]=Z.charStrings+z.charStringsIndex.sizeOf(),Ye=Ae(Z,je),z.topDictIndex=Ie(Ye),z}},ot={parse:function(z,M){var F={},z=new Ge.Parser(z,M);return F.version=z.parseVersion(),F.fontRevision=Math.round(1e3*z.parseFixed())/1e3,F.checkSumAdjustment=z.parseULong(),F.magicNumber=z.parseULong(),U.argument(F.magicNumber===1594834165,"Font header has wrong magic number."),F.flags=z.parseUShort(),F.unitsPerEm=z.parseUShort(),F.created=z.parseLongDateTime(),F.modified=z.parseLongDateTime(),F.xMin=z.parseShort(),F.yMin=z.parseShort(),F.xMax=z.parseShort(),F.yMax=z.parseShort(),F.macStyle=z.parseUShort(),F.lowestRecPPEM=z.parseUShort(),F.fontDirectionHint=z.parseShort(),F.indexToLocFormat=z.parseShort(),F.glyphDataFormat=z.parseShort(),F},make:function(E){var M=Math.round(new Date().getTime()/1e3)+2082844800,F=M;return E.createdTimestamp&&(F=E.createdTimestamp+2082844800),new Ke.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:F},{name:"modified",type:"LONGDATETIME",value:M},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],E)}},be={parse:function(z,M){var F={},z=new Ge.Parser(z,M);return F.version=z.parseVersion(),F.ascender=z.parseShort(),F.descender=z.parseShort(),F.lineGap=z.parseShort(),F.advanceWidthMax=z.parseUShort(),F.minLeftSideBearing=z.parseShort(),F.minRightSideBearing=z.parseShort(),F.xMaxExtent=z.parseShort(),F.caretSlopeRise=z.parseShort(),F.caretSlopeRun=z.parseShort(),F.caretOffset=z.parseShort(),z.relativeOffset+=8,F.metricDataFormat=z.parseShort(),F.numberOfHMetrics=z.parseUShort(),F},make:function(E){return new Ke.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],E)}},Fe={parse:function(E,M,F,z,Z){for(var ie,oe,ve=new Ge.Parser(E,M),Oe=0;Oe<z;Oe+=1){Oe<F&&(ie=ve.parseUShort(),oe=ve.parseShort());var je=Z.get(Oe);je.advanceWidth=ie,je.leftSideBearing=oe}},make:function(E){for(var M=new Ke.Table("hmtx",[]),F=0;F<E.length;F+=1){var Z=E.get(F),z=Z.advanceWidth||0,Z=Z.leftSideBearing||0;M.fields.push({name:"advanceWidth_"+F,type:"USHORT",value:z}),M.fields.push({name:"leftSideBearing_"+F,type:"SHORT",value:Z})}return M}},qe={make:function(E){for(var M=new Ke.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:E.length}]),F="",z=12+4*E.length,Z=0;Z<E.length;++Z){var ie=F.indexOf(E[Z]);ie<0&&(ie=F.length,F+=E[Z]),M.fields.push({name:"offset "+Z,type:"USHORT",value:z+ie}),M.fields.push({name:"length "+Z,type:"USHORT",value:E[Z].length})}return M.fields.push({name:"stringPool",type:"CHARARRAY",value:F}),M},parse:function(E,M){for(var F=new Ge.Parser(E,M),z=F.parseULong(),Z=(U.argument(z===1,"Unsupported ltag table version."),F.skip("uLong",1),F.parseULong()),ie=[],oe=0;oe<Z;oe++){for(var ve="",Oe=M+F.parseUShort(),je=F.parseUShort(),Ye=Oe;Ye<Oe+je;++Ye)ve+=String.fromCharCode(E.getInt8(Ye));ie.push(ve)}return ie}},Be={parse:function(z,M){var F={},z=new Ge.Parser(z,M);return F.version=z.parseVersion(),F.numGlyphs=z.parseUShort(),F.version===1&&(F.maxPoints=z.parseUShort(),F.maxContours=z.parseUShort(),F.maxCompositePoints=z.parseUShort(),F.maxCompositeContours=z.parseUShort(),F.maxZones=z.parseUShort(),F.maxTwilightPoints=z.parseUShort(),F.maxStorage=z.parseUShort(),F.maxFunctionDefs=z.parseUShort(),F.maxInstructionDefs=z.parseUShort(),F.maxStackElements=z.parseUShort(),F.maxSizeOfInstructions=z.parseUShort(),F.maxComponentElements=z.parseUShort(),F.maxComponentDepth=z.parseUShort()),F},make:function(E){return new Ke.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:E}])}},ft=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],Qe={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},At={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},nt={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"},mt="utf-16",vt={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},ir={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function Zt(E,M,F){switch(E){case 0:return mt;case 1:return ir[F]||vt[M];case 3:if(M===1||M===10)return mt}}function nr(E){var M,F={};for(M in E)F[E[M]]=parseInt(M);return F}function br(E,M,F,z,Z,ie){return new Ke.Record("NameRecord",[{name:"platformID",type:"USHORT",value:E},{name:"encodingID",type:"USHORT",value:M},{name:"languageID",type:"USHORT",value:F},{name:"nameID",type:"USHORT",value:z},{name:"length",type:"USHORT",value:Z},{name:"offset",type:"USHORT",value:ie}])}function Qn(E,M){if((F=function(ie,oe){var ve=ie.length,Oe=oe.length-ve+1;e:for(var je=0;je<Oe;je++)for(;je<Oe;je++){for(var Ye=0;Ye<ve;Ye++)if(oe[je+Ye]!==ie[Ye])continue e;return je}return-1}(E,M))<0)for(var F=M.length,z=0,Z=E.length;z<Z;++z)M.push(E[z]);return F}var wn={parse:function(E,M,F){for(var z={},Z=new Ge.Parser(E,M),M=Z.parseUShort(),ie=Z.parseUShort(),oe=Z.offset+Z.parseUShort(),ve=0;ve<ie;ve++){var xt=Z.parseUShort(),Oe=Z.parseUShort(),je=Z.parseUShort(),Ye=Z.parseUShort(),Ye=ft[Ye]||Ye,tt=Z.parseUShort(),Ze=Z.parseUShort(),Ue=function(pt,it,st){switch(pt){case 0:if(it===65535)return"und";if(st)return st[it];break;case 1:return Qe[it];case 3:return nt[it]}}(xt,je,F),xt=Zt(xt,Oe,je);xt!==void 0&&Ue!==void 0&&(Oe=void 0,(Oe=xt===mt?H.UTF16(E,oe+Ze,tt):H.MACSTRING(E,oe+Ze,tt,xt))&&((je=(je=z[Ye])===void 0?z[Ye]={}:je)[Ue]=Oe))}return M===1&&Z.parseUShort(),z},make:function(E,M){var F,z=[],Z={},ie=nr(ft);for(F in E){var oe=ie[F];if(oe===void 0&&(oe=F),Ze=parseInt(oe),isNaN(Ze))throw new Error('Name table entry "'+F+'" does not exist, see nameTableNames for complete list.');Z[Ze]=E[F],z.push(Ze)}for(var ve=nr(Qe),Oe=nr(nt),je=[],Ye=[],tt=0;tt<z.length;tt++){var Ze,Ue,xt=Z[Ze=z[tt]];for(Ue in xt){var lt=xt[Ue],ur=1,pt=ve[Ue],it=At[pt],st=Zt(ur,it,pt),st=X.MACSTRING(lt,st),zt=(st===void 0&&(ur=0,(pt=M.indexOf(Ue))<0&&(pt=M.length,M.push(Ue)),it=4,st=X.UTF16(lt)),Qn(st,Ye)),ur=(je.push(br(ur,it,pt,Ze,st.length,zt)),Oe[Ue]);ur!==void 0&&(pt=Qn(it=X.UTF16(lt),Ye),je.push(br(3,1,ur,Ze,it.length,pt)))}}je.sort(function(gr,ln){return gr.platformID-ln.platformID||gr.encodingID-ln.encodingID||gr.languageID-ln.languageID||gr.nameID-ln.nameID});for(var qt=new Ke.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:je.length},{name:"stringOffset",type:"USHORT",value:6+12*je.length}]),$t=0;$t<je.length;$t++)qt.fields.push({name:"record_"+$t,type:"RECORD",value:je[$t]});return qt.fields.push({name:"strings",type:"LITERAL",value:Ye}),qt}},jn=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}],mn={parse:function(E,M){var F={},z=new Ge.Parser(E,M);F.version=z.parseUShort(),F.xAvgCharWidth=z.parseShort(),F.usWeightClass=z.parseUShort(),F.usWidthClass=z.parseUShort(),F.fsType=z.parseUShort(),F.ySubscriptXSize=z.parseShort(),F.ySubscriptYSize=z.parseShort(),F.ySubscriptXOffset=z.parseShort(),F.ySubscriptYOffset=z.parseShort(),F.ySuperscriptXSize=z.parseShort(),F.ySuperscriptYSize=z.parseShort(),F.ySuperscriptXOffset=z.parseShort(),F.ySuperscriptYOffset=z.parseShort(),F.yStrikeoutSize=z.parseShort(),F.yStrikeoutPosition=z.parseShort(),F.sFamilyClass=z.parseShort(),F.panose=[];for(var Z=0;Z<10;Z++)F.panose[Z]=z.parseByte();return F.ulUnicodeRange1=z.parseULong(),F.ulUnicodeRange2=z.parseULong(),F.ulUnicodeRange3=z.parseULong(),F.ulUnicodeRange4=z.parseULong(),F.achVendID=String.fromCharCode(z.parseByte(),z.parseByte(),z.parseByte(),z.parseByte()),F.fsSelection=z.parseUShort(),F.usFirstCharIndex=z.parseUShort(),F.usLastCharIndex=z.parseUShort(),F.sTypoAscender=z.parseShort(),F.sTypoDescender=z.parseShort(),F.sTypoLineGap=z.parseShort(),F.usWinAscent=z.parseUShort(),F.usWinDescent=z.parseUShort(),1<=F.version&&(F.ulCodePageRange1=z.parseULong(),F.ulCodePageRange2=z.parseULong()),2<=F.version&&(F.sxHeight=z.parseShort(),F.sCapHeight=z.parseShort(),F.usDefaultChar=z.parseUShort(),F.usBreakChar=z.parseUShort(),F.usMaxContent=z.parseUShort()),F},make:function(E){return new Ke.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],E)},unicodeRanges:jn,getUnicodeRange:function(E){for(var M=0;M<jn.length;M+=1){var F=jn[M];if(E>=F.begin&&E<F.end)return M}return-1}},Hn={parse:function(E,M){var F={},z=new Ge.Parser(E,M);switch(F.version=z.parseVersion(),F.italicAngle=z.parseFixed(),F.underlinePosition=z.parseShort(),F.underlineThickness=z.parseShort(),F.isFixedPitch=z.parseULong(),F.minMemType42=z.parseULong(),F.maxMemType42=z.parseULong(),F.minMemType1=z.parseULong(),F.maxMemType1=z.parseULong(),F.version){case 1:F.names=He.slice();break;case 2:F.numberOfGlyphs=z.parseUShort(),F.glyphNameIndex=new Array(F.numberOfGlyphs);for(var Z=0;Z<F.numberOfGlyphs;Z++)F.glyphNameIndex[Z]=z.parseUShort();F.names=[];for(var ie,oe=0;oe<F.numberOfGlyphs;oe++)F.glyphNameIndex[oe]>=He.length&&(ie=z.parseChar(),F.names.push(z.parseString(ie)));break;case 2.5:F.numberOfGlyphs=z.parseUShort(),F.offset=new Array(F.numberOfGlyphs);for(var ve=0;ve<F.numberOfGlyphs;ve++)F.offset[ve]=z.parseChar()}return F},make:function(){return new Ke.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}},Zn=new Array(9),mi=(Zn[1]=function(){var E=this.offset+this.relativeOffset,M=this.parseUShort();return M===1?{substFormat:1,coverage:this.parsePointer($e.coverage),deltaGlyphId:this.parseUShort()}:M===2?{substFormat:2,coverage:this.parsePointer($e.coverage),substitute:this.parseOffset16List()}:void U.assert(!1,"0x"+E.toString(16)+": lookup type 1 format must be 1 or 2.")},Zn[2]=function(){var E=this.parseUShort();return U.argument(E===1,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:E,coverage:this.parsePointer($e.coverage),sequences:this.parseListOfLists()}},Zn[3]=function(){var E=this.parseUShort();return U.argument(E===1,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:E,coverage:this.parsePointer($e.coverage),alternateSets:this.parseListOfLists()}},Zn[4]=function(){var E=this.parseUShort();return U.argument(E===1,"GSUB ligature table identifier-format must be 1"),{substFormat:E,coverage:this.parsePointer($e.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}},{sequenceIndex:$e.uShort,lookupListIndex:$e.uShort});Zn[5]=function(){var E,M,F=this.offset+this.relativeOffset,z=this.parseUShort();return z===1?{substFormat:z,coverage:this.parsePointer($e.coverage),ruleSets:this.parseListOfLists(function(){var Z=this.parseUShort(),ie=this.parseUShort();return{input:this.parseUShortList(Z-1),lookupRecords:this.parseRecordList(ie,mi)}})}:z===2?{substFormat:z,coverage:this.parsePointer($e.coverage),classDef:this.parsePointer($e.classDef),classSets:this.parseListOfLists(function(){var Z=this.parseUShort(),ie=this.parseUShort();return{classes:this.parseUShortList(Z-1),lookupRecords:this.parseRecordList(ie,mi)}})}:z===3?(E=this.parseUShort(),M=this.parseUShort(),{substFormat:z,coverages:this.parseList(E,$e.pointer($e.coverage)),lookupRecords:this.parseRecordList(M,mi)}):void U.assert(!1,"0x"+F.toString(16)+": lookup type 5 format must be 1, 2 or 3.")},Zn[6]=function(){var E=this.offset+this.relativeOffset,M=this.parseUShort();return M===1?{substFormat:1,coverage:this.parsePointer($e.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(mi)}})}:M===2?{substFormat:2,coverage:this.parsePointer($e.coverage),backtrackClassDef:this.parsePointer($e.classDef),inputClassDef:this.parsePointer($e.classDef),lookaheadClassDef:this.parsePointer($e.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(mi)}})}:M===3?{substFormat:3,backtrackCoverage:this.parseList($e.pointer($e.coverage)),inputCoverage:this.parseList($e.pointer($e.coverage)),lookaheadCoverage:this.parseList($e.pointer($e.coverage)),lookupRecords:this.parseRecordList(mi)}:void U.assert(!1,"0x"+E.toString(16)+": lookup type 6 format must be 1, 2 or 3.")},Zn[7]=function(){var E=this.parseUShort(),E=(U.argument(E===1,"GSUB Extension Substitution subtable identifier-format must be 1"),this.parseUShort()),M=new $e(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:E,extension:Zn[E].call(M)}},Zn[8]=function(){var E=this.parseUShort();return U.argument(E===1,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:E,coverage:this.parsePointer($e.coverage),backtrackCoverage:this.parseList($e.pointer($e.coverage)),lookaheadCoverage:this.parseList($e.pointer($e.coverage)),substitutes:this.parseUShortList()}};var Jn=new Array(9);Jn[1]=function(E){return E.substFormat===1?new Ke.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Ke.Coverage(E.coverage)},{name:"deltaGlyphID",type:"USHORT",value:E.deltaGlyphId}]):new Ke.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new Ke.Coverage(E.coverage)}].concat(Ke.ushortList("substitute",E.substitute)))},Jn[3]=function(E){return U.assert(E.substFormat===1,"Lookup type 3 substFormat must be 1."),new Ke.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Ke.Coverage(E.coverage)}].concat(Ke.tableList("altSet",E.alternateSets,function(M){return new Ke.Table("alternateSetTable",Ke.ushortList("alternate",M))})))},Jn[4]=function(E){return U.assert(E.substFormat===1,"Lookup type 4 substFormat must be 1."),new Ke.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Ke.Coverage(E.coverage)}].concat(Ke.tableList("ligSet",E.ligatureSets,function(M){return new Ke.Table("ligatureSetTable",Ke.tableList("ligature",M,function(F){return new Ke.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:F.ligGlyph}].concat(Ke.ushortList("component",F.components,F.components.length+1)))}))})))};var Ic={parse:function(E,M){return M=(E=new $e(E,M=M||0)).parseVersion(1),U.argument(M===1||M===1.1,"Unsupported GSUB table version."),M===1?{version:M,scripts:E.parseScriptList(),features:E.parseFeatureList(),lookups:E.parseLookupList(Zn)}:{version:M,scripts:E.parseScriptList(),features:E.parseFeatureList(),lookups:E.parseLookupList(Zn),variations:E.parseFeatureVariationsList()}},make:function(E){return new Ke.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Ke.ScriptList(E.scripts)},{name:"features",type:"TABLE",value:new Ke.FeatureList(E.features)},{name:"lookups",type:"TABLE",value:new Ke.LookupList(E.lookups,Jn)}])}},Ku={parse:function(E,M){for(var F=new Ge.Parser(E,M),z=F.parseULong(),Z=(U.argument(z===1,"Unsupported META table version."),F.parseULong(),F.parseULong(),F.parseULong()),ie={},oe=0;oe<Z;oe++){var ve=F.parseTag(),je=F.parseULong(),Oe=F.parseULong(),je=H.UTF8(E,M+je,Oe);ie[ve]=je}return ie},make:function(E){var M,F=Object.keys(E).length,z="",Z=16+12*F,ie=new Ke.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:Z},{name:"numTags",type:"ULONG",value:F}]);for(M in E){var oe=z.length;z+=E[M],ie.fields.push({name:"tag "+M,type:"TAG",value:M}),ie.fields.push({name:"offset "+M,type:"ULONG",value:Z+oe}),ie.fields.push({name:"length "+M,type:"ULONG",value:E[M].length})}return ie.fields.push({name:"stringPool",type:"CHARARRAY",value:z}),ie}};function ro(E){return Math.log(E)/Math.log(2)|0}function Io(E){for(;E.length%4!=0;)E.push(0);for(var M=0,F=0;F<E.length;F+=4)M+=(E[F]<<24)+(E[F+1]<<16)+(E[F+2]<<8)+E[F+3];return M%=Math.pow(2,32)}function ko(E,M,F,z){return new Ke.Record("Table Record",[{name:"tag",type:"TAG",value:E!==void 0?E:""},{name:"checkSum",type:"ULONG",value:M!==void 0?M:0},{name:"offset",type:"ULONG",value:F!==void 0?F:0},{name:"length",type:"ULONG",value:z!==void 0?z:0}])}function oa(E){for(var M=new Ke.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),F=(M.tables=E,M.numTables=E.length,Math.pow(2,ro(M.numTables))),z=(M.searchRange=16*F,M.entrySelector=ro(F),M.rangeShift=16*M.numTables-M.searchRange,[]),Z=[],ie=M.sizeOf()+ko().sizeOf()*M.numTables;ie%4!=0;)ie+=1,Z.push({name:"padding",type:"BYTE",value:0});for(var oe=0;oe<E.length;oe+=1){var ve=E[oe],Oe=(U.argument(ve.tableName.length===4,"Table name"+ve.tableName+" is invalid."),ve.sizeOf()),je=ko(ve.tableName,Io(ve.encode()),ie,Oe);for(z.push({name:je.tag+" Table Record",type:"RECORD",value:je}),Z.push({name:ve.tableName+" table",type:"RECORD",value:ve}),ie+=Oe,U.argument(!isNaN(ie),"Something went wrong calculating the offset.");ie%4!=0;)ie+=1,Z.push({name:"padding",type:"BYTE",value:0})}return z.sort(function(Ye,tt){return Ye.value.tag>tt.value.tag?1:-1}),M.fields=M.fields.concat(z),M.fields=M.fields.concat(Z),M}function Sn(E,M,F){for(var z=0;z<M.length;z+=1){var Z=E.charToGlyphIndex(M[z]);if(0<Z)return E.glyphs.get(Z).getMetrics()}return F}var no={make:oa,fontToTable:function(E){for(var M,F=[],z=[],Z=[],ie=[],oe=[],ve=[],Oe=[],je=0,Ye=0,tt=0,Ze=0,Ue=0,xt=0;xt<E.glyphs.length;xt+=1){var lt=E.glyphs.get(xt),pt=0|lt.unicode;if(isNaN(lt.advanceWidth))throw new Error("Glyph "+lt.name+" ("+xt+"): advanceWidth is not a number.");(pt<M||M===void 0)&&0<pt&&(M=pt),je<pt&&(je=pt);var pt=mn.getUnicodeRange(pt);if(pt<32)Ye|=1<<pt;else if(pt<64)tt|=1<<pt-32;else if(pt<96)Ze|=1<<pt-64;else{if(!(pt<123))throw new Error("Unicode ranges bits > 123 are reserved for internal usage");Ue|=1<<pt-96}lt.name!==".notdef"&&(pt=lt.getMetrics(),F.push(pt.xMin),z.push(pt.yMin),Z.push(pt.xMax),ie.push(pt.yMax),ve.push(pt.leftSideBearing),Oe.push(pt.rightSideBearing),oe.push(lt.advanceWidth))}var it,st={xMin:Math.min.apply(null,F),yMin:Math.min.apply(null,z),xMax:Math.max.apply(null,Z),yMax:Math.max.apply(null,ie),advanceWidthMax:Math.max.apply(null,oe),advanceWidthAvg:function(Pn){for(var Fl=0,Rs=0;Rs<Pn.length;Rs+=1)Fl+=Pn[Rs];return Fl/Pn.length}(oe),minLeftSideBearing:Math.min.apply(null,ve),maxLeftSideBearing:Math.max.apply(null,ve),minRightSideBearing:Math.min.apply(null,Oe)},zt=(st.ascender=E.ascender,st.descender=E.descender,ot.make({flags:3,unitsPerEm:E.unitsPerEm,xMin:st.xMin,yMin:st.yMin,xMax:st.xMax,yMax:st.yMax,lowestRecPPEM:3,createdTimestamp:E.createdTimestamp})),ur=be.make({ascender:st.ascender,descender:st.descender,advanceWidthMax:st.advanceWidthMax,minLeftSideBearing:st.minLeftSideBearing,minRightSideBearing:st.minRightSideBearing,xMaxExtent:st.maxLeftSideBearing+(st.xMax-st.xMin),numberOfHMetrics:E.glyphs.length}),qt=Be.make(E.glyphs.length),$t=mn.make({xAvgCharWidth:Math.round(st.advanceWidthAvg),usWeightClass:E.tables.os2.usWeightClass,usWidthClass:E.tables.os2.usWidthClass,usFirstCharIndex:M,usLastCharIndex:je,ulUnicodeRange1:Ye,ulUnicodeRange2:tt,ulUnicodeRange3:Ze,ulUnicodeRange4:Ue,fsSelection:E.tables.os2.fsSelection,sTypoAscender:st.ascender,sTypoDescender:st.descender,sTypoLineGap:0,usWinAscent:st.yMax,usWinDescent:Math.abs(st.yMin),ulCodePageRange1:1,sxHeight:Sn(E,"xyvw",{yMax:Math.round(st.ascender/2)}).yMax,sCapHeight:Sn(E,"HIKLEFJMNTZBDPRAGOQSUVWXY",st).yMax,usDefaultChar:E.hasChar(" ")?32:0,usBreakChar:E.hasChar(" ")?32:0}),gr=Fe.make(E.glyphs),ln=de.make(E.glyphs),en=E.getEnglishName("fontFamily"),Hr=E.getEnglishName("fontSubfamily"),Xr=en+" "+Hr,Tr=(Tr=E.getEnglishName("postScriptName"))||en.replace(/\s/g,"")+"-"+Hr,vn={};for(it in E.names)vn[it]=E.names[it];vn.uniqueID||(vn.uniqueID={en:E.getEnglishName("manufacturer")+":"+Xr}),vn.postScriptName||(vn.postScriptName={en:Tr}),vn.preferredFamily||(vn.preferredFamily=E.names.fontFamily),vn.preferredSubfamily||(vn.preferredSubfamily=E.names.fontSubfamily);var yi=[],gi=wn.make(vn,yi),yi=0<yi.length?qe.make(yi):void 0,js=Hn.make(),Xr=Le.make(E.glyphs,{version:E.getEnglishName("version"),fullName:Xr,familyName:en,weightName:Hr,postScriptName:Tr,unitsPerEm:E.unitsPerEm,fontBBox:[0,st.yMin,st.ascender,st.advanceWidthMax]}),en=E.metas&&0<Object.keys(E.metas).length?Ku.make(E.metas):void 0,Hr=[zt,ur,qt,$t,gi,ln,js,Xr,gr];yi&&Hr.push(yi),E.tables.gsub&&Hr.push(Ic.make(E.tables.gsub)),en&&Hr.push(en);for(var Ti=Io((Tr=oa(Hr)).encode()),Kr=Tr.fields,qn=!1,Wr=0;Wr<Kr.length;Wr+=1)if(Kr[Wr].name==="head table"){Kr[Wr].value.checkSumAdjustment=2981146554-Ti,qn=!0;break}if(qn)return Tr;throw new Error("Could not find head table with checkSum to adjust.")},computeCheckSum:Io};function Ma(E,M){for(var F=0,z=E.length-1;F<=z;){var Z=F+z>>>1,ie=E[Z].tag;if(ie===M)return Z;ie<M?F=1+Z:z=Z-1}return-F-1}function Mo(E,M){for(var F=0,z=E.length-1;F<=z;){var Z=F+z>>>1,ie=E[Z];if(ie===M)return Z;ie<M?F=1+Z:z=Z-1}return-F-1}function Rr(E,M){for(var F=0,z=E.length-1;F<=z;){var Z,ie=F+z>>>1,oe=(Z=E[ie]).start;if(oe===M)return Z;oe<M?F=1+ie:z=ie-1}if(0<F)return M>(Z=E[F-1]).end?0:Z}function la(E,M){this.font=E,this.tableName=M}function Vs(E){la.call(this,E,"gpos")}function In(E){la.call(this,E,"gsub")}function Qu(E,M,F){for(var z=E.subtables,Z=0;Z<z.length;Z++){var ie=z[Z];if(ie.substFormat===M)return ie}if(F)return z.push(F),F}function Pl(E){for(var M=new ArrayBuffer(E.length),F=new Uint8Array(M),z=0;z<E.length;++z)F[z]=E[z];return M}function Pa(E,M){if(!E)throw M}function Dl(E,M,F,z,Z){var ie=0<(M&z)?(ie=E.parseByte(),F+(ie=M&Z?ie:-ie)):0<(M&Z)?F:F+E.parseShort();return ie}function Id(E,M,F){var z,Z=new Ge.Parser(M,F);if(E.numberOfContours=Z.parseShort(),E._xMin=Z.parseShort(),E._yMin=Z.parseShort(),E._xMax=Z.parseShort(),E._yMax=Z.parseShort(),0<E.numberOfContours){for(var ie=E.endPointIndices=[],oe=0;oe<E.numberOfContours;oe+=1)ie.push(Z.parseUShort());E.instructionLength=Z.parseUShort(),E.instructions=[];for(var ve=0;ve<E.instructionLength;ve+=1)E.instructions.push(Z.parseByte());for(var Oe=ie[ie.length-1]+1,je=[],Ye=0;Ye<Oe;Ye+=1)if(z=Z.parseByte(),je.push(z),0<(8&z))for(var tt=Z.parseByte(),Ze=0;Ze<tt;Ze+=1)je.push(z),Ye+=1;if(U.argument(je.length===Oe,"Bad flags."),0<ie.length){var Ue,xt=[];if(0<Oe){for(var lt=0;lt<Oe;lt+=1)z=je[lt],(Ue={}).onCurve=!!(1&z),Ue.lastPointOfContour=0<=ie.indexOf(lt),xt.push(Ue);for(var pt=0,it=0;it<Oe;it+=1)z=je[it],(Ue=xt[it]).x=Dl(Z,z,pt,2,16),pt=Ue.x;for(var st=0,zt=0;zt<Oe;zt+=1)z=je[zt],(Ue=xt[zt]).y=Dl(Z,z,st,4,32),st=Ue.y}E.points=xt}else E.points=[]}else if(E.numberOfContours===0)E.points=[];else{E.isComposite=!0,E.points=[],E.components=[];for(var ur=!0;ur;){je=Z.parseUShort();var qt={glyphIndex:Z.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};0<(1&je)?0<(2&je)?(qt.dx=Z.parseShort(),qt.dy=Z.parseShort()):qt.matchedPoints=[Z.parseUShort(),Z.parseUShort()]:0<(2&je)?(qt.dx=Z.parseChar(),qt.dy=Z.parseChar()):qt.matchedPoints=[Z.parseByte(),Z.parseByte()],0<(8&je)?qt.xScale=qt.yScale=Z.parseF2Dot14():0<(64&je)?(qt.xScale=Z.parseF2Dot14(),qt.yScale=Z.parseF2Dot14()):0<(128&je)&&(qt.xScale=Z.parseF2Dot14(),qt.scale01=Z.parseF2Dot14(),qt.scale10=Z.parseF2Dot14(),qt.yScale=Z.parseF2Dot14()),E.components.push(qt),ur=!!(32&je)}if(256&je){E.instructionLength=Z.parseUShort(),E.instructions=[];for(var $t=0;$t<E.instructionLength;$t+=1)E.instructions.push(Z.parseByte())}}}function kc(E,M){for(var F=[],z=0;z<E.length;z+=1){var Z=E[z],Z={x:M.xScale*Z.x+M.scale01*Z.y+M.dx,y:M.scale10*Z.x+M.yScale*Z.y+M.dy,onCurve:Z.onCurve,lastPointOfContour:Z.lastPointOfContour};F.push(Z)}return F}function Gs(E){var M=new ne;if(E)for(var F=function(tt){for(var Ze=[],Ue=[],xt=0;xt<tt.length;xt+=1){var lt=tt[xt];Ue.push(lt),lt.lastPointOfContour&&(Ze.push(Ue),Ue=[])}return U.argument(Ue.length===0,"There are still points left in the current contour."),Ze}(E),z=0;z<F.length;++z){var Z,ie=F[z],oe=ie[ie.length-1],ve=ie[0];oe.onCurve?M.moveTo(oe.x,oe.y):ve.onCurve?M.moveTo(ve.x,ve.y):(Z={x:.5*(oe.x+ve.x),y:.5*(oe.y+ve.y)},M.moveTo(Z.x,Z.y));for(var Oe=0;Oe<ie.length;++Oe){var je,Ye=oe,oe=ve,ve=ie[(Oe+1)%ie.length];oe.onCurve?M.lineTo(oe.x,oe.y):(je=ve,Ye.onCurve||(oe.x,Ye.x,oe.y,Ye.y),ve.onCurve||(je={x:.5*(oe.x+ve.x),y:.5*(oe.y+ve.y)}),M.quadraticCurveTo(oe.x,oe.y,je.x,je.y))}M.closePath()}return M}function Es(E,M){if(M.isComposite)for(var F=0;F<M.components.length;F+=1){var z=M.components[F],Z=E.get(z.glyphIndex);if(Z.getPath(),Z.points){var ie=void 0;if(z.matchedPoints===void 0)ie=kc(Z.points,z);else{if(z.matchedPoints[0]>M.points.length-1||z.matchedPoints[1]>Z.points.length-1)throw Error("Matched points out of range in "+M.name);var oe=M.points[z.matchedPoints[0]],ve=Z.points[z.matchedPoints[1]],z={xScale:z.xScale,scale01:z.scale01,scale10:z.scale10,yScale:z.yScale,dx:0,dy:0},ve=kc([ve],z)[0];z.dx=oe.x-ve.x,z.dy=oe.y-ve.y,ie=kc(Z.points,z)}M.points=M.points.concat(ie)}}return Gs(M.points)}(Vs.prototype=la.prototype={searchTag:Ma,binSearch:Mo,getTable:function(E){var M=this.font.tables[this.tableName];return M=!M&&E?this.font.tables[this.tableName]=this.createDefaultTable():M},getScriptNames:function(){var E=this.getTable();return E?E.scripts.map(function(M){return M.tag}):[]},getDefaultScriptName:function(){var E=this.getTable();if(E){for(var M=!1,F=0;F<E.scripts.length;F++){var z=E.scripts[F].tag;if(z==="DFLT")return z;z==="latn"&&(M=!0)}return M?"latn":void 0}},getScriptTable:function(E,M){var F,z=this.getTable(M);if(z)return F=z.scripts,0<=(z=Ma(z.scripts,E=E||"DFLT"))?F[z].script:M?(F.splice(-1-z,0,M={tag:E,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}),M.script):void 0},getLangSysTable:function(Z,M,F){var z,Z=this.getScriptTable(Z,F);if(Z)return M&&M!=="dflt"&&M!=="DFLT"?0<=(z=Ma(Z.langSysRecords,M))?Z.langSysRecords[z].langSys:F?(Z.langSysRecords.splice(-1-z,0,F={tag:M,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}}),F.langSys):void 0:Z.defaultLangSys},getFeatureTable:function(E,M,F,z){if(E=this.getLangSysTable(E,M,z),E){for(var Z,ie=E.featureIndexes,oe=this.font.tables[this.tableName].features,ve=0;ve<ie.length;ve++)if((Z=oe[ie[ve]]).tag===F)return Z.feature;if(z)return M=oe.length,U.assert(M===0||F>=oe[M-1].tag,"Features must be added in alphabetical order."),oe.push(Z={tag:F,feature:{params:0,lookupListIndexes:[]}}),ie.push(M),Z.feature}},getLookupTables:function(ie,M,F,z,Z){var ie=this.getFeatureTable(ie,M,F,Z),oe=[];if(ie){for(var ve,Oe=ie.lookupListIndexes,je=this.font.tables[this.tableName].lookups,Ye=0;Ye<Oe.length;Ye++)(ve=je[Oe[Ye]]).lookupType===z&&oe.push(ve);if(oe.length===0&&Z)return M=je.length,je.push(ve={lookupType:z,lookupFlag:0,subtables:[],markFilteringSet:void 0}),Oe.push(M),[ve]}return oe},getGlyphClass:function(E,M){switch(E.format){case 1:return E.startGlyph<=M&&M<E.startGlyph+E.classes.length?E.classes[M-E.startGlyph]:0;case 2:var F=Rr(E.ranges,M);return F?F.classId:0}},getCoverageIndex:function(E,M){switch(E.format){case 1:var F=Mo(E.glyphs,M);return 0<=F?F:-1;case 2:return F=Rr(E.ranges,M),F?F.index+M-F.start:-1}},expandCoverage:function(E){if(E.format===1)return E.glyphs;for(var M=[],F=E.ranges,z=0;z<F.length;z++)for(var Z=F[z],ie=Z.start,oe=Z.end,ve=ie;ve<=oe;ve++)M.push(ve);return M}}).init=function(){var E=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(E)},Vs.prototype.getKerningValue=function(E,M,F){for(var z=0;z<E.length;z++)for(var Z=E[z].subtables,ie=0;ie<Z.length;ie++){var oe=Z[ie],ve=this.getCoverageIndex(oe.coverage,M);if(!(ve<0))switch(oe.posFormat){case 1:for(var Oe=oe.pairSets[ve],je=0;je<Oe.length;je++){var Ye=Oe[je];if(Ye.secondGlyph===F)return Ye.value1&&Ye.value1.xAdvance||0}break;case 2:var Ze=this.getGlyphClass(oe.classDef1,M),tt=this.getGlyphClass(oe.classDef2,F),Ze=oe.classRecords[Ze][tt];return Ze.value1&&Ze.value1.xAdvance||0}}return 0},Vs.prototype.getKerningTables=function(E,M){if(this.font.tables.gpos)return this.getLookupTables(E,M,"kern",2)},(In.prototype=la.prototype).createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}},In.prototype.getSingle=function(E,M,F){for(var z=[],Z=this.getLookupTables(M,F,E,1),ie=0;ie<Z.length;ie++)for(var oe=Z[ie].subtables,ve=0;ve<oe.length;ve++){var Oe=oe[ve],je=this.expandCoverage(Oe.coverage),Ye=void 0;if(Oe.substFormat===1)for(var tt=Oe.deltaGlyphId,Ye=0;Ye<je.length;Ye++){var Ze=je[Ye];z.push({sub:Ze,by:Ze+tt})}else{var Ue=Oe.substitute;for(Ye=0;Ye<je.length;Ye++)z.push({sub:je[Ye],by:Ue[Ye]})}}return z},In.prototype.getAlternates=function(E,M,F){for(var z=[],Z=this.getLookupTables(M,F,E,3),ie=0;ie<Z.length;ie++)for(var oe=Z[ie].subtables,ve=0;ve<oe.length;ve++)for(var Oe=oe[ve],je=this.expandCoverage(Oe.coverage),Ye=Oe.alternateSets,tt=0;tt<je.length;tt++)z.push({sub:je[tt],by:Ye[tt]});return z},In.prototype.getLigatures=function(E,M,F){for(var z=[],Z=this.getLookupTables(M,F,E,4),ie=0;ie<Z.length;ie++)for(var oe=Z[ie].subtables,ve=0;ve<oe.length;ve++)for(var Oe=oe[ve],je=this.expandCoverage(Oe.coverage),Ye=Oe.ligatureSets,tt=0;tt<je.length;tt++)for(var Ze=je[tt],Ue=Ye[tt],xt=0;xt<Ue.length;xt++){var lt=Ue[xt];z.push({sub:[Ze].concat(lt.components),by:lt.ligGlyph})}return z},In.prototype.addSingle=function(E,M,F,z){F=Qu(this.getLookupTables(F,z,E,1,!0)[0],2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]}),U.assert(F.coverage.format===1,"Ligature: unable to modify coverage table format "+F.coverage.format),z=M.sub,E=this.binSearch(F.coverage.glyphs,z),E<0&&(F.coverage.glyphs.splice(E=-1-E,0,z),F.substitute.splice(E,0,0)),F.substitute[E]=M.by},In.prototype.addAlternate=function(E,M,F,z){F=Qu(this.getLookupTables(F,z,E,3,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]}),U.assert(F.coverage.format===1,"Ligature: unable to modify coverage table format "+F.coverage.format),z=M.sub,E=this.binSearch(F.coverage.glyphs,z),E<0&&(F.coverage.glyphs.splice(E=-1-E,0,z),F.alternateSets.splice(E,0,0)),F.alternateSets[E]=M.by},In.prototype.addLigature=function(ie,Oe,ve,Z){var ve=this.getLookupTables(ve,Z,ie,4,!0)[0],Z=ve.subtables[0],ie=(Z||(ve.subtables[0]=Z={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]}),U.assert(Z.coverage.format===1,"Ligature: unable to modify coverage table format "+Z.coverage.format),Oe.sub[0]),oe=Oe.sub.slice(1),ve={ligGlyph:Oe.by,components:oe},Oe=this.binSearch(Z.coverage.glyphs,ie);if(0<=Oe){for(var je=Z.ligatureSets[Oe],Ye=0;Ye<je.length;Ye++)if(function(tt,Ze){var Ue=tt.length;if(Ue===Ze.length){for(var xt=0;xt<Ue;xt++)if(tt[xt]!==Ze[xt])return;return 1}}(je[Ye].components,oe))return;je.push(ve)}else Z.coverage.glyphs.splice(Oe=-1-Oe,0,ie),Z.ligatureSets.splice(Oe,0,[ve])},In.prototype.getFeature=function(E,M,F){if(/ss\d\d/.test(E))return this.getSingle(E,M,F);switch(E){case"aalt":case"salt":return this.getSingle(E,M,F).concat(this.getAlternates(E,M,F));case"dlig":case"liga":case"rlig":return this.getLigatures(E,M,F)}},In.prototype.add=function(E,M,F,z){if(/ss\d\d/.test(E))return this.addSingle(E,M,F,z);switch(E){case"aalt":case"salt":return typeof M.by=="number"?this.addSingle(E,M,F,z):this.addAlternate(E,M,F,z);case"dlig":case"liga":case"rlig":return this.addLigature(E,M,F,z)}};var Po={getPath:Gs,parse:function(E,M,F,z){for(var Z=new Ft.GlyphSet(z),ie=0;ie<F.length-1;ie+=1){var oe=F[ie];oe!==F[ie+1]?Z.push(ie,Ft.ttfGlyphLoader(z,ie,Id,E,M+oe,Es)):Z.push(ie,Ft.glyphLoader(z,ie))}return Z}};function ca(E){this.font=E,this.getCommands=function(M){return Po.getPath(M).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function Da(E){return E}function ua(E){return Math.sign(E)*Math.round(Math.abs(E))}function Mc(E){return Math.sign(E)*Math.round(Math.abs(2*E))/2}function Zu(E){return Math.sign(E)*(Math.round(Math.abs(E)+.5)-.5)}function Do(E){return Math.sign(E)*Math.ceil(Math.abs(E))}function Cs(E){return Math.sign(E)*Math.floor(Math.abs(E))}function io(E){var M=this.srPeriod,F=this.srPhase,z=1;return E<0&&(E=-E,z=-1),E+=this.srThreshold-F,E=Math.trunc(E/M)*M,(E+=F)<0?F*z:E*z}var Wn={x:1,y:0,axis:"x",distance:function(E,M,F,z){return(F?E.xo:E.x)-(z?M.xo:M.x)},interpolate:function(E,M,F,z){var Z,ie,oe,ve,Oe,je,Ye;if(!z||z===this)return Z=E.xo-M.xo,ie=E.xo-F.xo,Oe=M.x-M.xo,je=F.x-F.xo,(Ye=(oe=Math.abs(Z))+(ve=Math.abs(ie)))===0?void(E.x=E.xo+(Oe+je)/2):void(E.x=E.xo+(Oe*ve+je*oe)/Ye);Z=z.distance(E,M,!0,!0),ie=z.distance(E,F,!0,!0),Oe=z.distance(M,M,!1,!0),je=z.distance(F,F,!1,!0),(Ye=(oe=Math.abs(Z))+(ve=Math.abs(ie)))===0?Wn.setRelative(E,E,(Oe+je)/2,z,!0):Wn.setRelative(E,E,(Oe*ve+je*oe)/Ye,z,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(E,M,F,z,Z){var ie,oe;z&&z!==this?(ie=Z?M.xo:M.x,oe=Z?M.yo:M.y,ie+=F*z.x,oe+=F*z.y,E.x=ie+(E.y-oe)/z.normalSlope):E.x=(Z?M.xo:M.x)+F},slope:0,touch:function(E){E.xTouched=!0},touched:function(E){return E.xTouched},untouch:function(E){E.xTouched=!1}},Si={x:0,y:1,axis:"y",distance:function(E,M,F,z){return(F?E.yo:E.y)-(z?M.yo:M.y)},interpolate:function(E,M,F,z){var Z,ie,oe,ve,Oe,je,Ye;if(!z||z===this)return Z=E.yo-M.yo,ie=E.yo-F.yo,Oe=M.y-M.yo,je=F.y-F.yo,(Ye=(oe=Math.abs(Z))+(ve=Math.abs(ie)))===0?void(E.y=E.yo+(Oe+je)/2):void(E.y=E.yo+(Oe*ve+je*oe)/Ye);Z=z.distance(E,M,!0,!0),ie=z.distance(E,F,!0,!0),Oe=z.distance(M,M,!1,!0),je=z.distance(F,F,!1,!0),(Ye=(oe=Math.abs(Z))+(ve=Math.abs(ie)))===0?Si.setRelative(E,E,(Oe+je)/2,z,!0):Si.setRelative(E,E,(Oe*ve+je*oe)/Ye,z,!0)},normalSlope:0,setRelative:function(E,M,F,z,Z){var ie,oe;z&&z!==this?(ie=Z?M.xo:M.x,oe=Z?M.yo:M.y,ie+=F*z.x,oe+=F*z.y,E.y=oe+z.normalSlope*(E.x-ie)):E.y=(Z?M.yo:M.y)+F},slope:Number.POSITIVE_INFINITY,touch:function(E){E.yTouched=!0},touched:function(E){return E.yTouched},untouch:function(E){E.yTouched=!1}};function fs(E,M){this.x=E,this.y=M,this.axis=void 0,this.slope=M/E,this.normalSlope=-E/M,Object.freeze(this)}function Na(E,M){var F=Math.sqrt(E*E+M*M);return M/=F,(E/=F)===1&&M===0?Wn:E===0&&M===1?Si:new fs(E,M)}function ei(E,M,F,z){this.x=this.xo=Math.round(64*E)/64,this.y=this.yo=Math.round(64*M)/64,this.lastPointOfContour=F,this.onCurve=z,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}Object.freeze(Wn),Object.freeze(Si),fs.prototype.distance=function(E,M,F,z){return this.x*Wn.distance(E,M,F,z)+this.y*Si.distance(E,M,F,z)},fs.prototype.interpolate=function(E,Z,ie,z){var oe=z.distance(E,Z,!0,!0),ve=z.distance(E,ie,!0,!0),Z=z.distance(Z,Z,!1,!0),ie=z.distance(ie,ie,!1,!0),oe=Math.abs(oe),ve=Math.abs(ve),Oe=oe+ve;Oe===0?this.setRelative(E,E,(Z+ie)/2,z,!0):this.setRelative(E,E,(Z*ve+ie*oe)/Oe,z,!0)},fs.prototype.setRelative=function(E,ie,Oe,je,ve){var oe=ve?ie.xo:ie.x,ve=ve?ie.yo:ie.y,ie=oe+Oe*(je=je||this).x,oe=ve+Oe*je.y,ve=je.normalSlope,Oe=this.slope,je=E.x,Ye=E.y;E.x=(Oe*je-ve*ie+oe-Ye)/(Oe-ve),E.y=Oe*(E.x-je)+Ye},fs.prototype.touch=function(E){E.xTouched=!0,E.yTouched=!0},ei.prototype.nextTouched=function(E){for(var M=this.nextPointOnContour;!E.touched(M)&&M!==this;)M=M.nextPointOnContour;return M},ei.prototype.prevTouched=function(E){for(var M=this.prevPointOnContour;!E.touched(M)&&M!==this;)M=M.prevPointOnContour;return M};var Zi=Object.freeze(new ei(0,0)),Pc={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function gn(E,M){switch(this.env=E,this.stack=[],this.prog=M,E){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=Wn,this.round=ua}}function Or(E){for(var M=E.tZone=new Array(E.gZone.length),F=0;F<M.length;F++)M[F]=new ei(0,0)}function No(E,M){var F,z=E.prog,Z=E.ip,ie=1;do if((F=z[++Z])===88)ie++;else if(F===89)ie--;else if(F===64)Z+=z[Z+1]+1;else if(F===65)Z+=2*z[Z+1]+1;else if(176<=F&&F<=183)Z+=F-176+1;else if(184<=F&&F<=191)Z+=2*(F-184+1);else if(M&&ie===1&&F===27)break;while(0<ie);E.ip=Z}function so(E,M){u.DEBUG&&console.log(M.step,"SVTCA["+E.axis+"]"),M.fv=M.pv=M.dpv=E}function Dc(E,M){u.DEBUG&&console.log(M.step,"SPVTCA["+E.axis+"]"),M.pv=M.dpv=E}function Lo(E,M){u.DEBUG&&console.log(M.step,"SFVTCA["+E.axis+"]"),M.fv=E}function Fo(E,M){var F,Z=M.stack,z=Z.pop(),Z=Z.pop(),ie=M.z2[z],oe=M.z1[Z];u.DEBUG&&console.log("SPVTL["+E+"]",z,Z),z=E?(F=ie.y-oe.y,oe.x-ie.x):(F=oe.x-ie.x,oe.y-ie.y),M.pv=M.dpv=Na(F,z)}function zs(E,M){var F,Z=M.stack,z=Z.pop(),Z=Z.pop(),ie=M.z2[z],oe=M.z1[Z];u.DEBUG&&console.log("SFVTL["+E+"]",z,Z),z=E?(F=ie.y-oe.y,oe.x-ie.x):(F=oe.x-ie.x,oe.y-ie.y),M.fv=Na(F,z)}function La(E){u.DEBUG&&console.log(E.step,"POP[]"),E.stack.pop()}function ps(E,M){var F=M.stack.pop(),z=M.z0[F],Z=M.fv,ie=M.pv,oe=(u.DEBUG&&console.log(M.step,"MDAP["+E+"]",F),ie.distance(z,Zi));E&&(oe=M.round(oe)),Z.setRelative(z,Zi,oe,ie),Z.touch(z),M.rp0=M.rp1=F}function Nc(E,M){var F,z,Z,ie=M.z2,oe=ie.length-2;u.DEBUG&&console.log(M.step,"IUP["+E.axis+"]");for(var ve=0;ve<oe;ve++)F=ie[ve],E.touched(F)||(z=F.prevTouched(E))!==F&&(z===(Z=F.nextTouched(E))&&E.setRelative(F,F,E.distance(z,z,!1,!0),E,!0),E.interpolate(F,z,Z,E))}function Ju(E,M){for(var F=M.stack,z=E?M.rp1:M.rp2,Z=(E?M.z0:M.z1)[z],ie=M.fv,oe=M.pv,ve=M.loop,Oe=M.z2;ve--;){var je=F.pop(),Ye=Oe[je],tt=oe.distance(Z,Z,!1,!0);ie.setRelative(Ye,Ye,tt,oe),ie.touch(Ye),u.DEBUG&&console.log(M.step,(1<M.loop?"loop "+(M.loop-ve)+": ":"")+"SHP["+(E?"rp1":"rp2")+"]",je)}M.loop=1}function ao(E,M){for(var F=M.stack,oe=E?M.rp1:M.rp2,z=(E?M.z0:M.z1)[oe],Z=M.fv,ie=M.pv,oe=F.pop(),ve=M.z2[M.contours[oe]],Oe=ve,je=(u.DEBUG&&console.log(M.step,"SHC["+E+"]",oe),ie.distance(z,z,!1,!0));Oe!==z&&Z.setRelative(Oe,Oe,je,ie),(Oe=Oe.nextPointOnContour)!==ve;);}function Uo(E,M){var F,z,ve=M.stack,Z=E?M.rp1:M.rp2,Z=(E?M.z0:M.z1)[Z],ie=M.fv,oe=M.pv,ve=ve.pop();switch(u.DEBUG&&console.log(M.step,"SHZ["+E+"]",ve),ve){case 0:F=M.tZone;break;case 1:F=M.gZone;break;default:throw new Error("Invalid zone")}for(var Oe=oe.distance(Z,Z,!1,!0),je=F.length-2,Ye=0;Ye<je;Ye++)z=F[Ye],ie.setRelative(z,z,Oe,oe)}function Nl(E,M){var z=M.stack,F=z.pop()/64,z=z.pop(),Z=M.z1[z],ie=M.z0[M.rp0],oe=M.fv,ve=M.pv;oe.setRelative(Z,ie,F,ve),oe.touch(Z),u.DEBUG&&console.log(M.step,"MSIRP["+E+"]",F,z),M.rp1=M.rp0,M.rp2=z,E&&(M.rp0=z)}function Bo(E,M){var F=M.stack,ve=F.pop(),F=F.pop(),z=M.z0[F],Z=M.fv,ie=M.pv,oe=M.cvt[ve],ve=(u.DEBUG&&console.log(M.step,"MIAP["+E+"]",ve,"(",oe,")",F),ie.distance(z,Zi));E&&(Math.abs(ve-oe)<M.cvCutIn&&(ve=oe),ve=M.round(ve)),Z.setRelative(z,Zi,ve,ie),M.zp0===0&&(z.xo=z.x,z.yo=z.y),Z.touch(z),M.rp0=M.rp1=F}function Lc(E,M){var F=M.stack,z=F.pop(),Z=M.z2[z];u.DEBUG&&console.log(M.step,"GC["+E+"]",z),F.push(64*M.dpv.distance(Z,Zi,E,!1))}function Vo(E,M){var z=M.stack,F=z.pop(),z=z.pop(),Z=M.z1[F],ie=M.z0[z],ie=M.dpv.distance(ie,Z,E,E);u.DEBUG&&console.log(M.step,"MD["+E+"]",F,z,"->",ie),M.stack.push(Math.round(64*ie))}function Fc(E,M){var F=M.stack,z=F.pop(),Z=M.fv,ie=M.pv,oe=M.ppem,ve=M.deltaBase+16*(E-1),Oe=M.deltaShift,je=M.z0;u.DEBUG&&console.log(M.step,"DELTAP["+E+"]",z,F);for(var Ye=0;Ye<z;Ye++){var tt=F.pop(),Ze=F.pop();ve+((240&Ze)>>4)===oe&&(0<=(Ze=(15&Ze)-8)&&Ze++,u.DEBUG&&console.log(M.step,"DELTAPFIX",tt,"by",Ze*Oe),tt=je[tt],Z.setRelative(tt,tt,Ze*Oe,ie))}}function oo(E,M){var F=M.stack,z=F.pop();u.DEBUG&&console.log(M.step,"ROUND[]"),F.push(64*M.round(z/64))}function Fa(E,M){var F=M.stack,z=F.pop(),Z=M.ppem,ie=M.deltaBase+16*(E-1),oe=M.deltaShift;u.DEBUG&&console.log(M.step,"DELTAC["+E+"]",z,F);for(var ve=0;ve<z;ve++){var Oe=F.pop(),je=F.pop();ie+((240&je)>>4)===Z&&(0<=(je=(15&je)-8)&&je++,je=je*oe,u.DEBUG&&console.log(M.step,"DELTACFIX",Oe,"by",je),M.cvt[Oe]+=je)}}function Uc(E,M){var F,Z=M.stack,z=Z.pop(),Z=Z.pop(),ie=M.z2[z],oe=M.z1[Z];u.DEBUG&&console.log(M.step,"SDPVTL["+E+"]",z,Z),z=E?(F=ie.y-oe.y,oe.x-ie.x):(F=oe.x-ie.x,oe.y-ie.y),M.dpv=Na(F,z)}function Hs(E,M){var F=M.stack,z=M.prog,Z=M.ip;u.DEBUG&&console.log(M.step,"PUSHB["+E+"]");for(var ie=0;ie<E;ie++)F.push(z[++Z]);M.ip=Z}function As(E,M){var F=M.ip,z=M.prog,Z=M.stack;u.DEBUG&&console.log(M.ip,"PUSHW["+E+"]");for(var ie=0;ie<E;ie++){var oe=z[++F]<<8|z[++F];32768&oe&&(oe=-(1+(65535^oe))),Z.push(oe)}M.ip=F}function Vt(E,M,F,z,Z,ie){var oe,ve,je=ie.stack,Oe=E&&je.pop(),je=je.pop(),Ye=ie.rp0,Ye=ie.z0[Ye],tt=ie.z1[je],Ze=ie.minDis,Ue=ie.fv,xt=ie.dpv,lt=oe=xt.distance(tt,Ye,!0,!0),pt=0<=lt?1:-1;lt=Math.abs(lt),E&&(ve=ie.cvt[Oe],z&&Math.abs(lt-ve)<ie.cvCutIn&&(lt=ve)),F&&lt<Ze&&(lt=Ze),z&&(lt=ie.round(lt)),Ue.setRelative(tt,Ye,pt*lt,xt),Ue.touch(tt),u.DEBUG&&console.log(ie.step,(E?"MIRP[":"MDRP[")+(M?"M":"m")+(F?">":"_")+(z?"R":"_")+(Z===0?"Gr":Z===1?"Bl":Z===2?"Wh":"")+"]",E?Oe+"("+ie.cvt[Oe]+","+ve+")":"",je,"(d =",oe,"->",pt*lt,")"),ie.rp1=ie.rp0,ie.rp2=je,M&&(ie.rp0=je)}ca.prototype.exec=function(E,M){if(typeof M!="number")throw new Error("Point size is not a number!");if(!(2<this._errorState)){var F=this.font,z=this._prepState;if(!z||z.ppem!==M){var Z=this._fpgmState;if(!Z){gn.prototype=Pc,(Z=this._fpgmState=new gn("fpgm",F.tables.fpgm)).funcs=[],Z.font=F,u.DEBUG&&(console.log("---EXEC FPGM---"),Z.step=-1);try{Ua(Z)}catch(je){return console.log("Hinting error in FPGM:"+je),void(this._errorState=3)}}gn.prototype=Z,(z=this._prepState=new gn("prep",F.tables.prep)).ppem=M;var ie=F.tables.cvt;if(ie)for(var oe=z.cvt=new Array(ie.length),ve=M/F.unitsPerEm,Oe=0;Oe<ie.length;Oe++)oe[Oe]=ie[Oe]*ve;else z.cvt=[];u.DEBUG&&(console.log("---EXEC PREP---"),z.step=-1);try{Ua(z)}catch(je){this._errorState<2&&console.log("Hinting error in PREP:"+je),this._errorState=2}}if(!(1<this._errorState))try{return eh(E,z)}catch(je){this._errorState<1&&(console.log("Hinting error:"+je),console.log("Note: further hinting errors are silenced")),this._errorState=1}}};var eh=function(E,M){var F=M.ppem/M.font.unitsPerEm,z=F,Z=E.components;if(gn.prototype=M,Z){for(var ie=M.font,oe=[],ve=[],Oe=0;Oe<Z.length;Oe++){var je=Z[Oe],Ye=ie.glyphs.get(je.glyphIndex),tt=new gn("glyf",Ye.instructions);u.DEBUG&&(console.log("---EXEC COMP "+Oe+"---"),tt.step=-1),Go(Ye,tt,F,z);for(var Ze=Math.round(je.dx*F),Ue=Math.round(je.dy*z),xt=tt.gZone,lt=tt.contours,pt=0;pt<xt.length;pt++){var it=xt[pt];it.xTouched=it.yTouched=!1,it.xo=it.x=it.x+Ze,it.yo=it.y=it.y+Ue}var st=oe.length;oe.push.apply(oe,xt);for(var zt=0;zt<lt.length;zt++)ve.push(lt[zt]+st)}E.instructions&&!tt.inhibitGridFit&&((tt=new gn("glyf",E.instructions)).gZone=tt.z0=tt.z1=tt.z2=oe,tt.contours=ve,oe.push(new ei(0,0),new ei(Math.round(E.advanceWidth*F),0)),u.DEBUG&&(console.log("---EXEC COMPOSITE---"),tt.step=-1),Ua(tt),oe.length-=2)}else tt=new gn("glyf",E.instructions),u.DEBUG&&(console.log("---EXEC GLYPH---"),tt.step=-1),Go(E,tt,F,z),oe=tt.gZone;return oe},Go=function(E,M,F,z){for(var Z,ie,oe,ve=E.points||[],Oe=ve.length,je=M.gZone=M.z0=M.z1=M.z2=[],Ye=M.contours=[],tt=0;tt<Oe;tt++)Z=ve[tt],je[tt]=new ei(Z.x*F,Z.y*z,Z.lastPointOfContour,Z.onCurve);for(var Ze=0;Ze<Oe;Ze++)Z=je[Ze],ie||(ie=Z,Ye.push(Ze)),Z.lastPointOfContour?((Z.nextPointOnContour=ie).prevPointOnContour=Z,ie=void 0):(oe=je[Ze+1],(Z.nextPointOnContour=oe).prevPointOnContour=Z);if(!M.inhibitGridFit){if(u.DEBUG){console.log("PROCESSING GLYPH",M.stack);for(var Ue=0;Ue<Oe;Ue++)console.log(Ue,je[Ue].x,je[Ue].y)}if(je.push(new ei(0,0),new ei(Math.round(E.advanceWidth*F),0)),Ua(M),je.length-=2,u.DEBUG){console.log("FINISHED GLYPH",M.stack);for(var xt=0;xt<Oe;xt++)console.log(xt,je[xt].x,je[xt].y)}}},Ua=function(E){var M=E.prog;if(M){var F,z=M.length;for(E.ip=0;E.ip<z;E.ip++){if(u.DEBUG&&E.step++,!(F=Bc[M[E.ip]]))throw new Error("unknown instruction: 0x"+Number(M[E.ip]).toString(16));F(E)}}},Bc=[so.bind(void 0,Si),so.bind(void 0,Wn),Dc.bind(void 0,Si),Dc.bind(void 0,Wn),Lo.bind(void 0,Si),Lo.bind(void 0,Wn),Fo.bind(void 0,0),Fo.bind(void 0,1),zs.bind(void 0,0),zs.bind(void 0,1),function(E){var M=(F=E.stack).pop(),F=F.pop();u.DEBUG&&console.log(E.step,"SPVFS[]",M,F),E.pv=E.dpv=Na(F,M)},function(E){var M=(F=E.stack).pop(),F=F.pop();u.DEBUG&&console.log(E.step,"SPVFS[]",M,F),E.fv=Na(F,M)},function(E){var M=E.stack,F=E.pv;u.DEBUG&&console.log(E.step,"GPV[]"),M.push(16384*F.x),M.push(16384*F.y)},function(E){var M=E.stack,F=E.fv;u.DEBUG&&console.log(E.step,"GFV[]"),M.push(16384*F.x),M.push(16384*F.y)},function(E){E.fv=E.pv,u.DEBUG&&console.log(E.step,"SFVTPV[]")},function(M){var F=(oe=M.stack).pop(),z=oe.pop(),Z=oe.pop(),ie=oe.pop(),oe=oe.pop(),Oe=M.z0,Ye=M.z1,ve=Oe[F],Oe=Oe[z],je=Ye[Z],Ye=Ye[ie],M=M.z2[oe],F=(u.DEBUG&&console.log("ISECT[], ",F,z,Z,ie,oe),ve.x),z=ve.y,Z=Oe.x,ie=Oe.y,oe=je.x,ve=je.y,Oe=Ye.x,je=Ye.y,Ye=(F-Z)*(ve-je)-(z-ie)*(oe-Oe),tt=F*ie-z*Z,Ze=oe*je-ve*Oe;M.x=(tt*(oe-Oe)-Ze*(F-Z))/Ye,M.y=(tt*(ve-je)-Ze*(z-ie))/Ye},function(E){E.rp0=E.stack.pop(),u.DEBUG&&console.log(E.step,"SRP0[]",E.rp0)},function(E){E.rp1=E.stack.pop(),u.DEBUG&&console.log(E.step,"SRP1[]",E.rp1)},function(E){E.rp2=E.stack.pop(),u.DEBUG&&console.log(E.step,"SRP2[]",E.rp2)},function(E){var M=E.stack.pop();switch(u.DEBUG&&console.log(E.step,"SZP0[]",M),E.zp0=M){case 0:E.tZone||Or(E),E.z0=E.tZone;break;case 1:E.z0=E.gZone;break;default:throw new Error("Invalid zone pointer")}},function(E){var M=E.stack.pop();switch(u.DEBUG&&console.log(E.step,"SZP1[]",M),E.zp1=M){case 0:E.tZone||Or(E),E.z1=E.tZone;break;case 1:E.z1=E.gZone;break;default:throw new Error("Invalid zone pointer")}},function(E){var M=E.stack.pop();switch(u.DEBUG&&console.log(E.step,"SZP2[]",M),E.zp2=M){case 0:E.tZone||Or(E),E.z2=E.tZone;break;case 1:E.z2=E.gZone;break;default:throw new Error("Invalid zone pointer")}},function(E){var M=E.stack.pop();switch(u.DEBUG&&console.log(E.step,"SZPS[]",M),E.zp0=E.zp1=E.zp2=M){case 0:E.tZone||Or(E),E.z0=E.z1=E.z2=E.tZone;break;case 1:E.z0=E.z1=E.z2=E.gZone;break;default:throw new Error("Invalid zone pointer")}},function(E){E.loop=E.stack.pop(),u.DEBUG&&console.log(E.step,"SLOOP[]",E.loop)},function(E){u.DEBUG&&console.log(E.step,"RTG[]"),E.round=ua},function(E){u.DEBUG&&console.log(E.step,"RTHG[]"),E.round=Zu},function(E){var M=E.stack.pop();u.DEBUG&&console.log(E.step,"SMD[]",M),E.minDis=M/64},function(E){u.DEBUG&&console.log(E.step,"ELSE[]"),No(E,!1)},function(E){var M=E.stack.pop();u.DEBUG&&console.log(E.step,"JMPR[]",M),E.ip+=M-1},function(E){var M=E.stack.pop();u.DEBUG&&console.log(E.step,"SCVTCI[]",M),E.cvCutIn=M/64},void 0,void 0,function(E){var M=E.stack;u.DEBUG&&console.log(E.step,"DUP[]"),M.push(M[M.length-1])},La,function(E){u.DEBUG&&console.log(E.step,"CLEAR[]"),E.stack.length=0},function(E){var M=E.stack,F=M.pop(),z=M.pop();u.DEBUG&&console.log(E.step,"SWAP[]"),M.push(F),M.push(z)},function(E){var M=E.stack;u.DEBUG&&console.log(E.step,"DEPTH[]"),M.push(M.length)},function(E){var M=E.stack,F=M.pop();u.DEBUG&&console.log(E.step,"CINDEX[]",F),M.push(M[M.length-F])},function(E){var M=E.stack,F=M.pop();u.DEBUG&&console.log(E.step,"MINDEX[]",F),M.push(M.splice(M.length-F,1)[0])},void 0,void 0,void 0,function(E){var M=(z=E.stack).pop(),F=z.pop(),z=(u.DEBUG&&console.log(E.step,"LOOPCALL[]",M,F),E.ip),Z=E.prog;E.prog=E.funcs[M];for(var ie=0;ie<F;ie++)Ua(E),u.DEBUG&&console.log(++E.step,ie+1<F?"next loopcall":"done loopcall",ie);E.ip=z,E.prog=Z},function(E){var M=E.stack.pop(),F=(u.DEBUG&&console.log(E.step,"CALL[]",M),E.ip),z=E.prog;E.prog=E.funcs[M],Ua(E),E.ip=F,E.prog=z,u.DEBUG&&console.log(++E.step,"returning from",M)},function(E){if(E.env!=="fpgm")throw new Error("FDEF not allowed here");var z=E.stack,M=E.prog,F=E.ip,z=z.pop(),Z=F;for(u.DEBUG&&console.log(E.step,"FDEF[]",z);M[++F]!==45;);E.ip=F,E.funcs[z]=M.slice(Z+1,F)},void 0,ps.bind(void 0,0),ps.bind(void 0,1),Nc.bind(void 0,Si),Nc.bind(void 0,Wn),Ju.bind(void 0,0),Ju.bind(void 0,1),ao.bind(void 0,0),ao.bind(void 0,1),Uo.bind(void 0,0),Uo.bind(void 0,1),function(E){for(var M=E.stack,F=E.loop,z=E.fv,Z=M.pop()/64,ie=E.z2;F--;){var oe=M.pop(),ve=ie[oe];u.DEBUG&&console.log(E.step,(1<E.loop?"loop "+(E.loop-F)+": ":"")+"SHPIX[]",oe,Z),z.setRelative(ve,ve,Z),z.touch(ve)}E.loop=1},function(E){for(var M=E.stack,F=E.rp1,z=E.rp2,Z=E.loop,ie=E.z0[F],oe=E.z1[z],ve=E.fv,Oe=E.dpv,je=E.z2;Z--;){var Ye=M.pop(),tt=je[Ye];u.DEBUG&&console.log(E.step,(1<E.loop?"loop "+(E.loop-Z)+": ":"")+"IP[]",Ye,F,"<->",z),ve.interpolate(tt,ie,oe,Oe),ve.touch(tt)}E.loop=1},Nl.bind(void 0,0),Nl.bind(void 0,1),function(E){for(var M=E.stack,F=E.rp0,z=E.z0[F],Z=E.loop,ie=E.fv,oe=E.pv,ve=E.z1;Z--;){var Oe=M.pop(),je=ve[Oe];u.DEBUG&&console.log(E.step,(1<E.loop?"loop "+(E.loop-Z)+": ":"")+"ALIGNRP[]",Oe),ie.setRelative(je,z,0,oe),ie.touch(je)}E.loop=1},function(E){u.DEBUG&&console.log(E.step,"RTDG[]"),E.round=Mc},Bo.bind(void 0,0),Bo.bind(void 0,1),function(E){var M=E.prog,F=E.ip,z=E.stack,Z=M[++F];u.DEBUG&&console.log(E.step,"NPUSHB[]",Z);for(var ie=0;ie<Z;ie++)z.push(M[++F]);E.ip=F},function(E){var M=E.ip,F=E.prog,z=E.stack,Z=F[++M];u.DEBUG&&console.log(E.step,"NPUSHW[]",Z);for(var ie=0;ie<Z;ie++){var oe=F[++M]<<8|F[++M];32768&oe&&(oe=-(1+(65535^oe))),z.push(oe)}E.ip=M},function(E){var z=E.stack,M=(M=E.store)||(E.store=[]),F=z.pop(),z=z.pop();u.DEBUG&&console.log(E.step,"WS",F,z),M[z]=F},function(Z){var M=Z.stack,F=Z.store,z=M.pop(),Z=(u.DEBUG&&console.log(Z.step,"RS",z),F&&F[z]||0);M.push(Z)},function(E){var M=(F=E.stack).pop(),F=F.pop();u.DEBUG&&console.log(E.step,"WCVTP",M,F),E.cvt[F]=M/64},function(E){var M=E.stack,F=M.pop();u.DEBUG&&console.log(E.step,"RCVT",F),M.push(64*E.cvt[F])},Lc.bind(void 0,0),Lc.bind(void 0,1),void 0,Vo.bind(void 0,0),Vo.bind(void 0,1),function(E){u.DEBUG&&console.log(E.step,"MPPEM[]"),E.stack.push(E.ppem)},void 0,function(E){u.DEBUG&&console.log(E.step,"FLIPON[]"),E.autoFlip=!0},void 0,void 0,function(E){var M=E.stack,F=M.pop(),z=M.pop();u.DEBUG&&console.log(E.step,"LT[]",F,z),M.push(z<F?1:0)},function(E){var M=E.stack,F=M.pop(),z=M.pop();u.DEBUG&&console.log(E.step,"LTEQ[]",F,z),M.push(z<=F?1:0)},function(E){var M=E.stack,F=M.pop(),z=M.pop();u.DEBUG&&console.log(E.step,"GT[]",F,z),M.push(F<z?1:0)},function(E){var M=E.stack,F=M.pop(),z=M.pop();u.DEBUG&&console.log(E.step,"GTEQ[]",F,z),M.push(F<=z?1:0)},function(E){var M=E.stack,F=M.pop(),z=M.pop();u.DEBUG&&console.log(E.step,"EQ[]",F,z),M.push(F===z?1:0)},function(E){var M=E.stack,F=M.pop(),z=M.pop();u.DEBUG&&console.log(E.step,"NEQ[]",F,z),M.push(F!==z?1:0)},function(E){var M=E.stack,F=M.pop();u.DEBUG&&console.log(E.step,"ODD[]",F),M.push(Math.trunc(F)%2?1:0)},function(E){var M=E.stack,F=M.pop();u.DEBUG&&console.log(E.step,"EVEN[]",F),M.push(Math.trunc(F)%2?0:1)},function(E){var M=E.stack.pop();u.DEBUG&&console.log(E.step,"IF[]",M),M||(No(E,!0),u.DEBUG&&console.log(E.step,"EIF[]"))},function(E){u.DEBUG&&console.log(E.step,"EIF[]")},function(E){var M=E.stack,F=M.pop(),z=M.pop();u.DEBUG&&console.log(E.step,"AND[]",F,z),M.push(F&&z?1:0)},function(E){var M=E.stack,F=M.pop(),z=M.pop();u.DEBUG&&console.log(E.step,"OR[]",F,z),M.push(F||z?1:0)},function(E){var M=E.stack,F=M.pop();u.DEBUG&&console.log(E.step,"NOT[]",F),M.push(F?0:1)},Fc.bind(void 0,1),function(E){var M=E.stack.pop();u.DEBUG&&console.log(E.step,"SDB[]",M),E.deltaBase=M},function(E){var M=E.stack.pop();u.DEBUG&&console.log(E.step,"SDS[]",M),E.deltaShift=Math.pow(.5,M)},function(E){var M=E.stack,F=M.pop(),z=M.pop();u.DEBUG&&console.log(E.step,"ADD[]",F,z),M.push(z+F)},function(E){var M=E.stack,F=M.pop(),z=M.pop();u.DEBUG&&console.log(E.step,"SUB[]",F,z),M.push(z-F)},function(E){var M=E.stack,F=M.pop(),z=M.pop();u.DEBUG&&console.log(E.step,"DIV[]",F,z),M.push(64*z/F)},function(E){var M=E.stack,F=M.pop(),z=M.pop();u.DEBUG&&console.log(E.step,"MUL[]",F,z),M.push(z*F/64)},function(E){var M=E.stack,F=M.pop();u.DEBUG&&console.log(E.step,"ABS[]",F),M.push(Math.abs(F))},function(E){var M=E.stack,F=M.pop();u.DEBUG&&console.log(E.step,"NEG[]",F),M.push(-F)},function(E){var M=E.stack,F=M.pop();u.DEBUG&&console.log(E.step,"FLOOR[]",F),M.push(64*Math.floor(F/64))},function(E){var M=E.stack,F=M.pop();u.DEBUG&&console.log(E.step,"CEILING[]",F),M.push(64*Math.ceil(F/64))},oo.bind(void 0,0),oo.bind(void 0,1),oo.bind(void 0,2),oo.bind(void 0,3),void 0,void 0,void 0,void 0,function(E){var M=(F=E.stack).pop(),F=F.pop();u.DEBUG&&console.log(E.step,"WCVTF[]",M,F),E.cvt[F]=M*E.ppem/E.font.unitsPerEm},Fc.bind(void 0,2),Fc.bind(void 0,3),Fa.bind(void 0,1),Fa.bind(void 0,2),Fa.bind(void 0,3),function(E){var M,F=E.stack.pop();switch(u.DEBUG&&console.log(E.step,"SROUND[]",F),E.round=io,192&F){case 0:M=.5;break;case 64:M=1;break;case 128:M=2;break;default:throw new Error("invalid SROUND value")}switch(E.srPeriod=M,48&F){case 0:E.srPhase=0;break;case 16:E.srPhase=.25*M;break;case 32:E.srPhase=.5*M;break;case 48:E.srPhase=.75*M;break;default:throw new Error("invalid SROUND value")}E.srThreshold=(F&=15)===0?0:(F/8-.5)*M},function(E){var M,F=E.stack.pop();switch(u.DEBUG&&console.log(E.step,"S45ROUND[]",F),E.round=io,192&F){case 0:M=Math.sqrt(2)/2;break;case 64:M=Math.sqrt(2);break;case 128:M=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(E.srPeriod=M,48&F){case 0:E.srPhase=0;break;case 16:E.srPhase=.25*M;break;case 32:E.srPhase=.5*M;break;case 48:E.srPhase=.75*M;break;default:throw new Error("invalid S45ROUND value")}E.srThreshold=(F&=15)===0?0:(F/8-.5)*M},void 0,void 0,function(E){u.DEBUG&&console.log(E.step,"ROFF[]"),E.round=Da},void 0,function(E){u.DEBUG&&console.log(E.step,"RUTG[]"),E.round=Do},function(E){u.DEBUG&&console.log(E.step,"RDTG[]"),E.round=Cs},La,La,void 0,void 0,void 0,void 0,void 0,function(E){var M=E.stack.pop();u.DEBUG&&console.log(E.step,"SCANCTRL[]",M)},Uc.bind(void 0,0),Uc.bind(void 0,1),function(E){var M=E.stack,F=M.pop(),z=0;u.DEBUG&&console.log(E.step,"GETINFO[]",F),1&F&&(z=35),32&F&&(z|=4096),M.push(z)},void 0,function(E){var M=E.stack,F=M.pop(),z=M.pop(),Z=M.pop();u.DEBUG&&console.log(E.step,"ROLL[]"),M.push(z),M.push(F),M.push(Z)},function(E){var M=E.stack,F=M.pop(),z=M.pop();u.DEBUG&&console.log(E.step,"MAX[]",F,z),M.push(Math.max(z,F))},function(E){var M=E.stack,F=M.pop(),z=M.pop();u.DEBUG&&console.log(E.step,"MIN[]",F,z),M.push(Math.min(z,F))},function(E){var M=E.stack.pop();u.DEBUG&&console.log(E.step,"SCANTYPE[]",M)},function(E){var M=E.stack.pop(),F=E.stack.pop();switch(u.DEBUG&&console.log(E.step,"INSTCTRL[]",M,F),M){case 1:return void(E.inhibitGridFit=!!F);case 2:return void(E.ignoreCvt=!!F);default:throw new Error("invalid INSTCTRL[] selector")}},void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,Hs.bind(void 0,1),Hs.bind(void 0,2),Hs.bind(void 0,3),Hs.bind(void 0,4),Hs.bind(void 0,5),Hs.bind(void 0,6),Hs.bind(void 0,7),Hs.bind(void 0,8),As.bind(void 0,1),As.bind(void 0,2),As.bind(void 0,3),As.bind(void 0,4),As.bind(void 0,5),As.bind(void 0,6),As.bind(void 0,7),As.bind(void 0,8),Vt.bind(void 0,0,0,0,0,0),Vt.bind(void 0,0,0,0,0,1),Vt.bind(void 0,0,0,0,0,2),Vt.bind(void 0,0,0,0,0,3),Vt.bind(void 0,0,0,0,1,0),Vt.bind(void 0,0,0,0,1,1),Vt.bind(void 0,0,0,0,1,2),Vt.bind(void 0,0,0,0,1,3),Vt.bind(void 0,0,0,1,0,0),Vt.bind(void 0,0,0,1,0,1),Vt.bind(void 0,0,0,1,0,2),Vt.bind(void 0,0,0,1,0,3),Vt.bind(void 0,0,0,1,1,0),Vt.bind(void 0,0,0,1,1,1),Vt.bind(void 0,0,0,1,1,2),Vt.bind(void 0,0,0,1,1,3),Vt.bind(void 0,0,1,0,0,0),Vt.bind(void 0,0,1,0,0,1),Vt.bind(void 0,0,1,0,0,2),Vt.bind(void 0,0,1,0,0,3),Vt.bind(void 0,0,1,0,1,0),Vt.bind(void 0,0,1,0,1,1),Vt.bind(void 0,0,1,0,1,2),Vt.bind(void 0,0,1,0,1,3),Vt.bind(void 0,0,1,1,0,0),Vt.bind(void 0,0,1,1,0,1),Vt.bind(void 0,0,1,1,0,2),Vt.bind(void 0,0,1,1,0,3),Vt.bind(void 0,0,1,1,1,0),Vt.bind(void 0,0,1,1,1,1),Vt.bind(void 0,0,1,1,1,2),Vt.bind(void 0,0,1,1,1,3),Vt.bind(void 0,1,0,0,0,0),Vt.bind(void 0,1,0,0,0,1),Vt.bind(void 0,1,0,0,0,2),Vt.bind(void 0,1,0,0,0,3),Vt.bind(void 0,1,0,0,1,0),Vt.bind(void 0,1,0,0,1,1),Vt.bind(void 0,1,0,0,1,2),Vt.bind(void 0,1,0,0,1,3),Vt.bind(void 0,1,0,1,0,0),Vt.bind(void 0,1,0,1,0,1),Vt.bind(void 0,1,0,1,0,2),Vt.bind(void 0,1,0,1,0,3),Vt.bind(void 0,1,0,1,1,0),Vt.bind(void 0,1,0,1,1,1),Vt.bind(void 0,1,0,1,1,2),Vt.bind(void 0,1,0,1,1,3),Vt.bind(void 0,1,1,0,0,0),Vt.bind(void 0,1,1,0,0,1),Vt.bind(void 0,1,1,0,0,2),Vt.bind(void 0,1,1,0,0,3),Vt.bind(void 0,1,1,0,1,0),Vt.bind(void 0,1,1,0,1,1),Vt.bind(void 0,1,1,0,1,2),Vt.bind(void 0,1,1,0,1,3),Vt.bind(void 0,1,1,1,0,0),Vt.bind(void 0,1,1,1,0,1),Vt.bind(void 0,1,1,1,0,2),Vt.bind(void 0,1,1,1,0,3),Vt.bind(void 0,1,1,1,1,0),Vt.bind(void 0,1,1,1,1,1),Vt.bind(void 0,1,1,1,1,2),Vt.bind(void 0,1,1,1,1,3)],Ba=Array.from||function(E){return E.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]?|[^\uD800-\uDFFF]|./g)||[]};function Ur(E){(E=E||{}).empty||(Pa(E.familyName,"When creating a new Font object, familyName is required."),Pa(E.styleName,"When creating a new Font object, styleName is required."),Pa(E.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),Pa(E.ascender,"When creating a new Font object, ascender is required."),Pa(E.descender,"When creating a new Font object, descender is required."),Pa(E.descender<0,"Descender should be negative (e.g. -512)."),this.names={fontFamily:{en:E.familyName||" "},fontSubfamily:{en:E.styleName||" "},fullName:{en:E.fullName||E.familyName+" "+E.styleName},postScriptName:{en:E.postScriptName||(E.familyName+E.styleName).replace(/\s/g,"")},designer:{en:E.designer||" "},designerURL:{en:E.designerURL||" "},manufacturer:{en:E.manufacturer||" "},manufacturerURL:{en:E.manufacturerURL||" "},license:{en:E.license||" "},licenseURL:{en:E.licenseURL||" "},version:{en:E.version||"Version 0.1"},description:{en:E.description||" "},copyright:{en:E.copyright||" "},trademark:{en:E.trademark||" "}},this.unitsPerEm=E.unitsPerEm||1e3,this.ascender=E.ascender,this.descender=E.descender,this.createdTimestamp=E.createdTimestamp,this.tables={os2:{usWeightClass:E.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:E.widthClass||this.usWidthClasses.MEDIUM,fsSelection:E.fsSelection||this.fsSelectionValues.REGULAR}}),this.supported=!0,this.glyphs=new Ft.GlyphSet(this,E.glyphs||[]),this.encoding=new We(this),this.position=new Vs(this),this.substitution=new In(this),this.tables=this.tables||{},Object.defineProperty(this,"hinting",{get:function(){return this._hinting||(this.outlinesFormat==="truetype"?this._hinting=new ca(this):void 0)}})}function Vc(E,M){var F,z=JSON.stringify(E),Z=256;for(F in M){var ie=parseInt(F);if(ie&&!(ie<256)){if(JSON.stringify(M[F])===z)return ie;Z<=ie&&(Z=ie+1)}}return M[Z]=E,Z}Ur.prototype.hasChar=function(E){return this.encoding.charToGlyphIndex(E)!==null},Ur.prototype.charToGlyphIndex=function(E){return this.encoding.charToGlyphIndex(E)},Ur.prototype.charToGlyph=function(E){return E=this.charToGlyphIndex(E),this.glyphs.get(E)||this.glyphs.get(0)},Ur.prototype.stringToGlyphs=function(E,M){M=M||this.defaultRenderOptions;for(var F=Ba(E),z=[],Z=0;Z<F.length;Z+=1){var ie=F[Z];z.push(this.charToGlyphIndex(ie))}var oe=z.length;if(M.features){var E=M.script||this.substitution.getDefaultScriptName(),ve=[];M.features.liga&&(ve=ve.concat(this.substitution.getFeature("liga",E,M.language))),M.features.rlig&&(ve=ve.concat(this.substitution.getFeature("rlig",E,M.language)));for(var Oe=0;Oe<oe;Oe+=1)for(var je=0;je<ve.length;je++){for(var Ye=ve[je],tt=Ye.sub,Ze=tt.length,Ue=0;Ue<Ze&&tt[Ue]===z[Oe+Ue];)Ue++;Ue===Ze&&(z.splice(Oe,Ze,Ye.by),oe=oe-Ze+1)}}for(var xt=new Array(oe),lt=this.glyphs.get(0),pt=0;pt<oe;pt+=1)xt[pt]=this.glyphs.get(z[pt])||lt;return xt},Ur.prototype.nameToGlyphIndex=function(E){return this.glyphNames.nameToGlyphIndex(E)},Ur.prototype.nameToGlyph=function(E){return E=this.nameToGlyphIndex(E),this.glyphs.get(E)||this.glyphs.get(0)},Ur.prototype.glyphIndexToName=function(E){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(E):""},Ur.prototype.getKerningValue=function(E,M){E=E.index||E,M=M.index||M;var F=this.position.defaultKerningTables;return F?this.position.getKerningValue(F,E,M):this.kerningPairs[E+","+M]||0},Ur.prototype.defaultRenderOptions={kerning:!0,features:{liga:!0,rlig:!0}},Ur.prototype.forEachGlyph=function(E,M,F,z,Z,ie){M=M!==void 0?M:0,F=F!==void 0?F:0,Z=Z||this.defaultRenderOptions;var oe,ve=1/this.unitsPerEm*(z=z!==void 0?z:72),Oe=this.stringToGlyphs(E,Z);Z.kerning&&(E=Z.script||this.position.getDefaultScriptName(),oe=this.position.getKerningTables(E,Z.language));for(var je=0;je<Oe.length;je+=1){var Ye=Oe[je];ie.call(this,Ye,M,F,z,Z),Ye.advanceWidth&&(M+=Ye.advanceWidth*ve),Z.kerning&&je<Oe.length-1&&(M+=(oe?this.position.getKerningValue(oe,Ye.index,Oe[je+1].index):this.getKerningValue(Ye,Oe[je+1]))*ve),Z.letterSpacing?M+=Z.letterSpacing*z:Z.tracking&&(M+=Z.tracking/1e3*z)}return M},Ur.prototype.getPath=function(E,M,F,z,Z){var ie=new ne;return this.forEachGlyph(E,M,F,z,Z,function(oe,ve,Oe,je){oe=oe.getPath(ve,Oe,je,Z,this),ie.extend(oe)}),ie},Ur.prototype.getPaths=function(E,M,F,z,Z){var ie=[];return this.forEachGlyph(E,M,F,z,Z,function(oe,ve,Oe,je){oe=oe.getPath(ve,Oe,je,Z,this),ie.push(oe)}),ie},Ur.prototype.getAdvanceWidth=function(E,M,F){return this.forEachGlyph(E,0,0,M,F,function(){})},Ur.prototype.draw=function(E,M,F,z,Z,ie){this.getPath(M,F,z,Z,ie).draw(E)},Ur.prototype.drawPoints=function(E,M,F,z,Z,ie){this.forEachGlyph(M,F,z,Z,ie,function(oe,ve,Oe,je){oe.drawPoints(E,ve,Oe,je)})},Ur.prototype.drawMetrics=function(E,M,F,z,Z,ie){this.forEachGlyph(M,F,z,Z,ie,function(oe,ve,Oe,je){oe.drawMetrics(E,ve,Oe,je)})},Ur.prototype.getEnglishName=function(E){if(E=this.names[E],E)return E.en},Ur.prototype.validate=function(){var E=this;function M(F){F=E.getEnglishName(F),F&&F.trim().length}M("fontFamily"),M("weightName"),M("manufacturer"),M("copyright"),M("version"),this.unitsPerEm},Ur.prototype.toTables=function(){return no.fontToTable(this)},Ur.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()},Ur.prototype.toArrayBuffer=function(){for(var E=this.toTables().encode(),M=new ArrayBuffer(E.length),F=new Uint8Array(M),z=0;z<E.length;z++)F[z]=E[z];return M},Ur.prototype.download=function(E){var M=this.getEnglishName("fontFamily"),F=this.getEnglishName("fontSubfamily"),z=(E=E||M.replace(/\s/g,"")+"-"+F+".otf",this.toArrayBuffer());typeof window<"u"?(window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,window.requestFileSystem(window.TEMPORARY,z.byteLength,function(Z){Z.root.getFile(E,{create:!0},function(ie){ie.createWriter(function(oe){var ve=new DataView(z),ve=new Blob([ve],{type:"font/opentype"});oe.write(ve),oe.addEventListener("writeend",function(){location.href=ie.toURL()},!1)})})},function(Z){throw new Error(Z.name+": "+Z.message)})):(M=r("fs"),F=function(Z){for(var ie=new a(Z.byteLength),oe=new Uint8Array(Z),ve=0;ve<ie.length;++ve)ie[ve]=oe[ve];return ie}(z),M.writeFileSync(E,F))},Ur.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512},Ur.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9},Ur.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var th={make:function(E,M){var F=new Ke.Table("fvar",[{name:"version",type:"ULONG",value:65536},{name:"offsetToData",type:"USHORT",value:0},{name:"countSizePairs",type:"USHORT",value:2},{name:"axisCount",type:"USHORT",value:E.axes.length},{name:"axisSize",type:"USHORT",value:20},{name:"instanceCount",type:"USHORT",value:E.instances.length},{name:"instanceSize",type:"USHORT",value:4+4*E.axes.length}]);F.offsetToData=F.sizeOf();for(var z,Z,ie,oe=0;oe<E.axes.length;oe++)F.fields=F.fields.concat((z=oe,Z=E.axes[oe],ie=M,ie=Vc(Z.name,M),[{name:"tag_"+z,type:"TAG",value:Z.tag},{name:"minValue_"+z,type:"FIXED",value:Z.minValue<<16},{name:"defaultValue_"+z,type:"FIXED",value:Z.defaultValue<<16},{name:"maxValue_"+z,type:"FIXED",value:Z.maxValue<<16},{name:"flags_"+z,type:"USHORT",value:0},{name:"nameID_"+z,type:"USHORT",value:ie}]));for(var ve=0;ve<E.instances.length;ve++)F.fields=F.fields.concat(function(Oe,je,Ye,tt){for(var Ze=[{name:"nameID_"+Oe,type:"USHORT",value:Vc(je.name,tt)},{name:"flags_"+Oe,type:"USHORT",value:0}],Ue=0;Ue<Ye.length;++Ue){var xt=Ye[Ue].tag;Ze.push({name:"axis_"+Oe+" "+xt,type:"FIXED",value:je.coordinates[xt]<<16})}return Ze}(ve,E.instances[ve],E.axes,M));return F},parse:function(E,M,F){for(var z,Z,ie,oe,ve=new Ge.Parser(E,M),Oe=ve.parseULong(),je=(U.argument(Oe===65536,"Unsupported fvar table version."),ve.parseOffset16()),Ye=(ve.skip("uShort",1),ve.parseUShort()),tt=ve.parseUShort(),Ze=ve.parseUShort(),Ue=ve.parseUShort(),xt=[],lt=0;lt<Ye;lt++)xt.push((z=E,Z=M+je+lt*tt,ie=F,oe={},z=new Ge.Parser(z,Z),oe.tag=z.parseTag(),oe.minValue=z.parseFixed(),oe.defaultValue=z.parseFixed(),oe.maxValue=z.parseFixed(),z.skip("uShort",1),oe.name=ie[z.parseUShort()]||{},oe));for(var pt=[],it=M+je+Ye*tt,st=0;st<Ze;st++)pt.push(function(zt,ur,qt,$t){var gr={},ln=new Ge.Parser(zt,ur);gr.name=$t[ln.parseUShort()]||{},ln.skip("uShort",1),gr.coordinates={};for(var Tr=0;Tr<qt.length;++Tr)gr.coordinates[qt[Tr].tag]=ln.parseFixed();return gr}(E,it+st*Ue,xt,F));return{axes:xt,instances:pt}}},Ji=new Array(10);Ji[1]=function(){var E=this.offset+this.relativeOffset,M=this.parseUShort();return M===1?{posFormat:1,coverage:this.parsePointer($e.coverage),value:this.parseValueRecord()}:M===2?{posFormat:2,coverage:this.parsePointer($e.coverage),values:this.parseValueRecordList()}:void U.assert(!1,"0x"+E.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")},Ji[2]=function(){var E,M,F,z,ie=this.offset+this.relativeOffset,Z=this.parseUShort(),ie=(U.assert(Z===1||Z===2,"0x"+ie.toString(16)+": GPOS lookup type 2 format must be 1 or 2."),this.parsePointer($e.coverage)),oe=this.parseUShort(),ve=this.parseUShort();return Z===1?{posFormat:Z,coverage:ie,valueFormat1:oe,valueFormat2:ve,pairSets:this.parseList($e.pointer($e.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(oe),value2:this.parseValueRecord(ve)}})))}:Z===2?(E=this.parsePointer($e.classDef),M=this.parsePointer($e.classDef),F=this.parseUShort(),z=this.parseUShort(),{posFormat:Z,coverage:ie,valueFormat1:oe,valueFormat2:ve,classDef1:E,classDef2:M,class1Count:F,class2Count:z,classRecords:this.parseList(F,$e.list(z,function(){return{value1:this.parseValueRecord(oe),value2:this.parseValueRecord(ve)}}))}):void 0},Ji[3]=function(){return{error:"GPOS Lookup 3 not supported"}},Ji[4]=function(){return{error:"GPOS Lookup 4 not supported"}},Ji[5]=function(){return{error:"GPOS Lookup 5 not supported"}},Ji[6]=function(){return{error:"GPOS Lookup 6 not supported"}},Ji[7]=function(){return{error:"GPOS Lookup 7 not supported"}},Ji[8]=function(){return{error:"GPOS Lookup 8 not supported"}},Ji[9]=function(){return{error:"GPOS Lookup 9 not supported"}};var Ll=new Array(10),Di={parse:function(E,M){return M=(E=new $e(E,M=M||0)).parseVersion(1),U.argument(M===1||M===1.1,"Unsupported GPOS table version "+M),M===1?{version:M,scripts:E.parseScriptList(),features:E.parseFeatureList(),lookups:E.parseLookupList(Ji)}:{version:M,scripts:E.parseScriptList(),features:E.parseFeatureList(),lookups:E.parseLookupList(Ji),variations:E.parseFeatureVariationsList()}},make:function(E){return new Ke.Table("GPOS",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Ke.ScriptList(E.scripts)},{name:"features",type:"TABLE",value:new Ke.FeatureList(E.features)},{name:"lookups",type:"TABLE",value:new Ke.LookupList(E.lookups,Ll)}])}},rh={parse:function(E,M){if(E=new Ge.Parser(E,M),(M=E.parseUShort())===0){var F=E,z={},tt=(F.skip("uShort"),F.parseUShort()),Z=(U.argument(tt===0,"Unsupported kern sub-table version."),F.skip("uShort",2),F.parseUShort());F.skip("uShort",3);for(var ie=0;ie<Z;ie+=1){var oe=F.parseUShort(),ve=F.parseUShort(),Oe=F.parseShort();z[oe+","+ve]=Oe}return z}if(M!==1)throw new Error("Unsupported kern table version ("+M+").");var je=E,Ye={},tt=(je.skip("uShort"),1<je.parseULong()&&console.warn("Only the first kern subtable is supported."),je.skip("uLong"),255&je.parseUShort());if(je.skip("uShort"),tt==0){var Ze=je.parseUShort();je.skip("uShort",3);for(var Ue=0;Ue<Ze;Ue+=1){var xt=je.parseUShort(),lt=je.parseUShort(),pt=je.parseShort();Ye[xt+","+lt]=pt}}return Ye}},nh={parse:function(E,M,F,z){for(var Z=new Ge.Parser(E,M),ie=z?Z.parseUShort:Z.parseULong,oe=[],ve=0;ve<F+1;ve+=1){var Oe=ie.call(Z);z&&(Oe*=2),oe.push(Oe)}return oe}};function ha(E,M){r("fs").readFile(E,function(F,z){if(F)return M(F.message);M(null,Pl(z))})}function B(E,M){var F=new XMLHttpRequest;F.open("get",E,!0),F.responseType="arraybuffer",F.onload=function(){return F.response?M(null,F.response):M("Font could not be loaded: "+F.statusText)},F.onerror=function(){M("Font could not be loaded")},F.send()}function se(E,M){for(var F=[],z=12,Z=0;Z<M;Z+=1){var ie=Ge.getTag(E,z),oe=Ge.getULong(E,z+4),ve=Ge.getULong(E,z+8),Oe=Ge.getULong(E,z+12);F.push({tag:ie,checksum:oe,offset:ve,length:Oe,compression:!1}),z+=16}return F}function ue(F,M){if(M.compression!=="WOFF")return{data:F,offset:M.offset};var F=new Uint8Array(F.buffer,M.offset+2,M.compressedLength-2),z=new Uint8Array(M.length);if(te(F,z),z.byteLength!==M.length)throw new Error("Decompression error: "+M.tag+" decompressed length doesn't match recorded length");return{data:new DataView(z.buffer,0),offset:0}}function Re(st){var M,F,z,Z,ie,oe,ve,Oe,je,Ye,tt,Ze,Ue,xt,lt=new Ur({empty:!0}),pt=new DataView(st,0),it=[],st=Ge.getTag(pt,0);if(st==="\0\0\0"||st==="true"||st==="typ1")lt.outlinesFormat="truetype",it=se(pt,z=Ge.getUShort(pt,4));else if(st==="OTTO")lt.outlinesFormat="cff",it=se(pt,z=Ge.getUShort(pt,4));else{if(st!=="wOFF")throw new Error("Unsupported OpenType signature "+st);var zt=Ge.getTag(pt,4);if(zt==="\0\0\0")lt.outlinesFormat="truetype";else{if(zt!=="OTTO")throw new Error("Unsupported OpenType flavor "+st);lt.outlinesFormat="cff"}it=function(en,Hr){for(var Ti=[],Kr=44,qn=0;qn<Hr;qn+=1){var Wr=Ge.getTag(en,Kr),Pn=Ge.getULong(en,Kr+4),Fl=Ge.getULong(en,Kr+8),Rs=Ge.getULong(en,Kr+12),zo=void 0,zo=Fl<Rs&&"WOFF";Ti.push({tag:Wr,offset:Pn,compression:zo,compressedLength:Fl,length:Rs}),Kr+=20}return Ti}(pt,z=Ge.getUShort(pt,12))}for(var ur=0;ur<z;ur+=1){var qt=it[ur],$t=void 0;switch(qt.tag){case"cmap":$t=ue(pt,qt),lt.tables.cmap=de.parse($t.data,$t.offset),lt.encoding=new rt(lt.tables.cmap);break;case"cvt ":$t=ue(pt,qt),xt=new Ge.Parser($t.data,$t.offset),lt.tables.cvt=xt.parseShortList(qt.length/2);break;case"fvar":ie=qt;break;case"fpgm":$t=ue(pt,qt),xt=new Ge.Parser($t.data,$t.offset),lt.tables.fpgm=xt.parseByteList(qt.length);break;case"head":$t=ue(pt,qt),lt.tables.head=ot.parse($t.data,$t.offset),lt.unitsPerEm=lt.tables.head.unitsPerEm,M=lt.tables.head.indexToLocFormat;break;case"hhea":$t=ue(pt,qt),lt.tables.hhea=be.parse($t.data,$t.offset),lt.ascender=lt.tables.hhea.ascender,lt.descender=lt.tables.hhea.descender,lt.numberOfHMetrics=lt.tables.hhea.numberOfHMetrics;break;case"hmtx":je=qt;break;case"ltag":$t=ue(pt,qt),F=qe.parse($t.data,$t.offset);break;case"maxp":$t=ue(pt,qt),lt.tables.maxp=Be.parse($t.data,$t.offset),lt.numGlyphs=lt.tables.maxp.numGlyphs;break;case"name":Ze=qt;break;case"OS/2":$t=ue(pt,qt),lt.tables.os2=mn.parse($t.data,$t.offset);break;case"post":$t=ue(pt,qt),lt.tables.post=Hn.parse($t.data,$t.offset),lt.glyphNames=new It(lt.tables.post);break;case"prep":$t=ue(pt,qt),xt=new Ge.Parser($t.data,$t.offset),lt.tables.prep=xt.parseByteList(qt.length);break;case"glyf":oe=qt;break;case"loca":tt=qt;break;case"CFF ":Z=qt;break;case"kern":Ye=qt;break;case"GPOS":ve=qt;break;case"GSUB":Oe=qt;break;case"meta":Ue=qt}}if(zt=ue(pt,Ze),lt.tables.name=wn.parse(zt.data,zt.offset,F),lt.names=lt.tables.name,oe&&tt)st=M===0,zt=ue(pt,tt),zt=nh.parse(zt.data,zt.offset,lt.numGlyphs,st),st=ue(pt,oe),lt.glyphs=Po.parse(st.data,st.offset,zt,lt);else{if(!Z)throw new Error("Font doesn't contain TrueType or CFF outlines.");st=ue(pt,Z),Le.parse(st.data,st.offset,lt)}for(var zt=ue(pt,je),gr=(Fe.parse(zt.data,zt.offset,lt.numberOfHMetrics,lt.numGlyphs,lt.glyphs),lt),ln=gr.tables.cmap.glyphIndexMap,Tr=Object.keys(ln),vn=0;vn<Tr.length;vn+=1){var gi,yi=Tr[vn],js=ln[yi];(gi=gr.glyphs.get(js)).addUnicode(parseInt(yi))}for(var Xr=0;Xr<gr.glyphs.length;Xr+=1)gi=gr.glyphs.get(Xr),gr.cffEncoding?gr.isCIDFont?gi.name="gid"+Xr:gi.name=gr.cffEncoding.charset[Xr]:gr.glyphNames.names&&(gi.name=gr.glyphNames.glyphIndexToName(Xr));return Ye?(st=ue(pt,Ye),lt.kerningPairs=rh.parse(st.data,st.offset)):lt.kerningPairs={},ve&&(zt=ue(pt,ve),lt.tables.gpos=Di.parse(zt.data,zt.offset),lt.position.init()),Oe&&(st=ue(pt,Oe),lt.tables.gsub=Ic.parse(st.data,st.offset)),ie&&(zt=ue(pt,ie),lt.tables.fvar=th.parse(zt.data,zt.offset,lt.names)),Ue&&(st=ue(pt,Ue),lt.tables.meta=Ku.parse(st.data,st.offset),lt.metas=lt.tables.meta),lt}u.Font=Ur,u.Glyph=Dt,u.Path=ne,u.BoundingBox=Q,u._parse=Ge,u.parse=Re,u.load=function(E,M){(typeof window>"u"?ha:B)(E,function(F,z){if(F)return M(F);var Z;try{Z=Re(z)}catch(ie){return M(ie,null)}return M(null,Z)})},u.loadSync=function(E){return Re(Pl(r("fs").readFileSync(E)))},Object.defineProperty(u,"__esModule",{value:!0})},l(typeof o=="object"&&s!==void 0?o:c.opentype={})}).call(this,r("buffer").Buffer)},{buffer:4,fs:2}],258:[function(r,s,o){(function(a){function c(p,y){for(var d=0,f=p.length-1;0<=f;f--){var b=p[f];b==="."?p.splice(f,1):b===".."?(p.splice(f,1),d++):d&&(p.splice(f,1),d--)}if(y)for(;d--;)p.unshift("..");return p}function l(p,y){if(p.filter)return p.filter(y);for(var d=[],f=0;f<p.length;f++)y(p[f],f,p)&&d.push(p[f]);return d}o.resolve=function(){for(var p="",y=!1,d=arguments.length-1;-1<=d&&!y;d--){var f=0<=d?arguments[d]:a.cwd();if(typeof f!="string")throw new TypeError("Arguments to path.resolve must be strings");f&&(p=f+"/"+p,y=f.charAt(0)==="/")}return(y?"/":"")+(p=c(l(p.split("/"),function(b){return!!b}),!y).join("/"))||"."},o.normalize=function(p){var y=o.isAbsolute(p),d=u(p,-1)==="/";return(p=(p=c(l(p.split("/"),function(f){return!!f}),!y).join("/"))||y?p:".")&&d&&(p+="/"),(y?"/":"")+p},o.isAbsolute=function(p){return p.charAt(0)==="/"},o.join=function(){var p=Array.prototype.slice.call(arguments,0);return o.normalize(l(p,function(y,d){if(typeof y!="string")throw new TypeError("Arguments to path.join must be strings");return y}).join("/"))},o.relative=function(p,y){function d(w){for(var S=0;S<w.length&&w[S]==="";S++);for(var R=w.length-1;0<=R&&w[R]==="";R--);return R<S?[]:w.slice(S,R-S+1)}p=o.resolve(p).substr(1),y=o.resolve(y).substr(1);for(var f=d(p.split("/")),b=d(y.split("/")),g=Math.min(f.length,b.length),v=g,_=0;_<g;_++)if(f[_]!==b[_]){v=_;break}for(var x=[],_=v;_<f.length;_++)x.push("..");return(x=x.concat(b.slice(v))).join("/")},o.sep="/",o.delimiter=":",o.dirname=function(p){if(typeof p!="string"&&(p+=""),p.length===0)return".";for(var y=p.charCodeAt(0)===47,d=-1,f=!0,b=p.length-1;1<=b;--b)if(p.charCodeAt(b)===47){if(!f){d=b;break}}else f=!1;return d===-1?y?"/":".":y&&d===1?"/":p.slice(0,d)},o.basename=function(p,y){return p=function(d){typeof d!="string"&&(d+="");for(var f=0,b=-1,g=!0,v=d.length-1;0<=v;--v)if(d.charCodeAt(v)===47){if(!g){f=v+1;break}}else b===-1&&(g=!1,b=v+1);return b===-1?"":d.slice(f,b)}(p),p=y&&p.substr(-1*y.length)===y?p.substr(0,p.length-y.length):p},o.extname=function(p){typeof p!="string"&&(p+="");for(var y=-1,d=0,f=-1,b=!0,g=0,v=p.length-1;0<=v;--v){var _=p.charCodeAt(v);if(_===47){if(b)continue;d=v+1;break}f===-1&&(b=!1,f=v+1),_===46?y===-1?y=v:g!==1&&(g=1):y!==-1&&(g=-1)}return y===-1||f===-1||g===0||g===1&&y===f-1&&y===d+1?"":p.slice(y,f)};var u="ab".substr(-1)==="b"?function(p,y,d){return p.substr(y,d)}:function(p,y,d){return y<0&&(y=p.length+y),p.substr(y,d)}}).call(this,r("_process"))},{_process:259}],259:[function(r,l,o){var a,c,l=l.exports={};function u(){throw new Error("setTimeout has not been defined")}function p(){throw new Error("clearTimeout has not been defined")}try{a=typeof setTimeout=="function"?setTimeout:u}catch{a=u}try{c=typeof clearTimeout=="function"?clearTimeout:p}catch{c=p}function y(S){if(a===setTimeout)return setTimeout(S,0);if((a===u||!a)&&setTimeout)return(a=setTimeout)(S,0);try{return a(S,0)}catch{try{return a.call(null,S,0)}catch{return a.call(this,S,0)}}}var d,f=[],b=!1,g=-1;function v(){b&&d&&(b=!1,d.length?f=d.concat(f):g=-1,f.length&&_())}function _(){if(!b){for(var S=y(v),R=(b=!0,f.length);R;){for(d=f,f=[];++g<R;)d&&d[g].run();g=-1,R=f.length}d=null,b=!1,function(D){if(c===clearTimeout)return clearTimeout(D);if((c===p||!c)&&clearTimeout)return(c=clearTimeout)(D);try{c(D)}catch{try{return c.call(null,D)}catch{return c.call(this,D)}}}(S)}}function x(S,R){this.fun=S,this.array=R}function w(){}l.nextTick=function(S){var R=new Array(arguments.length-1);if(1<arguments.length)for(var D=1;D<arguments.length;D++)R[D-1]=arguments[D];f.push(new x(S,R)),f.length!==1||b||y(_)},x.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=w,l.addListener=w,l.once=w,l.off=w,l.removeListener=w,l.removeAllListeners=w,l.emit=w,l.prependListener=w,l.prependOnceListener=w,l.listeners=function(S){return[]},l.binding=function(S){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(S){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},{}],260:[function(r,s,o){s=function(a){var c,l=Object.prototype,u=l.hasOwnProperty,A=typeof Symbol=="function"?Symbol:{},p=A.iterator||"@@iterator",y=A.asyncIterator||"@@asyncIterator",d=A.toStringTag||"@@toStringTag";function f(J,H,ee,X){var ne,re,I,U,H=H&&H.prototype instanceof S?H:S,H=Object.create(H.prototype),X=new q(X||[]);return H._invoke=(ne=J,re=ee,I=X,U=g,function(ae,le){if(U===_)throw new Error("Generator is already running");if(U===x){if(ae==="throw")throw le;return Y()}for(I.method=ae,I.arg=le;;){var he=I.delegate;if(he&&(he=function ye(me,xe){var Se=me.iterator[xe.method];if(Se===c){if(xe.delegate=null,xe.method==="throw"){if(me.iterator.return&&(xe.method="return",xe.arg=c,ye(me,xe),xe.method==="throw"))return w;xe.method="throw",xe.arg=new TypeError("The iterator does not provide a 'throw' method")}return w}if(Se=b(Se,me.iterator,xe.arg),Se.type==="throw")return xe.method="throw",xe.arg=Se.arg,xe.delegate=null,w;if(Se=Se.arg,!Se)return xe.method="throw",xe.arg=new TypeError("iterator result is not an object"),xe.delegate=null,w;{if(!Se.done)return Se;xe[me.resultName]=Se.value,xe.next=me.nextLoc,xe.method!=="return"&&(xe.method="next",xe.arg=c)}return xe.delegate=null,w}(he,I),he)){if(he===w)continue;return he}if(I.method==="next")I.sent=I._sent=I.arg;else if(I.method==="throw"){if(U===g)throw U=x,I.arg;I.dispatchException(I.arg)}else I.method==="return"&&I.abrupt("return",I.arg);if(U=_,he=b(ne,re,I),he.type==="normal"){if(U=I.done?x:v,he.arg!==w)return{value:he.arg,done:I.done}}else he.type==="throw"&&(U=x,I.method="throw",I.arg=he.arg)}}),H}function b(J,te,ee){try{return{type:"normal",arg:J.call(te,ee)}}catch(Q){return{type:"throw",arg:Q}}}a.wrap=f;var g="suspendedStart",v="suspendedYield",_="executing",x="completed",w={};function S(){}function R(){}function D(){}var A={},C=(A[p]=function(){return this},Object.getPrototypeOf),C=C&&C(C(W([]))),j=(C&&C!==l&&u.call(C,p)&&(A=C),D.prototype=S.prototype=Object.create(A));function P(J){["next","throw","return"].forEach(function(te){J[te]=function(ee){return this._invoke(te,ee)}})}function O(J){var te;this._invoke=function(ee,Q){function ne(){return new Promise(function(re,I){(function U(ye,X,ae,le){var he,ye=b(J[ye],J,X);if(ye.type!=="throw")return(X=(he=ye.arg).value)&&typeof X=="object"&&u.call(X,"__await")?Promise.resolve(X.__await).then(function(me){U("next",me,ae,le)},function(me){U("throw",me,ae,le)}):Promise.resolve(X).then(function(me){he.value=me,ae(he)},function(me){return U("throw",me,ae,le)});le(ye.arg)})(ee,Q,re,I)})}return te=te?te.then(ne,ne):ne()}}function L(J){var te={tryLoc:J[0]};1 in J&&(te.catchLoc=J[1]),2 in J&&(te.finallyLoc=J[2],te.afterLoc=J[3]),this.tryEntries.push(te)}function N(J){var te=J.completion||{};te.type="normal",delete te.arg,J.completion=te}function q(J){this.tryEntries=[{tryLoc:"root"}],J.forEach(L,this),this.reset(!0)}function W(J){if(J){var te,ee=J[p];if(ee)return ee.call(J);if(typeof J.next=="function")return J;if(!isNaN(J.length))return te=-1,(ee=function Q(){for(;++te<J.length;)if(u.call(J,te))return Q.value=J[te],Q.done=!1,Q;return Q.value=c,Q.done=!0,Q}).next=ee}return{next:Y}}function Y(){return{value:c,done:!0}}return(R.prototype=j.constructor=D).constructor=R,D[d]=R.displayName="GeneratorFunction",a.isGeneratorFunction=function(J){return J=typeof J=="function"&&J.constructor,!!J&&(J===R||(J.displayName||J.name)==="GeneratorFunction")},a.mark=function(J){return Object.setPrototypeOf?Object.setPrototypeOf(J,D):(J.__proto__=D,d in J||(J[d]="GeneratorFunction")),J.prototype=Object.create(j),J},a.awrap=function(J){return{__await:J}},P(O.prototype),O.prototype[y]=function(){return this},a.AsyncIterator=O,a.async=function(J,te,ee,Q){var ne=new O(f(J,te,ee,Q));return a.isGeneratorFunction(te)?ne:ne.next().then(function(re){return re.done?re.value:ne.next()})},P(j),j[d]="Generator",j[p]=function(){return this},j.toString=function(){return"[object Generator]"},a.keys=function(J){var te,ee=[];for(te in J)ee.push(te);return ee.reverse(),function Q(){for(;ee.length;){var ne=ee.pop();if(ne in J)return Q.value=ne,Q.done=!1,Q}return Q.done=!0,Q}},a.values=W,q.prototype={constructor:q,reset:function(J){if(this.prev=0,this.next=0,this.sent=this._sent=c,this.done=!1,this.delegate=null,this.method="next",this.arg=c,this.tryEntries.forEach(N),!J)for(var te in this)te.charAt(0)==="t"&&u.call(this,te)&&!isNaN(+te.slice(1))&&(this[te]=c)},stop:function(){this.done=!0;var J=this.tryEntries[0].completion;if(J.type==="throw")throw J.arg;return this.rval},dispatchException:function(J){if(this.done)throw J;var te=this;function ee(H,X){return re.type="throw",re.arg=J,te.next=H,X&&(te.method="next",te.arg=c),!!X}for(var Q=this.tryEntries.length-1;0<=Q;--Q){var ne=this.tryEntries[Q],re=ne.completion;if(ne.tryLoc==="root")return ee("end");if(ne.tryLoc<=this.prev){var I=u.call(ne,"catchLoc"),U=u.call(ne,"finallyLoc");if(I&&U){if(this.prev<ne.catchLoc)return ee(ne.catchLoc,!0);if(this.prev<ne.finallyLoc)return ee(ne.finallyLoc)}else if(I){if(this.prev<ne.catchLoc)return ee(ne.catchLoc,!0)}else{if(!U)throw new Error("try statement without catch or finally");if(this.prev<ne.finallyLoc)return ee(ne.finallyLoc)}}}},abrupt:function(J,te){for(var ee=this.tryEntries.length-1;0<=ee;--ee){var Q=this.tryEntries[ee];if(Q.tryLoc<=this.prev&&u.call(Q,"finallyLoc")&&this.prev<Q.finallyLoc){var ne=Q;break}}var re=(ne=ne&&(J==="break"||J==="continue")&&ne.tryLoc<=te&&te<=ne.finallyLoc?null:ne)?ne.completion:{};return re.type=J,re.arg=te,ne?(this.method="next",this.next=ne.finallyLoc,w):this.complete(re)},complete:function(J,te){if(J.type==="throw")throw J.arg;return J.type==="break"||J.type==="continue"?this.next=J.arg:J.type==="return"?(this.rval=this.arg=J.arg,this.method="return",this.next="end"):J.type==="normal"&&te&&(this.next=te),w},finish:function(J){for(var te=this.tryEntries.length-1;0<=te;--te){var ee=this.tryEntries[te];if(ee.finallyLoc===J)return this.complete(ee.completion,ee.afterLoc),N(ee),w}},catch:function(J){for(var te=this.tryEntries.length-1;0<=te;--te){var ee,Q,ne=this.tryEntries[te];if(ne.tryLoc===J)return(ee=ne.completion).type==="throw"&&(Q=ee.arg,N(ne)),Q}throw new Error("illegal catch attempt")},delegateYield:function(J,te,ee){return this.delegate={iterator:W(J),resultName:te,nextLoc:ee},this.method==="next"&&(this.arg=c),w}},a}(typeof s=="object"?s.exports:{});try{regeneratorRuntime=s}catch{Function("r","regeneratorRuntime = r")(s)}},{}],261:[function(r,s,o){(function(a){var c,l,u,p,y,d,f,b,g,v;function _(N){if(typeof N!="string"&&(N=String(N)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(N))throw new TypeError("Invalid character in header field name");return N.toLowerCase()}function x(N){return N=typeof N!="string"?String(N):N}function w(N){var q={next:function(){var W=N.shift();return{done:W===void 0,value:W}}};return l&&(q[Symbol.iterator]=function(){return q}),q}function S(N){this.map={},N instanceof S?N.forEach(function(q,W){this.append(W,q)},this):Array.isArray(N)?N.forEach(function(q){this.append(q[0],q[1])},this):N&&Object.getOwnPropertyNames(N).forEach(function(q){this.append(q,N[q])},this)}function R(N){if(N.bodyUsed)return Promise.reject(new TypeError("Already read"));N.bodyUsed=!0}function D(N){return new Promise(function(q,W){N.onload=function(){q(N.result)},N.onerror=function(){W(N.error)}})}function A(N){var q=new FileReader,W=D(q);return q.readAsArrayBuffer(N),W}function C(N){var q;return N.slice?N.slice(0):((q=new Uint8Array(N.byteLength)).set(new Uint8Array(N)),q.buffer)}function j(){return this.bodyUsed=!1,this._initBody=function(N){if(this._bodyInit=N)if(typeof N=="string")this._bodyText=N;else if(u&&Blob.prototype.isPrototypeOf(N))this._bodyBlob=N;else if(p&&FormData.prototype.isPrototypeOf(N))this._bodyFormData=N;else if(c&&URLSearchParams.prototype.isPrototypeOf(N))this._bodyText=N.toString();else if(y&&u&&f(N))this._bodyArrayBuffer=C(N.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!y||!ArrayBuffer.prototype.isPrototypeOf(N)&&!b(N))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=C(N)}else this._bodyText="";this.headers.get("content-type")||(typeof N=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c&&URLSearchParams.prototype.isPrototypeOf(N)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},u&&(this.blob=function(){var N=R(this);if(N)return N;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?R(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(A)}),this.text=function(){var N,q,W=R(this);if(W)return W;if(this._bodyBlob)return W=this._bodyBlob,N=new FileReader,q=D(N),N.readAsText(W),q;if(this._bodyArrayBuffer)return Promise.resolve(function(Y){for(var J=new Uint8Array(Y),te=new Array(J.length),ee=0;ee<J.length;ee++)te[ee]=String.fromCharCode(J[ee]);return te.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},p&&(this.formData=function(){return this.text().then(O)}),this.json=function(){return this.text().then(JSON.parse)},this}function P(N,q){var W,Y=(q=q||{}).body;if(N instanceof P){if(N.bodyUsed)throw new TypeError("Already read");this.url=N.url,this.credentials=N.credentials,q.headers||(this.headers=new S(N.headers)),this.method=N.method,this.mode=N.mode,Y||N._bodyInit==null||(Y=N._bodyInit,N.bodyUsed=!0)}else this.url=String(N);if(this.credentials=q.credentials||this.credentials||"omit",!q.headers&&this.headers||(this.headers=new S(q.headers)),this.method=(N=q.method||this.method||"GET",W=N.toUpperCase(),-1<g.indexOf(W)?W:N),this.mode=q.mode||this.mode||null,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&Y)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(Y)}function O(N){var q=new FormData;return N.trim().split("&").forEach(function(W){var Y;W&&(Y=(W=W.split("=")).shift().replace(/\+/g," "),W=W.join("=").replace(/\+/g," "),q.append(decodeURIComponent(Y),decodeURIComponent(W)))}),q}function L(N,q){q=q||{},this.type="default",this.status=q.status===void 0?200:q.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in q?q.statusText:"OK",this.headers=new S(q.headers),this.url=q.url||"",this._initBody(N)}a.fetch||(c="URLSearchParams"in a,l="Symbol"in a&&"iterator"in Symbol,u="FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch{return!1}}(),p="FormData"in a,(y="ArrayBuffer"in a)&&(d=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],f=function(N){return N&&DataView.prototype.isPrototypeOf(N)},b=ArrayBuffer.isView||function(N){return N&&-1<d.indexOf(Object.prototype.toString.call(N))}),S.prototype.append=function(N,q){N=_(N),q=x(q);var W=this.map[N];this.map[N]=W?W+","+q:q},S.prototype.delete=function(N){delete this.map[_(N)]},S.prototype.get=function(N){return N=_(N),this.has(N)?this.map[N]:null},S.prototype.has=function(N){return this.map.hasOwnProperty(_(N))},S.prototype.set=function(N,q){this.map[_(N)]=x(q)},S.prototype.forEach=function(N,q){for(var W in this.map)this.map.hasOwnProperty(W)&&N.call(q,this.map[W],W,this)},S.prototype.keys=function(){var N=[];return this.forEach(function(q,W){N.push(W)}),w(N)},S.prototype.values=function(){var N=[];return this.forEach(function(q){N.push(q)}),w(N)},S.prototype.entries=function(){var N=[];return this.forEach(function(q,W){N.push([W,q])}),w(N)},l&&(S.prototype[Symbol.iterator]=S.prototype.entries),g=["DELETE","GET","HEAD","OPTIONS","POST","PUT"],P.prototype.clone=function(){return new P(this,{body:this._bodyInit})},j.call(P.prototype),j.call(L.prototype),L.prototype.clone=function(){return new L(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new S(this.headers),url:this.url})},L.error=function(){var N=new L(null,{status:0,statusText:""});return N.type="error",N},v=[301,302,303,307,308],L.redirect=function(N,q){if(v.indexOf(q)===-1)throw new RangeError("Invalid status code");return new L(null,{status:q,headers:{location:N}})},a.Headers=S,a.Request=P,a.Response=L,a.fetch=function(N,q){return new Promise(function(W,Y){var J=new P(N,q),te=new XMLHttpRequest;te.onload=function(){var ee,Q={status:te.status,statusText:te.statusText,headers:(Q=te.getAllResponseHeaders()||"",ee=new S,Q.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(I){var I=I.split(":"),U=I.shift().trim();U&&(I=I.join(":").trim(),ee.append(U,I))}),ee)},ne=(Q.url="responseURL"in te?te.responseURL:Q.headers.get("X-Request-URL"),"response"in te?te.response:te.responseText);W(new L(ne,Q))},te.onerror=function(){Y(new TypeError("Network request failed"))},te.ontimeout=function(){Y(new TypeError("Network request failed"))},te.open(J.method,J.url,!0),J.credentials==="include"?te.withCredentials=!0:J.credentials==="omit"&&(te.withCredentials=!1),"responseType"in te&&u&&(te.responseType="blob"),J.headers.forEach(function(ee,Q){te.setRequestHeader(Q,ee)}),te.send(J._bodyInit===void 0?null:J._bodyInit)})},a.fetch.polyfill=!0)})(typeof self<"u"?self:this)},{}],262:[function(r,s,o){r("core-js/modules/es.function.name"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.split"),r("core-js/modules/es.function.name"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.split"),Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var a,c=u(r("../core/main")),l=u(r("../color/color_conversion"));function u(d){return d&&d.__esModule?d:{default:d}}var p=[{h:0,s:0,b:.8275,name:"gray"},{h:0,s:0,b:.8627,name:"gray"},{h:0,s:0,b:.7529,name:"gray"},{h:.0167,s:.1176,b:1,name:"light pink"}],y=[{h:0,s:0,b:0,name:"black"},{h:0,s:0,b:.5,name:"gray"},{h:0,s:0,b:1,name:"white"},{h:0,s:.5,b:.5,name:"dark maroon"},{h:0,s:.5,b:1,name:"salmon pink"},{h:0,s:1,b:0,name:"black"},{h:0,s:1,b:.5,name:"dark red"},{h:0,s:1,b:1,name:"red"},{h:5,s:0,b:1,name:"very light peach"},{h:5,s:.5,b:.5,name:"brown"},{h:5,s:.5,b:1,name:"peach"},{h:5,s:1,b:.5,name:"brick red"},{h:5,s:1,b:1,name:"crimson"},{h:10,s:0,b:1,name:"light peach"},{h:10,s:.5,b:.5,name:"brown"},{h:10,s:.5,b:1,name:"light orange"},{h:10,s:1,b:.5,name:"brown"},{h:10,s:1,b:1,name:"orange"},{h:15,s:0,b:1,name:"very light yellow"},{h:15,s:.5,b:.5,name:"olive green"},{h:15,s:.5,b:1,name:"light yellow"},{h:15,s:1,b:0,name:"dark olive green"},{h:15,s:1,b:.5,name:"olive green"},{h:15,s:1,b:1,name:"yellow"},{h:20,s:0,b:1,name:"very light yellow"},{h:20,s:.5,b:.5,name:"olive green"},{h:20,s:.5,b:1,name:"light yellow green"},{h:20,s:1,b:0,name:"dark olive green"},{h:20,s:1,b:.5,name:"dark yellow green"},{h:20,s:1,b:1,name:"yellow green"},{h:25,s:.5,b:.5,name:"dark yellow green"},{h:25,s:.5,b:1,name:"light green"},{h:25,s:1,b:.5,name:"dark green"},{h:25,s:1,b:1,name:"green"},{h:30,s:.5,b:1,name:"light green"},{h:30,s:1,b:.5,name:"dark green"},{h:30,s:1,b:1,name:"green"},{h:35,s:0,b:.5,name:"light green"},{h:35,s:0,b:1,name:"very light green"},{h:35,s:.5,b:.5,name:"dark green"},{h:35,s:.5,b:1,name:"light green"},{h:35,s:1,b:0,name:"very dark green"},{h:35,s:1,b:.5,name:"dark green"},{h:35,s:1,b:1,name:"green"},{h:40,s:0,b:1,name:"very light green"},{h:40,s:.5,b:.5,name:"dark green"},{h:40,s:.5,b:1,name:"light green"},{h:40,s:1,b:.5,name:"dark green"},{h:40,s:1,b:1,name:"green"},{h:45,s:.5,b:1,name:"light turquoise"},{h:45,s:1,b:.5,name:"dark turquoise"},{h:45,s:1,b:1,name:"turquoise"},{h:50,s:0,b:1,name:"light sky blue"},{h:50,s:.5,b:.5,name:"dark cyan"},{h:50,s:.5,b:1,name:"light cyan"},{h:50,s:1,b:.5,name:"dark cyan"},{h:50,s:1,b:1,name:"cyan"},{h:55,s:0,b:1,name:"light sky blue"},{h:55,s:.5,b:1,name:"light sky blue"},{h:55,s:1,b:.5,name:"dark blue"},{h:55,s:1,b:1,name:"sky blue"},{h:60,s:0,b:.5,name:"gray"},{h:60,s:0,b:1,name:"very light blue"},{h:60,s:.5,b:.5,name:"blue"},{h:60,s:.5,b:1,name:"light blue"},{h:60,s:1,b:.5,name:"navy blue"},{h:60,s:1,b:1,name:"blue"},{h:65,s:0,b:1,name:"lavender"},{h:65,s:.5,b:.5,name:"navy blue"},{h:65,s:.5,b:1,name:"light purple"},{h:65,s:1,b:.5,name:"dark navy blue"},{h:65,s:1,b:1,name:"blue"},{h:70,s:0,b:1,name:"lavender"},{h:70,s:.5,b:.5,name:"navy blue"},{h:70,s:.5,b:1,name:"lavender blue"},{h:70,s:1,b:.5,name:"dark navy blue"},{h:70,s:1,b:1,name:"blue"},{h:75,s:.5,b:1,name:"lavender"},{h:75,s:1,b:.5,name:"dark purple"},{h:75,s:1,b:1,name:"purple"},{h:80,s:.5,b:1,name:"pinkish purple"},{h:80,s:1,b:.5,name:"dark purple"},{h:80,s:1,b:1,name:"purple"},{h:85,s:0,b:1,name:"light pink"},{h:85,s:.5,b:.5,name:"purple"},{h:85,s:.5,b:1,name:"light fuchsia"},{h:85,s:1,b:.5,name:"dark fuchsia"},{h:85,s:1,b:1,name:"fuchsia"},{h:90,s:.5,b:.5,name:"dark fuchsia"},{h:90,s:.5,b:1,name:"hot pink"},{h:90,s:1,b:.5,name:"dark fuchsia"},{h:90,s:1,b:1,name:"fuchsia"},{h:95,s:0,b:1,name:"pink"},{h:95,s:.5,b:1,name:"light pink"},{h:95,s:1,b:.5,name:"dark magenta"},{h:95,s:1,b:1,name:"magenta"}];c.default.prototype._rgbColorName=function(g){var f,b,g=l.default._rgbaToHSBA(g),v=[(a=g)[0],g[1],g[2]];v[0]!==0&&(v[0]=Math.round(100*v[0]),(g=v[0].toString().split(""))[b=g.length-1]=parseInt(g[b]),g[b]<2.5?g[b]=0:2.5<=g[b]&&g[b]<7.5&&(g[b]=5),g.length===2?(g[0]=parseInt(g[0]),7.5<=g[b]&&(g[b]=0,g[0]=g[0]+1),v[0]=10*g[0]+g[1]):7.5<=g[b]?v[0]=10:v[0]=g[b]),v[2]=v[2]/255;for(var _=v.length-1;1<=_;_--)v[_]<=.25?v[_]=0:.25<v[_]&&v[_]<.75?v[_]=.5:v[_]=1;if(v[0]===0&&v[1]===0&&v[2]===1){for(var x=2;0<=x;x--)a[x]=Math.round(1e4*a[x])/1e4;for(var w=0;w<p.length;w++){if(p[w].h===a[0]&&p[w].s===a[1]&&p[w].b===a[2]){f=p[w].name;break}f="white"}}else for(var S=0;S<y.length;S++)if(y[S].h===v[0]&&y[S].s===v[1]&&y[S].b===v[2]){f=y[S].name;break}return f},r=c.default,o.default=r},{"../color/color_conversion":268,"../core/main":283,"core-js/modules/es.function.name":174,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.split":206}],263:[function(r,s,o){r("core-js/modules/es.array.concat"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.string.ends-with"),r("core-js/modules/es.string.replace"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.string.ends-with"),r("core-js/modules/es.string.replace"),Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var a=(r=r("../core/main"))&&r.__esModule?r:{default:r},c="_Description",l="_fallbackDesc",u="_fallbackTable",p="_Label",y="_labelDesc",d="_labelTable";function f(b){if(b==="label"||b==="fallback")throw new Error("description should not be LABEL or FALLBACK");return b.endsWith(".")||b.endsWith(";")||b.endsWith(",")||b.endsWith("?")||b.endsWith("!")||(b+="."),b}a.default.prototype.describe=function(b,g){var v;a.default._validateParameters("describe",arguments),typeof b=="string"&&(v=this.canvas.id,b=f(b),this.dummyDOM||(this.dummyDOM=document.getElementById(v).parentNode),this.descriptions||(this.descriptions={}),this.descriptions.fallback?this.descriptions.fallback.innerHTML!==b&&(this.descriptions.fallback.innerHTML=b):this._describeHTML("fallback",b),g===this.LABEL&&(this.descriptions.label?this.descriptions.label.innerHTML!==b&&(this.descriptions.label.innerHTML=b):this._describeHTML("label",b)))},a.default.prototype.describeElement=function(b,g,v){var _,x;a.default._validateParameters("describeElement",arguments),typeof g=="string"&&typeof b=="string"&&(_=this.canvas.id,g=f(g),x=function(w){if(w==="label"||w==="fallback")throw new Error("element name should not be LABEL or FALLBACK");return w.endsWith(".")||w.endsWith(";")||w.endsWith(",")?w=w.replace(/.$/,":"):w.endsWith(":")||(w+=":"),w}(b),b=b.replace(/[^a-zA-Z0-9]/g,""),x='<th scope="row">'.concat(x,"</th><td>").concat(g,"</td>"),this.dummyDOM||(this.dummyDOM=document.getElementById(_).parentNode),this.descriptions?this.descriptions.fallbackElements||(this.descriptions.fallbackElements={}):this.descriptions={fallbackElements:{}},this.descriptions.fallbackElements[b]?this.descriptions.fallbackElements[b].innerHTML!==x&&(this.descriptions.fallbackElements[b].innerHTML=x):this._describeElementHTML("fallback",b,x),v===this.LABEL&&(this.descriptions.labelElements||(this.descriptions.labelElements={}),this.descriptions.labelElements[b]?this.descriptions.labelElements[b].innerHTML!==x&&(this.descriptions.labelElements[b].innerHTML=x):this._describeElementHTML("label",b,x)))},a.default.prototype._describeHTML=function(b,g){var v,_=this.canvas.id;b==="fallback"?(this.dummyDOM.querySelector("#".concat(_+c))?this.dummyDOM.querySelector("#"+_+u).insertAdjacentHTML("beforebegin",'<p id="'.concat(_+l,'"></p>')):(v='<div id="'.concat(_).concat(c,'" role="region" aria-label="Canvas Description"><p id="').concat(_).concat(l,'"></p></div>'),this.dummyDOM.querySelector("#".concat(_,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(_,"accessibleOutput")).insertAdjacentHTML("beforebegin",v):this.dummyDOM.querySelector("#".concat(_)).innerHTML=v),this.descriptions.fallback=this.dummyDOM.querySelector("#".concat(_).concat(l)),this.descriptions.fallback.innerHTML=g):b==="label"&&(this.dummyDOM.querySelector("#".concat(_+p))?this.dummyDOM.querySelector("#".concat(_+d))&&this.dummyDOM.querySelector("#".concat(_+d)).insertAdjacentHTML("beforebegin",'<p id="'.concat(_).concat(y,'"></p>')):(v='<div id="'.concat(_).concat(p,'" class="p5Label"><p id="').concat(_).concat(y,'"></p></div>'),this.dummyDOM.querySelector("#".concat(_,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(_,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",v):this.dummyDOM.querySelector("#"+_).insertAdjacentHTML("afterend",v)),this.descriptions.label=this.dummyDOM.querySelector("#"+_+y),this.descriptions.label.innerHTML=g)},a.default.prototype._describeElementHTML=function(b,g,v){var _,x=this.canvas.id;b==="fallback"?(this.dummyDOM.querySelector("#".concat(x+c))?this.dummyDOM.querySelector("#"+x+u)||this.dummyDOM.querySelector("#"+x+l).insertAdjacentHTML("afterend",'<table id="'.concat(x).concat(u,'"><caption>Canvas elements and their descriptions</caption></table>')):(_='<div id="'.concat(x).concat(c,'" role="region" aria-label="Canvas Description"><table id="').concat(x).concat(u,'"><caption>Canvas elements and their descriptions</caption></table></div>'),this.dummyDOM.querySelector("#".concat(x,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(x,"accessibleOutput")).insertAdjacentHTML("beforebegin",_):this.dummyDOM.querySelector("#"+x).innerHTML=_),(_=document.createElement("tr")).id=x+"_fte_"+g,this.dummyDOM.querySelector("#"+x+u).appendChild(_),this.descriptions.fallbackElements[g]=this.dummyDOM.querySelector("#".concat(x).concat("_fte_").concat(g)),this.descriptions.fallbackElements[g].innerHTML=v):b==="label"&&(this.dummyDOM.querySelector("#".concat(x+p))?this.dummyDOM.querySelector("#".concat(x+d))||this.dummyDOM.querySelector("#"+x+y).insertAdjacentHTML("afterend",'<table id="'.concat(x+d,'"></table>')):(_='<div id="'.concat(x).concat(p,'" class="p5Label"><table id="').concat(x).concat(d,'"></table></div>'),this.dummyDOM.querySelector("#".concat(x,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(x,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",_):this.dummyDOM.querySelector("#"+x).insertAdjacentHTML("afterend",_)),(b=document.createElement("tr")).id=x+"_lte_"+g,this.dummyDOM.querySelector("#"+x+d).appendChild(b),this.descriptions.labelElements[g]=this.dummyDOM.querySelector("#".concat(x).concat("_lte_").concat(g)),this.descriptions.labelElements[g].innerHTML=v)},r=a.default,o.default=r},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.ends-with":198,"core-js/modules/es.string.replace":204}],264:[function(r,s,o){r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.from"),r("core-js/modules/es.array.map"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.from"),r("core-js/modules/es.array.map"),r("core-js/modules/es.string.iterator"),Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,r=(r=r("../core/main"))&&r.__esModule?r:{default:r},r.default.prototype._updateGridOutput=function(a){var c,l,u,p;this.dummyDOM.querySelector("#".concat(a,"_summary"))&&(c=this._accessibleOutputs[a],u=function(y,d,f,b){return d="".concat(d," canvas, ").concat(f," by ").concat(b," pixels, contains ").concat(y[0]),d=(y[0]===1?"".concat(d," shape: "):"".concat(d," shapes: ")).concat(y[1]),d}((l=function(y,d){var f,b="",g="",v=0;for(f in d){var _,x=0;for(_ in d[f]){var w='<li id="'.concat(y,"shape").concat(v,'">').concat(d[f][_].color," ").concat(f,",");f==="line"?w+=" location = ".concat(d[f][_].pos,", length = ").concat(d[f][_].length," pixels"):(w+=" location = ".concat(d[f][_].pos),f!=="point"&&(w+=", area = ".concat(d[f][_].area," %")),w+="</li>"),b+=w,x++,v++}g=1<x?"".concat(g," ").concat(x," ").concat(f,"s"):"".concat(g," ").concat(x," ").concat(f)}return{numShapes:[v,g],details:b}}(a,this.ingredients.shapes)).numShapes,this.ingredients.colors.background,this.width,this.height),p=function(y,d){var f,b,g=0,v="",_=Array.from(Array(10),function(){return Array(10)});for(f in d)for(var x in d[f]){var w=void 0;w=f!=="line"?'<a href="#'.concat(y,"shape").concat(g,'">').concat(d[f][x].color," ").concat(f,"</a>"):'<a href="#'.concat(y,"shape").concat(g,'">').concat(d[f][x].color," ").concat(f," midpoint</a>"),d[f][x].loc.locY<_.length&&d[f][x].loc.locX<_[d[f][x].loc.locY].length&&(_[d[f][x].loc.locY][d[f][x].loc.locX]?_[d[f][x].loc.locY][d[f][x].loc.locX]=_[d[f][x].loc.locY][d[f][x].loc.locX]+"  "+w:_[d[f][x].loc.locY][d[f][x].loc.locX]=w,g++)}for(b in _){var S,R="<tr>";for(S in _[b])R+="<td>",_[b][S]!==void 0&&(R+=_[b][S]),R+="</td>";v=v+R+"</tr>"}return v}(a,this.ingredients.shapes),u!==c.summary.innerHTML&&(c.summary.innerHTML=u),p!==c.map.innerHTML&&(c.map.innerHTML=p),l.details!==c.shapeDetails.innerHTML&&(c.shapeDetails.innerHTML=l.details),this._accessibleOutputs[a]=c)},r=r.default,o.default=r},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.from":162,"core-js/modules/es.array.map":168,"core-js/modules/es.string.iterator":200}],265:[function(r,s,o){r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.fill"),r("core-js/modules/es.array.from"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.map"),r("core-js/modules/es.number.to-fixed"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.fill"),r("core-js/modules/es.array.map"),r("core-js/modules/es.number.to-fixed"),Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var a=(r=r("../core/main"))&&r.__esModule?r:{default:r};function c(u){return function(p){if(Array.isArray(p)){for(var y=0,d=new Array(p.length);y<p.length;y++)d[y]=p[y];return d}}(u)||function(p){if(Symbol.iterator in Object(p)||Object.prototype.toString.call(p)==="[object Arguments]")return Array.from(p)}(u)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function l(u,p,y){return p=Math.floor(u[0]/p*10),u=Math.floor(u[1]/y*10),p===10&&(p-=1),u===10&&(u-=1),{locX:p,locY:u}}a.default.prototype.textOutput=function(u){a.default._validateParameters("textOutput",arguments),this._accessibleOutputs.text||(this._accessibleOutputs.text=!0,this._createOutput("textOutput","Fallback"),u===this.LABEL&&(this._accessibleOutputs.textLabel=!0,this._createOutput("textOutput","Label")))},a.default.prototype.gridOutput=function(u){a.default._validateParameters("gridOutput",arguments),this._accessibleOutputs.grid||(this._accessibleOutputs.grid=!0,this._createOutput("gridOutput","Fallback"),u===this.LABEL&&(this._accessibleOutputs.gridLabel=!0,this._createOutput("gridOutput","Label")))},a.default.prototype._addAccsOutput=function(){return this._accessibleOutputs||(this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1}),this._accessibleOutputs.grid||this._accessibleOutputs.text},a.default.prototype._createOutput=function(u,p){var y,d,f,b=this.canvas.id,g=(this.ingredients||(this.ingredients={shapes:{},colors:{background:"white",fill:"white",stroke:"black"},pShapes:"",pBackground:""}),this.dummyDOM||(this.dummyDOM=document.getElementById(b).parentNode),"");p==="Fallback"?(y=b+u,this.dummyDOM.querySelector("#".concat(d=b+"accessibleOutput"))||(this.dummyDOM.querySelector("#".concat(b,"_Description"))?this.dummyDOM.querySelector("#".concat(b,"_Description")).insertAdjacentHTML("afterend",'<div id="'.concat(d,'" role="region" aria-label="Canvas Outputs"></div>')):this.dummyDOM.querySelector("#".concat(b)).innerHTML='<div id="'.concat(d,'" role="region" aria-label="Canvas Outputs"></div>'))):p==="Label"&&(y=b+u+(g=p),this.dummyDOM.querySelector("#".concat(d=b+"accessibleOutput"+p))||(this.dummyDOM.querySelector("#".concat(b,"_Label"))?this.dummyDOM.querySelector("#".concat(b,"_Label")):this.dummyDOM.querySelector("#".concat(b))).insertAdjacentHTML("afterend",'<div id="'.concat(d,'"></div>'))),this._accessibleOutputs[y]={},u==="textOutput"?(g="#".concat(b,"gridOutput").concat(g),f='<div id="'.concat(y,'">Text Output<div id="').concat(y,'Summary" aria-label="text output summary"><p id="').concat(y,'_summary"></p><ul id="').concat(y,'_list"></ul></div><table id="').concat(y,'_shapeDetails" summary="text output shape details"></table></div>'),this.dummyDOM.querySelector(g)?this.dummyDOM.querySelector(g).insertAdjacentHTML("beforebegin",f):this.dummyDOM.querySelector("#".concat(d)).innerHTML=f,this._accessibleOutputs[y].list=this.dummyDOM.querySelector("#".concat(y,"_list"))):u==="gridOutput"&&(g="#".concat(b,"textOutput").concat(g),f='<div id="'.concat(y,'">Grid Output<p id="').concat(y,'_summary" aria-label="grid output summary"><table id="').concat(y,'_map" summary="grid output content"></table><ul id="').concat(y,'_shapeDetails" aria-label="grid output shape details"></ul></div>'),this.dummyDOM.querySelector(g)?this.dummyDOM.querySelector(g).insertAdjacentHTML("afterend",f):this.dummyDOM.querySelector("#".concat(d)).innerHTML=f,this._accessibleOutputs[y].map=this.dummyDOM.querySelector("#".concat(y,"_map"))),this._accessibleOutputs[y].shapeDetails=this.dummyDOM.querySelector("#".concat(y,"_shapeDetails")),this._accessibleOutputs[y].summary=this.dummyDOM.querySelector("#".concat(y,"_summary"))},a.default.prototype._updateAccsOutput=function(){var u=this.canvas.id;JSON.stringify(this.ingredients.shapes)===this.ingredients.pShapes&&this.ingredients.colors.background===this.ingredients.pBackground||(this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this._accessibleOutputs.text&&this._updateTextOutput(u+"textOutput"),this._accessibleOutputs.grid&&this._updateGridOutput(u+"gridOutput"),this._accessibleOutputs.textLabel&&this._updateTextOutput(u+"textOutputLabel"),this._accessibleOutputs.gridLabel&&this._updateGridOutput(u+"gridOutputLabel"))},a.default.prototype._accsBackground=function(u){this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this.ingredients.pBackground=this.ingredients.colors.background,this.ingredients.shapes={},this.ingredients.colors.backgroundRGBA!==u&&(this.ingredients.colors.backgroundRGBA=u,this.ingredients.colors.background=this._rgbColorName(u))},a.default.prototype._accsCanvasColors=function(u,p){u==="fill"?this.ingredients.colors.fillRGBA!==p&&(this.ingredients.colors.fillRGBA=p,this.ingredients.colors.fill=this._rgbColorName(p)):u==="stroke"&&this.ingredients.colors.strokeRGBA!==p&&(this.ingredients.colors.strokeRGBA=p,this.ingredients.colors.stroke=this._rgbColorName(p))},a.default.prototype._accsOutput=function(u,p){u==="ellipse"&&p[2]===p[3]?u="circle":u==="rectangle"&&p[2]===p[3]&&(u="square");var y,d,f={},b=!0,g=function(_,x){var w;return _=_==="rectangle"||_==="ellipse"||_==="arc"||_==="circle"||_==="square"?(w=Math.round(x[0]+x[2]/2),Math.round(x[1]+x[3]/2)):_==="triangle"?(w=(x[0]+x[2]+x[4])/3,(x[1]+x[3]+x[5])/3):_==="quadrilateral"?(w=(x[0]+x[2]+x[4]+x[6])/4,(x[1]+x[3]+x[5]+x[7])/4):_==="line"?(w=(x[0]+x[2])/2,(x[1]+x[3])/2):(w=x[0],x[1]),[w,_]}(u,p);if(u==="line"?(f.color=this.ingredients.colors.stroke,f.length=Math.round(this.dist(p[0],p[1],p[2],p[3])),y=this._getPos(p[0],[1]),d=this._getPos(p[2],[3]),f.loc=l(g,this.width,this.height),f.pos=y===d?"at ".concat(y):"from ".concat(y," to ").concat(d)):(u==="point"?f.color=this.ingredients.colors.stroke:(f.color=this.ingredients.colors.fill,f.area=this._getArea(u,p)),f.pos=this._getPos.apply(this,c(g)),f.loc=l(g,this.width,this.height)),this.ingredients.shapes[u]){if(this.ingredients.shapes[u]!==[f]){for(var v in this.ingredients.shapes[u])JSON.stringify(this.ingredients.shapes[u][v])===JSON.stringify(f)&&(b=!1);b===!0&&this.ingredients.shapes[u].push(f)}}else this.ingredients.shapes[u]=[f]},a.default.prototype._getPos=function(d,y){var d=new DOMPointReadOnly(d,y),y=this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform(),d=d.matrixTransform(y),y=d.x,d=d.y,f=this.width*this._pixelDensity,b=this.height*this._pixelDensity;return y<.4*f?d<.4*b?"top left":.6*b<d?"bottom left":"mid left":.6*f<y?d<.4*b?"top right":.6*b<d?"bottom right":"mid right":d<.4*b?"top middle":.6*b<d?"bottom middle":"middle"},a.default.prototype._getArea=function(u,p){var y,d,f=0,b=(u==="arc"?(f=(y=((p[5]-p[4])%(2*Math.PI)+2*Math.PI)%(2*Math.PI))*p[2]*p[3]/8,p[6]!=="open"&&p[6]!=="chord"||(d=p[0],x=p[1],b=p[0]+p[2]/2*Math.cos(p[4]).toFixed(2),w=p[1]+p[3]/2*Math.sin(p[4]).toFixed(2),v=p[0]+p[2]/2*Math.cos(p[5]).toFixed(2),g=p[1]+p[3]/2*Math.sin(p[5]).toFixed(2),d=Math.abs(d*(w-g)+b*(g-x)+v*(x-w))/2,y>Math.PI?f+=d:f-=d)):u==="ellipse"||u==="circle"?f=3.14*p[2]/2*p[3]/2:u==="line"||u==="point"?f=0:u==="quadrilateral"?f=Math.abs((p[6]+p[0])*(p[7]-p[1])+(p[0]+p[2])*(p[1]-p[3])+(p[2]+p[4])*(p[3]-p[5])+(p[4]+p[6])*(p[5]-p[7]))/2:u==="rectangle"||u==="square"?f=p[2]*p[3]:u==="triangle"&&(f=Math.abs(p[0]*(p[3]-p[5])+p[2]*(p[5]-p[1])+p[4]*(p[1]-p[3]))/2),this.width*this._pixelDensity),g=this.height*this._pixelDensity,v=[new DOMPoint(0,0),new DOMPoint(b,0),new DOMPoint(b,g),new DOMPoint(0,g)],_=(this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform()).inverse(),x=v.map(function(S){return S.matrixTransform(_)}),w=Math.abs((x[3].x+x[0].x)*(x[3].y-x[0].y)+(x[0].x+x[1].x)*(x[0].y-x[1].y)+(x[1].x+x[2].x)*(x[1].y-x[2].y)+(x[2].x+x[3].x)*(x[2].y-x[3].y))/2;return Math.round(100*f/w)},r=a.default,o.default=r},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],266:[function(r,s,o){r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.concat"),Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,r=(r=r("../core/main"))&&r.__esModule?r:{default:r},r.default.prototype._updateTextOutput=function(a){var c,l,u,p;this.dummyDOM.querySelector("#".concat(a,"_summary"))&&(c=this._accessibleOutputs[a],u=function(y,d,f,b){return f="Your output is a, ".concat(f," by ").concat(b," pixels, ").concat(d," canvas containing the following"),f=y===1?"".concat(f," shape:"):"".concat(f," ").concat(y," shapes:"),f}((l=function(y,d){var f,b="",g=0;for(f in d)for(var v in d[f]){var _='<li><a href="#'.concat(y,"shape").concat(g,'">').concat(d[f][v].color," ").concat(f,"</a>");f==="line"?_+=", ".concat(d[f][v].pos,", ").concat(d[f][v].length," pixels long.</li>"):(_+=", at ".concat(d[f][v].pos),f!=="point"&&(_+=", covering ".concat(d[f][v].area,"% of the canvas")),_+=".</li>"),b+=_,g++}return{numShapes:g,listShapes:b}}(a,this.ingredients.shapes)).numShapes,this.ingredients.colors.background,this.width,this.height),p=function(y,d){var f,b="",g=0;for(f in d)for(var v in d[f]){var _='<tr id="'.concat(y,"shape").concat(g,'"><th>').concat(d[f][v].color," ").concat(f,"</th>");f==="line"?_+="<td>location = ".concat(d[f][v].pos,"</td><td>length = ").concat(d[f][v].length," pixels</td></tr>"):(_+="<td>location = ".concat(d[f][v].pos,"</td>"),f!=="point"&&(_+="<td> area = ".concat(d[f][v].area,"%</td>")),_+="</tr>"),b+=_,g++}return b}(a,this.ingredients.shapes),u!==c.summary.innerHTML&&(c.summary.innerHTML=u),l.listShapes!==c.list.innerHTML&&(c.list.innerHTML=l.listShapes),p!==c.shapeDetails.innerHTML&&(c.shapeDetails.innerHTML=p),this._accessibleOutputs[a]=c)},r=r.default,o.default=r},{"../core/main":283,"core-js/modules/es.array.concat":153}],267:[function(r,s,o){var a=(a=r("./core/main"))&&a.__esModule?a:{default:a};r("./core/constants"),r("./core/environment"),r("./core/friendly_errors/stacktrace"),r("./core/friendly_errors/validate_params"),r("./core/friendly_errors/file_errors"),r("./core/friendly_errors/fes_core"),r("./core/friendly_errors/sketch_reader"),r("./core/helpers"),r("./core/legacy"),r("./core/preload"),r("./core/p5.Element"),r("./core/p5.Graphics"),r("./core/p5.Renderer"),r("./core/p5.Renderer2D"),r("./core/rendering"),r("./core/shim"),r("./core/structure"),r("./core/transform"),r("./core/shape/2d_primitives"),r("./core/shape/attributes"),r("./core/shape/curves"),r("./core/shape/vertex"),r("./accessibility/outputs"),r("./accessibility/textOutput"),r("./accessibility/gridOutput"),r("./accessibility/color_namer"),r("./color/color_conversion"),r("./color/creating_reading"),r("./color/p5.Color"),r("./color/setting"),r("./data/p5.TypedDict"),r("./data/local_storage.js"),r("./dom/dom"),r("./accessibility/describe"),r("./events/acceleration"),r("./events/keyboard"),r("./events/mouse"),r("./events/touch"),r("./image/filters"),r("./image/image"),r("./image/loading_displaying"),r("./image/p5.Image"),r("./image/pixels"),r("./io/files"),r("./io/p5.Table"),r("./io/p5.TableRow"),r("./io/p5.XML"),r("./math/calculation"),r("./math/math"),r("./math/noise"),r("./math/p5.Vector"),r("./math/random"),r("./math/trigonometry"),r("./typography/attributes"),r("./typography/loading_displaying"),r("./typography/p5.Font"),r("./utilities/array_functions"),r("./utilities/conversion"),r("./utilities/string_functions"),r("./utilities/time_date"),r("./webgl/3d_primitives"),r("./webgl/interaction"),r("./webgl/light"),r("./webgl/loading"),r("./webgl/material"),r("./webgl/p5.Camera"),r("./webgl/p5.DataArray"),r("./webgl/p5.Geometry"),r("./webgl/p5.Matrix"),r("./webgl/p5.Quat"),r("./webgl/p5.RendererGL.Immediate"),r("./webgl/p5.RendererGL"),r("./webgl/p5.RendererGL.Retained"),r("./webgl/p5.Framebuffer"),r("./webgl/p5.Shader"),r("./webgl/p5.RenderBuffer"),r("./webgl/p5.Texture"),r("./webgl/text"),r("./core/init"),s.exports=a.default},{"./accessibility/color_namer":262,"./accessibility/describe":263,"./accessibility/gridOutput":264,"./accessibility/outputs":265,"./accessibility/textOutput":266,"./color/color_conversion":268,"./color/creating_reading":269,"./color/p5.Color":270,"./color/setting":271,"./core/constants":272,"./core/environment":273,"./core/friendly_errors/fes_core":274,"./core/friendly_errors/file_errors":275,"./core/friendly_errors/sketch_reader":276,"./core/friendly_errors/stacktrace":277,"./core/friendly_errors/validate_params":278,"./core/helpers":279,"./core/init":280,"./core/legacy":282,"./core/main":283,"./core/p5.Element":284,"./core/p5.Graphics":285,"./core/p5.Renderer":286,"./core/p5.Renderer2D":287,"./core/preload":288,"./core/rendering":289,"./core/shape/2d_primitives":290,"./core/shape/attributes":291,"./core/shape/curves":292,"./core/shape/vertex":293,"./core/shim":294,"./core/structure":295,"./core/transform":296,"./data/local_storage.js":297,"./data/p5.TypedDict":298,"./dom/dom":299,"./events/acceleration":300,"./events/keyboard":301,"./events/mouse":302,"./events/touch":303,"./image/filters":304,"./image/image":305,"./image/loading_displaying":306,"./image/p5.Image":307,"./image/pixels":308,"./io/files":309,"./io/p5.Table":310,"./io/p5.TableRow":311,"./io/p5.XML":312,"./math/calculation":313,"./math/math":314,"./math/noise":315,"./math/p5.Vector":316,"./math/random":317,"./math/trigonometry":318,"./typography/attributes":319,"./typography/loading_displaying":320,"./typography/p5.Font":321,"./utilities/array_functions":322,"./utilities/conversion":323,"./utilities/string_functions":324,"./utilities/time_date":325,"./webgl/3d_primitives":326,"./webgl/interaction":328,"./webgl/light":329,"./webgl/loading":330,"./webgl/material":331,"./webgl/p5.Camera":332,"./webgl/p5.DataArray":333,"./webgl/p5.Framebuffer":334,"./webgl/p5.Geometry":335,"./webgl/p5.Matrix":336,"./webgl/p5.Quat":337,"./webgl/p5.RenderBuffer":338,"./webgl/p5.RendererGL":341,"./webgl/p5.RendererGL.Immediate":339,"./webgl/p5.RendererGL.Retained":340,"./webgl/p5.Shader":342,"./webgl/p5.Texture":343,"./webgl/text":344}],268:[function(r,s,o){Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,r=(r=r("../core/main"))&&r.__esModule?r:{default:r},r.default.ColorConversion={_hsbaToHSLA:function(a){var c=a[0],l=a[1],u=a[2],p=(2-l)*u/2;return p!=0&&(p==1?l=0:p<.5?l/=2-l:l=l*u/(2-2*p)),[c,l,p,a[3]]},_hsbaToRGBA:function(a){var c,l,u,p,y,d=6*a[0],f=a[1],b=a[2];return f===0?[b,b,b,a[3]]:(l=b*(1-f),u=b*(1-f*(d-(c=Math.floor(d)))),f=b*(1-f*(1+c-d)),d=c===1?(p=u,y=b,l):c===2?(p=l,y=b,f):c===3?(p=l,y=u,b):c===4?(p=f,y=l,b):c===5?(p=b,y=l,u):(p=b,y=f,l),[p,y,d,a[3]])},_hslaToHSBA:function(a){var c=a[0],l=a[1],u=a[2],p=u<.5?(1+l)*u:u+l-u*l;return[c,l=2*(p-u)/p,p,a[3]]},_hslaToRGBA:function(a){var c,l=6*a[0],u=a[1],p=a[2];return u===0?[p,p,p,a[3]]:[(c=function(y,d,f){return y<0?y+=6:6<=y&&(y-=6),y<1?d+(f-d)*y:y<3?f:y<4?d+(f-d)*(4-y):d})(2+l,u=2*p-(p=p<.5?(1+u)*p:p+u-p*u),p),c(l,u,p),c(l-2,u,p),a[3]]},_rgbaToHSBA:function(a){var c,l,u=a[0],p=a[1],y=a[2],d=Math.max(u,p,y),f=d-Math.min(u,p,y);return f==0?l=c=0:(l=f/d,u===d?c=(p-y)/f:p===d?c=2+(y-u)/f:y===d&&(c=4+(u-p)/f),c<0?c+=6:6<=c&&(c-=6)),[c/6,l,d,a[3]]},_rgbaToHSLA:function(a){var c,l,u=a[0],p=a[1],y=a[2],d=Math.max(u,p,y),b=Math.min(u,p,y),f=d+b,b=d-b;return b==0?l=c=0:(l=f<1?b/f:b/(2-f),u===d?c=(p-y)/b:p===d?c=2+(y-u)/b:y===d&&(c=4+(u-p)/b),c<0?c+=6:6<=c&&(c-=6)),[c/6,l,f/2,a[3]]}},r=r.default.ColorConversion,o.default=r},{"../core/main":283}],269:[function(r,s,o){function a(d){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(d)}function c(d){return(c=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(f){return a(f)}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":a(f)})(d)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.map"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.array.map"),Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var l=(y=r("../core/main"))&&y.__esModule?y:{default:y},u=function(d){if(d&&d.__esModule)return d;if(d===null||c(d)!=="object"&&typeof d!="function")return{default:d};var f=p();if(f&&f.has(d))return f.get(d);var b,g={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(b in d){var _;Object.prototype.hasOwnProperty.call(d,b)&&((_=v?Object.getOwnPropertyDescriptor(d,b):null)&&(_.get||_.set)?Object.defineProperty(g,b,_):g[b]=d[b])}return g.default=d,f&&f.set(d,g),g}(r("../core/constants"));function p(){var d;return typeof WeakMap!="function"?null:(d=new WeakMap,p=function(){return d},d)}r("./p5.Color"),r("../core/friendly_errors/validate_params"),r("../core/friendly_errors/file_errors"),r("../core/friendly_errors/fes_core"),l.default.prototype.alpha=function(d){return l.default._validateParameters("alpha",arguments),this.color(d)._getAlpha()},l.default.prototype.blue=function(d){return l.default._validateParameters("blue",arguments),this.color(d)._getBlue()},l.default.prototype.brightness=function(d){return l.default._validateParameters("brightness",arguments),this.color(d)._getBrightness()},l.default.prototype.color=function(){for(var d,f=arguments.length,b=new Array(f),g=0;g<f;g++)b[g]=arguments[g];return l.default._validateParameters("color",b),b[0]instanceof l.default.Color?b[0]:(d=Array.isArray(b[0])?b[0]:b,new l.default.Color(this,d))},l.default.prototype.green=function(d){return l.default._validateParameters("green",arguments),this.color(d)._getGreen()},l.default.prototype.hue=function(d){return l.default._validateParameters("hue",arguments),this.color(d)._getHue()},l.default.prototype.lerpColor=function(d,f,b){l.default._validateParameters("lerpColor",arguments),d instanceof l.default.Color||(d=color(d)),f instanceof l.default.Color||(f=color(f));var g,v,_,x=this._colorMode,w=this._colorMaxes;if(x===u.RGB)v=d.levels.map(function(S){return S/255}),_=f.levels.map(function(S){return S/255});else if(x===u.HSB)d._getBrightness(),f._getBrightness(),v=d.hsba,_=f.hsba;else{if(x!==u.HSL)throw new Error("".concat(x," cannot be used for interpolation."));d._getLightness(),f._getLightness(),v=d.hsla,_=f.hsla}return b=Math.max(Math.min(b,1),0),this.lerp===void 0&&(this.lerp=function(S,R,D){return D*(R-S)+S}),x===u.RGB?g=this.lerp(v[0],_[0],b):(.5<Math.abs(v[0]-_[0])&&(v[0]>_[0]?_[0]+=1:v[0]+=1),1<=(g=this.lerp(v[0],_[0],b))&&--g),d=this.lerp(v[1],_[1],b),f=this.lerp(v[2],_[2],b),v=this.lerp(v[3],_[3],b),g*=w[x][0],d*=w[x][1],f*=w[x][2],v*=w[x][3],this.color(g,d,f,v)},l.default.prototype.paletteLerp=function(d,f){var b=d[0];if(f<b[1])return this.color(b[0]);for(var g=1;g<d.length;g++){var v,_=d[g];if(f<_[1])return v=d[g-1],this.lerpColor(this.color(v[0]),this.color(_[0]),(f-v[1])/(_[1]-v[1]))}return this.color(d[d.length-1][0])},l.default.prototype.lightness=function(d){return l.default._validateParameters("lightness",arguments),this.color(d)._getLightness()},l.default.prototype.red=function(d){return l.default._validateParameters("red",arguments),this.color(d)._getRed()},l.default.prototype.saturation=function(d){return l.default._validateParameters("saturation",arguments),this.color(d)._getSaturation()};var y=l.default;o.default=y},{"../core/constants":272,"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"./p5.Color":270,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],270:[function(g,s,o){function a(S){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(R){return typeof R}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R})(S)}function c(S){return(c=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(R){return a(R)}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":a(R)})(S)}g("core-js/modules/es.symbol"),g("core-js/modules/es.symbol.description"),g("core-js/modules/es.symbol.iterator"),g("core-js/modules/es.array.includes"),g("core-js/modules/es.array.iterator"),g("core-js/modules/es.array.join"),g("core-js/modules/es.array.map"),g("core-js/modules/es.array.slice"),g("core-js/modules/es.object.get-own-property-descriptor"),g("core-js/modules/es.object.to-string"),g("core-js/modules/es.regexp.constructor"),g("core-js/modules/es.regexp.exec"),g("core-js/modules/es.regexp.to-string"),g("core-js/modules/es.string.includes"),g("core-js/modules/es.string.iterator"),g("core-js/modules/es.string.trim"),g("core-js/modules/es.weak-map"),g("core-js/modules/web.dom-collections.iterator"),g("core-js/modules/es.array.includes"),g("core-js/modules/es.array.join"),g("core-js/modules/es.array.map"),g("core-js/modules/es.array.slice"),g("core-js/modules/es.object.to-string"),g("core-js/modules/es.regexp.constructor"),g("core-js/modules/es.regexp.exec"),g("core-js/modules/es.regexp.to-string"),g("core-js/modules/es.string.includes"),g("core-js/modules/es.string.trim"),Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var l=d(g("../core/main")),u=function(S){if(S&&S.__esModule)return S;if(S===null||c(S)!=="object"&&typeof S!="function")return{default:S};var R=y();if(R&&R.has(S))return R.get(S);var D,A={},C=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(D in S){var j;Object.prototype.hasOwnProperty.call(S,D)&&((j=C?Object.getOwnPropertyDescriptor(S,D):null)&&(j.get||j.set)?Object.defineProperty(A,D,j):A[D]=S[D])}return A.default=S,R&&R.set(S,A),A}(g("../core/constants")),p=d(g("./color_conversion"));function y(){var S;return typeof WeakMap!="function"?null:(S=new WeakMap,y=function(){return S},S)}function d(S){return S&&S.__esModule?S:{default:S}}function f(S,R){for(var D=0;D<R.length;D++){var A=R[D];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(S,A.key,A)}}var b={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},g=/\s*/,w=/(\d{1,3})/,v=/((?:\d+(?:\.\d+)?)|(?:\.\d+))/,_=new RegExp("".concat(v.source,"%")),x={HEX3:/^#([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX4:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX6:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,HEX8:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,RGB:new RegExp(["^rgb\\(",w.source,",",w.source,",",w.source,"\\)$"].join(g.source),"i"),RGB_PERCENT:new RegExp(["^rgb\\(",_.source,",",_.source,",",_.source,"\\)$"].join(g.source),"i"),RGBA:new RegExp(["^rgba\\(",w.source,",",w.source,",",w.source,",",v.source,"\\)$"].join(g.source),"i"),RGBA_PERCENT:new RegExp(["^rgba\\(",_.source,",",_.source,",",_.source,",",v.source,"\\)$"].join(g.source),"i"),HSL:new RegExp(["^hsl\\(",w.source,",",_.source,",",_.source,"\\)$"].join(g.source),"i"),HSLA:new RegExp(["^hsla\\(",w.source,",",_.source,",",_.source,",",v.source,"\\)$"].join(g.source),"i"),HSB:new RegExp(["^hsb\\(",w.source,",",_.source,",",_.source,"\\)$"].join(g.source),"i"),HSBA:new RegExp(["^hsba\\(",w.source,",",_.source,",",_.source,",",v.source,"\\)$"].join(g.source),"i")},w=(l.default.Color=function(){function S(C,j){if(!(this instanceof S))throw new TypeError("Cannot call a class as a function");if(this._storeModeAndMaxes(C._colorMode,C._colorMaxes),![u.RGB,u.HSL,u.HSB].includes(this.mode))throw new Error("".concat(this.mode," is an invalid colorMode."));this._array=S._parseInputs.apply(this,j),this._calculateLevels()}var R,D,A;return R=S,A=[{key:"_parseInputs",value:function(C,j,P,O){var L,N=arguments.length,q=this.mode,W=this.maxes[q],Y=[];if(3<=N){for(Y[0]=C/W[0],Y[1]=j/W[1],Y[2]=P/W[2],Y[3]=typeof O=="number"?O/W[3]:1,L=Y.length-1;0<=L;--L){var J=Y[L];J<0?Y[L]=0:1<J&&(Y[L]=1)}return q===u.HSL?p.default._hslaToRGBA(Y):q===u.HSB?p.default._hsbaToRGBA(Y):Y}if(N===1&&typeof C=="string"){if(P=C.trim().toLowerCase(),b[P])return S._parseInputs.call(this,b[P]);if(x.HEX3.test(P))return(Y=x.HEX3.exec(P).slice(1).map(function(te){return parseInt(te+te,16)/255}))[3]=1,Y;if(x.HEX6.test(P))return(Y=x.HEX6.exec(P).slice(1).map(function(te){return parseInt(te,16)/255}))[3]=1,Y;if(x.HEX4.test(P))return Y=x.HEX4.exec(P).slice(1).map(function(te){return parseInt(te+te,16)/255});if(x.HEX8.test(P))return Y=x.HEX8.exec(P).slice(1).map(function(te){return parseInt(te,16)/255});if(x.RGB.test(P))return(Y=x.RGB.exec(P).slice(1).map(function(te){return te/255}))[3]=1,Y;if(x.RGB_PERCENT.test(P))return(Y=x.RGB_PERCENT.exec(P).slice(1).map(function(te){return parseFloat(te)/100}))[3]=1,Y;if(x.RGBA.test(P))return Y=x.RGBA.exec(P).slice(1).map(function(te,ee){return ee===3?parseFloat(te):te/255});if(x.RGBA_PERCENT.test(P))return Y=x.RGBA_PERCENT.exec(P).slice(1).map(function(te,ee){return ee===3?parseFloat(te):parseFloat(te)/100});if(x.HSL.test(P)?(Y=x.HSL.exec(P).slice(1).map(function(te,ee){return ee===0?parseInt(te,10)/360:parseInt(te,10)/100}))[3]=1:x.HSLA.test(P)&&(Y=x.HSLA.exec(P).slice(1).map(function(te,ee){return ee===0?parseInt(te,10)/360:ee===3?parseFloat(te):parseInt(te,10)/100})),(Y=Y.map(function(te){return Math.max(Math.min(te,1),0)})).length)return p.default._hslaToRGBA(Y);if(x.HSB.test(P)?(Y=x.HSB.exec(P).slice(1).map(function(te,ee){return ee===0?parseInt(te,10)/360:parseInt(te,10)/100}))[3]=1:x.HSBA.test(P)&&(Y=x.HSBA.exec(P).slice(1).map(function(te,ee){return ee===0?parseInt(te,10)/360:ee===3?parseFloat(te):parseInt(te,10)/100})),Y.length){for(L=Y.length-1;0<=L;--L)Y[L]=Math.max(Math.min(Y[L],1),0);return p.default._hsbaToRGBA(Y)}Y=[1,1,1,1]}else{if(N!==1&&N!==2||typeof C!="number")throw new Error("".concat(arguments,"is not a valid color representation."));Y[0]=C/W[2],Y[1]=C/W[2],Y[2]=C/W[2],Y[3]=typeof j=="number"?j/W[3]:1,Y=Y.map(function(te){return Math.max(Math.min(te,1),0)})}return Y}}],(D=[{key:"toString",value:function(C){var j=this.levels,P=this._array,O=P[3];switch(C){case"#rrggbb":return"#".concat(j[0]<16?"0".concat(j[0].toString(16)):j[0].toString(16),j[1]<16?"0".concat(j[1].toString(16)):j[1].toString(16),j[2]<16?"0".concat(j[2].toString(16)):j[2].toString(16));case"#rrggbbaa":return"#".concat(j[0]<16?"0".concat(j[0].toString(16)):j[0].toString(16),j[1]<16?"0".concat(j[1].toString(16)):j[1].toString(16),j[2]<16?"0".concat(j[2].toString(16)):j[2].toString(16),j[3]<16?"0".concat(j[3].toString(16)):j[3].toString(16));case"#rgb":return"#".concat(Math.round(15*P[0]).toString(16),Math.round(15*P[1]).toString(16),Math.round(15*P[2]).toString(16));case"#rgba":return"#".concat(Math.round(15*P[0]).toString(16),Math.round(15*P[1]).toString(16),Math.round(15*P[2]).toString(16),Math.round(15*P[3]).toString(16));case"rgb":return"rgb(".concat(j[0],", ",j[1],", ",j[2],")");case"rgb%":return"rgb(".concat((100*P[0]).toPrecision(3),"%, ",(100*P[1]).toPrecision(3),"%, ",(100*P[2]).toPrecision(3),"%)");case"rgba%":return"rgba(".concat((100*P[0]).toPrecision(3),"%, ",(100*P[1]).toPrecision(3),"%, ",(100*P[2]).toPrecision(3),"%, ",(100*P[3]).toPrecision(3),"%)");case"hsb":case"hsv":return this.hsba||(this.hsba=p.default._rgbaToHSBA(this._array)),"hsb(".concat(this.hsba[0]*this.maxes[u.HSB][0],", ",this.hsba[1]*this.maxes[u.HSB][1],", ",this.hsba[2]*this.maxes[u.HSB][2],")");case"hsb%":case"hsv%":return this.hsba||(this.hsba=p.default._rgbaToHSBA(this._array)),"hsb(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%)");case"hsba":case"hsva":return this.hsba||(this.hsba=p.default._rgbaToHSBA(this._array)),"hsba(".concat(this.hsba[0]*this.maxes[u.HSB][0],", ",this.hsba[1]*this.maxes[u.HSB][1],", ",this.hsba[2]*this.maxes[u.HSB][2],", ",O,")");case"hsba%":case"hsva%":return this.hsba||(this.hsba=p.default._rgbaToHSBA(this._array)),"hsba(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%, ",(100*O).toPrecision(3),"%)");case"hsl":return this.hsla||(this.hsla=p.default._rgbaToHSLA(this._array)),"hsl(".concat(this.hsla[0]*this.maxes[u.HSL][0],", ",this.hsla[1]*this.maxes[u.HSL][1],", ",this.hsla[2]*this.maxes[u.HSL][2],")");case"hsl%":return this.hsla||(this.hsla=p.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%)");case"hsla":return this.hsla||(this.hsla=p.default._rgbaToHSLA(this._array)),"hsla(".concat(this.hsla[0]*this.maxes[u.HSL][0],", ",this.hsla[1]*this.maxes[u.HSL][1],", ",this.hsla[2]*this.maxes[u.HSL][2],", ",O,")");case"hsla%":return this.hsla||(this.hsla=p.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%, ",(100*O).toPrecision(3),"%)");default:return"rgba(".concat(j[0],",",j[1],",",j[2],",",O,")")}}},{key:"setRed",value:function(C){this._array[0]=C/this.maxes[u.RGB][0],this._calculateLevels()}},{key:"setGreen",value:function(C){this._array[1]=C/this.maxes[u.RGB][1],this._calculateLevels()}},{key:"setBlue",value:function(C){this._array[2]=C/this.maxes[u.RGB][2],this._calculateLevels()}},{key:"setAlpha",value:function(C){this._array[3]=C/this.maxes[this.mode][3],this._calculateLevels()}},{key:"_calculateLevels",value:function(){for(var C=this._array,j=this.levels=new Array(C.length),P=C.length-1;0<=P;--P)j[P]=Math.round(255*C[P]);this.hsla=null,this.hsba=null}},{key:"_getAlpha",value:function(){return this._array[3]*this.maxes[this.mode][3]}},{key:"_storeModeAndMaxes",value:function(C,j){this.mode=C,this.maxes=j}},{key:"_getMode",value:function(){return this.mode}},{key:"_getMaxes",value:function(){return this.maxes}},{key:"_getBlue",value:function(){return this._array[2]*this.maxes[u.RGB][2]}},{key:"_getBrightness",value:function(){return this.hsba||(this.hsba=p.default._rgbaToHSBA(this._array)),this.hsba[2]*this.maxes[u.HSB][2]}},{key:"_getGreen",value:function(){return this._array[1]*this.maxes[u.RGB][1]}},{key:"_getHue",value:function(){return this.mode===u.HSB?(this.hsba||(this.hsba=p.default._rgbaToHSBA(this._array)),this.hsba[0]*this.maxes[u.HSB][0]):(this.hsla||(this.hsla=p.default._rgbaToHSLA(this._array)),this.hsla[0]*this.maxes[u.HSL][0])}},{key:"_getLightness",value:function(){return this.hsla||(this.hsla=p.default._rgbaToHSLA(this._array)),this.hsla[2]*this.maxes[u.HSL][2]}},{key:"_getRed",value:function(){return this._array[0]*this.maxes[u.RGB][0]}},{key:"_getSaturation",value:function(){return this.mode===u.HSB?(this.hsba||(this.hsba=p.default._rgbaToHSBA(this._array)),this.hsba[1]*this.maxes[u.HSB][1]):(this.hsla||(this.hsla=p.default._rgbaToHSLA(this._array)),this.hsla[1]*this.maxes[u.HSL][1])}}])&&f(R.prototype,D),A&&f(R,A),S}(),l.default.Color);o.default=w},{"../core/constants":272,"../core/main":283,"./color_conversion":268,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],271:[function(r,s,o){function a(d){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(d)}function c(d){return(c=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(f){return a(f)}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":a(f)})(d)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.fill"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.array.fill"),Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var l=(y=r("../core/main"))&&y.__esModule?y:{default:y},u=function(d){if(d&&d.__esModule)return d;if(d===null||c(d)!=="object"&&typeof d!="function")return{default:d};var f=p();if(f&&f.has(d))return f.get(d);var b,g={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(b in d){var _;Object.prototype.hasOwnProperty.call(d,b)&&((_=v?Object.getOwnPropertyDescriptor(d,b):null)&&(_.get||_.set)?Object.defineProperty(g,b,_):g[b]=d[b])}return g.default=d,f&&f.set(d,g),g}(r("../core/constants"));function p(){var d;return typeof WeakMap!="function"?null:(d=new WeakMap,p=function(){return d},d)}r("./p5.Color"),l.default.prototype.beginClip=function(){this._renderer.beginClip(0<arguments.length&&arguments[0]!==void 0?arguments[0]:{})},l.default.prototype.endClip=function(){this._renderer.endClip()},l.default.prototype.clip=function(d,f){this._renderer.beginClip(f),d(),this._renderer.endClip(f)},l.default.prototype.background=function(){var d;return(d=this._renderer).background.apply(d,arguments),this},l.default.prototype.clear=function(){return this._renderer.clear((arguments.length<=0?void 0:arguments[0])||0,(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0,(arguments.length<=3?void 0:arguments[3])||0),this},l.default.prototype.colorMode=function(d,f,b,g,v){return l.default._validateParameters("colorMode",arguments),d!==u.RGB&&d!==u.HSB&&d!==u.HSL||(this._colorMode=d,d=this._colorMaxes[d],arguments.length===2?(d[0]=f,d[1]=f,d[2]=f,d[3]=f):arguments.length===4?(d[0]=f,d[1]=b,d[2]=g):arguments.length===5&&(d[0]=f,d[1]=b,d[2]=g,d[3]=v)),this},l.default.prototype.fill=function(){var d;return this._renderer._setProperty("_fillSet",!0),this._renderer._setProperty("_doFill",!0),(d=this._renderer).fill.apply(d,arguments),this},l.default.prototype.noFill=function(){return this._renderer._setProperty("_doFill",!1),this},l.default.prototype.noStroke=function(){return this._renderer._setProperty("_doStroke",!1),this},l.default.prototype.stroke=function(){var d;return this._renderer._setProperty("_strokeSet",!0),this._renderer._setProperty("_doStroke",!0),(d=this._renderer).stroke.apply(d,arguments),this},l.default.prototype.erase=function(){return this._renderer.erase(0<arguments.length&&arguments[0]!==void 0?arguments[0]:255,1<arguments.length&&arguments[1]!==void 0?arguments[1]:255),this},l.default.prototype.noErase=function(){return this._renderer.noErase(),this};var y=l.default;o.default=y},{"../core/constants":272,"../core/main":283,"./p5.Color":270,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],272:[function(r,s,o){Object.defineProperty(o,"__esModule",{value:!0}),o.QUADRATIC=o.LINEAR=o._CTX_MIDDLE=o._DEFAULT_LEADMULT=o._DEFAULT_TEXT_FILL=o.WORD=o.CHAR=o.BOLDITALIC=o.BOLD=o.ITALIC=o.NORMAL=o.BLUR=o.ERODE=o.DILATE=o.POSTERIZE=o.INVERT=o.OPAQUE=o.GRAY=o.THRESHOLD=o.BURN=o.DODGE=o.SOFT_LIGHT=o.HARD_LIGHT=o.OVERLAY=o.REPLACE=o.SCREEN=o.MULTIPLY=o.EXCLUSION=o.SUBTRACT=o.DIFFERENCE=o.LIGHTEST=o.DARKEST=o.ADD=o.REMOVE=o.BLEND=o.UP_ARROW=o.TAB=o.SHIFT=o.RIGHT_ARROW=o.RETURN=o.OPTION=o.LEFT_ARROW=o.ESCAPE=o.ENTER=o.DOWN_ARROW=o.DELETE=o.CONTROL=o.BACKSPACE=o.ALT=o.AUTO=o.HSL=o.HSB=o.RGB=o.MITER=o.BEVEL=o.ROUND=o.SQUARE=o.PROJECT=o.PIE=o.CHORD=o.OPEN=o.CLOSE=o.TESS=o.QUAD_STRIP=o.QUADS=o.TRIANGLE_STRIP=o.TRIANGLE_FAN=o.TRIANGLES=o.LINE_LOOP=o.LINE_STRIP=o.LINES=o.POINTS=o.BASELINE=o.BOTTOM=o.TOP=o.CENTER=o.LEFT=o.RIGHT=o.RADIUS=o.CORNERS=o.CORNER=o.RAD_TO_DEG=o.DEG_TO_RAD=o.RADIANS=o.DEGREES=o.TWO_PI=o.TAU=o.QUARTER_PI=o.PI=o.HALF_PI=o.WAIT=o.TEXT=o.MOVE=o.HAND=o.CROSS=o.ARROW=o.WEBGL2=o.WEBGL=o.P2D=o.VERSION=void 0,o.RGBA=o.HALF_FLOAT=o.FLOAT=o.UNSIGNED_INT=o.UNSIGNED_BYTE=o.COVER=o.CONTAIN=o.FALLBACK=o.LABEL=o.AXES=o.GRID=o._DEFAULT_FILL=o._DEFAULT_STROKE=o.PORTRAIT=o.LANDSCAPE=o.SMOOTH=o.FLAT=o.MIRROR=o.CLAMP=o.REPEAT=o.NEAREST=o.IMAGE=o.IMMEDIATE=o.TEXTURE=o.FILL=o.STROKE=o.CURVE=o.BEZIER=void 0;var a=Math.PI,c=(o.VERSION="1.11.2",o.P2D="p2d",o.WEBGL="webgl",o.WEBGL2="webgl2",o.ARROW="default",o.CROSS="crosshair",o.HAND="pointer",o.MOVE="move",o.TEXT="text",o.WAIT="wait",a/2),c=(o.HALF_PI=c,a),c=(o.PI=c,a/4),c=(o.QUARTER_PI=c,2*a),c=(o.TAU=c,2*a),c=(o.TWO_PI=c,o.DEGREES="degrees",o.RADIANS="radians",a/180),c=(o.DEG_TO_RAD=c,180/a);o.RAD_TO_DEG=c,o.CORNER="corner",o.CORNERS="corners",o.RADIUS="radius",o.RIGHT="right",o.LEFT="left",o.CENTER="center",o.TOP="top",o.BOTTOM="bottom",o.BASELINE="alphabetic",o.POINTS=0,o.LINES=1,o.LINE_STRIP=3,o.LINE_LOOP=2,o.TRIANGLES=4,o.TRIANGLE_FAN=6,o.TRIANGLE_STRIP=5,o.QUADS="quads",o.QUAD_STRIP="quad_strip",o.TESS="tess",o.CLOSE="close",o.OPEN="open",o.CHORD="chord",o.PIE="pie",o.PROJECT="square",o.SQUARE="butt",o.ROUND="round",o.BEVEL="bevel",o.MITER="miter",o.RGB="rgb",o.HSB="hsb",o.HSL="hsl",o.AUTO="auto",o.ALT=18,o.BACKSPACE=8,o.CONTROL=17,o.DELETE=46,o.DOWN_ARROW=40,o.ENTER=13,o.ESCAPE=27,o.LEFT_ARROW=37,o.OPTION=18,o.RETURN=13,o.RIGHT_ARROW=39,o.SHIFT=16,o.TAB=9,o.UP_ARROW=38,o.BLEND="source-over",o.REMOVE="destination-out",o.ADD="lighter",o.DARKEST="darken",o.LIGHTEST="lighten",o.DIFFERENCE="difference",o.SUBTRACT="subtract",o.EXCLUSION="exclusion",o.MULTIPLY="multiply",o.SCREEN="screen",o.REPLACE="copy",o.OVERLAY="overlay",o.HARD_LIGHT="hard-light",o.SOFT_LIGHT="soft-light",o.DODGE="color-dodge",o.BURN="color-burn",o.THRESHOLD="threshold",o.GRAY="gray",o.OPAQUE="opaque",o.INVERT="invert",o.POSTERIZE="posterize",o.DILATE="dilate",o.ERODE="erode",o.BLUR="blur",o.NORMAL="normal",o.ITALIC="italic",o.BOLD="bold",o.BOLDITALIC="bold italic",o.CHAR="CHAR",o.WORD="WORD",o._DEFAULT_TEXT_FILL="#000000",o._DEFAULT_LEADMULT=1.25,o._CTX_MIDDLE="middle",o.LINEAR="linear",o.QUADRATIC="quadratic",o.BEZIER="bezier",o.CURVE="curve",o.STROKE="stroke",o.FILL="fill",o.TEXTURE="texture",o.IMMEDIATE="immediate",o.IMAGE="image",o.NEAREST="nearest",o.REPEAT="repeat",o.CLAMP="clamp",o.MIRROR="mirror",o.FLAT="flat",o.SMOOTH="smooth",o.LANDSCAPE="landscape",o.PORTRAIT="portrait",o._DEFAULT_STROKE="#000000",o._DEFAULT_FILL="#FFFFFF",o.GRID="grid",o.AXES="axes",o.LABEL="label",o.FALLBACK="fallback",o.CONTAIN="contain",o.COVER="cover",o.UNSIGNED_BYTE="unsigned-byte",o.UNSIGNED_INT="unsigned-int",o.FLOAT="float",o.HALF_FLOAT="half-float",o.RGBA="rgba"},{}],273:[function(r,s,o){function a(v){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(v)}function c(v){return(c=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(_){return a(_)}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":a(_)})(v)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.filter"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.string.includes"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.search"),r("core-js/modules/es.string.split"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.filter"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.string.includes"),r("core-js/modules/es.string.search"),r("core-js/modules/es.string.split"),Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var l=(u=r("./main"))&&u.__esModule?u:{default:u},u=function(v){if(v&&v.__esModule)return v;if(v===null||c(v)!=="object"&&typeof v!="function")return{default:v};var _=p();if(_&&_.has(v))return _.get(v);var x,w={},S=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(x in v){var R;Object.prototype.hasOwnProperty.call(v,x)&&((R=S?Object.getOwnPropertyDescriptor(v,x):null)&&(R.get||R.set)?Object.defineProperty(w,x,R):w[x]=v[x])}return w.default=v,_&&_.set(v,w),w}(r("./constants"));function p(){var v;return typeof WeakMap!="function"?null:(v=new WeakMap,p=function(){return v},v)}var y=[u.ARROW,u.CROSS,u.HAND,u.MOVE,u.TEXT,u.WAIT],d=(l.default.prototype._frameRate=0,l.default.prototype._lastFrameTime=window.performance.now(),l.default.prototype._targetFrameRate=60,window.print),f=!1;function b(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth||0}function g(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight||0}l.default.prototype.print=function(){var v;arguments.length?(v=console).log.apply(v,arguments):f||(d(),window.confirm("You just tried to print the webpage. Do you want to prevent this from running again?")&&(f=!0))},l.default.prototype.frameCount=0,l.default.prototype.deltaTime=0,l.default.prototype.focused=document.hasFocus(),l.default.prototype.cursor=function(v,_,x){var w,S="auto",R=this._curElement.elt;y.includes(v)?S=v:typeof v=="string"&&(w="",_&&x&&typeof _=="number"&&typeof x=="number"&&(w="".concat(_," ").concat(x)),S=v.substring(0,7)==="http://"||v.substring(0,8)==="https://"||/\.(cur|jpg|jpeg|gif|png|CUR|JPG|JPEG|GIF|PNG)$/.test(v)?"url(".concat(v,") ").concat(w,", auto"):v),R.style.cursor=S},l.default.prototype.frameRate=function(v){return l.default._validateParameters("frameRate",arguments),typeof v!="number"||v<0?this._frameRate:(this._setProperty("_targetFrameRate",v),v===0&&this._setProperty("_frameRate",v),this)},l.default.prototype.getFrameRate=function(){return this.frameRate()},l.default.prototype.setFrameRate=function(v){return this.frameRate(v)},l.default.prototype.getTargetFrameRate=function(){return this._targetFrameRate},l.default.prototype.noCursor=function(){this._curElement.elt.style.cursor="none"},l.default.prototype.webglVersion=u.P2D,l.default.prototype.displayWidth=screen.width,l.default.prototype.displayHeight=screen.height,l.default.prototype.windowWidth=0,l.default.prototype.windowHeight=0,l.default.prototype._onresize=function(v){this._setProperty("windowWidth",b()),this._setProperty("windowHeight",g());var _=this._isGlobal?window:this;typeof _.windowResized!="function"||(_=_.windowResized(v))===void 0||_||v.preventDefault()},l.default.prototype._updateWindowSize=function(){this._setProperty("windowWidth",b()),this._setProperty("windowHeight",g())},l.default.prototype.width=0,l.default.prototype.height=0,l.default.prototype.fullscreen=function(v){if(l.default._validateParameters("fullscreen",arguments),v===void 0)return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;if(v){if(v=document.documentElement,!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled))throw new Error("Fullscreen not enabled in this browser.");v.requestFullscreen?v.requestFullscreen():v.mozRequestFullScreen?v.mozRequestFullScreen():v.webkitRequestFullscreen?v.webkitRequestFullscreen():v.msRequestFullscreen&&v.msRequestFullscreen()}else document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},l.default.prototype.pixelDensity=function(v){var _;return l.default._validateParameters("pixelDensity",arguments),typeof v=="number"?(v!==this._pixelDensity&&(this._pixelDensity=this._maxAllowedPixelDimensions=v),(_=this).resizeCanvas(this.width,this.height,!0)):_=this._pixelDensity,_},l.default.prototype.displayDensity=function(){return window.devicePixelRatio},l.default.prototype.getURL=function(){return location.href},l.default.prototype.getURLPath=function(){return location.pathname.split("/").filter(function(v){return v!==""})},l.default.prototype.getURLParams=function(){for(var v,_=/[?&]([^&=]+)(?:[&=])([^&=]+)/gim,x={};(v=_.exec(location.search))!=null;)v.index===_.lastIndex&&_.lastIndex++,x[v[1]]=v[2];return x},r=l.default,o.default=r},{"./constants":272,"./main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.search":205,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],274:[function(r,s,o){r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.filter"),r("core-js/modules/es.array.for-each"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.join"),r("core-js/modules/es.array.map"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.array.some"),r("core-js/modules/es.function.name"),r("core-js/modules/es.object.assign"),r("core-js/modules/es.object.get-own-property-names"),r("core-js/modules/es.object.keys"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.constructor"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.match"),r("core-js/modules/es.string.replace"),r("core-js/modules/es.string.split"),r("core-js/modules/es.string.starts-with"),r("core-js/modules/web.dom-collections.for-each"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.filter"),r("core-js/modules/es.array.for-each"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.join"),r("core-js/modules/es.array.map"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.array.some"),r("core-js/modules/es.function.name"),r("core-js/modules/es.object.assign"),r("core-js/modules/es.object.get-own-property-names"),r("core-js/modules/es.object.keys"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.constructor"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.match"),r("core-js/modules/es.string.replace"),r("core-js/modules/es.string.split"),r("core-js/modules/es.string.starts-with"),r("core-js/modules/web.dom-collections.for-each"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var a=(y=r("../main"))&&y.__esModule?y:{default:y};r("../internationalization");function c(d,f){f=f||console.log.bind(console),l||p(),l.some(function(b){var g;if(d.message&&d.message.match("\\W?".concat(b.name,"\\W"))!==null)return g=b.type==="function"?"".concat(b.name,"()"):b.name,f("Did you just try to use p5.js's ".concat(g," ").concat(b.type,`? If so, you may want to move it into your sketch's setup() function.

For more details, see: `).concat(u)),!0})}var l=null,p=null,u=(a.default._friendlyError=a.default._checkForUserDefinedFunctions=a.default._fesErrorMonitor=function(){},l=null,"https://github.com/processing/p5.js/wiki/p5.js-overview#why-cant-i-assign-variables-using-p5-functions-and-variables-before-setup"),p=function(){function d(b){return Object.getOwnPropertyNames(b).filter(function(g){return g[0]!=="_"&&!(g in f)&&(f[g]=!0)}).map(function(g){var v=typeof b[g]=="function"?"function":g===g.toUpperCase()?"constant":"variable";return{name:g,type:v}})}var f={};(l=[].concat(d(a.default.prototype),d(r("../constants")))).sort(function(b,g){return g.name.length-b.name.length})},y=(a.default.prototype._helpForMisusedAtTopLevelCode=c,document.readyState!=="complete"&&(window.addEventListener("error",c,!1),window.addEventListener("load",function(){window.removeEventListener("error",c,!1)})),a.default);o.default=y},{"../constants":272,"../internationalization":281,"../main":283,"./browser_errors":void 0,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.some":170,"core-js/modules/es.function.name":174,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-names":187,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.starts-with":207,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],275:[function(r,s,o){Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var a=(a=r("../main"))&&a.__esModule?a:{default:a};r("../internationalization"),a.default._friendlyFileLoadError=function(){},r=a.default,o.default=r},{"../internationalization":281,"../main":283}],276:[function(r,s,o){function a(f){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(f)}function c(f){return(c=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(b){return a(b)}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":a(b)})(f)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.filter"),r("core-js/modules/es.array.for-each"),r("core-js/modules/es.array.from"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.join"),r("core-js/modules/es.array.map"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.keys"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.constructor"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.includes"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.match"),r("core-js/modules/es.string.split"),r("core-js/modules/es.string.trim"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.for-each"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.array.filter"),r("core-js/modules/es.array.for-each"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.join"),r("core-js/modules/es.array.map"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.object.keys"),r("core-js/modules/es.regexp.constructor"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.includes"),r("core-js/modules/es.string.match"),r("core-js/modules/es.string.split"),r("core-js/modules/es.string.trim"),r("core-js/modules/web.dom-collections.for-each"),Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var l=y(r("../main"));r("../internationalization"),p(r("../constants"));function u(){var f;return typeof WeakMap!="function"?null:(f=new WeakMap,u=function(){return f},f)}function p(f){if(f&&f.__esModule)return f;if(f===null||c(f)!=="object"&&typeof f!="function")return{default:f};var b=u();if(b&&b.has(f))return b.get(f);var g,v,_={},x=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(g in f)Object.prototype.hasOwnProperty.call(f,g)&&((v=x?Object.getOwnPropertyDescriptor(f,g):null)&&(v.get||v.set)?Object.defineProperty(_,g,v):_[g]=f[g]);return _.default=f,b&&b.set(f,_),_}function y(f){return f&&f.__esModule?f:{default:f}}l.default._fesCodeReader=function(){};var d=l.default;o.default=d},{"../constants":272,"../internationalization":281,"../main":283,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],277:[function(r,s,o){r("core-js/modules/es.array.filter"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.join"),r("core-js/modules/es.array.map"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.string.match"),r("core-js/modules/es.string.replace"),r("core-js/modules/es.string.split"),r("core-js/modules/es.array.filter"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.join"),r("core-js/modules/es.array.map"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.string.match"),r("core-js/modules/es.string.replace"),r("core-js/modules/es.string.split"),Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,r=(r=r("../main"))&&r.__esModule?r:{default:r};function a(){var c=/(^|@)\S+:\d+/,l=/^\s*at .*(\S+:\d+|\(native\))/m,u=/^(eval@)?(\[native code])?$/;return{parse:function(p){return p.stacktrace!==void 0||p["opera#sourceloc"]!==void 0?this.parseOpera(p):p.stack&&p.stack.match(l)?this.parseV8OrIE(p):p.stack?this.parseFFOrSafari(p):void 0},extractLocation:function(p){return p.indexOf(":")===-1?[p]:[(p=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(p.replace(/[()]/g,"")))[1],p[2]||void 0,p[3]||void 0]},parseV8OrIE:function(p){return p.stack.split(`
`).filter(function(y){return!!y.match(l)},this).map(function(y){var d=(y=-1<y.indexOf("(eval ")?y.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""):y).replace(/^\s+/,"").replace(/\(eval code/g,"("),f=d.match(/ (\((.+):(\d+):(\d+)\)$)/),d=(d=f?d.replace(f[0],""):d).split(/\s+/).slice(1),f=this.extractLocation(f?f[1]:d.pop());return{functionName:d.join(" ")||void 0,fileName:-1<["eval","<anonymous>"].indexOf(f[0])?void 0:f[0],lineNumber:f[1],columnNumber:f[2],source:y}},this)},parseFFOrSafari:function(p){return p.stack.split(`
`).filter(function(y){return!y.match(u)},this).map(function(y){var d,f;return(y=-1<y.indexOf(" > eval")?y.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1"):y).indexOf("@")===-1&&y.indexOf(":")===-1?{functionName:y}:{functionName:(f=y.match(d=/((.*".+"[^@]*)?[^@]*)(?:@)/))&&f[1]?f[1]:void 0,fileName:(f=this.extractLocation(y.replace(d,"")))[0],lineNumber:f[1],columnNumber:f[2],source:y}},this)},parseOpera:function(p){return!p.stacktrace||-1<p.message.indexOf(`
`)&&p.message.split(`
`).length>p.stacktrace.split(`
`).length?this.parseOpera9(p):p.stack?this.parseOpera11(p):this.parseOpera10(p)},parseOpera9:function(p){for(var y=/Line (\d+).*script (?:in )?(\S+)/i,d=p.message.split(`
`),f=[],b=2,g=d.length;b<g;b+=2){var v=y.exec(d[b]);v&&f.push({fileName:v[2],lineNumber:v[1],source:d[b]})}return f},parseOpera10:function(p){for(var y=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,d=p.stacktrace.split(`
`),f=[],b=0,g=d.length;b<g;b+=2){var v=y.exec(d[b]);v&&f.push({functionName:v[3]||void 0,fileName:v[2],lineNumber:v[1],source:d[b]})}return f},parseOpera11:function(p){return p.stack.split(`
`).filter(function(y){return!!y.match(c)&&!y.match(/^Error created at/)},this).map(function(y){var d,b=y.split("@"),f=this.extractLocation(b.pop()),b=b.shift()||"";return{functionName:b.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0,args:(d=b.match(/\(([^)]*)\)/)?b.replace(/^[^(]+\(([^)]*)\)$/,"$1"):d)===void 0||d==="[arguments not available]"?void 0:d.split(","),fileName:f[0],lineNumber:f[1],columnNumber:f[2],source:y}},this)}}}r.default._getErrorStackParser=function(){return new a},r=r.default,o.default=r},{"../main":283,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.match":201,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206}],278:[function(r,s,o){function a(p){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(p)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.for-each"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.join"),r("core-js/modules/es.array.last-index-of"),r("core-js/modules/es.array.map"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.function.name"),r("core-js/modules/es.map"),r("core-js/modules/es.number.constructor"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.get-prototype-of"),r("core-js/modules/es.object.keys"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.reflect.construct"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.set"),r("core-js/modules/es.string.includes"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.split"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.for-each"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.for-each"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.join"),r("core-js/modules/es.array.last-index-of"),r("core-js/modules/es.array.map"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.function.name"),r("core-js/modules/es.number.constructor"),r("core-js/modules/es.object.keys"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.set"),r("core-js/modules/es.string.includes"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.split"),r("core-js/modules/web.dom-collections.for-each"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var c=(c=r("../main"))&&c.__esModule?c:{default:c};(function(p){if(!(p&&p.__esModule)&&!(p===null||u(p)!=="object"&&typeof p!="function")){var y=l();if(y&&y.has(p))return y.get(p);var d,f={},b=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(d in p){var g;Object.prototype.hasOwnProperty.call(p,d)&&((g=b?Object.getOwnPropertyDescriptor(p,d):null)&&(g.get||g.set)?Object.defineProperty(f,d,g):f[d]=p[d])}f.default=p,y&&y.set(p,f)}})(r("../constants")),r("../internationalization");function l(){var p;return typeof WeakMap!="function"?null:(p=new WeakMap,l=function(){return p},p)}function u(p){return(u=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(y){return a(y)}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":a(y)})(p)}c.default._validateParameters=c.default._clearValidateParamsCache=function(){},r=c.default,o.default=r},{"../../../docs/parameterData.json":void 0,"../constants":272,"../internationalization":281,"../main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.function.name":174,"core-js/modules/es.map":175,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],279:[function(r,s,o){function a(p){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(p)}function c(p){return(c=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(y){return a(y)}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":a(y)})(p)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var l=function(p){if(p&&p.__esModule)return p;if(p===null||c(p)!=="object"&&typeof p!="function")return{default:p};var y=u();if(y&&y.has(p))return y.get(p);var d,f={},b=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(d in p){var g;Object.prototype.hasOwnProperty.call(p,d)&&((g=b?Object.getOwnPropertyDescriptor(p,d):null)&&(g.get||g.set)?Object.defineProperty(f,d,g):f[d]=p[d])}return f.default=p,y&&y.set(p,f),f}(r("./constants"));function u(){var p;return typeof WeakMap!="function"?null:(p=new WeakMap,u=function(){return p},p)}o.default={modeAdjust:function(p,y,d,f,b){var g;return b===l.CORNER?g={x:p,y,w:Math.abs(d),h:Math.abs(f)}:b===l.CORNERS?g={x:Math.min(p,d),y:Math.min(y,f),w:Math.abs(d-p),h:Math.abs(f-y)}:b===l.RADIUS?g={x:p-(d=Math.abs(d)),y:y-(f=Math.abs(f)),w:2*d,h:2*f}:b===l.CENTER&&(g={x:p-.5*(d=Math.abs(d)),y:y-.5*(f=Math.abs(f)),w:d,h:f}),g}}},{"./constants":272,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],280:[function(r,s,o){r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.promise"),r("core-js/modules/es.string.iterator"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.promise"),r("core-js/modules/es.string.iterator"),r("core-js/modules/web.dom-collections.iterator");var a=(c=r("../core/main"))&&c.__esModule?c:{default:c};r("./internationalization");var c=Promise.resolve();Promise.all([new Promise(function(l,u){document.readyState==="complete"?l():window.addEventListener("load",l,!1)}),c]).then(function(){var l;window._setupDone!==void 0?console.warn("p5.js seems to have been imported multiple times. Please remove the duplicate import"):window.mocha||(l=new Event("p5Ready"),window.dispatchEvent(l),(window.setup&&typeof window.setup=="function"||window.draw&&typeof window.draw=="function")&&!a.default.instance&&new a.default)})},{"../core/main":283,"./internationalization":281,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.string.iterator":200,"core-js/modules/web.dom-collections.iterator":246}],281:[function(r,s,o){r("core-js/modules/es.array.includes"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.join"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.object.keys"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.promise"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.string.includes"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.split"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.join"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.object.keys"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.promise"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.string.includes"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.split"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(o,"__esModule",{value:!0}),o.setTranslatorLanguage=o.currentTranslatorLanguage=o.availableTranslatorLanguages=o.initialize=o.translator=void 0;var a,c,l=p(r("i18next")),u=p(r("i18next-browser-languagedetector"));function p(f){return f&&f.__esModule?f:{default:f}}function y(f,b){for(var g=0;g<b.length;g++){var v=b[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(f,v.key,v)}}var d=function(){function f(v,_){if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");this.init(v,_)}var b,g;return b=f,(g=[{key:"fetchWithTimeout",value:function(v,_){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:2e3;return Promise.race([fetch(v,_),new Promise(function(w,S){return setTimeout(function(){return S(new Error("timeout"))},x)})])}},{key:"init",value:function(v){var _=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};this.services=v,this.options=_}},{key:"read",value:function(v,_,x){var w=this.options.loadPath;v===this.options.fallback?x(null,a[v][_]):c.includes(v)?(w=this.services.interpolator.interpolate(w,{lng:v,ns:_}),this.loadUrl(w,x)):x("Not found",!1)}},{key:"loadUrl",value:function(v,_){this.fetchWithTimeout(v).then(function(x){if(x.ok)return x.json();throw new Error("failed loading ".concat(v))},function(){throw new Error("failed loading ".concat(v))}).then(function(x){return _(null,x)}).catch(_)}}])&&y(b.prototype,g),f}();d.type="backend",o.translator=function(f,b){console.debug("p5.js translator called before translations were loaded"),l.default.t(f,b)},o.initialize=function(){return l.default.use(u.default).use(d).init({fallbackLng:"en",nestingPrefix:"$tr(",nestingSuffix:")",defaultNS:"translation",returnEmptyString:!1,interpolation:{escapeValue:!1},detection:{checkWhitelist:!1,order:["querystring","navigator","htmlTag","path","subdomain"],caches:[]},backend:{fallback:"en",loadPath:"https://cdn.jsdelivr.net/npm/p5/translations/{{lng}}/{{ns}}.json"},partialBundledLanguages:!0,resources:a}).then(function(f){o.translator=f},function(f){return console.debug("Translations failed to load (".concat(f,")"))})},o.availableTranslatorLanguages=function(){return l.default.languages},o.currentTranslatorLanguage=function(f){return l.default.language},o.setTranslatorLanguage=function(f){return l.default.changeLanguage(f||void 0,function(b){return console.debug("Translations failed to load (".concat(b,")"))})}},{"../../translations":void 0,"../../translations/dev":void 0,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/web.dom-collections.iterator":246,i18next:3,"i18next-browser-languagedetector":3}],282:[function(r,s,o){Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,r=(r=r("./main"))&&r.__esModule?r:{default:r},r.default.prototype.pushStyle=function(){throw new Error("pushStyle() not used, see push()")},r.default.prototype.popStyle=function(){throw new Error("popStyle() not used, see pop()")},r.default.prototype.popMatrix=function(){throw new Error("popMatrix() not used, see pop()")},r.default.prototype.pushMatrix=function(){throw new Error("pushMatrix() not used, see push()")},r=r.default,o.default=r},{"./main":283}],283:[function(r,s,o){function a(f){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(f)}function c(f){return(c=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(b){return a(b)}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":a(b)})(f)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.for-each"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.array.splice"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.get-own-property-names"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.for-each"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.for-each"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.array.splice"),r("core-js/modules/es.object.get-own-property-names"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/web.dom-collections.for-each"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,r("./shim");var l=function(f){if(f&&f.__esModule)return f;if(f===null||c(f)!=="object"&&typeof f!="function")return{default:f};var b=u();if(b&&b.has(f))return b.get(f);var g,v={},_=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(g in f){var x;Object.prototype.hasOwnProperty.call(f,g)&&((x=_?Object.getOwnPropertyDescriptor(f,g):null)&&(x.get||x.set)?Object.defineProperty(v,g,x):v[g]=f[g])}return v.default=f,b&&b.set(f,v),v}(r("./constants"));function u(){var f;return typeof WeakMap!="function"?null:(f=new WeakMap,u=function(){return f},f)}function p(f,b){for(var g=0;g<b.length;g++){var v=b[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(f,v.key,v)}}var y,d=function(){function f(v,w){var x=this;if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");this._setupDone=!1,this._preloadDone=!1,this._pixelDensity=Math.ceil(window.devicePixelRatio)||1,this._maxAllowedPixelDimensions=0,this._userNode=w,this._curElement=null,this._elements=[],this._glAttributes=null,this._requestAnimId=0,this._preloadCount=0,this._isGlobal=!1,this._loop=!0,this._startListener=null,this._initializeInstanceVariables(),this._defaultCanvasSize={width:100,height:100},this._events={mousemove:null,mousedown:null,mouseup:null,dragend:null,dragover:null,click:null,dblclick:null,mouseover:null,mouseout:null,keydown:null,keyup:null,keypress:null,touchstart:null,touchmove:null,touchend:null,resize:null,blur:null},this._millisStart=-1,this._recording=!1,this.touchstart=!1,this.touchend=!1,this._lcg_random_state=null,this._gaussian_previous=!1,this._events.wheel=null,this._loadingScreenId="p5_loading",this._registeredMethods={};var w=Object.getOwnPropertyNames(f.prototype._registeredMethods),S=!0,R=!1,D=void 0;try{for(var A,C=w[Symbol.iterator]();!(S=(A=C.next()).done);S=!0){var j=A.value;this._registeredMethods[j]=f.prototype._registeredMethods[j].slice()}}catch(te){R=!0,D=te}finally{try{S||C.return==null||C.return()}finally{if(R)throw D}}window.DeviceOrientationEvent&&(this._events.deviceorientation=null),window.DeviceMotionEvent&&!window._isNodeWebkit&&(this._events.devicemotion=null),f.prototype.callRegisteredHooksFor=function(te){var ee=this||f.prototype,Q=this._isGlobal?window:this;if(ee._registeredMethods.hasOwnProperty(te)){var ee=ee._registeredMethods[te],ne=!0,te=!1,re=void 0;try{for(var I,U=ee[Symbol.iterator]();!(ne=(I=U.next()).done);ne=!0){var H=I.value;typeof H=="function"&&H.call(Q)}}catch(le){te=!0,re=le}finally{try{ne||U.return==null||U.return()}finally{if(te)throw re}}}},this._start=function(){x._userNode&&typeof x._userNode=="string"&&(x._userNode=document.getElementById(x._userNode));var te=x._isGlobal?window:x;if(te.preload){x.callRegisteredHooksFor("beforePreload");var ee,Q=document.getElementById(x._loadingScreenId),ne=(Q||((Q=document.createElement("div")).innerHTML="Loading...",Q.style.position="absolute",Q.id=x._loadingScreenId,(x._userNode||document.body).appendChild(Q)),x._preloadMethods);for(ee in ne){ne[ee]=ne[ee]||f;var re=ne[ee];re!==f.prototype&&re!==f||(x._isGlobal&&(window[ee]=x._wrapPreload(x,ee)),re=x),x._registeredPreloadMethods[ee]=re[ee],re[ee]=x._wrapPreload(re,ee)}te.preload(),x._runIfPreloadsAreDone()}else x._setup(),x._recording||x._draw()},this._runIfPreloadsAreDone=function(){var te,ee=this._isGlobal?window:this;ee._preloadCount===0&&((te=document.getElementById(ee._loadingScreenId))&&te.parentNode.removeChild(te),this.callRegisteredHooksFor("afterPreload"),this._setupDone||(this._lastTargetFrameTime=window.performance.now(),this._lastRealFrameTime=window.performance.now(),ee._setup(),this._recording||ee._draw()))},this._decrementPreload=function(){var te=this._isGlobal?window:this;te._preloadDone||typeof te.preload!="function"||(te._setProperty("_preloadCount",te._preloadCount-1),te._runIfPreloadsAreDone())},this._wrapPreload=function(te,ee){var Q=this;return function(){Q._incrementPreload();for(var ne=arguments.length,re=new Array(ne),I=0;I<ne;I++)re[I]=arguments[I];return Q._registeredPreloadMethods[ee].apply(te,re)}},this._incrementPreload=function(){var te=this._isGlobal?window:this;te._preloadDone||te._setProperty("_preloadCount",te._preloadCount+1)},this._setup=function(){x.callRegisteredHooksFor("beforeSetup"),x.createCanvas(x._defaultCanvasSize.width,x._defaultCanvasSize.height,"p2d");var te=x._isGlobal?window:x;if(typeof te.preload=="function")for(var ee in x._preloadMethods)te[ee]=x._preloadMethods[ee][ee],te[ee]&&x&&(te[ee]=te[ee].bind(x));x._millisStart=window.performance.now(),te._preloadDone=!0,typeof te.setup=="function"&&te.setup();var Q=document.getElementsByTagName("canvas"),ne=!0,re=!1,I=void 0;try{for(var U,H=Q[Symbol.iterator]();!(ne=(U=H.next()).done);ne=!0){var X=U.value;X.dataset.hidden==="true"&&(X.style.visibility="",delete X.dataset.hidden)}}catch(ae){re=!0,I=ae}finally{try{ne||H.return==null||H.return()}finally{if(re)throw I}}x._lastTargetFrameTime=window.performance.now(),x._lastRealFrameTime=window.performance.now(),x._setupDone=!0,(x._accessibleOutputs.grid||x._accessibleOutputs.text)&&x._updateAccsOutput(),x.callRegisteredHooksFor("afterSetup")},this._draw=function(ee){var ee=ee||window.performance.now(),Q=ee-x._lastTargetFrameTime,ne=1e3/x._targetFrameRate;(!x._loop||ne-5<=Q)&&(x.deltaTime=ee-x._lastRealFrameTime,x._setProperty("deltaTime",x.deltaTime),x._frameRate=1e3/x.deltaTime,x.redraw(),x._lastTargetFrameTime=Math.max(x._lastTargetFrameTime+ne,ee),x._lastRealFrameTime=ee,x._updateMouseCoords!==void 0&&(x._updateMouseCoords(),x._setProperty("movedX",0),x._setProperty("movedY",0))),x._loop&&(x._requestAnimId=window.requestAnimationFrame(x._draw))},this._setProperty=function(te,ee){x[te]=ee,x._isGlobal&&(window[te]=ee)},this.remove=function(){x._startListener&&window.removeEventListener("load",x._startListener,!1);var te=document.getElementById(x._loadingScreenId);if(te&&(te.parentNode.removeChild(te),x._incrementPreload()),x._curElement){for(var ee in x._loop=!1,x._requestAnimId&&window.cancelAnimationFrame(x._requestAnimId),x._events)window.removeEventListener(ee,x._events[ee]);var Q=!0,te=!1,ne=void 0;try{for(var re,I=x._elements[Symbol.iterator]();!(Q=(re=I.next()).done);Q=!0){var U,H=re.value;for(U in H.elt&&H.elt.parentNode&&H.elt.parentNode.removeChild(H.elt),H._events)H.elt.removeEventListener(U,H._events[U])}}catch(ye){te=!0,ne=ye}finally{try{Q||I.return==null||I.return()}finally{if(te)throw ne}}var X=x;x._registeredMethods.remove.forEach(function(ye){ye!==void 0&&ye.call(X)})}if(x._isGlobal){for(var ae in f.prototype)try{delete window[ae]}catch{window[ae]=void 0}for(var le in x)if(x.hasOwnProperty(le))try{delete window[le]}catch{window[le]=void 0}f.instance=null}},this._updateWindowSize(),this._registeredMethods.init.forEach(function(te){te!==void 0&&te.call(this)},this),this._setupPromisePreloads();var P,O,L=this._createFriendlyGlobalFunctionBinder();if(v)v(this),f._checkForUserDefinedFunctions(this);else{for(var N in this._isGlobal=!0,f.instance=this,f.prototype)typeof f.prototype[N]=="function"?(P=N.substring(2),this._events.hasOwnProperty(P)||(Math.hasOwnProperty(N)&&Math[N]===f.prototype[N]?L(N,f.prototype[N]):L(N,f.prototype[N].bind(this)))):L(N,f.prototype[N]);for(var q in this)this.hasOwnProperty(q)&&L(q,this[q])}for(O in this._events){var W=this["_on".concat(O)];W&&(W=W.bind(this),window.addEventListener(O,W,{passive:!1}),this._events[O]=W)}function Y(){x._setProperty("focused",!0)}function J(){x._setProperty("focused",!1)}window.addEventListener("focus",Y),window.addEventListener("blur",J),this.registerMethod("remove",function(){window.removeEventListener("focus",Y),window.removeEventListener("blur",J)}),document.readyState==="complete"?this._start():(this._startListener=this._start.bind(this),window.addEventListener("load",this._startListener,!1))}var b,g;return b=f,(g=[{key:"_initializeInstanceVariables",value:function(){this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1},this._styles=[],this._bezierDetail=20,this._curveDetail=20,this._colorMode=l.RGB,this._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},this._downKeys={}}},{key:"registerPreloadMethod",value:function(v,_){f.prototype._preloadMethods.hasOwnProperty(v)||(f.prototype._preloadMethods[v]=_)}},{key:"registerMethod",value:function(v,_){var x=this||f.prototype;x._registeredMethods.hasOwnProperty(v)||(x._registeredMethods[v]=[]),x._registeredMethods[v].push(_)}},{key:"unregisterMethod",value:function(v,_){var x=this||f.prototype;if(x._registeredMethods.hasOwnProperty(v)){for(var w=x._registeredMethods[v],S=[],R=0;R<w.length;R++)w[R]===_&&S.push(R);for(var D=S.length-1;0<=D;D--)w.splice(S[D],1)}}},{key:"_createFriendlyGlobalFunctionBinder",value:function(){var v=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},_=v.globalObject||window;return v.log||console.log.bind(console),function(x,w){f.disableFriendlyErrors,_[x]=w}}}])&&p(b.prototype,g),f}();for(y in d.instance=null,d.disableFriendlyErrors=!1,l)d.prototype[y]=l[y];d.VERSION=l.VERSION,d.prototype._preloadMethods={loadJSON:d.prototype,loadImage:d.prototype,loadStrings:d.prototype,loadXML:d.prototype,loadBytes:d.prototype,loadTable:d.prototype,loadFont:d.prototype,loadModel:d.prototype,loadShader:d.prototype},d.prototype._registeredMethods={init:[],pre:[],post:[],remove:[]},d.prototype._registeredPreloadMethods={},o.default=d},{"./constants":272,"./shim":294,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-own-property-names":187,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],284:[function(r,s,o){Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var a=(r=r("./main"))&&r.__esModule?r:{default:r};function c(l,u){for(var p=0;p<u.length;p++){var y=u[p];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(l,y.key,y)}}a.default.Element=function(){function l(d,f){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");this.elt=d,this._pInst=this._pixelsState=f,this._events={},this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight}var u,p,y;return u=l,y=[{key:"_adjustListener",value:function(d,f,b){return f===!1?a.default.Element._detachListener(d,b):a.default.Element._attachListener(d,f,b),this}},{key:"_attachListener",value:function(d,f,b){b._events[d]&&a.default.Element._detachListener(d,b),f=f.bind(b),b.elt.addEventListener(d,f,!1),b._events[d]=f}},{key:"_detachListener",value:function(d,f){var b=f._events[d];f.elt.removeEventListener(d,b,!1),f._events[d]=null}}],(p=[{key:"parent",value:function(d){return d===void 0?this.elt.parentNode:(typeof d=="string"?(d[0]==="#"&&(d=d.substring(1)),d=document.getElementById(d)):d instanceof a.default.Element&&(d=d.elt),d.appendChild(this.elt),this)}},{key:"id",value:function(d){return d===void 0?this.elt.id:(this.elt.id=d,this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this)}},{key:"class",value:function(d){return d===void 0?this.elt.className:(this.elt.className=d,this)}},{key:"mousePressed",value:function(d){return a.default.Element._adjustListener("mousedown",function(f){return this._pInst._setProperty("mouseIsPressed",!0),this._pInst._setMouseButton(f),d.call(this,f)},this),this}},{key:"doubleClicked",value:function(d){return a.default.Element._adjustListener("dblclick",d,this),this}},{key:"mouseWheel",value:function(d){return a.default.Element._adjustListener("wheel",d,this),this}},{key:"mouseReleased",value:function(d){return a.default.Element._adjustListener("mouseup",d,this),this}},{key:"mouseClicked",value:function(d){return a.default.Element._adjustListener("click",d,this),this}},{key:"mouseMoved",value:function(d){return a.default.Element._adjustListener("mousemove",d,this),this}},{key:"mouseOver",value:function(d){return a.default.Element._adjustListener("mouseover",d,this),this}},{key:"mouseOut",value:function(d){return a.default.Element._adjustListener("mouseout",d,this),this}},{key:"touchStarted",value:function(d){return a.default.Element._adjustListener("touchstart",d,this),this}},{key:"touchMoved",value:function(d){return a.default.Element._adjustListener("touchmove",d,this),this}},{key:"touchEnded",value:function(d){return a.default.Element._adjustListener("touchend",d,this),this}},{key:"dragOver",value:function(d){return a.default.Element._adjustListener("dragover",d,this),this}},{key:"dragLeave",value:function(d){return a.default.Element._adjustListener("dragleave",d,this),this}},{key:"_setProperty",value:function(d,f){this[d]=f}}])&&c(u.prototype,p),y&&c(u,y),l}(),r=a.default.Element,o.default=r},{"./main":283}],285:[function(r,s,o){function a(x){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(x)}function c(x){return(c=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(w){return a(w)}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":a(w)})(x)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.splice"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.get-prototype-of"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.reflect.construct"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.splice"),r("core-js/modules/es.object.get-prototype-of"),Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var l=(_=r("./main"))&&_.__esModule?_:{default:_},u=function(x){if(x&&x.__esModule)return x;if(x===null||c(x)!=="object"&&typeof x!="function")return{default:x};var w=p();if(w&&w.has(x))return w.get(x);var S,R={},D=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(S in x){var A;Object.prototype.hasOwnProperty.call(x,S)&&((A=D?Object.getOwnPropertyDescriptor(x,S):null)&&(A.get||A.set)?Object.defineProperty(R,S,A):R[S]=x[S])}return R.default=x,w&&w.set(x,R),R}(r("./constants"));function p(){var x;return typeof WeakMap!="function"?null:(x=new WeakMap,p=function(){return x},x)}function y(x,w){for(var S=0;S<w.length;S++){var R=w[S];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(x,R.key,R)}}function d(x,w){return(d=Object.setPrototypeOf||function(S,R){return S.__proto__=R,S})(x,w)}function f(x){return function(){var w,S=v(x);return b(this,function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(w=v(this).constructor,Reflect.construct(S,arguments,w)):S.apply(this,arguments))}}function b(x,w){return!w||c(w)!=="object"&&typeof w!="function"?g(x):w}function g(x){if(x===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x}function v(x){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(w){return w.__proto__||Object.getPrototypeOf(w)})(x)}l.default.Graphics=function(x){var w=R;if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function");w.prototype=Object.create(x&&x.prototype,{constructor:{value:w,writable:!0,configurable:!0}}),x&&d(w,x);var S=f(R);function R(D,A,q,j,P){var O;if(!(this instanceof R))throw new TypeError("Cannot call a class as a function");N=P||document.createElement("canvas"),(O=S.call(this,N,j)).canvas=N;var L,N=q||u.P2D,q=j._userNode||document.body;for(L in P||q.appendChild(O.canvas),l.default.prototype)O[L]||(typeof l.default.prototype[L]=="function"?O[L]=l.default.prototype[L].bind(g(O)):O[L]=l.default.prototype[L]);return l.default.prototype._initializeInstanceVariables.apply(g(O)),O.width=D,O.height=A,O._pixelDensity=j._pixelDensity,N===u.WEBGL?(O._renderer=new l.default.RendererGL(O.canvas,g(O),!1),D=(P=O._renderer._adjustDimensions(D,A)).adjustedWidth,A=P.adjustedHeight):O._renderer=new l.default.Renderer2D(O.canvas,g(O),!1),j._elements.push(g(O)),Object.defineProperty(g(O),"deltaTime",{get:function(){return this._pInst.deltaTime}}),O._renderer.resize(D,A),O._renderer._applyDefaults(),b(O,g(O))}return w=R,(x=[{key:"reset",value:function(){this._renderer.resetMatrix(),this._renderer.isP3D&&this._renderer._update()}},{key:"remove",value:function(){this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt);var D,A=this._pInst._elements.indexOf(this);for(D in A!==-1&&this._pInst._elements.splice(A,1),this._events)this.elt.removeEventListener(D,this._events[D]);this._renderer=void 0,this.canvas=void 0,this.elt=void 0}},{key:"createFramebuffer",value:function(D){return new l.default.Framebuffer(this,D)}}])&&y(w.prototype,x),R}(l.default.Element);var _=l.default.Graphics;o.default=_},{"./constants":272,"./main":283,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],286:[function(r,s,o){function a(x){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(x)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.number.constructor"),r("core-js/modules/es.object.assign"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.get-prototype-of"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.reflect.construct"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.replace"),r("core-js/modules/es.string.split"),r("core-js/modules/es.string.trim"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.number.constructor"),r("core-js/modules/es.object.assign"),r("core-js/modules/es.object.get-prototype-of"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.replace"),r("core-js/modules/es.string.split"),r("core-js/modules/es.string.trim"),Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var c=(v=r("./main"))&&v.__esModule?v:{default:v},l=function(x){if(x&&x.__esModule)return x;if(x===null||p(x)!=="object"&&typeof x!="function")return{default:x};var w=u();if(w&&w.has(x))return w.get(x);var S,R={},D=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(S in x){var A;Object.prototype.hasOwnProperty.call(x,S)&&((A=D?Object.getOwnPropertyDescriptor(x,S):null)&&(A.get||A.set)?Object.defineProperty(R,S,A):R[S]=x[S])}return R.default=x,w&&w.set(x,R),R}(r("../core/constants"));function u(){var x;return typeof WeakMap!="function"?null:(x=new WeakMap,u=function(){return x},x)}function p(x){return(p=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(w){return a(w)}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":a(w)})(x)}function y(x,w){for(var S=0;S<w.length;S++){var R=w[S];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(x,R.key,R)}}function d(x,w){return(d=Object.setPrototypeOf||function(S,R){return S.__proto__=R,S})(x,w)}function f(x){return function(){var w,S,R=g(x);return w=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(w=g(this).constructor,Reflect.construct(R,arguments,w)):R.apply(this,arguments),R=this,!(S=w)||p(S)!=="object"&&typeof S!="function"?b(R):S}}function b(x){if(x===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x}function g(x){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(w){return w.__proto__||Object.getPrototypeOf(w)})(x)}var v=function(x){var w=R;if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function");w.prototype=Object.create(x&&x.prototype,{constructor:{value:w,writable:!0,configurable:!0}}),x&&d(w,x);var S=f(R);function R(D,A,C){var j;if(this instanceof R)return(j=S.call(this,D,A)).canvas=D,j._pixelsState=A,C?(j._isMainCanvas=!0,j._pInst._setProperty("_curElement",b(j)),j._pInst._setProperty("canvas",j.canvas),j._pInst._setProperty("width",j.width),j._pInst._setProperty("height",j.height)):(j.canvas.style.display="none",j._styles=[]),j._clipping=!1,j._clipInvert=!1,j._textSize=12,j._textLeading=15,j._textFont="sans-serif",j._textStyle=l.NORMAL,j._textAscent=null,j._textDescent=null,j._textAlign=l.LEFT,j._textBaseline=l.BASELINE,j._textWrap=l.WORD,j._rectMode=l.CORNER,j._ellipseMode=l.CENTER,j._curveTightness=0,j._imageMode=l.CORNER,j._tint=null,j._doStroke=!0,j._doFill=!0,j._strokeSet=!1,j._fillSet=!1,j._leadingSet=!1,j._pushPopDepth=0,j;throw new TypeError("Cannot call a class as a function")}return w=R,(x=[{key:"push",value:function(){return this._pushPopDepth++,{properties:{_doStroke:this._doStroke,_strokeSet:this._strokeSet,_doFill:this._doFill,_fillSet:this._fillSet,_tint:this._tint,_imageMode:this._imageMode,_rectMode:this._rectMode,_ellipseMode:this._ellipseMode,_textFont:this._textFont,_textLeading:this._textLeading,_leadingSet:this._leadingSet,_textSize:this._textSize,_textAlign:this._textAlign,_textBaseline:this._textBaseline,_textStyle:this._textStyle,_textWrap:this._textWrap}}}},{key:"pop",value:function(D){this._pushPopDepth--,D.properties&&Object.assign(this,D.properties)}},{key:"beginClip",value:function(){var D=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};if(this._clipping)throw new Error("It looks like you're trying to clip while already in the middle of clipping. Did you forget to endClip()?");this._clipping=!0,this._clipInvert=D.invert}},{key:"endClip",value:function(){if(!this._clipping)throw new Error("It looks like you've called endClip() without beginClip(). Did you forget to call beginClip() first?");this._clipping=!1}},{key:"resize",value:function(D,A){this.width=D,this.height=A,this.elt.width=D*this._pInst._pixelDensity,this.elt.height=A*this._pInst._pixelDensity,this.elt.style.width="".concat(D,"px"),this.elt.style.height="".concat(A,"px"),this._isMainCanvas&&(this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height))}},{key:"get",value:function(D,A,C,j){var P=this._pixelsState,O=P._pixelDensity,L=this.canvas;if(D===void 0&&A===void 0)D=A=0,C=P.width,j=P.height;else if(D*=O,A*=O,C===void 0&&j===void 0)return D<0||A<0||D>=L.width||A>=L.height?[0,0,0,0]:this._getPixel(D,A);return P=new c.default.Image(C*O,j*O),P.pixelDensity(O),P.canvas.getContext("2d").drawImage(L,D,A,C*O,j*O,0,0,C*O,j*O),P}},{key:"textLeading",value:function(D){return typeof D=="number"?(this._setProperty("_leadingSet",!0),this._setProperty("_textLeading",D),this._pInst):this._textLeading}},{key:"textStyle",value:function(D){return D?(D!==l.NORMAL&&D!==l.ITALIC&&D!==l.BOLD&&D!==l.BOLDITALIC||this._setProperty("_textStyle",D),this._applyTextProperties()):this._textStyle}},{key:"textAscent",value:function(){return this._textAscent===null&&this._updateTextMetrics(),this._textAscent}},{key:"textDescent",value:function(){return this._textDescent===null&&this._updateTextMetrics(),this._textDescent}},{key:"textAlign",value:function(D,A){return D!==void 0?(this._setProperty("_textAlign",D),A!==void 0&&this._setProperty("_textBaseline",A),this._applyTextProperties()):{horizontal:this._textAlign,vertical:this._textBaseline}}},{key:"textWrap",value:function(D){return this._setProperty("_textWrap",D),this._textWrap}},{key:"text",value:function(D,A,C,j,P){var O,L,N,q,W=this._pInst,Y=this._textWrap,J=Number.MAX_VALUE,te=C;if((this._doFill||this._doStroke)&&D!==void 0){if(O=(D=(D=typeof D!="string"?D.toString():D).replace(/(\t)/g,"  ")).split(`
`),j!==void 0){switch(this._rectMode===l.CENTER&&(A-=j/2),this._textAlign){case l.CENTER:A+=j/2;break;case l.RIGHT:A+=j}if(P!==void 0){this._rectMode===l.CENTER&&(C-=P/2,te-=P/2);var D=C,ee=W.textAscent();switch(this._textBaseline){case l.BOTTOM:q=C+P,C=Math.max(q,C),te+=ee;break;case l.CENTER:q=C+P/2,C=Math.max(q,C),te+=ee/2}J=C+P-ee,this._textBaseline===l.CENTER&&(J=D+P-ee/2)}else this._textBaseline!==l.BOTTOM&&this._textBaseline!==l.CENTER||(te=C-(D=W.textSize()*this._textLeading)/2,J=C+D/2);if(Y===l.WORD){for(var Q=[],ne=0;ne<O.length;ne++){for(var re="",I=O[ne].split(" "),U=0;U<I.length;U++)L="".concat(re+I[U])+" ",re=j<(N=this.textWidth(L))&&0<re.length?(Q.push(re),"".concat(I[U])+" "):L;Q.push(re)}var H=0;this._textBaseline===l.CENTER?H=(Q.length-1)*W.textLeading()/2:this._textBaseline===l.BOTTOM&&(H=(Q.length-1)*W.textLeading());for(var X=0;X<O.length;X++){re="",I=O[X].split(" ");for(var ae=0;ae<I.length;ae++)L="".concat(re+I[ae])+" ",j<(N=this.textWidth(L))&&0<re.length?(this._renderText(W,re.trim(),A,C-H,J,te),re="".concat(I[ae])+" ",C+=W.textLeading()):re=L;this._renderText(W,re.trim(),A,C-H,J,te),C+=W.textLeading()}}else{for(var le=[],he=0;he<O.length;he++)for(var ye=O[he].split(re=""),me=0;me<ye.length;me++)L="".concat(re+ye[me]),(N=this.textWidth(L))<=j?re+=ye[me]:j<N&&0<re.length&&(le.push(re),re="".concat(ye[me]));le.push(re);var xe=0;this._textBaseline===l.CENTER?xe=(le.length-1)*W.textLeading()/2:this._textBaseline===l.BOTTOM&&(xe=(le.length-1)*W.textLeading());for(var Se=0;Se<O.length;Se++){ye=O[Se].split(re="");for(var pe=0;pe<ye.length;pe++)L="".concat(re+ye[pe]),(N=this.textWidth(L))<=j?re+=ye[pe]:j<N&&0<re.length&&(this._renderText(W,re.trim(),A,C-xe,J,te),C+=W.textLeading(),re="".concat(ye[pe]))}this._renderText(W,re.trim(),A,C-xe,J,te),C+=W.textLeading()}}else{var Te=0;this._textBaseline===l.CENTER?Te=(O.length-1)*W.textLeading()/2:this._textBaseline===l.BOTTOM&&(Te=(O.length-1)*W.textLeading());for(var ke=0;ke<O.length;ke++)this._renderText(W,O[ke],A,C-Te,J,te-Te),C+=W.textLeading()}return W}}},{key:"_applyDefaults",value:function(){return this}},{key:"_isOpenType",value:function(){var D=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this._textFont;return p(D)==="object"&&D.font&&D.font.supported}},{key:"_updateTextMetrics",value:function(){var D,A,C,j,P,O;return this._isOpenType()?(this._setProperty("_textAscent",this._textFont._textAscent()),this._setProperty("_textDescent",this._textFont._textDescent())):((D=document.createElement("span")).style.fontFamily=this._textFont,D.style.fontSize="".concat(this._textSize,"px"),D.innerHTML="ABCjgq|",(O=document.createElement("div")).style.display="inline-block",O.style.width="1px",O.style.height="0px",j=((A=document.createElement("div")).appendChild(D),A.appendChild(O),A.style.height="0px",A.style.overflow="hidden",document.body.appendChild(A),O.style.verticalAlign="baseline",_(O)),P=_(D),C=j[1]-P[1],j=(O.style.verticalAlign="bottom",_(O)),P=_(D),O=j[1]-P[1]-C,document.body.removeChild(A),this._setProperty("_textAscent",C),this._setProperty("_textDescent",O)),this}}])&&y(w.prototype,x),R}(c.default.Element);function _(x){var w=0,S=0;if(x.offsetParent)for(;w+=x.offsetLeft,S+=x.offsetTop,x=x.offsetParent;);else w+=x.offsetLeft,S+=x.offsetTop;return[w,S]}v.prototype.textSize=function(x){return typeof x=="number"?(this._setProperty("_textSize",x),this._leadingSet||this._setProperty("_textLeading",x*l._DEFAULT_LEADMULT),this._applyTextProperties()):this._textSize},c.default.Renderer=v,r=c.default.Renderer,o.default=r},{"../core/constants":272,"./main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],287:[function(x,s,o){function a(w){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S})(w)}function c(w){return(c=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(S){return a(S)}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":a(S)})(w)}x("core-js/modules/es.symbol"),x("core-js/modules/es.symbol.description"),x("core-js/modules/es.symbol.iterator"),x("core-js/modules/es.array.concat"),x("core-js/modules/es.array.fill"),x("core-js/modules/es.array.iterator"),x("core-js/modules/es.array.join"),x("core-js/modules/es.array.slice"),x("core-js/modules/es.function.name"),x("core-js/modules/es.object.get-own-property-descriptor"),x("core-js/modules/es.object.get-prototype-of"),x("core-js/modules/es.object.to-string"),x("core-js/modules/es.reflect.construct"),x("core-js/modules/es.reflect.get"),x("core-js/modules/es.regexp.exec"),x("core-js/modules/es.regexp.to-string"),x("core-js/modules/es.string.iterator"),x("core-js/modules/es.weak-map"),x("core-js/modules/web.dom-collections.iterator"),x("core-js/modules/es.array.concat"),x("core-js/modules/es.array.fill"),x("core-js/modules/es.array.join"),x("core-js/modules/es.array.slice"),x("core-js/modules/es.function.name"),x("core-js/modules/es.object.get-prototype-of"),x("core-js/modules/es.object.to-string"),x("core-js/modules/es.regexp.exec"),x("core-js/modules/es.regexp.to-string"),Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var l=(_=x("./main"))&&_.__esModule?_:{default:_},u=function(w){if(w&&w.__esModule)return w;if(w===null||c(w)!=="object"&&typeof w!="function")return{default:w};var S=p();if(S&&S.has(w))return S.get(w);var R,D={},A=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(R in w){var C;Object.prototype.hasOwnProperty.call(w,R)&&((C=A?Object.getOwnPropertyDescriptor(w,R):null)&&(C.get||C.set)?Object.defineProperty(D,R,C):D[R]=w[R])}return D.default=w,S&&S.set(w,D),D}(x("./constants"));function p(){var w;return typeof WeakMap!="function"?null:(w=new WeakMap,p=function(){return w},w)}function y(w,S){for(var R=0;R<S.length;R++){var D=S[R];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(w,D.key,D)}}function d(w,S,R){return(d=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(j,A,C){var j=function(P,O){for(;!Object.prototype.hasOwnProperty.call(P,O)&&(P=g(P))!==null;);return P}(j,A);if(j)return(j=Object.getOwnPropertyDescriptor(j,A)).get?j.get.call(C):j.value})(w,S,R||w)}function f(w,S){return(f=Object.setPrototypeOf||function(R,D){return R.__proto__=D,R})(w,S)}function b(w){return function(){var S,R=g(w),R=(S=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(S=g(this).constructor,Reflect.construct(R,arguments,S)):R.apply(this,arguments),this);if(!S||c(S)!=="object"&&typeof S!="function"){if(R!==void 0)return R;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return S}}function g(w){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(S){return S.__proto__||Object.getPrototypeOf(S)})(w)}x("./p5.Renderer");var v="rgba(0,0,0,0)",_=function(w){var S=D;if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(w&&w.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),w&&f(S,w);var R=b(D);function D(A,C,j){if(this instanceof D)return(A=R.call(this,A,C,j)).drawingContext=A.canvas.getContext("2d"),A._pInst._setProperty("drawingContext",A.drawingContext),A;throw new TypeError("Cannot call a class as a function")}return S=D,(w=[{key:"getFilterGraphicsLayer",value:function(){var A;return this.filterGraphicsLayer||(A=(this._pInst instanceof l.default.Graphics?this._pInst:this)._pInst,this.filterGraphicsLayer=new l.default.Graphics(this.width,this.height,u.WEBGL,A)),this.filterGraphicsLayer.width===this.width&&this.filterGraphicsLayer.height===this.height||this.filterGraphicsLayer.resizeCanvas(this.width,this.height),this.filterGraphicsLayer.pixelDensity()!==this._pInst.pixelDensity()&&this.filterGraphicsLayer.pixelDensity(this._pInst.pixelDensity()),this.filterGraphicsLayer}},{key:"_applyDefaults",value:function(){this._cachedFillStyle=this._cachedStrokeStyle=void 0,this._cachedBlendMode=u.BLEND,this._setFill(u._DEFAULT_FILL),this._setStroke(u._DEFAULT_STROKE),this.drawingContext.lineCap=u.ROUND,this.drawingContext.font="normal 12px sans-serif"}},{key:"resize",value:function(A,C){d(g(D.prototype),"resize",this).call(this,A,C),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity)}},{key:"background",value:function(){var A,C;this.drawingContext.save(),this.resetMatrix(),(arguments.length<=0?void 0:arguments[0])instanceof l.default.Image?0<=(arguments.length<=1?void 0:arguments[1])?(A=arguments.length<=0?void 0:arguments[0],this.drawingContext.globalAlpha=(arguments.length<=1?void 0:arguments[1])/255,this._pInst.image(A,0,0,this.width,this.height)):this._pInst.image(arguments.length<=0?void 0:arguments[0],0,0,this.width,this.height):(A=this._getFill(),C=(C=this._pInst).color.apply(C,arguments),this._pInst._addAccsOutput()&&this._pInst._accsBackground(C.levels),C=C.toString(),this._setFill(C),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.fillRect(0,0,this.width,this.height),this._setFill(A),this._isErasing&&this._pInst.erase()),this.drawingContext.restore()}},{key:"clear",value:function(){this.drawingContext.save(),this.resetMatrix(),this.drawingContext.clearRect(0,0,this.width,this.height),this.drawingContext.restore()}},{key:"fill",value:function(){var A=(A=this._pInst).color.apply(A,arguments);this._setFill(A.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("fill",A.levels)}},{key:"stroke",value:function(){var A=(A=this._pInst).color.apply(A,arguments);this._setStroke(A.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("stroke",A.levels)}},{key:"erase",value:function(A,C){this._isErasing||(this._cachedFillStyle=this.drawingContext.fillStyle,A=this._pInst.color(255,A).toString(),this.drawingContext.fillStyle=A,this._cachedStrokeStyle=this.drawingContext.strokeStyle,A=this._pInst.color(255,C).toString(),this.drawingContext.strokeStyle=A,C=this._cachedBlendMode,this.blendMode(u.REMOVE),this._cachedBlendMode=C,this._isErasing=!0)}},{key:"noErase",value:function(){this._isErasing&&(this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode),this._isErasing=!1)}},{key:"beginClip",value:function(){var A=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},A=(d(g(D.prototype),"beginClip",this).call(this,A),this._cachedFillStyle=this.drawingContext.fillStyle,this._pInst.color(255,0).toString()),A=(this.drawingContext.fillStyle=A,this._cachedStrokeStyle=this.drawingContext.strokeStyle,this._pInst.color(255,0).toString()),A=(this.drawingContext.strokeStyle=A,this._cachedBlendMode);this.blendMode(u.BLEND),this._cachedBlendMode=A,this.drawingContext.beginPath(),this._clipInvert&&(this.drawingContext.moveTo(-2*this.width,-2*this.height),this.drawingContext.lineTo(-2*this.width,2*this.height),this.drawingContext.lineTo(2*this.width,2*this.height),this.drawingContext.lineTo(2*this.width,-2*this.height),this.drawingContext.closePath())}},{key:"endClip",value:function(){this._doFillStrokeClose(),this.drawingContext.clip(),d(g(D.prototype),"endClip",this).call(this),this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode)}},{key:"image",value:function(A,C,j,P,O,L,N,q,W){A.gifProperties&&A._animateGif(this._pInst);try{l.default.MediaElement&&A instanceof l.default.MediaElement&&A._ensureCanvas();var Y=(Y=this._tint&&A.canvas?this._getTintedImageCanvas(A):Y)||A.canvas||A.elt,J=1;A.width&&0<A.width&&(J=Y.width/A.width),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.drawImage(Y,J*C,J*j,J*P,J*O,L,N,q,W),this._isErasing&&this._pInst.erase()}catch(te){if(te.name!=="NS_ERROR_NOT_AVAILABLE")throw te}}},{key:"_getTintedImageCanvas",value:function(A){if(!A.canvas)return A;A.tintCanvas||(A.tintCanvas=document.createElement("canvas")),A.tintCanvas.width!==A.canvas.width&&(A.tintCanvas.width=A.canvas.width),A.tintCanvas.height!==A.canvas.height&&(A.tintCanvas.height=A.canvas.height);var C=A.tintCanvas.getContext("2d");return C.save(),C.clearRect(0,0,A.canvas.width,A.canvas.height),(this._tint[0]<255||this._tint[1]<255||this._tint[2]<255)&&(C.drawImage(A.canvas,0,0),C.globalCompositeOperation="luminosity",C.drawImage(A.canvas,0,0),C.globalCompositeOperation="color",C.drawImage(A.canvas,0,0),C.globalCompositeOperation="multiply",C.fillStyle="rgb(".concat(this._tint.slice(0,3).join(", "),")"),C.fillRect(0,0,A.canvas.width,A.canvas.height),C.globalCompositeOperation="destination-in"),C.globalAlpha=this._tint[3]/255,C.drawImage(A.canvas,0,0),C.restore(),A.tintCanvas}},{key:"blendMode",value:function(A){if(A===u.SUBTRACT)console.warn("blendMode(SUBTRACT) only works in WEBGL mode.");else{if(A!==u.BLEND&&A!==u.REMOVE&&A!==u.DARKEST&&A!==u.LIGHTEST&&A!==u.DIFFERENCE&&A!==u.MULTIPLY&&A!==u.EXCLUSION&&A!==u.SCREEN&&A!==u.REPLACE&&A!==u.OVERLAY&&A!==u.HARD_LIGHT&&A!==u.SOFT_LIGHT&&A!==u.DODGE&&A!==u.BURN&&A!==u.ADD)throw new Error("Mode ".concat(A," not recognized."));this._cachedBlendMode=A,this.drawingContext.globalCompositeOperation=A}}},{key:"blend",value:function(){for(var A=this.drawingContext.globalCompositeOperation,C=arguments.length,j=new Array(C),P=0;P<C;P++)j[P]=arguments[P];var O=j[j.length-1],L=Array.prototype.slice.call(j,0,j.length-1);this.drawingContext.globalCompositeOperation=O,l.default.prototype.copy.apply(this,L),this.drawingContext.globalCompositeOperation=A}},{key:"_getPixel",value:function(A,C){return A=this.drawingContext.getImageData(A,C,1,1).data,[A[0],A[1],A[2],A[3]]}},{key:"loadPixels",value:function(){var A=this._pixelsState,C=A._pixelDensity,j=this.width*C,C=this.height*C,j=this.drawingContext.getImageData(0,0,j,C);A._setProperty("imageData",j),A._setProperty("pixels",j.data)}},{key:"set",value:function(A,C,j){A=Math.floor(A),C=Math.floor(C);var P=this._pixelsState;if(j instanceof l.default.Image)this.drawingContext.save(),this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(P._pixelDensity,P._pixelDensity),this.drawingContext.clearRect(A,C,j.width,j.height),this.drawingContext.drawImage(j.canvas,A,C),this.drawingContext.restore();else{var O=0,L=0,N=0,q=0,W=4*(C*P._pixelDensity*(this.width*P._pixelDensity)+A*P._pixelDensity);if(P.imageData||P.loadPixels(),typeof j=="number")W<P.pixels.length&&(N=L=O=j,q=255);else if(Array.isArray(j)){if(j.length<4)throw new Error("pixel array must be of the form [R, G, B, A]");W<P.pixels.length&&(O=j[0],L=j[1],N=j[2],q=j[3])}else j instanceof l.default.Color&&W<P.pixels.length&&(O=j.levels[0],L=j.levels[1],N=j.levels[2],q=j.levels[3]);for(var Y=0;Y<P._pixelDensity;Y++)for(var J=0;J<P._pixelDensity;J++)W=4*((C*P._pixelDensity+J)*this.width*P._pixelDensity+(A*P._pixelDensity+Y)),P.pixels[W]=O,P.pixels[W+1]=L,P.pixels[W+2]=N,P.pixels[W+3]=q}}},{key:"updatePixels",value:function(A,C,j,P){var O=this._pixelsState,L=O._pixelDensity;A===void 0&&C===void 0&&j===void 0&&P===void 0&&(C=A=0,j=this.width,P=this.height),A*=L,C*=L,j*=L,P*=L,this.gifProperties&&(this.gifProperties.frames[this.gifProperties.displayIndex].image=O.imageData),this.drawingContext.putImageData(O.imageData,0,0,A,C,j,P)}},{key:"arc",value:function(W,Y,J,te,O,L,N){var q=this.drawingContext,W=W+J/2,Y=Y+te/2,J=J/2,te=te/2,ee=!(N===u.CHORD||N===u.OPEN||(L-O)%u.TWO_PI==0);return this._doFill&&(this._clipping||q.beginPath(),q.ellipse(W,Y,J,te,0,O,L),ee&&q.lineTo(W,Y),q.closePath(),this._clipping||q.fill()),this._doStroke&&(this._clipping||q.beginPath(),q.ellipse(W,Y,J,te,0,O,L),N===u.PIE&&ee&&q.lineTo(W,Y),N!==u.PIE&&N!==u.CHORD||q.closePath(),this._clipping||q.stroke()),this}},{key:"ellipse",value:function(q){var C=this.drawingContext,j=this._doFill,P=this._doStroke,O=parseFloat(q[0]),L=parseFloat(q[1]),N=parseFloat(q[2]),q=parseFloat(q[3]);if(j&&!P){if(this._getFill()===v)return this}else if(!j&&P&&this._getStroke()===v)return this;O+=N/2,L+=q/2,N/=2,q/=2,this._clipping||C.beginPath(),C.ellipse(O,L,N,q,0,0,2*Math.PI),C.closePath(),!this._clipping&&j&&C.fill(),!this._clipping&&P&&C.stroke()}},{key:"line",value:function(A,C,j,P){var O=this.drawingContext;return this._doStroke&&this._getStroke()!==v&&(this._clipping||O.beginPath(),O.moveTo(A,C),O.lineTo(j,P),O.stroke()),this}},{key:"point",value:function(A,C){var j,P,O=this.drawingContext;return!this._doStroke||this._getStroke()===v?this:(j=this._getStroke(),P=this._getFill(),this._clipping||this._setFill(j),this._clipping||O.beginPath(),O.arc(A,C,O.lineWidth/2,0,u.TWO_PI,!1),void(this._clipping||(O.fill(),this._setFill(P))))}},{key:"quad",value:function(A,C,j,P,O,L,N,q){var W=this.drawingContext,Y=this._doFill,J=this._doStroke;if(Y&&!J){if(this._getFill()===v)return this}else if(!Y&&J&&this._getStroke()===v)return this;return this._clipping||W.beginPath(),W.moveTo(A,C),W.lineTo(j,P),W.lineTo(O,L),W.lineTo(N,q),W.closePath(),!this._clipping&&Y&&W.fill(),!this._clipping&&J&&W.stroke(),this}},{key:"rect",value:function(J){var C,j,P=J[0],O=J[1],L=J[2],N=J[3],q=J[4],W=J[5],Y=J[6],J=J[7],te=this.drawingContext,ee=this._doFill,Q=this._doStroke;if(ee&&!Q){if(this._getFill()===v)return this}else if(!ee&&Q&&this._getStroke()===v)return this;return this._clipping||te.beginPath(),q===void 0?te.rect(P,O,L,N):(W===void 0&&(W=q),Y===void 0&&(Y=W),J===void 0&&(J=Y),Q=(ee=Math.abs(L))/2,j=(C=Math.abs(N))/2,te.roundRect(P,O,L,N,[q=C<2*(q=ee<2*q?Q:q)?j:q,W=C<2*(W=ee<2*W?Q:W)?j:W,Y=C<2*(Y=ee<2*Y?Q:Y)?j:Y,J=C<2*(J=ee<2*J?Q:J)?j:J])),!this._clipping&&this._doFill&&te.fill(),!this._clipping&&this._doStroke&&te.stroke(),this}},{key:"triangle",value:function(Y){var C=this.drawingContext,j=this._doFill,P=this._doStroke,O=Y[0],L=Y[1],N=Y[2],q=Y[3],W=Y[4],Y=Y[5];if(j&&!P){if(this._getFill()===v)return this}else if(!j&&P&&this._getStroke()===v)return this;this._clipping||C.beginPath(),C.moveTo(O,L),C.lineTo(N,q),C.lineTo(W,Y),C.closePath(),!this._clipping&&j&&C.fill(),!this._clipping&&P&&C.stroke()}},{key:"endShape",value:function(A,C,j,P,O,L,N){if(C.length!==0&&(this._doStroke||this._doFill)){var q,W,Y,J=A===u.CLOSE,te=(J&&!L&&C.push(C[0]),C.length);if(j&&N===null){if(3<te){var ee=[],Q=1-this._curveTightness;for(this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(C[1][0],C[1][1]),W=1;W+2<te;W++)q=C[W],ee[0]=[q[0],q[1]],ee[1]=[q[0]+(Q*C[W+1][0]-Q*C[W-1][0])/6,q[1]+(Q*C[W+1][1]-Q*C[W-1][1])/6],ee[2]=[C[W+1][0]+(Q*C[W][0]-Q*C[W+2][0])/6,C[W+1][1]+(Q*C[W][1]-Q*C[W+2][1])/6],ee[3]=[C[W+1][0],C[W+1][1]],this.drawingContext.bezierCurveTo(ee[1][0],ee[1][1],ee[2][0],ee[2][1],ee[3][0],ee[3][1]);J&&this.drawingContext.lineTo(C[W+1][0],C[W+1][1]),this._doFillStrokeClose(J)}}else if(P&&N===null){for(this._clipping||this.drawingContext.beginPath(),W=0;W<te;W++)C[W].isVert?C[W].moveTo?this.drawingContext.moveTo(C[W][0],C[W][1]):this.drawingContext.lineTo(C[W][0],C[W][1]):this.drawingContext.bezierCurveTo(C[W][0],C[W][1],C[W][2],C[W][3],C[W][4],C[W][5]);this._doFillStrokeClose(J)}else if(O&&N===null){for(this._clipping||this.drawingContext.beginPath(),W=0;W<te;W++)C[W].isVert?C[W].moveTo?this.drawingContext.moveTo(C[W][0],C[W][1]):this.drawingContext.lineTo(C[W][0],C[W][1]):this.drawingContext.quadraticCurveTo(C[W][0],C[W][1],C[W][2],C[W][3]);this._doFillStrokeClose(J)}else if(N===u.POINTS)for(W=0;W<te;W++)q=C[W],this._doStroke&&this._pInst.stroke(q[6]),this._pInst.point(q[0],q[1]);else if(N===u.LINES)for(W=0;W+1<te;W+=2)q=C[W],this._doStroke&&this._pInst.stroke(C[W+1][6]),this._pInst.line(q[0],q[1],C[W+1][0],C[W+1][1]);else if(N===u.TRIANGLES)for(W=0;W+2<te;W+=3)q=C[W],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(q[0],q[1]),this.drawingContext.lineTo(C[W+1][0],C[W+1][1]),this.drawingContext.lineTo(C[W+2][0],C[W+2][1]),this.drawingContext.closePath(),!this._clipping&&this._doFill&&(this._pInst.fill(C[W+2][5]),this.drawingContext.fill()),!this._clipping&&this._doStroke&&(this._pInst.stroke(C[W+2][6]),this.drawingContext.stroke());else if(N===u.TRIANGLE_STRIP)for(W=0;W+1<te;W++)q=C[W],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(C[W+1][0],C[W+1][1]),this.drawingContext.lineTo(q[0],q[1]),!this._clipping&&this._doStroke&&this._pInst.stroke(C[W+1][6]),!this._clipping&&this._doFill&&this._pInst.fill(C[W+1][5]),W+2<te&&(this.drawingContext.lineTo(C[W+2][0],C[W+2][1]),!this._clipping&&this._doStroke&&this._pInst.stroke(C[W+2][6]),!this._clipping&&this._doFill&&this._pInst.fill(C[W+2][5])),this._doFillStrokeClose(J);else if(N===u.TRIANGLE_FAN){if(2<te){for(this._clipping||this.drawingContext.beginPath(),W=2;W<te;W++)q=C[W],this.drawingContext.moveTo(C[0][0],C[0][1]),this.drawingContext.lineTo(C[W-1][0],C[W-1][1]),this.drawingContext.lineTo(q[0],q[1]),this.drawingContext.lineTo(C[0][0],C[0][1]),W<te-1&&(this._doFill&&q[5]!==C[W+1][5]||this._doStroke&&q[6]!==C[W+1][6])&&(!this._clipping&&this._doFill&&(this._pInst.fill(q[5]),this.drawingContext.fill(),this._pInst.fill(C[W+1][5])),!this._clipping&&this._doStroke&&(this._pInst.stroke(q[6]),this.drawingContext.stroke(),this._pInst.stroke(C[W+1][6])),this.drawingContext.closePath(),this._clipping||this.drawingContext.beginPath());this._doFillStrokeClose(J)}}else if(N===u.QUADS)for(W=0;W+3<te;W+=4){for(q=C[W],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(q[0],q[1]),Y=1;Y<4;Y++)this.drawingContext.lineTo(C[W+Y][0],C[W+Y][1]);this.drawingContext.lineTo(q[0],q[1]),!this._clipping&&this._doFill&&this._pInst.fill(C[W+3][5]),!this._clipping&&this._doStroke&&this._pInst.stroke(C[W+3][6]),this._doFillStrokeClose(J)}else if(N===u.QUAD_STRIP){if(3<te)for(W=0;W+1<te;W+=2)q=C[W],this._clipping||this.drawingContext.beginPath(),W+3<te?(this.drawingContext.moveTo(C[W+2][0],C[W+2][1]),this.drawingContext.lineTo(q[0],q[1]),this.drawingContext.lineTo(C[W+1][0],C[W+1][1]),this.drawingContext.lineTo(C[W+3][0],C[W+3][1]),!this._clipping&&this._doFill&&this._pInst.fill(C[W+3][5]),!this._clipping&&this._doStroke&&this._pInst.stroke(C[W+3][6])):(this.drawingContext.moveTo(q[0],q[1]),this.drawingContext.lineTo(C[W+1][0],C[W+1][1])),this._doFillStrokeClose(J)}else{for(this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(C[0][0],C[0][1]),W=1;W<te;W++)(q=C[W]).isVert&&(q.moveTo?(J&&this.drawingContext.closePath(),this.drawingContext.moveTo(q[0],q[1])):this.drawingContext.lineTo(q[0],q[1]));this._doFillStrokeClose(J)}L=O=P=j=!1,J&&C.pop()}return this}},{key:"strokeCap",value:function(A){return A!==u.ROUND&&A!==u.SQUARE&&A!==u.PROJECT||(this.drawingContext.lineCap=A),this}},{key:"strokeJoin",value:function(A){return A!==u.ROUND&&A!==u.BEVEL&&A!==u.MITER||(this.drawingContext.lineJoin=A),this}},{key:"strokeWeight",value:function(A){return this.drawingContext.lineWidth=A===void 0||A===0?1e-4:A,this}},{key:"_getFill",value:function(){return this._cachedFillStyle||(this._cachedFillStyle=this.drawingContext.fillStyle),this._cachedFillStyle}},{key:"_setFill",value:function(A){A!==this._cachedFillStyle&&(this.drawingContext.fillStyle=A,this._cachedFillStyle=A)}},{key:"_getStroke",value:function(){return this._cachedStrokeStyle||(this._cachedStrokeStyle=this.drawingContext.strokeStyle),this._cachedStrokeStyle}},{key:"_setStroke",value:function(A){A!==this._cachedStrokeStyle&&(this.drawingContext.strokeStyle=A,this._cachedStrokeStyle=A)}},{key:"bezier",value:function(A,C,j,P,O,L,N,q){return this._pInst.beginShape(),this._pInst.vertex(A,C),this._pInst.bezierVertex(j,P,O,L,N,q),this._pInst.endShape(),this}},{key:"curve",value:function(A,C,j,P,O,L,N,q){return this._pInst.beginShape(),this._pInst.curveVertex(A,C),this._pInst.curveVertex(j,P),this._pInst.curveVertex(O,L),this._pInst.curveVertex(N,q),this._pInst.endShape(),this}},{key:"_doFillStrokeClose",value:function(A){A&&this.drawingContext.closePath(),!this._clipping&&this._doFill&&this.drawingContext.fill(),!this._clipping&&this._doStroke&&this.drawingContext.stroke()}},{key:"applyMatrix",value:function(A,C,j,P,O,L){this.drawingContext.transform(A,C,j,P,O,L)}},{key:"resetMatrix",value:function(){return this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),this}},{key:"rotate",value:function(A){this.drawingContext.rotate(A)}},{key:"scale",value:function(A,C){return this.drawingContext.scale(A,C),this}},{key:"translate",value:function(A,C){return A instanceof l.default.Vector&&(C=A.y,A=A.x),this.drawingContext.translate(A,C),this}},{key:"_renderText",value:function(A,C,j,P,O,L){if(!(P<L||O<=P))return A.push(),this._isOpenType()?this._textFont._renderPath(C,j,P,{renderer:this}):(this._doStroke&&this._strokeSet&&this.drawingContext.strokeText(C,j,P),!this._clipping&&this._doFill&&(this._fillSet||this._setFill(u._DEFAULT_TEXT_FILL),this.drawingContext.fillText(C,j,P))),A.pop(),A}},{key:"textWidth",value:function(A){return this._isOpenType()?this._textFont._textWidth(A,this._textSize):this.drawingContext.measureText(A).width}},{key:"_applyTextProperties",value:function(){var A=this._pInst,C=(this._setProperty("_textAscent",null),this._setProperty("_textDescent",null),C=this._textFont,this._isOpenType()&&(C=this._textFont.font.familyName,this._setProperty("_textStyle",this._textFont.font.styleName)),C||"sans-serif");return/\s/.exec(C)&&(C='"'.concat(C,'"')),this.drawingContext.font="".concat(this._textStyle||"normal"," ").concat(this._textSize||12,"px ").concat(C),this.drawingContext.textAlign=this._textAlign,this._textBaseline===u.CENTER?this.drawingContext.textBaseline=u._CTX_MIDDLE:this.drawingContext.textBaseline=this._textBaseline,A}},{key:"push",value:function(){return this.drawingContext.save(),d(g(D.prototype),"push",this).call(this)}},{key:"pop",value:function(A){this.drawingContext.restore(),this._cachedFillStyle=this.drawingContext.fillStyle,this._cachedStrokeStyle=this.drawingContext.strokeStyle,d(g(D.prototype),"pop",this).call(this,A)}}])&&y(S.prototype,w),D}(l.default.Renderer),x=(_.prototype.text=function(w,S,R,j,A){j!==void 0&&this.drawingContext.textBaseline===u.BASELINE&&(C=!0,this.drawingContext.textBaseline=u.TOP);var C,j=l.default.Renderer.prototype.text.apply(this,arguments);return C&&(this.drawingContext.textBaseline=u.BASELINE),j},l.default.Renderer2D=_,l.default.Renderer2D);o.default=x},{"./constants":272,"./main":283,"./p5.Renderer":286,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.function.name":174,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.reflect.get":193,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],288:[function(r,s,o){r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.assign"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.promise"),r("core-js/modules/es.string.iterator"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.assign"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.promise"),r("core-js/modules/es.string.iterator"),r("core-js/modules/web.dom-collections.iterator");var a=(r=r("./main"))&&r.__esModule?r:{default:r};a.default.prototype._promisePreloads=[];function c(){return{}}var l=!(a.default.prototype.registerPromisePreload=function(u){a.default.prototype._promisePreloads.push(u)});a.default.prototype._setupPromisePreloads=function(){var u=!0,p=!1,y=void 0;try{for(var d,f=this._promisePreloads[Symbol.iterator]();!(u=(d=f.next()).done);u=!0){var b=d.value,g=this,v=b.method,_=b.addCallbacks,x=b.legacyPreloadSetup,w=b.target||this,S=w[v].bind(w);if(w===a.default.prototype){if(l)continue;g=null,S=w[v]}w[v]=this._wrapPromisePreload(g,S,_),x&&(w[x.method]=this._legacyPreloadGenerator(g,x,w[v]))}}catch(R){p=!0,y=R}finally{try{u||f.return==null||f.return()}finally{if(p)throw y}}l=!0},a.default.prototype._wrapPromisePreload=function(u,p,y){var d=function(){for(var f=this,b=(this._incrementPreload(),null),g=null,v=arguments.length,_=new Array(v),x=0;x<v;x++)_[x]=arguments[x];if(y)for(var w=_.length-1;0<=w&&!g&&typeof _[w]=="function";w--)g=b,b=_.pop();var S=Promise.resolve(p.apply(this,_));return b&&S.then(b),g&&S.catch(g),S.then(function(){return f._decrementPreload()}),S};return d=u?d.bind(u):d},a.default.prototype._legacyPreloadGenerator=function(u,f,y){var d=f.createBaseObject||c,f=function(){var b=this;this._incrementPreload();for(var g=arguments.length,v=new Array(g),_=0;_<g;_++)v[_]=arguments[_];var x=d.apply(this,v);return y.apply(this,v).then(function(w){Object.assign(x,w),b._decrementPreload()}),x};return f=u?f.bind(u):f}},{"./main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],289:[function(r,s,o){function a(f){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(f)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.filter"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.filter"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var c=(d=r("./main"))&&d.__esModule?d:{default:d},l=function(f){if(f&&f.__esModule)return f;if(f===null||p(f)!=="object"&&typeof f!="function")return{default:f};var b=u();if(b&&b.has(f))return b.get(f);var g,v={},_=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(g in f){var x;Object.prototype.hasOwnProperty.call(f,g)&&((x=_?Object.getOwnPropertyDescriptor(f,g):null)&&(x.get||x.set)?Object.defineProperty(v,g,x):v[g]=f[g])}return v.default=f,b&&b.set(f,v),v}(r("./constants"));function u(){var f;return typeof WeakMap!="function"?null:(f=new WeakMap,u=function(){return f},f)}function p(f){return(p=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(b){return a(b)}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":a(b)})(f)}r("./p5.Graphics"),r("./p5.Renderer2D"),r("../webgl/p5.RendererGL");var y="defaultCanvas0",d=(c.default.prototype.createCanvas=function(f,b,g,v){var _,x,w;if(c.default._validateParameters("createCanvas",arguments),arguments[2]instanceof HTMLCanvasElement?(g=l.P2D,v=arguments[2]):_=g||l.P2D,v)(w=document.getElementById(y))&&w.parentNode.removeChild(w),w=v,this._defaultGraphicsCreated=!1;else{if(_===l.WEBGL)(w=document.getElementById(y))&&(w.parentNode.removeChild(w),x=this._renderer,this._elements=this._elements.filter(function(R){return R!==x})),(w=document.createElement("canvas")).id=y,w.classList.add("p5Canvas");else if(this._defaultGraphicsCreated)w=this.canvas;else{w=v||document.createElement("canvas");for(var S=0;document.getElementById("defaultCanvas".concat(S));)S++;y="defaultCanvas".concat(S),w.id=y,w.classList.add("p5Canvas")}this._setupDone||(w.dataset.hidden=!0,w.style.visibility="hidden"),(this._userNode||(document.getElementsByTagName("main").length===0&&(g=document.createElement("main"),document.body.appendChild(g)),document.getElementsByTagName("main")[0])).appendChild(w)}return _===l.WEBGL?(this._setProperty("_renderer",new c.default.RendererGL(w,this,!0)),this._elements.push(this._renderer),f=(v=this._renderer._adjustDimensions(f,b)).adjustedWidth,b=v.adjustedHeight):this._defaultGraphicsCreated||(this._setProperty("_renderer",new c.default.Renderer2D(w,this,!0)),this._defaultGraphicsCreated=!0,this._elements.push(this._renderer)),this._renderer.resize(f,b),this._renderer._applyDefaults(),this._renderer},c.default.prototype.resizeCanvas=function(f,b,g){if(c.default._validateParameters("resizeCanvas",arguments),this._renderer){var v,_,x,w={};for(v in this.drawingContext){var S=this.drawingContext[v];p(S)!=="object"&&typeof S!="function"&&(w[v]=S)}for(x in this._renderer instanceof c.default.RendererGL&&(f=(_=this._renderer._adjustDimensions(f,b)).adjustedWidth,b=_.adjustedHeight),this.width=f,this.height=b,this._renderer.resize(f,b),w)try{this.drawingContext[x]=w[x]}catch{}g||this.redraw()}this._addAccsOutput()&&this._updateAccsOutput()},c.default.prototype.noCanvas=function(){this.canvas&&this.canvas.parentNode.removeChild(this.canvas)},c.default.prototype.createGraphics=function(f,b){for(var g=arguments.length,v=new Array(2<g?g-2:0),_=2;_<g;_++)v[_-2]=arguments[_];return v[0]instanceof HTMLCanvasElement&&(v[1]=v[0],v[0]=l.P2D),c.default._validateParameters("createGraphics",arguments),new c.default.Graphics(f,b,v[0],this,v[1])},c.default.prototype.createFramebuffer=function(f){return new c.default.Framebuffer(this,f)},c.default.prototype.clearDepth=function(f){this._assert3d("clearDepth"),this._renderer.clearDepth(f)},c.default.prototype.blendMode=function(f){c.default._validateParameters("blendMode",arguments),f===l.NORMAL&&(console.warn("NORMAL has been deprecated for use in blendMode. defaulting to BLEND instead."),f=l.BLEND),this._renderer.blendMode(f)},c.default);o.default=d},{"../webgl/p5.RendererGL":341,"./constants":272,"./main":283,"./p5.Graphics":285,"./p5.Renderer2D":287,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],290:[function(r,s,o){function a(b){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(b)}function c(b){return(c=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(g){return a(g)}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":a(g)})(b)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.from"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.array.slice"),Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var l=d(r("../main")),u=function(b){if(b&&b.__esModule)return b;if(b===null||c(b)!=="object"&&typeof b!="function")return{default:b};var g=y();if(g&&g.has(b))return g.get(b);var v,_={},x=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(v in b){var w;Object.prototype.hasOwnProperty.call(b,v)&&((w=x?Object.getOwnPropertyDescriptor(b,v):null)&&(w.get||w.set)?Object.defineProperty(_,v,w):_[v]=b[v])}return _.default=b,g&&g.set(b,_),_}(r("../constants")),p=d(r("../helpers"));function y(){var b;return typeof WeakMap!="function"?null:(b=new WeakMap,y=function(){return b},b)}function d(b){return b&&b.__esModule?b:{default:b}}function f(b){return function(g){if(Array.isArray(g)){for(var v=0,_=new Array(g.length);v<g.length;v++)_[v]=g[v];return _}}(b)||function(g){if(Symbol.iterator in Object(g)||Object.prototype.toString.call(g)==="[object Arguments]")return Array.from(g)}(b)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}r("../friendly_errors/fes_core"),r("../friendly_errors/file_errors"),r("../friendly_errors/validate_params"),l.default.prototype._normalizeArcAngles=function(b,g,v,_,x){var w;return b-=u.TWO_PI*Math.floor(b/u.TWO_PI),g-=u.TWO_PI*Math.floor(g/u.TWO_PI),w=Math.min(Math.abs(b-g),u.TWO_PI-Math.abs(b-g)),x&&(b=b<=u.HALF_PI?Math.atan(v/_*Math.tan(b)):b>u.HALF_PI&&b<=3*u.HALF_PI?Math.atan(v/_*Math.tan(b))+u.PI:Math.atan(v/_*Math.tan(b))+u.TWO_PI,g=g<=u.HALF_PI?Math.atan(v/_*Math.tan(g)):g>u.HALF_PI&&g<=3*u.HALF_PI?Math.atan(v/_*Math.tan(g))+u.PI:Math.atan(v/_*Math.tan(g))+u.TWO_PI),g<b&&(g+=u.TWO_PI),{start:b,stop:g,correspondToSamePoint:w<1e-5}},l.default.prototype.arc=function(b,g,v,_,x,w,S,R){return l.default._validateParameters("arc",arguments),(this._renderer._doStroke||this._renderer._doFill)&&x!==w&&(x=this._toRadians(x),w=this._toRadians(w),b=p.default.modeAdjust(b,g,v,_,this._renderer._ellipseMode),(g=this._normalizeArcAngles(x,w,b.w,b.h,!0)).correspondToSamePoint?this._renderer.ellipse([b.x,b.y,b.w,b.h,R]):(this._renderer.arc(b.x,b.y,b.w,b.h,g.start,g.stop,S,R),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("arc",[b.x,b.y,b.w,b.h,g.start,g.stop,S]))),this},l.default.prototype.ellipse=function(b,g,v,_,x){return l.default._validateParameters("ellipse",arguments),this._renderEllipse.apply(this,arguments)},l.default.prototype.circle=function(){for(var b=arguments.length,g=new Array(b),v=0;v<b;v++)g[v]=arguments[v];l.default._validateParameters("circle",g);var _=g.slice(0,2);return _.push(g[2],g[2]),this._renderEllipse.apply(this,f(_))},l.default.prototype._renderEllipse=function(b,g,v,_,x){return(this._renderer._doStroke||this._renderer._doFill)&&(b=p.default.modeAdjust(b,g,v,_=_===void 0?v:_,this._renderer._ellipseMode),this._renderer.ellipse([b.x,b.y,b.w,b.h,x]),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("ellipse",[b.x,b.y,b.w,b.h])),this},l.default.prototype.line=function(){for(var b,g=arguments.length,v=new Array(g),_=0;_<g;_++)v[_]=arguments[_];return l.default._validateParameters("line",v),this._renderer._doStroke&&(b=this._renderer).line.apply(b,v),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("line",v),this},l.default.prototype.point=function(){for(var b,g=arguments.length,v=new Array(g),_=0;_<g;_++)v[_]=arguments[_];return l.default._validateParameters("point",v),this._renderer._doStroke&&(v.length===1&&v[0]instanceof l.default.Vector?this._renderer.point.call(this._renderer,v[0].x,v[0].y,v[0].z):((b=this._renderer).point.apply(b,v),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("point",v))),this},l.default.prototype.quad=function(){for(var b,g=arguments.length,v=new Array(g),_=0;_<g;_++)v[_]=arguments[_];return l.default._validateParameters("quad",v),(this._renderer._doStroke||this._renderer._doFill)&&(this._renderer.isP3D&&v.length<12?this._renderer.quad.call(this._renderer,v[0],v[1],0,v[2],v[3],0,v[4],v[5],0,v[6],v[7],0,v[8],v[9]):((b=this._renderer).quad.apply(b,v),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("quadrilateral",v))),this},l.default.prototype.rect=function(){for(var b=arguments.length,g=new Array(b),v=0;v<b;v++)g[v]=arguments[v];return l.default._validateParameters("rect",g),this._renderRect.apply(this,g)},l.default.prototype.square=function(b,g,v,_,x,w,S){return l.default._validateParameters("square",arguments),this._renderRect.call(this,b,g,v,v,_,x,w,S)},l.default.prototype._renderRect=function(){if(this._renderer._doStroke||this._renderer._doFill){arguments.length===3&&(arguments[3]=arguments[2]);for(var b=p.default.modeAdjust(arguments[0],arguments[1],arguments[2],arguments[3],this._renderer._rectMode),g=(this._renderer._rectMode===u.CORNER&&(b.w=arguments[2],b.h=arguments[3]),[b.x,b.y,b.w,b.h]),v=4;v<arguments.length;v++)g[v]=arguments[v];this._renderer.rect(g),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("rectangle",[b.x,b.y,b.w,b.h])}return this},l.default.prototype.triangle=function(){for(var b=arguments.length,g=new Array(b),v=0;v<b;v++)g[v]=arguments[v];return l.default._validateParameters("triangle",g),(this._renderer._doStroke||this._renderer._doFill)&&this._renderer.triangle(g),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("triangle",g),this},r=l.default,o.default=r},{"../constants":272,"../friendly_errors/fes_core":274,"../friendly_errors/file_errors":275,"../friendly_errors/validate_params":278,"../helpers":279,"../main":283,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],291:[function(r,s,o){function a(d){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(d)}function c(d){return(c=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(f){return a(f)}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":a(f)})(d)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var l=(y=r("../main"))&&y.__esModule?y:{default:y},u=function(d){if(d&&d.__esModule)return d;if(d===null||c(d)!=="object"&&typeof d!="function")return{default:d};var f=p();if(f&&f.has(d))return f.get(d);var b,g={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(b in d){var _;Object.prototype.hasOwnProperty.call(d,b)&&((_=v?Object.getOwnPropertyDescriptor(d,b):null)&&(_.get||_.set)?Object.defineProperty(g,b,_):g[b]=d[b])}return g.default=d,f&&f.set(d,g),g}(r("../constants"));function p(){var d;return typeof WeakMap!="function"?null:(d=new WeakMap,p=function(){return d},d)}l.default.prototype.ellipseMode=function(d){return l.default._validateParameters("ellipseMode",arguments),d!==u.CORNER&&d!==u.CORNERS&&d!==u.RADIUS&&d!==u.CENTER||(this._renderer._ellipseMode=d),this},l.default.prototype.noSmooth=function(){return this._renderer.isP3D?this.setAttributes("antialias",!1):"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!1),this},l.default.prototype.rectMode=function(d){return l.default._validateParameters("rectMode",arguments),d!==u.CORNER&&d!==u.CORNERS&&d!==u.RADIUS&&d!==u.CENTER||(this._renderer._rectMode=d),this},l.default.prototype.smooth=function(){return this._renderer.isP3D?this.setAttributes("antialias",!0):"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!0),this},l.default.prototype.strokeCap=function(d){return l.default._validateParameters("strokeCap",arguments),d!==u.ROUND&&d!==u.SQUARE&&d!==u.PROJECT||this._renderer.strokeCap(d),this},l.default.prototype.strokeJoin=function(d){return l.default._validateParameters("strokeJoin",arguments),d!==u.ROUND&&d!==u.BEVEL&&d!==u.MITER||this._renderer.strokeJoin(d),this},l.default.prototype.strokeWeight=function(d){return l.default._validateParameters("strokeWeight",arguments),this._renderer.strokeWeight(d),this};var y=l.default;o.default=y},{"../constants":272,"../main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],292:[function(r,s,o){Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var a=(c=r("../main"))&&c.__esModule?c:{default:c};r("../friendly_errors/fes_core"),r("../friendly_errors/file_errors"),r("../friendly_errors/validate_params"),a.default.prototype.bezier=function(){for(var l,u=arguments.length,p=new Array(u),y=0;y<u;y++)p[y]=arguments[y];return a.default._validateParameters("bezier",p),(this._renderer._doStroke||this._renderer._doFill)&&(l=this._renderer).bezier.apply(l,p),this},a.default.prototype.bezierDetail=function(l){return a.default._validateParameters("bezierDetail",arguments),this._bezierDetail=l,this},a.default.prototype.bezierPoint=function(l,u,p,y,d){a.default._validateParameters("bezierPoint",arguments);var f=1-d;return Math.pow(f,3)*l+3*Math.pow(f,2)*d*u+3*f*Math.pow(d,2)*p+Math.pow(d,3)*y},a.default.prototype.bezierTangent=function(l,u,p,y,d){a.default._validateParameters("bezierTangent",arguments);var f=1-d;return 3*y*Math.pow(d,2)-3*p*Math.pow(d,2)+6*p*f*d-6*u*f*d+3*u*Math.pow(f,2)-3*l*Math.pow(f,2)},a.default.prototype.curve=function(){for(var l,u=arguments.length,p=new Array(u),y=0;y<u;y++)p[y]=arguments[y];return a.default._validateParameters("curve",p),this._renderer._doStroke&&(l=this._renderer).curve.apply(l,p),this},a.default.prototype.curveDetail=function(l){return a.default._validateParameters("curveDetail",arguments),this._curveDetail=l<3?3:l,this},a.default.prototype.curveTightness=function(l){return a.default._validateParameters("curveTightness",arguments),this._renderer._curveTightness=l,this},a.default.prototype.curvePoint=function(l,u,p,y,d){a.default._validateParameters("curvePoint",arguments);var f=this._renderer._curveTightness,b=d*d*d,g=d*d;return l*((f-1)/2*b+(1-f)*g+(f-1)/2*d)+u*((f+3)/2*b+(-5-f)/2*g+1)+p*((-3-f)/2*b+(f+2)*g+(1-f)/2*d)+y*((1-f)/2*b+(f-1)/2*g)},a.default.prototype.curveTangent=function(l,u,p,y,g){a.default._validateParameters("curveTangent",arguments);var f=this._renderer._curveTightness,b=g*g*3,g=2*g;return l*((f-1)/2*b+(1-f)*g+(f-1)/2)+u*((f+3)/2*b+(-5-f)/2*g)+p*((-3-f)/2*b+(f+2)*g+(1-f)/2)+y*((1-f)/2*b+(f-1)/2*g)};var c=a.default;o.default=c},{"../friendly_errors/fes_core":274,"../friendly_errors/file_errors":275,"../friendly_errors/validate_params":278,"../main":283}],293:[function(r,s,o){function a(S){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(R){return typeof R}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R})(S)}function c(S){return(c=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(R){return a(R)}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":a(R)})(S)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.array.slice"),Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var l=(w=r("../main"))&&w.__esModule?w:{default:w},u=function(S){if(S&&S.__esModule)return S;if(S===null||c(S)!=="object"&&typeof S!="function")return{default:S};var R=p();if(R&&R.has(S))return R.get(S);var D,A={},C=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(D in S){var j;Object.prototype.hasOwnProperty.call(S,D)&&((j=C?Object.getOwnPropertyDescriptor(S,D):null)&&(j.get||j.set)?Object.defineProperty(A,D,j):A[D]=S[D])}return A.default=S,R&&R.set(S,A),A}(r("../constants"));function p(){var S;return typeof WeakMap!="function"?null:(S=new WeakMap,p=function(){return S},S)}var y=null,d=[],f=[],b=!1,g=!1,v=!1,_=!1,x=!0,w=(l.default.prototype.beginContour=function(){return this._renderer.isP3D?this._renderer.beginContour():(f=[],_=!0),this},l.default.prototype.beginShape=function(S){var R;return l.default._validateParameters("beginShape",arguments),this._renderer.isP3D?(R=this._renderer).beginShape.apply(R,arguments):(y=S===u.POINTS||S===u.LINES||S===u.TRIANGLES||S===u.TRIANGLE_FAN||S===u.TRIANGLE_STRIP||S===u.QUADS||S===u.QUAD_STRIP?S:null,d=[],f=[]),this},l.default.prototype.bezierVertex=function(){for(var S,R=arguments.length,D=new Array(R),A=0;A<R;A++)D[A]=arguments[A];if(l.default._validateParameters("bezierVertex",D),this._renderer.isP3D)(S=this._renderer).bezierVertex.apply(S,D);else if(d.length===0)l.default._friendlyError("vertex() must be used once before calling bezierVertex()","bezierVertex");else{b=!0;for(var C=[],j=0;j<D.length;j++)C[j]=D[j];C.isVert=!1,(_?f:d).push(C)}return this},l.default.prototype.curveVertex=function(){for(var S,R=arguments.length,D=new Array(R),A=0;A<R;A++)D[A]=arguments[A];return l.default._validateParameters("curveVertex",D),this._renderer.isP3D?(S=this._renderer).curveVertex.apply(S,D):(g=!0,this.vertex(D[0],D[1])),this},l.default.prototype.endContour=function(){if(!this._renderer.isP3D){var S=f[0].slice();S.isVert=f[0].isVert,S.moveTo=!1,f.push(S),x&&(d.push(d[0]),x=!1);for(var R=0;R<f.length;R++)d.push(f[R])}return this},l.default.prototype.endShape=function(S){var R=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1;if(l.default._validateParameters("endShape",arguments),R<1&&(console.log(" p5.js says: You can not have less than one instance"),R=1),this._renderer.isP3D)this._renderer.endShape(S,g,b,v,_,y,R);else{if(R!==1&&console.log(" p5.js says: Instancing is only supported in WebGL2 mode"),d.length===0)return this;if(!this._renderer._doStroke&&!this._renderer._doFill)return this;R=S===u.CLOSE,R&&!_&&d.push(d[0]),this._renderer.endShape(S,d,g,b,v,_,y),x=!(_=v=b=g=!1),R&&d.pop()}return this},l.default.prototype.quadraticVertex=function(){for(var S,R=arguments.length,D=new Array(R),A=0;A<R;A++)D[A]=arguments[A];if(l.default._validateParameters("quadraticVertex",D),this._renderer.isP3D)(S=this._renderer).quadraticVertex.apply(S,D);else{if(this._contourInited)return(S={}).x=D[0],S.y=D[1],S.x3=D[2],S.y3=D[3],S.type=u.QUADRATIC,this._contourVertices.push(S),this;if(0<d.length){v=!0;for(var C=[],j=0;j<D.length;j++)C[j]=D[j];C.isVert=!1,(_?f:d).push(C)}else l.default._friendlyError("vertex() must be used once before calling quadraticVertex()","quadraticVertex")}return this},l.default.prototype.vertex=function(S,R,D,A,C){var j;return this._renderer.isP3D?(j=this._renderer).vertex.apply(j,arguments):((j=[]).isVert=!0,j[0]=S,j[1]=R,j[2]=0,j[3]=0,j[4]=0,j[5]=this._renderer._getFill(),j[6]=this._renderer._getStroke(),D&&(j.moveTo=D),(_?(f.length===0&&(j.moveTo=!0),f):d).push(j)),this},l.default.prototype.normal=function(S,R,D){var A;return this._assert3d("normal"),l.default._validateParameters("normal",arguments),(A=this._renderer).normal.apply(A,arguments),this},l.default);o.default=w},{"../constants":272,"../main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],294:[function(r,s,o){},{}],295:[function(r,s,o){r("core-js/modules/es.object.assign"),r("core-js/modules/es.object.assign"),Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,r=(r=r("./main"))&&r.__esModule?r:{default:r},r.default.prototype.noLoop=function(){this._loop=!1},r.default.prototype.loop=function(){this._loop||(this._loop=!0,this._setupDone&&this._draw())},r.default.prototype.isLooping=function(){return this._loop},r.default.prototype.push=function(){this._styles.push({props:{_colorMode:this._colorMode},renderer:this._renderer.push()})},r.default.prototype.pop=function(){var a=this._styles.pop();a?(this._renderer.pop(a.renderer),Object.assign(this,a.props)):console.warn("pop() was called without matching push()")},r.default.prototype.redraw=function(a){if(!this._inUserDraw&&this._setupDone){var c=parseInt(a),l=((isNaN(c)||c<1)&&(c=1),this._isGlobal?window:this);if(typeof l.draw=="function"){l.setup===void 0&&l.scale(l._pixelDensity,l._pixelDensity);for(var u=0;u<c;u++){l.resetMatrix(),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._updateAccsOutput(),l._renderer.isP3D&&l._renderer._update(),l._setProperty("frameCount",l.frameCount+1),this.callRegisteredHooksFor("pre"),this._inUserDraw=!0;try{l.draw()}finally{this._inUserDraw=!1}this.callRegisteredHooksFor("post")}}}},r=r.default,o.default=r},{"./main":283,"core-js/modules/es.object.assign":183}],296:[function(r,s,o){r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.from"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.get-prototype-of"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.typed-array.uint8-array"),r("core-js/modules/es.typed-array.copy-within"),r("core-js/modules/es.typed-array.every"),r("core-js/modules/es.typed-array.fill"),r("core-js/modules/es.typed-array.filter"),r("core-js/modules/es.typed-array.find"),r("core-js/modules/es.typed-array.find-index"),r("core-js/modules/es.typed-array.for-each"),r("core-js/modules/es.typed-array.includes"),r("core-js/modules/es.typed-array.index-of"),r("core-js/modules/es.typed-array.iterator"),r("core-js/modules/es.typed-array.join"),r("core-js/modules/es.typed-array.last-index-of"),r("core-js/modules/es.typed-array.map"),r("core-js/modules/es.typed-array.reduce"),r("core-js/modules/es.typed-array.reduce-right"),r("core-js/modules/es.typed-array.reverse"),r("core-js/modules/es.typed-array.set"),r("core-js/modules/es.typed-array.slice"),r("core-js/modules/es.typed-array.some"),r("core-js/modules/es.typed-array.sort"),r("core-js/modules/es.typed-array.subarray"),r("core-js/modules/es.typed-array.to-locale-string"),r("core-js/modules/es.typed-array.to-string"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.get-prototype-of"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.typed-array.uint8-array"),r("core-js/modules/es.typed-array.copy-within"),r("core-js/modules/es.typed-array.every"),r("core-js/modules/es.typed-array.fill"),r("core-js/modules/es.typed-array.filter"),r("core-js/modules/es.typed-array.find"),r("core-js/modules/es.typed-array.find-index"),r("core-js/modules/es.typed-array.for-each"),r("core-js/modules/es.typed-array.includes"),r("core-js/modules/es.typed-array.index-of"),r("core-js/modules/es.typed-array.iterator"),r("core-js/modules/es.typed-array.join"),r("core-js/modules/es.typed-array.last-index-of"),r("core-js/modules/es.typed-array.map"),r("core-js/modules/es.typed-array.reduce"),r("core-js/modules/es.typed-array.reduce-right"),r("core-js/modules/es.typed-array.reverse"),r("core-js/modules/es.typed-array.set"),r("core-js/modules/es.typed-array.slice"),r("core-js/modules/es.typed-array.some"),r("core-js/modules/es.typed-array.sort"),r("core-js/modules/es.typed-array.subarray"),r("core-js/modules/es.typed-array.to-locale-string"),r("core-js/modules/es.typed-array.to-string"),Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var a=(r=r("./main"))&&r.__esModule?r:{default:r};function c(l){return function(u){if(Array.isArray(u)){for(var p=0,y=new Array(u.length);p<u.length;p++)y[p]=u[p];return y}}(l)||function(u){if(Symbol.iterator in Object(u)||Object.prototype.toString.call(u)==="[object Arguments]")return Array.from(u)}(l)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}a.default.prototype.applyMatrix=function(){var l=(arguments.length<=0?void 0:arguments[0])instanceof Object.getPrototypeOf(Uint8Array);return Array.isArray(arguments.length<=0?void 0:arguments[0])||l?(l=this._renderer).applyMatrix.apply(l,c(arguments.length<=0?void 0:arguments[0])):(l=this._renderer).applyMatrix.apply(l,arguments),this},a.default.prototype.resetMatrix=function(){return this._renderer.resetMatrix(),this},a.default.prototype.rotate=function(l,u){return a.default._validateParameters("rotate",arguments),this._renderer.rotate(this._toRadians(l),u),this},a.default.prototype.rotateX=function(l){return this._assert3d("rotateX"),a.default._validateParameters("rotateX",arguments),this._renderer.rotateX(this._toRadians(l)),this},a.default.prototype.rotateY=function(l){return this._assert3d("rotateY"),a.default._validateParameters("rotateY",arguments),this._renderer.rotateY(this._toRadians(l)),this},a.default.prototype.rotateZ=function(l){return this._assert3d("rotateZ"),a.default._validateParameters("rotateZ",arguments),this._renderer.rotateZ(this._toRadians(l)),this},a.default.prototype.scale=function(l,u,p){var y;return a.default._validateParameters("scale",arguments),l instanceof a.default.Vector?(l=(y=l).x,u=y.y,p=y.z):Array.isArray(l)&&(l=(y=l)[0],u=y[1],p=y[2]||1),isNaN(u)?u=p=l:isNaN(p)&&(p=1),this._renderer.scale(l,u,p),this},a.default.prototype.shearX=function(l){return a.default._validateParameters("shearX",arguments),l=this._toRadians(l),this._renderer.applyMatrix(1,0,Math.tan(l),1,0,0),this},a.default.prototype.shearY=function(l){return a.default._validateParameters("shearY",arguments),l=this._toRadians(l),this._renderer.applyMatrix(1,Math.tan(l),0,1,0,0),this},a.default.prototype.translate=function(l,u,p){return a.default._validateParameters("translate",arguments),this._renderer.isP3D?this._renderer.translate(l,u,p):this._renderer.translate(l,u),this},r=a.default,o.default=r},{"./main":283,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/web.dom-collections.iterator":246}],297:[function(r,s,o){function a(p){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(p)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.for-each"),r("core-js/modules/es.array.from"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.keys"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.ends-with"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.replace"),r("core-js/modules/web.dom-collections.for-each"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.for-each"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.keys"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.ends-with"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.replace"),r("core-js/modules/web.dom-collections.for-each"),r("core-js/modules/web.dom-collections.iterator");var c=(r=r("../core/main"))&&r.__esModule?r:{default:r};function l(p){return function(y){if(Array.isArray(y)){for(var d=0,f=new Array(y.length);d<y.length;d++)f[d]=y[d];return f}}(p)||function(y){if(Symbol.iterator in Object(y)||Object.prototype.toString.call(y)==="[object Arguments]")return Array.from(y)}(p)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function u(p){return(u=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(y){return a(y)}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":a(y)})(p)}c.default.prototype.storeItem=function(p,y){typeof p!="string"&&console.log("The argument that you passed to storeItem() - ".concat(p," is not a string.")),p.endsWith("p5TypeID")&&console.log("The argument that you passed to storeItem() - ".concat(p," must not end with 'p5TypeID'.")),y===void 0&&console.log("You cannot store undefined variables using storeItem().");var d=u(y);switch(d){case"number":case"boolean":y=y.toString();break;case"object":y instanceof c.default.Color?d="p5.Color":y instanceof c.default.Vector&&(d="p5.Vector",y=[y.x,y.y,y.z]),y=JSON.stringify(y)}localStorage.setItem(p,y),p="".concat(p,"p5TypeID"),localStorage.setItem(p,d)},c.default.prototype.getItem=function(p){var y=localStorage.getItem(p),d=localStorage.getItem("".concat(p,"p5TypeID"));if(d===void 0)console.log("Unable to determine type of item stored under ".concat(p,"in local storage. Did you save the item with something other than setItem()?"));else if(y!==null)switch(d){case"number":y=parseFloat(y);break;case"boolean":y=y==="true";break;case"object":y=JSON.parse(y);break;case"p5.Color":y=JSON.parse(y),y=this.color.apply(this,l(y.levels));break;case"p5.Vector":y=JSON.parse(y),y=this.createVector.apply(this,l(y))}return y},c.default.prototype.clearStorage=function(){var p=this;Object.keys(localStorage).forEach(function(y){y.endsWith("p5TypeID")&&p.removeItem(y.replace("p5TypeID",""))})},c.default.prototype.removeItem=function(p){typeof p!="string"&&console.log("The argument that you passed to removeItem() - ".concat(p," is not a string.")),localStorage.removeItem(p),localStorage.removeItem("".concat(p,"p5TypeID"))}},{"../core/main":283,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.ends-with":198,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],298:[function(r,s,o){function a(v){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(v)}function c(v){return(c=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(_){return a(_)}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":a(_)})(v)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.get-prototype-of"),r("core-js/modules/es.object.keys"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.reflect.construct"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.object.keys"),Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var l=(r=r("../core/main"))&&r.__esModule?r:{default:r};function u(v,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function");v.prototype=Object.create(_&&_.prototype,{constructor:{value:v,writable:!0,configurable:!0}}),_&&p(v,_)}function p(v,_){return(p=Object.setPrototypeOf||function(x,w){return x.__proto__=w,x})(v,_)}function y(v){return function(){var _,x=d(v),x=(_=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(_=d(this).constructor,Reflect.construct(x,arguments,_)):x.apply(this,arguments),this);if(!_||c(_)!=="object"&&typeof _!="function"){if(x!==void 0)return x;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return _}}function d(v){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(_){return _.__proto__||Object.getPrototypeOf(_)})(v)}function f(v,_){if(!(v instanceof _))throw new TypeError("Cannot call a class as a function")}function b(v,_){for(var x=0;x<_.length;x++){var w=_[x];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(v,w.key,w)}}function g(v,_,x){_&&b(v.prototype,_)}l.default.prototype.createStringDict=function(v,_){return l.default._validateParameters("createStringDict",arguments),new l.default.StringDict(v,_)},l.default.prototype.createNumberDict=function(v,_){return l.default._validateParameters("createNumberDict",arguments),new l.default.NumberDict(v,_)},l.default.TypedDict=function(){function v(_,x){return f(this,v),_ instanceof Object?this.data=_:(this.data={},this.data[_]=x),this}return g(v,[{key:"size",value:function(){return Object.keys(this.data).length}},{key:"hasKey",value:function(_){return this.data.hasOwnProperty(_)}},{key:"get",value:function(_){if(this.data.hasOwnProperty(_))return this.data[_];console.log("".concat(_," does not exist in this Dictionary"))}},{key:"set",value:function(_,x){this._validate(x)?this.data[_]=x:console.log("Those values dont work for this dictionary type.")}},{key:"_addObj",value:function(_){for(var x in _)this.set(x,_[x])}},{key:"create",value:function(_,x){_ instanceof Object&&x===void 0?this._addObj(_):_!==void 0?this.set(_,x):console.log("In order to create a new Dictionary entry you must pass an object or a key, value pair")}},{key:"clear",value:function(){this.data={}}},{key:"remove",value:function(_){if(!this.data.hasOwnProperty(_))throw new Error("".concat(_," does not exist in this Dictionary"));delete this.data[_]}},{key:"print",value:function(){for(var _ in this.data)console.log("key:".concat(_," value:").concat(this.data[_]))}},{key:"saveTable",value:function(_){var x,w="";for(x in this.data)w+="".concat(x,",").concat(this.data[x],`
`);var S=new Blob([w],{type:"text/csv"});l.default.prototype.downloadFile(S,_||"mycsv","csv")}},{key:"saveJSON",value:function(_,x){l.default.prototype.saveJSON(this.data,_,x)}},{key:"_validate",value:function(_){return!0}}]),v}(),l.default.StringDict=function(){u(_,l.default.TypedDict);var v=y(_);function _(){f(this,_);for(var x=arguments.length,w=new Array(x),S=0;S<x;S++)w[S]=arguments[S];return v.call.apply(v,[this].concat(w))}return g(_,[{key:"_validate",value:function(x){return typeof x=="string"}}]),_}(),l.default.NumberDict=function(){u(_,l.default.TypedDict);var v=y(_);function _(){f(this,_);for(var x=arguments.length,w=new Array(x),S=0;S<x;S++)w[S]=arguments[S];return v.call.apply(v,[this].concat(w))}return g(_,[{key:"_validate",value:function(x){return typeof x=="number"}},{key:"add",value:function(x,w){this.data.hasOwnProperty(x)?this.data[x]+=w:console.log("The key - ".concat(x," does not exist in this dictionary."))}},{key:"sub",value:function(x,w){this.add(x,-w)}},{key:"mult",value:function(x,w){this.data.hasOwnProperty(x)?this.data[x]*=w:console.log("The key - ".concat(x," does not exist in this dictionary."))}},{key:"div",value:function(x,w){this.data.hasOwnProperty(x)?this.data[x]/=w:console.log("The key - ".concat(x," does not exist in this dictionary."))}},{key:"_valueTest",value:function(x){if(Object.keys(this.data).length===0)throw new Error("Unable to search for a minimum or maximum value on an empty NumberDict");if(Object.keys(this.data).length===1)return this.data[Object.keys(this.data)[0]];var w,S=this.data[Object.keys(this.data)[0]];for(w in this.data)this.data[w]*x<S*x&&(S=this.data[w]);return S}},{key:"minValue",value:function(){return this._valueTest(1)}},{key:"maxValue",value:function(){return this._valueTest(-1)}},{key:"_keyTest",value:function(x){if(Object.keys(this.data).length===0)throw new Error("Unable to use minValue on an empty NumberDict");if(Object.keys(this.data).length===1)return Object.keys(this.data)[0];for(var w=Object.keys(this.data)[0],S=1;S<Object.keys(this.data).length;S++)Object.keys(this.data)[S]*x<w*x&&(w=Object.keys(this.data)[S]);return w}},{key:"minKey",value:function(){return this._keyTest(1)}},{key:"maxKey",value:function(){return this._keyTest(-1)}}]),_}(),r=l.default.TypedDict,o.default=r},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],299:[function(r,s,o){function a(S){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(R){return typeof R}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R})(S)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.every"),r("core-js/modules/es.array.filter"),r("core-js/modules/es.array.for-each"),r("core-js/modules/es.array.from"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.map"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.array.splice"),r("core-js/modules/es.function.name"),r("core-js/modules/es.object.assign"),r("core-js/modules/es.object.get-prototype-of"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.promise"),r("core-js/modules/es.reflect.construct"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.replace"),r("core-js/modules/es.string.split"),r("core-js/modules/es.string.trim"),r("core-js/modules/web.dom-collections.for-each"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/web.url"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.every"),r("core-js/modules/es.array.filter"),r("core-js/modules/es.array.for-each"),r("core-js/modules/es.array.from"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.map"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.array.splice"),r("core-js/modules/es.function.name"),r("core-js/modules/es.object.assign"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.promise"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.replace"),r("core-js/modules/es.string.split"),r("core-js/modules/es.string.trim"),r("core-js/modules/web.dom-collections.for-each"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/web.url"),Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var c=(r=r("../core/main"))&&r.__esModule?r:{default:r};function l(S,R){for(var D=0;D<R.length;D++){var A=R[D];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(S,A.key,A)}}function u(S,R,D){R&&l(S.prototype,R),D&&l(S,D)}function p(S,R){return(p=Object.setPrototypeOf||function(D,A){return D.__proto__=A,D})(S,R)}function y(S){return function(){var R,D,A=f(S);return R=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(R=f(this).constructor,Reflect.construct(A,arguments,R)):A.apply(this,arguments),A=this,!(D=R)||g(D)!=="object"&&typeof D!="function"?d(A):D}}function d(S){if(S===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S}function f(S){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(R){return R.__proto__||Object.getPrototypeOf(R)})(S)}function b(S,R){if(!(S instanceof R))throw new TypeError("Cannot call a class as a function")}function g(S){return(g=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(R){return a(R)}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":a(R)})(S)}function v(S,R,D){return(R._userNode||document.body).appendChild(S),D=new(D?c.default.MediaElement:c.default.Element)(S,R),R._elements.push(D),D}c.default.prototype.select=function(S,R){return c.default._validateParameters("select",arguments),R=this._getContainer(R).querySelector(S),R?this._wrapElement(R):null},c.default.prototype.selectAll=function(S,R){c.default._validateParameters("selectAll",arguments);var D=[],A=this._getContainer(R).querySelectorAll(S);if(A)for(var C=0;C<A.length;C++){var j=this._wrapElement(A[C]);D.push(j)}return D},c.default.prototype._getContainer=function(S){var R=document;return typeof S=="string"?R=document.querySelector(S)||document:S instanceof c.default.Element?R=S.elt:S instanceof HTMLElement&&(R=S),R},c.default.prototype._wrapElement=function(S){var R,D=Array.prototype.slice.call(S.children);return S.tagName==="INPUT"&&S.type==="checkbox"?((R=new c.default.Element(S,this)).checked=function(){return arguments.length===0?this.elt.checked:(this.elt.checked=!(arguments.length<=0||!arguments[0]),this)},R):S.tagName==="VIDEO"||S.tagName==="AUDIO"?new c.default.MediaElement(S,this):S.tagName==="SELECT"?this.createSelect(new c.default.Element(S,this)):0<D.length&&D.every(function(A){return A.tagName==="INPUT"||A.tagName==="LABEL"})&&(S.tagName==="DIV"||S.tagName==="SPAN")?this.createRadio(new c.default.Element(S,this)):new c.default.Element(S,this)},c.default.prototype.removeElements=function(S){c.default._validateParameters("removeElements",arguments),this._elements.filter(function(R){return!(R.elt instanceof HTMLCanvasElement)}).map(function(R){return R.remove()})},c.default.Element.prototype.changed=function(S){return c.default.Element._adjustListener("change",S,this),this},c.default.Element.prototype.input=function(S){return c.default.Element._adjustListener("input",S,this),this},c.default.prototype.createDiv=function(){var S=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",R=document.createElement("div");return R.innerHTML=S,v(R,this)},c.default.prototype.createP=function(){var S=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",R=document.createElement("p");return R.innerHTML=S,v(R,this)},c.default.prototype.createSpan=function(){var S=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",R=document.createElement("span");return R.innerHTML=S,v(R,this)},c.default.prototype.createImg=function(){c.default._validateParameters("createImg",arguments);var S,R=document.createElement("img"),D=arguments;return 1<D.length&&typeof D[1]=="string"&&(R.alt=D[1]),2<D.length&&typeof D[2]=="string"&&(R.crossOrigin=D[2]),R.src=D[0],S=v(R,this),R.addEventListener("load",function(){S.width=R.offsetWidth||R.width,S.height=R.offsetHeight||R.height;var A=D[D.length-1];typeof A=="function"&&A(S)}),S},c.default.prototype.createA=function(S,R,D){c.default._validateParameters("createA",arguments);var A=document.createElement("a");return A.href=S,A.innerHTML=R,D&&(A.target=D),v(A,this)},c.default.prototype.createSlider=function(S,R,D,A){c.default._validateParameters("createSlider",arguments);var C=document.createElement("input");return C.type="range",C.min=S,C.max=R,A===0?C.step=1e-18:A&&(C.step=A),typeof D=="number"&&(C.value=D),v(C,this)},c.default.prototype.createButton=function(S,R){c.default._validateParameters("createButton",arguments);var D=document.createElement("button");return D.innerHTML=S,R&&(D.value=R),v(D,this)},c.default.prototype.createCheckbox=function(){for(var S=arguments.length,R=new Array(S),D=0;D<S;D++)R[D]=arguments[D];c.default._validateParameters("createCheckbox",R);var A=document.createElement("div"),C=document.createElement("input"),j=(C.type="checkbox",document.createElement("label")),P=(j.appendChild(C),A.appendChild(j),v(A,this));return P.checked=function(){var O=P.elt.firstElementChild.getElementsByTagName("input")[0];if(O){if(arguments.length===0)return O.checked;O.checked=!(arguments.length<=0||!arguments[0])}return P},this.value=function(O){return P.value=O,this},R[0]&&(P.value(R[0]),(A=document.createElement("span")).innerHTML=R[0],j.appendChild(A)),R[1]&&(C.checked=!0),P},c.default.prototype.createSelect=function(){for(var S,R=arguments.length,D=new Array(R),A=0;A<R;A++)D[A]=arguments[A];c.default._validateParameters("createSelect",D);var C,j=D[0];return j instanceof c.default.Element&&j.elt instanceof HTMLSelectElement?this.elt=(S=j).elt:j instanceof HTMLSelectElement?(S=v(j,this),this.elt=j):(C=document.createElement("select"),j&&typeof j=="boolean"&&C.setAttribute("multiple","true"),S=v(C,this),this.elt=C),S.option=function(P,O){var L;if(P!==void 0){for(var N,q=0;q<this.elt.length;q+=1)if(this.elt[q].textContent===P){L=q;break}L!==void 0?O===!1?this.elt.remove(L):this.elt[L].value=O:((N=document.createElement("option")).textContent=P,N.value=O===void 0?P:O,this.elt.appendChild(N),this._pInst._elements.push(N))}},S.selected=function(P){if(P!==void 0){for(var O=0;O<this.elt.length;O+=1)this.elt[O].value.toString()===P.toString()&&(this.elt.selectedIndex=O);return this}if(this.elt.getAttribute("multiple")){var L=[],N=!0,q=!1,W=void 0;try{for(var Y,J=this.elt.selectedOptions[Symbol.iterator]();!(N=(Y=J.next()).done);N=!0){var te=Y.value;L.push(te.value)}}catch(ee){q=!0,W=ee}finally{try{N||J.return==null||J.return()}finally{if(q)throw W}}return L}return this.elt.value},S.disable=function(P){if(typeof P=="string")for(var O=0;O<this.elt.length;O++)this.elt[O].value.toString()===P&&(this.elt[O].disabled=!0,this.elt[O].selected=!1);else this.elt.disabled=!0;return this},S.enable=function(P){if(typeof P=="string")for(var O=0;O<this.elt.length;O++)this.elt[O].value.toString()===P&&(this.elt[O].disabled=!1,this.elt[O].selected=!1);else{this.elt.disabled=!1;for(var L=0;L<this.elt.length;L++)this.elt[L].disabled=!1,this.elt[L].selected=!1}return this},S};var _=0;function x(S,P,D,A){var C=document.createElement(P),j=(typeof(D=D||"")=="string"&&(D=[D]),!0),P=!1,O=void 0;try{for(var L,N=D[Symbol.iterator]();!(j=(L=N.next()).done);j=!0){var q=L.value,W=document.createElement("source");W.setAttribute("src",q),C.appendChild(W)}}catch(J){P=!0,O=J}finally{try{j||N.return==null||N.return()}finally{if(P)throw O}}typeof A=="function"&&C.addEventListener("canplaythrough",function J(){A(),C.removeEventListener("canplaythrough",J)});var Y=v(C,S,!0);return Y.loadedmetadata=!1,C.addEventListener("loadedmetadata",function(){Y.width=C.videoWidth,Y.height=C.videoHeight,Y.elt.width===0&&(Y.elt.width=C.videoWidth),Y.elt.height===0&&(Y.elt.height=C.videoHeight),Y.presetPlaybackRate&&(Y.elt.playbackRate=Y.presetPlaybackRate,delete Y.presetPlaybackRate),Y.loadedmetadata=!0}),Y}c.default.prototype.createRadio=function(){function S(P){return P instanceof HTMLInputElement&&P.type==="radio"}function R(P){return P instanceof HTMLLabelElement}var D,A,C,j=arguments.length<=0?void 0:arguments[0];return j instanceof c.default.Element&&(j.elt instanceof HTMLDivElement||j.elt instanceof HTMLSpanElement)?(D=j,this.elt=j.elt):j instanceof HTMLDivElement||j instanceof HTMLSpanElement?(D=v(j,this),A=this.elt=j,typeof(arguments.length<=1?void 0:arguments[1])=="string"&&(C=arguments.length<=1?void 0:arguments[1])):(typeof j=="string"&&(C=j),A=document.createElement("div"),D=v(A,this),this.elt=A),D._name=C||"radioOption_".concat(_++),D._getOptionsArray=function(){return Array.from(this.elt.children).filter(function(P){return S(P)||R(P)&&S(P.firstElementChild)}).map(function(P){return S(P)?P:P.firstElementChild})},D.option=function(P,O){var L,N,q,W=!0,Y=!1,J=void 0;try{for(var te,ee=D._getOptionsArray()[Symbol.iterator]();!(W=(te=ee.next()).done);W=!0){var Q=te.value;if(Q.value===P){L=Q;break}}}catch(ne){Y=!0,J=ne}finally{try{W||ee.return==null||ee.return()}finally{if(Y)throw J}}return L===void 0&&((L=document.createElement("input")).setAttribute("type","radio"),L.setAttribute("value",P)),L.setAttribute("name",D._name),R(L.parentElement)?N=L.parentElement:(N=document.createElement("label")).insertAdjacentElement("afterbegin",L),N.lastElementChild instanceof HTMLSpanElement?q=N.lastElementChild:(q=document.createElement("span"),L.insertAdjacentElement("afterend",q)),q.innerHTML=O===void 0?P:O,this.elt.appendChild(N),L},D.remove=function(P){var O=!0,L=!1,N=void 0;try{for(var q,W=D._getOptionsArray()[Symbol.iterator]();!(O=(q=W.next()).done);O=!0){var Y=q.value;if(Y.value===P)return void(R(Y.parentElement)?Y.parentElement:Y).remove()}}catch(J){L=!0,N=J}finally{try{O||W.return==null||W.return()}finally{if(L)throw N}}},D.value=function(){var P="",O=!0,L=!1,N=void 0;try{for(var q,W=D._getOptionsArray()[Symbol.iterator]();!(O=(q=W.next()).done);O=!0){var Y=q.value;if(Y.checked){P=Y.value;break}}}catch(J){L=!0,N=J}finally{try{O||W.return==null||W.return()}finally{if(L)throw N}}return P},D.selected=function(P){var O=null;if(P===void 0){var L=!0,N=!1,q=void 0;try{for(var W,Y=D._getOptionsArray()[Symbol.iterator]();!(L=(W=Y.next()).done);L=!0){var J=W.value;if(J.checked){O=J;break}}}catch(re){N=!0,q=re}finally{try{L||Y.return==null||Y.return()}finally{if(N)throw q}}}else{D._getOptionsArray().forEach(function(U){U.checked=!1,U.removeAttribute("checked")});var te=!0,N=!1,q=void 0;try{for(var ee,Q=D._getOptionsArray()[Symbol.iterator]();!(te=(ee=Q.next()).done);te=!0){var ne=ee.value;ne.value===P&&(ne.setAttribute("checked",!0),ne.checked=!0,O=ne)}}catch(U){N=!0,q=U}finally{try{te||Q.return==null||Q.return()}finally{if(N)throw q}}}return O},D.disable=function(){var P=!(0<arguments.length&&arguments[0]!==void 0)||arguments[0],O=!0,L=!1,N=void 0;try{for(var q,W=D._getOptionsArray()[Symbol.iterator]();!(O=(q=W.next()).done);O=!0)q.value.setAttribute("disabled",P)}catch(Y){L=!0,N=Y}finally{try{O||W.return==null||W.return()}finally{if(L)throw N}}},D},c.default.prototype.createColorPicker=function(S){c.default._validateParameters("createColorPicker",arguments);var R=document.createElement("input");return R.type="color",S?S instanceof c.default.Color?R.value=S.toString("#rrggbb"):(c.default.prototype._colorMode="rgb",c.default.prototype._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},R.value=c.default.prototype.color(S).toString("#rrggbb")):R.value="#000000",(R=v(R,this)).color=function(){return S&&(S.mode&&(c.default.prototype._colorMode=S.mode),S.maxes&&(c.default.prototype._colorMaxes=S.maxes)),c.default.prototype.color(this.elt.value)},R},c.default.prototype.createInput=function(){var S=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",R=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"text",D=(c.default._validateParameters("createInput",arguments),document.createElement("input"));return D.setAttribute("value",S),D.setAttribute("type",R),v(D,this)},c.default.prototype.createFileInput=function(S){var R,D=1<arguments.length&&arguments[1]!==void 0&&arguments[1];if(c.default._validateParameters("createFileInput",arguments),window.File&&window.FileReader&&window.FileList&&window.Blob)return(R=document.createElement("input")).setAttribute("type","file"),D&&R.setAttribute("multiple",!0),R.addEventListener("change",function(A){var C=!0,j=!1,P=void 0;try{for(var O,L=A.target.files[Symbol.iterator]();!(C=(O=L.next()).done);C=!0){var N=O.value;c.default.File._load(N,S)}}catch(q){j=!0,P=q}finally{try{C||L.return==null||L.return()}finally{if(j)throw P}}},!1),v(R,this);console.log("The File APIs are not fully supported in this browser. Cannot create element.")},c.default.prototype.createVideo=function(S,R){return c.default._validateParameters("createVideo",arguments),x(this,"video",S,R)},c.default.prototype.createAudio=function(S,R){return c.default._validateParameters("createAudio",arguments),x(this,"audio",S,R)},c.default.prototype.VIDEO="video",c.default.prototype.AUDIO="audio",navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(S){var R=navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return R?new Promise(function(D,A){R.call(navigator,S,D,A)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}),c.default.prototype.createCapture=function(){for(var S=arguments.length,R=new Array(S),D=0;D<S;D++)R[D]=arguments[D];if(c.default._validateParameters("createCapture",R),!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new DOMException("getUserMedia not supported in this browser");for(var A,C=!0,j=!0,P=!1,O=0,L=R;O<L.length;O++){var N=L[O];N===c.default.prototype.VIDEO?j=!1:N===c.default.prototype.AUDIO?C=!1:g(N)==="object"?(N.flipped!==void 0&&(P=N.flipped,delete N.flipped),q=Object.assign({},q,N)):typeof N=="function"&&(A=N)}var q=Object.assign({},{video:C,audio:j},q),W=document.createElement("video"),Y=(W.setAttribute("playsinline",""),navigator.mediaDevices.getUserMedia(q).then(function(J){try{"srcObject"in W?W.srcObject=J:W.src=window.URL.createObjectURL(J)}catch{W.src=J}}).catch(function(J){J.name==="NotFoundError"&&c.default._friendlyError("No webcam found on this device","createCapture"),J.name==="NotAllowedError"&&c.default._friendlyError("Access to the camera was denied","createCapture"),console.error(J)}),v(W,this,!0));return Y.loadedmetadata=!1,W.addEventListener("loadedmetadata",function(){W.play(),W.width?(Y.width=W.width,Y.height=W.height,P&&(Y.elt.style.transform="scaleX(-1)")):(Y.width=Y.elt.width=W.videoWidth,Y.height=Y.elt.height=W.videoHeight),Y.loadedmetadata=!0,A&&A(W.srcObject)}),Y.flipped=P,Y},c.default.prototype.createElement=function(S,R){return c.default._validateParameters("createElement",arguments),S=document.createElement(S),R!==void 0&&(S.innerHTML=R),v(S,this)},c.default.Element.prototype.addClass=function(S){return this.elt.className?this.hasClass(S)||(this.elt.className=this.elt.className+" "+S):this.elt.className=S,this},c.default.Element.prototype.removeClass=function(S){return this.elt.classList.remove(S),this},c.default.Element.prototype.hasClass=function(S){return this.elt.classList.contains(S)},c.default.Element.prototype.toggleClass=function(S){return this.elt.classList.contains(S)?this.elt.classList.remove(S):this.elt.classList.add(S),this},c.default.Element.prototype.child=function(S){return S===void 0?this.elt.childNodes:(typeof S=="string"?(S[0]==="#"&&(S=S.substring(1)),S=document.getElementById(S)):S instanceof c.default.Element&&(S=S.elt),S instanceof HTMLElement&&this.elt.appendChild(S),this)},c.default.Element.prototype.center=function(S){var R=this.elt.style.display,D=this.elt.style.display==="none",A=this.parent().style.display==="none",C={x:this.elt.offsetLeft,y:this.elt.offsetTop},j=(D&&this.show(),A&&this.parent().show(),this.elt.style.display="block",this.position(0,0),Math.abs(this.parent().offsetWidth-this.elt.offsetWidth)),P=Math.abs(this.parent().offsetHeight-this.elt.offsetHeight);return S==="both"||S===void 0?this.position(j/2+this.parent().offsetLeft,P/2+this.parent().offsetTop):S==="horizontal"?this.position(j/2+this.parent().offsetLeft,C.y):S==="vertical"&&this.position(C.x,P/2+this.parent().offsetTop),this.style("display",R),D&&this.hide(),A&&this.parent().hide(),this},c.default.Element.prototype.html=function(){return arguments.length===0?this.elt.innerHTML:(arguments.length<=1||!arguments[1]?this.elt.innerHTML=arguments.length<=0?void 0:arguments[0]:this.elt.insertAdjacentHTML("beforeend",arguments.length<=0?void 0:arguments[0]),this)},c.default.Element.prototype.position=function(){return arguments.length===0?{x:this.elt.offsetLeft,y:this.elt.offsetTop}:(this.elt.style.position=(arguments.length<=2?void 0:arguments[2])!=="static"&&(arguments.length<=2?void 0:arguments[2])!=="fixed"&&(arguments.length<=2?void 0:arguments[2])!=="relative"&&(arguments.length<=2?void 0:arguments[2])!=="sticky"&&(arguments.length<=2?void 0:arguments[2])!=="initial"&&(arguments.length<=2?void 0:arguments[2])!=="inherit"?"absolute":arguments.length<=2?void 0:arguments[2],this.elt.style.left=(arguments.length<=0?void 0:arguments[0])+"px",this.elt.style.top=(arguments.length<=1?void 0:arguments[1])+"px",this.x=arguments.length<=0?void 0:arguments[0],this.y=arguments.length<=1?void 0:arguments[1],this)},c.default.Element.prototype._translate=function(){this.elt.style.position="absolute";var S="";return this.elt.style.transform&&(S=(S=this.elt.style.transform.replace(/translate3d\(.*\)/g,"")).replace(/translate[X-Z]?\(.*\)/g,"")),arguments.length===2?this.elt.style.transform="translate("+(arguments.length<=0?void 0:arguments[0])+"px, "+(arguments.length<=1?void 0:arguments[1])+"px)":2<arguments.length&&(this.elt.style.transform="translate3d("+(arguments.length<=0?void 0:arguments[0])+"px,"+(arguments.length<=1?void 0:arguments[1])+"px,"+(arguments.length<=2?void 0:arguments[2])+"px)",this.elt.parentElement.style.perspective=arguments.length===3?"1000px":(arguments.length<=3?void 0:arguments[3])+"px"),this.elt.style.transform+=S,this},c.default.Element.prototype._rotate=function(){var S="";return this.elt.style.transform&&(S=(S=this.elt.style.transform.replace(/rotate3d\(.*\)/g,"")).replace(/rotate[X-Z]?\(.*\)/g,"")),arguments.length===1?this.elt.style.transform="rotate("+(arguments.length<=0?void 0:arguments[0])+"deg)":arguments.length===2?this.elt.style.transform="rotate("+(arguments.length<=0?void 0:arguments[0])+"deg, "+(arguments.length<=1?void 0:arguments[1])+"deg)":arguments.length===3&&(this.elt.style.transform="rotateX("+(arguments.length<=0?void 0:arguments[0])+"deg)",this.elt.style.transform+="rotateY("+(arguments.length<=1?void 0:arguments[1])+"deg)",this.elt.style.transform+="rotateZ("+(arguments.length<=2?void 0:arguments[2])+"deg)"),this.elt.style.transform+=S,this},c.default.Element.prototype.style=function(S,R){if((R=R instanceof c.default.Color?"rgba("+R.levels[0]+","+R.levels[1]+","+R.levels[2]+","+R.levels[3]/255+")":R)===void 0){if(S.indexOf(":")===-1)return window.getComputedStyle(this.elt).getPropertyValue(S);for(var D=S.split(";"),A=0;A<D.length;A++){var C=D[A].split(":");C[0]&&C[1]&&(this.elt.style[C[0].trim()]=C[1].trim())}}else this.elt.style[S]=R,S!=="width"&&S!=="height"&&S!=="left"&&S!=="top"||(R=window.getComputedStyle(this.elt).getPropertyValue(S).replace(/[^\d.]/g,""),this[S]=Math.round(parseFloat(R,10)));return this},c.default.Element.prototype.attribute=function(S,R){if(this.elt.firstChild==null||this.elt.firstChild.type!=="checkbox"&&this.elt.firstChild.type!=="radio")return R===void 0?this.elt.getAttribute(S):(this.elt.setAttribute(S,R),this);if(R===void 0)return this.elt.firstChild.getAttribute(S);for(var D=0;D<this.elt.childNodes.length;D++)this.elt.childNodes[D].setAttribute(S,R)},c.default.Element.prototype.removeAttribute=function(S){if(this.elt.firstChild!=null&&(this.elt.firstChild.type==="checkbox"||this.elt.firstChild.type==="radio"))for(var R=0;R<this.elt.childNodes.length;R++)this.elt.childNodes[R].removeAttribute(S);return this.elt.removeAttribute(S),this},c.default.Element.prototype.value=function(){return 0<arguments.length?(this.elt.value=arguments.length<=0?void 0:arguments[0],this):this.elt.type==="range"?parseFloat(this.elt.value):this.elt.value},c.default.Element.prototype.show=function(){return this.elt.style.display="block",this},c.default.Element.prototype.hide=function(){return this.elt.style.display="none",this},c.default.Element.prototype.size=function(S,R){if(arguments.length===0)return{width:this.elt.offsetWidth,height:this.elt.offsetHeight};var D=S,A=R,C=c.default.prototype.AUTO;if(D!==C||A!==C){if(D===C?D=R*this.width/this.height:A===C&&(A=S*this.height/this.width),this.elt instanceof HTMLCanvasElement){var j,P={},O=this.elt.getContext("2d");for(j in O)P[j]=O[j];for(j in this.elt.setAttribute("width",D*this._pInst._pixelDensity),this.elt.setAttribute("height",A*this._pInst._pixelDensity),this.elt.style.width=D+"px",this.elt.style.height=A+"px",this._pInst.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),P)this.elt.getContext("2d")[j]=P[j]}else this.elt.style.width=D+"px",this.elt.style.height=A+"px",this.elt.width=D,this.elt.height=A;this.width=D,this.height=A,this._pInst&&this._pInst._curElement&&this._pInst._curElement.elt===this.elt&&(this._pInst._setProperty("width",D),this._pInst._setProperty("height",A))}return this},c.default.Element.prototype.remove=function(){this instanceof c.default.MediaElement&&(this.stop(),(R=this.elt.srcObject)!==null&&R.getTracks().forEach(function(D){D.stop()}));var S,R=this._pInst._elements.indexOf(this);for(S in R!==-1&&this._pInst._elements.splice(R,1),this._events)this.elt.removeEventListener(S,this._events[S]);this.elt&&this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt)},c.default.Element.prototype.drop=function(S,R){var D;return window.File&&window.FileReader&&window.FileList&&window.Blob?(this._dragDisabled||(this._dragDisabled=!0,this.elt.addEventListener("dragover",D=function(A){A.preventDefault()}),this.elt.addEventListener("dragleave",D)),c.default.Element._attachListener("drop",function(C){C.preventDefault(),typeof R=="function"&&R.call(this,C);var C=C.dataTransfer.files,j=!0,P=!1,O=void 0;try{for(var L,N=C[Symbol.iterator]();!(j=(L=N.next()).done);j=!0){var q=L.value;c.default.File._load(q,S)}}catch(W){P=!0,O=W}finally{try{j||N.return==null||N.return()}finally{if(P)throw O}}},this)):console.log("The File APIs are not fully supported in this browser."),this},c.default.Element.prototype.draggable=function(S){var R,D="ontouchstart"in window,A=0,C=0,j=0,P=0,O=D?"touchend":"mouseup",L=D?"touchmove":"mousemove";function N(W){var Y;W=W||window.event,P=D?(Y=W.changedTouches,A=j-parseInt(Y[0].clientX),C=P-parseInt(Y[0].clientY),j=parseInt(Y[0].clientX),parseInt(Y[0].clientY)):(A=j-parseInt(W.clientX),C=P-parseInt(W.clientY),j=parseInt(W.clientX),parseInt(W.clientY)),S.style.left=S.offsetLeft-A+"px",S.style.top=S.offsetTop-C+"px"}function q(){document.removeEventListener(O,q,!1),document.removeEventListener(L,N,!1)}return S===void 0?R=S=this.elt:S!==this.elt&&S.elt!==this.elt&&(S=S.elt,R=this.elt),R.addEventListener(D?"touchstart":"mousedown",function(W){{var Y;W=W||window.event,P=D?(Y=W.changedTouches,j=parseInt(Y[0].clientX),parseInt(Y[0].clientY)):(j=parseInt(W.clientX),parseInt(W.clientY))}return document.addEventListener(O,q,!1),document.addEventListener(L,N,!1),!1},!1),R.style.cursor="move",this};function w(S,R,D,A){b(this,w),this.callback=S,this.time=R,this.id=D,this.val=A}r=function(S){var R=A;if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function");R.prototype=Object.create(S&&S.prototype,{constructor:{value:R,writable:!0,configurable:!0}}),S&&p(R,S);var D=y(A);function A(C,j){b(this,A);var P=d(j=D.call(this,C,j));return j.elt.crossOrigin="anonymous",j._prevTime=0,j._cueIDCounter=0,j._cues=[],j.pixels=[],j._pixelsState=d(j),j._pixelDensity=1,j._modified=!1,j._frameOnCanvas=-1,Object.defineProperty(P,"src",{get:function(){var O=P.elt.children[0].src,L=P.elt.src===window.location.href?"":P.elt.src;return O===window.location.href?L:O},set:function(O){for(var L=0;L<P.elt.children.length;L++)P.elt.removeChild(P.elt.children[L]);var N=document.createElement("source");N.src=O,C.appendChild(N),P.elt.src=O,P.modified=!0}}),P._onended=function(){},P.elt.onended=function(){P._onended(P)},j}return u(A,[{key:"play",value:function(){var C;return this.elt.currentTime===this.elt.duration&&(this.elt.currentTime=0),1<this.elt.readyState||this.elt.load(),(C=this.elt.play())&&C.catch&&C.catch(function(j){j.name==="NotAllowedError"?console.error(j):console.error("Media play method encountered an unexpected error",j)}),this}},{key:"stop",value:function(){return this.elt.pause(),this.elt.currentTime=0,this}},{key:"pause",value:function(){return this.elt.pause(),this}},{key:"loop",value:function(){return this.elt.setAttribute("loop",!0),this.play(),this}},{key:"noLoop",value:function(){return this.elt.removeAttribute("loop"),this}},{key:"_setupAutoplayFailDetection",value:function(){var C=setTimeout(function(){console.error(e)},500);this.elt.addEventListener("play",function(){return clearTimeout(C)},{passive:!0,once:!0})}},{key:"autoplay",value:function(C){var j=this,P=this.elt.getAttribute("autoplay");return this.elt.setAttribute("autoplay",C),C&&!P&&(C=function(){return j._setupAutoplayFailDetection()},this.elt.readyState===4?C():this.elt.addEventListener("canplay",C,{passive:!0,once:!0})),this}},{key:"volume",value:function(C){if(C===void 0)return this.elt.volume;this.elt.volume=C}},{key:"speed",value:function(C){if(C===void 0)return this.presetPlaybackRate||this.elt.playbackRate;this.loadedmetadata?this.elt.playbackRate=C:this.presetPlaybackRate=C}},{key:"time",value:function(C){return C===void 0?this.elt.currentTime:(this.elt.currentTime=C,this)}},{key:"duration",value:function(){return this.elt.duration}},{key:"_ensureCanvas",value:function(){this.canvas||(this.canvas=document.createElement("canvas"),this.drawingContext=this.canvas.getContext("2d"),this.setModified(!0));var C=this._frameOnCanvas!==this._pInst.frameCount;this.loadedmetadata&&C&&(this.canvas.width!==this.elt.width&&(this.canvas.width=this.elt.width,this.canvas.height=this.elt.height,this.width=this.canvas.width,this.height=this.canvas.height),this.drawingContext.clearRect(0,0,this.canvas.width,this.canvas.height),this.flipped===!0&&(this.drawingContext.save(),this.drawingContext.scale(-1,1),this.drawingContext.translate(-this.canvas.width,0)),this.drawingContext.drawImage(this.elt,0,0,this.canvas.width,this.canvas.height),this.flipped===!0&&this.drawingContext.restore(),this.setModified(!0),this._frameOnCanvas=this._pInst.frameCount)}},{key:"loadPixels",value:function(){this._ensureCanvas();for(var C=arguments.length,j=new Array(C),P=0;P<C;P++)j[P]=arguments[P];return c.default.Renderer2D.prototype.loadPixels.apply(this,j)}},{key:"updatePixels",value:function(C,j,P,O){return this.loadedmetadata&&(this._ensureCanvas(),c.default.Renderer2D.prototype.updatePixels.call(this,C,j,P,O)),this.setModified(!0),this}},{key:"get",value:function(){this._ensureCanvas();for(var C=arguments.length,j=new Array(C),P=0;P<C;P++)j[P]=arguments[P];return c.default.Renderer2D.prototype.get.apply(this,j)}},{key:"_getPixel",value:function(){this.loadPixels();for(var C=arguments.length,j=new Array(C),P=0;P<C;P++)j[P]=arguments[P];return c.default.Renderer2D.prototype._getPixel.apply(this,j)}},{key:"set",value:function(C,j,P){this.loadedmetadata&&(this._ensureCanvas(),c.default.Renderer2D.prototype.set.call(this,C,j,P),this.setModified(!0))}},{key:"copy",value:function(){this._ensureCanvas();for(var C=arguments.length,j=new Array(C),P=0;P<C;P++)j[P]=arguments[P];c.default.prototype.copy.apply(this,j)}},{key:"mask",value:function(){this.loadPixels(),this.setModified(!0);for(var C=arguments.length,j=new Array(C),P=0;P<C;P++)j[P]=arguments[P];c.default.Image.prototype.mask.apply(this,j)}},{key:"isModified",value:function(){return this._modified}},{key:"setModified",value:function(C){this._modified=C}},{key:"onended",value:function(C){return this._onended=C,this}},{key:"connect",value:function(C){var j,P;if(typeof c.default.prototype.getAudioContext=="function")j=c.default.prototype.getAudioContext(),P=c.default.soundOut.input;else try{P=(j=C.context).destination}catch{throw"connect() is meant to be used with Web Audio API or p5.sound.js"}this.audioSourceNode||(this.audioSourceNode=j.createMediaElementSource(this.elt),this.audioSourceNode.connect(P)),C?C.input?this.audioSourceNode.connect(C.input):this.audioSourceNode.connect(C):this.audioSourceNode.connect(P)}},{key:"disconnect",value:function(){if(!this.audioSourceNode)throw"nothing to disconnect";this.audioSourceNode.disconnect()}},{key:"showControls",value:function(){this.elt.style["text-align"]="inherit",this.elt.controls=!0}},{key:"hideControls",value:function(){this.elt.controls=!1}},{key:"addCue",value:function(C,L,P){var O=this._cueIDCounter++,L=new w(L,C,O,P);return this._cues.push(L),this.elt.ontimeupdate||(this.elt.ontimeupdate=this._onTimeUpdate.bind(this)),O}},{key:"removeCue",value:function(C){for(var j=0;j<this._cues.length;j++)this._cues[j].id===C&&(console.log(C),this._cues.splice(j,1));this._cues.length===0&&(this.elt.ontimeupdate=null)}},{key:"clearCues",value:function(){this._cues=[],this.elt.ontimeupdate=null}},{key:"_onTimeUpdate",value:function(){for(var C=this.time(),j=0;j<this._cues.length;j++){var P=this._cues[j].time,O=this._cues[j].val;this._prevTime<P&&P<=C&&this._cues[j].callback(O)}this._prevTime=C}}]),A}(c.default.Element),c.default.MediaElement=r,r=function(){function S(R,D){b(this,S),this.file=R,this._pInst=D,D=R.type.split("/"),this.type=D[0],this.subtype=D[1],this.name=R.name,this.size=R.size,this.data=void 0}return u(S,null,[{key:"_createLoader",value:function(R,D){var A=new FileReader;return A.onload=function(C){var j,P=new c.default.File(R);P.file.type==="application/json"?P.data=JSON.parse(C.target.result):P.file.type==="text/xml"?(j=new DOMParser().parseFromString(C.target.result,"text/xml"),P.data=new c.default.XML(j.documentElement)):P.data=C.target.result,D(P)},A}},{key:"_load",value:function(R,D){var A;/^text\//.test(R.type)||R.type==="application/json"?c.default.File._createLoader(R,D).readAsText(R):/^(video|audio)\//.test(R.type)?((A=new c.default.File(R)).data=URL.createObjectURL(R),D(A)):c.default.File._createLoader(R,D).readAsDataURL(R)}}]),S}(),c.default.File=r,r=c.default,o.default=r},{"../core/main":283,"core-js/modules/es.array.every":155,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.function.name":174,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246,"core-js/modules/web.url":248}],300:[function(g,s,o){Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var a=(g=g("../core/main"))&&g.__esModule?g:{default:g};a.default.prototype.deviceOrientation=1<window.innerWidth/window.innerHeight?"landscape":"portrait",a.default.prototype.accelerationX=0,a.default.prototype.accelerationY=0,a.default.prototype.accelerationZ=0,a.default.prototype.pAccelerationX=0,a.default.prototype.pAccelerationY=0,a.default.prototype.pAccelerationZ=0,a.default.prototype._updatePAccelerations=function(){this._setProperty("pAccelerationX",this.accelerationX),this._setProperty("pAccelerationY",this.accelerationY),this._setProperty("pAccelerationZ",this.accelerationZ)},a.default.prototype.rotationX=0,a.default.prototype.rotationY=0,a.default.prototype.rotationZ=0,a.default.prototype.pRotationX=0,a.default.prototype.pRotationY=0;var c=a.default.prototype.pRotationZ=0,l=0,u=0,p="clockwise",y="clockwise",d="clockwise",f=(a.default.prototype.pRotateDirectionX=void 0,a.default.prototype.pRotateDirectionY=void 0,a.default.prototype.pRotateDirectionZ=void 0,a.default.prototype._updatePRotations=function(){this._setProperty("pRotationX",this.rotationX),this._setProperty("pRotationY",this.rotationY),this._setProperty("pRotationZ",this.rotationZ)},a.default.prototype.turnAxis=void 0,.5),b=30,g=(a.default.prototype.setMoveThreshold=function(v){a.default._validateParameters("setMoveThreshold",arguments),f=v},a.default.prototype.setShakeThreshold=function(v){a.default._validateParameters("setShakeThreshold",arguments),b=v},a.default.prototype._ondeviceorientation=function(v){this._updatePRotations(),this._setProperty("rotationX",this._fromDegrees(v.beta)),this._setProperty("rotationY",this._fromDegrees(v.gamma)),this._setProperty("rotationZ",this._fromDegrees(v.alpha)),this._handleMotion()},a.default.prototype._ondevicemotion=function(v){this._updatePAccelerations(),this._setProperty("accelerationX",2*v.acceleration.x),this._setProperty("accelerationY",2*v.acceleration.y),this._setProperty("accelerationZ",2*v.acceleration.z),this._handleMotion()},a.default.prototype._handleMotion=function(){window.orientation===90||window.orientation===-90?this._setProperty("deviceOrientation","landscape"):window.orientation===0?this._setProperty("deviceOrientation","portrait"):window.orientation===void 0&&this._setProperty("deviceOrientation","undefined");var v,_,x,w,S,R=this._isGlobal?window:this;typeof R.deviceMoved=="function"&&(Math.abs(this.accelerationX-this.pAccelerationX)>f||Math.abs(this.accelerationY-this.pAccelerationY)>f||Math.abs(this.accelerationZ-this.pAccelerationZ)>f)&&R.deviceMoved(),typeof R.deviceTurned=="function"&&(_=this._toDegrees(this.rotationX)+180,x=this._toDegrees(this.pRotationX)+180,v=c+180,0<_-x&&_-x<270||_-x<-270?p="clockwise":(_-x<0||270<_-x)&&(p="counter-clockwise"),p!==this.pRotateDirectionX&&(v=_),90<Math.abs(_-v)&&Math.abs(_-v)<270&&(v=_,this._setProperty("turnAxis","X"),R.deviceTurned()),this.pRotateDirectionX=p,c=v-180,x=this._toDegrees(this.rotationY)+180,_=this._toDegrees(this.pRotationY)+180,v=l+180,0<x-_&&x-_<270||x-_<-270?y="clockwise":(x-_<0||270<x-this.pRotationY)&&(y="counter-clockwise"),y!==this.pRotateDirectionY&&(v=x),90<Math.abs(x-v)&&Math.abs(x-v)<270&&(v=x,this._setProperty("turnAxis","Y"),R.deviceTurned()),this.pRotateDirectionY=y,l=v-180,0<(_=this._toDegrees(this.rotationZ))-(x=this._toDegrees(this.pRotationZ))&&_-x<270||_-x<-270?d="clockwise":(_-x<0||270<_-x)&&(d="counter-clockwise"),d!==this.pRotateDirectionZ&&(u=_),90<Math.abs(_-u)&&Math.abs(_-u)<270&&(u=_,this._setProperty("turnAxis","Z"),R.deviceTurned()),this.pRotateDirectionZ=d,this._setProperty("turnAxis",void 0)),typeof R.deviceShaken=="function"&&(this.pAccelerationX!==null&&(w=Math.abs(this.accelerationX-this.pAccelerationX),S=Math.abs(this.accelerationY-this.pAccelerationY)),b<w+S&&R.deviceShaken())},a.default);o.default=g},{"../core/main":283}],301:[function(r,s,o){Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var a=(r=r("../core/main"))&&r.__esModule?r:{default:r};a.default.prototype.isKeyPressed=!1,a.default.prototype.keyIsPressed=!1,a.default.prototype.key="",a.default.prototype.keyCode=0,a.default.prototype._onkeydown=function(c){var l;this._downKeys[c.which]||(this._setProperty("isKeyPressed",!0),this._setProperty("keyIsPressed",!0),this._setProperty("keyCode",c.which),this._downKeys[c.which]=!0,this._setProperty("key",c.key||String.fromCharCode(c.which)||c.which),typeof(l=this._isGlobal?window:this).keyPressed!="function"||c.charCode||l.keyPressed(c)===!1&&c.preventDefault())},a.default.prototype._onkeyup=function(c){this._downKeys[c.which]=!1,this._areDownKeys()||(this._setProperty("isKeyPressed",!1),this._setProperty("keyIsPressed",!1)),this._setProperty("_lastKeyCodeTyped",null),this._setProperty("key",c.key||String.fromCharCode(c.which)||c.which),this._setProperty("keyCode",c.which);var l=this._isGlobal?window:this;typeof l.keyReleased=="function"&&l.keyReleased(c)===!1&&c.preventDefault()},a.default.prototype._onkeypress=function(c){var l;c.which!==this._lastKeyCodeTyped&&(this._setProperty("_lastKeyCodeTyped",c.which),this._setProperty("key",c.key||String.fromCharCode(c.which)||c.which),typeof(l=this._isGlobal?window:this).keyTyped=="function"&&l.keyTyped(c)===!1&&c.preventDefault())},a.default.prototype._onblur=function(c){this._downKeys={}},a.default.prototype.keyIsDown=function(c){return a.default._validateParameters("keyIsDown",arguments),this._downKeys[c]||!1},a.default.prototype._areDownKeys=function(){for(var c in this._downKeys)if(this._downKeys.hasOwnProperty(c)&&this._downKeys[c]===!0)return!0;return!1},r=a.default,o.default=r},{"../core/main":283}],302:[function(r,s,o){function a(y){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(y)}function c(y){return(c=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(d){return a(d)}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":a(d)})(y)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var l=(l=r("../core/main"))&&l.__esModule?l:{default:l},u=function(y){if(y&&y.__esModule)return y;if(y===null||c(y)!=="object"&&typeof y!="function")return{default:y};var d=p();if(d&&d.has(y))return d.get(y);var f,b={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(f in y){var v;Object.prototype.hasOwnProperty.call(y,f)&&((v=g?Object.getOwnPropertyDescriptor(y,f):null)&&(v.get||v.set)?Object.defineProperty(b,f,v):b[f]=y[f])}return b.default=y,d&&d.set(y,b),b}(r("../core/constants"));function p(){var y;return typeof WeakMap!="function"?null:(y=new WeakMap,p=function(){return y},y)}l.default.prototype.movedX=0,l.default.prototype.movedY=0,l.default.prototype._hasMouseInteracted=!1,l.default.prototype.mouseX=0,l.default.prototype.mouseY=0,l.default.prototype.pmouseX=0,l.default.prototype.pmouseY=0,l.default.prototype.winMouseX=0,l.default.prototype.winMouseY=0,l.default.prototype.pwinMouseX=0,l.default.prototype.pwinMouseY=0,l.default.prototype.mouseButton=0,l.default.prototype.mouseIsPressed=!1,l.default.prototype._updateNextMouseCoords=function(y){var d,f,b,g,v;this._curElement!==null&&(!y.touches||0<y.touches.length)&&(d=this._curElement.elt,f=this.width,b=this.height,(g=y)&&!g.clientX&&(g.touches?g=g.touches[0]:g.changedTouches&&(g=g.changedTouches[0])),v=d.getBoundingClientRect(),f=d.scrollWidth/f||1,d=d.scrollHeight/b||1,b={x:(g.clientX-v.left)/f,y:(g.clientY-v.top)/d,winX:g.clientX,winY:g.clientY,id:g.identifier},this._setProperty("movedX",y.movementX),this._setProperty("movedY",y.movementY),this._setProperty("mouseX",b.x),this._setProperty("mouseY",b.y),this._setProperty("winMouseX",b.winX),this._setProperty("winMouseY",b.winY)),this._hasMouseInteracted||(this._updateMouseCoords(),this._setProperty("_hasMouseInteracted",!0))},l.default.prototype._updateMouseCoords=function(){this._setProperty("pmouseX",this.mouseX),this._setProperty("pmouseY",this.mouseY),this._setProperty("pwinMouseX",this.winMouseX),this._setProperty("pwinMouseY",this.winMouseY),this._setProperty("_pmouseWheelDeltaY",this._mouseWheelDeltaY)},l.default.prototype._setMouseButton=function(y){y.button===1?this._setProperty("mouseButton",u.CENTER):y.button===2?this._setProperty("mouseButton",u.RIGHT):this._setProperty("mouseButton",u.LEFT)},l.default.prototype._onmousemove=function(y){var d=this._isGlobal?window:this;this._updateNextMouseCoords(y),this.mouseIsPressed?typeof d.mouseDragged=="function"?d.mouseDragged(y)===!1&&y.preventDefault():typeof d.touchMoved=="function"&&d.touchMoved(y)===!1&&y.preventDefault():typeof d.mouseMoved=="function"&&d.mouseMoved(y)===!1&&y.preventDefault()},l.default.prototype._onmousedown=function(y){var d=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._setMouseButton(y),this._updateNextMouseCoords(y),this.touchstart||(typeof d.mousePressed=="function"?d.mousePressed(y)===!1&&y.preventDefault():typeof d.touchStarted=="function"&&d.touchStarted(y)===!1&&y.preventDefault(),this.touchstart=!1)},l.default.prototype._onmouseup=function(y){var d=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!1),this.touchend||(typeof d.mouseReleased=="function"?d.mouseReleased(y)===!1&&y.preventDefault():typeof d.touchEnded=="function"&&d.touchEnded(y)===!1&&y.preventDefault(),this.touchend=!1)},l.default.prototype._ondragend=l.default.prototype._onmouseup,l.default.prototype._ondragover=l.default.prototype._onmousemove,l.default.prototype._onclick=function(y){var d=this._isGlobal?window:this;typeof d.mouseClicked=="function"&&d.mouseClicked(y)===!1&&y.preventDefault()},l.default.prototype._ondblclick=function(y){var d=this._isGlobal?window:this;typeof d.doubleClicked=="function"&&d.doubleClicked(y)===!1&&y.preventDefault()},l.default.prototype._mouseWheelDeltaY=0,l.default.prototype._pmouseWheelDeltaY=0,l.default.prototype._onwheel=function(y){var d=this._isGlobal?window:this;this._setProperty("_mouseWheelDeltaY",y.deltaY),typeof d.mouseWheel=="function"&&(y.delta=y.deltaY,d.mouseWheel(y)===!1&&y.preventDefault())},l.default.prototype.requestPointerLock=function(){var y=this._curElement.elt;return y.requestPointerLock=y.requestPointerLock||y.mozRequestPointerLock,y.requestPointerLock?(y.requestPointerLock(),!0):(console.log("requestPointerLock is not implemented in this browser"),!1)},l.default.prototype.exitPointerLock=function(){document.exitPointerLock()},r=l.default,o.default=r},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],303:[function(r,s,o){Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,r=(r=r("../core/main"))&&r.__esModule?r:{default:r},r.default.prototype.touches=[],r.default.prototype._updateTouchCoords=function(a){if(this._curElement!==null){for(var c=[],l=0;l<a.touches.length;l++)c[l]=function(v,g,_,d){var f=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,b=v.getBoundingClientRect(),g=v.scrollWidth/g||1,v=v.scrollHeight/_||1,_=d.touches[f]||d.changedTouches[f];return{x:(_.clientX-b.left)/g,y:(_.clientY-b.top)/v,winX:_.clientX,winY:_.clientY,id:_.identifier}}(this._curElement.elt,this.width,this.height,a,l);this._setProperty("touches",c)}},r.default.prototype._ontouchstart=function(a){var c=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._updateTouchCoords(a),this._updateNextMouseCoords(a),this._updateMouseCoords(),typeof c.touchStarted=="function"&&(c.touchStarted(a)===!1&&a.preventDefault(),this.touchstart=!0)},r.default.prototype._ontouchmove=function(a){var c=this._isGlobal?window:this;this._updateTouchCoords(a),this._updateNextMouseCoords(a),typeof c.touchMoved=="function"?c.touchMoved(a)===!1&&a.preventDefault():typeof c.mouseDragged=="function"&&c.mouseDragged(a)===!1&&a.preventDefault()},r.default.prototype._ontouchend=function(a){this._setProperty("mouseIsPressed",!1),this._updateTouchCoords(a),this._updateNextMouseCoords(a);var c=this._isGlobal?window:this;typeof c.touchEnded=="function"&&(c.touchEnded(a)===!1&&a.preventDefault(),this.touchend=!0)},r=r.default,o.default=r},{"../core/main":283}],304:[function(r,s,o){r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.typed-array.int32-array"),r("core-js/modules/es.typed-array.uint8-array"),r("core-js/modules/es.typed-array.copy-within"),r("core-js/modules/es.typed-array.every"),r("core-js/modules/es.typed-array.fill"),r("core-js/modules/es.typed-array.filter"),r("core-js/modules/es.typed-array.find"),r("core-js/modules/es.typed-array.find-index"),r("core-js/modules/es.typed-array.for-each"),r("core-js/modules/es.typed-array.includes"),r("core-js/modules/es.typed-array.index-of"),r("core-js/modules/es.typed-array.iterator"),r("core-js/modules/es.typed-array.join"),r("core-js/modules/es.typed-array.last-index-of"),r("core-js/modules/es.typed-array.map"),r("core-js/modules/es.typed-array.reduce"),r("core-js/modules/es.typed-array.reduce-right"),r("core-js/modules/es.typed-array.reverse"),r("core-js/modules/es.typed-array.set"),r("core-js/modules/es.typed-array.slice"),r("core-js/modules/es.typed-array.some"),r("core-js/modules/es.typed-array.sort"),r("core-js/modules/es.typed-array.subarray"),r("core-js/modules/es.typed-array.to-locale-string"),r("core-js/modules/es.typed-array.to-string"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.typed-array.int32-array"),r("core-js/modules/es.typed-array.uint8-array"),r("core-js/modules/es.typed-array.copy-within"),r("core-js/modules/es.typed-array.every"),r("core-js/modules/es.typed-array.fill"),r("core-js/modules/es.typed-array.filter"),r("core-js/modules/es.typed-array.find"),r("core-js/modules/es.typed-array.find-index"),r("core-js/modules/es.typed-array.for-each"),r("core-js/modules/es.typed-array.includes"),r("core-js/modules/es.typed-array.index-of"),r("core-js/modules/es.typed-array.iterator"),r("core-js/modules/es.typed-array.join"),r("core-js/modules/es.typed-array.last-index-of"),r("core-js/modules/es.typed-array.map"),r("core-js/modules/es.typed-array.reduce"),r("core-js/modules/es.typed-array.reduce-right"),r("core-js/modules/es.typed-array.reverse"),r("core-js/modules/es.typed-array.set"),r("core-js/modules/es.typed-array.slice"),r("core-js/modules/es.typed-array.some"),r("core-js/modules/es.typed-array.sort"),r("core-js/modules/es.typed-array.subarray"),r("core-js/modules/es.typed-array.to-locale-string"),r("core-js/modules/es.typed-array.to-string"),Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var a,c,l,u,p={_toPixels:function(y){var d,f;return y instanceof ImageData?y.data:y.getContext("2d")?y.getContext("2d").getImageData(0,0,y.width,y.height).data:y.getContext("webgl")?(f=(d=y.getContext("webgl")).drawingBufferWidth*d.drawingBufferHeight*4,f=new Uint8Array(f),d.readPixels(0,0,y.width,y.height,d.RGBA,d.UNSIGNED_BYTE,f),f):void 0},_getARGB:function(y,d){return d*=4,y[3+d]<<24&4278190080|y[d]<<16&16711680|y[1+d]<<8&65280|255&y[2+d]},_setPixels:function(y,d){for(var f,b=0,g=y.length;b<g;b++)y[0+(f=4*b)]=(16711680&d[b])>>>16,y[1+f]=(65280&d[b])>>>8,y[2+f]=255&d[b],y[3+f]=(4278190080&d[b])>>>24},_toImageData:function(y){return y instanceof ImageData?y:y.getContext("2d").getImageData(0,0,y.width,y.height)},_createImageData:function(y,d){return p._tmpCanvas=document.createElement("canvas"),p._tmpCtx=p._tmpCanvas.getContext("2d"),this._tmpCtx.createImageData(y,d)},apply:function(y,v,f){var b=y.getContext("2d"),g=b.getImageData(0,0,y.width,y.height),v=v(g,f);v instanceof ImageData?b.putImageData(v,0,0,0,0,y.width,y.height):b.putImageData(g,0,0,0,0,y.width,y.height)},threshold:function(y){for(var d=1<arguments.length&&arguments[1]!==void 0?arguments[1]:.5,f=p._toPixels(y),b=Math.floor(255*d),g=0;g<f.length;g+=4){var v=void 0,v=b<=.2126*f[g]+.7152*f[g+1]+.0722*f[g+2]?255:0;f[g]=f[g+1]=f[g+2]=v}},gray:function(y){for(var d=p._toPixels(y),f=0;f<d.length;f+=4){var b=d[f],g=d[f+1],v=d[f+2];d[f]=d[f+1]=d[f+2]=.2126*b+.7152*g+.0722*v}},opaque:function(y){for(var d=p._toPixels(y),f=0;f<d.length;f+=4)d[f+3]=255;return d},invert:function(y){for(var d=p._toPixels(y),f=0;f<d.length;f+=4)d[f]=255-d[f],d[f+1]=255-d[f+1],d[f+2]=255-d[f+2]},posterize:function(y){var d=1<arguments.length&&arguments[1]!==void 0?arguments[1]:4,f=p._toPixels(y);if(d<2||255<d)throw new Error("Level must be greater than 2 and less than 255 for posterize");for(var b=d-1,g=0;g<f.length;g+=4){var v=f[g],_=f[g+1],x=f[g+2];f[g]=255*(v*d>>8)/b,f[g+1]=255*(_*d>>8)/b,f[g+2]=255*(x*d>>8)/b}},dilate:function(y){for(var d,f,b,g,v,_,x,w,S,R=p._toPixels(y),D=0,A=R.length?R.length/4:0,C=new Int32Array(A);D<A;)for(f=(d=D)+y.width;D<f;)g=b=p._getARGB(R,D),(S=D-1)<d&&(S=D),f<=(w=D+1)&&(w=D),(v=D-y.width)<0&&(v=0),A<=(_=D+y.width)&&(_=D),v=p._getARGB(R,v),S=p._getARGB(R,S),_=p._getARGB(R,_),(g=77*(g>>16&255)+151*(g>>8&255)+28*(255&g))<(x=77*(S>>16&255)+151*(S>>8&255)+28*(255&S))&&(b=S,g=x),g<(x=77*((S=p._getARGB(R,w))>>16&255)+151*(S>>8&255)+28*(255&S))&&(b=S,g=x),g<(w=77*(v>>16&255)+151*(v>>8&255)+28*(255&v))&&(b=v,g=w),g<(S=77*(_>>16&255)+151*(_>>8&255)+28*(255&_))&&(b=_,g=S),C[D++]=b;p._setPixels(R,C)},erode:function(y){for(var d,f,b,g,v,_,x,w,S,R=p._toPixels(y),D=0,A=R.length?R.length/4:0,C=new Int32Array(A);D<A;)for(f=(d=D)+y.width;D<f;)g=b=p._getARGB(R,D),(S=D-1)<d&&(S=D),f<=(w=D+1)&&(w=D),(v=D-y.width)<0&&(v=0),A<=(_=D+y.width)&&(_=D),v=p._getARGB(R,v),S=p._getARGB(R,S),_=p._getARGB(R,_),(x=77*(S>>16&255)+151*(S>>8&255)+28*(255&S))<(g=77*(g>>16&255)+151*(g>>8&255)+28*(255&g))&&(b=S,g=x),(x=77*((S=p._getARGB(R,w))>>16&255)+151*(S>>8&255)+28*(255&S))<g&&(b=S,g=x),(w=77*(v>>16&255)+151*(v>>8&255)+28*(255&v))<g&&(b=v,g=w),(S=77*(_>>16&255)+151*(_>>8&255)+28*(255&_))<g&&(b=_,g=S),C[D++]=b;p._setPixels(R,C)},blur:function(y,d){for(var f,b,g,v,_,x,w,S,R,D,A=p._toPixels(y),C=y.width,j=y.height,P=C*j,O=new Int32Array(P),L=0;L<P;L++)O[L]=p._getARGB(A,L);var N,q,W,Y,J,te,ee,Q,ne=new Int32Array(P),re=new Int32Array(P),I=new Int32Array(P),U=new Int32Array(P),H=0,X=3.5*d|0;if(a!==(X=X<1?1:X<248?X:248)){c=1+(a=X)<<1,l=new Int32Array(c),u=new Array(c);for(var ae=0;ae<c;ae++)u[ae]=new Int32Array(256);for(var le=1,he=X-1;le<X;le++){l[X+le]=l[he]=te=he*he,ee=u[X+le],Q=u[he--];for(var ye=0;ye<256;ye++)ee[ye]=Q[ye]=te*ye}J=l[X]=X*X,ee=u[X];for(var me=0;me<256;me++)ee[me]=J*me}for(q=0;q<j;q++){for(N=0;N<C;N++){if(v=g=b=_=f=0,(x=N-a)<0)D=-x,x=0;else{if(C<=x)break;D=0}for(W=D;W<c&&!(C<=x);W++){var xe=O[x+H];Y=u[W],_+=Y[(-16777216&xe)>>>24],b+=Y[(16711680&xe)>>16],g+=Y[(65280&xe)>>8],v+=Y[255&xe],f+=l[W],x++}ne[w=H+N]=_/f,re[w]=b/f,I[w]=g/f,U[w]=v/f}H+=C}for(R=(S=-a)*C,q=H=0;q<j;q++){for(N=0;N<C;N++){if(v=g=b=_=f=0,S<0)D=w=-S,x=N;else{if(j<=S)break;D=0,w=S,x=N+R}for(W=D;W<c&&!(j<=w);W++)Y=u[W],_+=Y[ne[x]],b+=Y[re[x]],g+=Y[I[x]],v+=Y[U[x]],f+=l[W],w++,x+=C;O[N+H]=_/f<<24|b/f<<16|g/f<<8|v/f}H+=C,R+=C,S++}p._setPixels(A,O)}};o.default=p},{"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.int32-array":225,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242}],305:[function(r,s,o){r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.filter"),r("core-js/modules/es.array.for-each"),r("core-js/modules/es.array.from"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.map"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.object.keys"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.set"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.replace"),r("core-js/modules/es.string.split"),r("core-js/modules/es.typed-array.uint8-array"),r("core-js/modules/es.typed-array.uint32-array"),r("core-js/modules/es.typed-array.copy-within"),r("core-js/modules/es.typed-array.every"),r("core-js/modules/es.typed-array.fill"),r("core-js/modules/es.typed-array.filter"),r("core-js/modules/es.typed-array.find"),r("core-js/modules/es.typed-array.find-index"),r("core-js/modules/es.typed-array.for-each"),r("core-js/modules/es.typed-array.includes"),r("core-js/modules/es.typed-array.index-of"),r("core-js/modules/es.typed-array.iterator"),r("core-js/modules/es.typed-array.join"),r("core-js/modules/es.typed-array.last-index-of"),r("core-js/modules/es.typed-array.map"),r("core-js/modules/es.typed-array.reduce"),r("core-js/modules/es.typed-array.reduce-right"),r("core-js/modules/es.typed-array.reverse"),r("core-js/modules/es.typed-array.set"),r("core-js/modules/es.typed-array.slice"),r("core-js/modules/es.typed-array.some"),r("core-js/modules/es.typed-array.sort"),r("core-js/modules/es.typed-array.subarray"),r("core-js/modules/es.typed-array.to-locale-string"),r("core-js/modules/es.typed-array.to-string"),r("core-js/modules/web.dom-collections.for-each"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.filter"),r("core-js/modules/es.array.for-each"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.map"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.object.keys"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.set"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.replace"),r("core-js/modules/es.string.split"),r("core-js/modules/es.typed-array.uint8-array"),r("core-js/modules/es.typed-array.uint32-array"),r("core-js/modules/es.typed-array.copy-within"),r("core-js/modules/es.typed-array.every"),r("core-js/modules/es.typed-array.fill"),r("core-js/modules/es.typed-array.filter"),r("core-js/modules/es.typed-array.find"),r("core-js/modules/es.typed-array.find-index"),r("core-js/modules/es.typed-array.for-each"),r("core-js/modules/es.typed-array.includes"),r("core-js/modules/es.typed-array.index-of"),r("core-js/modules/es.typed-array.iterator"),r("core-js/modules/es.typed-array.join"),r("core-js/modules/es.typed-array.last-index-of"),r("core-js/modules/es.typed-array.map"),r("core-js/modules/es.typed-array.reduce"),r("core-js/modules/es.typed-array.reduce-right"),r("core-js/modules/es.typed-array.reverse"),r("core-js/modules/es.typed-array.set"),r("core-js/modules/es.typed-array.slice"),r("core-js/modules/es.typed-array.some"),r("core-js/modules/es.typed-array.sort"),r("core-js/modules/es.typed-array.subarray"),r("core-js/modules/es.typed-array.to-locale-string"),r("core-js/modules/es.typed-array.to-string"),r("core-js/modules/web.dom-collections.for-each"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var a=l(r("../core/main")),c=l(r("omggif"));function l(p){return p&&p.__esModule?p:{default:p}}function u(p){return function(y){if(Array.isArray(y)){for(var d=0,f=new Array(y.length);d<y.length;d++)f[d]=y[d];return f}}(p)||function(y){if(Symbol.iterator in Object(y)||Object.prototype.toString.call(y)==="[object Arguments]")return Array.from(y)}(p)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}a.default.prototype.createImage=function(p,y){return a.default._validateParameters("createImage",arguments),new a.default.Image(p,y)},a.default.prototype.saveCanvas=function(){for(var p,y,d,f,b,g,v=arguments.length,_=new Array(v),x=0;x<v;x++)_[x]=arguments[x];switch(a.default._validateParameters("saveCanvas",_),_[0]instanceof HTMLCanvasElement?(p=_[0],_.shift()):_[0]instanceof a.default.Element?(p=_[0].elt,_.shift()):_[0]instanceof a.default.Framebuffer?(f=_[0],(b=this.createGraphics(f.width,f.height)).pixelDensity(pixelDensity()),f.loadPixels(),b.loadPixels(),b.pixels.set(f.pixels),b.updatePixels(),p=b.elt,_.shift()):p=this._curElement&&this._curElement.elt,1<=_.length&&(y=_[0]),d=(d=2<=_.length?_[1]:d)||a.default.prototype._checkFileExtension(y,d)[1]||"png"){default:g="image/png";break;case"webp":g="image/webp";break;case"jpeg":case"jpg":g="image/jpeg"}p.toBlob(function(w){a.default.prototype.downloadFile(w,y,d),b&&b.remove()},g)},a.default.prototype.encodeAndDownloadGif=function(p,y){for(var d=p.gifProperties,f=d.loopLimit,b=(f===1?f=null:f===null&&(f=0),new Uint8Array(p.width*p.height*d.numFrames)),g=[],v={},_=0;_<d.numFrames;_++){for(var x=new Set,w=d.frames[_].image.data,S=w.length,R=new Uint32Array(p.width*p.height),D=0,A=0;D<S;D+=4,A++){var C=w[D+0]<<16|w[D+1]<<8|w[D+2]<<0;x.add(C),R[A]=C}var j=u(x).sort().toString();v[j]===void 0?v[j]={freq:1,frames:[_]}:(v[j].freq+=1,v[j].frames.push(_)),g.push(R)}for(var L=[],P=Object.keys(v).sort(function(I,U){return v[U].freq-v[I].freq}),O=P[0].split(",").map(function(I){return parseInt(I)}),L=L.concat(v[O].frames),N=new Set(O),q=1;q<P.length;q++){var W=P[q].split(",").map(function(I){return parseInt(I)}).filter(function(I){return!N.has(I)});if(O.length+W.length<=256){for(var Y=0;Y<W.length;Y++)O.push(W[Y]),N.add(W[Y]);L=L.concat(v[P[q]].frames)}}L=new Set(L);for(var J={},te=0;te<O.length;te++)J[O[te]]||(J[O[te]]=te);for(var ee=1;ee<O.length;)ee<<=1;O.length=ee;for(var f={loop:f,palette:new Uint32Array(O)},Q=new c.default.GifWriter(b,p.width,p.height,f),ne={},re=0;re<d.numFrames;re++)(function(U){var H=!L.has(U),X=H?[]:O,ae=new Uint8Array(p.width*p.height),le={},he=new Set,ye=(g[U].forEach(function(Te,ke){H?(le[Te]===void 0&&(le[Te]=X.length,X.push(Te)),ae[ke]=le[Te]):ae[ke]=J[Te],0<U&&g[U-1][ke]!==Te&&he.add(Te)}),{}),me=X.filter(function(Te){return!he.has(Te)});if(0<me.length){var me=me[0],xe=(H?le:J)[me];if(0<U){for(var Se=0;Se<g[U].length;Se++)g[U-1][Se]===g[U][Se]&&(ae[Se]=xe);ye.transparent=xe,ne.frameOpts.disposal=1}}if(ye.delay=d.frames[U].delay/10,H){for(var pe=1;pe<X.length;)pe<<=1;X.length=pe,ye.palette=new Uint32Array(X)}0<U&&Q.addFrame(0,0,p.width,p.height,ne.pixelPaletteIndex,ne.frameOpts),ne={pixelPaletteIndex:ae,frameOpts:ye}})(re);ne.frameOpts.disposal=1,Q.addFrame(0,0,p.width,p.height,ne.pixelPaletteIndex,ne.frameOpts),f=new Blob([b.slice(0,Q.end())],{type:"image/gif"}),a.default.prototype.downloadFile(f,y,"gif")},a.default.prototype.saveFrames=function(p,y,d,g,b){a.default._validateParameters("saveFrames",arguments),d=a.default.prototype.constrain(d=d||3,0,15),d*=1e3;var g=a.default.prototype.constrain(g||15,0,22),v=0,_=a.default.prototype._makeFrame,x=this._curElement.elt,w=[],S=setInterval(function(){w.push(_(p+v,y,x)),v++},1e3/g);setTimeout(function(){if(clearInterval(S),b)b(w);else for(var R=0,D=w;R<D.length;R++){var A=D[R];a.default.prototype.downloadFile(A.imageData,A.filename,A.ext)}w=[]},.01+d)},a.default.prototype._makeFrame=function(p,y,b){var f,b=this?this._curElement.elt:b;if(y)switch(y.toLowerCase()){case"png":f="image/png";break;case"jpeg":case"jpg":f="image/jpeg";break;default:f="image/png"}else y="png",f="image/png";var b=(b=b.toDataURL(f)).replace(f,"image/octet-stream"),g={};return g.imageData=b,g.filename=p,g.ext=y,g},r=a.default,o.default=r},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint32-array":241,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246,omggif:256}],306:[function(r,s,o){function a(x){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(x)}function c(x){return(c=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(w){return a(w)}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":a(w)})(x)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.copy-within"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.promise"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.includes"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.typed-array.uint8-array"),r("core-js/modules/es.typed-array.uint8-clamped-array"),r("core-js/modules/es.typed-array.copy-within"),r("core-js/modules/es.typed-array.every"),r("core-js/modules/es.typed-array.fill"),r("core-js/modules/es.typed-array.filter"),r("core-js/modules/es.typed-array.find"),r("core-js/modules/es.typed-array.find-index"),r("core-js/modules/es.typed-array.for-each"),r("core-js/modules/es.typed-array.includes"),r("core-js/modules/es.typed-array.index-of"),r("core-js/modules/es.typed-array.iterator"),r("core-js/modules/es.typed-array.join"),r("core-js/modules/es.typed-array.last-index-of"),r("core-js/modules/es.typed-array.map"),r("core-js/modules/es.typed-array.reduce"),r("core-js/modules/es.typed-array.reduce-right"),r("core-js/modules/es.typed-array.reverse"),r("core-js/modules/es.typed-array.set"),r("core-js/modules/es.typed-array.slice"),r("core-js/modules/es.typed-array.some"),r("core-js/modules/es.typed-array.sort"),r("core-js/modules/es.typed-array.subarray"),r("core-js/modules/es.typed-array.to-locale-string"),r("core-js/modules/es.typed-array.to-string"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.array.copy-within"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.promise"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.includes"),r("core-js/modules/es.typed-array.uint8-array"),r("core-js/modules/es.typed-array.uint8-clamped-array"),r("core-js/modules/es.typed-array.copy-within"),r("core-js/modules/es.typed-array.every"),r("core-js/modules/es.typed-array.fill"),r("core-js/modules/es.typed-array.filter"),r("core-js/modules/es.typed-array.find"),r("core-js/modules/es.typed-array.find-index"),r("core-js/modules/es.typed-array.for-each"),r("core-js/modules/es.typed-array.includes"),r("core-js/modules/es.typed-array.index-of"),r("core-js/modules/es.typed-array.iterator"),r("core-js/modules/es.typed-array.join"),r("core-js/modules/es.typed-array.last-index-of"),r("core-js/modules/es.typed-array.map"),r("core-js/modules/es.typed-array.reduce"),r("core-js/modules/es.typed-array.reduce-right"),r("core-js/modules/es.typed-array.reverse"),r("core-js/modules/es.typed-array.set"),r("core-js/modules/es.typed-array.slice"),r("core-js/modules/es.typed-array.some"),r("core-js/modules/es.typed-array.sort"),r("core-js/modules/es.typed-array.subarray"),r("core-js/modules/es.typed-array.to-locale-string"),r("core-js/modules/es.typed-array.to-string"),Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,r("regenerator-runtime/runtime");var l=b(r("../core/main")),u=b(r("../core/helpers")),p=function(x){if(x&&x.__esModule)return x;if(x===null||c(x)!=="object"&&typeof x!="function")return{default:x};var w=f();if(w&&w.has(x))return w.get(x);var S,R={},D=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(S in x){var A;Object.prototype.hasOwnProperty.call(x,S)&&((A=D?Object.getOwnPropertyDescriptor(x,S):null)&&(A.get||A.set)?Object.defineProperty(R,S,A):R[S]=x[S])}return R.default=x,w&&w.set(x,R),R}(r("../core/constants")),y=b(r("omggif")),d=r("gifenc");function f(){var x;return typeof WeakMap!="function"?null:(x=new WeakMap,f=function(){return x},x)}function b(x){return x&&x.__esModule?x:{default:x}}function g(x,w,S,R,D,A,C){try{var j=x[A](C),P=j.value}catch(O){return void S(O)}j.done?w(P):Promise.resolve(P).then(R,D)}function v(x,w,S,R,D,A,C,j,P,O,L){var N,q,W,Y,J,te,ee,Q,ne;return x===p.COVER&&(N=w,W=S,ee=A,Q=C,te=j,ne=P,q=O,Y=L,J=Math.max(ee/q,Q/Y),ee/=J,Q/=J,J=te,te=ne,N===p.CENTER?J+=(q-ee)/2:N===p.RIGHT&&(J+=q-ee),W===p.CENTER?te+=(Y-Q)/2:W===p.BOTTOM&&(te+=Y-Q),j=(ne={x:J,y:te,w:ee,h:Q}).x,P=ne.y,O=ne.w,L=ne.h),x===p.CONTAIN&&(N=w,q=S,W=R,Y=D,J=A,te=C,ee=O,Q=L,ne=Math.max(ee/J,Q/te),ee/=ne,Q/=ne,ne=W,W=Y,N===p.CENTER?ne+=(J-ee)/2:N===p.RIGHT&&(ne+=J-ee),q===p.CENTER?W+=(te-Q)/2:q===p.BOTTOM&&(W+=te-Q),R=(x={x:ne,y:W,w:ee,h:Q}).x,D=x.y,A=x.w,C=x.h),{sx:j,sy:P,sw:O,sh:L,dx:R,dy:D,dw:A,dh:C}}function _(x,w){return 0<x&&x<w?x:w}r("../core/friendly_errors/validate_params"),r("../core/friendly_errors/file_errors"),r("../core/friendly_errors/fes_core"),l.default.prototype.loadImage=function(x,w,S){l.default._validateParameters("loadImage",arguments);var R=new l.default.Image(1,1,this),D=this,A=new Request(x,{method:"GET",mode:"cors"});return fetch(x,A).then(function(C){var j,P=C.headers.get("content-type");P===null&&console.warn("The image you loaded does not have a Content-Type header. If you are using the online editor consider reuploading the asset."),P&&P.includes("image/gif")?C.arrayBuffer().then(function(O){if(O){for(var O=new Uint8Array(O),L=R,N=w,q=S,W=(function(H){D._decrementPreload()}).bind(D),Y=new y.default.GifReader(O),J=(L.width=L.canvas.width=Y.width,L.height=L.canvas.height=Y.height,[]),te=Y.numFrames(),ee=new Uint8ClampedArray(L.width*L.height*4),Q=0;Q<te;Q++){var ne=Y.frameInfo(Q),re=L.drawingContext.getImageData(0,0,L.width,L.height),I=(ee=re.data.slice(),function(H,X){try{X.decodeAndBlitFrameRGBA(H,ee)}catch(ae){l.default._friendlyFileLoadError(8,L.src),typeof q=="function"?q(ae):console.error(ae)}}(Q,Y),new ImageData(ee,L.width,L.height)),I=(L.drawingContext.putImageData(I,0,0),ne.delay);I===0&&(I=10),J.push({image:L.drawingContext.getImageData(0,0,L.width,L.height),delay:10*I}),ne.disposal===2?L.drawingContext.clearRect(ne.x,ne.y,ne.width,ne.height):ne.disposal===3&&L.drawingContext.putImageData(re,0,0,ne.x,ne.y,ne.width,ne.height)}(O=Y.loopCount())===null?O=1:O===0&&(O=null),L.drawingContext.putImageData(J[0].image,0,0),1<J.length&&(L.gifProperties={displayIndex:0,loopLimit:O,loopCount:0,frames:J,numFrames:te,playing:!0,timeDisplayed:0,lastChangeTime:0}),typeof N=="function"&&N(L),W()}},function(O){typeof S=="function"?(S(O),D._decrementPreload()):console.error(O)}):((j=new Image).onload=function(){R.width=R.canvas.width=j.width,R.height=R.canvas.height=j.height,R.drawingContext.drawImage(j,0,0),R.modified=!0,typeof w=="function"&&w(R),D._decrementPreload()},j.onerror=function(O){l.default._friendlyFileLoadError(0,j.src),typeof S=="function"?(S(O),D._decrementPreload()):console.error(O)},x.indexOf("data:image/")!==0&&(j.crossOrigin="Anonymous"),j.src=x),R.modified=!0}).catch(function(C){l.default._friendlyFileLoadError(0,x),typeof S=="function"?(S(C),D._decrementPreload()):console.error(C)}),R},l.default.prototype.saveGif=function(){x=regeneratorRuntime.mark(function S(R,D){var A,C,j,P,O,L,N,q,W,Y,J,te,ee,Q,ne,re,I,U,H,X,ae,le,he,ye,me,xe,Se=arguments;return regeneratorRuntime.wrap(function(pe){for(;;)switch(pe.prev=pe.next){case 0:if(A=2<Se.length&&Se[2]!==void 0?Se[2]:{delay:0,units:"seconds",silent:!1,notificationDuration:0,notificationID:"progressBar"},typeof R!="string")throw TypeError("fileName parameter must be a string");pe.next=3;break;case 3:if(typeof D!="number")throw TypeError("Duration parameter must be a number");pe.next=5;break;case 5:if(C=A&&A.delay||0,j=A&&A.units||"seconds",P=A&&A.silent||!1,O=A&&A.notificationDuration||0,L=A&&A.notificationID||"progressBar",typeof C!="number")throw TypeError("Delay parameter must be a number");pe.next=12;break;case 12:if(j!=="seconds"&&j!=="frames")throw TypeError('Units parameter must be either "frames" or "seconds"');pe.next=14;break;case 14:if(typeof P!="boolean")throw TypeError("Silent parameter must be a boolean");pe.next=16;break;case 16:if(typeof O!="number")throw TypeError("Notification duration parameter must be a number");pe.next=18;break;case 18:if(typeof L!="string")throw TypeError("Notification ID parameter must be a string");pe.next=20;break;case 20:return this._recording=!0,Y=this._targetFrameRate,N=(N=1/(Y=Y!==1/0&&Y!==void 0&&Y!==0?Y:60)*1e3)<20?20:N,W=(q=j==="seconds"?D*Y:D)+(Y=j==="seconds"?C*Y:C),Y=Y,this.frameCount=Y,J=this._pixelDensity,this.pixelDensity(1),te=[],document.getElementById(L)!==null&&document.getElementById(L).remove(),P||((ee=this.createP("")).id(L),ee.style("font-size","16px"),ee.style("font-family","Montserrat"),ee.style("background-color","#ffffffa0"),ee.style("padding","8px"),ee.style("border-radius","10px"),ee.position(0,0)),this._renderer instanceof l.default.RendererGL&&(ne=this.drawingContext,Q=new Uint8Array(ne.drawingBufferWidth*ne.drawingBufferHeight*4)),this.noLoop(),pe.next=39,Promise.resolve();case 39:if(Y<W)return this.redraw(),ye=void 0,ye=this._renderer instanceof l.default.RendererGL?(Q=new Uint8Array(ne.drawingBufferWidth*ne.drawingBufferHeight*4),ne.readPixels(0,0,ne.drawingBufferWidth,ne.drawingBufferHeight,ne.RGBA,ne.UNSIGNED_BYTE,Q),function(Te,ke,Me){for(var Ne=parseInt(Me/2),Ve=4*ke,Xe=new Uint8Array(4*ke),ht=0;ht<Ne;++ht){var Ke=ht*Ve,jt=(Me-ht-1)*Ve;Xe.set(Te.subarray(Ke,Ke+Ve)),Te.copyWithin(Ke,jt,jt+Ve),Te.set(Xe,jt)}return Te}(Q,this.width,this.height)):this.drawingContext.getImageData(0,0,this.width,this.height).data,te.push(ye),Y++,P||ee.html("Saved frame <b>"+te.length.toString()+"</b> out of "+q.toString()),pe.next=48,new Promise(function(Te){return setTimeout(Te,0)});pe.next=50;break;case 48:pe.next=39;break;case 50:P||ee.html("Frames processed, generating color palette..."),this.loop(),this.pixelDensity(J),re=(0,d.GIFEncoder)(),I=function(Te){for(var ke=new Uint8Array(Te.length*Te[0].length),Me=0;Me<Te.length;Me++)ke.set(Te[Me],Me*Te[0].length);var Ne=(0,d.quantize)(ke,256,{format:"rgba4444",oneBitAlpha:!0});return Ne.length===256?Ne[Ne.length-1]=[255*Math.random(),255*Math.random(),255*Math.random(),0]:Ne.push([255*Math.random(),255*Math.random(),255*Math.random(),0]),Ne}(te),U={},H=function(Te){for(var ke=Te.length/4,Me=new Uint8Array(ke),Ne=0;Ne<ke;Ne++){var Ve=Te[4*Ne]<<24|Te[4*Ne+1]<<16|Te[4*Ne+2]<<8|Te[4*Ne+3];U[Ve]===void 0&&(U[Ve]=(0,d.nearestColorIndex)(I,Te.slice(4*Ne,4*(Ne+1)))),Me[Ne]=U[Ve]}return Me},X=I.length-1,ae=[],le=0;case 60:if(!(le<te.length)){pe.next=71;break}if(he=H(te[le]),ye=he.slice(),le===0)re.writeFrame(he,this.width,this.height,{palette:I,delay:N,dispose:1});else{for(me=0;me<he.length;me++)he[me]===ae[me]&&(he[me]=X);re.writeFrame(he,this.width,this.height,{delay:N,transparent:!0,transparentIndex:X,dispose:1})}return ae=ye,P||ee.html("Rendered frame <b>"+le.toString()+"</b> out of "+q.toString()),pe.next=68,new Promise(function(Te){return setTimeout(Te,0)});case 68:le++,pe.next=60;break;case 71:re.finish(),xe=re.bytesView(),xe=new Blob([xe],{type:"image/gif"}),te=[],this._recording=!1,this.loop(),P||(ee.html("Done. Downloading your gif!"),0<O&&setTimeout(function(){return ee.remove()},1e3*O)),l.default.prototype.downloadFile(xe,R,"gif");case 80:case"end":return pe.stop()}},S,this)});var x,w=function(){var S=this,R=arguments;return new Promise(function(D,A){var C=x.apply(S,R);function j(O){g(C,D,A,j,P,"next",O)}function P(O){g(C,D,A,j,P,"throw",O)}j(void 0)})};return function(S,R){return w.apply(this,arguments)}}(),l.default.prototype.image=function(x,w,S,R,Y,J,te,ee,ne,O,L,N){l.default._validateParameters("image",arguments);var Q=x.width,q=x.height,W=(N=N||p.CENTER,L=L||p.CENTER,x.elt&&(Q=Q!==void 0?Q:x.elt.width,q=q!==void 0?q:x.elt.height),x.elt&&x.elt.videoWidth&&!x.canvas&&(Q=Q!==void 0?Q:x.elt.videoWidth,q=q!==void 0?q:x.elt.videoHeight),R||Q),Y=Y||q,J=J||0,te=te||0,ee=_(ee!==void 0?ee:Q,Q),Q=_(ne!==void 0?ne:q,q),ne=1;x.elt&&!x.canvas&&x.elt.style.width&&(ne=x.elt.videoWidth&&!R?x.elt.videoWidth:x.elt.width,ne/=parseInt(x.elt.style.width,10)),J*=ne,te*=ne,Q*=ne,ee*=ne,q=v(O,L,N,(q=u.default.modeAdjust(w,S,W,Y,this._renderer._imageMode)).x,q.y,q.w,q.h,J,te,ee,Q),this._renderer.image(x,q.sx,q.sy,q.sw,q.sh,q.dx,q.dy,q.dw,q.dh)},l.default.prototype.tint=function(){for(var x=arguments.length,w=new Array(x),S=0;S<x;S++)w[S]=arguments[S];l.default._validateParameters("tint",w);var R=this.color.apply(this,w);this._renderer._tint=R.levels},l.default.prototype.noTint=function(){this._renderer._tint=null},l.default.prototype._getTintedImageCanvas=l.default.Renderer2D.prototype._getTintedImageCanvas,l.default.prototype.imageMode=function(x){l.default._validateParameters("imageMode",arguments),x!==p.CORNER&&x!==p.CORNERS&&x!==p.CENTER||(this._renderer._imageMode=x)},r=l.default,o.default=r},{"../core/constants":272,"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/helpers":279,"../core/main":283,"core-js/modules/es.array.copy-within":154,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.typed-array.uint8-clamped-array":243,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246,gifenc:253,omggif:256,"regenerator-runtime/runtime":260}],307:[function(r,s,o){r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var a=l(r("../core/main")),c=l(r("./filters"));function l(p){return p&&p.__esModule?p:{default:p}}function u(p,y){for(var d=0;d<y.length;d++){var f=y[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(p,f.key,f)}}a.default.Image=function(){function p(f,b){if(!(this instanceof p))throw new TypeError("Cannot call a class as a function");this.width=f,this.height=b,this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.drawingContext=this.canvas.getContext("2d"),(this._pixelsState=this)._pixelDensity=1,this.gifProperties=null,this._modified=!1,this.pixels=[]}var y,d;return y=p,(d=[{key:"pixelDensity",value:function(f){return f!==void 0?(f<=0&&(a.default._friendlyParamError({type:"INVALID_VALUE",format:{types:["Number"]},position:1},"pixelDensity"),f=1),this._pixelDensity=f,this.width/=f,this.height/=f,this):this._pixelDensity}},{key:"_animateGif",value:function(v){var b,g=this.gifProperties,v=v._lastRealFrameTime||window.performance.now();g.lastChangeTime===0&&(g.lastChangeTime=v),g.playing&&(g.timeDisplayed=v-g.lastChangeTime,b=g.frames[g.displayIndex].delay,g.timeDisplayed>=b&&(b=Math.floor(g.timeDisplayed/b),g.timeDisplayed=0,g.lastChangeTime=v,g.displayIndex+=b,g.loopCount=Math.floor(g.displayIndex/g.numFrames),g.loopLimit!==null&&g.loopCount>=g.loopLimit?g.playing=!1:(v=g.displayIndex%g.numFrames,this.drawingContext.putImageData(g.frames[v].image,0,0),g.displayIndex=v,this.setModified(!0))))}},{key:"_setProperty",value:function(f,b){this[f]=b,this.setModified(!0)}},{key:"loadPixels",value:function(){a.default.Renderer2D.prototype.loadPixels.call(this),this.setModified(!0)}},{key:"updatePixels",value:function(f,b,g,v){a.default.Renderer2D.prototype.updatePixels.call(this,f,b,g,v),this.setModified(!0)}},{key:"get",value:function(f,b,g,v){return a.default._validateParameters("p5.Image.get",arguments),a.default.Renderer2D.prototype.get.apply(this,arguments)}},{key:"_getPixel",value:function(){for(var f=arguments.length,b=new Array(f),g=0;g<f;g++)b[g]=arguments[g];return a.default.Renderer2D.prototype._getPixel.apply(this,b)}},{key:"set",value:function(f,b,g){a.default.Renderer2D.prototype.set.call(this,f,b,g),this.setModified(!0)}},{key:"resize",value:function(f,b){f===0&&b===0?(f=this.canvas.width,b=this.canvas.height):f===0?f=this.canvas.width*b/this.canvas.height:b===0&&(b=this.canvas.height*f/this.canvas.width),f=Math.floor(f),b=Math.floor(b);var g=document.createElement("canvas");if(g.width=f,g.height=b,this.gifProperties)for(var v=this.gifProperties,_=0;_<v.numFrames;_++){for(var x=this.drawingContext.createImageData(f,b),w=(C=C=A=D=R=void 0,v.frames[_].image),S=x,R=0,D=0;D<S.height;D++)for(var A=0;A<S.width;A++){var C=Math.floor(A*w.width/S.width),C=4*(Math.floor(D*w.height/S.height)*w.width+C);S.data[R++]=w.data[C++],S.data[R++]=w.data[C++],S.data[R++]=w.data[C++],S.data[R++]=w.data[+C]}v.frames[_].image=x}g.getContext("2d").drawImage(this.canvas,0,0,this.canvas.width,this.canvas.height,0,0,g.width,g.height),this.canvas.width=this.width=f,this.canvas.height=this.height=b,this.drawingContext.drawImage(g,0,0,f,b,0,0,f,b),0<this.pixels.length&&this.loadPixels(),this.setModified(!0)}},{key:"copy",value:function(){for(var f=arguments.length,b=new Array(f),g=0;g<f;g++)b[g]=arguments[g];a.default.prototype.copy.apply(this,b)}},{key:"mask",value:function(f){var b=this.drawingContext.globalCompositeOperation,g=this._pixelDensity,v=1,_=[f=f===void 0?this:f,0,0,(v=f instanceof a.default.Renderer?f._pInst._pixelDensity:v)*f.width,v*f.height,0,0,g*this.width,g*this.height];if(this.drawingContext.globalCompositeOperation="destination-in",this.gifProperties){for(var x=0;x<this.gifProperties.frames.length;x++)this.drawingContext.putImageData(this.gifProperties.frames[x].image,0,0),this.copy.apply(this,_),this.gifProperties.frames[x].image=this.drawingContext.getImageData(0,0,g*this.width,g*this.height);this.drawingContext.putImageData(this.gifProperties.frames[this.gifProperties.displayIndex].image,0,0)}else this.copy.apply(this,_);this.drawingContext.globalCompositeOperation=b,this.setModified(!0)}},{key:"filter",value:function(f,b){c.default.apply(this.canvas,c.default[f],b),this.setModified(!0)}},{key:"blend",value:function(){for(var f=arguments.length,b=new Array(f),g=0;g<f;g++)b[g]=arguments[g];a.default._validateParameters("p5.Image.blend",arguments),a.default.prototype.blend.apply(this,b),this.setModified(!0)}},{key:"setModified",value:function(f){this._modified=f}},{key:"isModified",value:function(){return this._modified}},{key:"save",value:function(f,b){this.gifProperties?a.default.prototype.encodeAndDownloadGif(this,f):a.default.prototype.saveCanvas(this.canvas,f,b)}},{key:"reset",value:function(){var f;this.gifProperties&&((f=this.gifProperties).playing=!0,f.timeSinceStart=0,f.timeDisplayed=0,f.lastChangeTime=0,f.loopCount=0,f.displayIndex=0,this.drawingContext.putImageData(f.frames[0].image,0,0))}},{key:"getCurrentFrame",value:function(){var f;if(this.gifProperties)return(f=this.gifProperties).displayIndex%f.numFrames}},{key:"setFrame",value:function(f){var b;this.gifProperties&&(f<(b=this.gifProperties).numFrames&&0<=f?(b.timeDisplayed=0,b.lastChangeTime=0,b.displayIndex=f,this.drawingContext.putImageData(b.frames[f].image,0,0)):console.log("Cannot set GIF to a frame number that is higher than total number of frames or below zero."))}},{key:"numFrames",value:function(){if(this.gifProperties)return this.gifProperties.numFrames}},{key:"play",value:function(){this.gifProperties&&(this.gifProperties.playing=!0)}},{key:"pause",value:function(){this.gifProperties&&(this.gifProperties.playing=!1)}},{key:"delay",value:function(f,b){if(this.gifProperties){var g=this.gifProperties;if(b<g.numFrames&&0<=b)g.frames[b].delay=f;else{var v=!0,b=!1,_=void 0;try{for(var x,w=g.frames[Symbol.iterator]();!(v=(x=w.next()).done);v=!0)x.value.delay=f}catch(R){b=!0,_=R}finally{try{v||w.return==null||w.return()}finally{if(b)throw _}}}}}}])&&u(y.prototype,d),p}(),r=a.default.Image,o.default=r},{"../core/main":283,"./filters":304,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],308:[function(r,s,o){r("core-js/modules/es.array.filter"),r("core-js/modules/es.array.filter"),Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var a=l(r("../core/main")),c=l(r("./filters"));function l(u){return u&&u.__esModule?u:{default:u}}r("../color/p5.Color"),a.default.prototype.pixels=[],a.default.prototype.blend=function(){for(var u,p=arguments.length,y=new Array(p),d=0;d<p;d++)y[d]=arguments[d];a.default._validateParameters("blend",y),this._renderer?(u=this._renderer).blend.apply(u,y):a.default.Renderer2D.prototype.blend.apply(this,y)},a.default.prototype.copy=function(){for(var u,p,y,d,f,b,g,v,_,x=arguments.length,w=new Array(x),S=0;S<x;S++)w[S]=arguments[S];if(a.default._validateParameters("copy",w),w.length===9)u=w[0],p=w[1],y=w[2],d=w[3],f=w[4],b=w[5],g=w[6],v=w[7],_=w[8];else{if(w.length!==8)throw new Error("Signature not supported");u=this,p=w[0],y=w[1],d=w[2],f=w[3],b=w[4],g=w[5],v=w[6],_=w[7]}a.default.prototype._copyHelper(this,u,p,y,d,f,b,g,v,_)},a.default.prototype._copyHelper=function(u,p,y,d,f,b,g,v,_,x){var w=p.canvas.width/p.width,S=0,R=0;p._renderer&&p._renderer.isP3D&&(S=p.width/2,R=p.height/2),u._renderer&&u._renderer.isP3D?(u.push(),u.resetMatrix(),u.noLights(),u.blendMode(u.BLEND),u.imageMode(u.CORNER),a.default.RendererGL.prototype.image.call(u._renderer,p,y+S,d+R,f,b,g,v,_,x),u.pop()):u.drawingContext.drawImage(p.canvas,w*(y+S),w*(d+R),w*f,w*b,g,v,_,x)},a.default.prototype.getFilterGraphicsLayer=function(){return this._renderer.getFilterGraphicsLayer()},a.default.prototype.filter=function(){for(var u=arguments.length,p=new Array(u),y=0;y<u;y++)p[y]=arguments[y];a.default._validateParameters("filter",p);var g=(function(){var v,_={shader:void 0,operation:void 0,value:void 0,useWebGL:!0};return(arguments.length<=0?void 0:arguments[0])instanceof a.default.Shader?_.shader=arguments.length<=0?void 0:arguments[0]:(_.operation=arguments.length<=0?void 0:arguments[0],1<arguments.length&&typeof(arguments.length<=1?void 0:arguments[1])=="number"&&(_.value=arguments.length<=1?void 0:arguments[1]),((v=arguments.length-1)<0||arguments.length<=v?void 0:arguments[v])===!1&&(_.useWebGL=!1)),_}).apply(void 0,p),d=g.shader,f=g.operation,b=g.value,g=g.useWebGL;this._renderer.isP3D&&d?a.default.RendererGL.prototype.filter.call(this._renderer,d):g||this._renderer.isP3D?(!g&&this._renderer.isP3D&&console.warn("filter() with useWebGL=false is not supported in WEBGL"),this._renderer.isP3D?a.default.RendererGL.prototype.filter.call(this._renderer,f,b):((d=this.getFilterGraphicsLayer()).copy(this._renderer,0,0,this.width,this.height,-this.width/2,-this.height/2,this.width,this.height),this._renderer.clear(),this._renderer.resetMatrix(),d.filter.apply(d,p),this.copy(d._renderer,0,0,this.width,this.height,0,0,this.width,this.height),d.clear())):this.canvas!==void 0?c.default.apply(this.canvas,c.default[f],b):c.default.apply(this.elt,c.default[f],b)},a.default.prototype.get=function(u,p,y,d){var f;return a.default._validateParameters("get",arguments),(f=this._renderer).get.apply(f,arguments)},a.default.prototype.loadPixels=function(){for(var u=arguments.length,p=new Array(u),y=0;y<u;y++)p[y]=arguments[y];a.default._validateParameters("loadPixels",p),this._renderer.loadPixels()},a.default.prototype.set=function(u,p,y){this._renderer.set(u,p,y)},a.default.prototype.updatePixels=function(u,p,y,d){a.default._validateParameters("updatePixels",arguments),this.pixels.length!==0&&this._renderer.updatePixels(u,p,y,d)},r=a.default,o.default=r},{"../color/p5.Color":270,"../core/main":283,"./filters":304,"core-js/modules/es.array.filter":157}],309:[function(r,s,o){function a(b){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(b)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.last-index-of"),r("core-js/modules/es.array.map"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.array.splice"),r("core-js/modules/es.function.name"),r("core-js/modules/es.object.from-entries"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.promise"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.includes"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.replace"),r("core-js/modules/es.string.split"),r("core-js/modules/es.typed-array.uint8-array"),r("core-js/modules/es.typed-array.copy-within"),r("core-js/modules/es.typed-array.every"),r("core-js/modules/es.typed-array.fill"),r("core-js/modules/es.typed-array.filter"),r("core-js/modules/es.typed-array.find"),r("core-js/modules/es.typed-array.find-index"),r("core-js/modules/es.typed-array.for-each"),r("core-js/modules/es.typed-array.includes"),r("core-js/modules/es.typed-array.index-of"),r("core-js/modules/es.typed-array.iterator"),r("core-js/modules/es.typed-array.join"),r("core-js/modules/es.typed-array.last-index-of"),r("core-js/modules/es.typed-array.map"),r("core-js/modules/es.typed-array.reduce"),r("core-js/modules/es.typed-array.reduce-right"),r("core-js/modules/es.typed-array.reverse"),r("core-js/modules/es.typed-array.set"),r("core-js/modules/es.typed-array.slice"),r("core-js/modules/es.typed-array.some"),r("core-js/modules/es.typed-array.sort"),r("core-js/modules/es.typed-array.subarray"),r("core-js/modules/es.typed-array.to-locale-string"),r("core-js/modules/es.typed-array.to-string"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/web.url"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.last-index-of"),r("core-js/modules/es.array.map"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.array.splice"),r("core-js/modules/es.function.name"),r("core-js/modules/es.object.from-entries"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.promise"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.includes"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.replace"),r("core-js/modules/es.string.split"),r("core-js/modules/es.typed-array.uint8-array"),r("core-js/modules/es.typed-array.copy-within"),r("core-js/modules/es.typed-array.every"),r("core-js/modules/es.typed-array.fill"),r("core-js/modules/es.typed-array.filter"),r("core-js/modules/es.typed-array.find"),r("core-js/modules/es.typed-array.find-index"),r("core-js/modules/es.typed-array.for-each"),r("core-js/modules/es.typed-array.includes"),r("core-js/modules/es.typed-array.index-of"),r("core-js/modules/es.typed-array.iterator"),r("core-js/modules/es.typed-array.join"),r("core-js/modules/es.typed-array.last-index-of"),r("core-js/modules/es.typed-array.map"),r("core-js/modules/es.typed-array.reduce"),r("core-js/modules/es.typed-array.reduce-right"),r("core-js/modules/es.typed-array.reverse"),r("core-js/modules/es.typed-array.set"),r("core-js/modules/es.typed-array.slice"),r("core-js/modules/es.typed-array.some"),r("core-js/modules/es.typed-array.sort"),r("core-js/modules/es.typed-array.subarray"),r("core-js/modules/es.typed-array.to-locale-string"),r("core-js/modules/es.typed-array.to-string"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/web.url"),Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var c=p(r("../core/main")),l=(r("whatwg-fetch"),r("es6-promise/auto"),p(r("fetch-jsonp"))),u=p(r("file-saver"));function p(b){return b&&b.__esModule?b:{default:b}}function y(b){return(y=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(g){return a(g)}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":a(g)})(b)}function d(b){return b.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function f(b,g){g&&g!==!0&&g!=="true"||(g="");var v="";return(b=b||"untitled")&&b.includes(".")&&(v=b.split(".").pop()),g&&v!==g&&(v=g,b="".concat(b,".").concat(v)),[b,v]}r("../core/friendly_errors/validate_params"),r("../core/friendly_errors/file_errors"),r("../core/friendly_errors/fes_core"),c.default.prototype.loadJSON=function(){for(var b=arguments.length,g=new Array(b),v=0;v<b;v++)g[v]=arguments[v];c.default._validateParameters("loadJSON",g);for(var _,x,w,S=g[0],R={},D="json",A=1;A<g.length;A++){var C=g[A];typeof C=="string"?C!=="jsonp"&&C!=="json"||(D=C):typeof C=="function"?_?x=C:_=C:y(C)==="object"&&(C.hasOwnProperty("jsonpCallback")||C.hasOwnProperty("jsonpCallbackFunction"))&&(D="jsonp",w=C)}var j=this;return this.httpDo(S,"GET",w,D,function(P){for(var O in P)R[O]=P[O];_!==void 0&&_(P),j._decrementPreload()},function(P){if(c.default._friendlyFileLoadError(5,S),!x)throw P;x(P)}),R},c.default.prototype.loadStrings=function(){for(var b=arguments.length,g=new Array(b),v=0;v<b;v++)g[v]=arguments[v];c.default._validateParameters("loadStrings",g);for(var _,x,w=[],S=1;S<g.length;S++){var R=g[S];typeof R=="function"&&(_===void 0?_=R:x===void 0&&(x=R))}var D=this;return c.default.prototype.httpDo.call(this,g[0],"GET","text",function(A){for(var C=A.replace(/\r\n/g,"\r").replace(/\n/g,"\r").split(/\r/),j=0,P=C.length;j<P;j+=32768)Array.prototype.push.apply(w,C.slice(j,Math.min(j+32768,P)));_!==void 0&&_(w),D._decrementPreload()},function(A){if(c.default._friendlyFileLoadError(3,A),!x)throw A;x(A)}),w},c.default.prototype.loadTable=function(b){var g,v,_,x=!1,w=b.substring(b.lastIndexOf(".")+1,b.length);w==="csv"?_=",":w==="ssv"?_=";":w==="tsv"&&(_="	");for(var S=1;S<arguments.length;S++)typeof arguments[S]=="function"?g===void 0?g=arguments[S]:v===void 0&&(v=arguments[S]):typeof arguments[S]=="string"&&(arguments[S]==="header"&&(x=!0),arguments[S]==="csv"?_=",":arguments[S]==="ssv"?_=";":arguments[S]==="tsv"&&(_="	"));var R=new c.default.Table,D=this;return this.httpDo(b,"GET","table",function(A){for(var C,j,P={},O=0,L=[],N=0,q=null,W=function(){P.currentState=O,P.token=""},Y=function(){q.push(P.token),W()},J=function(){P.currentState=4,L.push(q),q=null};;){if((C=A[N++])==null){if(P.escaped)throw new Error("Unclosed quote in file.");if(q){Y(),J();break}}if(q===null&&(P.escaped=!1,q=[],W()),P.currentState===O){if(C==='"'){P.escaped=!0,P.currentState=1;continue}P.currentState=1}if(P.currentState===1&&P.escaped)if(C==='"')A[N]==='"'?(P.token+='"',N++):(P.escaped=!1,P.currentState=2);else{if(C==="\r")continue;P.token+=C}else C==="\r"?(A[N]===`
`&&N++,Y(),J()):C===`
`?(Y(),J()):C===_?Y():P.currentState===1&&(P.token+=C)}if(x)R.columns=L.shift();else for(var te=0;te<L[0].length;te++)R.columns[te]="null";for(var ee=0;ee<L.length;ee++)(L[ee].length!==1||L[ee][0]!=="undefined"&&L[ee][0]!=="")&&((j=new c.default.TableRow).arr=L[ee],j.obj=function(Q,ne){if((ne=ne||[])===void 0)for(var re=0;re<Q.length;re++)ne[re.toString()]=re;return Object.fromEntries(ne.map(function(I,U){return[I,Q[U]]}))}(L[ee],R.columns),R.addRow(j));typeof g=="function"&&g(R),D._decrementPreload()},function(A){c.default._friendlyFileLoadError(2,b),v?v(A):console.error(A)}),R},c.default.prototype.loadXML=function(){for(var b=arguments.length,g=new Array(b),v=0;v<b;v++)g[v]=arguments[v];for(var _,x,w=new c.default.XML,S=1;S<g.length;S++){var R=g[S];typeof R=="function"&&(_===void 0?_=R:x===void 0&&(x=R))}var D=this;return this.httpDo(g[0],"GET","xml",function(A){for(var C in A)w[C]=A[C];_!==void 0&&_(w),D._decrementPreload()},function(A){if(c.default._friendlyFileLoadError(1,A),!x)throw A;x(A)}),w},c.default.prototype.loadBytes=function(b,g,v){var _={},x=this;return this.httpDo(b,"GET","arrayBuffer",function(w){_.bytes=new Uint8Array(w),typeof g=="function"&&g(_),x._decrementPreload()},function(w){if(c.default._friendlyFileLoadError(6,b),!v)throw w;v(w)}),_},c.default.prototype.httpGet=function(){for(var b=arguments.length,g=new Array(b),v=0;v<b;v++)g[v]=arguments[v];return c.default._validateParameters("httpGet",g),g.splice(1,0,"GET"),c.default.prototype.httpDo.apply(this,g)},c.default.prototype.httpPost=function(){for(var b=arguments.length,g=new Array(b),v=0;v<b;v++)g[v]=arguments[v];return c.default._validateParameters("httpPost",g),g.splice(1,0,"POST"),c.default.prototype.httpDo.apply(this,g)},c.default.prototype.httpDo=function(){for(var b,g,v,_={},x=0,w="text/plain",S=arguments.length-1;0<S&&typeof(S<0||arguments.length<=S?void 0:arguments[S])=="function";S--)x++;var R=arguments.length-x,D=arguments.length<=0?void 0:arguments[0];if(R==2&&typeof D=="string"&&y(arguments.length<=1?void 0:arguments[1])==="object")L=new Request(D,arguments.length<=1?void 0:arguments[1]),g=arguments.length<=2?void 0:arguments[2],v=arguments.length<=3?void 0:arguments[3];else{for(var A,C="GET",j=1;j<arguments.length;j++){var P=j<0||arguments.length<=j?void 0:arguments[j];if(typeof P=="string")P==="GET"||P==="POST"||P==="PUT"||P==="DELETE"?C=P:P==="json"||P==="jsonp"||P==="binary"||P==="arrayBuffer"||P==="xml"||P==="text"||P==="table"?b=P:A=P;else if(typeof P=="number")A=P.toString();else if(y(P)==="object")if(P.hasOwnProperty("jsonpCallback")||P.hasOwnProperty("jsonpCallbackFunction"))for(var O in P)_[O]=P[O];else w=P instanceof c.default.XML?(A=P.serialize(),"application/xml"):(A=JSON.stringify(P),"application/json");else typeof P=="function"&&(g?v=P:g=P)}var R=C==="GET"?new Headers:new Headers({"Content-Type":w}),L=new Request(D,{method:C,mode:"cors",body:A,headers:R})}return(R=(R=(b=b||(D.includes("json")?"json":D.includes("xml")?"xml":"text"))==="jsonp"?(0,l.default)(D,_):fetch(L)).then(function(N){if(!N.ok)throw(q=new Error(N.body)).status=N.status,q.ok=!1,q;var q=0;switch((q=b!=="jsonp"?N.headers.get("content-length"):q)&&64e6<q&&c.default._friendlyFileLoadError(7,D),b){case"json":case"jsonp":return N.json();case"binary":return N.blob();case"arrayBuffer":return N.arrayBuffer();case"xml":return N.text().then(function(W){return W=new DOMParser().parseFromString(W,"text/xml"),new c.default.XML(W.documentElement)});default:return N.text()}})).then(g||function(){}),R.catch(v||console.error),R},window.URL=window.URL||window.webkitURL,c.default.prototype._pWriters=[],c.default.prototype.createWriter=function(b,g){var v,_;for(_ in c.default.prototype._pWriters)if(c.default.prototype._pWriters[_].name===b)return v=new c.default.PrintWriter(b+this.millis(),g),c.default.prototype._pWriters.push(v),v;return v=new c.default.PrintWriter(b,g),c.default.prototype._pWriters.push(v),v},c.default.PrintWriter=function(b,g){var v=this;this.name=b,this.content="",this.write=function(_){this.content+=_},this.print=function(_){this.content+="".concat(_,`
`)},this.clear=function(){this.content=""},this.close=function(){var _,x=[];for(_ in x.push(this.content),c.default.prototype.writeFile(x,b,g),c.default.prototype._pWriters)c.default.prototype._pWriters[_].name===this.name&&c.default.prototype._pWriters.splice(_,1);v.clear(),v={}}},c.default.prototype.save=function(b,g,v){var _=arguments,x=(this._curElement||this).elt;if(_.length===0)c.default.prototype.saveCanvas(x);else if(_[0]instanceof c.default.Renderer||_[0]instanceof c.default.Graphics)c.default.prototype.saveCanvas(_[0].elt,_[1],_[2]);else if(_.length===1&&typeof _[0]=="string")c.default.prototype.saveCanvas(x,_[0]);else switch(f(_[1],_[2])[1]){case"json":return void c.default.prototype.saveJSON(_[0],_[1],_[2]);case"txt":return void c.default.prototype.saveStrings(_[0],_[1],_[2]);default:_[0]instanceof Array?c.default.prototype.saveStrings(_[0],_[1],_[2]):_[0]instanceof c.default.Table?c.default.prototype.saveTable(_[0],_[1],_[2]):_[0]instanceof c.default.Image?c.default.prototype.saveCanvas(_[0].canvas,_[1]):_[0]instanceof c.default.SoundFile&&c.default.prototype.saveSound(_[0],_[1],_[2],_[3])}},c.default.prototype.saveJSON=function(b,g,v){c.default._validateParameters("saveJSON",arguments),v=v?JSON.stringify(b):JSON.stringify(b,void 0,2),this.saveStrings(v.split(`
`),g,"json")},c.default.prototype.saveJSONObject=c.default.prototype.saveJSON,c.default.prototype.saveJSONArray=c.default.prototype.saveJSON,c.default.prototype.saveStrings=function(b,g,v,_){c.default._validateParameters("saveStrings",arguments);for(var x=this.createWriter(g,v||"txt"),w=0;w<b.length;w++)_?x.write(b[w]+`\r
`):x.write(b[w]+`
`);x.close(),x.clear()},c.default.prototype.saveTable=function(b,g,v){c.default._validateParameters("saveTable",arguments),_=v===void 0?g.substring(g.lastIndexOf(".")+1,g.length):v;var _,x=this.createWriter(g,_),w=b.columns,S=_==="tsv"?"	":",";if(_!=="html"){if(w[0]!=="0"){for(var R=0;R<w.length;R++)R<w.length-1?x.write(w[R]+S):x.write(w[R]);x.write(`
`)}for(var D=0;D<b.rows.length;D++){for(var A=void 0,A=0;A<b.rows[D].arr.length;A++)A<b.rows[D].arr.length-1?_==="csv"&&String(b.rows[D].arr[A]).includes(",")?x.write('"'+b.rows[D].arr[A]+'"'+S):x.write(b.rows[D].arr[A]+S):_==="csv"&&String(b.rows[D].arr[A]).includes(",")?x.write('"'+b.rows[D].arr[A]+'"'):x.write(b.rows[D].arr[A]);x.write(`
`)}}else{if(x.print("<html>"),x.print("<head>"),x.print('  <meta http-equiv="content-type" content="text/html;charset=utf-8" />'),x.print("</head>"),x.print("<body>"),x.print("  <table>"),w[0]!=="0"){x.print("    <tr>");for(var C=0;C<w.length;C++){var j=d(w[C]);x.print("      <td>".concat(j)),x.print("      </td>")}x.print("    </tr>")}for(var P=0;P<b.rows.length;P++){x.print("    <tr>");for(var O=0;O<b.columns.length;O++){var L=d(b.rows[P].getString(O));x.print("      <td>".concat(L)),x.print("      </td>")}x.print("    </tr>")}x.print("  </table>"),x.print("</body>"),x.print("</html>")}x.close(),x.clear()},c.default.prototype.writeFile=function(x,g,v){var _="application/octet-stream",x=(c.default.prototype._isSafari()&&(_="text/plain"),new Blob(x,{type:_}));c.default.prototype.downloadFile(x,g,v)},c.default.prototype.downloadFile=function(b,x,w){var _,x=f(x,w),w=x[0];b instanceof Blob?u.default.saveAs(b,w):((_=document.createElement("a")).href=b,_.download=w,_.onclick=function(S){document.body.removeChild(S.target),S.stopPropagation()},_.style.display="none",document.body.appendChild(_),c.default.prototype._isSafari()&&(b=(b=`Hello, Safari user! To download this file...
1. Go to File --> Save As.
2. Choose "Page Source" as the Format.
`)+'3. Name it with this extension: ."'.concat(x[1],'"'),alert(b)),_.click())},c.default.prototype._checkFileExtension=f,c.default.prototype._isSafari=function(){return window.HTMLElement.toString().includes("Constructor")},r=c.default,o.default=r},{"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.function.name":174,"core-js/modules/es.object.from-entries":185,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/web.dom-collections.iterator":246,"core-js/modules/web.url":248,"es6-promise/auto":249,"fetch-jsonp":251,"file-saver":252,"whatwg-fetch":261}],310:[function(r,s,o){r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.join"),r("core-js/modules/es.array.splice"),r("core-js/modules/es.regexp.constructor"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.match"),r("core-js/modules/es.string.replace"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.join"),r("core-js/modules/es.array.splice"),r("core-js/modules/es.regexp.constructor"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.match"),r("core-js/modules/es.string.replace"),Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var a=(r=r("../core/main"))&&r.__esModule?r:{default:r};function c(l,u){for(var p=0;p<u.length;p++){var y=u[p];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(l,y.key,y)}}a.default.Table=function(){function l(){var y=0<arguments.length&&arguments[0]!==void 0?arguments[0]:[],d=this,f=l;if(!(d instanceof f))throw new TypeError("Cannot call a class as a function");this.columns=[],this.rows=y}var u,p;return u=l,(p=[{key:"addRow",value:function(y){if(y=y||new a.default.TableRow,y.arr===void 0||y.obj===void 0)throw new Error("invalid TableRow: ".concat(y));return(y.table=this).rows.push(y),y}},{key:"removeRow",value:function(y){this.rows[y].table=null,y=this.rows.splice(y+1,this.rows.length),this.rows.pop(),this.rows=this.rows.concat(y)}},{key:"getRow",value:function(y){return this.rows[y]}},{key:"getRows",value:function(){return this.rows}},{key:"findRow",value:function(y,d){if(typeof d=="string"){for(var f=0;f<this.rows.length;f++)if(this.rows[f].obj[d]===y)return this.rows[f]}else for(var b=0;b<this.rows.length;b++)if(this.rows[b].arr[d]===y)return this.rows[b];return null}},{key:"findRows",value:function(y,d){var f=[];if(typeof d=="string")for(var b=0;b<this.rows.length;b++)this.rows[b].obj[d]===y&&f.push(this.rows[b]);else for(var g=0;g<this.rows.length;g++)this.rows[g].arr[d]===y&&f.push(this.rows[g]);return f}},{key:"matchRow",value:function(y,d){if(typeof d=="number"){for(var f=0;f<this.rows.length;f++)if(this.rows[f].arr[d].match(y))return this.rows[f]}else for(var b=0;b<this.rows.length;b++)if(this.rows[b].obj[d].match(y))return this.rows[b];return null}},{key:"matchRows",value:function(y,d){var f=[];if(typeof d=="number")for(var b=0;b<this.rows.length;b++)this.rows[b].arr[d].match(y)&&f.push(this.rows[b]);else for(var g=0;g<this.rows.length;g++)this.rows[g].obj[d].match(y)&&f.push(this.rows[g]);return f}},{key:"getColumn",value:function(y){var d=[];if(typeof y=="string")for(var f=0;f<this.rows.length;f++)d.push(this.rows[f].obj[y]);else for(var b=0;b<this.rows.length;b++)d.push(this.rows[b].arr[y]);return d}},{key:"clearRows",value:function(){delete this.rows,this.rows=[]}},{key:"addColumn",value:function(y){this.columns.push(y||null)}},{key:"getColumnCount",value:function(){return this.columns.length}},{key:"getRowCount",value:function(){return this.rows.length}},{key:"removeTokens",value:function(y,d){for(var f=[],b=0;b<y.length;b++)f.push(y.charAt(b).replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"));var g=new RegExp(f.join("|"),"g");if(d===void 0)for(var v=0;v<this.columns.length;v++)for(var _=0;_<this.rows.length;_++){var x=(x=this.rows[_].arr[v]).replace(g,"");this.rows[_].arr[v]=x,this.rows[_].obj[this.columns[v]]=x}else if(typeof d=="string")for(var w=0;w<this.rows.length;w++){var S=(S=this.rows[w].obj[d]).replace(g,""),R=(this.rows[w].obj[d]=S,this.columns.indexOf(d));this.rows[w].arr[R]=S}else for(var D=0;D<this.rows.length;D++){var A=(A=this.rows[D].arr[d]).replace(g,"");this.rows[D].arr[d]=A,this.rows[D].obj[this.columns[d]]=A}}},{key:"trim",value:function(y){var d=new RegExp(" ","g");if(y===void 0)for(var f=0;f<this.columns.length;f++)for(var b=0;b<this.rows.length;b++){var g=(g=this.rows[b].arr[f]).replace(d,"");this.rows[b].arr[f]=g,this.rows[b].obj[this.columns[f]]=g}else if(typeof y=="string")for(var v=0;v<this.rows.length;v++){var _=(_=this.rows[v].obj[y]).replace(d,""),x=(this.rows[v].obj[y]=_,this.columns.indexOf(y));this.rows[v].arr[x]=_}else for(var w=0;w<this.rows.length;w++){var S=(S=this.rows[w].arr[y]).replace(d,"");this.rows[w].arr[y]=S,this.rows[w].obj[this.columns[y]]=S}}},{key:"removeColumn",value:function(b){typeof b=="string"?f=this.columns.indexOf(d=b):d=this.columns[f=b];var d,f,b=this.columns.splice(f+1,this.columns.length);this.columns.pop(),this.columns=this.columns.concat(b);for(var g=0;g<this.rows.length;g++){var v=this.rows[g].arr,_=v.splice(f+1,v.length);v.pop(),this.rows[g].arr=v.concat(_),delete this.rows[g].obj[d]}}},{key:"set",value:function(y,d,f){this.rows[y].set(d,f)}},{key:"setNum",value:function(y,d,f){this.rows[y].setNum(d,f)}},{key:"setString",value:function(y,d,f){this.rows[y].setString(d,f)}},{key:"get",value:function(y,d){return this.rows[y].get(d)}},{key:"getNum",value:function(y,d){return this.rows[y].getNum(d)}},{key:"getString",value:function(y,d){return this.rows[y].getString(d)}},{key:"getObject",value:function(y){for(var d,f={},b=0;b<this.rows.length;b++)if(d=this.rows[b].obj,typeof y=="string"){if(!(0<=this.columns.indexOf(y)))throw new Error('This table has no column named "'.concat(y,'"'));f[d[y]]=d}else f[b]=this.rows[b].obj;return f}},{key:"getArray",value:function(){for(var y=[],d=0;d<this.rows.length;d++)y.push(this.rows[d].arr);return y}}])&&c(u.prototype,p),l}(),r=a.default,o.default=r},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.join":166,"core-js/modules/es.array.splice":171,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.match":201,"core-js/modules/es.string.replace":204}],311:[function(r,s,o){r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.from-entries"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.split"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.from-entries"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.split"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,r=(r=r("../core/main"))&&r.__esModule?r:{default:r};function a(c,l){for(var u=0;u<l.length;u++){var p=l[u];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(c,p.key,p)}}r.default.TableRow=function(){function c(p,y){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");var d=[];p&&(d=p.split(y=y||",")),this.arr=d,this.obj=Object.fromEntries(d.entries()),this.table=null}var l,u;return l=c,(u=[{key:"set",value:function(p,y){if(typeof p=="string"){var d=this.table.columns.indexOf(p);if(!(0<=d))throw new Error('This table has no column named "'.concat(p,'"'));this.obj[p]=y,this.arr[d]=y}else{if(!(p<this.table.columns.length))throw new Error("Column #".concat(p," is out of the range of this table"));this.arr[p]=y,d=this.table.columns[p],this.obj[d]=y}}},{key:"setNum",value:function(p,y){y=parseFloat(y),this.set(p,y)}},{key:"setString",value:function(p,y){y=y.toString(),this.set(p,y)}},{key:"get",value:function(p){return(typeof p=="string"?this.obj:this.arr)[p]}},{key:"getNum",value:function(p){var y=parseFloat(typeof p=="string"?this.obj[p]:this.arr[p]);if(y.toString()==="NaN")throw"Error: ".concat(this.obj[p]," is NaN (Not a Number)");return y}},{key:"getString",value:function(p){return(typeof p=="string"?this.obj:this.arr)[p].toString()}}])&&a(l.prototype,u),c}(),r=r.default,o.default=r},{"../core/main":283,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.from-entries":185,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.split":206,"core-js/modules/web.dom-collections.iterator":246}],312:[function(r,s,o){r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.number.constructor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.replace"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.number.constructor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.replace"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var a=(r=r("../core/main"))&&r.__esModule?r:{default:r};function c(u,p){for(var y=0;y<p.length;y++){var d=p[y];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(u,d.key,d)}}function l(u){for(var p=[],y=0;y<u.length;y++)p.push(new a.default.XML(u[y]));return p}a.default.XML=function(){function u(d){if(!(this instanceof u))throw new TypeError("Cannot call a class as a function");d?this.DOM=d:(d=document.implementation.createDocument(null,"doc"),this.DOM=d.createElement("root"))}var p,y;return p=u,(y=[{key:"getParent",value:function(){return new a.default.XML(this.DOM.parentElement)}},{key:"getName",value:function(){return this.DOM.tagName}},{key:"setName",value:function(d){var f=this.DOM.innerHTML,b=this.DOM.attributes,g=document.implementation.createDocument(null,"default").createElement(d);g.innerHTML=f;for(var v=0;v<b.length;v++)g.setAttribute(b[v].nodeName,b[v].nodeValue);this.DOM=g}},{key:"hasChildren",value:function(){return 0<this.DOM.children.length}},{key:"listChildren",value:function(){for(var d=[],f=0;f<this.DOM.childNodes.length;f++)d.push(this.DOM.childNodes[f].nodeName);return d}},{key:"getChildren",value:function(d){return l(d?this.DOM.getElementsByTagName(d):this.DOM.children)}},{key:"getChild",value:function(d){if(typeof d!="string")return new a.default.XML(this.DOM.children[d]);var f=!0,b=!1,g=void 0;try{for(var v,_=this.DOM.children[Symbol.iterator]();!(f=(v=_.next()).done);f=!0){var x=v.value;if(x.tagName===d)return new a.default.XML(x)}}catch(w){b=!0,g=w}finally{try{f||_.return==null||_.return()}finally{if(b)throw g}}}},{key:"addChild",value:function(d){d instanceof a.default.XML&&this.DOM.appendChild(d.DOM)}},{key:"removeChild",value:function(d){var f=-1;if(typeof d=="string"){for(var b=0;b<this.DOM.children.length;b++)if(this.DOM.children[b].tagName===d){f=b;break}}else f=d;f!==-1&&this.DOM.removeChild(this.DOM.children[f])}},{key:"getAttributeCount",value:function(){return this.DOM.attributes.length}},{key:"listAttributes",value:function(){var d=[],f=!0,b=!1,g=void 0;try{for(var v,_=this.DOM.attributes[Symbol.iterator]();!(f=(v=_.next()).done);f=!0){var x=v.value;d.push(x.nodeName)}}catch(w){b=!0,g=w}finally{try{f||_.return==null||_.return()}finally{if(b)throw g}}return d}},{key:"hasAttribute",value:function(d){var f={},b=!0,g=!1,v=void 0;try{for(var _,x=this.DOM.attributes[Symbol.iterator]();!(b=(_=x.next()).done);b=!0){var w=_.value;f[w.nodeName]=w.nodeValue}}catch(S){g=!0,v=S}finally{try{b||x.return==null||x.return()}finally{if(g)throw v}}return!!f[d]}},{key:"getNum",value:function(d,f){var b={},g=!0,v=!1,_=void 0;try{for(var x,w=this.DOM.attributes[Symbol.iterator]();!(g=(x=w.next()).done);g=!0){var S=x.value;b[S.nodeName]=S.nodeValue}}catch(R){v=!0,_=R}finally{try{g||w.return==null||w.return()}finally{if(v)throw _}}return Number(b[d])||f||0}},{key:"getString",value:function(d,f){var b={},g=!0,v=!1,_=void 0;try{for(var x,w=this.DOM.attributes[Symbol.iterator]();!(g=(x=w.next()).done);g=!0){var S=x.value;b[S.nodeName]=S.nodeValue}}catch(R){v=!0,_=R}finally{try{g||w.return==null||w.return()}finally{if(v)throw _}}return b[d]?String(b[d]):f||null}},{key:"setAttribute",value:function(d,f){this.DOM.setAttribute(d,f)}},{key:"getContent",value:function(d){var f=this.DOM.textContent;return(f=f.replace(/\s\s+/g,","))||d||null}},{key:"setContent",value:function(d){this.DOM.children.length||(this.DOM.textContent=d)}},{key:"serialize",value:function(){return new XMLSerializer().serializeToString(this.DOM)}}])&&c(p.prototype,y),u}(),r=a.default,o.default=r},{"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],313:[function(r,s,o){r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.from"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.map"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.math.hypot"),r("core-js/modules/es.number.constructor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.includes"),r("core-js/modules/es.string.iterator"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.map"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.math.hypot"),r("core-js/modules/es.number.constructor"),r("core-js/modules/es.string.includes"),Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var a=(r=r("../core/main"))&&r.__esModule?r:{default:r};function c(l){return function(u){if(Array.isArray(u)){for(var p=0,y=new Array(u.length);p<u.length;p++)y[p]=u[p];return y}}(l)||function(u){if(Symbol.iterator in Object(u)||Object.prototype.toString.call(u)==="[object Arguments]")return Array.from(u)}(l)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}a.default.prototype.abs=Math.abs,a.default.prototype.ceil=Math.ceil,a.default.prototype.constrain=function(l,u,p){return a.default._validateParameters("constrain",arguments),Math.max(Math.min(l,p),u)},a.default.prototype.dist=function(){for(var l=arguments.length,u=new Array(l),p=0;p<l;p++)u[p]=arguments[p];return a.default._validateParameters("dist",u),u.length===4?Math.hypot(u[2]-u[0],u[3]-u[1]):u.length===6?Math.hypot(u[3]-u[0],u[4]-u[1],u[5]-u[2]):void 0},a.default.prototype.exp=Math.exp,a.default.prototype.floor=Math.floor,a.default.prototype.lerp=function(l,u,p){return a.default._validateParameters("lerp",arguments),p*(u-l)+l},a.default.prototype.log=Math.log,a.default.prototype.mag=function(l,u){return a.default._validateParameters("mag",arguments),Math.hypot(l,u)},a.default.prototype.map=function(l,u,p,y,d,f){return a.default._validateParameters("map",arguments),l=(l-u)/(p-u)*(d-y)+y,f?y<d?this.constrain(l,y,d):this.constrain(l,d,y):l},a.default.prototype.max=function(){for(var l=function(d){return Math.max.apply(Math,c(d))},u=arguments.length,p=new Array(u),y=0;y<u;y++)p[y]=arguments[y];return Array.isArray(p[0])?l(p[0]):l(p)},a.default.prototype.min=function(){for(var l=function(d){return Math.min.apply(Math,c(d))},u=arguments.length,p=new Array(u),y=0;y<u;y++)p[y]=arguments[y];return Array.isArray(p[0])?l(p[0]):l(p)},a.default.prototype.norm=function(l,u,p){return a.default._validateParameters("norm",arguments),this.map(l,u,p,0,1)},a.default.prototype.pow=Math.pow,a.default.prototype.round=function(l,u){return u?(u=Math.pow(10,u),Math.round(l*u)/u):Math.round(l)},a.default.prototype.sq=function(l){return l*l},a.default.prototype.sqrt=Math.sqrt,a.default.prototype.fract=function(y){a.default._validateParameters("fract",arguments);var u,p=0,y=Number(y);return isNaN(y)||Math.abs(y)===1/0?y:(y<0&&(y=-y,p=1),String(y).includes(".")&&!String(y).includes("e")?(u=String(y),u=+("0"+u.slice(u.indexOf("."))),Math.abs(p-u)):y<1?Math.abs(p-y):0)},r=a.default,o.default=r},{"../core/main":283,"core-js/modules/es.array.from":162,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.hypot":176,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],314:[function(r,s,o){r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.reflect.construct"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.slice"),Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var a=(r=r("../core/main"))&&r.__esModule?r:{default:r};function c(u,p,y){return(c=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?Reflect.construct:function(d,f,b){var g=[null];return g.push.apply(g,f),f=new(Function.bind.apply(d,g)),b&&l(f,b.prototype),f}).apply(null,arguments)}function l(u,p){return(l=Object.setPrototypeOf||function(y,d){return y.__proto__=d,y})(u,p)}a.default.prototype.createVector=function(u,p,y){return this instanceof a.default?c(a.default.Vector,[this._fromRadians.bind(this),this._toRadians.bind(this)].concat(Array.prototype.slice.call(arguments))):new a.default.Vector(u,p,y)},r=a.default,o.default=r},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196}],315:[function(y,s,o){Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,y=(y=y("../core/main"))&&y.__esModule?y:{default:y};function a(d){return .5*(1-Math.cos(d*Math.PI))}var c,l=4095,u=4,p=.5,y=(y.default.prototype.noise=function(d){var f=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0;if(c==null){c=new Array(4096);for(var g=0;g<4096;g++)c[g]=Math.random()}d<0&&(d=-d),f<0&&(f=-f),b<0&&(b=-b);for(var v,_,x=Math.floor(d),w=Math.floor(f),S=Math.floor(b),R=d-x,D=f-w,A=b-S,C=0,j=.5,P=0;P<u;P++){var O=x+(w<<4)+(S<<8),L=a(R),N=a(D),q=c[O&l];q+=L*(c[O+1&l]-q),v=c[O+16&l],q+=N*((v+=L*(c[O+16+1&l]-v))-q),v=c[(O+=256)&l],v+=L*(c[O+1&l]-v),_=c[O+16&l],v+=N*((_+=L*(c[O+16+1&l]-_))-v),C+=(q+=a(A)*(v-q))*j,j*=p,x<<=1,w<<=1,S<<=1,1<=(R*=2)&&(x++,R--),1<=(D*=2)&&(w++,D--),1<=(A*=2)&&(S++,A--)}return C},y.default.prototype.noiseDetail=function(d,f){0<d&&(u=d),0<f&&(p=f)},y.default.prototype.noiseSeed=function(d){g=4294967296;var f,b,g,v={setSeed:function(x){b=f=(x??Math.random()*g)>>>0},getSeed:function(){return f},rand:function(){return(b=(1664525*b+1013904223)%g)/g}};v.setSeed(d),c=new Array(4096);for(var _=0;_<4096;_++)c[_]=v.rand()},y.default);o.default=y},{"../core/main":283}],316:[function(r,s,o){function a(f){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(f)}function c(f){return(c=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(b){return a(b)}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":a(b)})(f)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.every"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.some"),r("core-js/modules/es.math.sign"),r("core-js/modules/es.number.constructor"),r("core-js/modules/es.number.epsilon"),r("core-js/modules/es.number.is-finite"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.sub"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.every"),r("core-js/modules/es.array.some"),r("core-js/modules/es.math.sign"),r("core-js/modules/es.number.constructor"),r("core-js/modules/es.number.epsilon"),r("core-js/modules/es.number.is-finite"),r("core-js/modules/es.string.sub"),Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var l=(d=r("../core/main"))&&d.__esModule?d:{default:d},u=function(f){if(f&&f.__esModule)return f;if(f===null||c(f)!=="object"&&typeof f!="function")return{default:f};var b=p();if(b&&b.has(f))return b.get(f);var g,v={},_=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(g in f){var x;Object.prototype.hasOwnProperty.call(f,g)&&((x=_?Object.getOwnPropertyDescriptor(f,g):null)&&(x.get||x.set)?Object.defineProperty(v,g,x):v[g]=f[g])}return v.default=f,b&&b.set(f,v),v}(r("../core/constants"));function p(){var f;return typeof WeakMap!="function"?null:(f=new WeakMap,p=function(){return f},f)}function y(f,b){for(var g=0;g<b.length;g++){var v=b[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(f,v.key,v)}}l.default.Vector=function(){function f(){var S=this,_=f;if(!(S instanceof _))throw new TypeError("Cannot call a class as a function");var x,w,S=typeof(arguments.length<=0?void 0:arguments[0])=="function"?(this.isPInst=!0,this._fromRadians=arguments.length<=0?void 0:arguments[0],this._toRadians=arguments.length<=1?void 0:arguments[1],x=(arguments.length<=2?void 0:arguments[2])||0,w=(arguments.length<=3?void 0:arguments[3])||0,(arguments.length<=4?void 0:arguments[4])||0):(x=(arguments.length<=0?void 0:arguments[0])||0,w=(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0);this.x=x,this.y=w,this.z=S}var b,g,v;return b=f,v=[{key:"fromAngle",value:function(_){var x=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1;return new l.default.Vector(x*Math.cos(_),x*Math.sin(_),0)}},{key:"fromAngles",value:function(A,R){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:1,S=Math.cos(R),R=Math.sin(R),D=Math.cos(A),A=Math.sin(A);return new l.default.Vector(w*A*R,-w*D,w*A*S)}},{key:"random2D",value:function(){return this.fromAngle(Math.random()*u.TWO_PI)}},{key:"random3D",value:function(){var _=Math.random()*u.TWO_PI,x=2*Math.random()-1,S=Math.sqrt(1-x*x),w=S*Math.cos(_),S=S*Math.sin(_);return new l.default.Vector(w,S,x)}},{key:"copy",value:function(_){return _.copy(_)}},{key:"add",value:function(){for(var _=arguments.length,x=new Array(_),w=0;w<_;w++)x[w]=arguments[w];var S=x[0],R=x[1],D=x[2];return D?D.set(S):(D=S.copy(),x.length===3&&l.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.add")),D.add(R),D}},{key:"rem",value:function(_,x){if(_ instanceof l.default.Vector&&x instanceof l.default.Vector)return(_=_.copy()).rem(x),_}},{key:"sub",value:function(){for(var _=arguments.length,x=new Array(_),w=0;w<_;w++)x[w]=arguments[w];var S=x[0],R=x[1],D=x[2];return D?D.set(S):(D=S.copy(),x.length===3&&l.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.sub")),D.sub(R),D}},{key:"mult",value:function(){for(var _=arguments.length,x=new Array(_),w=0;w<_;w++)x[w]=arguments[w];var S=x[0],R=x[1],D=x[2];return D?D.set(S):(D=S.copy(),x.length===3&&l.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.mult")),D.mult(R),D}},{key:"rotate",value:function(){for(var _=arguments.length,x=new Array(_),w=0;w<_;w++)x[w]=arguments[w];var S=x[0],R=x[1],D=x[2];return x.length===2?D=S.copy():(D instanceof l.default.Vector||l.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.rotate"),D.set(S)),D.rotate(R),D}},{key:"div",value:function(){for(var _=arguments.length,x=new Array(_),w=0;w<_;w++)x[w]=arguments[w];var S=x[0],R=x[1],D=x[2];return D?D.set(S):(D=S.copy(),x.length===3&&l.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.div")),D.div(R),D}},{key:"dot",value:function(_,x){return _.dot(x)}},{key:"cross",value:function(_,x){return _.cross(x)}},{key:"dist",value:function(_,x){return _.dist(x)}},{key:"lerp",value:function(){for(var _=arguments.length,x=new Array(_),w=0;w<_;w++)x[w]=arguments[w];var S=x[0],R=x[1],D=x[2],A=x[3];return A?A.set(S):(A=S.copy(),x.length===4&&l.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.lerp")),A.lerp(R,D),A}},{key:"slerp",value:function(){for(var _=arguments.length,x=new Array(_),w=0;w<_;w++)x[w]=arguments[w];var S=x[0],R=x[1],D=x[2],A=x[3];return A?A.set(S):(A=S.copy(),x.length===4&&l.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.slerp")),A.slerp(R,D),A}},{key:"mag",value:function(_){return _.mag()}},{key:"magSq",value:function(_){return _.magSq()}},{key:"normalize",value:function(){for(var _=arguments.length,x=new Array(_),w=0;w<_;w++)x[w]=arguments[w];var S=x[0],R=x[1];return x.length<2?R=S.copy():(R instanceof l.default.Vector||l.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.normalize"),R.set(S)),R.normalize()}},{key:"limit",value:function(){for(var _=arguments.length,x=new Array(_),w=0;w<_;w++)x[w]=arguments[w];var S=x[0],R=x[1],D=x[2];return x.length<3?D=S.copy():(D instanceof l.default.Vector||l.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.limit"),D.set(S)),D.limit(R)}},{key:"setMag",value:function(){for(var _=arguments.length,x=new Array(_),w=0;w<_;w++)x[w]=arguments[w];var S=x[0],R=x[1],D=x[2];return x.length<3?D=S.copy():(D instanceof l.default.Vector||l.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.setMag"),D.set(S)),D.setMag(R)}},{key:"heading",value:function(_){return _.heading()}},{key:"angleBetween",value:function(_,x){return _.angleBetween(x)}},{key:"reflect",value:function(){for(var _=arguments.length,x=new Array(_),w=0;w<_;w++)x[w]=arguments[w];var S=x[0],R=x[1],D=x[2];return x.length<3?D=S.copy():(D instanceof l.default.Vector||l.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.reflect"),D.set(S)),D.reflect(R)}},{key:"array",value:function(_){return _.array()}},{key:"equals",value:function(_,x){var w;return _ instanceof l.default.Vector?w=_:Array.isArray(_)?w=new l.default.Vector().set(_):l.default._friendlyError("The v1 parameter should be of type Array or p5.Vector","p5.Vector.equals"),w.equals(x)}}],(g=[{key:"toString",value:function(){return"p5.Vector Object : [".concat(this.x,", ").concat(this.y,", ").concat(this.z,"]")}},{key:"set",value:function(_,x,w){return _ instanceof l.default.Vector?(this.x=_.x||0,this.y=_.y||0,this.z=_.z||0):Array.isArray(_)?(this.x=_[0]||0,this.y=_[1]||0,this.z=_[2]||0):(this.x=_||0,this.y=x||0,this.z=w||0),this}},{key:"copy",value:function(){return this.isPInst?new l.default.Vector(this._fromRadians,this._toRadians,this.x,this.y,this.z):new l.default.Vector(this.x,this.y,this.z)}},{key:"add",value:function(_,x,w){return _ instanceof l.default.Vector?(this.x+=_.x||0,this.y+=_.y||0,this.z+=_.z||0):Array.isArray(_)?(this.x+=_[0]||0,this.y+=_[1]||0,this.z+=_[2]||0):(this.x+=_||0,this.y+=x||0,this.z+=w||0),this}},{key:"calculateRemainder2D",value:function(_,x){return _!==0&&(this.x=this.x%_),x!==0&&(this.y=this.y%x),this}},{key:"calculateRemainder3D",value:function(_,x,w){return _!==0&&(this.x=this.x%_),x!==0&&(this.y=this.y%x),w!==0&&(this.z=this.z%w),this}},{key:"rem",value:function(){for(var _=arguments.length,x=new Array(_),w=0;w<_;w++)x[w]=arguments[w];var S,R,D,A=x[0],C=x[1],j=x[2];if(A instanceof l.default.Vector){if([A.x,A.y,A.z].every(Number.isFinite))return S=parseFloat(A.x),R=parseFloat(A.y),D=parseFloat(A.z),this.calculateRemainder3D(S,R,D)}else if(Array.isArray(A)){if(A.every(Number.isFinite))return A.length===2?this.calculateRemainder2D(A[0],A[1]):A.length===3?this.calculateRemainder3D(A[0],A[1],A[2]):void 0}else if(x.length===1){if(Number.isFinite(A)&&A!==0)return this.x=this.x%A,this.y=this.y%A,this.z=this.z%A,this}else if(x.length===2){if(x.every(Number.isFinite))return this.calculateRemainder2D(A,C)}else if(x.length===3&&x.every(Number.isFinite))return this.calculateRemainder3D(A,C,j)}},{key:"sub",value:function(_,x,w){return _ instanceof l.default.Vector?(this.x-=_.x||0,this.y-=_.y||0,this.z-=_.z||0):Array.isArray(_)?(this.x-=_[0]||0,this.y-=_[1]||0,this.z-=_[2]||0):(this.x-=_||0,this.y-=x||0,this.z-=w||0),this}},{key:"mult",value:function(){for(var _=arguments.length,x=new Array(_),w=0;w<_;w++)x[w]=arguments[w];var S,R=x[0],D=x[1],A=x[2];return R instanceof l.default.Vector?Number.isFinite(R.x)&&Number.isFinite(R.y)&&Number.isFinite(R.z)&&typeof R.x=="number"&&typeof R.y=="number"&&typeof R.z=="number"?(this.x*=R.x,this.y*=R.y,this.z*=R.z):console.warn("p5.Vector.prototype.mult:","x contains components that are either undefined or not finite numbers"):Array.isArray(R)?R.every(function(C){return Number.isFinite(C)})&&R.every(function(C){return typeof C=="number"})?R.length===1?(this.x*=R[0],this.y*=R[0],this.z*=R[0]):R.length===2?(this.x*=R[0],this.y*=R[1]):R.length===3&&(this.x*=R[0],this.y*=R[1],this.z*=R[2]):console.warn("p5.Vector.prototype.mult:","x contains elements that are either undefined or not finite numbers"):(S=x).every(function(C){return Number.isFinite(C)})&&S.every(function(C){return typeof C=="number"})?(x.length===1&&(this.x*=R,this.y*=R,this.z*=R),x.length===2&&(this.x*=R,this.y*=D),x.length===3&&(this.x*=R,this.y*=D,this.z*=A)):console.warn("p5.Vector.prototype.mult:","x, y, or z arguments are either undefined or not a finite number"),this}},{key:"div",value:function(){for(var _=arguments.length,x=new Array(_),w=0;w<_;w++)x[w]=arguments[w];var S=x[0],R=x[1],D=x[2];if(S instanceof l.default.Vector)if(Number.isFinite(S.x)&&Number.isFinite(S.y)&&Number.isFinite(S.z)&&typeof S.x=="number"&&typeof S.y=="number"&&typeof S.z=="number"){var A=S.z===0&&this.z===0;if(S.x===0||S.y===0||!A&&S.z===0)return console.warn("p5.Vector.prototype.div:","divide by 0"),this;this.x/=S.x,this.y/=S.y,A||(this.z/=S.z)}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if(Array.isArray(S))if(S.every(Number.isFinite)&&S.every(function(C){return typeof C=="number"})){if(S.some(function(C){return C===0}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;S.length===1?(this.x/=S[0],this.y/=S[0],this.z/=S[0]):S.length===2?(this.x/=S[0],this.y/=S[1]):S.length===3&&(this.x/=S[0],this.y/=S[1],this.z/=S[2])}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if(x.every(Number.isFinite)&&x.every(function(C){return typeof C=="number"})){if(x.some(function(C){return C===0}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;x.length===1&&(this.x/=S,this.y/=S,this.z/=S),x.length===2&&(this.x/=S,this.y/=R),x.length===3&&(this.x/=S,this.y/=R,this.z/=D)}else console.warn("p5.Vector.prototype.div:","x, y, or z arguments are either undefined or not a finite number");return this}},{key:"mag",value:function(){return Math.sqrt(this.magSq())}},{key:"magSq",value:function(){var _=this.x,x=this.y,w=this.z;return _*_+x*x+w*w}},{key:"dot",value:function(_,x,w){return _ instanceof l.default.Vector?this.dot(_.x,_.y,_.z):this.x*(_||0)+this.y*(x||0)+this.z*(w||0)}},{key:"cross",value:function(S){var x=this.y*S.z-this.z*S.y,w=this.z*S.x-this.x*S.z,S=this.x*S.y-this.y*S.x;return this.isPInst?new l.default.Vector(this._fromRadians,this._toRadians,x,w,S):new l.default.Vector(x,w,S)}},{key:"dist",value:function(_){return _.copy().sub(this).mag()}},{key:"normalize",value:function(){var _=this.mag();return _!==0&&this.mult(1/_),this}},{key:"limit",value:function(_){var x=this.magSq();return _*_<x&&this.div(Math.sqrt(x)).mult(_),this}},{key:"setMag",value:function(_){return this.normalize().mult(_)}},{key:"heading",value:function(){var _=Math.atan2(this.y,this.x);return this.isPInst?this._fromRadians(_):_}},{key:"setHeading",value:function(_){this.isPInst&&(_=this._toRadians(_));var x=this.mag();return this.x=x*Math.cos(_),this.y=x*Math.sin(_),this}},{key:"rotate",value:function(x){var x=this.heading()+x,w=(this.isPInst&&(x=this._toRadians(x)),this.mag());return this.x=Math.cos(x)*w,this.y=Math.sin(x)*w,this}},{key:"angleBetween",value:function(_){var x;return this.magSq()*_.magSq()==0?NaN:(x=this.cross(_),_=Math.atan2(x.mag(),this.dot(_))*Math.sign(x.z||1),this.isPInst?this._fromRadians(_):_)}},{key:"lerp",value:function(_,x,w,S){return _ instanceof l.default.Vector?this.lerp(_.x,_.y,_.z,x):(this.x+=(_-this.x)*S||0,this.y+=(x-this.y)*S||0,this.z+=(w-this.z)*S||0,this)}},{key:"slerp",value:function(_,x){if(x!==0){if(x===1)return this.set(_);var w=this.mag(),S=_.mag();if(w*S==0)this.mult(1-x).add(_.x*x,_.y*x,_.z*x);else{var R=this.cross(_),D=R.mag(),A=Math.atan2(D,this.dot(_));if(0<D)R.x/=D,R.y/=D,R.z/=D;else{if(A<.5*Math.PI)return this.mult(1-x).add(_.x*x,_.y*x,_.z*x),this;this.z===0&&_.z===0?R.set(0,0,1):this.x!==0?R.set(this.y,-this.x,0).normalize():R.set(1,0,0)}D=R.cross(this),_=1-x+x*S/w,R=_*Math.cos(x*A),S=_*Math.sin(x*A),this.x=this.x*R+D.x*S,this.y=this.y*R+D.y*S,this.z=this.z*R+D.z*S}}return this}},{key:"reflect",value:function(_){return _=l.default.Vector.normalize(_),this.sub(_.mult(2*this.dot(_)))}},{key:"array",value:function(){return[this.x||0,this.y||0,this.z||0]}},{key:"equals",value:function(D,x,w){var S,R,D=D instanceof l.default.Vector?(S=D.x||0,R=D.y||0,D.z||0):Array.isArray(D)?(S=D[0]||0,R=D[1]||0,D[2]||0):(S=D||0,R=x||0,w||0);return this.x===S&&this.y===R&&this.z===D}},{key:"clampToZero",value:function(){return this.x=this._clampToZero(this.x),this.y=this._clampToZero(this.y),this.z=this._clampToZero(this.z),this}},{key:"_clampToZero",value:function(_){return Math.abs(+(_||0))<=Number.EPSILON?0:_}}])&&y(b.prototype,g),v&&y(b,v),f}();var d=l.default.Vector;o.default=d},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.every":155,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.some":170,"core-js/modules/es.math.sign":178,"core-js/modules/es.number.constructor":179,"core-js/modules/es.number.epsilon":180,"core-js/modules/es.number.is-finite":181,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.sub":208,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],317:[function(p,s,o){Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var a=(p=p("../core/main"))&&p.__esModule?p:{default:p},c="_lcg_random_state",l=4294967296,u=0,p=(a.default.prototype._lcg=function(y){return this[y]=(1664525*this[y]+1013904223)%l,this[y]/l},a.default.prototype._lcgSetSeed=function(y,d){this[y]=(d??Math.random()*l)>>>0},a.default.prototype.randomSeed=function(y){this._lcgSetSeed(c,y),this._gaussian_previous=!1},a.default.prototype.random=function(y,d){var f,b;return a.default._validateParameters("random",arguments),f=this[c]!=null?this._lcg(c):Math.random(),y===void 0?f:d===void 0?Array.isArray(y)?y[Math.floor(f*y.length)]:f*y:(d<y&&(b=y,y=d,d=b),f*(d-y)+y)},a.default.prototype.randomGaussian=function(y){var d,f,b,g,v=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1;if(this._gaussian_previous)d=u,this._gaussian_previous=!1;else{for(;1<=(g=(f=this.random(2)-1)*f+(b=this.random(2)-1)*b););d=f*(g=Math.sqrt(-2*Math.log(g)/g)),u=b*g,this._gaussian_previous=!0}return d*v+(y||0)},a.default);o.default=p},{"../core/main":283}],318:[function(r,s,o){function a(d){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(d)}function c(d){return(c=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(f){return a(f)}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":a(f)})(d)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var l=(y=r("../core/main"))&&y.__esModule?y:{default:y},u=function(d){if(d&&d.__esModule)return d;if(d===null||c(d)!=="object"&&typeof d!="function")return{default:d};var f=p();if(f&&f.has(d))return f.get(d);var b,g={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(b in d){var _;Object.prototype.hasOwnProperty.call(d,b)&&((_=v?Object.getOwnPropertyDescriptor(d,b):null)&&(_.get||_.set)?Object.defineProperty(g,b,_):g[b]=d[b])}return g.default=d,f&&f.set(d,g),g}(r("../core/constants"));function p(){var d;return typeof WeakMap!="function"?null:(d=new WeakMap,p=function(){return d},d)}l.default.prototype._angleMode=u.RADIANS,l.default.prototype.acos=function(d){return this._fromRadians(Math.acos(d))},l.default.prototype.asin=function(d){return this._fromRadians(Math.asin(d))},l.default.prototype.atan=function(d){return this._fromRadians(Math.atan(d))},l.default.prototype.atan2=function(d,f){return this._fromRadians(Math.atan2(d,f))},l.default.prototype.cos=function(d){return Math.cos(this._toRadians(d))},l.default.prototype.sin=function(d){return Math.sin(this._toRadians(d))},l.default.prototype.tan=function(d){return Math.tan(this._toRadians(d))},l.default.prototype.degrees=function(d){return d*u.RAD_TO_DEG},l.default.prototype.radians=function(d){return d*u.DEG_TO_RAD},l.default.prototype.angleMode=function(d){if(l.default._validateParameters("angleMode",arguments),d===void 0)return this._angleMode;d!==u.DEGREES&&d!==u.RADIANS||d!==this._angleMode&&(d===u.RADIANS?(this._setProperty("pRotationX",this.pRotationX*u.DEG_TO_RAD),this._setProperty("pRotationY",this.pRotationY*u.DEG_TO_RAD),this._setProperty("pRotationZ",this.pRotationZ*u.DEG_TO_RAD)):(this._setProperty("pRotationX",this.pRotationX*u.RAD_TO_DEG),this._setProperty("pRotationY",this.pRotationY*u.RAD_TO_DEG),this._setProperty("pRotationZ",this.pRotationZ*u.RAD_TO_DEG)),this._angleMode=d)},l.default.prototype._toRadians=function(d){return this._angleMode===u.DEGREES?d*u.DEG_TO_RAD:d},l.default.prototype._toDegrees=function(d){return this._angleMode===u.RADIANS?d*u.RAD_TO_DEG:d},l.default.prototype._fromRadians=function(d){return this._angleMode===u.DEGREES?d*u.RAD_TO_DEG:d},l.default.prototype._fromDegrees=function(d){return this._angleMode===u.RADIANS?d*u.DEG_TO_RAD:d};var y=l.default;o.default=y},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],319:[function(r,s,o){r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.string.replace"),r("core-js/modules/es.string.split"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.string.replace"),r("core-js/modules/es.string.split"),Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var a=(r=r("../core/main"))&&r.__esModule?r:{default:r};a.default.prototype.textAlign=function(c,l){var u;return a.default._validateParameters("textAlign",arguments),(u=this._renderer).textAlign.apply(u,arguments)},a.default.prototype.textLeading=function(c){var l;return a.default._validateParameters("textLeading",arguments),(l=this._renderer).textLeading.apply(l,arguments)},a.default.prototype.textSize=function(c){var l;return a.default._validateParameters("textSize",arguments),(l=this._renderer).textSize.apply(l,arguments)},a.default.prototype.textStyle=function(c){var l;return a.default._validateParameters("textStyle",arguments),(l=this._renderer).textStyle.apply(l,arguments)},a.default.prototype.textWidth=function(){for(var c=arguments.length,l=new Array(c),u=0;u<c;u++)l[u]=arguments[u];if(l[0]+="",a.default._validateParameters("textWidth",l),l[0].length===0)return 0;for(var p=l[0].replace(/\t/g,"  ").split(/\r?\n|\r|\n/g),y=[],d=0;d<p.length;d++)y.push(this._renderer.textWidth(p[d]));return Math.max.apply(Math,y)},a.default.prototype.textAscent=function(){for(var c=arguments.length,l=new Array(c),u=0;u<c;u++)l[u]=arguments[u];return a.default._validateParameters("textAscent",l),this._renderer.textAscent()},a.default.prototype.textDescent=function(){for(var c=arguments.length,l=new Array(c),u=0;u<c;u++)l[u]=arguments[u];return a.default._validateParameters("textDescent",l),this._renderer.textDescent()},a.default.prototype._updateTextMetrics=function(){return this._renderer._updateTextMetrics()},a.default.prototype.textWrap=function(c){return a.default._validateParameters("textWrap",[c]),this._renderer.textWrap(c)},r=a.default,o.default=r},{"../core/main":283,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206}],320:[function(r,s,o){function a(b){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(b)}function c(b){return(c=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(g){return a(g)}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":a(g)})(b)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.last-index-of"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.split"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.array.last-index-of"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.string.split"),Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var l=(f=r("../core/main"))&&f.__esModule?f:{default:f},u=d(r("../core/constants")),p=d(r("opentype.js"));function y(){var b;return typeof WeakMap!="function"?null:(b=new WeakMap,y=function(){return b},b)}function d(b){if(b&&b.__esModule)return b;if(b===null||c(b)!=="object"&&typeof b!="function")return{default:b};var g=y();if(g&&g.has(b))return g.get(b);var v,_,x={},w=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(v in b)Object.prototype.hasOwnProperty.call(b,v)&&((_=w?Object.getOwnPropertyDescriptor(b,v):null)&&(_.get||_.set)?Object.defineProperty(x,v,_):x[v]=b[v]);return x.default=b,g&&g.set(b,x),x}r("../core/friendly_errors/validate_params"),r("../core/friendly_errors/file_errors"),r("../core/friendly_errors/fes_core"),l.default.prototype.loadFont=function(b,g,v){l.default._validateParameters("loadFont",arguments);var _=new l.default.Font(this),x=this;return p.load(b,function(R,D){if(R)return l.default._friendlyFileLoadError(4,b),v!==void 0?v(R):void console.error(R,b);_.font=D,g!==void 0&&g(_),x._decrementPreload();var R=b.split("\\").pop().split("/").pop(),D=R.lastIndexOf("."),A=D<1?null:R.slice(D+1);["ttf","otf","woff","woff2"].includes(A)&&(A=R.slice(0,D!==-1?D:0),(R=document.createElement("style")).appendChild(document.createTextNode(`
@font-face {
font-family: `.concat(A,`;
src: url(`).concat(b,`);
}
`))),document.head.appendChild(R))}),_},l.default.prototype.text=function(b,g,v,_,x){var w;return l.default._validateParameters("text",arguments),this._renderer._doFill||this._renderer._doStroke?(w=this._renderer).text.apply(w,arguments):this},l.default.prototype.textFont=function(b,g){if(l.default._validateParameters("textFont",arguments),arguments.length){if(b)return this._renderer._setProperty("_textFont",b),g&&(this._renderer._setProperty("_textSize",g),this._renderer._leadingSet||this._renderer._setProperty("_textLeading",g*u._DEFAULT_LEADMULT)),this._renderer._applyTextProperties();throw new Error("null font passed to textFont")}return this._renderer._textFont};var f=l.default;o.default=f},{"../core/constants":272,"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246,"opentype.js":257}],321:[function(r,s,o){function a(C){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j})(C)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.fill"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.join"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.array.splice"),r("core-js/modules/es.function.name"),r("core-js/modules/es.number.to-fixed"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.replace"),r("core-js/modules/es.string.split"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.fill"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.join"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.array.splice"),r("core-js/modules/es.function.name"),r("core-js/modules/es.number.to-fixed"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.replace"),r("core-js/modules/es.string.split"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var c=(c=r("../core/main"))&&c.__esModule?c:{default:c},l=function(C){if(C&&C.__esModule)return C;if(C===null||p(C)!=="object"&&typeof C!="function")return{default:C};var j=u();if(j&&j.has(C))return j.get(C);var P,O={},L=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(P in C){var N;Object.prototype.hasOwnProperty.call(C,P)&&((N=L?Object.getOwnPropertyDescriptor(C,P):null)&&(N.get||N.set)?Object.defineProperty(O,P,N):O[P]=C[P])}return O.default=C,j&&j.set(C,O),O}(r("../core/constants"));function u(){var C;return typeof WeakMap!="function"?null:(C=new WeakMap,u=function(){return C},C)}function p(C){return(p=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(j){return a(j)}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":a(j)})(C)}function y(C,j){for(var P=0;P<j.length;P++){var O=j[P];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(C,O.key,O)}}function d(C,j){var P=C.length;return C[j<0?j%P+P:j%P]}function f(C,j,P,O){var L,N,q;return O?(f.tmpPoint1===void 0&&(f.tmpPoint1=[],f.tmpPoint2=[]),N=f.tmpPoint1,q=f.tmpPoint2,N.x=j.x-C.x,N.y=j.y-C.y,q.x=P.x-j.x,q.y=P.y-j.y,L=N.x*q.x+N.y*q.y,N=Math.sqrt(N.x*N.x+N.y*N.y),q=Math.sqrt(q.x*q.x+q.y*q.y),Math.acos(L/(N*q))<O):(j[0]-C[0])*(P[1]-C[1])-(P[0]-C[0])*(j[1]-C[1])==0}function b(U,X,H,ae,le,N,q,W,Y){var J=1-Y,ee=Math.pow(J,3),Q=Math.pow(J,2),I=Y*Y,ne=I*Y,te=ee*U+3*Q*Y*H+3*J*Y*Y*le+ne*q,ee=ee*X+3*Q*Y*ae+3*J*Y*Y*N+ne*W,Q=U+2*Y*(H-U)+I*(le-2*H+U),ne=X+2*Y*(ae-X)+I*(N-2*ae+X),re=H+2*Y*(le-H)+I*(q-2*le+H),I=ae+2*Y*(N-ae)+I*(W-2*N+ae),U=J*U+Y*H,H=J*X+Y*ae,X=J*le+Y*q,ae=J*N+Y*W,le=90-180*Math.atan2(Q-re,ne-I)/Math.PI;return(re<Q||ne<I)&&(le+=180),{x:te,y:ee,m:{x:Q,y:ne},n:{x:re,y:I},start:{x:U,y:H},end:{x:X,y:ae},alpha:le}}function g(C,j,P,O,L,N,q,W,Y){return Y==null?D(C,j,P,O,L,N,q,W):b(C,j,P,O,L,N,q,W,function(J,te,ee,Q,ne,re,I,U,H){if(!(H<0||D(J,te,ee,Q,ne,re,I,U)<H)){var X,ae=.5,le=1-ae;for(X=D(J,te,ee,Q,ne,re,I,U,le);.01<Math.abs(X-H);)X=D(J,te,ee,Q,ne,re,I,U,le+=(X<H?1:-1)*(ae/=2));return le}}(C,j,P,O,L,N,q,W,Y))}function v(C,j,P){for(var O,L,N,q,W,Y=0,J=0,te=(C=function(ee,Q){function ne(Ne,Ve,Xe){var ht,Ke;if(!Ne)return["C",Ve.x,Ve.y,Ve.x,Ve.y,Ve.x,Ve.y];switch(Ne[0]in{T:1,Q:1}||(Ve.qx=Ve.qy=null),Ne[0]){case"M":Ve.X=Ne[1],Ve.Y=Ne[2];break;case"A":Ne=["C"].concat(x.apply(0,[Ve.x,Ve.y].concat(Ne.slice(1))));break;case"S":Ke=Xe==="C"||Xe==="S"?(ht=2*Ve.x-Ve.bx,2*Ve.y-Ve.by):(ht=Ve.x,Ve.y),Ne=["C",ht,Ke].concat(Ne.slice(1));break;case"T":Xe==="Q"||Xe==="T"?(Ve.qx=2*Ve.x-Ve.qx,Ve.qy=2*Ve.y-Ve.qy):(Ve.qx=Ve.x,Ve.qy=Ve.y),Ne=["C"].concat(R(Ve.x,Ve.y,Ve.qx,Ve.qy,Ne[1],Ne[2]));break;case"Q":Ve.qx=Ne[1],Ve.qy=Ne[2],Ne=["C"].concat(R(Ve.x,Ve.y,Ne[1],Ne[2],Ne[3],Ne[4]));break;case"L":Ne=["C"].concat(S(Ve.x,Ve.y,Ne[1],Ne[2]));break;case"H":Ne=["C"].concat(S(Ve.x,Ve.y,Ne[1],Ve.y));break;case"V":Ne=["C"].concat(S(Ve.x,Ve.y,Ve.x,Ne[1]));break;case"Z":Ne=["C"].concat(S(Ve.x,Ve.y,Ve.X,Ve.Y))}return Ne}function re(Ne,Ve){if(7<Ne[Ve].length){Ne[Ve].shift();for(var Xe=Ne[Ve];Xe.length;)he[Ve]="A",X&&(ye[Ve]="A"),Ne.splice(Ve++,0,["C"].concat(Xe.splice(0,6)));Ne.splice(Ve,1),U=Math.max(H.length,X&&X.length||0)}}function I(Ne,Ve,Xe,ht,Ke){Ne&&Ve&&Ne[Ke][0]==="M"&&Ve[Ke][0]!=="M"&&(Ve.splice(Ke,0,["M",ht.x,ht.y]),Xe.bx=0,Xe.by=0,Xe.x=Ne[Ke][1],Xe.y=Ne[Ke][2],U=Math.max(H.length,X&&X.length||0))}var U,H=_(ee),X=Q&&_(Q),ae={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},le={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},he=[],ye=[],me="",xe="";U=Math.max(H.length,X&&X.length||0);for(var Se=0;Se<U;Se++){(me=H[Se]?H[Se][0]:me)!=="C"&&(he[Se]=me,Se&&(xe=he[Se-1])),H[Se]=ne(H[Se],ae,xe),he[Se]!=="A"&&me==="C"&&(he[Se]="C"),re(H,Se),X&&((me=X[Se]?X[Se][0]:me)!=="C"&&(ye[Se]=me,Se&&(xe=ye[Se-1])),X[Se]=ne(X[Se],le,xe),ye[Se]!=="A"&&me==="C"&&(ye[Se]="C"),re(X,Se)),I(H,X,ae,le,Se),I(X,H,le,ae,Se);var pe=H[Se],Te=X&&X[Se],ke=pe.length,Me=X&&Te.length;ae.x=pe[ke-2],ae.y=pe[ke-1],ae.bx=parseFloat(pe[ke-4])||ae.x,ae.by=parseFloat(pe[ke-3])||ae.y,le.bx=X&&(parseFloat(Te[Me-4])||le.x),le.by=X&&(parseFloat(Te[Me-3])||le.y),le.x=X&&Te[Me-2],le.y=X&&Te[Me-1]}return X?[H,X]:H}(C)).length;J<te;J++){if((N=C[J])[0]==="M")O=+N[1],L=+N[2];else{if(j<Y+(q=g(O,L,N[1],N[2],N[3],N[4],N[5],N[6]))&&!P)return{x:(W=g(O,L,N[1],N[2],N[3],N[4],N[5],N[6],j-Y)).x,y:W.y,alpha:W.alpha};Y+=q,O=+N[5],L=+N[6]}N.shift()}return W=(W=P?Y:b(O,L,N[0],N[1],N[2],N[3],N[4],N[5],1)).alpha?{x:W.x,y:W.y,alpha:W.alpha}:W}function _(C){var j=[],P=0,O=0,L=0,N=0,q=0;if(C){C[0][0]==="M"&&(L=P=+C[0][1],N=O=+C[0][2],q++,j[0]=["M",P,O]);for(var W,Y,J=C.length===3&&C[0][0]==="M"&&C[1][0].toUpperCase()==="R"&&C[2][0].toUpperCase()==="Z",te=q,ee=C.length;te<ee;te++){if(j.push(W=[]),(Y=C[te])[0]!==Y[0].toUpperCase())switch(W[0]=Y[0].toUpperCase(),W[0]){case"A":W[1]=Y[1],W[2]=Y[2],W[3]=Y[3],W[4]=Y[4],W[5]=Y[5],W[6]=+(Y[6]+P),W[7]=+(Y[7]+O);break;case"V":W[1]=+Y[1]+O;break;case"H":W[1]=+Y[1]+P;break;case"R":for(var Q,ne=2,re=(Q=[P,O].concat(Y.slice(1))).length;ne<re;ne++)Q[ne]=+Q[ne]+P,Q[++ne]=+Q[ne]+O;j.pop(),j=j.concat(w(Q,J));break;case"M":L=+Y[1]+P,N=+Y[2]+O;break;default:for(var I=1,U=Y.length;I<U;I++)W[I]=+Y[I]+(I%2?P:O)}else if(Y[0]==="R")Q=[P,O].concat(Y.slice(1)),j.pop(),j=j.concat(w(Q,J)),W=["R"].concat(Y.slice(-2));else for(var H=0,X=Y.length;H<X;H++)W[H]=Y[H];switch(W[0]){case"Z":P=L,O=N;break;case"H":P=W[1];break;case"V":O=W[1];break;case"M":L=W[W.length-2],N=W[W.length-1];break;default:P=W[W.length-2],O=W[W.length-1]}}}return j}function x(C,j,P,O,X,he,ae,W,Y,J){function te(Me,Ne,Ve){return{x:Me*Math.cos(Ve)-Ne*Math.sin(Ve),y:Me*Math.sin(Ve)+Ne*Math.cos(Ve)}}var ee,U=Math.PI,H=120*U/180,Q=U/180*(+X||0),ne=[],re=(J?(Se=J[0],ee=J[1],me=J[2],xe=J[3]):(C=(le=te(C,j,-Q)).x,j=le.y,1<(re=(I=(C-(W=(le=te(W,Y,-Q)).x))/2)*I/(P*P)+(le=(j-(Y=le.y))/2)*le/(O*O))&&(P*=re=Math.sqrt(re),O*=re),re=P*P,ye=O*O,me=(he=(he===ae?-1:1)*Math.sqrt(Math.abs((re*ye-re*le*le-ye*I*I)/(re*le*le+ye*I*I))))*P*le/O+(C+W)/2,xe=he*-O*I/P+(j+Y)/2,Se=Math.asin(((j-xe)/O).toFixed(9)),ee=Math.asin(((Y-xe)/O).toFixed(9)),(Se=C<me?U-Se:Se)<0&&(Se=2*U+Se),(ee=W<me?U-ee:ee)<0&&(ee=2*U+ee),ae&&ee<Se&&(Se-=2*U),!ae&&Se<ee&&(ee-=2*U)),ee-Se),I=(Math.abs(re)>H&&(ye=ee,le=W,he=Y,ee=Se+H*(ae&&Se<ee?1:-1),ne=x(W=me+P*Math.cos(ee),Y=xe+O*Math.sin(ee),P,O,X,0,ae,le,he,[ee,ye,me,xe])),re=ee-Se,Math.cos(Se)),U=Math.sin(Se),H=Math.cos(ee),X=Math.sin(ee),ae=Math.tan(re/4),le=4/3*P*ae,he=4/3*O*ae,ye=[C,j],me=[C+le*U,j-he*I],xe=[W+le*X,Y-he*H],Se=[W,Y];if(me[0]=2*ye[0]-me[0],me[1]=2*ye[1]-me[1],J)return[me,xe,Se].concat(ne);for(var pe=[],Te=0,ke=(ne=[me,xe,Se].concat(ne).join().split(",")).length;Te<ke;Te++)pe[Te]=Te%2?te(ne[Te-1],ne[Te],Q).y:te(ne[Te],ne[Te+1],Q).x;return pe}function w(C,j){for(var P=[],O=0,L=C.length;O<L-2*!j;O+=2){var N=[{x:+C[O-2],y:+C[O-1]},{x:+C[O],y:+C[O+1]},{x:+C[O+2],y:+C[O+3]},{x:+C[O+4],y:+C[O+5]}];j?O?L-4===O?N[3]={x:+C[0],y:+C[1]}:L-2===O&&(N[2]={x:+C[0],y:+C[1]},N[3]={x:+C[2],y:+C[3]}):N[0]={x:+C[L-2],y:+C[L-1]}:L-4===O?N[3]=N[2]:O||(N[0]={x:+C[O],y:+C[O+1]}),P.push(["C",(-N[0].x+6*N[1].x+N[2].x)/6,(-N[0].y+6*N[1].y+N[2].y)/6,(N[1].x+6*N[2].x-N[3].x)/6,(N[1].y+6*N[2].y-N[3].y)/6,N[2].x,N[2].y])}return P}function S(C,j,P,O){return[C,j,P,O,P,O]}function R(C,j,P,O,L,N){return[1/3*C+2/3*P,1/3*j+2/3*O,1/3*L+2/3*P,1/3*N+2/3*O,L,N]}function D(C,j,P,O,L,N,q,W,Y){for(var J=(Y=1<(Y=Y??1)?1:Y<0?0:Y)/2,te=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],ee=0,Q=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],ne=0;ne<12;ne++){var I=J*te[ne]+J,re=A(I,C,P,L,q),I=A(I,j,O,N,W);ee+=Q[ne]*Math.sqrt(re*re+I*I)}return J*ee}function A(C,j,P,O,L){return C*(C*(-3*j+9*P-9*O+3*L)+6*j-12*P+6*O)-3*j+3*P}c.default.Font=function(){function C(O){if(!(this instanceof C))throw new TypeError("Cannot call a class as a function");this.parent=O,this.cache={},this.font=void 0}var j,P;return j=C,(P=[{key:"textBounds",value:function(O){var L=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,N=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0,J=3<arguments.length?arguments[3]:void 0,q=4<arguments.length?arguments[4]:void 0,W=q&&q.renderer&&q.renderer._pInst||this.parent,Y=W._renderer.drawingContext,J=(Y.textAlign||l.LEFT,Y.textBaseline||l.BASELINE,J||W._renderer._textSize);if(!le){for(var te=[],ee=[],Q=[],ne=(Q[0]=[],[]),re=this._scale(J),I=W._renderer.textLeading(),U=0,H=(this.font.forEachGlyph(O,L,N,J,q,function(me,xe,Se,pe){var Te=me.getMetrics();me.index===0?Q[U+=1]=[]:(Q[U].push(xe+Te.xMin*re),Q[U].push(xe+Te.xMax*re),ne.push(Se+U*I+-Te.yMin*re),ne.push(Se+U*I+-Te.yMax*re))}),0<Q[U].length&&(te[U]=Math.min.apply(null,Q[U]),ee[U]=Math.max.apply(null,Q[U])),0),X=0;X<=U;X++){te[X]=Math.min.apply(null,Q[X]),ee[X]=Math.max.apply(null,Q[X]);var ae=ee[X]-te[X];H<ae&&(H=ae)}var Y=Math.min.apply(null,te),le={x:Y,y:N=Math.min.apply(null,ne),h:Math.max.apply(null,ne)-N,w:H,advance:Y-L},J=this._handleAlignment(W._renderer,O,le.x,le.y,le.w+le.advance);le.x=J.x,le.y=J.y}return le}},{key:"textToPoints",value:function(O,L,N,q,W){var Y,J=L,te=[],ee=this.parent,Q=O.split(/\r?\n|\r|\n/g);q=q||this.parent._renderer._textSize;for(var ne,re,I,U=0;U<Q.length;U++){var H=0;L=J;for(var X=(X=Q[U]).replace("	","  "),ae=this._getGlyphs(X),le=0;le<ae.length;le++){if(re=X,!((I=ae)[ne=le].name&&I[ne].name==="space"||re.length===I.length&&re[ne]===" "))for(var he=function(Se){for(var pe,Te=[],ke=0;ke<Se.length;ke++)Se[ke].type==="M"&&(pe&&Te.push(pe),pe=[]),pe.push(function(Me){var Ne=[Me.type];return Me.type==="M"||Me.type==="L"?Ne.push(Me.x,Me.y):Me.type==="C"?Ne.push(Me.x1,Me.y1,Me.x2,Me.y2,Me.x,Me.y):Me.type==="Q"&&Ne.push(Me.x1,Me.y1,Me.x,Me.y),Ne}(Se[ke]));return Te.push(pe),Te}(ae[le].getPath(L,N,q).commands),ye=0;ye<he.length;ye++)for(var me=function(Se,pe){for(var pe=function(Xe,ht){if(p(Xe)!=="object")Xe=ht;else for(var Ke in ht)Xe[Ke]===void 0&&(Xe[Ke]=ht[Ke]);return Xe}(pe,{sampleFactor:.1,simplifyThreshold:0}),Te=v(Se,0,1),ke=Te/(Te*pe.sampleFactor),Me=[],Ne=0;Ne<Te;Ne+=ke)Me.push(v(Se,Ne));return pe.simplifyThreshold&&function(Ve){for(var Xe=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,ht=0,Ke=Ve.length-1;3<Ve.length&&0<=Ke;--Ke)f(d(Ve,Ke-1),d(Ve,Ke),d(Ve,Ke+1),Xe)&&(Ve.splice(Ke%Ve.length,1),ht++)}(Me,pe.simplifyThreshold),Me}(he[ye],W),xe=0;xe<me.length;xe++)me[xe].x+=H,Y=this._handleAlignment(ee._renderer,X,me[xe].x,me[xe].y),me[xe].x=Y.x,me[xe].y=Y.y,te.push(me[xe]);H+=ae[le].advanceWidth*this._scale(q)}N+=this.parent._renderer._textLeading}return te}},{key:"_getGlyphs",value:function(O){return this.font.stringToGlyphs(O)}},{key:"_getPath",value:function(O,Y,N,q){var W=(q&&q.renderer&&q.renderer._pInst||this.parent)._renderer,Y=this._handleAlignment(W,O,Y,N);return this.font.getPath(O,Y.x,Y.y,W._textSize,q)}},{key:"_getPathData",value:function(O,L,N,q){var W=3;return typeof O=="string"&&2<arguments.length?O=this._getPath(O,L,N,q):p(L)==="object"&&(q=L),q&&typeof q.decimals=="number"&&(W=q.decimals),O.toPathData(W)}},{key:"_getSVG",value:function(O,L,N,q){var W=3;return typeof O=="string"&&2<arguments.length?O=this._getPath(O,L,N,q):p(L)==="object"&&(q=L),q&&(typeof q.decimals=="number"&&(W=q.decimals),typeof q.strokeWidth=="number"&&(O.strokeWidth=q.strokeWidth),q.fill!==void 0&&(O.fill=q.fill),q.stroke!==void 0&&(O.stroke=q.stroke)),O.toSVG(W)}},{key:"_renderPath",value:function(J,ee,Q,q){var W=q&&q.renderer||this.parent._renderer,Y=W.drawingContext,J=(p(J)==="object"&&J.commands?J:this._getPath(J,ee,Q,q)).commands,te=(W._clipping||Y.beginPath(),!0),ee=!1,Q=void 0;try{for(var ne,re=J[Symbol.iterator]();!(te=(ne=re.next()).done);te=!0){var I=ne.value;I.type==="M"?Y.moveTo(I.x,I.y):I.type==="L"?Y.lineTo(I.x,I.y):I.type==="C"?Y.bezierCurveTo(I.x1,I.y1,I.x2,I.y2,I.x,I.y):I.type==="Q"?Y.quadraticCurveTo(I.x1,I.y1,I.x,I.y):I.type==="Z"&&Y.closePath()}}catch(U){ee=!0,Q=U}finally{try{te||re.return==null||re.return()}finally{if(ee)throw Q}}return W._doStroke&&W._strokeSet&&!W._clipping&&Y.stroke(),W._doFill&&!W._clipping&&(W._fillSet||W._setFill(l._DEFAULT_TEXT_FILL),Y.fill()),this}},{key:"_textWidth",value:function(O,L){return this.font.getAdvanceWidth(O,L)}},{key:"_textAscent",value:function(O){return this.font.ascender*this._scale(O)}},{key:"_textDescent",value:function(O){return-this.font.descender*this._scale(O)}},{key:"_scale",value:function(O){return 1/this.font.unitsPerEm*(O||this.parent._renderer._textSize)}},{key:"_handleAlignment",value:function(O,L,N,q,W){var Y=O._textSize;switch(W===void 0&&(W=this._textWidth(L,Y)),O._textAlign){case l.CENTER:N-=W/2;break;case l.RIGHT:N-=W}switch(O._textBaseline){case l.TOP:q+=this._textAscent(Y);break;case l.CENTER:q+=this._textAscent(Y)/2;break;case l.BOTTOM:q-=this._textDescent(Y)}return{x:N,y:q}}}])&&y(j.prototype,P),C}(),r=c.default,o.default=r},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.function.name":174,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],322:[function(r,s,o){r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.array.splice"),r("core-js/modules/es.array-buffer.constructor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.array.splice"),r("core-js/modules/es.array-buffer.constructor"),r("core-js/modules/es.object.to-string"),Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,r=(r=r("../core/main"))&&r.__esModule?r:{default:r},r.default.prototype.append=function(a,c){return a.push(c),a},r.default.prototype.arrayCopy=function(a,c,l,u,p){var y,d;a=p!==void 0?(d=Math.min(p,a.length),y=u,a.slice(c,d+c)):(d=l!==void 0?(d=l,Math.min(d,a.length)):a.length,l=c,a.slice(y=0,d)),Array.prototype.splice.apply(l,[y,d].concat(a))},r.default.prototype.concat=function(a,c){return a.concat(c)},r.default.prototype.reverse=function(a){return a.reverse()},r.default.prototype.shorten=function(a){return a.pop(),a},r.default.prototype.shuffle=function(a,c){for(var l,u,p=ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(a),y=(a=c||p?a:a.slice()).length;1<y;)l=this.random(0,1)*y|0,u=a[--y],a[y]=a[l],a[l]=u;return a},r.default.prototype.sort=function(a,u){var l=u?a.slice(0,Math.min(u,a.length)):a,u=u?a.slice(Math.min(u,a.length)):[];return(l=typeof l[0]=="string"?l.sort():l.sort(function(p,y){return p-y})).concat(u)},r.default.prototype.splice=function(a,c,l){return Array.prototype.splice.apply(a,[l,0].concat(c)),a},r.default.prototype.subset=function(a,c,l){return l!==void 0?a.slice(c,c+l):a.slice(c,a.length)},r=r.default,o.default=r},{"../core/main":283,"core-js/modules/es.array-buffer.constructor":152,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.to-string":190}],323:[function(r,s,o){r("core-js/modules/es.array.map"),r("core-js/modules/es.number.constructor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.repeat"),r("core-js/modules/es.array.map"),r("core-js/modules/es.number.constructor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.repeat"),Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var a=(r=r("../core/main"))&&r.__esModule?r:{default:r};a.default.prototype.float=function(c){return c instanceof Array?c.map(parseFloat):parseFloat(c)},a.default.prototype.int=function(c){var l=1<arguments.length&&arguments[1]!==void 0?arguments[1]:10;return c===1/0||c==="Infinity"?1/0:c===-1/0||c==="-Infinity"?-1/0:typeof c=="string"?parseInt(c,l):typeof c=="number"?0|c:typeof c=="boolean"?c?1:0:c instanceof Array?c.map(function(u){return a.default.prototype.int(u,l)}):void 0},a.default.prototype.str=function(c){return c instanceof Array?c.map(a.default.prototype.str):String(c)},a.default.prototype.boolean=function(c){return typeof c=="number"?c!==0:typeof c=="string"?c.toLowerCase()==="true":typeof c=="boolean"?c:c instanceof Array?c.map(a.default.prototype.boolean):void 0},a.default.prototype.byte=function(c){return c=a.default.prototype.int(c,10),typeof c=="number"?(c+128)%256-128:c instanceof Array?c.map(a.default.prototype.byte):void 0},a.default.prototype.char=function(c){return typeof c!="number"||isNaN(c)?c instanceof Array?c.map(a.default.prototype.char):typeof c=="string"?a.default.prototype.char(parseInt(c,10)):void 0:String.fromCharCode(c)},a.default.prototype.unchar=function(c){return typeof c=="string"&&c.length===1?c.charCodeAt(0):c instanceof Array?c.map(a.default.prototype.unchar):void 0},a.default.prototype.hex=function(c,l){if(l=l??8,c instanceof Array)return c.map(function(p){return a.default.prototype.hex(p,l)});if(c===1/0||c===-1/0)return(c===1/0?"F":"0").repeat(l);if(typeof c=="number"){c<0&&(c=4294967295+c+1);for(var u=Number(c).toString(16).toUpperCase();u.length<l;)u="0".concat(u);return u=u.length>=l?u.substring(u.length-l,u.length):u}},a.default.prototype.unhex=function(c){return c instanceof Array?c.map(a.default.prototype.unhex):parseInt("0x".concat(c),16)},r=a.default,o.default=r},{"../core/main":283,"core-js/modules/es.array.map":168,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.repeat":203}],324:[function(r,s,o){r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.filter"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.join"),r("core-js/modules/es.array.map"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.number.to-fixed"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.constructor"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.match"),r("core-js/modules/es.string.pad-start"),r("core-js/modules/es.string.replace"),r("core-js/modules/es.string.split"),r("core-js/modules/es.string.trim"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.array.filter"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.join"),r("core-js/modules/es.array.map"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.number.to-fixed"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.constructor"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.match"),r("core-js/modules/es.string.pad-start"),r("core-js/modules/es.string.replace"),r("core-js/modules/es.string.split"),r("core-js/modules/es.string.trim"),Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var a=(d=r("../core/main"))&&d.__esModule?d:{default:d};function c(f,b){return function(g){if(Array.isArray(g))return g}(f)||function(g,v){if(Symbol.iterator in Object(g)||Object.prototype.toString.call(g)==="[object Arguments]"){var _=[],x=!0,w=!1,S=void 0;try{for(var R,D=g[Symbol.iterator]();!(x=(R=D.next()).done)&&(_.push(R.value),!v||_.length!==v);x=!0);}catch(A){w=!0,S=A}finally{try{x||D.return==null||D.return()}finally{if(w)throw S}}return _}}(f,b)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function l(f,b,g){var v,_=f<0,w=c((f=Math.abs(f)).toString().split("."),2),x=w[0],w=w[1];return g===void 0?(x=x.padStart(b,"0"),v=w?x+"."+w:x,_?"-"+v:v):(x=(v=c(f.toFixed(g).toString().split("."),2))[0],w=v[1],x=x.padStart(b,"0"),f=w===void 0?x:x+"."+w,_?"-"+f:f)}function u(_,b){var g=(_=_.toString()).indexOf("."),v=g!==-1?_.substring(g):"",_=(_=g!==-1?_.substring(0,g):_).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");if(b===0)v="";else if(b!==void 0)if(b>v.length)for(var x=b-(v+=g===-1?".":"").length+1,w=0;w<x;w++)v+="0";else v=v.substring(0,b+1);return _+v}function p(f){return 0<parseFloat(f)?"+".concat(f.toString()):f.toString()}function y(f){return 0<=parseFloat(f)?" ".concat(f.toString()):f.toString()}r("../core/friendly_errors/validate_params"),r("../core/friendly_errors/file_errors"),r("../core/friendly_errors/fes_core"),a.default.prototype.join=function(f,b){return a.default._validateParameters("join",arguments),f.join(b)},a.default.prototype.match=function(f,b){return a.default._validateParameters("match",arguments),f.match(b)},a.default.prototype.matchAll=function(f,b){a.default._validateParameters("matchAll",arguments);for(var g=new RegExp(b,"g"),v=g.exec(f),_=[];v!==null;)_.push(v),v=g.exec(f);return _},a.default.prototype.nf=function(f,b,g){return a.default._validateParameters("nf",arguments),f instanceof Array?f.map(function(v){return l(v,b,g)}):Object.prototype.toString.call(f)==="[object Arguments]"?f.length===3?this.nf(f[0],f[1],f[2]):f.length===2?this.nf(f[0],f[1]):this.nf(f[0]):l(f,b,g)},a.default.prototype.nfc=function(f,b){return a.default._validateParameters("nfc",arguments),f instanceof Array?f.map(function(g){return u(g,b)}):u(f,b)},a.default.prototype.nfp=function(){for(var f=arguments.length,b=new Array(f),g=0;g<f;g++)b[g]=arguments[g];a.default._validateParameters("nfp",b);var v=a.default.prototype.nf.apply(this,b);return v instanceof Array?v.map(p):p(v)},a.default.prototype.nfs=function(){for(var f=arguments.length,b=new Array(f),g=0;g<f;g++)b[g]=arguments[g];a.default._validateParameters("nfs",b);var v=a.default.prototype.nf.apply(this,b);return v instanceof Array?v.map(y):y(v)},a.default.prototype.split=function(f,b){return a.default._validateParameters("split",arguments),f.split(b)},a.default.prototype.splitTokens=function(f,b){var g,v;return a.default._validateParameters("splitTokens",arguments),v=b!==void 0?(v=/\]/g.exec(b=b),(g=/\[/g.exec(b))&&v?(b=b.slice(0,v.index)+b.slice(v.index+1),g=/\[/g.exec(b),b=b.slice(0,g.index)+b.slice(g.index+1),new RegExp("[\\[".concat(b,"\\]]"),"g")):v?(b=b.slice(0,v.index)+b.slice(v.index+1),new RegExp("[".concat(b,"\\]]"),"g")):g?(b=b.slice(0,g.index)+b.slice(g.index+1),new RegExp("[".concat(b,"\\[]"),"g")):new RegExp("[".concat(b,"]"),"g")):/\s/g,f.split(v).filter(function(_){return _})},a.default.prototype.trim=function(f){return a.default._validateParameters("trim",arguments),f instanceof Array?f.map(this.trim):f.trim()};var d=a.default;o.default=d},{"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.pad-start":202,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],325:[function(r,s,o){Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,r=(r=r("../core/main"))&&r.__esModule?r:{default:r},r.default.prototype.day=function(){return new Date().getDate()},r.default.prototype.hour=function(){return new Date().getHours()},r.default.prototype.minute=function(){return new Date().getMinutes()},r.default.prototype.millis=function(){return this._millisStart===-1?0:window.performance.now()-this._millisStart},r.default.prototype.month=function(){return new Date().getMonth()+1},r.default.prototype.second=function(){return new Date().getSeconds()},r.default.prototype.year=function(){return new Date().getFullYear()},r=r.default,o.default=r},{"../core/main":283}],326:[function(r,s,o){function a(f){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(f)}function c(f){return(c=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(b){return a(b)}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":a(b)})(f)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.for-each"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.math.hypot"),r("core-js/modules/es.math.sign"),r("core-js/modules/es.number.to-fixed"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.for-each"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.math.hypot"),r("core-js/modules/es.math.sign"),r("core-js/modules/es.number.to-fixed"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var l=(d=r("../core/main"))&&d.__esModule?d:{default:d},u=(r("./p5.Geometry"),function(f){if(f&&f.__esModule)return f;if(f===null||c(f)!=="object"&&typeof f!="function")return{default:f};var b=p();if(b&&b.has(f))return b.get(f);var g,v={},_=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(g in f){var x;Object.prototype.hasOwnProperty.call(f,g)&&((x=_?Object.getOwnPropertyDescriptor(f,g):null)&&(x.get||x.set)?Object.defineProperty(v,g,x):v[g]=f[g])}return v.default=f,b&&b.set(f,v),v}(r("../core/constants")));function p(){var f;return typeof WeakMap!="function"?null:(f=new WeakMap,p=function(){return f},f)}l.default.prototype.beginGeometry=function(){return this._renderer.beginGeometry()},l.default.prototype.endGeometry=function(){return this._renderer.endGeometry()},l.default.prototype.buildGeometry=function(f){return this._renderer.buildGeometry(f)},l.default.prototype.freeGeometry=function(f){this._renderer._freeBuffers(f.gid)},l.default.prototype.plane=function(){var f,b=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,g=1<arguments.length&&arguments[1]!==void 0?arguments[1]:b,v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:1,_=3<arguments.length&&arguments[3]!==void 0?arguments[3]:1,x=(this._assert3d("plane"),l.default._validateParameters("plane",arguments),"plane|".concat(v,"|").concat(_));return this._renderer.geometryInHash(x)||((f=new l.default.Geometry(v,_,function(){for(var w,S,R=0;R<=this.detailY;R++)for(var D=R/this.detailY,A=0;A<=this.detailX;A++)w=A/this.detailX,S=new l.default.Vector(w-.5,D-.5,0),this.vertices.push(S),this.uvs.push(w,D)})).computeFaces().computeNormals(),v<=1&&_<=1?f._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on plane objects with more than 1 detailX or 1 detailY"),this._renderer.createBuffers(x,f)),this._renderer.drawBuffersScaled(x,b,g,1),this},l.default.prototype.box=function(f,b,g,v,_){this._assert3d("box"),l.default._validateParameters("box",arguments),f===void 0&&(f=50),b===void 0&&(b=f),g===void 0&&(g=b);var x,w=this._renderer.attributes&&this._renderer.attributes.perPixelLighting,w=(_===void 0&&(_=w?1:4),"box|".concat(v=v===void 0?w?1:4:v,"|").concat(_));return this._renderer.geometryInHash(w)||((x=new l.default.Geometry(v,_,function(){var S=this;this.edges=[[0,1],[1,3],[3,2],[6,7],[8,9],[9,11],[14,15],[16,17],[17,19],[18,19],[20,21],[22,23]],[[0,4,2,6],[1,3,5,7],[0,1,4,5],[2,6,3,7],[0,2,1,3],[4,5,6,7]].forEach(function(R,D){for(var D=4*D,A=0;A<4;A++){var C=R[A],C=new l.default.Vector((2*(1&C)-1)/2,((2&C)-1)/2,((4&C)/2-1)/2);S.vertices.push(C),S.uvs.push(1&A,(2&A)/2)}S.faces.push([D,1+D,2+D]),S.faces.push([2+D,1+D,3+D])})})).computeNormals(),v<=4&&_<=4?x._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on box objects with more than 4 detailX or 4 detailY"),this._renderer.createBuffers(w,x)),this._renderer.drawBuffersScaled(w,f,b,g),this},l.default.prototype.sphere=function(){var f=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:24,g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:16;return this._assert3d("sphere"),l.default._validateParameters("sphere",arguments),this.ellipsoid(f,f,f,b,g),this};function y(f,b,g,v,_,x,w){f=f<=0?1:f,b=b<0?0:b,g=g<=0?f:g,v=v<3?3:v;for(var S,R,D=(x=x===void 0||x)?-2:0,A=(_=_<1?1:_)+((w=w===void 0?b!==0:w)?2:0),C=Math.atan2(f-b,g),j=Math.sin(C),P=Math.cos(C),O=D;O<=A;++O){var L=O/_,N=g*L,q=void 0,q=O<0?(L=N=0,f):_<O?(N=g,L=1,b):f+(b-f)*L;for(O!==-2&&O!==_+2||(q=0),N-=g/2,S=0;S<v;++S){var W=S/(v-1),J=2*Math.PI*W,Y=Math.sin(J),J=Math.cos(J),te=(this.vertices.push(new l.default.Vector(Y*q,N,J*q)),void 0),te=O<0?new l.default.Vector(0,-1,0):_<O&&b?new l.default.Vector(0,1,0):new l.default.Vector(Y*P,j,J*P);this.vertexNormals.push(te),this.uvs.push(W,L)}}var ee=0;if(x){for(R=0;R<v;++R)this.faces.push([ee+R,ee+v+(R+1)%v,ee+v+R]);ee+=2*v}for(O=0;O<_;++O){for(S=0;S<v;++S){var Q=(S+1)%v;this.faces.push([ee+S,ee+Q,ee+v+Q]),this.faces.push([ee+S,ee+v+Q,ee+v+S])}ee+=v}if(w)for(ee+=v,S=0;S<v;++S)this.faces.push([ee+S,ee+(S+1)%v,ee+v])}l.default.prototype.cylinder=function(){var f,b=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,g=1<arguments.length&&arguments[1]!==void 0?arguments[1]:b,v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:24,_=3<arguments.length&&arguments[3]!==void 0?arguments[3]:1,x=!(4<arguments.length&&arguments[4]!==void 0)||arguments[4],w=!(5<arguments.length&&arguments[5]!==void 0)||arguments[5],S=(this._assert3d("cylinder"),l.default._validateParameters("cylinder",arguments),"cylinder|".concat(v,"|").concat(_,"|").concat(x,"|").concat(w));return this._renderer.geometryInHash(S)||(f=new l.default.Geometry(v,_),y.call(f,1,1,1,v,_,x,w),v<=24&&_<=16?f._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cylinder objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(S,f)),this._renderer.drawBuffersScaled(S,b,g,b),this},l.default.prototype.cone=function(){var f,b=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,g=1<arguments.length&&arguments[1]!==void 0?arguments[1]:b,v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:24,_=3<arguments.length&&arguments[3]!==void 0?arguments[3]:1,x=!(4<arguments.length&&arguments[4]!==void 0)||arguments[4],w=(this._assert3d("cone"),l.default._validateParameters("cone",arguments),"cone|".concat(v,"|").concat(_,"|").concat(x));return this._renderer.geometryInHash(w)||(f=new l.default.Geometry(v,_),y.call(f,1,0,1,v,_,x,!1),v<=24&&_<=16?f._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cone objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(w,f)),this._renderer.drawBuffersScaled(w,b,g,b),this},l.default.prototype.ellipsoid=function(){var f,b=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,g=1<arguments.length&&arguments[1]!==void 0?arguments[1]:b,v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:b,_=3<arguments.length&&arguments[3]!==void 0?arguments[3]:24,x=4<arguments.length&&arguments[4]!==void 0?arguments[4]:16,w=(this._assert3d("ellipsoid"),l.default._validateParameters("ellipsoid",arguments),"ellipsoid|".concat(_,"|").concat(x));return this._renderer.geometryInHash(w)||((f=new l.default.Geometry(_,x,function(){for(var S=0;S<=this.detailY;S++)for(var R=S/this.detailY,D=Math.PI*R-Math.PI/2,A=Math.cos(D),C=Math.sin(D),j=0;j<=this.detailX;j++){var P=j/this.detailX,L=2*Math.PI*P,O=Math.cos(L),L=Math.sin(L),L=new l.default.Vector(A*L,C,A*O);this.vertices.push(L),this.vertexNormals.push(L),this.uvs.push(P,R)}})).computeFaces(),_<=24&&x<=24?f._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on ellipsoids with more than 24 detailX or 24 detailY"),this._renderer.createBuffers(w,f)),this._renderer.drawBuffersScaled(w,b,g,v),this},l.default.prototype.torus=function(f,w,g,v){if(this._assert3d("torus"),l.default._validateParameters("torus",arguments),f===void 0)f=50;else if(!f)return;if(w===void 0)w=10;else if(!w)return;g===void 0&&(g=24),v===void 0&&(v=16);var _,x=(w/f).toPrecision(4),w="torus|".concat(x,"|").concat(g,"|").concat(v);return this._renderer.geometryInHash(w)||((_=new l.default.Geometry(g,v,function(){for(var S=0;S<=this.detailY;S++)for(var R=S/this.detailY,D=2*Math.PI*R,A=Math.cos(D),C=Math.sin(D),j=1+x*A,P=0;P<=this.detailX;P++){var O=P/this.detailX,L=2*Math.PI*O,q=Math.cos(L),L=Math.sin(L),N=new l.default.Vector(j*q,j*L,x*C),q=new l.default.Vector(A*q,A*L,C);this.vertices.push(N),this.vertexNormals.push(q),this.uvs.push(O,R)}})).computeFaces(),g<=24&&v<=16?_._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw strokes on torus object with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(w,_)),this._renderer.drawBuffersScaled(w,f,f,f),this},l.default.RendererGL.prototype.point=function(f,b){var g=[];return g.push(new l.default.Vector(f,b,2<arguments.length&&arguments[2]!==void 0?arguments[2]:0)),this._drawPoints(g,this.immediateMode.buffers.point),this},l.default.RendererGL.prototype.triangle=function(w){var b=w[0],g=w[1],v=w[2],_=w[3],x=w[4],w=w[5],S=(this.geometryInHash("tri")||((S=new l.default.Geometry(1,1,function(){var A=[];A.push(new l.default.Vector(0,0,0)),A.push(new l.default.Vector(1,0,0)),A.push(new l.default.Vector(0,1,0)),this.edges=[[0,1],[1,2],[2,0]],this.vertices=A,this.faces=[[0,1,2]],this.uvs=[0,0,1,0,1,1]}))._edgesToVertices(),S.computeNormals(),this.createBuffers("tri",S)),this.uModelMatrix.copy());try{var R=Math.sign(b*_-v*g+v*w-x*_+x*g-b*w),D=new l.default.Matrix([v-b,_-g,0,0,x-b,w-g,0,0,0,0,R,0,b,g,0,1]).mult(this.uModelMatrix);this.uModelMatrix=D,this.drawBuffers("tri")}finally{this.uModelMatrix=S}return this},l.default.RendererGL.prototype.ellipse=function(f){this.arc(f[0],f[1],f[2],f[3],0,u.TWO_PI,u.OPEN,f[4])},l.default.RendererGL.prototype.arc=function(){var f,b=arguments.length<=0?void 0:arguments[0],g=arguments.length<=1?void 0:arguments[1],v=arguments.length<=2?void 0:arguments[2],_=arguments.length<=3?void 0:arguments[3],x=arguments.length<=4?void 0:arguments[4],w=arguments.length<=5?void 0:arguments[5],S=arguments.length<=6?void 0:arguments[6],R=(arguments.length<=7?void 0:arguments[7])||25,D=(Math.abs(w-x)>=u.TWO_PI?"".concat(A="ellipse","|"):"".concat(A="arc","|").concat(x,"|").concat(w,"|").concat(S,"|")).concat(R,"|"),A=(this.geometryInHash(D)||((f=new l.default.Geometry(R,1,function(){if(x.toFixed(10)!==w.toFixed(10)){S!==u.PIE&&S!==void 0||(this.vertices.push(new l.default.Vector(.5,.5,0)),this.uvs.push([.5,.5]));for(var C=0;C<=R;C++){var P=(w-x)*(C/R)+x,j=.5+Math.cos(P)/2,P=.5+Math.sin(P)/2;this.vertices.push(new l.default.Vector(j,P,0)),this.uvs.push([j,P]),C<R-1&&(this.faces.push([0,C+1,C+2]),this.edges.push([C+1,C+2]))}switch(S){case u.PIE:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,1]),this.edges.push([this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,this.vertices.length-1]);break;case u.CHORD:this.edges.push([0,1]),this.edges.push([0,this.vertices.length-1]);break;case u.OPEN:this.edges.push([0,1]);break;default:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([this.vertices.length-2,this.vertices.length-1])}}})).computeNormals(),R<=50?f._edgesToVertices(f):this._doStroke&&console.log("Cannot apply a stroke to an ".concat(A," with more than 50 detail")),this.createBuffers(D,f)),this.uModelMatrix.copy());try{this.uModelMatrix.translate([b,g,0]),this.uModelMatrix.scale(v,_,1),this.drawBuffers(D)}finally{this.uModelMatrix=A}return this},l.default.RendererGL.prototype.rect=function(f){var b=f[0],g=f[1],v=f[2],_=f[3];if(f[4]===void 0){var S=this._pInst._glAttributes.perPixelLighting,x=f[4]||(S?1:24),w=f[5]||(S?1:16),S="rect|".concat(x,"|").concat(w),R=(this.geometryInHash(S)||((R=new l.default.Geometry(x,w,function(){for(var te=0;te<=this.detailY;te++)for(var ee=te/this.detailY,Q=0;Q<=this.detailX;Q++){var ne=Q/this.detailX,re=new l.default.Vector(ne,ee,0);this.vertices.push(re),this.uvs.push(ne,ee)}0<x&&0<w&&(this.edges=[[0,x],[x,(x+1)*(w+1)-1],[(x+1)*(w+1)-1,(x+1)*w],[(x+1)*w,0]])})).computeFaces().computeNormals()._edgesToVertices(),this.createBuffers(S,R)),this.uModelMatrix.copy());try{this.uModelMatrix.translate([b,g,0]),this.uModelMatrix.scale(v,_,1),this.drawBuffers(S)}finally{this.uModelMatrix=R}}else{var S=f[4],R=f[5]===void 0?S:f[5],D=f[6]===void 0?R:f[6],f=f[7]===void 0?D:f[7],L=v,A=_,P=((L+=b)<b&&(P=b,b=L,L=P),(A+=g)<g&&(P=g,g=A,A=P),Math.min((L-b)/2,(A-g)/2)),C=(P<S&&(S=P),P<R&&(R=P),P<D&&(D=P),P<f&&(f=P),b),j=g,P=L,b=A,O=(this.beginShape(),R!==0?(this.vertex(P-R,j),this.quadraticVertex(P,j,P,j+R)):this.vertex(P,j),D!==0?(this.vertex(P,b-D),this.quadraticVertex(P,b,P-D,b)):this.vertex(P,b),f!==0?(this.vertex(C+f,b),this.quadraticVertex(C,b,C,b-f)):this.vertex(C,b),S!==0?(this.vertex(C,j+S),this.quadraticVertex(C,j,C+S,j)):this.vertex(C,j),!(this.immediateMode.geometry.uvs.length=0)),g=!1,L=void 0;try{for(var N,q=this.immediateMode.geometry.vertices[Symbol.iterator]();!(O=(N=q.next()).done);O=!0){var W=N.value,Y=(W.x-C)/v,J=(W.y-j)/_;this.immediateMode.geometry.uvs.push(Y,J)}}catch(I){g=!0,L=I}finally{try{O||q.return==null||q.return()}finally{if(g)throw L}}this.endShape(u.CLOSE)}return this},l.default.RendererGL.prototype.quad=function(f,b,g,v,_,x,w,S,R,D,A,C){var j=12<arguments.length&&arguments[12]!==void 0?arguments[12]:2,P=13<arguments.length&&arguments[13]!==void 0?arguments[13]:2,O="quad|".concat(f,"|").concat(b,"|").concat(g,"|").concat(v,"|").concat(_,"|").concat(x,"|").concat(w,"|").concat(S,"|").concat(R,"|").concat(D,"|").concat(A,"|").concat(C,"|").concat(j,"|").concat(P);if(!this.geometryInHash(O)){var L=new l.default.Geometry(j,P,function(){for(var Q=1/(this.detailX-1),ne=1/(this.detailY-1),re=0;re<this.detailY;re++)for(var I=0;I<this.detailX;I++){var U=I*Q,H=re*ne;this.vertices.push(new l.default.Vector((1-U)*((1-H)*f+H*D)+U*((1-H)*v+H*w),(1-U)*((1-H)*b+H*A)+U*((1-H)*_+H*S),(1-U)*((1-H)*g+H*C)+U*((1-H)*x+H*R))),this.uvs.push([U,H])}});L.faces=[];for(var N=0;N<P-1;N++)for(var q=0;q<j-1;q++){var W=q+N*j,Y=q+1+(N+1)*j,J=q+(N+1)*j;L.faces.push([W,q+1+N*j,Y]),L.faces.push([W,Y,J])}L.computeNormals();for(var te=[L.edges.length=0,2,3,1],ee=0;ee<te.length;ee++)L.edges.push([te[ee],te[(ee+1)%te.length]]);L._edgesToVertices(),this.createBuffers(O,L)}return this.drawBuffers(O),this},l.default.RendererGL.prototype.bezier=function(f,b,g,v,_,x,w,S,R,D,A,C){arguments.length===8&&(A=S,D=w,S=x,w=_,_=v,v=g,g=x=R=C=0);var j=this._pInst._bezierDetail||20;this.beginShape();for(var P=0;P<=j;P++){var O=Math.pow(1-P/j,3),L=P/j*3*Math.pow(1-P/j,2),N=3*Math.pow(P/j,2)*(1-P/j),q=Math.pow(P/j,3);this.vertex(f*O+v*L+w*N+D*q,b*O+_*L+S*N+A*q,g*O+x*L+R*N+C*q)}return this.endShape(),this},l.default.RendererGL.prototype.curve=function(f,b,g,v,_,x,w,S,R,D,A,C){arguments.length===8&&(D=w,A=S,w=_,S=v,_=v=g,g=x=R=C=0);var j=this._pInst._curveDetail;this.beginShape();for(var P=0;P<=j;P++){var O=.5*Math.pow(P/j,3),L=.5*Math.pow(P/j,2),N=P/j*.5;this.vertex(O*(3*v-f-3*w+D)+L*(2*f-5*v+4*w-D)+N*(-f+w)+2*v*.5,O*(3*_-b-3*S+A)+L*(2*b-5*_+4*S-A)+N*(-b+S)+2*_*.5,O*(3*x-g-3*R+C)+L*(2*g-5*x+4*R-C)+N*(-g+R)+2*x*.5)}return this.endShape(),this},l.default.RendererGL.prototype.line=function(){return arguments.length===6?(this.beginShape(u.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]),this.vertex(arguments.length<=3?void 0:arguments[3],arguments.length<=4?void 0:arguments[4],arguments.length<=5?void 0:arguments[5]),this.endShape()):arguments.length===4&&(this.beginShape(u.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],0),this.vertex(arguments.length<=2?void 0:arguments[2],arguments.length<=3?void 0:arguments[3],0),this.endShape()),this},l.default.RendererGL.prototype.bezierVertex=function(){if(this.immediateMode._bezierVertex.length===0)throw Error("vertex() must be used once before calling bezierVertex()");var f,b,g,v,_,x,w=[],S=[],R=arguments.length;if(this._lookUpTableBezier.length===0||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var D=1/this._lutBezierDetail,A=D,C=1,j=0;A<1;){if(x=parseFloat(A.toFixed(6)),this._lookUpTableBezier[j]=this._bezierCoefficients(x),C.toFixed(6)===D.toFixed(6)){x=parseFloat(C.toFixed(6))+parseFloat(A.toFixed(6)),++j,this._lookUpTableBezier[j]=this._bezierCoefficients(x);break}A+=D,C-=D,++j}}for(var P=this._lookUpTableBezier.length,O=[],L=0;L<4;L++)O.push([]);O[0]=this.immediateMode.geometry.vertexColors.slice(-4),O[3]=this.curFillColor.slice();var N=[];for(L=0;L<4;L++)N.push([]);if(N[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),N[3]=this.curStrokeColor.slice(),R===6){this.isBezier=!0;var w=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2],arguments.length<=4?void 0:arguments[4]],S=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3],arguments.length<=5?void 0:arguments[5]],q=Math.hypot(w[0]-w[1],S[0]-S[1]),Y=Math.hypot(w[1]-w[2],S[1]-S[2]),W=Math.hypot(w[2]-w[3],S[2]-S[3]),Y=q+Y+W;for(q/=Y,W/=Y,_=0;_<4;_++)O[1].push(O[0][_]*(1-q)+O[3][_]*q),O[2].push(O[0][_]*W+O[3][_]*(1-W)),N[1].push(N[0][_]*(1-q)+N[3][_]*q),N[2].push(N[0][_]*W+N[3][_]*(1-W));for(v=0;v<P;v++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],L=f=b=0;L<4;L++){for(_=0;_<4;_++)this.curFillColor[_]+=this._lookUpTableBezier[v][L]*O[L][_],this.curStrokeColor[_]+=this._lookUpTableBezier[v][L]*N[L][_];f+=w[L]*this._lookUpTableBezier[v][L],b+=S[L]*this._lookUpTableBezier[v][L]}this.vertex(f,b)}this.curFillColor=O[3],this.curStrokeColor=N[3],this.immediateMode._bezierVertex[0]=arguments.length<=4?void 0:arguments[4],this.immediateMode._bezierVertex[1]=arguments.length<=5?void 0:arguments[5]}else if(R===9){this.isBezier=!0,w=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3],arguments.length<=6?void 0:arguments[6]],S=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4],arguments.length<=7?void 0:arguments[7]];var J=[this.immediateMode._bezierVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5],arguments.length<=8?void 0:arguments[8]],te=Math.hypot(w[0]-w[1],S[0]-S[1],J[0]-J[1]),Y=Math.hypot(w[1]-w[2],S[1]-S[2],J[1]-J[2]),ee=Math.hypot(w[2]-w[3],S[2]-S[3],J[2]-J[3]),R=te+Y+ee;for(te/=R,ee/=R,_=0;_<4;_++)O[1].push(O[0][_]*(1-te)+O[3][_]*te),O[2].push(O[0][_]*ee+O[3][_]*(1-ee)),N[1].push(N[0][_]*(1-te)+N[3][_]*te),N[2].push(N[0][_]*ee+N[3][_]*(1-ee));for(v=0;v<P;v++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],L=f=b=g=0;L<4;L++){for(_=0;_<4;_++)this.curFillColor[_]+=this._lookUpTableBezier[v][L]*O[L][_],this.curStrokeColor[_]+=this._lookUpTableBezier[v][L]*N[L][_];f+=w[L]*this._lookUpTableBezier[v][L],b+=S[L]*this._lookUpTableBezier[v][L],g+=J[L]*this._lookUpTableBezier[v][L]}this.vertex(f,b,g)}this.curFillColor=O[3],this.curStrokeColor=N[3],this.immediateMode._bezierVertex[0]=arguments.length<=6?void 0:arguments[6],this.immediateMode._bezierVertex[1]=arguments.length<=7?void 0:arguments[7],this.immediateMode._bezierVertex[2]=arguments.length<=8?void 0:arguments[8]}},l.default.RendererGL.prototype.quadraticVertex=function(){if(this.immediateMode._quadraticVertex.length===0)throw Error("vertex() must be used once before calling quadraticVertex()");var f,b,g,v,_,x,w=[],S=[],R=arguments.length;if(this._lookUpTableQuadratic.length===0||this._lutQuadraticDetail!==this._pInst._curveDetail){this._lookUpTableQuadratic=[],this._lutQuadraticDetail=this._pInst._curveDetail;for(var D=1/this._lutQuadraticDetail,A=D,C=1,j=0;A<1;){if(x=parseFloat(A.toFixed(6)),this._lookUpTableQuadratic[j]=this._quadraticCoefficients(x),C.toFixed(6)===D.toFixed(6)){x=parseFloat(C.toFixed(6))+parseFloat(A.toFixed(6)),++j,this._lookUpTableQuadratic[j]=this._quadraticCoefficients(x);break}A+=D,C-=D,++j}}for(var P=this._lookUpTableQuadratic.length,O=[],L=0;L<3;L++)O.push([]);O[0]=this.immediateMode.geometry.vertexColors.slice(-4),O[2]=this.curFillColor.slice();var N=[];for(L=0;L<3;L++)N.push([]);if(N[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),N[2]=this.curStrokeColor.slice(),R===4){this.isQuadratic=!0;var w=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2]],S=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3]],q=Math.hypot(w[0]-w[1],S[0]-S[1]);for(q/=q+Math.hypot(w[1]-w[2],S[1]-S[2]),_=0;_<4;_++)O[1].push(O[0][_]*(1-q)+O[2][_]*q),N[1].push(N[0][_]*(1-q)+N[2][_]*q);for(v=0;v<P;v++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],L=f=b=0;L<3;L++){for(_=0;_<4;_++)this.curFillColor[_]+=this._lookUpTableQuadratic[v][L]*O[L][_],this.curStrokeColor[_]+=this._lookUpTableQuadratic[v][L]*N[L][_];f+=w[L]*this._lookUpTableQuadratic[v][L],b+=S[L]*this._lookUpTableQuadratic[v][L]}this.vertex(f,b)}this.curFillColor=O[2],this.curStrokeColor=N[2],this.immediateMode._quadraticVertex[0]=arguments.length<=2?void 0:arguments[2],this.immediateMode._quadraticVertex[1]=arguments.length<=3?void 0:arguments[3]}else if(R===6){this.isQuadratic=!0,w=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3]],S=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4]];var W=[this.immediateMode._quadraticVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5]],Y=Math.hypot(w[0]-w[1],S[0]-S[1],W[0]-W[1]);for(Y/=Y+Math.hypot(w[1]-w[2],S[1]-S[2],W[1]-W[2]),_=0;_<4;_++)O[1].push(O[0][_]*(1-Y)+O[2][_]*Y),N[1].push(N[0][_]*(1-Y)+N[2][_]*Y);for(v=0;v<P;v++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],L=f=b=g=0;L<3;L++){for(_=0;_<4;_++)this.curFillColor[_]+=this._lookUpTableQuadratic[v][L]*O[L][_],this.curStrokeColor[_]+=this._lookUpTableQuadratic[v][L]*N[L][_];f+=w[L]*this._lookUpTableQuadratic[v][L],b+=S[L]*this._lookUpTableQuadratic[v][L],g+=W[L]*this._lookUpTableQuadratic[v][L]}this.vertex(f,b,g)}this.curFillColor=O[2],this.curStrokeColor=N[2],this.immediateMode._quadraticVertex[0]=arguments.length<=3?void 0:arguments[3],this.immediateMode._quadraticVertex[1]=arguments.length<=4?void 0:arguments[4],this.immediateMode._quadraticVertex[2]=arguments.length<=5?void 0:arguments[5]}},l.default.RendererGL.prototype.curveVertex=function(){var f,b,g,v,_,x,w=[],S=[],R=arguments.length;if(this._lookUpTableBezier.length===0||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var D=1/this._lutBezierDetail,A=D,C=1,j=0;A<1;){if(x=parseFloat(A.toFixed(6)),this._lookUpTableBezier[j]=this._bezierCoefficients(x),C.toFixed(6)===D.toFixed(6)){x=parseFloat(C.toFixed(6))+parseFloat(A.toFixed(6)),++j,this._lookUpTableBezier[j]=this._bezierCoefficients(x);break}A+=D,C-=D,++j}}var P=this._lookUpTableBezier.length;if(R===2){if(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.length===8){for(this.isCurve=!0,w=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[6]]),S=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[7]]),_=0;_<P;_++)b=w[0]*this._lookUpTableBezier[_][0]+w[1]*this._lookUpTableBezier[_][1]+w[2]*this._lookUpTableBezier[_][2]+w[3]*this._lookUpTableBezier[_][3],g=S[0]*this._lookUpTableBezier[_][0]+S[1]*this._lookUpTableBezier[_][1]+S[2]*this._lookUpTableBezier[_][2]+S[3]*this._lookUpTableBezier[_][3],this.vertex(b,g);for(_=0;_<R;_++)this.immediateMode._curveVertex.shift()}}else if(R===3&&(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.push(arguments.length<=2?void 0:arguments[2]),this.immediateMode._curveVertex.length===12)){for(this.isCurve=!0,w=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[6],this.immediateMode._curveVertex[9]]),S=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[7],this.immediateMode._curveVertex[10]]),f=this._bezierToCatmull([this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[8],this.immediateMode._curveVertex[11]]),_=0;_<P;_++)b=w[0]*this._lookUpTableBezier[_][0]+w[1]*this._lookUpTableBezier[_][1]+w[2]*this._lookUpTableBezier[_][2]+w[3]*this._lookUpTableBezier[_][3],g=S[0]*this._lookUpTableBezier[_][0]+S[1]*this._lookUpTableBezier[_][1]+S[2]*this._lookUpTableBezier[_][2]+S[3]*this._lookUpTableBezier[_][3],v=f[0]*this._lookUpTableBezier[_][0]+f[1]*this._lookUpTableBezier[_][1]+f[2]*this._lookUpTableBezier[_][2]+f[3]*this._lookUpTableBezier[_][3],this.vertex(b,g,v);for(_=0;_<R;_++)this.immediateMode._curveVertex.shift()}},l.default.RendererGL.prototype.image=function(f,C,g,j,_,x,w,S,R){this._isErasing&&this.blendMode(this._cachedBlendMode),this._pInst.push(),this._pInst.noLights(),this._pInst.noStroke(),this._pInst.texture(f),this._pInst.textureMode(u.NORMAL);var D=0,A=(C<=f.width&&(D=C/f.width),1),C=(C+j<=f.width&&(A=(C+j)/f.width),0),j=(g<=f.height&&(C=g/f.height),1);g+_<=f.height&&(j=(g+_)/f.height),this.beginShape(),this.vertex(x,w,0,D,C),this.vertex(x+S,w,0,A,C),this.vertex(x+S,w+R,0,A,j),this.vertex(x,w+R,0,D,j),this.endShape(u.CLOSE),this._pInst.pop(),this._isErasing&&this.blendMode(u.REMOVE)};var d=l.default;o.default=d},{"../core/constants":272,"../core/main":283,"./p5.Geometry":335,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.hypot":176,"core-js/modules/es.math.sign":178,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],327:[function(r,s,o){function a(b){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(b)}function c(b){return(c=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(g){return a(g)}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":a(g)})(b)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.every"),r("core-js/modules/es.array.from"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.map"),r("core-js/modules/es.object.assign"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.array.every"),r("core-js/modules/es.array.map"),r("core-js/modules/es.object.assign"),Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var l=(f=r("../core/main"))&&f.__esModule?f:{default:f},u=function(b){if(b&&b.__esModule)return b;if(b===null||c(b)!=="object"&&typeof b!="function")return{default:b};var g=p();if(g&&g.has(b))return g.get(b);var v,_={},x=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(v in b){var w;Object.prototype.hasOwnProperty.call(b,v)&&((w=x?Object.getOwnPropertyDescriptor(b,v):null)&&(w.get||w.set)?Object.defineProperty(_,v,w):_[v]=b[v])}return _.default=b,g&&g.set(b,_),_}(r("../core/constants"));function p(){var b;return typeof WeakMap!="function"?null:(b=new WeakMap,p=function(){return b},b)}function y(b){return function(g){if(Array.isArray(g)){for(var v=0,_=new Array(g.length);v<g.length;v++)_[v]=g[v];return _}}(b)||function(g){if(Symbol.iterator in Object(g)||Object.prototype.toString.call(g)==="[object Arguments]")return Array.from(g)}(b)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function d(b,g){for(var v=0;v<g.length;v++){var _=g[v];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(b,_.key,_)}}var f=function(){function b(_){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");(this.renderer=_)._pInst.push(),this.identityMatrix=new l.default.Matrix,_.uModelMatrix=new l.default.Matrix,this.geometry=new l.default.Geometry,this.geometry.gid="_p5_GeometryBuilder_".concat(b.nextGeometryId),b.nextGeometryId++,this.hasTransform=!1}var g,v;return g=b,(v=[{key:"transformVertices",value:function(_){var x=this;return this.hasTransform?_.map(function(w){return x.renderer.uModelMatrix.multiplyPoint(w)}):_}},{key:"transformNormals",value:function(_){var x=this;return this.hasTransform?_.map(function(w){return x.renderer.uNMatrix.multiplyVec3(w)}):_}},{key:"addGeometry",value:function(_){for(var x,w=this,S=(this.hasTransform=!this.renderer.uModelMatrix.mat4.every(function(D,A){return D===w.identityMatrix.mat4[A]}),this.hasTransform&&this.renderer.uNMatrix.inverseTranspose(this.renderer.uModelMatrix),this.geometry.vertices.length),R=((x=this.geometry.vertices).push.apply(x,y(this.transformVertices(_.vertices))),(x=this.geometry.vertexNormals).push.apply(x,y(this.transformNormals(_.vertexNormals))),(x=this.geometry.uvs).push.apply(x,y(_.uvs)),this.renderer._doFill&&(x=this.geometry.faces).push.apply(x,y(_.faces.map(function(D){return D.map(function(A){return A+S})}))),this.renderer._doStroke&&(x=this.geometry.edges).push.apply(x,y(_.edges.map(function(D){return D.map(function(A){return A+S})}))),y(_.vertexColors));R.length<4*_.vertices.length;)R.push.apply(R,y(this.renderer.curFillColor));(x=this.geometry.vertexColors).push.apply(x,y(R))}},{key:"addImmediate",value:function(){var _=this.renderer.immediateMode.geometry,x=this.renderer.immediateMode.shapeMode,w=[];if(this.renderer._doFill)if(x===u.TRIANGLE_STRIP||x===u.QUAD_STRIP)for(var S=2;S<_.vertices.length;S++)S%2==0?w.push([S,S-1,S-2]):w.push([S,S-2,S-1]);else if(x===u.TRIANGLE_FAN)for(var R=2;R<_.vertices.length;R++)w.push([0,R-1,R]);else for(var D=0;D<_.vertices.length;D+=3)w.push([D,D+1,D+2]);this.addGeometry(Object.assign({},_,{faces:w}))}},{key:"addRetained",value:function(_){this.addGeometry(_.model)}},{key:"finish",value:function(){return this.renderer._pInst.pop(),this.geometry}}])&&d(g.prototype,v),b}();f.nextGeometryId=0,o.default=f},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.every":155,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],328:[function(r,s,o){function a(d){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(d)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.for-each"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.splice"),r("core-js/modules/es.math.hypot"),r("core-js/modules/es.math.sign"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.for-each"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.for-each"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.splice"),r("core-js/modules/es.math.hypot"),r("core-js/modules/es.math.sign"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/web.dom-collections.for-each"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var c=(y=r("../core/main"))&&y.__esModule?y:{default:y},l=function(d){if(d&&d.__esModule)return d;if(d===null||p(d)!=="object"&&typeof d!="function")return{default:d};var f=u();if(f&&f.has(d))return f.get(d);var b,g={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(b in d){var _;Object.prototype.hasOwnProperty.call(d,b)&&((_=v?Object.getOwnPropertyDescriptor(d,b):null)&&(_.get||_.set)?Object.defineProperty(g,b,_):g[b]=d[b])}return g.default=d,f&&f.set(d,g),g}(r("../core/constants"));function u(){var d;return typeof WeakMap!="function"?null:(d=new WeakMap,u=function(){return d},d)}function p(d){return(p=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(f){return a(f)}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":a(f)})(d)}c.default.prototype.orbitControl=function(d,f,b,R){var v=this,_=(this._assert3d("orbitControl"),c.default._validateParameters("orbitControl",arguments),this._renderer._curCamera);d===void 0&&(d=1),f===void 0&&(f=d),b===void 0&&(b=1),p(R)!=="object"&&(R={}),this.contextMenuDisabled!==!0&&(this.canvas.oncontextmenu=function(){return!1},this._setProperty("contextMenuDisabled",!0)),this.wheelDefaultDisabled!==!0&&(this.canvas.onwheel=function(){return!1},this._setProperty("wheelDefaultDisabled",!0));var A=R.disableTouchActions;this.touchActionsDisabled===!0||A!==void 0&&!A||(this.canvas.style["touch-action"]="none",this._setProperty("touchActionsDisabled",!0));var x,w,S,A=R.freeRotation,R=A!==void 0&&A,D=[],A=(this.touches.forEach(function(q){v._renderer.prevTouches.forEach(function(W){q.id===W.id&&(W={x:q.x,y:q.y,px:W.x,py:W.y},D.push(W))})}),this._renderer.prevTouches=this.touches,0),C=0,j=0,P=0,O=0,L=this.height<this.width?this.height:this.width,N=!1;return 0<D.length?(N=0<D[0].x&&D[0].x<this.width&&0<D[0].y&&D[0].y<this.height,D.length===1?(C=-d*((x=D[0]).x-x.px)/L,j=f*(x.y-x.py)/L):(x=D[0],w=D[1],A=-(Math.hypot(x.x-w.x,x.y-w.y)-Math.hypot(x.px-w.px,x.py-w.py))*b*4e-4,P=.5*(x.x+w.x)-.5*(x.px+w.px),O=.5*(x.y+w.y)-.5*(x.py+w.py)),0<this.touches.length?N&&(this._renderer.executeRotateAndMove=!0,this._renderer.executeZoom=!0):(this._renderer.executeRotateAndMove=!1,this._renderer.executeZoom=!1)):(N=0<this.mouseX&&this.mouseX<this.width&&0<this.mouseY&&this.mouseY<this.height,this._mouseWheelDeltaY!==0?(A=Math.sign(this._mouseWheelDeltaY)*b,A*=.01,this._mouseWheelDeltaY=0,N&&(this._renderer.executeZoom=!0)):this._renderer.executeZoom=!1,this.mouseIsPressed?(this.mouseButton===this.LEFT?(C=-d*this.movedX/L,j=f*this.movedY/L):this.mouseButton===this.RIGHT&&(P=this.movedX,O=this.movedY*_.yScale),N&&(this._renderer.executeRotateAndMove=!0)):this._renderer.executeRotateAndMove=!1),A!==0&&this._renderer.executeZoom&&(this._renderer.zoomVelocity+=A),.001<Math.abs(this._renderer.zoomVelocity)?(R?_._orbitFree(0,0,this._renderer.zoomVelocity):_._orbit(0,0,this._renderer.zoomVelocity),_.projMatrix.mat4[15]!==0&&(_.projMatrix.mat4[0]*=Math.pow(10,-this._renderer.zoomVelocity),_.projMatrix.mat4[5]*=Math.pow(10,-this._renderer.zoomVelocity),this._renderer.uPMatrix.mat4[0]=_.projMatrix.mat4[0],this._renderer.uPMatrix.mat4[5]=_.projMatrix.mat4[5]),this._renderer.zoomVelocity*=.85):this._renderer.zoomVelocity=0,C===0&&j===0||!this._renderer.executeRotateAndMove||this._renderer.rotateVelocity.add(.6*C,.6*j),1e-6<this._renderer.rotateVelocity.magSq()?(R?_._orbitFree(-this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0):_._orbit(this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0),this._renderer.rotateVelocity.mult(.85)):this._renderer.rotateVelocity.set(0,0),P===0&&O===0||!this._renderer.executeRotateAndMove||(x=2*P/this.width,w=2*-O/this.height,this._renderer.moveVelocity.add(.15*x,.15*w)),1e-6<this._renderer.moveVelocity.magSq()?(b=_._getLocalAxes(),d=_.eyeX-_.centerX,f=_.eyeY-_.centerY,L=_.eyeZ-_.centerZ,N=Math.sqrt(d*d+f*f+L*L),A=new c.default.Vector(_.centerX,_.centerY,_.centerZ),A=_.cameraMatrix.multiplyPoint(A),(A=this._renderer.uPMatrix.multiplyAndNormalizePoint(A)).x-=this._renderer.moveVelocity.x,A.y-=this._renderer.moveVelocity.y,j=(C=this._renderer.uPMatrix.mat4)[15]===0?(S=(C[8]+A.x)/C[0]*N,(C[9]+A.y)/C[5]*N):(S=(A.x-C[12])/C[0],(A.y-C[13])/C[5]),_.setPosition(_.eyeX+S*b.x[0]+j*b.y[0],_.eyeY+S*b.x[1]+j*b.y[1],_.eyeZ+S*b.x[2]+j*b.y[2]),this._renderer.moveVelocity.mult(.85)):this._renderer.moveVelocity.set(0,0),this},c.default.prototype.debugMode=function(){this._assert3d("debugMode");for(var d=arguments.length,f=new Array(d),b=0;b<d;b++)f[b]=arguments[b];c.default._validateParameters("debugMode",f);for(var g=this._registeredMethods.post.length-1;0<=g;g--)this._registeredMethods.post[g].toString()!==this._grid().toString()&&this._registeredMethods.post[g].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(g,1);f[0]===l.GRID?this.registerMethod("post",this._grid(f[1],f[2],f[3],f[4],f[5])):f[0]===l.AXES?this.registerMethod("post",this._axesIcon(f[1],f[2],f[3],f[4])):(this.registerMethod("post",this._grid(f[0],f[1],f[2],f[3],f[4])),this.registerMethod("post",this._axesIcon(f[5],f[6],f[7],f[8])))},c.default.prototype.noDebugMode=function(){this._assert3d("noDebugMode");for(var d=this._registeredMethods.post.length-1;0<=d;d--)this._registeredMethods.post[d].toString()!==this._grid().toString()&&this._registeredMethods.post[d].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(d,1)},c.default.prototype._grid=function(d,f,b,g,v){d===void 0&&(d=this.width/2),f===void 0&&(f=Math.round(d/30)<4?4:Math.round(d/30)),b===void 0&&(b=0),g===void 0&&(g=0),v===void 0&&(v=0);var _=d/f,x=d/2;return function(){this.push(),this.stroke(255*this._renderer.curStrokeColor[0],255*this._renderer.curStrokeColor[1],255*this._renderer.curStrokeColor[2]),this._renderer.uModelMatrix.reset();for(var w=0;w<=f;w++)this.beginShape(this.LINES),this.vertex(-x+b,g,w*_-x+v),this.vertex(x+b,g,w*_-x+v),this.endShape();for(var S=0;S<=f;S++)this.beginShape(this.LINES),this.vertex(S*_-x+b,g,-x+v),this.vertex(S*_-x+b,g,x+v),this.endShape();this.pop()}},c.default.prototype._axesIcon=function(d,f,b,g){return d===void 0&&(d=40<this.width/20?this.width/20:40),f===void 0&&(f=-this.width/4),b===void 0&&(b=f),g===void 0&&(g=f),function(){this.push(),this._renderer.uModelMatrix.reset(),this.strokeWeight(2),this.stroke(255,0,0),this.beginShape(this.LINES),this.vertex(f,b,g),this.vertex(f+d,b,g),this.endShape(),this.stroke(0,255,0),this.beginShape(this.LINES),this.vertex(f,b,g),this.vertex(f,b+d,g),this.endShape(),this.stroke(0,0,255),this.beginShape(this.LINES),this.vertex(f,b,g),this.vertex(f,b,g+d),this.endShape(),this.pop()}};var y=c.default;o.default=y},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.splice":171,"core-js/modules/es.math.hypot":176,"core-js/modules/es.math.sign":178,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],329:[function(r,s,o){r("core-js/modules/es.array.filter"),r("core-js/modules/es.array.filter"),Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var a=(r=r("../core/main"))&&r.__esModule?r:{default:r};a.default.prototype.ambientLight=function(c,l,u,p){this._assert3d("ambientLight"),a.default._validateParameters("ambientLight",arguments);var y=this.color.apply(this,arguments);return this._renderer.ambientLightColors.push(y._array[0],y._array[1],y._array[2]),this._renderer._enableLighting=!0,this},a.default.prototype.specularColor=function(c,l,u){this._assert3d("specularColor"),a.default._validateParameters("specularColor",arguments);var p=this.color.apply(this,arguments);return this._renderer.specularColors=[p._array[0],p._array[1],p._array[2]],this},a.default.prototype.directionalLight=function(c,v,g,p,y,d){this._assert3d("directionalLight"),a.default._validateParameters("directionalLight",arguments),c=c instanceof a.default.Color?c:this.color(c,v,g);var f,b,v=arguments[arguments.length-1],g=typeof v=="number"?(f=arguments[arguments.length-3],b=arguments[arguments.length-2],arguments[arguments.length-1]):(f=v.x,b=v.y,v.z),v=Math.sqrt(f*f+b*b+g*g);return this._renderer.directionalLightDirections.push(f/v,b/v,g/v),this._renderer.directionalLightDiffuseColors.push(c._array[0],c._array[1],c._array[2]),Array.prototype.push.apply(this._renderer.directionalLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},a.default.prototype.pointLight=function(c,g,v,p,y,d){this._assert3d("pointLight"),a.default._validateParameters("pointLight",arguments),c=c instanceof a.default.Color?c:this.color(c,g,v);var f,b,g=arguments[arguments.length-1],v=typeof g=="number"?(f=arguments[arguments.length-3],b=arguments[arguments.length-2],arguments[arguments.length-1]):(f=g.x,b=g.y,g.z);return this._renderer.pointLightPositions.push(f,b,v),this._renderer.pointLightDiffuseColors.push(c._array[0],c._array[1],c._array[2]),Array.prototype.push.apply(this._renderer.pointLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},a.default.prototype.imageLight=function(c){this._renderer.activeImageLight=c,this._renderer._enableLighting=!0},a.default.prototype.panorama=function(c){this.filter(this._renderer._getSphereMapping(c))},a.default.prototype.lights=function(){this._assert3d("lights");var c=this.color("rgb(128,128,128)");return this.ambientLight(c),this.directionalLight(c,0,0,-1),this},a.default.prototype.lightFalloff=function(c,l,u){return this._assert3d("lightFalloff"),a.default._validateParameters("lightFalloff",arguments),c<0&&(c=0,console.warn("Value of constant argument in lightFalloff() should be never be negative. Set to 0.")),l<0&&(l=0,console.warn("Value of linear argument in lightFalloff() should be never be negative. Set to 0.")),u<0&&(u=0,console.warn("Value of quadratic argument in lightFalloff() should be never be negative. Set to 0.")),c===0&&l===0&&u===0&&(c=1,console.warn("Either one of the three arguments in lightFalloff() should be greater than zero. Set constant argument to 1.")),this._renderer.constantAttenuation=c,this._renderer.linearAttenuation=l,this._renderer.quadraticAttenuation=u,this},a.default.prototype.spotLight=function(c,l,u,p,y,d,f,b,g,v,_){this._assert3d("spotLight"),a.default._validateParameters("spotLight",arguments);var x,w,S,R=arguments.length;switch(R){case 11:case 10:x=this.color(c,l,u),w=new a.default.Vector(p,y,d),S=new a.default.Vector(f,b,g);break;case 9:c instanceof a.default.Color?(x=c,w=new a.default.Vector(l,u,p),S=new a.default.Vector(y,d,f),v=b,_=g):p instanceof a.default.Vector?(x=this.color(c,l,u),w=p,S=new a.default.Vector(y,d,f),v=b,_=g):f instanceof a.default.Vector?(x=this.color(c,l,u),w=new a.default.Vector(p,y,d),S=f,v=b,_=g):(x=this.color(c,l,u),w=new a.default.Vector(p,y,d),S=new a.default.Vector(f,b,g));break;case 8:v=(S=c instanceof a.default.Color?(x=c,w=new a.default.Vector(l,u,p),new a.default.Vector(y,d,f)):p instanceof a.default.Vector?(x=this.color(c,l,u),w=p,new a.default.Vector(y,d,f)):(x=this.color(c,l,u),w=new a.default.Vector(p,y,d),f),b);break;case 7:c instanceof a.default.Color&&l instanceof a.default.Vector?(x=c,w=l,S=new a.default.Vector(u,p,y),v=d,_=f):c instanceof a.default.Color&&y instanceof a.default.Vector?(x=c,w=new a.default.Vector(l,u,p),S=y,v=d,_=f):p instanceof a.default.Vector&&y instanceof a.default.Vector?(x=this.color(c,l,u),w=p,S=y,v=d,_=f):S=c instanceof a.default.Color?(x=c,w=new a.default.Vector(l,u,p),new a.default.Vector(y,d,f)):p instanceof a.default.Vector?(x=this.color(c,l,u),w=p,new a.default.Vector(y,d,f)):(x=this.color(c,l,u),w=new a.default.Vector(p,y,d),f);break;case 6:p instanceof a.default.Vector&&y instanceof a.default.Vector?(x=this.color(c,l,u),w=p,S=y,v=d):c instanceof a.default.Color&&y instanceof a.default.Vector?(x=c,w=new a.default.Vector(l,u,p),S=y,v=d):c instanceof a.default.Color&&l instanceof a.default.Vector&&(x=c,w=l,S=new a.default.Vector(u,p,y),v=d);break;case 5:c instanceof a.default.Color&&l instanceof a.default.Vector&&u instanceof a.default.Vector?(x=c,w=l,S=u,v=p,_=y):p instanceof a.default.Vector&&y instanceof a.default.Vector?(x=this.color(c,l,u),w=p,S=y):c instanceof a.default.Color&&y instanceof a.default.Vector?(x=c,w=new a.default.Vector(l,u,p),S=y):c instanceof a.default.Color&&l instanceof a.default.Vector&&(x=c,w=l,S=new a.default.Vector(u,p,y));break;case 4:x=c,w=l,S=u,v=p;break;case 3:x=c,w=l,S=u;break;default:return console.warn("Sorry, input for spotlight() is not in prescribed format. Too ".concat(R<3?"few":"many"," arguments were provided")),this}return this._renderer.spotLightDiffuseColors.push(x._array[0],x._array[1],x._array[2]),Array.prototype.push.apply(this._renderer.spotLightSpecularColors,this._renderer.specularColors),this._renderer.spotLightPositions.push(w.x,w.y,w.z),S.normalize(),this._renderer.spotLightDirections.push(S.x,S.y,S.z),v===void 0&&(v=Math.PI/3),_!==void 0&&_<1?(_=1,console.warn("Value of concentration needs to be greater than 1. Setting it to 1")):_===void 0&&(_=100),v=this._renderer._pInst._toRadians(v),this._renderer.spotLightAngle.push(Math.cos(v)),this._renderer.spotLightConc.push(_),this._renderer._enableLighting=!0,this},a.default.prototype.noLights=function(){this._assert3d("noLights");for(var c=arguments.length,l=new Array(c),u=0;u<c;u++)l[u]=arguments[u];return a.default._validateParameters("noLights",l),this._renderer.activeImageLight=null,this._renderer._enableLighting=!1,this._renderer.ambientLightColors.length=0,this._renderer.specularColors=[1,1,1],this._renderer.directionalLightDirections.length=0,this._renderer.directionalLightDiffuseColors.length=0,this._renderer.directionalLightSpecularColors.length=0,this._renderer.pointLightPositions.length=0,this._renderer.pointLightDiffuseColors.length=0,this._renderer.pointLightSpecularColors.length=0,this._renderer.spotLightPositions.length=0,this._renderer.spotLightDirections.length=0,this._renderer.spotLightDiffuseColors.length=0,this._renderer.spotLightSpecularColors.length=0,this._renderer.spotLightAngle.length=0,this._renderer.spotLightConc.length=0,this._renderer.constantAttenuation=1,this._renderer.linearAttenuation=0,this._renderer.quadraticAttenuation=0,this._renderer._useShininess=1,this._renderer._useMetalness=0,this},r=a.default,o.default=r},{"../core/main":283,"core-js/modules/es.array.filter":157}],330:[function(r,s,o){function a(v){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(v)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.from"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.join"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.array.splice"),r("core-js/modules/es.object.assign"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.promise"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.set"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.match"),r("core-js/modules/es.string.split"),r("core-js/modules/es.string.trim"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.join"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.array.splice"),r("core-js/modules/es.object.assign"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.promise"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.set"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.match"),r("core-js/modules/es.string.split"),r("core-js/modules/es.string.trim"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,r("regenerator-runtime/runtime");var c=(g=r("../core/main"))&&g.__esModule?g:{default:g};function l(v){return function(_){if(Array.isArray(_)){for(var x=0,w=new Array(_.length);x<_.length;x++)w[x]=_[x];return w}}(v)||function(_){if(Symbol.iterator in Object(_)||Object.prototype.toString.call(_)==="[object Arguments]")return Array.from(_)}(v)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function u(v,_,x,w,S,R,D){try{var A=v[R](D),C=A.value}catch(j){return void x(j)}A.done?_(C):Promise.resolve(C).then(w,S)}function p(v){return function(){var _=this,x=arguments;return new Promise(function(w,S){var R=v.apply(_,x);function D(C){u(R,w,S,D,A,"next",C)}function A(C){u(R,w,S,D,A,"throw",C)}D(void 0)})}}function y(v){return(y=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(_){return a(_)}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":a(_)})(v)}function d(v,_,x){for(var w=2<arguments.length&&x!==void 0?x:{},S={v:[],vt:[],vn:[]},R={},D=null,A=new Set,C=!1,j=!1,P=0;P<_.length;++P){var O=_[P].trim().split(/\b\s+/);if(0<O.length){if(O[0]==="usemtl")D=O[1];else if(O[0]==="v"||O[0]==="vn"){var L=new c.default.Vector(parseFloat(O[1]),parseFloat(O[2]),parseFloat(O[3]));S[O[0]].push(L)}else if(O[0]==="vt")L=[parseFloat(O[1]),1-parseFloat(O[2])],S[O[0]].push(L);else if(O[0]==="f")for(var N=3;N<O.length;++N){for(var q=[],W=[1,N-1,N],Y=0;Y<W.length;++Y){for(var J,te=O[W[Y]],ee=te.split("/"),Q=0;Q<ee.length;Q++)ee[Q]=parseInt(ee[Q])-1;R[te]||(R[te]={}),R[te][D]===void 0?(J=v.vertices.length,v.vertices.push(S.v[ee[0]].copy()),v.uvs.push(S.vt[ee[1]]?S.vt[ee[1]].slice():[0,0]),v.vertexNormals.push(S.vn[ee[2]]?S.vn[ee[2]].copy():new c.default.Vector),R[te][D]=J,q.push(J),D&&w[D]&&w[D].diffuseColor&&A.add(S.v[ee[0]])):q.push(R[te][D])}if(q[0]!==q[1]&&q[0]!==q[2]&&q[1]!==q[2])if(v.faces.push(q),D&&w[D]&&w[D].diffuseColor)for(var C=C=!0,ne=w[D].diffuseColor,re=0;re<q.length;re++)v.vertexColors.push(ne[0]),v.vertexColors.push(ne[1]),v.vertexColors.push(ne[2]);else j=!0}}}if(v.vertexNormals.length===0&&v.computeNormals(),C===j)throw new Error("Model coloring is inconsistent. Either all vertices should have colors or none should.")}function f(v,_){if(function(Se){for(var pe=new DataView(Se),Te=[115,111,108,105,100],ke=0;ke<5;ke++)if(function(Me,Ne,Ve){for(var Xe=0,ht=Me.length;Xe<ht;Xe++)if(Me[Xe]!==Ne.getUint8(Ve+Xe,!1))return;return 1}(Te,pe,ke))return;return 1}(_)){for(var x,w,S,R,D,A,C,j=v,P=new DataView(_),O=P.getUint32(80,!0),L=!1,N=0;N<70;N++)P.getUint32(N,!1)===1129270351&&P.getUint8(N+4)===82&&P.getUint8(N+5)===61&&(L=!0,R=[],D=P.getUint8(N+6)/255,A=P.getUint8(N+7)/255,C=P.getUint8(N+8)/255);for(var q=0;q<O;q++){for(var W,Y=84+50*q,J=P.getFloat32(Y,!0),te=P.getFloat32(4+Y,!0),ee=P.getFloat32(8+Y,!0),Q=(L&&(W=P.getUint16(48+Y,!0),S=32768&W?(x=D,w=A,C):(x=(31&W)/31,w=(W>>5&31)/31,(W>>10&31)/31)),new c.default.Vector(J,te,ee)),ne=1;ne<=3;ne++){var re=Y+12*ne,re=new c.default.Vector(P.getFloat32(re,!0),P.getFloat32(4+re,!0),P.getFloat32(8+re,!0));j.vertices.push(re),j.vertexNormals.push(Q),L&&R.push(x,w,S)}j.faces.push([3*q,3*q+1,3*q+2]),j.uvs.push([0,0],[0,0],[0,0])}}else if(_=new DataView(_),"TextDecoder"in window)for(var I,U,H=v,X=new TextDecoder("utf-8").decode(_).split(`
`),ae="",le=[],he=0;he<X.length;++he){for(var ye=X[he].trim(),me=ye.split(" "),xe=0;xe<me.length;++xe)me[xe]===""&&me.splice(xe,1);if(me.length!==0)switch(ae){case"":if(me[0]!=="solid")return console.error(ye),void console.error('Invalid state "'.concat(me[0],'", should be "solid"'));ae="solid";break;case"solid":if(me[0]!=="facet"||me[1]!=="normal")return console.error(ye),void console.error('Invalid state "'.concat(me[0],'", should be "facet normal"'));I=new c.default.Vector(parseFloat(me[2]),parseFloat(me[3]),parseFloat(me[4])),H.vertexNormals.push(I,I,I),ae="facet normal";break;case"facet normal":if(me[0]!=="outer"||me[1]!=="loop")return console.error(ye),void console.error('Invalid state "'.concat(me[0],'", should be "outer loop"'));ae="vertex";break;case"vertex":if(me[0]==="vertex")U=new c.default.Vector(parseFloat(me[1]),parseFloat(me[2]),parseFloat(me[3])),H.vertices.push(U),H.uvs.push([0,0]),le.push(H.vertices.indexOf(U));else{if(me[0]!=="endloop")return console.error(ye),void console.error('Invalid state "'.concat(me[0],'", should be "vertex" or "endloop"'));H.faces.push(le),le=[],ae="endloop"}break;case"endloop":if(me[0]!=="endfacet")return console.error(ye),void console.error('Invalid state "'.concat(me[0],'", should be "endfacet"'));ae="endfacet";break;case"endfacet":if(me[0]!=="endsolid"){if(me[0]!=="facet"||me[1]!=="normal")return console.error(ye),void console.error('Invalid state "'.concat(me[0],'", should be "endsolid" or "facet normal"'));I=new c.default.Vector(parseFloat(me[2]),parseFloat(me[3]),parseFloat(me[4])),H.vertexNormals.push(I,I,I),ae="facet normal"}break;default:console.error('Invalid state "'.concat(ae,'"'))}}else console.warn("Sorry, ASCII STL loading only works in browsers that support TextDecoder (https://caniuse.com/#feat=textencoder)")}r("./p5.Geometry"),c.default.prototype.loadModel=function(v,_){c.default._validateParameters("loadModel",arguments);var x,w,S=!1,R=!1,D=!1,A=v.slice(-4),C=(_&&y(_)==="object"?(S=_.normalize||!1,x=_.successCallback,w=_.failureCallback,A=_.fileType||A,R=_.flipU||!1,D=_.flipV||!1):typeof _=="boolean"?(S=_,x=arguments[2],w=arguments[3],arguments[4]!==void 0&&(A=arguments[4])):(x=typeof _=="function"?_:void 0,w=arguments[2],arguments[3]!==void 0&&(A=arguments[3])),new c.default.Geometry),j=(C.gid="".concat(v,"|").concat(S),this);function P(){return(P=p(regeneratorRuntime.mark(function L(N){var q,W,Y,J;return regeneratorRuntime.wrap(function(te){for(;;)switch(te.prev=te.next){case 0:for(q=[],W=0;W<N.length;W++)(Y=N[W].match(/^mtllib (.+)/))&&function(){var ee="",Q=Y[1],ne=v.split("/");ee=1<ne.length?(ne.pop(),ne.join("/")+"/"+Q):Q,q.push(function(){return O.apply(this,arguments)}(ee).then(function(re){return re?(I=j,U=ee,new Promise(function(H,X){var ae=null,le={};I.loadStrings(U,function(he){for(var ye=0;ye<he.length;++ye){var me,xe=he[ye].trim().split(/\s+/);xe[0]==="newmtl"?(me=xe[1],le[ae=me]={}):xe[0]==="Kd"?le[ae].diffuseColor=[parseFloat(xe[1]),parseFloat(xe[2]),parseFloat(xe[3])]:xe[0]==="Ka"?le[ae].ambientColor=[parseFloat(xe[1]),parseFloat(xe[2]),parseFloat(xe[3])]:xe[0]==="Ks"?le[ae].specularColor=[parseFloat(xe[1]),parseFloat(xe[2]),parseFloat(xe[3])]:xe[0]==="map_Kd"&&(le[ae].texturePath=xe[1])}H(le)},X)})):(console.warn("MTL file not found or error in parsing; proceeding without materials: ".concat(ee)),{});var I,U}).catch(function(re){return console.warn("Error loading MTL file: ".concat(ee),re),{}}))}();return te.prev=2,te.next=5,Promise.all(q);case 5:return J=te.sent,J=Object.assign.apply(Object,[{}].concat(l(J))),te.abrupt("return",J);case 10:return te.prev=10,te.t0=te.catch(2),te.abrupt("return",{});case 13:case"end":return te.stop()}},L,null,[[2,10]])}))).apply(this,arguments)}function O(){return(O=p(regeneratorRuntime.mark(function L(N){var q;return regeneratorRuntime.wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return W.prev=0,W.next=3,fetch(N,{method:"HEAD"});case 3:return q=W.sent,W.abrupt("return",q.ok);case 7:return W.prev=7,W.t0=W.catch(0),W.abrupt("return",!1);case 10:case"end":return W.stop()}},L,null,[[0,7]])}))).apply(this,arguments)}return A.match(/\.stl$/i)?this.httpDo(v,"GET","arrayBuffer",function(L){f(C,L),S&&C.normalize(),R&&C.flipU(),D&&C.flipV(),j._decrementPreload(),typeof x=="function"&&x(C)},w):A.match(/\.obj$/i)?this.loadStrings(v,function(){var L=p(regeneratorRuntime.mark(function N(q){var W;return regeneratorRuntime.wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return Y.prev=0,Y.next=3,function(){return P.apply(this,arguments)}(q);case 3:W=Y.sent,d(C,q,W),Y.next=11;break;case 7:return Y.prev=7,Y.t0=Y.catch(0),w?w(Y.t0):c.default._friendlyError("Error during parsing: "+Y.t0.message),Y.abrupt("return");case 11:return Y.prev=11,S&&C.normalize(),R&&C.flipU(),D&&C.flipV(),C._makeTriangleEdges(),j._decrementPreload(),typeof x=="function"&&x(C),Y.finish(11);case 19:case"end":return Y.stop()}},N,null,[[0,7,11,19]])}));return function(N){return L.apply(this,arguments)}}(),w):(c.default._friendlyFileLoadError(3,v),w?w():c.default._friendlyError("Sorry, the file type is invalid. Only OBJ and STL files are supported.")),C},c.default.prototype.model=function(v){this._assert3d("model"),c.default._validateParameters("model",arguments),0<v.vertices.length&&(this._renderer.geometryInHash(v.gid)||(v._edgesToVertices(),this._renderer.createBuffers(v.gid,v)),this._renderer.drawBuffers(v.gid))};var b=0,g=(c.default.prototype.createModel=function(v){var _,x,w=1<arguments.length&&arguments[1]!==void 0?arguments[1]:" ",A=2<arguments.length?arguments[2]:void 0,S=(c.default._validateParameters("createModel",arguments),!1),R=!1,D=!1,A=(A&&y(A)==="object"?(S=A.normalize||!1,_=A.successCallback,x=A.failureCallback,R=A.flipU||!1,D=A.flipV||!1):x=typeof A=="boolean"?(S=A,_=arguments[3],arguments[4]):(_=typeof arguments[2]=="function"?arguments[2]:void 0,arguments[3]),new c.default.Geometry);if(A.gid="".concat(w,"|").concat(S,"|").concat(b++),w.match(/\.stl$/i))try{f(A,new TextEncoder().encode(v).buffer)}catch(C){return void(x?x(C):c.default._friendlyError("Error during parsing: "+C.message))}else if(w.match(/\.obj$/i))try{d(A,v.split(`
`))}catch(C){return void(x?x(C):c.default._friendlyError("Error during parsing: "+C.message))}else c.default._friendlyFileLoadError(3,v),x?x():c.default._friendlyError("Sorry, the file type is invalid. Only OBJ and STL files are supported.");return S&&A.normalize(),R&&A.flipU(),D&&A.flipV(),A._makeTriangleEdges(),typeof _=="function"&&_(A),A},c.default);o.default=g},{"../core/main":283,"./p5.Geometry":335,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.from":162,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246,"regenerator-runtime/runtime":260}],331:[function(r,s,o){function a(d){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(d)}function c(d){return(c=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(f){return a(f)}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":a(f)})(d)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.join"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.includes"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.join"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.includes"),r("core-js/modules/es.string.iterator"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var l=(y=r("../core/main"))&&y.__esModule?y:{default:y},u=function(d){if(d&&d.__esModule)return d;if(d===null||c(d)!=="object"&&typeof d!="function")return{default:d};var f=p();if(f&&f.has(d))return f.get(d);var b,g={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(b in d){var _;Object.prototype.hasOwnProperty.call(d,b)&&((_=v?Object.getOwnPropertyDescriptor(d,b):null)&&(_.get||_.set)?Object.defineProperty(g,b,_):g[b]=d[b])}return g.default=d,f&&f.set(d,g),g}(r("../core/constants"));function p(){var d;return typeof WeakMap!="function"?null:(d=new WeakMap,p=function(){return d},d)}r("./p5.Texture"),l.default.prototype.loadShader=function(d,f,b,g){l.default._validateParameters("loadShader",arguments),g=g||console.error;function v(){x._decrementPreload(),b&&b(_)}var _=new l.default.Shader,x=this,w=!1,S=!1;return this.loadStrings(d,function(R){_._vertSrc=R.join(`
`),S=!0,w&&v()},g),this.loadStrings(f,function(R){_._fragSrc=R.join(`
`),w=!0,S&&v()},g),_},l.default.prototype.createShader=function(d,f,b){return l.default._validateParameters("createShader",arguments),new l.default.Shader(this._renderer,d,f,b)},l.default.prototype.createFilterShader=function(d){l.default._validateParameters("createFilterShader",arguments);var f=d.includes("#version 300 es")?`#version 300 es
    uniform mat4 uModelViewMatrix;
    uniform mat4 uProjectionMatrix;

    in vec3 aPosition;
    in vec2 aTexCoord;
    out vec2 vTexCoord;

    void main() {
      // transferring texcoords for the frag shader
      vTexCoord = aTexCoord;

      // copy position with a fourth coordinate for projection (1.0 is normal)
      vec4 positionVec4 = vec4(aPosition, 1.0);

      // project to 3D space
      gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
    }
  `:`
    uniform mat4 uModelViewMatrix;
    uniform mat4 uProjectionMatrix;

    attribute vec3 aPosition;
    // texcoords only come from p5 to vertex shader
    // so pass texcoords on to the fragment shader in a varying variable
    attribute vec2 aTexCoord;
    varying vec2 vTexCoord;

    void main() {
      // transferring texcoords for the frag shader
      vTexCoord = aTexCoord;

      // copy position with a fourth coordinate for projection (1.0 is normal)
      vec4 positionVec4 = vec4(aPosition, 1.0);

      // project to 3D space
      gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
    }
  `,f=new l.default.Shader(this._renderer,f,d);return this._renderer.GL?f.ensureCompiledOnContext(this):f.ensureCompiledOnContext(this._renderer.getFilterGraphicsLayer()),f},l.default.prototype.shader=function(d){return this._assert3d("shader"),l.default._validateParameters("shader",arguments),d.ensureCompiledOnContext(this),d.isStrokeShader()?this._renderer.userStrokeShader=d:(this._renderer.userFillShader=d,this._renderer._useNormalMaterial=!1),d.setDefaultUniforms(),this},l.default.prototype.baseMaterialShader=function(){return this._assert3d("baseMaterialShader"),this._renderer.baseMaterialShader()},l.default.prototype.baseNormalShader=function(){return this._assert3d("baseNormalShader"),this._renderer.baseNormalShader()},l.default.prototype.baseColorShader=function(){return this._assert3d("baseColorShader"),this._renderer.baseColorShader()},l.default.prototype.baseStrokeShader=function(){return this._assert3d("baseStrokeShader"),this._renderer.baseStrokeShader()},l.default.prototype.resetShader=function(){return this._renderer.userFillShader=this._renderer.userStrokeShader=null,this},l.default.prototype.texture=function(d){return this._assert3d("texture"),l.default._validateParameters("texture",arguments),d.gifProperties&&d._animateGif(this),this._renderer.drawMode=u.TEXTURE,this._renderer._useNormalMaterial=!1,this._renderer._tex=d,this._renderer._setProperty("_doFill",!0),this},l.default.prototype.textureMode=function(d){d!==u.IMAGE&&d!==u.NORMAL?console.warn("You tried to set ".concat(d," textureMode only supports IMAGE & NORMAL ")):this._renderer.textureMode=d},l.default.prototype.textureWrap=function(d){var f=1<arguments.length&&arguments[1]!==void 0?arguments[1]:d,b=(this._renderer.textureWrapX=d,this._renderer.textureWrapY=f,!0),g=!1,v=void 0;try{for(var _,x=this._renderer.textures.values()[Symbol.iterator]();!(b=(_=x.next()).done);b=!0)_.value.setWrapMode(d,f)}catch(w){g=!0,v=w}finally{try{b||x.return==null||x.return()}finally{if(g)throw v}}},l.default.prototype.normalMaterial=function(){this._assert3d("normalMaterial");for(var d=arguments.length,f=new Array(d),b=0;b<d;b++)f[b]=arguments[b];return l.default._validateParameters("normalMaterial",f),this._renderer.drawMode=u.FILL,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!0,this._renderer.curFillColor=[1,1,1,1],this._renderer._setProperty("_doFill",!0),this.noStroke(),this},l.default.prototype.ambientMaterial=function(d,f,b){this._assert3d("ambientMaterial"),l.default._validateParameters("ambientMaterial",arguments);var g=l.default.prototype.color.apply(this,arguments);return this._renderer._hasSetAmbient=!0,this._renderer.curAmbientColor=g._array,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._setProperty("_doFill",!0),this},l.default.prototype.emissiveMaterial=function(d,f,b,g){this._assert3d("emissiveMaterial"),l.default._validateParameters("emissiveMaterial",arguments);var v=l.default.prototype.color.apply(this,arguments);return this._renderer.curEmissiveColor=v._array,this._renderer._useEmissiveMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this},l.default.prototype.specularMaterial=function(d,f,b,g){this._assert3d("specularMaterial"),l.default._validateParameters("specularMaterial",arguments);var v=l.default.prototype.color.apply(this,arguments);return this._renderer.curSpecularColor=v._array,this._renderer._useSpecularMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this},l.default.prototype.shininess=function(d){return this._assert3d("shininess"),l.default._validateParameters("shininess",arguments),this._renderer._useShininess=d=d<1?1:d,this},l.default.prototype.metalness=function(d){return this._assert3d("metalness"),d=1-Math.exp(-d/100),this._renderer._useMetalness=d,this},l.default.RendererGL.prototype._applyColorBlend=function(d,v){var b=this.GL,g=this.drawMode===u.TEXTURE,v=v||this.userFillShader||this.userStrokeShader||this.userPointShader||g||this.curBlendMode!==u.BLEND||d[d.length-1]<1||this._isErasing;return v!==this._isBlending&&(v||this.curBlendMode!==u.BLEND&&this.curBlendMode!==u.ADD?b.enable(b.BLEND):b.disable(b.BLEND),b.depthMask(!0),this._isBlending=v),this._applyBlendMode(),d},l.default.RendererGL.prototype._applyBlendMode=function(){if(this._cachedBlendMode!==this.curBlendMode){var d=this.GL;switch(this.curBlendMode){case u.BLEND:d.blendEquation(d.FUNC_ADD),d.blendFunc(d.ONE,d.ONE_MINUS_SRC_ALPHA);break;case u.ADD:d.blendEquation(d.FUNC_ADD),d.blendFunc(d.ONE,d.ONE);break;case u.REMOVE:d.blendEquation(d.FUNC_ADD),d.blendFunc(d.ZERO,d.ONE_MINUS_SRC_ALPHA);break;case u.MULTIPLY:d.blendEquation(d.FUNC_ADD),d.blendFunc(d.DST_COLOR,d.ONE_MINUS_SRC_ALPHA);break;case u.SCREEN:d.blendEquation(d.FUNC_ADD),d.blendFunc(d.ONE,d.ONE_MINUS_SRC_COLOR);break;case u.EXCLUSION:d.blendEquationSeparate(d.FUNC_ADD,d.FUNC_ADD),d.blendFuncSeparate(d.ONE_MINUS_DST_COLOR,d.ONE_MINUS_SRC_COLOR,d.ONE,d.ONE);break;case u.REPLACE:d.blendEquation(d.FUNC_ADD),d.blendFunc(d.ONE,d.ZERO);break;case u.SUBTRACT:d.blendEquationSeparate(d.FUNC_REVERSE_SUBTRACT,d.FUNC_ADD),d.blendFuncSeparate(d.ONE,d.ONE,d.ONE,d.ONE_MINUS_SRC_ALPHA);break;case u.DARKEST:this.blendExt?(d.blendEquationSeparate(this.blendExt.MIN||this.blendExt.MIN_EXT,d.FUNC_ADD),d.blendFuncSeparate(d.ONE,d.ONE,d.ONE,d.ONE)):console.warn("blendMode(DARKEST) does not work in your browser in WEBGL mode.");break;case u.LIGHTEST:this.blendExt?(d.blendEquationSeparate(this.blendExt.MAX||this.blendExt.MAX_EXT,d.FUNC_ADD),d.blendFuncSeparate(d.ONE,d.ONE,d.ONE,d.ONE)):console.warn("blendMode(LIGHTEST) does not work in your browser in WEBGL mode.");break;default:console.error("Oops! Somehow RendererGL set curBlendMode to an unsupported mode.")}this._isErasing||(this._cachedBlendMode=this.curBlendMode)}};var y=l.default;o.default=y},{"../core/constants":272,"../core/main":283,"./p5.Texture":343,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],332:[function(r,s,o){r("core-js/modules/es.array.slice"),r("core-js/modules/es.math.hypot"),r("core-js/modules/es.string.sub"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.math.hypot"),r("core-js/modules/es.string.sub"),Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var a=(r=r("../core/main"))&&r.__esModule?r:{default:r};function c(l,u){for(var p=0;p<u.length;p++){var y=u[p];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(l,y.key,y)}}a.default.prototype.camera=function(){var l;this._assert3d("camera");for(var u=arguments.length,p=new Array(u),y=0;y<u;y++)p[y]=arguments[y];return a.default._validateParameters("camera",p),(l=this._renderer._curCamera).camera.apply(l,p),this},a.default.prototype.perspective=function(){var l;this._assert3d("perspective");for(var u=arguments.length,p=new Array(u),y=0;y<u;y++)p[y]=arguments[y];return a.default._validateParameters("perspective",p),(l=this._renderer._curCamera).perspective.apply(l,p),this},a.default.prototype.linePerspective=function(l){if(a.default._validateParameters("linePerspective",arguments),!(this._renderer instanceof a.default.RendererGL))throw new Error("linePerspective() must be called in WebGL mode.");if(l===void 0)return this._renderer._curCamera.useLinePerspective;this._renderer._curCamera.useLinePerspective=l},a.default.prototype.ortho=function(){var l;this._assert3d("ortho");for(var u=arguments.length,p=new Array(u),y=0;y<u;y++)p[y]=arguments[y];return a.default._validateParameters("ortho",p),(l=this._renderer._curCamera).ortho.apply(l,p),this},a.default.prototype.frustum=function(){var l;this._assert3d("frustum");for(var u=arguments.length,p=new Array(u),y=0;y<u;y++)p[y]=arguments[y];return a.default._validateParameters("frustum",p),(l=this._renderer._curCamera).frustum.apply(l,p),this},a.default.prototype.createCamera=function(){this._assert3d("createCamera");var l=new a.default.Camera(this._renderer);return l._computeCameraDefaultSettings(),l._setDefaultCamera(),this._renderer._curCamera=l},a.default.Camera=function(){function l(y){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");this._renderer=y,this.cameraType="default",this.useLinePerspective=!0,this.cameraMatrix=new a.default.Matrix,this.projMatrix=new a.default.Matrix,this.yScale=1}var u,p;return u=l,(p=[{key:"perspective",value:function(g,d,f,b){this.cameraType=0<arguments.length?"custom":"default",g===void 0?(g=this.defaultCameraFOV,this.cameraFOV=g):this.cameraFOV=this._renderer._pInst._toRadians(g),d===void 0&&(d=this.defaultAspectRatio),f===void 0&&(f=this.defaultCameraNear),b===void 0&&(b=this.defaultCameraFar),f<=1e-4&&(f=.01,console.log("Avoid perspective near plane values close to or below 0. Setting value to 0.01.")),b<f&&console.log("Perspective far plane value is less than near plane value. Nothing will be shown."),this.aspectRatio=d,this.cameraNear=f,this.cameraFar=b,this.projMatrix=a.default.Matrix.identity();var g=1/Math.tan(this.cameraFOV/2),v=1/(this.cameraNear-this.cameraFar);this.projMatrix.set(g/d,0,0,0,0,-g*this.yScale,0,0,0,0,(b+f)*v,-1,0,0,2*b*f*v,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix)}},{key:"ortho",value:function(A,D,f,b,g,v){var C=this.fbo||this._renderer,C=(A===void 0&&(A=-C.width/2),D===void 0&&(D=+C.width/2),f===void 0&&(f=-C.height/2),b===void 0&&(b=+C.height/2),g===void 0&&(g=0),v===void 0&&(v=Math.max(C.width,C.height)+800),this.cameraNear=g,D-A),_=b-f,x=(this.cameraFar=v)-g,w=2/C,S=2/_*this.yScale,R=-2/x,D=-(D+A)/C,A=-(b+f)/_,C=-(v+g)/x;this.projMatrix=a.default.Matrix.identity(),this.projMatrix.set(w,0,0,0,0,-S,0,0,0,0,R,0,D,A,C,1),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix),this.cameraType="custom"}},{key:"frustum",value:function(A,D,f,b,g,v){A===void 0&&(A=.05*-this._renderer.width),D===void 0&&(D=.05*+this._renderer.width),f===void 0&&(f=.05*+this._renderer.height),b===void 0&&(b=.05*-this._renderer.height),g===void 0&&(g=this.defaultCameraNear),v===void 0&&(v=this.defaultCameraFar),this.cameraNear=g;var C=D-A,_=b-f,x=(this.cameraFar=v)-g,w=2*g/C,S=2*g/_*this.yScale,R=-2*v*g/x,D=(D+A)/C,A=(b+f)/_,C=-(v+g)/x;this.projMatrix=a.default.Matrix.identity(),this.projMatrix.set(w,0,0,0,0,-S,0,0,D,A,C,-1,0,0,R,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix),this.cameraType="custom"}},{key:"_rotateView",value:function(w,d,f,b){var g=this.centerX,v=this.centerY,_=this.centerZ,x=(g-=this.eyeX,v-=this.eyeY,_-=this.eyeZ,a.default.Matrix.identity(this._renderer._pInst)),w=(x.rotate(this._renderer._pInst._toRadians(w),d,f,b),[g*x.mat4[0]+v*x.mat4[4]+_*x.mat4[8],g*x.mat4[1]+v*x.mat4[5]+_*x.mat4[9],g*x.mat4[2]+v*x.mat4[6]+_*x.mat4[10]]);w[0]+=this.eyeX,w[1]+=this.eyeY,w[2]+=this.eyeZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,w[0],w[1],w[2],this.upX,this.upY,this.upZ)}},{key:"roll",value:function(f){var d=this._getLocalAxes(),f=a.default.Quat.fromAxisAngle(this._renderer._pInst._toRadians(f),d.z[0],d.z[1],d.z[2]).rotateVector(new a.default.Vector(this.upX,this.upY,this.upZ));this.camera(this.eyeX,this.eyeY,this.eyeZ,this.centerX,this.centerY,this.centerZ,f.x,f.y,f.z)}},{key:"pan",value:function(y){var d=this._getLocalAxes();this._rotateView(y,d.y[0],d.y[1],d.y[2])}},{key:"tilt",value:function(y){var d=this._getLocalAxes();this._rotateView(y,d.x[0],d.x[1],d.x[2])}},{key:"lookAt",value:function(y,d,f){this.camera(this.eyeX,this.eyeY,this.eyeZ,y,d,f,this.upX,this.upY,this.upZ)}},{key:"camera",value:function(y,d,f,b,g,v,_,x,w){return y===void 0&&(y=this.defaultEyeX,d=this.defaultEyeY,f=this.defaultEyeZ,b=y,g=d,x=1,w=_=v=0),this.eyeX=y,this.eyeY=d,this.eyeZ=f,b!==void 0&&(this.centerX=b,this.centerY=g,this.centerZ=v),_!==void 0&&(this.upX=_,this.upY=x,this.upZ=w),b=this._getLocalAxes(),this.cameraMatrix.set(b.x[0],b.y[0],b.z[0],0,b.x[1],b.y[1],b.z[1],0,b.x[2],b.y[2],b.z[2],0,0,0,0,1),g=-y,this.cameraMatrix.translate([g,-d,-f]),this._isActive()&&this._renderer.uViewMatrix.set(this.cameraMatrix),this}},{key:"move",value:function(b,g,f){var v=this._getLocalAxes(),b=[v.x[0]*b,v.x[1]*b,v.x[2]*b],g=[v.y[0]*g,v.y[1]*g,v.y[2]*g],v=[v.z[0]*f,v.z[1]*f,v.z[2]*f];this.camera(this.eyeX+b[0]+g[0]+v[0],this.eyeY+b[1]+g[1]+v[1],this.eyeZ+b[2]+g[2]+v[2],this.centerX+b[0]+g[0]+v[0],this.centerY+b[1]+g[1]+v[1],this.centerZ+b[2]+g[2]+v[2],this.upX,this.upY,this.upZ)}},{key:"setPosition",value:function(y,d,f){var b=y-this.eyeX,g=d-this.eyeY,v=f-this.eyeZ;this.camera(y,d,f,this.centerX+b,this.centerY+g,this.centerZ+v,this.upX,this.upY,this.upZ)}},{key:"set",value:function(y){for(var d=0,f=["eyeX","eyeY","eyeZ","centerX","centerY","centerZ","upX","upY","upZ","cameraFOV","aspectRatio","cameraNear","cameraFar","cameraType","yScale","useLinePerspective"];d<f.length;d++){var b=f[d];this[b]=y[b]}this.cameraMatrix=y.cameraMatrix.copy(),this.projMatrix=y.projMatrix.copy(),this._isActive()&&(this._renderer.uModelMatrix.reset(),this._renderer.uViewMatrix.set(this.cameraMatrix),this._renderer.uPMatrix.set(this.projMatrix))}},{key:"slerp",value:function(y,d,f){var b,g,v,_,x,w,S,R,D,A,C,j,P,O,L,N,q,W;f===0?this.set(y):f===1?this.set(d):(this.projMatrix.mat4[15]!==0&&(this.projMatrix.mat4[0]=y.projMatrix.mat4[0]*Math.pow(d.projMatrix.mat4[0]/y.projMatrix.mat4[0],f),this.projMatrix.mat4[5]=y.projMatrix.mat4[5]*Math.pow(d.projMatrix.mat4[5]/y.projMatrix.mat4[5],f),this._isActive()&&(this._renderer.uPMatrix.mat4=this.projMatrix.mat4.slice())),_=new a.default.Vector(y.eyeX,y.eyeY,y.eyeZ),x=new a.default.Vector(d.eyeX,d.eyeY,d.eyeZ),N=new a.default.Vector(y.centerX,y.centerY,y.centerZ),W=new a.default.Vector(d.centerX,d.centerY,d.centerZ),v=a.default.Vector.dist(_,N),b=a.default.Vector.dist(x,W),b=v*Math.pow(b/v,f),v=a.default.Vector.sub(_,x),g=1,1e-6<(q=(O=_.copy().sub(x).sub(N).add(W)).magSq())&&(g=a.default.Vector.dot(v,O)/q,g=Math.max(0,Math.min(g,1))),v=a.default.Vector.lerp(a.default.Vector.lerp(_,N,g),a.default.Vector.lerp(x,W,g),f),O=y.cameraMatrix.createSubMatrix3x3(),q=d.cameraMatrix.createSubMatrix3x3(),_=O.row(2),N=q.row(2),x=O.row(1),W=q.row(1),y=new a.default.Vector,d=new a.default.Vector,w=new a.default.Vector,S=new a.default.Vector,1-(R=.5*((O=(q=q.mult3x3(O.copy().transpose3x3())).diagonal())[0]+O[1]+O[2]-1))<1e-7?(y.set(a.default.Vector.lerp(_,N,f)).normalize(),w.set(y).mult(g*b).add(v),S.set(y).mult((g-1)*b).add(v),d.set(a.default.Vector.lerp(x,W,f)).normalize()):(N=1/(1-R),W=Math.max(O[0],O[1],O[2]),j=q.mat3[1]+q.mat3[3],P=q.mat3[2]+q.mat3[6],L=q.mat3[5]+q.mat3[7],W=W===O[0]?(A=.5*j*(N/=D=Math.sqrt((O[0]-R)*N)),C=.5*P*N,.5*(q.mat3[7]-q.mat3[5])/D):W===O[1]?(C=.5*L*(N/=A=Math.sqrt((O[1]-R)*N)),D=.5*j*N,.5*(q.mat3[2]-q.mat3[6])/A):(D=.5*P*(N/=C=Math.sqrt((O[2]-R)*N)),A=.5*L*N,.5*(q.mat3[3]-q.mat3[1])/C),j=f*Math.atan2(W,R),P=Math.cos(j),O=Math.sin(j),(W=new a.default.Matrix("mat3",[P+(L=1-P)*D*D,L*(N=D*A)+O*C,L*(q=C*D)-O*A,L*N-O*C,P+L*A*A,L*(f=A*C)+O*D,L*q+O*A,L*f-O*D,P+L*C*C])).multiplyVec3(_,y),w.set(y).mult(g*b).add(v),S.set(y).mult((g-1)*b).add(v),W.multiplyVec3(x,d)),this.camera(w.x,w.y,w.z,S.x,S.y,S.z,d.x,d.y,d.z))}},{key:"_computeCameraDefaultSettings",value:function(){this.defaultAspectRatio=this._renderer.width/this._renderer.height,this.defaultEyeX=0,this.defaultEyeY=0,this.defaultEyeZ=800,this.defaultCameraFOV=2*Math.atan(this._renderer.height/2/this.defaultEyeZ),this.defaultCenterX=0,this.defaultCenterY=0,this.defaultCenterZ=0,this.defaultCameraNear=.1*this.defaultEyeZ,this.defaultCameraFar=10*this.defaultEyeZ}},{key:"_setDefaultCamera",value:function(){this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.eyeX=this.defaultEyeX,this.eyeY=this.defaultEyeY,this.eyeZ=this.defaultEyeZ,this.centerX=this.defaultCenterX,this.centerY=this.defaultCenterY,this.centerZ=this.defaultCenterZ,this.upX=0,this.upY=1,this.upZ=0,this.cameraNear=this.defaultCameraNear,this.cameraFar=this.defaultCameraFar,this.perspective(),this.camera(),this.cameraType="default"}},{key:"_resize",value:function(){this.cameraType==="default"&&(this._computeCameraDefaultSettings(),this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.perspective())}},{key:"copy",value:function(){var y=new a.default.Camera(this._renderer);return y.cameraFOV=this.cameraFOV,y.aspectRatio=this.aspectRatio,y.eyeX=this.eyeX,y.eyeY=this.eyeY,y.eyeZ=this.eyeZ,y.centerX=this.centerX,y.centerY=this.centerY,y.centerZ=this.centerZ,y.upX=this.upX,y.upY=this.upY,y.upZ=this.upZ,y.cameraNear=this.cameraNear,y.cameraFar=this.cameraFar,y.cameraType=this.cameraType,y.useLinePerspective=this.useLinePerspective,y.cameraMatrix=this.cameraMatrix.copy(),y.projMatrix=this.projMatrix.copy(),y.yScale=this.yScale,y}},{key:"_getLocalAxes",value:function(){var y=this.eyeX-this.centerX,d=this.eyeY-this.centerY,f=this.eyeZ-this.centerZ,_=Math.sqrt(y*y+d*d+f*f),_=(_!==0&&(y/=_,d/=_,f/=_),this.upX),b=(x=this.upY)*f-(w=this.upZ)*d,g=-_*f+w*y,v=_*d-x*y,_=d*v-f*g,x=-y*v+f*b,w=y*g-d*b,S=Math.sqrt(b*b+g*g+v*v),S=(S!==0&&(b/=S,g/=S,v/=S),Math.sqrt(_*_+x*x+w*w));return S!==0&&(_/=S,x/=S,w/=S),{x:[b,g,v],y:[_,x,w],z:[y,d,f]}}},{key:"_orbit",value:function(y,S,w){var g=this.eyeX-this.centerX,v=this.eyeY-this.centerY,_=this.eyeZ-this.centerZ,b=Math.hypot(g,v,_),g=new a.default.Vector(g,v,_).normalize(),v=new a.default.Vector(this.upX,this.upY,this.upZ).normalize(),_=a.default.Vector.cross(v,g).normalize(),x=a.default.Vector.cross(_,v),w=((b=(b*=Math.pow(10,w))<this.cameraNear?this.cameraNear:b)>this.cameraFar&&(b=this.cameraFar),Math.acos(Math.max(-1,Math.min(1,a.default.Vector.dot(g,v))))+S),S=y;(w<=0||w>=Math.PI)&&(this.upX*=-1,this.upY*=-1,this.upZ*=-1),v.mult(Math.cos(w)),x.mult(Math.cos(S)*Math.sin(w)),_.mult(Math.sin(S)*Math.sin(w)),g.set(v).add(x).add(_),this.eyeX=b*g.x+this.centerX,this.eyeY=b*g.y+this.centerY,this.eyeZ=b*g.z+this.centerZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,this.centerX,this.centerY,this.centerZ,this.upX,this.upY,this.upZ)}},{key:"_orbitFree",value:function(w,S,D){var g=this.eyeX-this.centerX,v=this.eyeY-this.centerY,_=this.eyeZ-this.centerZ,b=Math.hypot(g,v,_),g=new a.default.Vector(g,v,_).normalize(),v=new a.default.Vector(this.upX,this.upY,this.upZ),_=a.default.Vector.cross(v,g).normalize(),x=a.default.Vector.cross(g,_),A=Math.atan2(S,w),A=(x.mult(Math.sin(A)),_.mult(Math.cos(A)).add(x),Math.sqrt(w*w+S*S)),x=a.default.Vector.cross(g,_),w=((b=(b*=Math.pow(10,D))<this.cameraNear?this.cameraNear:b)>this.cameraFar&&(b=this.cameraFar),Math.cos(A)),S=Math.sin(A),D=v.dot(g),A=v.dot(_),R=D*w+A*S,D=-D*S+A*w,A=v.dot(x);v.x=R*g.x+D*_.x+A*x.x,v.y=R*g.y+D*_.y+A*x.y,v.z=R*g.z+D*_.z+A*x.z,_.mult(-S),g.mult(w).add(_).mult(b),this.camera(g.x+this.centerX,g.y+this.centerY,g.z+this.centerZ,this.centerX,this.centerY,this.centerZ,v.x,v.y,v.z)}},{key:"_isActive",value:function(){return this===this._renderer._curCamera}}])&&c(u.prototype,p),l}(),a.default.prototype.setCamera=function(l){this._renderer._curCamera=l,this._renderer.uPMatrix.set(l.projMatrix),this._renderer.uViewMatrix.set(l.cameraMatrix)},r=a.default.Camera,o.default=r},{"../core/main":283,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.hypot":176,"core-js/modules/es.string.sub":208}],333:[function(r,s,o){r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.math.log2"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.typed-array.float32-array"),r("core-js/modules/es.typed-array.copy-within"),r("core-js/modules/es.typed-array.every"),r("core-js/modules/es.typed-array.fill"),r("core-js/modules/es.typed-array.filter"),r("core-js/modules/es.typed-array.find"),r("core-js/modules/es.typed-array.find-index"),r("core-js/modules/es.typed-array.for-each"),r("core-js/modules/es.typed-array.includes"),r("core-js/modules/es.typed-array.index-of"),r("core-js/modules/es.typed-array.iterator"),r("core-js/modules/es.typed-array.join"),r("core-js/modules/es.typed-array.last-index-of"),r("core-js/modules/es.typed-array.map"),r("core-js/modules/es.typed-array.reduce"),r("core-js/modules/es.typed-array.reduce-right"),r("core-js/modules/es.typed-array.reverse"),r("core-js/modules/es.typed-array.set"),r("core-js/modules/es.typed-array.slice"),r("core-js/modules/es.typed-array.some"),r("core-js/modules/es.typed-array.sort"),r("core-js/modules/es.typed-array.subarray"),r("core-js/modules/es.typed-array.to-locale-string"),r("core-js/modules/es.typed-array.to-string"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.math.log2"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.typed-array.float32-array"),r("core-js/modules/es.typed-array.copy-within"),r("core-js/modules/es.typed-array.every"),r("core-js/modules/es.typed-array.fill"),r("core-js/modules/es.typed-array.filter"),r("core-js/modules/es.typed-array.find"),r("core-js/modules/es.typed-array.find-index"),r("core-js/modules/es.typed-array.for-each"),r("core-js/modules/es.typed-array.includes"),r("core-js/modules/es.typed-array.index-of"),r("core-js/modules/es.typed-array.iterator"),r("core-js/modules/es.typed-array.join"),r("core-js/modules/es.typed-array.last-index-of"),r("core-js/modules/es.typed-array.map"),r("core-js/modules/es.typed-array.reduce"),r("core-js/modules/es.typed-array.reduce-right"),r("core-js/modules/es.typed-array.reverse"),r("core-js/modules/es.typed-array.set"),r("core-js/modules/es.typed-array.slice"),r("core-js/modules/es.typed-array.some"),r("core-js/modules/es.typed-array.sort"),r("core-js/modules/es.typed-array.subarray"),r("core-js/modules/es.typed-array.to-locale-string"),r("core-js/modules/es.typed-array.to-string"),Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,r=(r=r("../core/main"))&&r.__esModule?r:{default:r};function a(c,l){for(var u=0;u<l.length;u++){var p=l[u];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(c,p.key,p)}}r.default.DataArray=function(){function c(){var p=0<arguments.length&&arguments[0]!==void 0?arguments[0]:128,y=this,d=c;if(!(y instanceof d))throw new TypeError("Cannot call a class as a function");this.length=0,this.data=new Float32Array(p),this.initialLength=p}var l,u;return l=c,(u=[{key:"dataArray",value:function(){return this.subArray(0,this.length)}},{key:"clear",value:function(){this.length=0}},{key:"rescale",value:function(){var p;this.length<this.data.length/2&&(p=1<<Math.ceil(Math.log2(this.length)),(p=new Float32Array(p)).set(this.data.subarray(0,this.length),0),this.data=p)}},{key:"reset",value:function(){this.clear(),this.data=new Float32Array(this.initialLength)}},{key:"push",value:function(){for(var p=arguments.length,y=new Array(p),d=0;d<p;d++)y[d]=arguments[d];this.ensureLength(this.length+y.length),this.data.set(y,this.length),this.length+=y.length}},{key:"slice",value:function(p,y){return this.data.slice(p,Math.min(y,this.length))}},{key:"subArray",value:function(p,y){return this.data.subarray(p,Math.min(y,this.length))}},{key:"ensureLength",value:function(p){for(;this.data.length<p;){var y=new Float32Array(2*this.data.length);y.set(this.data,0),this.data=y}}}])&&a(l.prototype,u),c}(),r=r.default.DataArray,o.default=r},{"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.log2":177,"core-js/modules/es.object.to-string":190,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239}],334:[function(j,s,o){function a(P){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O})(P)}function c(P){return(c=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(O){return a(O)}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":a(O)})(P)}j("core-js/modules/es.symbol"),j("core-js/modules/es.symbol.description"),j("core-js/modules/es.symbol.iterator"),j("core-js/modules/es.array.fill"),j("core-js/modules/es.array.includes"),j("core-js/modules/es.array.iterator"),j("core-js/modules/es.object.get-own-property-descriptor"),j("core-js/modules/es.object.get-prototype-of"),j("core-js/modules/es.object.to-string"),j("core-js/modules/es.reflect.construct"),j("core-js/modules/es.reflect.get"),j("core-js/modules/es.regexp.to-string"),j("core-js/modules/es.string.includes"),j("core-js/modules/es.string.iterator"),j("core-js/modules/es.typed-array.float32-array"),j("core-js/modules/es.typed-array.uint8-array"),j("core-js/modules/es.typed-array.uint8-clamped-array"),j("core-js/modules/es.typed-array.copy-within"),j("core-js/modules/es.typed-array.every"),j("core-js/modules/es.typed-array.fill"),j("core-js/modules/es.typed-array.filter"),j("core-js/modules/es.typed-array.find"),j("core-js/modules/es.typed-array.find-index"),j("core-js/modules/es.typed-array.for-each"),j("core-js/modules/es.typed-array.includes"),j("core-js/modules/es.typed-array.index-of"),j("core-js/modules/es.typed-array.iterator"),j("core-js/modules/es.typed-array.join"),j("core-js/modules/es.typed-array.last-index-of"),j("core-js/modules/es.typed-array.map"),j("core-js/modules/es.typed-array.reduce"),j("core-js/modules/es.typed-array.reduce-right"),j("core-js/modules/es.typed-array.reverse"),j("core-js/modules/es.typed-array.set"),j("core-js/modules/es.typed-array.slice"),j("core-js/modules/es.typed-array.some"),j("core-js/modules/es.typed-array.sort"),j("core-js/modules/es.typed-array.subarray"),j("core-js/modules/es.typed-array.to-locale-string"),j("core-js/modules/es.typed-array.to-string"),j("core-js/modules/es.weak-map"),j("core-js/modules/web.dom-collections.iterator"),j("core-js/modules/es.array.fill"),j("core-js/modules/es.array.includes"),j("core-js/modules/es.array.iterator"),j("core-js/modules/es.object.get-prototype-of"),j("core-js/modules/es.object.to-string"),j("core-js/modules/es.string.includes"),j("core-js/modules/es.typed-array.float32-array"),j("core-js/modules/es.typed-array.uint8-array"),j("core-js/modules/es.typed-array.uint8-clamped-array"),j("core-js/modules/es.typed-array.copy-within"),j("core-js/modules/es.typed-array.every"),j("core-js/modules/es.typed-array.fill"),j("core-js/modules/es.typed-array.filter"),j("core-js/modules/es.typed-array.find"),j("core-js/modules/es.typed-array.find-index"),j("core-js/modules/es.typed-array.for-each"),j("core-js/modules/es.typed-array.includes"),j("core-js/modules/es.typed-array.index-of"),j("core-js/modules/es.typed-array.iterator"),j("core-js/modules/es.typed-array.join"),j("core-js/modules/es.typed-array.last-index-of"),j("core-js/modules/es.typed-array.map"),j("core-js/modules/es.typed-array.reduce"),j("core-js/modules/es.typed-array.reduce-right"),j("core-js/modules/es.typed-array.reverse"),j("core-js/modules/es.typed-array.set"),j("core-js/modules/es.typed-array.slice"),j("core-js/modules/es.typed-array.some"),j("core-js/modules/es.typed-array.sort"),j("core-js/modules/es.typed-array.subarray"),j("core-js/modules/es.typed-array.to-locale-string"),j("core-js/modules/es.typed-array.to-string"),Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var l=(C=j("../core/main"))&&C.__esModule?C:{default:C},u=function(P){if(P&&P.__esModule)return P;if(P===null||c(P)!=="object"&&typeof P!="function")return{default:P};var O=d();if(O&&O.has(P))return O.get(P);var L,N={},q=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(L in P){var W;Object.prototype.hasOwnProperty.call(P,L)&&((W=q?Object.getOwnPropertyDescriptor(P,L):null)&&(W.get||W.set)?Object.defineProperty(N,L,W):N[L]=P[L])}return N.default=P,O&&O.set(P,N),N}(j("../core/constants")),p=j("./p5.Texture"),y=j("./p5.RendererGL");function d(){var P;return typeof WeakMap!="function"?null:(P=new WeakMap,d=function(){return P},P)}function f(P,O){return function(L){if(Array.isArray(L))return L}(P)||function(L,N){if(Symbol.iterator in Object(L)||Object.prototype.toString.call(L)==="[object Arguments]"){var q=[],W=!0,Y=!1,J=void 0;try{for(var te,ee=L[Symbol.iterator]();!(W=(te=ee.next()).done)&&(q.push(te.value),!N||q.length!==N);W=!0);}catch(Q){Y=!0,J=Q}finally{try{W||ee.return==null||ee.return()}finally{if(Y)throw J}}return q}}(P,O)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function b(P,O,L){return O in P?Object.defineProperty(P,O,{value:L,enumerable:!0,configurable:!0,writable:!0}):P[O]=L,P}function g(P,O){if(!(P instanceof O))throw new TypeError("Cannot call a class as a function")}function v(P,O){for(var L=0;L<O.length;L++){var N=O[L];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(P,N.key,N)}}function _(P,O,L){O&&v(P.prototype,O)}function x(P,O,L){return(x=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(Y,q,W){var Y=function(J,te){for(;!Object.prototype.hasOwnProperty.call(J,te)&&(J=R(J))!==null;);return J}(Y,q);if(Y)return(Y=Object.getOwnPropertyDescriptor(Y,q)).get?Y.get.call(W):Y.value})(P,O,L||P)}function w(P,O){return(w=Object.setPrototypeOf||function(L,N){return L.__proto__=N,L})(P,O)}function S(P){return function(){var O,L=R(P),L=(O=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(O=R(this).constructor,Reflect.construct(L,arguments,O)):L.apply(this,arguments),this);if(!O||c(O)!=="object"&&typeof O!="function"){if(L!==void 0)return L;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return O}}function R(P){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(O){return O.__proto__||Object.getPrototypeOf(O)})(P)}var D=function(P){var O=N;if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(P&&P.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),P&&w(O,P);var L=S(N);function N(q){var W;return g(this,N),(W=L.call(this,q.target._renderer)).fbo=q,W.yScale=-1,W}return _(N,[{key:"_computeCameraDefaultSettings",value:function(){x(R(N.prototype),"_computeCameraDefaultSettings",this).call(this),this.defaultAspectRatio=this.fbo.width/this.fbo.height,this.defaultCameraFOV=2*Math.atan(this.fbo.height/2/this.defaultEyeZ)}}]),N}(l.default.Camera),A=(l.default.FramebufferCamera=D,function(){function P(O,L){g(this,P),this.framebuffer=O,this.property=L}return _(P,[{key:"rawTexture",value:function(){return this.framebuffer[this.property]}},{key:"width",get:function(){return this.framebuffer.width*this.framebuffer.density}},{key:"height",get:function(){return this.framebuffer.height*this.framebuffer.density}}]),P}()),C=(l.default.FramebufferTexture=A,function(){function P(O){var L=this,N=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},q=(g(this,P),this.target=O,this.target._renderer.framebuffers.add(this),this._isClipApplied=!1,this.pixels=[],this.format=N.format||u.UNSIGNED_BYTE,this.channels=N.channels||(O._renderer._pInst._glAttributes.alpha?u.RGBA:u.RGB),this.useDepth=N.depth===void 0||N.depth,this.depthFormat=N.depthFormat||u.FLOAT,this.textureFiltering=N.textureFiltering||u.LINEAR,N.antialias===void 0?this.antialiasSamples=O._renderer._pInst._glAttributes.antialias?2:0:typeof N.antialias=="number"?this.antialiasSamples=N.antialias:this.antialiasSamples=N.antialias?2:0,this.antialias=0<this.antialiasSamples,this.antialias&&O.webglVersion!==u.WEBGL2&&(console.warn("Antialiasing is unsupported in a WebGL 1 context"),this.antialias=!1),this.density=N.density||O.pixelDensity(),O._renderer.GL);if(this.gl=q,N.width&&N.height?(W=O._renderer._adjustDimensions(N.width,N.height),this.width=W.adjustedWidth,this.height=W.adjustedHeight,this._autoSized=!1):(N.width===void 0!=(N.height===void 0)&&console.warn("Please supply both width and height for a framebuffer to give it a size. Only one was given, so the framebuffer will match the size of its canvas."),this.width=O.width,this.height=O.height,this._autoSized=!0),this._checkIfFormatsAvailable(),N.stencil&&!this.useDepth&&console.warn("A stencil buffer can only be used if also using depth. Since the framebuffer has no depth buffer, the stencil buffer will be ignored."),this.useStencil=this.useDepth&&(N.stencil===void 0||N.stencil),this.framebuffer=q.createFramebuffer(),!this.framebuffer)throw new Error("Unable to create a framebuffer");if(this.antialias&&(this.aaFramebuffer=q.createFramebuffer(),!this.aaFramebuffer))throw new Error("Unable to create a framebuffer for antialiasing");this._recreateTextures();var W=this.target._renderer._curCamera;this.defaultCamera=this.createCamera(),this.filterCamera=this.createCamera(),this.target._renderer._curCamera=W,this.draw(function(){return L.target.clear()})}return _(P,[{key:"resize",value:function(O,L){this._autoSized=!1;var N=this.target._renderer._adjustDimensions(O,L);O=N.adjustedWidth,L=N.adjustedHeight,this.width=O,this.height=L,this._handleResize()}},{key:"pixelDensity",value:function(O){if(!O)return this.density;this._autoSized=!1,this.density=O,this._handleResize()}},{key:"autoSized",value:function(O){if(O===void 0)return this._autoSized;this._autoSized=O,this._handleResize()}},{key:"_checkIfFormatsAvailable",value:function(){var O=this.gl,O=(this.useDepth&&this.target.webglVersion===u.WEBGL&&!O.getExtension("WEBGL_depth_texture")&&(console.warn("Unable to create depth textures in this environment. Falling back to a framebuffer without depth."),this.useDepth=!1),this.useDepth&&this.target.webglVersion===u.WEBGL&&this.depthFormat===u.FLOAT&&(console.warn("FLOAT depth format is unavailable in WebGL 1. Defaulting to UNSIGNED_INT."),this.depthFormat=u.UNSIGNED_INT),[u.UNSIGNED_BYTE,u.FLOAT,u.HALF_FLOAT].includes(this.format)||(console.warn("Unknown Framebuffer format. Please use UNSIGNED_BYTE, FLOAT, or HALF_FLOAT. Defaulting to UNSIGNED_BYTE."),this.format=u.UNSIGNED_BYTE),this.useDepth&&![u.UNSIGNED_INT,u.FLOAT].includes(this.depthFormat)&&(console.warn("Unknown Framebuffer depth format. Please use UNSIGNED_INT or FLOAT. Defaulting to FLOAT."),this.depthFormat=u.FLOAT),(0,p.checkWebGLCapabilities)(this.target._renderer));O.float||this.format!==u.FLOAT||(console.warn("This environment does not support FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=u.UNSIGNED_BYTE),this.useDepth&&!O.float&&this.depthFormat===u.FLOAT&&(console.warn("This environment does not support FLOAT depth textures. Falling back to UNSIGNED_INT."),this.depthFormat=u.UNSIGNED_INT),O.halfFloat||this.format!==u.HALF_FLOAT||(console.warn("This environment does not support HALF_FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=u.UNSIGNED_BYTE),this.channels===u.RGB&&[u.FLOAT,u.HALF_FLOAT].includes(this.format)&&(console.warn("FLOAT and HALF_FLOAT formats do not work cross-platform with only RGB channels. Falling back to RGBA."),this.channels=u.RGBA)}},{key:"_recreateTextures",value:function(){var O=this.gl,L=(this._updateSize(),O.getParameter(O.TEXTURE_BINDING_2D)),N=O.getParameter(O.FRAMEBUFFER_BINDING),q=O.createTexture();if(!q)throw new Error("Unable to create color texture");O.bindTexture(O.TEXTURE_2D,q);var W=this._glColorFormat();if(O.texImage2D(O.TEXTURE_2D,0,W.internalFormat,this.width*this.density,this.height*this.density,0,W.format,W.type,null),this.colorTexture=q,O.bindFramebuffer(O.FRAMEBUFFER,this.framebuffer),O.framebufferTexture2D(O.FRAMEBUFFER,O.COLOR_ATTACHMENT0,O.TEXTURE_2D,q,0),this.useDepth){var q=O.createTexture();if(!q)throw new Error("Unable to create depth texture");var Y=this._glDepthFormat();O.bindTexture(O.TEXTURE_2D,q),O.texImage2D(O.TEXTURE_2D,0,Y.internalFormat,this.width*this.density,this.height*this.density,0,Y.format,Y.type,null),O.framebufferTexture2D(O.FRAMEBUFFER,this.useStencil?O.DEPTH_STENCIL_ATTACHMENT:O.DEPTH_ATTACHMENT,O.TEXTURE_2D,q,0),this.depthTexture=q}this.antialias&&(this.colorRenderbuffer=O.createRenderbuffer(),O.bindRenderbuffer(O.RENDERBUFFER,this.colorRenderbuffer),O.renderbufferStorageMultisample(O.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,O.getParameter(O.MAX_SAMPLES))),W.internalFormat,this.width*this.density,this.height*this.density),this.useDepth&&(Y=this._glDepthFormat(),this.depthRenderbuffer=O.createRenderbuffer(),O.bindRenderbuffer(O.RENDERBUFFER,this.depthRenderbuffer),O.renderbufferStorageMultisample(O.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,O.getParameter(O.MAX_SAMPLES))),Y.internalFormat,this.width*this.density,this.height*this.density)),O.bindFramebuffer(O.FRAMEBUFFER,this.aaFramebuffer),O.framebufferRenderbuffer(O.FRAMEBUFFER,O.COLOR_ATTACHMENT0,O.RENDERBUFFER,this.colorRenderbuffer),this.useDepth&&O.framebufferRenderbuffer(O.FRAMEBUFFER,this.useStencil?O.DEPTH_STENCIL_ATTACHMENT:O.DEPTH_ATTACHMENT,O.RENDERBUFFER,this.depthRenderbuffer)),this.useDepth&&(this.depth=new A(this,"depthTexture"),q=O.NEAREST,this.depthP5Texture=new l.default.Texture(this.target._renderer,this.depth,{minFilter:q,magFilter:q}),this.target._renderer.textures.set(this.depth,this.depthP5Texture)),this.color=new A(this,"colorTexture"),W=this.textureFiltering===u.LINEAR?O.LINEAR:O.NEAREST,this.colorP5Texture=new l.default.Texture(this.target._renderer,this.color,{minFilter:W,magFilter:W}),this.target._renderer.textures.set(this.color,this.colorP5Texture),O.bindTexture(O.TEXTURE_2D,L),O.bindFramebuffer(O.FRAMEBUFFER,N)}},{key:"_glColorFormat",value:function(){var O,L,N=this.gl,q=this.format===u.FLOAT?N.FLOAT:this.format===u.HALF_FLOAT?this.target.webglVersion===u.WEBGL2?N.HALF_FLOAT:N.getExtension("OES_texture_half_float").HALF_FLOAT_OES:N.UNSIGNED_BYTE,W=this.channels===u.RGBA?N.RGBA:N.RGB;return{internalFormat:this.target.webglVersion===u.WEBGL2?(b(L={},N.FLOAT,b({},N.RGBA,N.RGBA32F)),b(L,N.HALF_FLOAT,b({},N.RGBA,N.RGBA16F)),b(L,N.UNSIGNED_BYTE,(b(O={},N.RGBA,N.RGBA8),b(O,N.RGB,N.RGB8),O)),L[q][W]):this.format===u.HALF_FLOAT?N.RGBA:W,format:W,type:q}}},{key:"_glDepthFormat",value:function(){var N=this.gl,O=this.useStencil?this.depthFormat===u.FLOAT?N.FLOAT_32_UNSIGNED_INT_24_8_REV:this.target.webglVersion===u.WEBGL2?N.UNSIGNED_INT_24_8:N.getExtension("WEBGL_depth_texture").UNSIGNED_INT_24_8_WEBGL:this.depthFormat===u.FLOAT?N.FLOAT:N.UNSIGNED_INT,L=this.useStencil?N.DEPTH_STENCIL:N.DEPTH_COMPONENT,N=this.useStencil?this.depthFormat===u.FLOAT?N.DEPTH32F_STENCIL8:this.target.webglVersion===u.WEBGL2?N.DEPTH24_STENCIL8:N.DEPTH_STENCIL:this.target.webglVersion===u.WEBGL2?this.depthFormat===u.FLOAT?N.DEPTH_COMPONENT32F:N.DEPTH_COMPONENT24:N.DEPTH_COMPONENT;return{internalFormat:N,format:L,type:O}}},{key:"_updateSize",value:function(){this._autoSized&&(this.width=this.target.width,this.height=this.target.height,this.density=this.target.pixelDensity())}},{key:"_canvasSizeChanged",value:function(){this._autoSized&&this._handleResize()}},{key:"_handleResize",value:function(){var q=this.color,O=this.depth,L=this.colorRenderbuffer,N=this.depthRenderbuffer,q=(this._deleteTexture(q),O&&this._deleteTexture(O),this.gl);L&&q.deleteRenderbuffer(L),N&&q.deleteRenderbuffer(N),this._recreateTextures(),this.defaultCamera._resize()}},{key:"createCamera",value:function(){var O=new D(this);return O._computeCameraDefaultSettings(),O._setDefaultCamera(),this.target._renderer._curCamera=O}},{key:"_deleteTexture",value:function(O){this.gl.deleteTexture(O.rawTexture()),this.target._renderer.textures.delete(O)}},{key:"remove",value:function(){var O=this.gl;this._deleteTexture(this.color),this.depth&&this._deleteTexture(this.depth),O.deleteFramebuffer(this.framebuffer),this.aaFramebuffer&&O.deleteFramebuffer(this.aaFramebuffer),this.depthRenderbuffer&&O.deleteRenderbuffer(this.depthRenderbuffer),this.colorRenderbuffer&&O.deleteRenderbuffer(this.colorRenderbuffer),this.target._renderer.framebuffers.delete(this)}},{key:"begin",value:function(){this.prevFramebuffer=this.target._renderer.activeFramebuffer(),this.prevFramebuffer&&this.prevFramebuffer._beforeEnd(),this.target._renderer.activeFramebuffers.push(this),this._beforeBegin(),this.target.push(),this.target.setCamera(this.defaultCamera),this.target.resetMatrix(),this.target._renderer.uViewMatrix.set(this.target._renderer._curCamera.cameraMatrix),this.target._renderer.uModelMatrix.reset(),this.target._renderer._applyStencilTestIfClipping()}},{key:"_framebufferToBind",value:function(){return this.antialias?this.aaFramebuffer:this.framebuffer}},{key:"_beforeBegin",value:function(){var O=this.gl;O.bindFramebuffer(O.FRAMEBUFFER,this._framebufferToBind()),this.target._renderer.viewport(this.width*this.density,this.height*this.density)}},{key:"_beforeEnd",value:function(){if(this.antialias){var O=this.gl,L=(O.bindFramebuffer(O.READ_FRAMEBUFFER,this.aaFramebuffer),O.bindFramebuffer(O.DRAW_FRAMEBUFFER,this.framebuffer),[[O.COLOR_BUFFER_BIT,this.colorP5Texture.glMagFilter]]);this.useDepth&&L.push([O.DEPTH_BUFFER_BIT,this.depthP5Texture.glMagFilter]);for(var N=0,q=L;N<q.length;N++){var Y=f(q[N],2),W=Y[0],Y=Y[1];O.blitFramebuffer(0,0,this.width*this.density,this.height*this.density,0,0,this.width*this.density,this.height*this.density,W,Y)}}}},{key:"end",value:function(){var O=this.gl;if(this.target.pop(),this.target._renderer.activeFramebuffers.pop()!==this)throw new Error("It looks like you've called end() while another Framebuffer is active.");this._beforeEnd(),this.prevFramebuffer?this.prevFramebuffer._beforeBegin():(O.bindFramebuffer(O.FRAMEBUFFER,null),this.target._renderer.viewport(this.target._renderer._origViewport.width,this.target._renderer._origViewport.height)),this.target._renderer._applyStencilTestIfClipping()}},{key:"draw",value:function(O){this.begin(),O(),this.end()}},{key:"loadPixels",value:function(){var O=this.gl,L=this.target._renderer.activeFramebuffer(),N=(O.bindFramebuffer(O.FRAMEBUFFER,this.framebuffer),this._glColorFormat());this.pixels=(0,y.readPixelsWebGL)(this.pixels,O,this.framebuffer,0,0,this.width*this.density,this.height*this.density,N.format,N.type),L?O.bindFramebuffer(O.FRAMEBUFFER,L._framebufferToBind()):O.bindFramebuffer(O.FRAMEBUFFER,null)}},{key:"get",value:function(O,L,N,q){l.default._validateParameters("p5.Framebuffer.get",arguments);var W=this._glColorFormat();if(O===void 0&&L===void 0)L=O=0,N=this.width,q=this.height;else if(N===void 0&&q===void 0)return(O<0||L<0||O>=this.width||L>=this.height)&&(console.warn("The x and y values passed to p5.Framebuffer.get are outside of its range and will be clamped."),O=this.target.constrain(O,0,this.width-1),L=this.target.constrain(L,0,this.height-1)),(0,y.readPixelWebGL)(this.gl,this.framebuffer,O*this.density,L*this.density,W.format,W.type);O=this.target.constrain(O,0,this.width-1),L=this.target.constrain(L,0,this.height-1),N=this.target.constrain(N,1,this.width-O),q=this.target.constrain(q,1,this.height-L);for(var Y=(0,y.readPixelsWebGL)(void 0,this.gl,this.framebuffer,O*this.density,L*this.density,N*this.density,q*this.density,W.format,W.type),J=new Uint8ClampedArray(N*q*this.density*this.density*4),te=(J.fill(255),W.type===this.gl.RGB?3:4),ee=0;ee<q*this.density;ee++)for(var Q=0;Q<N*this.density;Q++)for(var ne=0;ne<4;ne++){var re,I=4*(ee*N*this.density+Q)+ne;ne<te&&(re=te==4?I:(ee*N*this.density+Q)*te+ne,J[I]=Y[re])}return O=new l.default.Image(N*this.density,q*this.density),O.imageData=O.canvas.getContext("2d").createImageData(O.width,O.height),O.imageData.data.set(J),O.pixels=O.imageData.data,O.updatePixels(),this.density!==1&&O.resize(N,q),O}},{key:"updatePixels",value:function(){var O=this.gl,L=(this.colorP5Texture.bindTexture(),this._glColorFormat()),N=L.format===O.RGBA?4:3,N=this.width*this.height*this.density*this.density*N,q=L.type===O.UNSIGNED_BYTE?Uint8Array:Float32Array;if(!(this.pixels instanceof q)||this.pixels.length!==N)throw new Error("The pixels array has not been set correctly. Please call loadPixels() before updatePixels().");O.texImage2D(O.TEXTURE_2D,0,L.internalFormat,this.width*this.density,this.height*this.density,0,L.format,L.type,this.pixels),this.colorP5Texture.unbindTexture(),q=this.target._renderer.activeFramebuffer(),this.antialias?(this.begin(),this.target.push(),this.target.imageMode(this.target.CENTER),this.target.resetMatrix(),this.target.noStroke(),this.target.clear(),this.target.image(this,0,0),this.target.pop(),this.useDepth&&(O.clearDepth(1),O.clear(O.DEPTH_BUFFER_BIT)),this.end()):(O.bindFramebuffer(O.FRAMEBUFFER,this.framebuffer),this.useDepth&&(O.clearDepth(1),O.clear(O.DEPTH_BUFFER_BIT)),q?O.bindFramebuffer(O.FRAMEBUFFER,q._framebufferToBind()):O.bindFramebuffer(O.FRAMEBUFFER,null))}}]),P}()),j=l.default.Framebuffer=C;o.default=j},{"../core/constants":272,"../core/main":283,"./p5.RendererGL":341,"./p5.Texture":343,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.reflect.get":193,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.typed-array.uint8-clamped-array":243,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],335:[function(r,s,o){function a(g){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(g)}function c(g){return(c=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(v){return a(v)}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":a(v)})(g)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.flat"),r("core-js/modules/es.array.for-each"),r("core-js/modules/es.array.from"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.last-index-of"),r("core-js/modules/es.array.map"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.array.unscopables.flat"),r("core-js/modules/es.array-buffer.constructor"),r("core-js/modules/es.map"),r("core-js/modules/es.number.constructor"),r("core-js/modules/es.object.entries"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.set"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.sub"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.for-each"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.flat"),r("core-js/modules/es.array.for-each"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.last-index-of"),r("core-js/modules/es.array.map"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.array.unscopables.flat"),r("core-js/modules/es.array-buffer.constructor"),r("core-js/modules/es.map"),r("core-js/modules/es.number.constructor"),r("core-js/modules/es.object.entries"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.set"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.sub"),r("core-js/modules/web.dom-collections.for-each"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var l=(b=r("../core/main"))&&b.__esModule?b:{default:b},u=function(g){if(g&&g.__esModule)return g;if(g===null||c(g)!=="object"&&typeof g!="function")return{default:g};var v=p();if(v&&v.has(g))return v.get(g);var _,x={},w=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(_ in g){var S;Object.prototype.hasOwnProperty.call(g,_)&&((S=w?Object.getOwnPropertyDescriptor(g,_):null)&&(S.get||S.set)?Object.defineProperty(x,_,S):x[_]=g[_])}return x.default=g,v&&v.set(g,x),x}(r("../core/constants"));function p(){var g;return typeof WeakMap!="function"?null:(g=new WeakMap,p=function(){return g},g)}function y(g){return function(v){if(Array.isArray(v)){for(var _=0,x=new Array(v.length);_<v.length;_++)x[_]=v[_];return x}}(g)||function(v){if(Symbol.iterator in Object(v)||Object.prototype.toString.call(v)==="[object Arguments]")return Array.from(v)}(g)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function d(g,v){return function(_){if(Array.isArray(_))return _}(g)||function(_,x){if(Symbol.iterator in Object(_)||Object.prototype.toString.call(_)==="[object Arguments]"){var w=[],S=!0,R=!1,D=void 0;try{for(var A,C=_[Symbol.iterator]();!(S=(A=C.next()).done)&&(w.push(A.value),!x||w.length!==x);S=!0);}catch(j){R=!0,D=j}finally{try{S||C.return==null||C.return()}finally{if(R)throw D}}return w}}(g,v)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function f(g,v){for(var _=0;_<v.length;_++){var x=v[_];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}l.default.Geometry=function(){function g(x,w,S){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");this.vertices=[],this.boundingBoxCache=null,this.lineVertices=new l.default.DataArray,this.lineTangentsIn=new l.default.DataArray,this.lineTangentsOut=new l.default.DataArray,this.lineSides=new l.default.DataArray,this.vertexNormals=[],this.faces=[],this.uvs=[],this.edges=[],this.vertexColors=[],this.vertexStrokeColors=[],this.lineVertexColors=new l.default.DataArray,this.detailX=x!==void 0?x:1,this.detailY=w!==void 0?w:1,this.dirtyFlags={},this._hasFillTransparency=void 0,this._hasStrokeTransparency=void 0,S instanceof Function&&S.call(this)}var v,_;return v=g,(_=[{key:"calculateBoundingBox",value:function(){if(!this.boundingBoxCache){for(var x=new l.default.Vector(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),w=new l.default.Vector(Number.MIN_VALUE,Number.MIN_VALUE,Number.MIN_VALUE),S=0;S<this.vertices.length;S++){var R=this.vertices[S];x.x=Math.min(x.x,R.x),x.y=Math.min(x.y,R.y),x.z=Math.min(x.z,R.z),w.x=Math.max(w.x,R.x),w.y=Math.max(w.y,R.y),w.z=Math.max(w.z,R.z)}var D=new l.default.Vector(w.x-x.x,w.y-x.y,w.z-x.z),A=new l.default.Vector((x.x+w.x)/2,(x.y+w.y)/2,(x.z+w.z)/2);this.boundingBoxCache={min:x,max:w,size:D,offset:A}}return this.boundingBoxCache}},{key:"reset",value:function(){this._hasFillTransparency=void 0,this._hasStrokeTransparency=void 0,this.lineVertices.clear(),this.lineTangentsIn.clear(),this.lineTangentsOut.clear(),this.lineSides.clear(),this.vertices.length=0,this.edges.length=0,this.vertexColors.length=0,this.vertexStrokeColors.length=0,this.lineVertexColors.clear(),this.vertexNormals.length=0,this.uvs.length=0,this.dirtyFlags={}}},{key:"hasFillTransparency",value:function(){if(this._hasFillTransparency===void 0){this._hasFillTransparency=!1;for(var x=0;x<this.vertexColors.length;x+=4)if(this.vertexColors[x+3]<1){this._hasFillTransparency=!0;break}}return this._hasFillTransparency}},{key:"hasStrokeTransparency",value:function(){if(this._hasStrokeTransparency===void 0){this._hasStrokeTransparency=!1;for(var x=0;x<this.lineVertexColors.length;x+=4)if(this.lineVertexColors[x+3]<1){this._hasStrokeTransparency=!0;break}}return this._hasStrokeTransparency}},{key:"clearColors",value:function(){return this.vertexColors=[],this}},{key:"saveObj",value:function(){var x=this,w=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"model.obj",S="";if(this.vertices.forEach(function(A){S+="v ".concat(A.x," ").concat(A.y," ").concat(A.z,`
`)}),this.uvs&&0<this.uvs.length)for(var R=0;R<this.uvs.length;R+=2)S+="vt ".concat(this.uvs[R]," ").concat(this.uvs[R+1],`
`);this.vertexNormals&&0<this.vertexNormals.length&&this.vertexNormals.forEach(function(A){S+="vn ".concat(A.x," ").concat(A.y," ").concat(A.z,`
`)}),this.faces.forEach(function(A){var C="f";A.forEach(function(j){C=C+" "+(j+1),(0<x.vertexNormals.length||0<x.uvs.length)&&(C+="/",0<x.uvs.length&&(C+=j+1),C+="/",0<x.vertexNormals.length&&(C+=j+1))}),S+=C+`
`});var D=new Blob([S],{type:"text/plain"});l.default.prototype.downloadFile(D,w,"obj")}},{key:"saveStl",value:function(){var x=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"model.stl",w=(1<arguments.length&&arguments[1]!==void 0?arguments[1]:{}).binary,w=w!==void 0&&w,S=x.substring(0,x.lastIndexOf(".")),R=[],D=!0,A=!1,C=void 0;try{for(var j,P=this.faces[Symbol.iterator]();!(D=(j=P.next()).done);D=!0){var O=j.value,L=l.default.Vector.sub(this.vertices[O[1]],this.vertices[O[0]]),N=l.default.Vector.sub(this.vertices[O[2]],this.vertices[O[0]]),q=L.y*N.z-L.z*N.y,W=L.z*N.x-L.x*N.z,Y=L.x*N.y-L.y*N.x;R.push(new l.default.Vector(q,W,Y).normalize())}}catch(Ve){A=!0,C=Ve}finally{try{D||P.return==null||P.return()}finally{if(A)throw C}}if(w){var J,te=80,A=2*this.faces.length+3*this.faces.length*4*4+80+4,C=new ArrayBuffer(A);(J=new DataView(C)).setUint32(te,this.faces.length,!0),te+=4;for(var ee=0,Q=Object.entries(this.faces);ee<Q.length;ee++){var ne=d(Q[ee],2),I=ne[0],ne=ne[1],I=R[I],re=(J.setFloat32(te,I.x,!0),te+=4,J.setFloat32(te,I.y,!0),te+=4,J.setFloat32(te,I.z,!0),te+=4,!0),I=!1,U=void 0;try{for(var H,X=ne[Symbol.iterator]();!(re=(H=X.next()).done);re=!0){var ae=H.value,le=this.vertices[ae];J.setFloat32(te,le.x,!0),te+=4,J.setFloat32(te,le.y,!0),te+=4,J.setFloat32(te,le.z,!0),te+=4}}catch(ht){I=!0,U=ht}finally{try{re||X.return==null||X.return()}finally{if(I)throw U}}J.setUint16(te,0,!0),te+=2}}else{J="solid "+S+`
`;for(var he=0,ye=Object.entries(this.faces);he<ye.length;he++){var me=d(ye[he],2),Se=me[0],me=me[1],Se=R[Se],xe=(J=J+(" facet norm "+Se.x+" "+Se.y+" "+Se.z+`
`)+`  outer loop
`,!0),Se=!1,pe=void 0;try{for(var Te,ke=me[Symbol.iterator]();!(xe=(Te=ke.next()).done);xe=!0){var Me=Te.value,Ne=this.vertices[Me];J+="   vertex "+Ne.x+" "+Ne.y+" "+Ne.z+`
`}}catch(Ve){Se=!0,pe=Ve}finally{try{xe||ke.return==null||ke.return()}finally{if(Se)throw pe}}J=J+`  endloop
 endfacet
`}J+="endsolid "+S+`
`}w=new Blob([J],{type:"text/plain"}),l.default.prototype.downloadFile(w,x,"stl")}},{key:"flipU",value:function(){this.uvs=this.uvs.flat().map(function(x,w){return w%2==0?1-x:x})}},{key:"flipV",value:function(){this.uvs=this.uvs.flat().map(function(x,w){return w%2==0?x:1-x})}},{key:"computeFaces",value:function(){this.faces.length=0;for(var x,w,S,R=this.detailX+1,D=0;D<this.detailY;D++)for(var A=0;A<this.detailX;A++)w=(D+1)*R+A+1,this.faces.push([D*R+A,x=D*R+A+1,S=(D+1)*R+A]),this.faces.push([S,x,w]);return this}},{key:"_getFaceNormal",value:function(w){var w=this.faces[w],S=this.vertices[w[0]],D=this.vertices[w[1]],w=this.vertices[w[2]],D=l.default.Vector.sub(D,S),w=l.default.Vector.sub(w,S),S=l.default.Vector.cross(D,w),R=l.default.Vector.mag(S),D=R/(l.default.Vector.mag(D)*l.default.Vector.mag(w));return D===0||isNaN(D)?(console.warn("p5.Geometry.prototype._getFaceNormal:","face has colinear sides or a repeated vertex"),S):(1<D&&(D=1),S.mult(Math.asin(D)/R))}},{key:"computeNormals",value:function(){var x,w=this,S=0<arguments.length&&arguments[0]!==void 0?arguments[0]:u.FLAT,R=(1<arguments.length&&arguments[1]!==void 0?arguments[1]:{}).roundToPrecision,D=this.vertexNormals,A=this.vertices,C=this.faces;if(S===u.SMOOTH){for(var j={},P=[],O=Math.pow(10,R===void 0?3:R),L=function(J){return Math.round(J*O)/O},N=function(J){return"".concat(L(J.x),",").concat(L(J.y),",").concat(L(J.z))},q=0;q<A.length;q++){var W=A[q],Y=N(W);j[Y]===void 0&&(j[Y]=P.length,P.push(W))}C.forEach(function(J){for(var te=0;te<3;++te){var ee=J[te],ee=A[ee],ee=N(ee);J[te]=j[ee]}}),this.edges.forEach(function(J){for(var te=0;te<2;++te){var ee=J[te],ee=A[ee],ee=N(ee);J[te]=j[ee]}}),this.vertices=A=P}for(x=D.length=0;x<A.length;++x)D.push(new l.default.Vector);for(C.forEach(function(J,te){for(var ee=w._getFaceNormal(te),Q=0;Q<3;++Q){var ne=J[Q];D[ne].add(ee)}}),x=0;x<A.length;++x)D[x].normalize();return this}},{key:"averageNormals",value:function(){for(var x=0;x<=this.detailY;x++){var w=this.detailX+1,S=l.default.Vector.add(this.vertexNormals[x*w],this.vertexNormals[x*w+this.detailX]),S=l.default.Vector.div(S,2);this.vertexNormals[x*w]=S,this.vertexNormals[x*w+this.detailX]=S}return this}},{key:"averagePoleNormals",value:function(){for(var x=new l.default.Vector(0,0,0),w=0;w<this.detailX;w++)x.add(this.vertexNormals[w]);for(var x=l.default.Vector.div(x,this.detailX),S=0;S<this.detailX;S++)this.vertexNormals[S]=x;x=new l.default.Vector(0,0,0);for(var R=this.vertices.length-1;R>this.vertices.length-1-this.detailX;R--)x.add(this.vertexNormals[R]);x=l.default.Vector.div(x,this.detailX);for(var D=this.vertices.length-1;D>this.vertices.length-1-this.detailX;D--)this.vertexNormals[D]=x;return this}},{key:"_makeTriangleEdges",value:function(){for(var x=this.edges.length=0;x<this.faces.length;x++)this.edges.push([this.faces[x][0],this.faces[x][1]]),this.edges.push([this.faces[x][1],this.faces[x][2]]),this.edges.push([this.faces[x][2],this.faces[x][0]]);return this}},{key:"_edgesToVertices",value:function(){this.lineVertices.clear(),this.lineTangentsIn.clear(),this.lineTangentsOut.clear(),this.lineSides.clear();for(var x,w=new Map,S=new Set,R=0;R<this.edges.length;R++){var D,A=this.edges[R-1],C=this.edges[R],j=this.vertices[C[0]],P=this.vertices[C[1]],O=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*C[0],4*(C[0]+1)):[0,0,0,0],L=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*C[1],4*(C[1]+1)):[0,0,0,0],N=P.copy().sub(j).normalize(),q=0<N.magSq();q&&this._addSegment(j,P,O,L,N),0<R&&A[1]===C[0]?S.has(C[0])||(S.add(C[0]),w.delete(C[0]),x&&q&&N.dot(x)<1-1e-8&&this._addJoin(j,x,N,O)):(q&&!S.has(C[0])&&((D=w.get(C[0]))?(this._addJoin(j,D.dir,N,O),w.delete(C[0]),S.add(C[0])):w.set(C[0],{point:j,dir:N.copy().mult(-1),color:O})),x&&!S.has(A[1])&&((D=w.get(A[1]))?(this._addJoin(this.vertices[A[1]],x,D.dir.copy().mult(-1),O),w.delete(A[1]),S.add(A[1])):w.set(A[1],{point:this.vertices[A[1]],dir:x,color:O}),x=void 0)),R!==this.edges.length-1||S.has(C[1])||((j=w.get(C[1]))?(this._addJoin(P,N,j.dir.copy().mult(-1),L),w.delete(C[1]),S.add(C[1])):w.set(C[1],{point:P,dir:N,color:L})),q&&(x=N)}var W=!0,Y=!1,J=void 0;try{for(var te,ee=w.values()[Symbol.iterator]();!(W=(te=ee.next()).done);W=!0){var Q=te.value,ne=Q.point,re=Q.dir,I=Q.color;this._addCap(ne,re,I)}}catch(U){Y=!0,J=U}finally{try{W||ee.return==null||ee.return()}finally{if(Y)throw J}}return this}},{key:"_addSegment",value:function(A,C,S,R,D){var A=A.array(),C=C.array(),j=D.array();this.lineSides.push(1,1,-1,1,-1,-1);for(var P=0,O=[this.lineTangentsIn,this.lineTangentsOut];P<O.length;P++)for(var L=O[P],N=0;N<6;N++)L.push.apply(L,y(j));return(D=this.lineVertices).push.apply(D,y(A).concat(y(C),y(A),y(C),y(C),y(A))),(D=this.lineVertexColors).push.apply(D,y(S).concat(y(R),y(S),y(R),y(R),y(S))),this}},{key:"_addCap",value:function(x,w,S){for(var R,D=x.array(),A=w.array(),C=[0,0,0],j=0;j<6;j++)(R=this.lineVertices).push.apply(R,y(D)),(R=this.lineTangentsIn).push.apply(R,y(A)),(R=this.lineTangentsOut).push.apply(R,C),(R=this.lineVertexColors).push.apply(R,y(S));return this.lineSides.push(-1,2,-2,1,2,-1),this}},{key:"_addJoin",value:function(x,w,S,R){for(var D,A=x.array(),C=w.array(),j=S.array(),P=0;P<12;P++)(D=this.lineVertices).push.apply(D,y(A)),(D=this.lineTangentsIn).push.apply(D,y(C)),(D=this.lineTangentsOut).push.apply(D,y(j)),(D=this.lineVertexColors).push.apply(D,y(R));return this.lineSides.push(-1,-3,-2,-1,0,-3),this.lineSides.push(3,1,2,3,0,1),this}},{key:"normalize",value:function(){if(0<this.vertices.length){for(var x=this.vertices[0].copy(),w=this.vertices[0].copy(),S=0;S<this.vertices.length;S++)x.x=Math.max(x.x,this.vertices[S].x),w.x=Math.min(w.x,this.vertices[S].x),x.y=Math.max(x.y,this.vertices[S].y),w.y=Math.min(w.y,this.vertices[S].y),x.z=Math.max(x.z,this.vertices[S].z),w.z=Math.min(w.z,this.vertices[S].z);for(var R=l.default.Vector.lerp(x,w,.5),D=l.default.Vector.sub(x,w),A=200/Math.max(Math.max(D.x,D.y),D.z),C=0;C<this.vertices.length;C++)this.vertices[C].sub(R),this.vertices[C].mult(A)}return this}}])&&f(v.prototype,_),g}();var b=l.default.Geometry;o.default=b},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array-buffer.constructor":152,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.flat":160,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.unscopables.flat":173,"core-js/modules/es.map":175,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.entries":184,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.sub":208,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],336:[function(p,s,o){p("core-js/modules/es.array.iterator"),p("core-js/modules/es.object.to-string"),p("core-js/modules/es.typed-array.float32-array"),p("core-js/modules/es.typed-array.copy-within"),p("core-js/modules/es.typed-array.every"),p("core-js/modules/es.typed-array.fill"),p("core-js/modules/es.typed-array.filter"),p("core-js/modules/es.typed-array.find"),p("core-js/modules/es.typed-array.find-index"),p("core-js/modules/es.typed-array.for-each"),p("core-js/modules/es.typed-array.includes"),p("core-js/modules/es.typed-array.index-of"),p("core-js/modules/es.typed-array.iterator"),p("core-js/modules/es.typed-array.join"),p("core-js/modules/es.typed-array.last-index-of"),p("core-js/modules/es.typed-array.map"),p("core-js/modules/es.typed-array.reduce"),p("core-js/modules/es.typed-array.reduce-right"),p("core-js/modules/es.typed-array.reverse"),p("core-js/modules/es.typed-array.set"),p("core-js/modules/es.typed-array.slice"),p("core-js/modules/es.typed-array.some"),p("core-js/modules/es.typed-array.sort"),p("core-js/modules/es.typed-array.subarray"),p("core-js/modules/es.typed-array.to-locale-string"),p("core-js/modules/es.typed-array.to-string"),p("core-js/modules/es.array.iterator"),p("core-js/modules/es.object.to-string"),p("core-js/modules/es.typed-array.float32-array"),p("core-js/modules/es.typed-array.copy-within"),p("core-js/modules/es.typed-array.every"),p("core-js/modules/es.typed-array.fill"),p("core-js/modules/es.typed-array.filter"),p("core-js/modules/es.typed-array.find"),p("core-js/modules/es.typed-array.find-index"),p("core-js/modules/es.typed-array.for-each"),p("core-js/modules/es.typed-array.includes"),p("core-js/modules/es.typed-array.index-of"),p("core-js/modules/es.typed-array.iterator"),p("core-js/modules/es.typed-array.join"),p("core-js/modules/es.typed-array.last-index-of"),p("core-js/modules/es.typed-array.map"),p("core-js/modules/es.typed-array.reduce"),p("core-js/modules/es.typed-array.reduce-right"),p("core-js/modules/es.typed-array.reverse"),p("core-js/modules/es.typed-array.set"),p("core-js/modules/es.typed-array.slice"),p("core-js/modules/es.typed-array.some"),p("core-js/modules/es.typed-array.sort"),p("core-js/modules/es.typed-array.subarray"),p("core-js/modules/es.typed-array.to-locale-string"),p("core-js/modules/es.typed-array.to-string"),Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var a=(p=p("../core/main"))&&p.__esModule?p:{default:p};function c(y,d){for(var f=0;f<d.length;f++){var b=d[f];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(y,b.key,b)}}var l=Array,u=function(y){return Array.isArray(y)},p=(typeof Float32Array<"u"&&(l=Float32Array,u=function(y){return Array.isArray(y)||y instanceof Float32Array}),a.default.Matrix=function(){function y(){var g=this,v=y;if(g instanceof v)return arguments.length&&((g=arguments.length-1)<0||arguments.length<=g?void 0:arguments[g])instanceof a.default&&(this.p5=(v=arguments.length-1)<0||arguments.length<=v?void 0:arguments[v]),(arguments.length<=0?void 0:arguments[0])==="mat3"?this.mat3=Array.isArray(arguments.length<=1?void 0:arguments[1])?arguments.length<=1?void 0:arguments[1]:new l([1,0,0,0,1,0,0,0,1]):this.mat4=Array.isArray(arguments.length<=0?void 0:arguments[0])?arguments.length<=0?void 0:arguments[0]:new l([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this;throw new TypeError("Cannot call a class as a function")}var d,f,b;return d=y,b=[{key:"identity",value:function(g){return new a.default.Matrix(g)}}],(f=[{key:"reset",value:function(){return this.mat3?this.mat3.set([1,0,0,0,1,0,0,0,1]):this.mat4&&this.mat4.set([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this}},{key:"set",value:function(g){var v=arguments;if(g instanceof a.default.Matrix?v=g.mat4:u(g)&&(v=g),v.length!==16)a.default._friendlyError("Expected 16 values but received ".concat(v.length,"."),"p5.Matrix.set");else for(var _=0;_<16;_++)this.mat4[_]=v[_];return this}},{key:"get",value:function(){return new a.default.Matrix(this.mat4,this.p5)}},{key:"copy",value:function(){var g;return this.mat3!==void 0?((g=new a.default.Matrix("mat3",this.p5)).mat3[0]=this.mat3[0],g.mat3[1]=this.mat3[1],g.mat3[2]=this.mat3[2],g.mat3[3]=this.mat3[3],g.mat3[4]=this.mat3[4],g.mat3[5]=this.mat3[5],g.mat3[6]=this.mat3[6],g.mat3[7]=this.mat3[7],g.mat3[8]=this.mat3[8]):((g=new a.default.Matrix(this.p5)).mat4[0]=this.mat4[0],g.mat4[1]=this.mat4[1],g.mat4[2]=this.mat4[2],g.mat4[3]=this.mat4[3],g.mat4[4]=this.mat4[4],g.mat4[5]=this.mat4[5],g.mat4[6]=this.mat4[6],g.mat4[7]=this.mat4[7],g.mat4[8]=this.mat4[8],g.mat4[9]=this.mat4[9],g.mat4[10]=this.mat4[10],g.mat4[11]=this.mat4[11],g.mat4[12]=this.mat4[12],g.mat4[13]=this.mat4[13],g.mat4[14]=this.mat4[14],g.mat4[15]=this.mat4[15]),g}},{key:"transpose",value:function(g){var v,_,x,w,S,R;return g instanceof a.default.Matrix?(v=g.mat4[1],_=g.mat4[2],x=g.mat4[3],w=g.mat4[6],S=g.mat4[7],R=g.mat4[11],this.mat4[0]=g.mat4[0],this.mat4[1]=g.mat4[4],this.mat4[2]=g.mat4[8],this.mat4[3]=g.mat4[12],this.mat4[4]=v,this.mat4[5]=g.mat4[5],this.mat4[6]=g.mat4[9],this.mat4[7]=g.mat4[13],this.mat4[8]=_,this.mat4[9]=w,this.mat4[10]=g.mat4[10],this.mat4[11]=g.mat4[14],this.mat4[12]=x,this.mat4[13]=S,this.mat4[14]=R,this.mat4[15]=g.mat4[15]):u(g)&&(v=g[1],_=g[2],x=g[3],w=g[6],S=g[7],R=g[11],this.mat4[0]=g[0],this.mat4[1]=g[4],this.mat4[2]=g[8],this.mat4[3]=g[12],this.mat4[4]=v,this.mat4[5]=g[5],this.mat4[6]=g[9],this.mat4[7]=g[13],this.mat4[8]=_,this.mat4[9]=w,this.mat4[10]=g[10],this.mat4[11]=g[14],this.mat4[12]=x,this.mat4[13]=S,this.mat4[14]=R,this.mat4[15]=g[15]),this}},{key:"invert",value:function(Y){Y instanceof a.default.Matrix?(v=Y.mat4[0],_=Y.mat4[1],x=Y.mat4[2],w=Y.mat4[3],S=Y.mat4[4],R=Y.mat4[5],D=Y.mat4[6],A=Y.mat4[7],C=Y.mat4[8],j=Y.mat4[9],P=Y.mat4[10],O=Y.mat4[11],L=Y.mat4[12],N=Y.mat4[13],q=Y.mat4[14],W=Y.mat4[15]):u(Y)&&(v=Y[0],_=Y[1],x=Y[2],w=Y[3],S=Y[4],R=Y[5],D=Y[6],A=Y[7],C=Y[8],j=Y[9],P=Y[10],O=Y[11],L=Y[12],N=Y[13],q=Y[14],W=Y[15]);var v,_,x,w,S,R,D,A,C,j,P,O,L,N,q,W,Y=v*R-_*S,J=v*D-x*S,te=v*A-w*S,ee=_*D-x*R,Q=_*A-w*R,ne=x*A-w*D,re=C*N-j*L,I=C*q-P*L,U=C*W-O*L,H=j*q-P*N,X=j*W-O*N,ae=P*W-O*q,le=Y*ae-J*X+te*H+ee*U-Q*I+ne*re;return le?(this.mat4[0]=(R*ae-D*X+A*H)*(le=1/le),this.mat4[1]=(x*X-_*ae-w*H)*le,this.mat4[2]=(N*ne-q*Q+W*ee)*le,this.mat4[3]=(P*Q-j*ne-O*ee)*le,this.mat4[4]=(D*U-S*ae-A*I)*le,this.mat4[5]=(v*ae-x*U+w*I)*le,this.mat4[6]=(q*te-L*ne-W*J)*le,this.mat4[7]=(C*ne-P*te+O*J)*le,this.mat4[8]=(S*X-R*U+A*re)*le,this.mat4[9]=(_*U-v*X-w*re)*le,this.mat4[10]=(L*Q-N*te+W*Y)*le,this.mat4[11]=(j*te-C*Q-O*Y)*le,this.mat4[12]=(R*I-S*H-D*re)*le,this.mat4[13]=(v*H-_*I+x*re)*le,this.mat4[14]=(N*J-L*ee-q*Y)*le,this.mat4[15]=(C*ee-j*J+P*Y)*le,this):null}},{key:"invert3x3",value:function(){var g=this.mat3[0],v=this.mat3[1],_=this.mat3[2],x=this.mat3[3],w=this.mat3[4],S=this.mat3[5],R=this.mat3[6],D=this.mat3[7],A=this.mat3[8],C=A*w-S*D,j=-A*x+S*R,P=D*x-w*R,O=g*C+v*j+_*P;return O?(this.mat3[0]=C*(O=1/O),this.mat3[1]=(-A*v+_*D)*O,this.mat3[2]=(S*v-_*w)*O,this.mat3[3]=j*O,this.mat3[4]=(A*g-_*R)*O,this.mat3[5]=(-S*g+_*x)*O,this.mat3[6]=P*O,this.mat3[7]=(-D*g+v*R)*O,this.mat3[8]=(w*g-v*x)*O,this):null}},{key:"transpose3x3",value:function(g){var v=(g=g===void 0?this.mat3:g)[1],_=g[2],x=g[5];return this.mat3[0]=g[0],this.mat3[1]=g[3],this.mat3[2]=g[6],this.mat3[3]=v,this.mat3[4]=g[4],this.mat3[5]=g[7],this.mat3[6]=_,this.mat3[7]=x,this.mat3[8]=g[8],this}},{key:"inverseTranspose",value:function(g){if(g=g.mat4,this.mat3===void 0?a.default._friendlyError("sorry, this function only works with mat3"):(this.mat3[0]=g[0],this.mat3[1]=g[1],this.mat3[2]=g[2],this.mat3[3]=g[4],this.mat3[4]=g[5],this.mat3[5]=g[6],this.mat3[6]=g[8],this.mat3[7]=g[9],this.mat3[8]=g[10]),g=this.invert3x3(),g)g.transpose3x3(this.mat3);else for(var v=0;v<9;v++)this.mat3[v]=0;return this}},{key:"determinant",value:function(){var g=this.mat4[0]*this.mat4[5]-this.mat4[1]*this.mat4[4],v=this.mat4[0]*this.mat4[6]-this.mat4[2]*this.mat4[4],_=this.mat4[0]*this.mat4[7]-this.mat4[3]*this.mat4[4],x=this.mat4[1]*this.mat4[6]-this.mat4[2]*this.mat4[5],w=this.mat4[1]*this.mat4[7]-this.mat4[3]*this.mat4[5],S=this.mat4[2]*this.mat4[7]-this.mat4[3]*this.mat4[6],R=this.mat4[8]*this.mat4[13]-this.mat4[9]*this.mat4[12],D=this.mat4[8]*this.mat4[14]-this.mat4[10]*this.mat4[12],A=this.mat4[8]*this.mat4[15]-this.mat4[11]*this.mat4[12],C=this.mat4[9]*this.mat4[14]-this.mat4[10]*this.mat4[13],j=this.mat4[9]*this.mat4[15]-this.mat4[11]*this.mat4[13];return g*(this.mat4[10]*this.mat4[15]-this.mat4[11]*this.mat4[14])-v*j+_*C+x*A-w*D+S*R}},{key:"mult",value:function(_){var v;if(_===this||_===this.mat4)v=this.copy().mat4;else if(_ instanceof a.default.Matrix)v=_.mat4;else if(u(_))v=_;else{if(arguments.length!==16)return;v=arguments}var _=this.mat4[0],x=this.mat4[1],w=this.mat4[2],S=this.mat4[3];return this.mat4[0]=_*v[0]+x*v[4]+w*v[8]+S*v[12],this.mat4[1]=_*v[1]+x*v[5]+w*v[9]+S*v[13],this.mat4[2]=_*v[2]+x*v[6]+w*v[10]+S*v[14],this.mat4[3]=_*v[3]+x*v[7]+w*v[11]+S*v[15],_=this.mat4[4],x=this.mat4[5],w=this.mat4[6],S=this.mat4[7],this.mat4[4]=_*v[0]+x*v[4]+w*v[8]+S*v[12],this.mat4[5]=_*v[1]+x*v[5]+w*v[9]+S*v[13],this.mat4[6]=_*v[2]+x*v[6]+w*v[10]+S*v[14],this.mat4[7]=_*v[3]+x*v[7]+w*v[11]+S*v[15],_=this.mat4[8],x=this.mat4[9],w=this.mat4[10],S=this.mat4[11],this.mat4[8]=_*v[0]+x*v[4]+w*v[8]+S*v[12],this.mat4[9]=_*v[1]+x*v[5]+w*v[9]+S*v[13],this.mat4[10]=_*v[2]+x*v[6]+w*v[10]+S*v[14],this.mat4[11]=_*v[3]+x*v[7]+w*v[11]+S*v[15],_=this.mat4[12],x=this.mat4[13],w=this.mat4[14],S=this.mat4[15],this.mat4[12]=_*v[0]+x*v[4]+w*v[8]+S*v[12],this.mat4[13]=_*v[1]+x*v[5]+w*v[9]+S*v[13],this.mat4[14]=_*v[2]+x*v[6]+w*v[10]+S*v[14],this.mat4[15]=_*v[3]+x*v[7]+w*v[11]+S*v[15],this}},{key:"apply",value:function(_){var v;if(_===this||_===this.mat4)v=this.copy().mat4;else if(_ instanceof a.default.Matrix)v=_.mat4;else if(u(_))v=_;else{if(arguments.length!==16)return;v=arguments}var _=this.mat4,x=_[0],w=_[4],S=_[8],R=_[12],x=(_[0]=v[0]*x+v[1]*w+v[2]*S+v[3]*R,_[4]=v[4]*x+v[5]*w+v[6]*S+v[7]*R,_[8]=v[8]*x+v[9]*w+v[10]*S+v[11]*R,_[12]=v[12]*x+v[13]*w+v[14]*S+v[15]*R,_[1]),w=_[5],S=_[9],R=_[13],x=(_[1]=v[0]*x+v[1]*w+v[2]*S+v[3]*R,_[5]=v[4]*x+v[5]*w+v[6]*S+v[7]*R,_[9]=v[8]*x+v[9]*w+v[10]*S+v[11]*R,_[13]=v[12]*x+v[13]*w+v[14]*S+v[15]*R,_[2]),w=_[6],S=_[10],R=_[14],x=(_[2]=v[0]*x+v[1]*w+v[2]*S+v[3]*R,_[6]=v[4]*x+v[5]*w+v[6]*S+v[7]*R,_[10]=v[8]*x+v[9]*w+v[10]*S+v[11]*R,_[14]=v[12]*x+v[13]*w+v[14]*S+v[15]*R,_[3]),w=_[7],S=_[11],R=_[15];return _[3]=v[0]*x+v[1]*w+v[2]*S+v[3]*R,_[7]=v[4]*x+v[5]*w+v[6]*S+v[7]*R,_[11]=v[8]*x+v[9]*w+v[10]*S+v[11]*R,_[15]=v[12]*x+v[13]*w+v[14]*S+v[15]*R,this}},{key:"scale",value:function(g,v,_){return g instanceof a.default.Vector?(v=g.y,_=g.z,g=g.x):g instanceof Array&&(v=g[1],_=g[2],g=g[0]),this.mat4[0]*=g,this.mat4[1]*=g,this.mat4[2]*=g,this.mat4[3]*=g,this.mat4[4]*=v,this.mat4[5]*=v,this.mat4[6]*=v,this.mat4[7]*=v,this.mat4[8]*=_,this.mat4[9]*=_,this.mat4[10]*=_,this.mat4[11]*=_,this}},{key:"rotate",value:function(Y,X,H,x){X instanceof a.default.Vector?(H=X.y,x=X.z,X=X.x):X instanceof Array&&(H=X[1],x=X[2],X=X[0]);var w=Math.sqrt(X*X+H*H+x*x),w=(X*=1/w,H*=1/w,x*=1/w,this.mat4[0]),S=this.mat4[1],R=this.mat4[2],D=this.mat4[3],A=this.mat4[4],C=this.mat4[5],j=this.mat4[6],P=this.mat4[7],O=this.mat4[8],L=this.mat4[9],N=this.mat4[10],q=this.mat4[11],W=Math.sin(Y),Y=Math.cos(Y),J=1-Y,te=X*X*J+Y,ee=H*X*J+x*W,Q=x*X*J-H*W,ne=X*H*J-x*W,re=H*H*J+Y,I=x*H*J+X*W,U=X*x*J+H*W,H=H*x*J-X*W,X=x*x*J+Y;return this.mat4[0]=w*te+A*ee+O*Q,this.mat4[1]=S*te+C*ee+L*Q,this.mat4[2]=R*te+j*ee+N*Q,this.mat4[3]=D*te+P*ee+q*Q,this.mat4[4]=w*ne+A*re+O*I,this.mat4[5]=S*ne+C*re+L*I,this.mat4[6]=R*ne+j*re+N*I,this.mat4[7]=D*ne+P*re+q*I,this.mat4[8]=w*U+A*H+O*X,this.mat4[9]=S*U+C*H+L*X,this.mat4[10]=R*U+j*H+N*X,this.mat4[11]=D*U+P*H+q*X,this}},{key:"translate",value:function(x){var v=x[0],_=x[1],x=x[2]||0;this.mat4[12]+=this.mat4[0]*v+this.mat4[4]*_+this.mat4[8]*x,this.mat4[13]+=this.mat4[1]*v+this.mat4[5]*_+this.mat4[9]*x,this.mat4[14]+=this.mat4[2]*v+this.mat4[6]*_+this.mat4[10]*x,this.mat4[15]+=this.mat4[3]*v+this.mat4[7]*_+this.mat4[11]*x}},{key:"rotateX",value:function(g){this.rotate(g,1,0,0)}},{key:"rotateY",value:function(g){this.rotate(g,0,1,0)}},{key:"rotateZ",value:function(g){this.rotate(g,0,0,1)}},{key:"perspective",value:function(w,v,_,x){var w=1/Math.tan(w/2),S=1/(_-x);return this.mat4[0]=w/v,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=w,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=(x+_)*S,this.mat4[11]=-1,this.mat4[12]=0,this.mat4[13]=0,this.mat4[14]=2*x*_*S,this.mat4[15]=0,this}},{key:"ortho",value:function(g,v,_,x,w,S){var R=1/(g-v),D=1/(_-x),A=1/(w-S);return this.mat4[0]=-2*R,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=-2*D,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=2*A,this.mat4[11]=0,this.mat4[12]=(g+v)*R,this.mat4[13]=(x+_)*D,this.mat4[14]=(S+w)*A,this.mat4[15]=1,this}},{key:"multiplyVec4",value:function(g,v,_,x){var w=new Array(4),S=this.mat4;return w[0]=S[0]*g+S[4]*v+S[8]*_+S[12]*x,w[1]=S[1]*g+S[5]*v+S[9]*_+S[13]*x,w[2]=S[2]*g+S[6]*v+S[10]*_+S[14]*x,w[3]=S[3]*g+S[7]*v+S[11]*_+S[15]*x,w}},{key:"multiplyPoint",value:function(_){var x=_.x,v=_.y,_=_.z,x=this.multiplyVec4(x,v,_,1);return new a.default.Vector(x[0],x[1],x[2])}},{key:"multiplyAndNormalizePoint",value:function(_){var x=_.x,v=_.y,_=_.z,x=this.multiplyVec4(x,v,_,1);return x[0]/=x[3],x[1]/=x[3],x[2]/=x[3],new a.default.Vector(x[0],x[1],x[2])}},{key:"multiplyDirection",value:function(_){var x=_.x,v=_.y,_=_.z,x=this.multiplyVec4(x,v,_,0);return new a.default.Vector(x[0],x[1],x[2])}},{key:"mult3x3",value:function(_){var v;if(_===this||_===this.mat3)v=this.copy().mat3;else if(_ instanceof a.default.Matrix)v=_.mat3;else if(u(_))v=_;else{if(arguments.length!==9)return;v=arguments}var _=this.mat3[0],x=this.mat3[1],w=this.mat3[2];return this.mat3[0]=_*v[0]+x*v[3]+w*v[6],this.mat3[1]=_*v[1]+x*v[4]+w*v[7],this.mat3[2]=_*v[2]+x*v[5]+w*v[8],_=this.mat3[3],x=this.mat3[4],w=this.mat3[5],this.mat3[3]=_*v[0]+x*v[3]+w*v[6],this.mat3[4]=_*v[1]+x*v[4]+w*v[7],this.mat3[5]=_*v[2]+x*v[5]+w*v[8],_=this.mat3[6],x=this.mat3[7],w=this.mat3[8],this.mat3[6]=_*v[0]+x*v[3]+w*v[6],this.mat3[7]=_*v[1]+x*v[4]+w*v[7],this.mat3[8]=_*v[2]+x*v[5]+w*v[8],this}},{key:"column",value:function(g){return new a.default.Vector(this.mat3[3*g],this.mat3[3*g+1],this.mat3[3*g+2])}},{key:"row",value:function(g){return new a.default.Vector(this.mat3[g],this.mat3[g+3],this.mat3[g+6])}},{key:"diagonal",value:function(){return this.mat3!==void 0?[this.mat3[0],this.mat3[4],this.mat3[8]]:[this.mat4[0],this.mat4[5],this.mat4[10],this.mat4[15]]}},{key:"multiplyVec3",value:function(g,v){return(v=v===void 0?g.copy():v).x=this.row(0).dot(g),v.y=this.row(1).dot(g),v.z=this.row(2).dot(g),v}},{key:"createSubMatrix3x3",value:function(){var g=new a.default.Matrix("mat3");return g.mat3[0]=this.mat4[0],g.mat3[1]=this.mat4[1],g.mat3[2]=this.mat4[2],g.mat3[3]=this.mat4[4],g.mat3[4]=this.mat4[5],g.mat3[5]=this.mat4[6],g.mat3[6]=this.mat4[8],g.mat3[7]=this.mat4[9],g.mat3[8]=this.mat4[10],g}}])&&c(d.prototype,f),b&&c(d,b),y}(),a.default.Matrix);o.default=p},{"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239}],337:[function(r,s,o){Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var a=(r=r("../core/main"))&&r.__esModule?r:{default:r};function c(l,u){for(var p=0;p<u.length;p++){var y=u[p];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(l,y.key,y)}}a.default.Quat=function(){function l(d,f,b,g){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");this.w=d,this.vec=new a.default.Vector(f,b,g)}var u,p,y;return u=l,y=[{key:"fromAxisAngle",value:function(d,_,b,g){var v=Math.cos(d/2),_=new a.default.Vector(_,b,g).normalize().mult(Math.sin(d/2));return new a.default.Quat(v,_.x,_.y,_.z)}}],(p=[{key:"conjugate",value:function(){return new a.default.Quat(this.w,-this.vec.x,-this.vec.y,-this.vec.z)}},{key:"multiply",value:function(d){return new a.default.Quat(this.w*d.w-this.vec.x*d.vec.x-this.vec.y*d.vec.y-this.vec.z-d.vec.z,this.w*d.vec.x+this.vec.x*d.w+this.vec.y*d.vec.z-this.vec.z*d.vec.y,this.w*d.vec.y-this.vec.x*d.vec.z+this.vec.y*d.w+this.vec.z*d.vec.x,this.w*d.vec.z+this.vec.x*d.vec.y-this.vec.y*d.vec.x+this.vec.z*d.w)}},{key:"rotateVector",value:function(d){return new a.default.Vector.mult(d,this.w*this.w-this.vec.dot(this.vec)).add(a.default.Vector.mult(this.vec,2*d.dot(this.vec))).add(a.default.Vector.mult(this.vec,2*this.w).cross(d)).clampToZero()}},{key:"rotateBy",value:function(d){return d.multiply(this).multiply(d.conjugate()).vec.clampToZero()}}])&&c(u.prototype,p),y&&c(u,y),l}(),r=a.default.Quat,o.default=r},{"../core/main":283}],338:[function(r,s,o){r("core-js/modules/es.array.map"),r("core-js/modules/es.array.map"),Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,r=(r=r("../core/main"))&&r.__esModule?r:{default:r};function a(c,l){for(var u=0;u<l.length;u++){var p=l[u];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(c,p.key,p)}}r.default.RenderBuffer=function(){function c(p,y,d,f,b,g){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this.size=p,this.src=y,this.dst=d,this.attr=f,this._renderer=b,this.map=g}var l,u;return l=c,(u=[{key:"_prepareBuffer",value:function(p,y){var d,f,b,_=y.attributes,g=this._renderer.GL,v=p.model||p,_=_[this.attr];_&&(d=p[this.dst],0<(f=v[this.src]).length?((b=!d)&&(p[this.dst]=d=g.createBuffer()),g.bindBuffer(g.ARRAY_BUFFER,d),!b&&v.dirtyFlags[this.src]===!1||(b=(p=this.map)?p(f):f,this._renderer._bindBuffer(d,g.ARRAY_BUFFER,b),v.dirtyFlags[this.src]=!1),y.enableAttrib(_,this.size)):(p=_.location)!==-1&&this._renderer.registerEnabled.has(p)&&(g.disableVertexAttribArray(p),this._renderer.registerEnabled.delete(p)))}}])&&a(l.prototype,u),c}(),r=r.default.RenderBuffer,o.default=r},{"../core/main":283,"core-js/modules/es.array.map":168}],339:[function(r,s,o){function a(b){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(b)}function c(b){return(c=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(g){return a(g)}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":a(g)})(b)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.fill"),r("core-js/modules/es.array.find-index"),r("core-js/modules/es.array.from"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.map"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.map"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.fill"),r("core-js/modules/es.array.find-index"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.map"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.map"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var l=(f=r("../core/main"))&&f.__esModule?f:{default:f},u=function(b){if(b&&b.__esModule)return b;if(b===null||c(b)!=="object"&&typeof b!="function")return{default:b};var g=p();if(g&&g.has(b))return g.get(b);var v,_={},x=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(v in b){var w;Object.prototype.hasOwnProperty.call(b,v)&&((w=x?Object.getOwnPropertyDescriptor(b,v):null)&&(w.get||w.set)?Object.defineProperty(_,v,w):_[v]=b[v])}return _.default=b,g&&g.set(b,_),_}(r("../core/constants"));function p(){var b;return typeof WeakMap!="function"?null:(b=new WeakMap,p=function(){return b},b)}function y(b){return function(g){if(Array.isArray(g)){for(var v=0,_=new Array(g.length);v<g.length;v++)_[v]=g[v];return _}}(b)||function(g){if(Symbol.iterator in Object(g)||Object.prototype.toString.call(g)==="[object Arguments]")return Array.from(g)}(b)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}r("./p5.RenderBuffer"),l.default.RendererGL.prototype.beginShape=function(b){return this.immediateMode.shapeMode=b!==void 0?b:u.TESS,this.immediateMode.geometry.reset(),this.immediateMode.contourIndices=[],this};var d={vertices:1,vertexNormals:1,vertexColors:4,vertexStrokeColors:4,uvs:2},f=(l.default.RendererGL.prototype.beginContour=function(){if(this.immediateMode.shapeMode!==u.TESS)throw new Error("WebGL mode can only use contours with beginShape(TESS).");this.immediateMode.contourIndices.push(this.immediateMode.geometry.vertices.length)},l.default.RendererGL.prototype.vertex=function(b,g){if(this.immediateMode.shapeMode===u.QUADS&&this.immediateMode.geometry.vertices.length%6==3)for(var v in d){var _=d[v],v=this.immediateMode.geometry[v];v.push.apply(v,y(v.slice(v.length-3*_,v.length-2*_)).concat(y(v.slice(v.length-_,v.length))))}var x,w,S=x=w=0,R=(arguments.length===3?S=arguments[2]:arguments.length===4?(x=arguments[2],w=arguments[3]):arguments.length===5&&(S=arguments[2],x=arguments[3],w=arguments[4]),new l.default.Vector(b,g,S)),R=(this.immediateMode.geometry.vertices.push(R),this.immediateMode.geometry.vertexNormals.push(this._currentNormal),this.curFillColor||[.5,.5,.5,1]),R=(this.immediateMode.geometry.vertexColors.push(R[0],R[1],R[2],R[3]),this.curStrokeColor||[.5,.5,.5,1]);return this.immediateMode.geometry.vertexStrokeColors.push(R[0],R[1],R[2],R[3]),this.textureMode!==u.IMAGE||this.isProcessingVertices||(this._tex!==null?0<this._tex.width&&0<this._tex.height&&(x/=this._tex.width,w/=this._tex.height):this.userFillShader===void 0&&this.userStrokeShader===void 0&&this.userPointShader===void 0&&this._tex===null&&4<=arguments.length&&console.warn("You must first call texture() before using vertex() with image based u and v coordinates")),this.immediateMode.geometry.uvs.push(x,w),this.immediateMode._bezierVertex[0]=b,this.immediateMode._bezierVertex[1]=g,this.immediateMode._bezierVertex[2]=S,this.immediateMode._quadraticVertex[0]=b,this.immediateMode._quadraticVertex[1]=g,this.immediateMode._quadraticVertex[2]=S,this},l.default.RendererGL.prototype.normal=function(b,g,v){return b instanceof l.default.Vector?this._currentNormal=b:this._currentNormal=new l.default.Vector(b,g,v),this},l.default.RendererGL.prototype.endShape=function(b,g,v,_,x,w){var S,R=6<arguments.length&&arguments[6]!==void 0?arguments[6]:1;return this.immediateMode.shapeMode===u.POINTS?this._drawPoints(this.immediateMode.geometry.vertices,this.immediateMode.buffers.point):(this.immediateMode.geometry.vertices.length===3&&this.immediateMode.shapeMode===u.TESS&&(this.immediateMode.shapeMode=u.TRIANGLES),this.isProcessingVertices=!0,this._processVertices.apply(this,arguments),S=this.isProcessingVertices=!1,this.immediateMode.shapeMode!==u.LINE_STRIP&&this.immediateMode.shapeMode!==u.LINES||(this.immediateMode.shapeMode=u.TRIANGLE_FAN,S=!0),this.immediateMode.shapeMode===u.QUADS?this.immediateMode.shapeMode=u.TRIANGLES:this.immediateMode.shapeMode===u.QUAD_STRIP&&(this.immediateMode.shapeMode=u.TRIANGLE_STRIP),this._doFill&&!S&&!this.geometryBuilder&&3<=this.immediateMode.geometry.vertices.length&&this._drawImmediateFill(R),this._doStroke&&!this.geometryBuilder&&1<=this.immediateMode.geometry.lineVertices.length&&this._drawImmediateStroke(),this.geometryBuilder&&this.geometryBuilder.addImmediate(),this.isBezier=!1,this.isQuadratic=!1,this.isCurve=!1,this.immediateMode._bezierVertex.length=0,this.immediateMode._quadraticVertex.length=0,this.immediateMode._curveVertex.length=0),this},l.default.RendererGL.prototype._processVertices=function(b){var g;this.immediateMode.geometry.vertices.length!==0&&(g=this._doStroke,b=b===u.CLOSE,g&&(this.immediateMode.geometry.edges=this._calculateEdges(this.immediateMode.shapeMode,this.immediateMode.geometry.vertices,b),this.geometryBuilder||this.immediateMode.geometry._edgesToVertices()),g=this.immediateMode.shapeMode===u.TESS,b=0<this.immediateMode.contourIndices.length,this._doFill&&(this.isBezier||this.isQuadratic||this.isCurve||g||b)&&this.immediateMode.shapeMode!==u.LINES&&this._tesselateShape())},l.default.RendererGL.prototype._calculateEdges=function(b,g,v){var _=[],x=0,w=this.immediateMode.contourIndices.slice(),S=0;switch(b){case u.TRIANGLE_STRIP:for(x=0;x<g.length-2;x++)_.push([x,x+1]),_.push([x,x+2]);_.push([x,x+1]);break;case u.TRIANGLE_FAN:for(x=1;x<g.length-1;x++)_.push([0,x]),_.push([x,x+1]);_.push([0,g.length-1]);break;case u.TRIANGLES:for(x=0;x<g.length-2;x+=3)_.push([x,x+1]),_.push([x+1,x+2]),_.push([x+2,x]);break;case u.LINES:for(x=0;x<g.length-1;x+=2)_.push([x,x+1]);break;case u.QUADS:for(x=0;x<g.length-5;x+=6)_.push([x,x+1]),_.push([x+1,x+2]),_.push([x+3,x+5]),_.push([x+4,x+5]);break;case u.QUAD_STRIP:for(x=0;x<g.length-2;x+=2)_.push([x,x+1]),_.push([x,x+2]),_.push([x+1,x+3]);_.push([x,x+1]);break;default:for(x=0;x<g.length;x++)x+1<g.length&&x+1!==w[0]?_.push([x,x+1]):((v||S)&&_.push([x,S]),0<w.length&&(S=w.shift()))}return b!==u.TESS&&v&&_.push([g.length-1,0]),_},l.default.RendererGL.prototype._tesselateShape=function(){for(var b=this,g=(this.immediateMode.shapeMode=u.TRIANGLES,[[]]),v=0;v<this.immediateMode.geometry.vertices.length;v++)0<this.immediateMode.contourIndices.length&&this.immediateMode.contourIndices[0]===v&&(this.immediateMode.contourIndices.shift(),g.push([])),g[g.length-1].push(this.immediateMode.geometry.vertices[v].x,this.immediateMode.geometry.vertices[v].y,this.immediateMode.geometry.vertices[v].z,this.immediateMode.geometry.uvs[2*v],this.immediateMode.geometry.uvs[2*v+1],this.immediateMode.geometry.vertexColors[4*v],this.immediateMode.geometry.vertexColors[4*v+1],this.immediateMode.geometry.vertexColors[4*v+2],this.immediateMode.geometry.vertexColors[4*v+3],this.immediateMode.geometry.vertexNormals[v].x,this.immediateMode.geometry.vertexNormals[v].y,this.immediateMode.geometry.vertexNormals[v].z);for(var _,x=this._triangulate(g),w=this.immediateMode.geometry.vertices,S=(this.immediateMode.geometry.vertices=[],this.immediateMode.geometry.vertexNormals=[],this.immediateMode.geometry.uvs=[],[]),R=0,D=x.length;R<D;R+=l.default.RendererGL.prototype.tessyVertexSize)S.push.apply(S,y(x.slice(R+5,R+9))),this.normal.apply(this,y(x.slice(R+9,R+12))),this.vertex.apply(this,y(x.slice(R,R+5)));this.geometryBuilder&&(_=new Map,this.immediateMode.geometry.edges=this.immediateMode.geometry.edges.map(function(A){return A.map(function(C){if(!_.has(C)){var j=w[C],P=b.immediateMode.geometry.vertices.findIndex(function(J){return j.x===J.x&&j.y===J.y&&j.z===J.z});if(P===-1){for(var O=1/0,L=0,N=0;N<b.immediateMode.geometry.vertices.length;N++){var W=b.immediateMode.geometry.vertices[N],Y=j.x-W.x,q=j.y-W.y,W=j.z-W.z,Y=Y*Y+q*q+W*W;Y<O&&(O=Y,L=N)}P=L}_.set(C,P)}return _.get(C)})})),this.immediateMode.geometry.vertexColors=S},l.default.RendererGL.prototype._drawImmediateFill=function(){var b,g=0<arguments.length&&arguments[0]!==void 0?arguments[0]:1,v=this.GL,_=(this._useVertexColor=0<this.immediateMode.geometry.vertexColors.length,b=this._getImmediateFillShader(),this._setFillUniforms(b),!0),x=!1,w=void 0;try{for(var S,R=this.immediateMode.buffers.fill[Symbol.iterator]();!(_=(S=R.next()).done);_=!0)S.value._prepareBuffer(this.immediateMode.geometry,b)}catch(D){x=!0,w=D}finally{try{_||R.return==null||R.return()}finally{if(x)throw w}}if(b.disableRemainingAttributes(),this._applyColorBlend(this.curFillColor,this.immediateMode.geometry.hasFillTransparency()),g===1)v.drawArrays(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length);else try{v.drawArraysInstanced(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length,g)}catch{console.log(" p5.js says: Instancing is only supported in WebGL2 mode")}b.unbindShader()},l.default.RendererGL.prototype._drawImmediateStroke=function(){var b=this.GL,g=(this._useLineColor=0<this.immediateMode.geometry.vertexStrokeColors.length,this._getImmediateStrokeShader()),v=(this._setStrokeUniforms(g),!0),_=!1,x=void 0;try{for(var w,S=this.immediateMode.buffers.stroke[Symbol.iterator]();!(v=(w=S.next()).done);v=!0)w.value._prepareBuffer(this.immediateMode.geometry,g)}catch(R){_=!0,x=R}finally{try{v||S.return==null||S.return()}finally{if(_)throw x}}g.disableRemainingAttributes(),this._applyColorBlend(this.curStrokeColor,this.immediateMode.geometry.hasFillTransparency()),b.drawArrays(b.TRIANGLES,0,this.immediateMode.geometry.lineVertices.length/3),g.unbindShader()},l.default.RendererGL);o.default=f},{"../core/constants":272,"../core/main":283,"./p5.RenderBuffer":338,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.find-index":158,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.map":175,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],340:[function(r,s,o){function a(d){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(d)}function c(d){return(c=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(f){return a(f)}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":a(f)})(d)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.fill"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.some"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.keys"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.typed-array.float32-array"),r("core-js/modules/es.typed-array.uint16-array"),r("core-js/modules/es.typed-array.uint32-array"),r("core-js/modules/es.typed-array.copy-within"),r("core-js/modules/es.typed-array.every"),r("core-js/modules/es.typed-array.fill"),r("core-js/modules/es.typed-array.filter"),r("core-js/modules/es.typed-array.find"),r("core-js/modules/es.typed-array.find-index"),r("core-js/modules/es.typed-array.for-each"),r("core-js/modules/es.typed-array.includes"),r("core-js/modules/es.typed-array.index-of"),r("core-js/modules/es.typed-array.iterator"),r("core-js/modules/es.typed-array.join"),r("core-js/modules/es.typed-array.last-index-of"),r("core-js/modules/es.typed-array.map"),r("core-js/modules/es.typed-array.reduce"),r("core-js/modules/es.typed-array.reduce-right"),r("core-js/modules/es.typed-array.reverse"),r("core-js/modules/es.typed-array.set"),r("core-js/modules/es.typed-array.slice"),r("core-js/modules/es.typed-array.some"),r("core-js/modules/es.typed-array.sort"),r("core-js/modules/es.typed-array.subarray"),r("core-js/modules/es.typed-array.to-locale-string"),r("core-js/modules/es.typed-array.to-string"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.fill"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.some"),r("core-js/modules/es.object.keys"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.typed-array.float32-array"),r("core-js/modules/es.typed-array.uint16-array"),r("core-js/modules/es.typed-array.uint32-array"),r("core-js/modules/es.typed-array.copy-within"),r("core-js/modules/es.typed-array.every"),r("core-js/modules/es.typed-array.fill"),r("core-js/modules/es.typed-array.filter"),r("core-js/modules/es.typed-array.find"),r("core-js/modules/es.typed-array.find-index"),r("core-js/modules/es.typed-array.for-each"),r("core-js/modules/es.typed-array.includes"),r("core-js/modules/es.typed-array.index-of"),r("core-js/modules/es.typed-array.iterator"),r("core-js/modules/es.typed-array.join"),r("core-js/modules/es.typed-array.last-index-of"),r("core-js/modules/es.typed-array.map"),r("core-js/modules/es.typed-array.reduce"),r("core-js/modules/es.typed-array.reduce-right"),r("core-js/modules/es.typed-array.reverse"),r("core-js/modules/es.typed-array.set"),r("core-js/modules/es.typed-array.slice"),r("core-js/modules/es.typed-array.some"),r("core-js/modules/es.typed-array.sort"),r("core-js/modules/es.typed-array.subarray"),r("core-js/modules/es.typed-array.to-locale-string"),r("core-js/modules/es.typed-array.to-string"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var l=(y=r("../core/main"))&&y.__esModule?y:{default:y},u=(r("./p5.RendererGL"),r("./p5.RenderBuffer"),function(d){if(d&&d.__esModule)return d;if(d===null||c(d)!=="object"&&typeof d!="function")return{default:d};var f=p();if(f&&f.has(d))return f.get(d);var b,g={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(b in d){var _;Object.prototype.hasOwnProperty.call(d,b)&&((_=v?Object.getOwnPropertyDescriptor(d,b):null)&&(_.get||_.set)?Object.defineProperty(g,b,_):g[b]=d[b])}return g.default=d,f&&f.set(d,g),g}(r("../core/constants")));function p(){var d;return typeof WeakMap!="function"?null:(d=new WeakMap,p=function(){return d},d)}l.default.RendererGL.prototype.freeGeometry=function(d){d.gid?this._freeBuffers(d.gid):console.warn("The model you passed to freeGeometry does not have an id!")},l.default.RendererGL.prototype._initBufferDefaults=function(d){var f;return this._freeBuffers(d),1e3<Object.keys(this.retainedMode.geometry).length&&(f=Object.keys(this.retainedMode.geometry)[0],this._freeBuffers(f)),this.retainedMode.geometry[d]={}},l.default.RendererGL.prototype._freeBuffers=function(d){var f,b=this.retainedMode.geometry[d];function g(v){var _=!0,x=!1,w=void 0;try{for(var S,R=v[Symbol.iterator]();!(_=(S=R.next()).done);_=!0){var D=S.value;b[D.dst]&&(f.deleteBuffer(b[D.dst]),b[D.dst]=null)}}catch(A){x=!0,w=A}finally{try{_||R.return==null||R.return()}finally{if(x)throw w}}}b&&(delete this.retainedMode.geometry[d],f=this.GL,b.indexBuffer&&f.deleteBuffer(b.indexBuffer),g(this.retainedMode.buffers.stroke),g(this.retainedMode.buffers.fill))},l.default.RendererGL.prototype.createBuffers=function(x,f){var b,g,v,_=this.GL,x=this._initBufferDefaults(x),w=(x.model=f,x.indexBuffer);return f.faces.length?(w=w||(x.indexBuffer=_.createBuffer()),v=(g=(b=l.default.RendererGL.prototype._flatten(f.faces)).some(function(S){return 65535<S}))?Uint32Array:Uint16Array,this._bindBuffer(w,_.ELEMENT_ARRAY_BUFFER,b,v),x.indexBufferType=g?_.UNSIGNED_INT:_.UNSIGNED_SHORT,x.vertexCount=3*f.faces.length):(w&&(_.deleteBuffer(w),x.indexBuffer=null),x.vertexCount=f.vertices?f.vertices.length:0),x.lineVertexCount=f.lineVertices?f.lineVertices.length/3:0,x},l.default.RendererGL.prototype.drawBuffers=function(d){var f=this.GL,b=this.retainedMode.geometry[d];if(!this.geometryBuilder&&this._doFill&&0<this.retainedMode.geometry[d].vertexCount){this._useVertexColor=0<b.model.vertexColors.length;var g=this._getRetainedFillShader(),v=(this._setFillUniforms(g),!0),_=!1,x=void 0;try{for(var w,S=this.retainedMode.buffers.fill[Symbol.iterator]();!(v=(w=S.next()).done);v=!0)w.value._prepareBuffer(b,g)}catch(j){_=!0,x=j}finally{try{v||S.return==null||S.return()}finally{if(_)throw x}}g.disableRemainingAttributes(),b.indexBuffer&&this._bindBuffer(b.indexBuffer,f.ELEMENT_ARRAY_BUFFER),this._applyColorBlend(this.curFillColor,b.model.hasFillTransparency()),this._drawElements(f.TRIANGLES,d),g.unbindShader()}if(!this.geometryBuilder&&this._doStroke&&0<b.lineVertexCount){this._useLineColor=0<b.model.vertexStrokeColors.length;var R=this._getRetainedStrokeShader(),D=(this._setStrokeUniforms(R),!0),_=!1,x=void 0;try{for(var A,C=this.retainedMode.buffers.stroke[Symbol.iterator]();!(D=(A=C.next()).done);D=!0)A.value._prepareBuffer(b,R)}catch(O){_=!0,x=O}finally{try{D||C.return==null||C.return()}finally{if(_)throw x}}R.disableRemainingAttributes(),this._applyColorBlend(this.curStrokeColor,b.model.hasStrokeTransparency()),this._drawArrays(f.TRIANGLES,d),R.unbindShader()}return this.geometryBuilder&&this.geometryBuilder.addRetained(b),this},l.default.RendererGL.prototype.drawBuffersScaled=function(d,f,b,g){var v=this.uModelMatrix.copy();try{this.uModelMatrix.scale(f,b,g),this.drawBuffers(d)}finally{this.uModelMatrix=v}},l.default.RendererGL.prototype._drawArrays=function(d,f){return this.GL.drawArrays(d,0,this.retainedMode.geometry[f].lineVertexCount),this},l.default.RendererGL.prototype._drawElements=function(d,b){var b=this.retainedMode.geometry[b],g=this.GL;if(b.indexBuffer){if(this._pInst.webglVersion!==u.WEBGL2&&b.indexBufferType===g.UNSIGNED_INT&&!g.getExtension("OES_element_index_uint"))throw new Error("Unable to render a 3d model with > 65535 triangles. Your web browser does not support the WebGL Extension OES_element_index_uint.");g.drawElements(g.TRIANGLES,b.vertexCount,b.indexBufferType,0)}else g.drawArrays(d||g.TRIANGLES,0,b.vertexCount)},l.default.RendererGL.prototype._drawPoints=function(d,f){var b=this.GL,g=this._getImmediatePointShader();this._setPointUniforms(g),this._bindBuffer(f,b.ARRAY_BUFFER,this._vToNArray(d),Float32Array,b.STATIC_DRAW),g.enableAttrib(g.attributes.aPosition,3),this._applyColorBlend(this.curStrokeColor),b.drawArrays(b.Points,0,d.length),g.unbindShader()};var y=l.default.RendererGL;o.default=y},{"../core/constants":272,"../core/main":283,"./p5.RenderBuffer":338,"./p5.RendererGL":341,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.some":170,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint16-array":240,"core-js/modules/es.typed-array.uint32-array":241,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],341:[function(N,s,o){function a(ee){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Q){return typeof Q}:function(Q){return Q&&typeof Symbol=="function"&&Q.constructor===Symbol&&Q!==Symbol.prototype?"symbol":typeof Q})(ee)}function c(ee){return(c=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(Q){return a(Q)}:function(Q){return Q&&typeof Symbol=="function"&&Q.constructor===Symbol&&Q!==Symbol.prototype?"symbol":a(Q)})(ee)}N("core-js/modules/es.symbol"),N("core-js/modules/es.symbol.description"),N("core-js/modules/es.symbol.iterator"),N("core-js/modules/es.array.concat"),N("core-js/modules/es.array.copy-within"),N("core-js/modules/es.array.every"),N("core-js/modules/es.array.fill"),N("core-js/modules/es.array.flat"),N("core-js/modules/es.array.flat-map"),N("core-js/modules/es.array.from"),N("core-js/modules/es.array.includes"),N("core-js/modules/es.array.iterator"),N("core-js/modules/es.array.map"),N("core-js/modules/es.array.slice"),N("core-js/modules/es.array.some"),N("core-js/modules/es.array.unscopables.flat"),N("core-js/modules/es.array.unscopables.flat-map"),N("core-js/modules/es.map"),N("core-js/modules/es.object.assign"),N("core-js/modules/es.object.get-own-property-descriptor"),N("core-js/modules/es.object.get-prototype-of"),N("core-js/modules/es.object.to-string"),N("core-js/modules/es.reflect.construct"),N("core-js/modules/es.reflect.get"),N("core-js/modules/es.regexp.to-string"),N("core-js/modules/es.set"),N("core-js/modules/es.string.includes"),N("core-js/modules/es.string.iterator"),N("core-js/modules/es.typed-array.float32-array"),N("core-js/modules/es.typed-array.float64-array"),N("core-js/modules/es.typed-array.int16-array"),N("core-js/modules/es.typed-array.uint8-array"),N("core-js/modules/es.typed-array.uint16-array"),N("core-js/modules/es.typed-array.uint32-array"),N("core-js/modules/es.typed-array.copy-within"),N("core-js/modules/es.typed-array.every"),N("core-js/modules/es.typed-array.fill"),N("core-js/modules/es.typed-array.filter"),N("core-js/modules/es.typed-array.find"),N("core-js/modules/es.typed-array.find-index"),N("core-js/modules/es.typed-array.for-each"),N("core-js/modules/es.typed-array.includes"),N("core-js/modules/es.typed-array.index-of"),N("core-js/modules/es.typed-array.iterator"),N("core-js/modules/es.typed-array.join"),N("core-js/modules/es.typed-array.last-index-of"),N("core-js/modules/es.typed-array.map"),N("core-js/modules/es.typed-array.reduce"),N("core-js/modules/es.typed-array.reduce-right"),N("core-js/modules/es.typed-array.reverse"),N("core-js/modules/es.typed-array.set"),N("core-js/modules/es.typed-array.slice"),N("core-js/modules/es.typed-array.some"),N("core-js/modules/es.typed-array.sort"),N("core-js/modules/es.typed-array.subarray"),N("core-js/modules/es.typed-array.to-locale-string"),N("core-js/modules/es.typed-array.to-string"),N("core-js/modules/es.weak-map"),N("core-js/modules/web.dom-collections.iterator"),N("core-js/modules/es.symbol"),N("core-js/modules/es.symbol.description"),N("core-js/modules/es.symbol.iterator"),N("core-js/modules/es.array.concat"),N("core-js/modules/es.array.copy-within"),N("core-js/modules/es.array.every"),N("core-js/modules/es.array.fill"),N("core-js/modules/es.array.flat"),N("core-js/modules/es.array.flat-map"),N("core-js/modules/es.array.from"),N("core-js/modules/es.array.includes"),N("core-js/modules/es.array.iterator"),N("core-js/modules/es.array.map"),N("core-js/modules/es.array.slice"),N("core-js/modules/es.array.some"),N("core-js/modules/es.array.unscopables.flat"),N("core-js/modules/es.array.unscopables.flat-map"),N("core-js/modules/es.map"),N("core-js/modules/es.object.assign"),N("core-js/modules/es.object.to-string"),N("core-js/modules/es.set"),N("core-js/modules/es.string.includes"),N("core-js/modules/es.string.iterator"),N("core-js/modules/es.typed-array.float32-array"),N("core-js/modules/es.typed-array.float64-array"),N("core-js/modules/es.typed-array.int16-array"),N("core-js/modules/es.typed-array.uint8-array"),N("core-js/modules/es.typed-array.uint16-array"),N("core-js/modules/es.typed-array.uint32-array"),N("core-js/modules/es.typed-array.copy-within"),N("core-js/modules/es.typed-array.every"),N("core-js/modules/es.typed-array.fill"),N("core-js/modules/es.typed-array.filter"),N("core-js/modules/es.typed-array.find"),N("core-js/modules/es.typed-array.find-index"),N("core-js/modules/es.typed-array.for-each"),N("core-js/modules/es.typed-array.includes"),N("core-js/modules/es.typed-array.index-of"),N("core-js/modules/es.typed-array.iterator"),N("core-js/modules/es.typed-array.join"),N("core-js/modules/es.typed-array.last-index-of"),N("core-js/modules/es.typed-array.map"),N("core-js/modules/es.typed-array.reduce"),N("core-js/modules/es.typed-array.reduce-right"),N("core-js/modules/es.typed-array.reverse"),N("core-js/modules/es.typed-array.set"),N("core-js/modules/es.typed-array.slice"),N("core-js/modules/es.typed-array.some"),N("core-js/modules/es.typed-array.sort"),N("core-js/modules/es.typed-array.subarray"),N("core-js/modules/es.typed-array.to-locale-string"),N("core-js/modules/es.typed-array.to-string"),N("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(o,"__esModule",{value:!0}),o.readPixelsWebGL=J,o.readPixelWebGL=te,o.default=void 0;var l=b(N("../core/main")),u=function(ee){if(ee&&ee.__esModule)return ee;if(ee===null||c(ee)!=="object"&&typeof ee!="function")return{default:ee};var Q=f();if(Q&&Q.has(ee))return Q.get(ee);var ne,re={},I=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(ne in ee){var U;Object.prototype.hasOwnProperty.call(ee,ne)&&((U=I?Object.getOwnPropertyDescriptor(ee,ne):null)&&(U.get||U.set)?Object.defineProperty(re,ne,U):re[ne]=ee[ne])}return re.default=ee,Q&&Q.set(ee,re),re}(N("../core/constants")),p=b(N("./GeometryBuilder")),y=b(N("libtess")),d=(N("./p5.Shader"),N("./p5.Camera"),N("../core/p5.Renderer"),N("./p5.Matrix"),N("./p5.Framebuffer"),N("path"),N("./p5.Texture"));function f(){var ee;return typeof WeakMap!="function"?null:(ee=new WeakMap,f=function(){return ee},ee)}function b(ee){return ee&&ee.__esModule?ee:{default:ee}}function g(ee){return function(Q){if(Array.isArray(Q)){for(var ne=0,re=new Array(Q.length);ne<Q.length;ne++)re[ne]=Q[ne];return re}}(ee)||function(Q){if(Symbol.iterator in Object(Q)||Object.prototype.toString.call(Q)==="[object Arguments]")return Array.from(Q)}(ee)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function v(ee,Q){for(var ne=0;ne<Q.length;ne++){var re=Q[ne];re.enumerable=re.enumerable||!1,re.configurable=!0,"value"in re&&(re.writable=!0),Object.defineProperty(ee,re.key,re)}}function _(ee,Q,ne){return(_=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(H,I,U){var H=function(X,ae){for(;!Object.prototype.hasOwnProperty.call(X,ae)&&(X=R(X))!==null;);return X}(H,I);if(H)return(H=Object.getOwnPropertyDescriptor(H,I)).get?H.get.call(U):H.value})(ee,Q,ne||ee)}function x(ee,Q){return(x=Object.setPrototypeOf||function(ne,re){return ne.__proto__=re,ne})(ee,Q)}function w(ee){return function(){var Q,ne,re=R(ee);return Q=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(Q=R(this).constructor,Reflect.construct(re,arguments,Q)):re.apply(this,arguments),re=this,!(ne=Q)||c(ne)!=="object"&&typeof ne!="function"?S(re):ne}}function S(ee){if(ee===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ee}function R(ee){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(Q){return Q.__proto__||Object.getPrototypeOf(Q)})(ee)}function D(ee,Q,ne){Q in ee?Object.defineProperty(ee,Q,{value:ne,enumerable:!0,configurable:!0,writable:!0}):ee[Q]=ne}function A(ee,Q){L+="#define STROKE_CAP_".concat(ee," ").concat(Q,`
`),P[u[ee]]=Q}function C(ee,Q){L+="#define STROKE_JOIN_".concat(ee," ").concat(Q,`
`),O[u[ee]]=Q}var j,P={},O={},L="",N=(A("ROUND",0),A("PROJECT",1),A("SQUARE",2),C("ROUND",0),C("MITER",1),C("BEVEL",2),`#define PI 3.141592

precision highp float;
precision highp int;

uniform mat4 uViewMatrix;

uniform bool uUseLighting;

uniform int uAmbientLightCount;
uniform vec3 uAmbientColor[5];
uniform mat3 uCameraRotation;
uniform int uDirectionalLightCount;
uniform vec3 uLightingDirection[5];
uniform vec3 uDirectionalDiffuseColors[5];
uniform vec3 uDirectionalSpecularColors[5];

uniform int uPointLightCount;
uniform vec3 uPointLightLocation[5];
uniform vec3 uPointLightDiffuseColors[5];	
uniform vec3 uPointLightSpecularColors[5];

uniform int uSpotLightCount;
uniform float uSpotLightAngle[5];
uniform float uSpotLightConc[5];
uniform vec3 uSpotLightDiffuseColors[5];
uniform vec3 uSpotLightSpecularColors[5];
uniform vec3 uSpotLightLocation[5];
uniform vec3 uSpotLightDirection[5];

uniform bool uSpecular;
uniform float uShininess;
uniform float uMetallic;

uniform float uConstantAttenuation;
uniform float uLinearAttenuation;
uniform float uQuadraticAttenuation;

// setting from  _setImageLightUniforms()
// boolean to initiate the calculateImageDiffuse and calculateImageSpecular
uniform bool uUseImageLight;
// texture for use in calculateImageDiffuse
uniform sampler2D environmentMapDiffused;
// texture for use in calculateImageSpecular
uniform sampler2D environmentMapSpecular;

const float specularFactor = 2.0;
const float diffuseFactor = 0.73;

struct LightResult {
  float specular;
  float diffuse;
};

float _phongSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float shininess) {

  vec3 R = reflect(lightDirection, surfaceNormal);
  return pow(max(0.0, dot(R, viewDirection)), shininess);
}

float _lambertDiffuse(vec3 lightDirection, vec3 surfaceNormal) {
  return max(0.0, dot(-lightDirection, surfaceNormal));
}

LightResult _light(vec3 viewDirection, vec3 normal, vec3 lightVector, float shininess, float metallic) {

  vec3 lightDir = normalize(lightVector);

  //compute our diffuse & specular terms
  LightResult lr;
  float specularIntensity = mix(1.0, 0.4, metallic);
  float diffuseIntensity = mix(1.0, 0.1, metallic);
  if (uSpecular)
    lr.specular = (_phongSpecular(lightDir, viewDirection, normal, shininess)) * specularIntensity;
    lr.diffuse = _lambertDiffuse(lightDir, normal) * diffuseIntensity;
  return lr;
}

// converts the range of "value" from [min1 to max1] to [min2 to max2]
float map(float value, float min1, float max1, float min2, float max2) {
  return min2 + (value - min1) * (max2 - min2) / (max1 - min1);
}

vec2 mapTextureToNormal( vec3 v ){
  // x = r sin(phi) cos(theta)   
  // y = r cos(phi)  
  // z = r sin(phi) sin(theta)
  float phi = acos( v.y );
  // if phi is 0, then there are no x, z components
  float theta = 0.0;
  // else 
  theta = acos(v.x / sin(phi));
  float sinTheta = v.z / sin(phi);
  if (sinTheta < 0.0) {
    // Turn it into -theta, but in the 0-2PI range
    theta = 2.0 * PI - theta;
  }
  theta = theta / (2.0 * 3.14159);
  phi = phi / 3.14159 ;
  
  vec2 angles = vec2( fract(theta + 0.25), 1.0 - phi );
  return angles;
}


vec3 calculateImageDiffuse(vec3 vNormal, vec3 vViewPosition, float metallic){
  // make 2 seperate builds 
  vec3 worldCameraPosition =  vec3(0.0, 0.0, 0.0);  // hardcoded world camera position
  vec3 worldNormal = normalize(vNormal * uCameraRotation);
  vec2 newTexCoor = mapTextureToNormal( worldNormal );
  vec4 texture = TEXTURE( environmentMapDiffused, newTexCoor );
  // this is to make the darker sections more dark
  // png and jpg usually flatten the brightness so it is to reverse that
  return mix(smoothstep(vec3(0.0), vec3(1.0), texture.xyz), vec3(0.0), metallic);
}

vec3 calculateImageSpecular(vec3 vNormal, vec3 vViewPosition, float shininess, float metallic){
  vec3 worldCameraPosition =  vec3(0.0, 0.0, 0.0);
  vec3 worldNormal = normalize(vNormal);
  vec3 lightDirection = normalize( vViewPosition - worldCameraPosition );
  vec3 R = reflect(lightDirection, worldNormal) * uCameraRotation;
  vec2 newTexCoor = mapTextureToNormal( R );
#ifdef WEBGL2
  // In p5js the range of shininess is >= 1,
  // Therefore roughness range will be ([0,1]*8)*20 or [0, 160]
  // The factor of 8 is because currently the getSpecularTexture
  // only calculated 8 different levels of roughness
  // The factor of 20 is just to spread up this range so that,
  // [1, max] of shininess is converted to [0,160] of roughness
  float roughness = 20. / shininess;
  vec4 outColor = textureLod(environmentMapSpecular, newTexCoor, roughness * 8.);
#else
  vec4 outColor = TEXTURE(environmentMapSpecular, newTexCoor);
#endif
  // this is to make the darker sections more dark
  // png and jpg usually flatten the brightness so it is to reverse that
  return mix(
    pow(outColor.xyz, vec3(10)),
    pow(outColor.xyz, vec3(1.2)),
    metallic 
  );
}

void totalLight(
  vec3 modelPosition,
  vec3 normal,
  float shininess,
  float metallic,
  out vec3 totalDiffuse,
  out vec3 totalSpecular
) {

  totalSpecular = vec3(0.0);

  if (!uUseLighting) {
    totalDiffuse = vec3(1.0);
    return;
  }

  totalDiffuse = vec3(0.0);

  vec3 viewDirection = normalize(-modelPosition);

  for (int j = 0; j < 5; j++) {
    if (j < uDirectionalLightCount) {
      vec3 lightVector = (uViewMatrix * vec4(uLightingDirection[j], 0.0)).xyz;
      vec3 lightColor = uDirectionalDiffuseColors[j];
      vec3 specularColor = uDirectionalSpecularColors[j];
      LightResult result = _light(viewDirection, normal, lightVector, shininess, metallic);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if (j < uPointLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uPointLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
      //calculate attenuation
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);
      vec3 lightColor = lightFalloff * uPointLightDiffuseColors[j];
      vec3 specularColor = lightFalloff * uPointLightSpecularColors[j];

      LightResult result = _light(viewDirection, normal, lightVector, shininess, metallic);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if(j < uSpotLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uSpotLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
    
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);

      vec3 lightDirection = (uViewMatrix * vec4(uSpotLightDirection[j], 0.0)).xyz;
      float spotDot = dot(normalize(lightVector), normalize(lightDirection));
      float spotFalloff;
      if(spotDot < uSpotLightAngle[j]) {
        spotFalloff = 0.0;
      }
      else {
        spotFalloff = pow(spotDot, uSpotLightConc[j]);
      }
      lightFalloff *= spotFalloff;

      vec3 lightColor = uSpotLightDiffuseColors[j];
      vec3 specularColor = uSpotLightSpecularColors[j];
     
      LightResult result = _light(viewDirection, normal, lightVector, shininess, metallic);
      
      totalDiffuse += result.diffuse * lightColor * lightFalloff;
      totalSpecular += result.specular * lightColor * specularColor * lightFalloff;
    }
  }

  if( uUseImageLight ){
    totalDiffuse += calculateImageDiffuse(normal, modelPosition, metallic);
    totalSpecular += calculateImageSpecular(normal, modelPosition, shininess, metallic);
  }

  totalDiffuse *= diffuseFactor;
  totalSpecular *= specularFactor;
}
`),q={sphereMappingFrag:`#define PI 3.141592

precision highp float;
  
uniform sampler2D uSampler;
uniform mat3 uNewNormalMatrix;
uniform float uFovY;
uniform float uAspect;

varying vec2 vTexCoord;
  
void main() {
    float uFovX = uFovY * uAspect; 
    vec4 newTexColor = texture2D(uSampler, vTexCoord);
    float angleY = mix(uFovY/2.0,  -uFovY/2.0, vTexCoord.y);
    float angleX = mix(uFovX/2.0, -uFovX/2.0, vTexCoord.x);
    vec3 rotatedNormal = vec3( angleX, angleY, 1.0 );
    rotatedNormal = uNewNormalMatrix * normalize(rotatedNormal);
    float temp = rotatedNormal.z;
    rotatedNormal.z = rotatedNormal.x;
    rotatedNormal.x = -temp;
    vec2 suv;
    suv.y = 0.5 + 0.5 * (-rotatedNormal.y);
    suv.x = atan(rotatedNormal.z, rotatedNormal.x) / (2.0 * PI) + 0.5;
    newTexColor = texture2D(uSampler, suv.xy);
    gl_FragColor = newTexColor;
}
`,immediateVert:`IN vec3 aPosition;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform float uResolution;
uniform float uPointSize;

OUT vec4 vColor;
void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vColor = aVertexColor;
  gl_PointSize = uPointSize;
}
`,vertexColorVert:`IN vec3 aPosition;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

OUT vec4 vColor;

void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vColor = aVertexColor;
}
`,vertexColorFrag:`IN vec4 vColor;
void main(void) {
  OUT_COLOR = vec4(vColor.rgb, 1.) * vColor.a;
}
`,normalVert:`IN vec3 aPosition;
IN vec3 aNormal;
IN vec2 aTexCoord;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

uniform vec4 uMaterialColor;
uniform bool uUseVertexColor;

OUT vec3 vVertexNormal;
OUT highp vec2 vVertTexCoord;
OUT vec4 vColor;

void main(void) {
  HOOK_beforeVertex();
  vec4 positionVec4 = vec4(HOOK_getWorldPosition(
    (uModelViewMatrix * vec4(HOOK_getLocalPosition(aPosition), 1.0)).xyz
  ), 1.);

  gl_Position = uProjectionMatrix * positionVec4;

  vVertexNormal = HOOK_getWorldNormal(normalize(uNormalMatrix * HOOK_getLocalNormal(aNormal)));
  vVertTexCoord = HOOK_getUV(aTexCoord);
  vColor = HOOK_getVertexColor(uUseVertexColor ? aVertexColor : uMaterialColor);
  HOOK_afterVertex();
}
`,normalFrag:`IN vec3 vVertexNormal;
void main(void) {
  HOOK_beforeFragment();
  OUT_COLOR = HOOK_getFinalColor(vec4(vVertexNormal, 1.0));
  HOOK_afterFragment();
}
`,basicFrag:`IN vec4 vColor;
void main(void) {
  HOOK_beforeFragment();
  OUT_COLOR = HOOK_getFinalColor(vec4(vColor.rgb, 1.) * vColor.a);
  HOOK_afterFragment();
}
`,lightVert:N+`// include lighting.glgl

IN vec3 aPosition;
IN vec3 aNormal;
IN vec2 aTexCoord;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

uniform bool uUseVertexColor;
uniform vec4 uMaterialColor;

OUT highp vec2 vVertTexCoord;
OUT vec3 vDiffuseColor;
OUT vec3 vSpecularColor;
OUT vec4 vColor;

void main(void) {

  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * viewModelPosition;

  vec3 vertexNormal = normalize(uNormalMatrix * aNormal);
  vVertTexCoord = aTexCoord;

  totalLight(viewModelPosition.xyz, vertexNormal, vDiffuseColor, vSpecularColor);

  for (int i = 0; i < 8; i++) {
    if (i < uAmbientLightCount) {
      vDiffuseColor += uAmbientColor[i];
    }
  }
  
  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);
}
`,lightTextureFrag:`uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;
uniform bool uEmissive;

IN highp vec2 vVertTexCoord;
IN vec3 vDiffuseColor;
IN vec3 vSpecularColor;
IN vec4 vColor;

void main(void) {
  if(uEmissive && !isTexture) {
    OUT_COLOR = vColor;
  }
  else {
    vec4 baseColor = isTexture
      // Textures come in with premultiplied alpha. To apply tint and still have
      // premultiplied alpha output, we need to multiply the RGB channels by the
      // tint RGB, and all channels by the tint alpha.
      ? TEXTURE(uSampler, vVertTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)
      // Colors come in with unmultiplied alpha, so we need to multiply the RGB
      // channels by alpha to convert it to premultiplied alpha.
      : vec4(vColor.rgb * vColor.a, vColor.a);
    OUT_COLOR = vec4(baseColor.rgb * vDiffuseColor + vSpecularColor, baseColor.a);
  }
}
`,phongVert:`precision highp int;

IN vec3 aPosition;
IN vec3 aNormal;
IN vec2 aTexCoord;
IN vec4 aVertexColor;

uniform vec3 uAmbientColor[5];

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;
uniform int uAmbientLightCount;

uniform bool uUseVertexColor;
uniform vec4 uMaterialColor;

OUT vec3 vNormal;
OUT vec2 vTexCoord;
OUT vec3 vViewPosition;
OUT vec3 vAmbientColor;
OUT vec4 vColor;

void main(void) {
  HOOK_beforeVertex();
  vec4 viewModelPosition = vec4(HOOK_getWorldPosition(
    (uModelViewMatrix * vec4(HOOK_getLocalPosition(aPosition), 1.0)).xyz
  ), 1.);

  // Pass varyings to fragment shader
  vViewPosition = viewModelPosition.xyz;
  gl_Position = uProjectionMatrix * viewModelPosition;  

  vNormal = HOOK_getWorldNormal(uNormalMatrix * HOOK_getLocalNormal(aNormal));
  vTexCoord = HOOK_getUV(aTexCoord);

  // TODO: this should be a uniform
  vAmbientColor = vec3(0.0);
  for (int i = 0; i < 5; i++) {
    if (i < uAmbientLightCount) {
      vAmbientColor += uAmbientColor[i];
    }
  }
  
  vColor = HOOK_getVertexColor((uUseVertexColor ? aVertexColor : uMaterialColor));
  HOOK_afterVertex();
}
`,phongFrag:N+`// include lighting.glsl
precision highp int;

uniform bool uHasSetAmbient;
uniform vec4 uSpecularMatColor;
uniform vec4 uAmbientMatColor;
uniform vec4 uEmissiveMatColor;

uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;

IN vec3 vNormal;
IN vec2 vTexCoord;
IN vec3 vViewPosition;
IN vec3 vAmbientColor;
IN vec4 vColor;

struct ColorComponents {
  vec3 baseColor;
  float opacity;
  vec3 ambientColor;
  vec3 specularColor;
  vec3 diffuse;
  vec3 ambient;
  vec3 specular;
  vec3 emissive;
};

struct Inputs {
  vec3 normal;
  vec2 texCoord;
  vec3 ambientLight;
  vec3 ambientMaterial;
  vec3 specularMaterial;
  vec3 emissiveMaterial;
  vec4 color;
  float shininess;
  float metalness;
};

void main(void) {
  HOOK_beforeFragment();

  Inputs inputs;
  inputs.normal = normalize(vNormal);
  inputs.texCoord = vTexCoord;
  inputs.ambientLight = vAmbientColor;
  inputs.color = isTexture
      // Textures come in with premultiplied alpha. To apply tint and still have
      // premultiplied alpha output, we need to multiply the RGB channels by the
      // tint RGB, and all channels by the tint alpha.
      ? TEXTURE(uSampler, vTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)
      // Colors come in with unmultiplied alpha, so we need to multiply the RGB
      // channels by alpha to convert it to premultiplied alpha.
      : vec4(vColor.rgb * vColor.a, vColor.a);
  inputs.shininess = uShininess;
  inputs.metalness = uMetallic;
  inputs.ambientMaterial = uHasSetAmbient ? uAmbientMatColor.rgb : inputs.color.rgb;
  inputs.specularMaterial = uSpecularMatColor.rgb;
  inputs.emissiveMaterial = uEmissiveMatColor.rgb;
  inputs = HOOK_getPixelInputs(inputs);

  vec3 diffuse;
  vec3 specular;
  totalLight(vViewPosition, inputs.normal, inputs.shininess, inputs.metalness, diffuse, specular);

  // Calculating final color as result of all lights (plus emissive term).

  vec2 texCoord = inputs.texCoord;
  vec4 baseColor = inputs.color;
  ColorComponents c;
  c.opacity = baseColor.a;
  c.baseColor = baseColor.rgb;
  c.ambientColor = inputs.ambientMaterial;
  c.specularColor = inputs.specularMaterial;
  c.diffuse = diffuse;
  c.ambient = inputs.ambientLight;
  c.specular = specular;
  c.emissive = inputs.emissiveMaterial;
  OUT_COLOR = HOOK_getFinalColor(HOOK_combineColors(c));
  HOOK_afterFragment();
}
`,fontVert:`IN vec3 aPosition;
IN vec2 aTexCoord;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

uniform vec4 uGlyphRect;
uniform float uGlyphOffset;

OUT vec2 vTexCoord;
OUT float w;

void main() {
  vec4 positionVec4 = vec4(aPosition, 1.0);

  // scale by the size of the glyph's rectangle
  positionVec4.xy *= uGlyphRect.zw - uGlyphRect.xy;

  // Expand glyph bounding boxes by 1px on each side to give a bit of room
  // for antialiasing
  vec3 newOrigin = (uModelViewMatrix * vec4(0., 0., 0., 1.)).xyz;
  vec3 newDX = (uModelViewMatrix * vec4(1., 0., 0., 1.)).xyz;
  vec3 newDY = (uModelViewMatrix * vec4(0., 1., 0., 1.)).xyz;
  vec2 pixelScale = vec2(
    1. / length(newOrigin - newDX),
    1. / length(newOrigin - newDY)
  );
  vec2 offset = pixelScale * normalize(aTexCoord - vec2(0.5, 0.5)) * vec2(1., -1.);
  vec2 textureOffset = offset * (1. / vec2(
    uGlyphRect.z - uGlyphRect.x,
    uGlyphRect.w - uGlyphRect.y
  ));

  // move to the corner of the glyph
  positionVec4.xy += uGlyphRect.xy;

  // move to the letter's line offset
  positionVec4.x += uGlyphOffset;

  positionVec4.xy += offset;
  
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vTexCoord = aTexCoord + textureOffset;
  w = gl_Position.w;
}
`,fontFrag:`#ifndef WEBGL2
#extension GL_OES_standard_derivatives : enable
#endif

#if 0
  // simulate integer math using floats
	#define int float
	#define ivec2 vec2
	#define INT(x) float(x)

	int ifloor(float v) { return floor(v); }
	ivec2 ifloor(vec2 v) { return floor(v); }

#else
  // use native integer math
	precision highp int;
	#define INT(x) x

	int ifloor(float v) { return int(v); }
	int ifloor(int v) { return v; }
	ivec2 ifloor(vec2 v) { return ivec2(v); }

#endif

uniform sampler2D uSamplerStrokes;
uniform sampler2D uSamplerRowStrokes;
uniform sampler2D uSamplerRows;
uniform sampler2D uSamplerColStrokes;
uniform sampler2D uSamplerCols;

uniform ivec2 uStrokeImageSize;
uniform ivec2 uCellsImageSize;
uniform ivec2 uGridImageSize;

uniform ivec2 uGridOffset;
uniform ivec2 uGridSize;
uniform vec4 uMaterialColor;

IN vec2 vTexCoord;

// some helper functions
int ROUND(float v) { return ifloor(v + 0.5); }
ivec2 ROUND(vec2 v) { return ifloor(v + 0.5); }
float saturate(float v) { return clamp(v, 0.0, 1.0); }
vec2 saturate(vec2 v) { return clamp(v, 0.0, 1.0); }

int mul(float v1, int v2) {
  return ifloor(v1 * float(v2));
}

ivec2 mul(vec2 v1, ivec2 v2) {
  return ifloor(v1 * vec2(v2) + 0.5);
}

// unpack a 16-bit integer from a float vec2
int getInt16(vec2 v) {
  ivec2 iv = ROUND(v * 255.0);
  return iv.x * INT(128) + iv.y;
}

vec2 pixelScale;
vec2 coverage = vec2(0.0);
vec2 weight = vec2(0.5);
const float minDistance = 1.0/8192.0;
const float hardness = 1.05; // amount of antialias

// the maximum number of curves in a glyph
const int N = INT(250);

// retrieves an indexed pixel from a sampler
vec4 getTexel(sampler2D sampler, int pos, ivec2 size) {
  int width = size.x;
  int y = ifloor(pos / width);
  int x = pos - y * width;  // pos % width

  return TEXTURE(sampler, (vec2(x, y) + 0.5) / vec2(size));
}

void calulateCrossings(vec2 p0, vec2 p1, vec2 p2, out vec2 C1, out vec2 C2) {

  // get the coefficients of the quadratic in t
  vec2 a = p0 - p1 * 2.0 + p2;
  vec2 b = p0 - p1;
  vec2 c = p0 - vTexCoord;

  // found out which values of 't' it crosses the axes
  vec2 surd = sqrt(max(vec2(0.0), b * b - a * c));
  vec2 t1 = ((b - surd) / a).yx;
  vec2 t2 = ((b + surd) / a).yx;

  // approximate straight lines to avoid rounding errors
  if (abs(a.y) < 0.001)
    t1.x = t2.x = c.y / (2.0 * b.y);

  if (abs(a.x) < 0.001)
    t1.y = t2.y = c.x / (2.0 * b.x);

  // plug into quadratic formula to find the corrdinates of the crossings
  C1 = ((a * t1 - b * 2.0) * t1 + c) * pixelScale;
  C2 = ((a * t2 - b * 2.0) * t2 + c) * pixelScale;
}

void coverageX(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  // determine on which side of the x-axis the points lie
  bool y0 = p0.y > vTexCoord.y;
  bool y1 = p1.y > vTexCoord.y;
  bool y2 = p2.y > vTexCoord.y;

  // could web be under the curve (after t1)?
  if (y1 ? !y2 : y0) {
    // add the coverage for t1
    coverage.x += saturate(C1.x + 0.5);
    // calculate the anti-aliasing for t1
    weight.x = min(weight.x, abs(C1.x));
  }

  // are we outside the curve (after t2)?
  if (y1 ? !y0 : y2) {
    // subtract the coverage for t2
    coverage.x -= saturate(C2.x + 0.5);
    // calculate the anti-aliasing for t2
    weight.x = min(weight.x, abs(C2.x));
  }
}

// this is essentially the same as coverageX, but with the axes swapped
void coverageY(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  bool x0 = p0.x > vTexCoord.x;
  bool x1 = p1.x > vTexCoord.x;
  bool x2 = p2.x > vTexCoord.x;

  if (x1 ? !x2 : x0) {
    coverage.y -= saturate(C1.y + 0.5);
    weight.y = min(weight.y, abs(C1.y));
  }

  if (x1 ? !x0 : x2) {
    coverage.y += saturate(C2.y + 0.5);
    weight.y = min(weight.y, abs(C2.y));
  }
}

void main() {

  // calculate the pixel scale based on screen-coordinates
  pixelScale = hardness / fwidth(vTexCoord);

  // which grid cell is this pixel in?
  ivec2 gridCoord = ifloor(vTexCoord * vec2(uGridSize));

  // intersect curves in this row
  {
    // the index into the row info bitmap
    int rowIndex = gridCoord.y + uGridOffset.y;
    // fetch the info texel
    vec4 rowInfo = getTexel(uSamplerRows, rowIndex, uGridImageSize);
    // unpack the rowInfo
    int rowStrokeIndex = getInt16(rowInfo.xy);
    int rowStrokeCount = getInt16(rowInfo.zw);

    for (int iRowStroke = INT(0); iRowStroke < N; iRowStroke++) {
      if (iRowStroke >= rowStrokeCount)
        break;

      // each stroke is made up of 3 points: the start and control point
      // and the start of the next curve.
      // fetch the indices of this pair of strokes:
      vec4 strokeIndices = getTexel(uSamplerRowStrokes, rowStrokeIndex++, uCellsImageSize);

      // unpack the stroke index
      int strokePos = getInt16(strokeIndices.xy);

      // fetch the two strokes
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);

      // calculate the coverage
      coverageX(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  // intersect curves in this column
  {
    int colIndex = gridCoord.x + uGridOffset.x;
    vec4 colInfo = getTexel(uSamplerCols, colIndex, uGridImageSize);
    int colStrokeIndex = getInt16(colInfo.xy);
    int colStrokeCount = getInt16(colInfo.zw);
    
    for (int iColStroke = INT(0); iColStroke < N; iColStroke++) {
      if (iColStroke >= colStrokeCount)
        break;

      vec4 strokeIndices = getTexel(uSamplerColStrokes, colStrokeIndex++, uCellsImageSize);

      int strokePos = getInt16(strokeIndices.xy);
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);
      coverageY(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  weight = saturate(1.0 - weight * 2.0);
  float distance = max(weight.x + weight.y, minDistance); // manhattan approx.
  float antialias = abs(dot(coverage, weight) / distance);
  float cover = min(abs(coverage.x), abs(coverage.y));
  OUT_COLOR = vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a;
  OUT_COLOR *= saturate(max(antialias, cover));
}
`,lineVert:L+`/*
  Part of the Processing project - http://processing.org
  Copyright (c) 2012-15 The Processing Foundation
  Copyright (c) 2004-12 Ben Fry and Casey Reas
  Copyright (c) 2001-04 Massachusetts Institute of Technology
  This library is free software; you can redistribute it and/or
  modify it under the terms of the GNU Lesser General Public
  License as published by the Free Software Foundation, version 2.1.
  This library is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
  Lesser General Public License for more details.
  You should have received a copy of the GNU Lesser General
  Public License along with this library; if not, write to the
  Free Software Foundation, Inc., 59 Temple Place, Suite 330,
  Boston, MA  02111-1307  USA
*/

#define PROCESSING_LINE_SHADER

precision mediump int;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform float uStrokeWeight;

uniform bool uUseLineColor;
uniform vec4 uMaterialColor;

uniform vec4 uViewport;
uniform int uPerspective;
uniform int uStrokeJoin;

IN vec4 aPosition;
IN vec3 aTangentIn;
IN vec3 aTangentOut;
IN float aSide;
IN vec4 aVertexColor;

OUT vec4 vColor;
OUT vec2 vTangent;
OUT vec2 vCenter;
OUT vec2 vPosition;
OUT float vMaxDist;
OUT float vCap;
OUT float vJoin;
OUT float vStrokeWeight;

vec2 lineIntersection(vec2 aPoint, vec2 aDir, vec2 bPoint, vec2 bDir) {
  // Rotate and translate so a starts at the origin and goes out to the right
  bPoint -= aPoint;
  vec2 rotatedBFrom = vec2(
    bPoint.x*aDir.x + bPoint.y*aDir.y,
    bPoint.y*aDir.x - bPoint.x*aDir.y
  );
  vec2 bTo = bPoint + bDir;
  vec2 rotatedBTo = vec2(
    bTo.x*aDir.x + bTo.y*aDir.y,
    bTo.y*aDir.x - bTo.x*aDir.y
  );
  float intersectionDistance =
    rotatedBTo.x + (rotatedBFrom.x - rotatedBTo.x) * rotatedBTo.y /
    (rotatedBTo.y - rotatedBFrom.y);
  return aPoint + aDir * intersectionDistance;
}

void main() {
  HOOK_beforeVertex();
  // Caps have one of either the in or out tangent set to 0
  vCap = (aTangentIn == vec3(0.)) != (aTangentOut == (vec3(0.)))
    ? 1. : 0.;

  // Joins have two unique, defined tangents
  vJoin = (
    aTangentIn != vec3(0.) &&
    aTangentOut != vec3(0.) &&
    aTangentIn != aTangentOut
  ) ? 1. : 0.;

  vec4 localPosition = vec4(HOOK_getLocalPosition(aPosition.xyz), 1.);
  vec4 posp = vec4(HOOK_getWorldPosition((uModelViewMatrix * localPosition).xyz), 1.);
  vec4 posqIn = posp + uModelViewMatrix * vec4(aTangentIn, 0);
  vec4 posqOut = posp + uModelViewMatrix * vec4(aTangentOut, 0);
  float strokeWeight = HOOK_getStrokeWeight(uStrokeWeight);
  vStrokeWeight = strokeWeight;

  float facingCamera = pow(
    // The word space tangent's z value is 0 if it's facing the camera
    abs(normalize(posqIn-posp).z),

    // Using pow() here to ramp \`facingCamera\` up from 0 to 1 really quickly
    // so most lines get scaled and don't get clipped
    0.25
  );

  // Moving vertices slightly toward the camera
  // to avoid depth-fighting with the fill triangles.
  // A mix of scaling and offsetting is used based on distance
  // Discussion here:
  // https://github.com/processing/p5.js/issues/7200 

  // using a scale <1 moves the lines towards nearby camera
  // in order to prevent popping effects due to half of
  // the line disappearing behind the geometry faces.
  float zDistance = -posp.z; 
  float distanceFactor = smoothstep(0.0, 800.0, zDistance); 
  
  // Discussed here:
  // http://www.opengl.org/discussion_boards/ubbthreads.php?ubb=showflat&Number=252848  
  float scale = mix(1., 0.995, facingCamera);
  float dynamicScale = mix(scale, 1.0, distanceFactor); // Closer = more scale, farther = less

  posp.xyz = posp.xyz * dynamicScale;
  posqIn.xyz = posqIn.xyz * dynamicScale;
  posqOut.xyz = posqOut.xyz * dynamicScale;

  // Moving vertices slightly toward camera when far away 
  // https://github.com/processing/p5.js/issues/6956 
  float zOffset = mix(-0.00045, -1., facingCamera);
  float dynamicZAdjustment = mix(0.0, zOffset, distanceFactor); // Closer = less zAdjustment, farther = more

  posp.z -= dynamicZAdjustment;
  posqIn.z -= dynamicZAdjustment;
  posqOut.z -= dynamicZAdjustment;
  
  vec4 p = uProjectionMatrix * posp;
  vec4 qIn = uProjectionMatrix * posqIn;
  vec4 qOut = uProjectionMatrix * posqOut;
  vCenter = HOOK_getLineCenter(p.xy);

  // formula to convert from clip space (range -1..1) to screen space (range 0..[width or height])
  // screen_p = (p.xy/p.w + <1,1>) * 0.5 * uViewport.zw

  // prevent division by W by transforming the tangent formula (div by 0 causes
  // the line to disappear, see https://github.com/processing/processing/issues/5183)
  // t = screen_q - screen_p
  //
  // tangent is normalized and we don't care which aDirection it points to (+-)
  // t = +- normalize( screen_q - screen_p )
  // t = +- normalize( (q.xy/q.w+<1,1>)*0.5*uViewport.zw - (p.xy/p.w+<1,1>)*0.5*uViewport.zw )
  //
  // extract common factor, <1,1> - <1,1> cancels out
  // t = +- normalize( (q.xy/q.w - p.xy/p.w) * 0.5 * uViewport.zw )
  //
  // convert to common divisor
  // t = +- normalize( ((q.xy*p.w - p.xy*q.w) / (p.w*q.w)) * 0.5 * uViewport.zw )
  //
  // remove the common scalar divisor/factor, not needed due to normalize and +-
  // (keep uViewport - can't remove because it has different components for x and y
  //  and corrects for aspect ratio, see https://github.com/processing/processing/issues/5181)
  // t = +- normalize( (q.xy*p.w - p.xy*q.w) * uViewport.zw )

  vec2 tangentIn = normalize((qIn.xy*p.w - p.xy*qIn.w) * uViewport.zw);
  vec2 tangentOut = normalize((qOut.xy*p.w - p.xy*qOut.w) * uViewport.zw);

  vec2 curPerspScale;
  if(uPerspective == 1) {
    // Perspective ---
    // convert from world to clip by multiplying with projection scaling factor
    // to get the right thickness (see https://github.com/processing/processing/issues/5182)

    // The y value of the projection matrix may be flipped if rendering to a Framebuffer.
    // Multiplying again by its sign here negates the flip to get just the scale.
    curPerspScale = (uProjectionMatrix * vec4(1, sign(uProjectionMatrix[1][1]), 0, 0)).xy;
  } else {
    // No Perspective ---
    // multiply by W (to cancel out division by W later in the pipeline) and
    // convert from screen to clip (derived from clip to screen above)
    curPerspScale = p.w / (0.5 * uViewport.zw);
  }

  vec2 offset;
  if (vJoin == 1.) {
    vTangent = normalize(tangentIn + tangentOut);
    vec2 normalIn = vec2(-tangentIn.y, tangentIn.x);
    vec2 normalOut = vec2(-tangentOut.y, tangentOut.x);
    float side = sign(aSide);
    float sideEnum = abs(aSide);

    // We generate vertices for joins on either side of the centerline, but
    // the "elbow" side is the only one needing a join. By not setting the
    // offset for the other side, all its vertices will end up in the same
    // spot and not render, effectively discarding it.
    if (sign(dot(tangentOut, vec2(-tangentIn.y, tangentIn.x))) != side) {
      // Side enums:
      //   1: the side going into the join
      //   2: the middle of the join
      //   3: the side going out of the join
      if (sideEnum == 2.) {
        // Calculate the position + tangent on either side of the join, and
        // find where the lines intersect to find the elbow of the join
        vec2 c = (posp.xy/posp.w + vec2(1.,1.)) * 0.5 * uViewport.zw;
        vec2 intersection = lineIntersection(
          c + (side * normalIn * strokeWeight / 2.),
          tangentIn,
          c + (side * normalOut * strokeWeight / 2.),
          tangentOut
        );
        offset = (intersection - c);

        // When lines are thick and the angle of the join approaches 180, the
        // elbow might be really far from the center. We'll apply a limit to
        // the magnitude to avoid lines going across the whole screen when this
        // happens.
        float mag = length(offset);
        float maxMag = 3. * strokeWeight;
        if (mag > maxMag) {
          offset *= maxMag / mag;
        }
      } else if (sideEnum == 1.) {
        offset = side * normalIn * strokeWeight / 2.;
      } else if (sideEnum == 3.) {
        offset = side * normalOut * strokeWeight / 2.;
      }
    }
    if (uStrokeJoin == STROKE_JOIN_BEVEL) {
      vec2 avgNormal = vec2(-vTangent.y, vTangent.x);
      vMaxDist = abs(dot(avgNormal, normalIn * strokeWeight / 2.));
    } else {
      vMaxDist = strokeWeight / 2.;
    }
  } else {
    vec2 tangent = aTangentIn == vec3(0.) ? tangentOut : tangentIn;
    vTangent = tangent;
    vec2 normal = vec2(-tangent.y, tangent.x);

    float normalOffset = sign(aSide);
    // Caps will have side values of -2 or 2 on the edge of the cap that
    // extends out from the line
    float tangentOffset = abs(aSide) - 1.;
    offset = (normal * normalOffset + tangent * tangentOffset) *
      strokeWeight * 0.5;
    vMaxDist = strokeWeight / 2.;
  }
  vPosition = HOOK_getLinePosition(vCenter + offset);

  gl_Position.xy = p.xy + offset.xy * curPerspScale;
  gl_Position.zw = p.zw;
  
  vColor = HOOK_getVertexColor(uUseLineColor ? aVertexColor : uMaterialColor);
  HOOK_afterVertex();
}
`,lineFrag:L+`precision mediump int;

uniform vec4 uMaterialColor;
uniform int uStrokeCap;
uniform int uStrokeJoin;

IN vec4 vColor;
IN vec2 vTangent;
IN vec2 vCenter;
IN vec2 vPosition;
IN float vStrokeWeight;
IN float vMaxDist;
IN float vCap;
IN float vJoin;

float distSquared(vec2 a, vec2 b) {
  vec2 aToB = b - a;
  return dot(aToB, aToB);
}

struct Inputs {
  vec4 color;
  vec2 tangent;
  vec2 center;
  vec2 position;
  float strokeWeight;
};

void main() {
  HOOK_beforeFragment();

  Inputs inputs;
  inputs.color = vColor;
  inputs.tangent = vTangent;
  inputs.center = vCenter;
  inputs.position = vPosition;
  inputs.strokeWeight = vStrokeWeight;
  inputs = HOOK_getPixelInputs(inputs);

  if (vCap > 0.) {
    if (
      uStrokeCap == STROKE_CAP_ROUND &&
      HOOK_shouldDiscard(distSquared(inputs.position, inputs.center) > inputs.strokeWeight * inputs.strokeWeight * 0.25)
    ) {
      discard;
    } else if (
      uStrokeCap == STROKE_CAP_SQUARE &&
      HOOK_shouldDiscard(dot(inputs.position - inputs.center, inputs.tangent) > 0.)
    ) {
      discard;
    // Use full area for PROJECT
    } else if (HOOK_shouldDiscard(false)) {
      discard;
    }
  } else if (vJoin > 0.) {
    if (
      uStrokeJoin == STROKE_JOIN_ROUND &&
      HOOK_shouldDiscard(distSquared(inputs.position, inputs.center) > inputs.strokeWeight * inputs.strokeWeight * 0.25)
    ) {
      discard;
    } else if (uStrokeJoin == STROKE_JOIN_BEVEL) {
      vec2 normal = vec2(-inputs.tangent.y, inputs.tangent.x);
      if (HOOK_shouldDiscard(abs(dot(inputs.position - inputs.center, normal)) > vMaxDist)) {
        discard;
      }
    // Use full area for MITER
    } else if (HOOK_shouldDiscard(false)) {
      discard;
    }
  }
  OUT_COLOR = HOOK_getFinalColor(vec4(inputs.color.rgb, 1.) * inputs.color.a);
  HOOK_afterFragment();
}
`,pointVert:`IN vec3 aPosition;
uniform float uPointSize;
OUT float vStrokeWeight;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

void main() {
  HOOK_beforeVertex();
  vec4 viewModelPosition = vec4(HOOK_getWorldPosition(
    (uModelViewMatrix * vec4(HOOK_getLocalPosition(aPosition), 1.0)).xyz
  ), 1.);
  gl_Position = uProjectionMatrix * viewModelPosition;  

  float pointSize = HOOK_getPointSize(uPointSize);

	gl_PointSize = pointSize;
	vStrokeWeight = pointSize;
  HOOK_afterVertex();
}
`,pointFrag:`precision mediump int;
uniform vec4 uMaterialColor;
IN float vStrokeWeight;

void main(){
  HOOK_beforeFragment();
  float mask = 0.0;

  // make a circular mask using the gl_PointCoord (goes from 0 - 1 on a point)
  // might be able to get a nicer edge on big strokeweights with smoothstep but slightly less performant

  mask = step(0.98, length(gl_PointCoord * 2.0 - 1.0));

  // if strokeWeight is 1 or less lets just draw a square
  // this prevents weird artifacting from carving circles when our points are really small
  // if strokeWeight is larger than 1, we just use it as is

  mask = mix(0.0, mask, clamp(floor(vStrokeWeight - 0.5),0.0,1.0));

  // throw away the borders of the mask
  // otherwise we get weird alpha blending issues

  if(HOOK_shouldDiscard(mask > 0.98)){
    discard;
  }

  OUT_COLOR = HOOK_getFinalColor(vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a);
  HOOK_afterFragment();
}
`,imageLightVert:`precision highp float;
attribute vec3 aPosition;
attribute vec3 aNormal;
attribute vec2 aTexCoord;

varying vec3 localPos;
varying vec3 vWorldNormal;
varying vec3 vWorldPosition;
varying vec2 vTexCoord;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

void main() {
  // Multiply the position by the matrix.
  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * viewModelPosition;  
  
  // orient the normals and pass to the fragment shader
  vWorldNormal = uNormalMatrix * aNormal;
  
  // send the view position to the fragment shader
  vWorldPosition = (uModelViewMatrix * vec4(aPosition, 1.0)).xyz;
  
  localPos = vWorldPosition;
  vTexCoord = aTexCoord;
}


/*
in the vertex shader we'll compute the world position and world oriented normal of the vertices and pass those to the fragment shader as varyings.
*/
`,imageLightDiffusedFrag:`precision highp float;
varying vec3 localPos;

// the HDR cubemap converted (can be from an equirectangular environment map.)
uniform sampler2D environmentMap;
varying vec2 vTexCoord;

const float PI = 3.14159265359;

vec2 nTOE( vec3 v ){
  // x = r sin(phi) cos(theta)   
  // y = r cos(phi)  
  // z = r sin(phi) sin(theta)
  float phi = acos( v.y );
  // if phi is 0, then there are no x, z components
  float theta = 0.0;
  // else 
  theta = acos(v.x / sin(phi));
  float sinTheta = v.z / sin(phi);
  if (sinTheta < 0.0) {
    // Turn it into -theta, but in the 0-2PI range
    theta = 2.0 * PI - theta;
  }
  theta = theta / (2.0 * 3.14159);
  phi = phi / 3.14159 ;
  
  vec2 angles = vec2( phi, theta );
  return angles;
}

float random(vec2 p) {
  vec3 p3  = fract(vec3(p.xyx) * .1031);
  p3 += dot(p3, p3.yzx + 33.33);
  return fract((p3.x + p3.y) * p3.z);
}

void main()
{   	 
	// the sample direction equals the hemisphere's orientation
  float phi = vTexCoord.x * 2.0 * PI;
  float theta = vTexCoord.y * PI;
  float x = sin(theta) * cos(phi);
  float y = sin(theta) * sin(phi);
  float z = cos(theta);
  vec3 normal = vec3( x, y, z);

	// Discretely sampling the hemisphere given the integral's
  // spherical coordinates translates to the following fragment code:
	vec3 irradiance = vec3(0.0);  
	vec3 up	= vec3(0.0, 1.0, 0.0);
	vec3 right = normalize(cross(up, normal));
	up = normalize(cross(normal, right));

	//  We specify a fixed sampleDelta delta value to traverse
  // the hemisphere; decreasing or increasing the sample delta
  // will increase or decrease the accuracy respectively.
	const float sampleDelta = 0.100;
	float nrSamples = 0.0;
  float randomOffset = random(gl_FragCoord.xy) * sampleDelta;
	for(float rawPhi = 0.0; rawPhi < 2.0 * PI; rawPhi += sampleDelta)
	{
    float phi = rawPhi + randomOffset;
    for(float rawTheta = 0.0; rawTheta < ( 0.5 ) * PI; rawTheta += sampleDelta)
    {
      float theta = rawTheta + randomOffset;
      // spherical to cartesian (in tangent space) // tangent space to world // add each sample result to irradiance
      float x = sin(theta) * cos(phi);
      float y = sin(theta) * sin(phi);
      float z = cos(theta);
      vec3 tangentSample = vec3( x, y, z);
      
      vec3 sampleVec = tangentSample.x * right + tangentSample.y * up + tangentSample.z * normal;
        irradiance += (texture2D(environmentMap, nTOE(sampleVec)).xyz) * cos(theta) * sin(theta);
      nrSamples++;
    }
	}
	// divide by the total number of samples taken, giving us the average sampled irradiance.
	irradiance = PI * irradiance * (1.0 / float(nrSamples )) ;
  
 
	gl_FragColor = vec4(irradiance, 1.0);
}`,imageLightSpecularFrag:`precision highp float;\r
varying vec3 localPos;\r
varying vec2 vTexCoord;\r
\r
// our texture\r
uniform sampler2D environmentMap;\r
uniform float roughness;\r
\r
const float PI = 3.14159265359;\r
\r
float VanDerCorput(int bits);\r
vec2 HammersleyNoBitOps(int i, int N);\r
vec3 ImportanceSampleGGX(vec2 Xi, vec3 N, float roughness);\r
\r
\r
vec2 nTOE( vec3 v ){\r
  // x = r sin(phi) cos(theta)   \r
  // y = r cos(phi)  \r
  // z = r sin(phi) sin(theta)\r
  float phi = acos( v.y );\r
  // if phi is 0, then there are no x, z components\r
  float theta = 0.0;\r
  // else \r
  theta = acos(v.x / sin(phi));\r
  float sinTheta = v.z / sin(phi);\r
  if (sinTheta < 0.0) {\r
    // Turn it into -theta, but in the 0-2PI range\r
    theta = 2.0 * PI - theta;\r
  }\r
  theta = theta / (2.0 * 3.14159);\r
  phi = phi / 3.14159 ;\r
  \r
  vec2 angles = vec2( phi, theta );\r
  return angles;\r
}\r
\r
\r
void main(){\r
  const int SAMPLE_COUNT = 400; // 4096\r
  int lowRoughnessLimit = int(pow(2.0,(roughness+0.1)*20.0));\r
  float totalWeight = 0.0;\r
  vec3 prefilteredColor = vec3(0.0);\r
  float phi = vTexCoord.x * 2.0 * PI;\r
  float theta = vTexCoord.y * PI;\r
  float x = sin(theta) * cos(phi);\r
  float y = sin(theta) * sin(phi);\r
  float z = cos(theta);\r
  vec3 N = vec3(x,y,z);\r
  vec3 V = N;\r
  for (int i = 0; i < SAMPLE_COUNT; ++i)\r
  {\r
    // break at smaller sample numbers for low roughness levels\r
    if(i == lowRoughnessLimit)\r
    {\r
      break;\r
    }\r
    vec2 Xi = HammersleyNoBitOps(i, SAMPLE_COUNT);\r
    vec3 H = ImportanceSampleGGX(Xi, N, roughness);\r
    vec3 L = normalize(2.0 * dot(V, H) * H - V);\r
\r
    float NdotL = max(dot(N, L), 0.0);\r
    if (NdotL > 0.0)\r
    {\r
      prefilteredColor += texture2D(environmentMap, nTOE(L)).xyz * NdotL;\r
      totalWeight += NdotL;\r
    }\r
  }\r
  prefilteredColor = prefilteredColor / totalWeight;\r
\r
  gl_FragColor = vec4(prefilteredColor, 1.0);\r
}\r
\r
vec3 ImportanceSampleGGX(vec2 Xi, vec3 N, float roughness){\r
  float a = roughness * roughness;\r
\r
  float phi = 2.0 * PI * Xi.x;\r
  float cosTheta = sqrt((1.0 - Xi.y) / (1.0 + (a * a - 1.0) * Xi.y));\r
  float sinTheta = sqrt(1.0 - cosTheta * cosTheta);\r
  // from spherical coordinates to cartesian coordinates\r
  vec3 H;\r
  H.x = cos(phi) * sinTheta;\r
  H.y = sin(phi) * sinTheta;\r
  H.z = cosTheta;\r
\r
  // from tangent-space vector to world-space sample vector\r
  vec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);\r
  vec3 tangent = normalize(cross(up, N));\r
  vec3 bitangent = cross(N, tangent);\r
\r
  vec3 sampleVec = tangent * H.x + bitangent * H.y + N * H.z;\r
  return normalize(sampleVec);\r
}\r
\r
\r
float VanDerCorput(int n, int base)\r
{\r
#ifdef WEBGL2\r
\r
    uint bits = uint(n);\r
    bits = (bits << 16u) | (bits >> 16u);\r
    bits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);\r
    bits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);\r
    bits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);\r
    bits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);\r
    return float(bits) * 2.3283064365386963e-10; // / 0x100000000\r
\r
#else\r
\r
  float invBase = 1.0 / float(base);\r
  float denom = 1.0;\r
  float result = 0.0;\r
\r
\r
  for (int i = 0; i < 32; ++i)\r
  {\r
        if (n > 0)\r
        {\r
        denom = mod(float(n), 2.0);\r
        result += denom * invBase;\r
        invBase = invBase / 2.0;\r
        n = int(float(n) / 2.0);\r
        }\r
  }\r
\r
\r
  return result;\r
\r
#endif\r
}\r
\r
vec2 HammersleyNoBitOps(int i, int N)\r
{\r
  return vec2(float(i) / float(N), VanDerCorput(i, 2));\r
}\r
`},W=q.sphereMappingFrag;for(j in q)q[j]=`#ifdef WEBGL2

#define IN in
#define OUT out

#ifdef FRAGMENT_SHADER
out vec4 outColor;
#define OUT_COLOR outColor
#endif
#define TEXTURE texture

#else

#ifdef FRAGMENT_SHADER
#define IN varying
#else
#define IN attribute
#endif
#define OUT varying
#define TEXTURE texture2D

#ifdef FRAGMENT_SHADER
#define OUT_COLOR gl_FragColor
#endif

#endif
`+q[j];D(N={},u.GRAY,`precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  return dot(color, vec3(0.2126, 0.7152, 0.0722));
}

void main() {
  vec4 tex = texture2D(tex0, vTexCoord);
  float gray = luma(tex.rgb);
  gl_FragColor = vec4(gray, gray, gray, tex.a);
}
`),D(N,u.ERODE,`// Reduces the bright areas in an image

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform vec2 texelSize;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  // weights 77, 151, 28 taken from src/image/filters.js
  return dot(color, vec3(0.300781, 0.589844, 0.109375));
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  float lum = luma(color.rgb);

  // set current color as the darkest neighbor color

  vec4 neighbors[4];
  neighbors[0] = texture2D(tex0, vTexCoord + vec2( texelSize.x, 0.0));
  neighbors[1] = texture2D(tex0, vTexCoord + vec2(-texelSize.x, 0.0));
  neighbors[2] = texture2D(tex0, vTexCoord + vec2(0.0,  texelSize.y));
  neighbors[3] = texture2D(tex0, vTexCoord + vec2(0.0, -texelSize.y));

  for (int i = 0; i < 4; i++) {
    vec4 neighborColor = neighbors[i];
    float neighborLum = luma(neighborColor.rgb);

    if (neighborLum < lum) {
      color = neighborColor;
      lum = neighborLum;
    }
  }

  gl_FragColor = color;
}
`),D(N,u.DILATE,`// Increase the bright areas in an image

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform vec2 texelSize;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  // weights 77, 151, 28 taken from src/image/filters.js
  return dot(color, vec3(0.300781, 0.589844, 0.109375));
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  float lum = luma(color.rgb);

  // set current color as the brightest neighbor color

  vec4 neighbors[4];
  neighbors[0] = texture2D(tex0, vTexCoord + vec2( texelSize.x, 0.0));
  neighbors[1] = texture2D(tex0, vTexCoord + vec2(-texelSize.x, 0.0));
  neighbors[2] = texture2D(tex0, vTexCoord + vec2(0.0,  texelSize.y));
  neighbors[3] = texture2D(tex0, vTexCoord + vec2(0.0, -texelSize.y));

  for (int i = 0; i < 4; i++) {
    vec4 neighborColor = neighbors[i];
    float neighborLum = luma(neighborColor.rgb);

    if (neighborLum > lum) {
      color = neighborColor;
      lum = neighborLum;
    }
  }

  gl_FragColor = color;
}
`),D(N,u.BLUR,`precision highp float;

// Two-pass blur filter, unweighted kernel.
// See also a similar blur at Adam Ferriss' repo of shader examples:
// https://github.com/aferriss/p5jsShaderExamples/blob/gh-pages/4_image-effects/4-9_single-pass-blur/effect.frag


uniform sampler2D tex0;
varying vec2 vTexCoord;
uniform vec2 direction;
uniform vec2 canvasSize;
uniform float radius;

float random(vec2 p) {
  vec3 p3  = fract(vec3(p.xyx) * .1031);
  p3 += dot(p3, p3.yzx + 33.33);
  return fract((p3.x + p3.y) * p3.z);
}

// This isn't a real Gaussian weight, it's a quadratic weight. It's what the
// CPU mode's blur uses though, so we also use it here to match.
float quadWeight(float x, float e) {
  return pow(e-abs(x), 2.);
}

void main(){
  vec2 uv = vTexCoord;

  // A reasonable maximum number of samples
  const float maxSamples = 64.0;

  float numSamples = floor(7. * radius);
  if (fract(numSamples / 2.) == 0.) {
    numSamples++;
  }
  vec4 avg = vec4(0.0);
  float total = 0.0;

  // Calculate the spacing to avoid skewing if numSamples > maxSamples
  float spacing = 1.0;
  if (numSamples > maxSamples) {
    spacing = numSamples / maxSamples;
    numSamples = maxSamples;
  }

  float randomOffset = (spacing - 1.0) * mix(-0.5, 0.5, random(gl_FragCoord.xy));
  for (float i = 0.0; i < maxSamples; i++) {
    if (i >= numSamples) break;

    float sample = i * spacing - (numSamples - 1.0) * 0.5 * spacing + randomOffset;
    vec2 sampleCoord = uv + vec2(sample, sample) / canvasSize * direction;
    float weight = quadWeight(sample, (numSamples - 1.0) * 0.5 * spacing);

    avg += weight * texture2D(tex0, sampleCoord);
    total += weight;
  }

  avg /= total;
  gl_FragColor = avg;
}
`),D(N,u.POSTERIZE,`// Limit color space for a stylized cartoon / poster effect

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform float filterParameter;

vec3 quantize(vec3 color, float n) {
  // restrict values to N options/bins
  // and floor each channel to nearest value
  //
  // eg. when N = 5, values = 0.0, 0.25, 0.50, 0.75, 1.0
  // then quantize (0.1, 0.7, 0.9) -> (0.0, 0.5, 1.0)

  color = color * n;
  color = floor(color);
  color = color / (n - 1.0);
  return color;
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);

  vec3 restrictedColor = quantize(color.rgb / color.a, filterParameter);

  gl_FragColor = vec4(restrictedColor.rgb * color.a, color.a);
}
`),D(N,u.OPAQUE,`// Set alpha channel to entirely opaque

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  gl_FragColor = vec4(color.rgb / color.a, 1.0);
}
`),D(N,u.INVERT,`// Set each pixel to inverse value
// Note that original INVERT does not change the opacity, so this follows suit

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;

void main() {
vec4 color = texture2D(tex0, vTexCoord);
vec3 origColor = color.rgb / color.a;
vec3 invertedColor = vec3(1.0) - origColor;
gl_FragColor = vec4(invertedColor * color.a, color.a);
}
`),D(N,u.THRESHOLD,`// Convert pixels to either white or black, 
// depending on if their luma is above or below filterParameter

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform float filterParameter;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  return dot(color, vec3(0.2126, 0.7152, 0.0722));
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  float gray = luma(color.rgb / color.a);
  // floor() used to match src/image/filters.js
  float threshold = floor(filterParameter * 255.0) / 255.0;
  float blackOrWhite = step(threshold, gray);
  gl_FragColor = vec4(vec3(blackOrWhite) * color.a, color.a);
}
`);var Y=N;function J(ee,Q,ye,re,I,U,H,X,ae,le){var he=Q.getParameter(Q.FRAMEBUFFER_BINDING),ye=(Q.bindFramebuffer(Q.FRAMEBUFFER,ye),X===Q.RGBA?4:3),me=U*H*ye,xe=ae===Q.UNSIGNED_BYTE?Uint8Array:Float32Array;if(ee instanceof xe&&ee.length===me||(ee=new xe(me)),Q.readPixels(re,le?le-I-H:I,U,H,X,ae,ee),Q.bindFramebuffer(Q.FRAMEBUFFER,he),le)for(var Se=Math.floor(H/2),pe=new xe(U*ye),Te=0;Te<Se;Te++){var ke=Te*U*4,Me=(H-Te-1)*U*4;pe.set(ee.subarray(ke,ke+4*U)),ee.copyWithin(ke,Me,Me+4*U),ee.set(pe,Me)}return ee}function te(ee,ae,ne,re,I,U,H){var X=ee.getParameter(ee.FRAMEBUFFER_BINDING),ae=(ee.bindFramebuffer(ee.FRAMEBUFFER,ae),I===ee.RGBA?4:3),ae=new(U===ee.UNSIGNED_BYTE?Uint8Array:Float32Array)(ae);return ee.readPixels(ne,H?H-re-1:re,1,1,I,U,ae),ee.bindFramebuffer(ee.FRAMEBUFFER,X),Array.from(ae)}l.default.prototype.setAttributes=function(ee,Q){if(this._glAttributes===void 0)console.log("You are trying to use setAttributes on a p5.Graphics object that does not use a WEBGL renderer.");else{var ne=!0;if(Q!==void 0?(this._glAttributes===null&&(this._glAttributes={}),this._glAttributes[ee]!==Q&&(this._glAttributes[ee]=Q,ne=!1)):ee instanceof Object&&this._glAttributes!==ee&&(this._glAttributes=ee,ne=!1),this._renderer.isP3D&&!ne){if(!this._setupDone){for(var re in this._renderer.retainedMode.geometry)if(this._renderer.retainedMode.geometry.hasOwnProperty(re))return void l.default._friendlyError("Sorry, Could not set the attributes, you need to call setAttributes() before calling the other drawing methods in setup()")}this.push(),this._renderer._resetContext(),this.pop(),this._renderer._curCamera&&(this._renderer._curCamera._renderer=this._renderer)}}},l.default.RendererGL=function(ee){var Q=re;if(typeof ee!="function"&&ee!==null)throw new TypeError("Super expression must either be null or a function");Q.prototype=Object.create(ee&&ee.prototype,{constructor:{value:Q,writable:!0,configurable:!0}}),ee&&x(Q,ee);var ne=w(re);function re(I,U,H,X){if(this instanceof re)return(I=ne.call(this,I,U,H))._setAttributeDefaults(U),I._initContext(),I.isP3D=!0,I.geometryBuilder=void 0,I.GL=I.drawingContext,I._pInst._setProperty("drawingContext",I.drawingContext),I._isErasing=!1,I._clipDepths=[],I._isClipApplied=!1,I._stencilTestOn=!1,I._enableLighting=!1,I.ambientLightColors=[],I.mixedAmbientLight=[],I.mixedSpecularColor=[],I.specularColors=[1,1,1],I.directionalLightDirections=[],I.directionalLightDiffuseColors=[],I.directionalLightSpecularColors=[],I.pointLightPositions=[],I.pointLightDiffuseColors=[],I.pointLightSpecularColors=[],I.spotLightPositions=[],I.spotLightDirections=[],I.spotLightDiffuseColors=[],I.spotLightSpecularColors=[],I.spotLightAngle=[],I.spotLightConc=[],I.activeImageLight=null,I.diffusedTextures=new Map,I.specularTextures=new Map,I.drawMode=u.FILL,I.curFillColor=I._cachedFillStyle=[1,1,1,1],I.curAmbientColor=I._cachedFillStyle=[1,1,1,1],I.curSpecularColor=I._cachedFillStyle=[0,0,0,0],I.curEmissiveColor=I._cachedFillStyle=[0,0,0,0],I.curStrokeColor=I._cachedStrokeStyle=[0,0,0,1],I.curBlendMode=u.BLEND,I.preEraseBlend=void 0,I._cachedBlendMode=void 0,I.webglVersion===u.WEBGL2?I.blendExt=I.GL:I.blendExt=I.GL.getExtension("EXT_blend_minmax"),I._isBlending=!1,I._hasSetAmbient=!1,I._useSpecularMaterial=!1,I._useEmissiveMaterial=!1,I._useNormalMaterial=!1,I._useShininess=1,I._useMetalness=0,I._useLineColor=!1,I._useVertexColor=!1,I.registerEnabled=new Set,I._tint=[255,255,255,255],I.constantAttenuation=1,I.linearAttenuation=0,I.quadraticAttenuation=0,I.uModelMatrix=new l.default.Matrix,I.uViewMatrix=new l.default.Matrix,I.uMVMatrix=new l.default.Matrix,I.uPMatrix=new l.default.Matrix,I.uNMatrix=new l.default.Matrix("mat3"),I.curMatrix=new l.default.Matrix("mat3"),I._currentNormal=new l.default.Vector(0,0,1),I._curCamera=new l.default.Camera(S(I)),I._curCamera._computeCameraDefaultSettings(),I._curCamera._setDefaultCamera(),I.filterCamera=new l.default.Camera(S(I)),I.filterCamera._computeCameraDefaultSettings(),I.filterCamera._setDefaultCamera(),I.prevTouches=[],I.zoomVelocity=0,I.rotateVelocity=new l.default.Vector(0,0),I.moveVelocity=new l.default.Vector(0,0),I.executeZoom=!1,I.executeRotateAndMove=!1,I.specularShader=void 0,I.sphereMapping=void 0,I.diffusedShader=void 0,I._defaultLightShader=void 0,I._defaultImmediateModeShader=void 0,I._defaultNormalShader=void 0,I._defaultColorShader=void 0,I._defaultPointShader=void 0,I.userFillShader=void 0,I.userStrokeShader=void 0,I.userPointShader=void 0,I.retainedMode={geometry:{},buffers:{stroke:[new l.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",S(I)),new l.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",S(I)),new l.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",S(I)),new l.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",S(I)),new l.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",S(I))],fill:[new l.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",S(I),I._vToNArray),new l.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",S(I),I._vToNArray),new l.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",S(I)),new l.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",S(I)),new l.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",S(I),I._flatten)],text:[new l.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",S(I),I._vToNArray),new l.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",S(I),I._flatten)]}},I.immediateMode={geometry:new l.default.Geometry,shapeMode:u.TRIANGLE_FAN,contourIndices:[],_bezierVertex:[],_quadraticVertex:[],_curveVertex:[],buffers:{fill:[new l.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",S(I),I._vToNArray),new l.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",S(I),I._vToNArray),new l.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",S(I)),new l.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",S(I)),new l.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",S(I),I._flatten)],stroke:[new l.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",S(I)),new l.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",S(I)),new l.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",S(I)),new l.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",S(I)),new l.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",S(I))],point:I.GL.createBuffer()}},I.pointSize=5,I.curStrokeWeight=1,I.curStrokeCap=u.ROUND,I.curStrokeJoin=u.ROUND,I.textures=new Map,I.framebuffers=new Set,I.activeFramebuffers=[],I.filterShader=void 0,I.filterLayer=void 0,I.filterLayerTemp=void 0,I.defaultFilterShaders={},I.textureMode=u.IMAGE,I.textureWrapX=u.CLAMP,I.textureWrapY=u.CLAMP,I._tex=null,I._curveTightness=6,I._lookUpTableBezier=[],I._lookUpTableQuadratic=[],I._lutBezierDetail=0,I._lutQuadraticDetail=0,I.isProcessingVertices=!1,I._tessy=I._initTessy(),I.fontInfos={},I._curShader=void 0,I;throw new TypeError("Cannot call a class as a function")}return Q=re,(ee=[{key:"beginGeometry",value:function(){if(this.geometryBuilder)throw new Error("It looks like `beginGeometry()` is being called while another p5.Geometry is already being build.");this.geometryBuilder=new p.default(this)}},{key:"endGeometry",value:function(){var I;if(this.geometryBuilder)return I=this.geometryBuilder.finish(),this.geometryBuilder=void 0,I;throw new Error("Make sure you call beginGeometry() before endGeometry()!")}},{key:"buildGeometry",value:function(I){return this.beginGeometry(),I(),this.endGeometry()}},{key:"_setAttributeDefaults",value:function(I){var U={alpha:!0,depth:!0,stencil:!0,antialias:navigator.userAgent.toLowerCase().includes("safari"),premultipliedAlpha:!0,preserveDrawingBuffer:!0,perPixelLighting:!0,version:2};I._glAttributes===null?I._glAttributes=U:I._glAttributes=Object.assign(U,I._glAttributes)}},{key:"_initContext",value:function(){if(this._pInst._glAttributes.version!==1&&(this.drawingContext=this.canvas.getContext("webgl2",this._pInst._glAttributes)),this.webglVersion=this.drawingContext?u.WEBGL2:u.WEBGL,this._pInst._setProperty("webglVersion",this.webglVersion),this.drawingContext||(this.drawingContext=this.canvas.getContext("webgl",this._pInst._glAttributes)||this.canvas.getContext("experimental-webgl",this._pInst._glAttributes)),this.drawingContext===null)throw new Error("Error creating webgl context");var I=this.drawingContext;I.enable(I.DEPTH_TEST),I.depthFunc(I.LEQUAL),I.viewport(0,0,I.drawingBufferWidth,I.drawingBufferHeight),I.pixelStorei(I.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),this._viewport=this.drawingContext.getParameter(this.drawingContext.VIEWPORT)}},{key:"_getParam",value:function(){var I=this.drawingContext;return I.getParameter(I.MAX_TEXTURE_SIZE)}},{key:"_adjustDimensions",value:function(I,U){this._maxTextureSize||(this._maxTextureSize=this._getParam());var X=this._maxTextureSize,X=(l.default.prototype._maxAllowedPixelDimensions,Math.floor(X/this.pixelDensity())),H=Math.min(I,X),X=Math.min(U,X);return H===I&&X===U||console.warn("Warning: The requested width/height exceeds hardware limits. "+"Adjusting dimensions to width: ".concat(H,", height: ").concat(X,".")),{adjustedWidth:H,adjustedHeight:X}}},{key:"_resetContext",value:function(I,U){var H,X=this.width,ae=this.height,he=this.canvas.id,le=this._pInst instanceof l.default.Graphics,he=(le?((H=this._pInst).canvas.parentNode.removeChild(H.canvas),H.canvas=document.createElement("canvas"),(H._pInst._userNode||document.body).appendChild(H.canvas),l.default.Element.call(H,H.canvas,H._pInst),H.width=X,H.height=ae):((H=this.canvas)&&H.parentNode.removeChild(H),(H=document.createElement("canvas")).id=he,(this._pInst._userNode||document.body).appendChild(H),this._pInst.canvas=H,this.canvas=H),new l.default.RendererGL(this._pInst.canvas,this._pInst,!le));this._pInst._setProperty("_renderer",he),he.resize(X,ae),he._applyDefaults(),le||this._pInst._elements.push(he),typeof U=="function"&&setTimeout(function(){U.apply(window._renderer,I)},0)}},{key:"_update",value:function(){this.uModelMatrix.reset(),this.uViewMatrix.set(this._curCamera.cameraMatrix),this.ambientLightColors.length=0,this.specularColors=[1,1,1],this.directionalLightDirections.length=0,this.directionalLightDiffuseColors.length=0,this.directionalLightSpecularColors.length=0,this.pointLightPositions.length=0,this.pointLightDiffuseColors.length=0,this.pointLightSpecularColors.length=0,this.spotLightPositions.length=0,this.spotLightDirections.length=0,this.spotLightDiffuseColors.length=0,this.spotLightSpecularColors.length=0,this.spotLightAngle.length=0,this.spotLightConc.length=0,this._enableLighting=!1,this._tint=[255,255,255,255],this.GL.clearStencil(0),this.GL.clear(this.GL.DEPTH_BUFFER_BIT|this.GL.STENCIL_BUFFER_BIT),this.GL.disable(this.GL.STENCIL_TEST)}},{key:"background",value:function(){var X=(X=this._pInst).color.apply(X,arguments),I=X.levels[0]/255,U=X.levels[1]/255,H=X.levels[2]/255,X=X.levels[3]/255;this.clear(I,U,H,X)}},{key:"fill",value:function(I,U,H,X){var ae=l.default.prototype.color.apply(this._pInst,arguments);this.curFillColor=ae._array,this.drawMode=u.FILL,this._useNormalMaterial=!1,this._tex=null}},{key:"stroke",value:function(I,U,H,X){var ae=l.default.prototype.color.apply(this._pInst,arguments);this.curStrokeColor=ae._array}},{key:"strokeCap",value:function(I){this.curStrokeCap=I}},{key:"strokeJoin",value:function(I){this.curStrokeJoin=I}},{key:"getFilterLayer",value:function(){return this.filterLayer||(this.filterLayer=this._pInst.createFramebuffer()),this.filterLayer}},{key:"getFilterLayerTemp",value:function(){return this.filterLayerTemp||(this.filterLayerTemp=this._pInst.createFramebuffer()),this.filterLayerTemp}},{key:"matchSize",value:function(I,U){I.width===U.width&&I.height===U.height||I.resize(U.width,U.height),I.pixelDensity()!==U.pixelDensity()&&I.pixelDensity(U.pixelDensity())}},{key:"filter",value:function(){var I,U,H=this,X=this.getFilterLayer(),ae=void 0,le=void 0,he=(typeof(arguments.length<=0?void 0:arguments[0])=="string"?(le=arguments.length<=0?void 0:arguments[0],D(I={},u.BLUR,3),D(I,u.POSTERIZE,4),D(I,u.THRESHOLD,.5),ae=le in(I=I)&&(arguments.length<=1?void 0:arguments[1])===void 0?I[le]:arguments.length<=1?void 0:arguments[1],le in this.defaultFilterShaders||(this.defaultFilterShaders[le]=new l.default.Shader(X._renderer,`uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

attribute vec3 aPosition;
// texcoords only come from p5 to vertex shader
// so pass texcoords on to the fragment shader in a varying variable
attribute vec2 aTexCoord;
varying vec2 vTexCoord;

void main() {
  // transferring texcoords for the frag shader
  vTexCoord = aTexCoord;

  // copy position with a fourth coordinate for projection (1.0 is normal)
  vec4 positionVec4 = vec4(aPosition, 1.0);

  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
}
`,Y[le])),this.filterShader=this.defaultFilterShaders[le]):this.filterShader=arguments.length<=0?void 0:arguments[0],this.activeFramebuffer()||this),ye=(this.matchSize(X,he),X.draw(function(){return H._pInst.clear()}),[1/(he.width*he.pixelDensity()),1/(he.height*he.pixelDensity())]);le===u.BLUR?(U=this.getFilterLayerTemp(),this.matchSize(U,he),this._pInst.push(),this._pInst.noStroke(),this._pInst.blendMode(u.BLEND),this._pInst.shader(this.filterShader),this.filterShader.setUniform("texelSize",ye),this.filterShader.setUniform("canvasSize",[he.width,he.height]),this.filterShader.setUniform("radius",Math.max(1,ae)),U.draw(function(){H.filterShader.setUniform("direction",[1,0]),H.filterShader.setUniform("tex0",he),H._pInst.clear(),H._pInst.shader(H.filterShader),H._pInst.noLights(),H._pInst.plane(he.width,he.height)}),X.draw(function(){H.filterShader.setUniform("direction",[0,1]),H.filterShader.setUniform("tex0",U),H._pInst.clear(),H._pInst.shader(H.filterShader),H._pInst.noLights(),H._pInst.plane(he.width,he.height)}),this._pInst.pop()):X.draw(function(){H._pInst.noStroke(),H._pInst.blendMode(u.BLEND),H._pInst.shader(H.filterShader),H.filterShader.setUniform("tex0",he),H.filterShader.setUniform("texelSize",ye),H.filterShader.setUniform("canvasSize",[he.width,he.height]),H.filterShader.setUniform("filterParameter",ae),H._pInst.noLights(),H._pInst.plane(he.width,he.height)}),this._pInst.push(),this._pInst.noStroke(),this.clear(),this._pInst.push(),this._pInst.imageMode(u.CORNER),this._pInst.blendMode(u.BLEND),he.filterCamera._resize(),this._pInst.setCamera(he.filterCamera),this._pInst.resetMatrix(),this._pInst.image(X,-he.width/2,-he.height/2,he.width,he.height),this._pInst.clearDepth(),this._pInst.pop(),this._pInst.pop()}},{key:"pixelDensity",value:function(I){return I?this._pInst.pixelDensity(I):this._pInst.pixelDensity()}},{key:"blendMode",value:function(I){I===u.DARKEST||I===u.LIGHTEST||I===u.ADD||I===u.BLEND||I===u.SUBTRACT||I===u.SCREEN||I===u.EXCLUSION||I===u.REPLACE||I===u.MULTIPLY||I===u.REMOVE?this.curBlendMode=I:I!==u.BURN&&I!==u.OVERLAY&&I!==u.HARD_LIGHT&&I!==u.SOFT_LIGHT&&I!==u.DODGE||console.warn("BURN, OVERLAY, HARD_LIGHT, SOFT_LIGHT, and DODGE only work for blendMode in 2D mode.")}},{key:"erase",value:function(I,U){this._isErasing||(this.preEraseBlend=this.curBlendMode,this._isErasing=!0,this.blendMode(u.REMOVE),this._cachedFillStyle=this.curFillColor.slice(),this.curFillColor=[1,1,1,I/255],this._cachedStrokeStyle=this.curStrokeColor.slice(),this.curStrokeColor=[1,1,1,U/255])}},{key:"noErase",value:function(){this._isErasing&&(this.curFillColor=this._cachedFillStyle.slice(),this.curStrokeColor=this._cachedStrokeStyle.slice(),this.curBlendMode=this.preEraseBlend,this.blendMode(this.preEraseBlend),this._isErasing=!1,this._applyBlendMode())}},{key:"drawTarget",value:function(){return this.activeFramebuffers[this.activeFramebuffers.length-1]||this}},{key:"beginClip",value:function(){var I=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},I=(_(R(re.prototype),"beginClip",this).call(this,I),this.drawTarget()._isClipApplied=!0,this.GL);I.clearStencil(0),I.clear(I.STENCIL_BUFFER_BIT),I.enable(I.STENCIL_TEST),this._stencilTestOn=!0,I.stencilFunc(I.ALWAYS,1,255),I.stencilOp(I.KEEP,I.KEEP,I.REPLACE),I.disable(I.DEPTH_TEST),this._pInst.push(),this._pInst.resetShader(),this._doFill&&this._pInst.fill(0,0),this._doStroke&&this._pInst.stroke(0,0)}},{key:"endClip",value:function(){this._pInst.pop();var I=this.GL;I.stencilOp(I.KEEP,I.KEEP,I.KEEP),I.stencilFunc(this._clipInvert?I.EQUAL:I.NOTEQUAL,0,255),I.enable(I.DEPTH_TEST),this._clipDepths.push(this._pushPopDepth),_(R(re.prototype),"endClip",this).call(this)}},{key:"_clearClip",value:function(){this.GL.clearStencil(1),this.GL.clear(this.GL.STENCIL_BUFFER_BIT),0<this._clipDepths.length&&this._clipDepths.pop(),this.drawTarget()._isClipApplied=!1}},{key:"strokeWeight",value:function(I){this.curStrokeWeight!==I&&(this.pointSize=I,this.curStrokeWeight=I)}},{key:"_getPixel",value:function(I,U){var H=this.GL;return te(H,null,I,U,H.RGBA,H.UNSIGNED_BYTE,this._pInst.height*this._pInst.pixelDensity())}},{key:"loadPixels",value:function(){var I,U,H=this._pixelsState;this._pInst._glAttributes.preserveDrawingBuffer!==!0?console.log("loadPixels only works in WebGL when preserveDrawingBuffer is true."):(I=this._pInst._pixelDensity,U=this.GL,H._setProperty("pixels",J(H.pixels,U,null,0,0,this.width*I,this.height*I,U.RGBA,U.UNSIGNED_BYTE,this.height*I)))}},{key:"updatePixels",value:function(){var I=this._getTempFramebuffer();I.pixels=this._pixelsState.pixels,I.updatePixels(),this._pInst.push(),this._pInst.resetMatrix(),this._pInst.clear(),this._pInst.imageMode(u.CENTER),this._pInst.image(I,0,0),this._pInst.pop(),this.GL.clearDepth(1),this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}},{key:"_getTempFramebuffer",value:function(){return this._tempFramebuffer||(this._tempFramebuffer=this._pInst.createFramebuffer({format:u.UNSIGNED_BYTE,useDepth:this._pInst._glAttributes.depth,depthFormat:u.UNSIGNED_INT,antialias:this._pInst._glAttributes.antialias})),this._tempFramebuffer}},{key:"geometryInHash",value:function(I){return this.retainedMode.geometry[I]!==void 0}},{key:"viewport",value:function(I,U){this._viewport=[0,0,I,U],this.GL.viewport(0,0,I,U)}},{key:"resize",value:function(ae,X){l.default.Renderer.prototype.resize.call(this,ae,X),this._origViewport={width:this.GL.drawingBufferWidth,height:this.GL.drawingBufferHeight},this.viewport(this._origViewport.width,this._origViewport.height),this._curCamera._resize();var ae=this._pixelsState,H=(ae.pixels!==void 0&&ae._setProperty("pixels",new Uint8Array(this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4)),!0),X=!1,ae=void 0;try{for(var le,he=this.framebuffers[Symbol.iterator]();!(H=(le=he.next()).done);H=!0)le.value._canvasSizeChanged()}catch(ye){X=!0,ae=ye}finally{try{H||he.return==null||he.return()}finally{if(X)throw ae}}}},{key:"clear",value:function(){var I=(arguments.length<=0?void 0:arguments[0])||0,U=(arguments.length<=1?void 0:arguments[1])||0,H=(arguments.length<=2?void 0:arguments[2])||0,X=(arguments.length<=3?void 0:arguments[3])||0,ae=this.activeFramebuffer();ae&&ae.format===u.UNSIGNED_BYTE&&!ae.antialias&&X===0&&(X=1e-10),this.GL.clearColor(I*X,U*X,H*X,X),this.GL.clearDepth(1),this.GL.clear(this.GL.COLOR_BUFFER_BIT|this.GL.DEPTH_BUFFER_BIT)}},{key:"clearDepth",value:function(){this.GL.clearDepth(0<arguments.length&&arguments[0]!==void 0?arguments[0]:1),this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}},{key:"applyMatrix",value:function(I,U,H,X,ae,le){arguments.length===16?l.default.Matrix.prototype.apply.apply(this.uModelMatrix,arguments):this.uModelMatrix.apply([I,U,0,0,H,X,0,0,0,0,1,0,ae,le,0,1])}},{key:"translate",value:function(I,U,H){return I instanceof l.default.Vector&&(H=I.z,U=I.y,I=I.x),this.uModelMatrix.translate([I,U,H]),this}},{key:"scale",value:function(I,U,H){return this.uModelMatrix.scale(I,U,H),this}},{key:"rotate",value:function(I,U){return U===void 0?this.rotateZ(I):(l.default.Matrix.prototype.rotate.apply(this.uModelMatrix,arguments),this)}},{key:"rotateX",value:function(I){return this.rotate(I,1,0,0),this}},{key:"rotateY",value:function(I){return this.rotate(I,0,1,0),this}},{key:"rotateZ",value:function(I){return this.rotate(I,0,0,1),this}},{key:"push",value:function(){var I=l.default.Renderer.prototype.push.apply(this),U=I.properties;return U.uModelMatrix=this.uModelMatrix.copy(),U.uViewMatrix=this.uViewMatrix.copy(),U.uPMatrix=this.uPMatrix.copy(),U._curCamera=this._curCamera,this._curCamera=this._curCamera.copy(),U.ambientLightColors=this.ambientLightColors.slice(),U.specularColors=this.specularColors.slice(),U.directionalLightDirections=this.directionalLightDirections.slice(),U.directionalLightDiffuseColors=this.directionalLightDiffuseColors.slice(),U.directionalLightSpecularColors=this.directionalLightSpecularColors.slice(),U.pointLightPositions=this.pointLightPositions.slice(),U.pointLightDiffuseColors=this.pointLightDiffuseColors.slice(),U.pointLightSpecularColors=this.pointLightSpecularColors.slice(),U.spotLightPositions=this.spotLightPositions.slice(),U.spotLightDirections=this.spotLightDirections.slice(),U.spotLightDiffuseColors=this.spotLightDiffuseColors.slice(),U.spotLightSpecularColors=this.spotLightSpecularColors.slice(),U.spotLightAngle=this.spotLightAngle.slice(),U.spotLightConc=this.spotLightConc.slice(),U.userFillShader=this.userFillShader,U.userStrokeShader=this.userStrokeShader,U.userPointShader=this.userPointShader,U.pointSize=this.pointSize,U.curStrokeWeight=this.curStrokeWeight,U.curStrokeColor=this.curStrokeColor,U.curFillColor=this.curFillColor,U.curAmbientColor=this.curAmbientColor,U.curSpecularColor=this.curSpecularColor,U.curEmissiveColor=this.curEmissiveColor,U._hasSetAmbient=this._hasSetAmbient,U._useSpecularMaterial=this._useSpecularMaterial,U._useEmissiveMaterial=this._useEmissiveMaterial,U._useShininess=this._useShininess,U._useMetalness=this._useMetalness,U.constantAttenuation=this.constantAttenuation,U.linearAttenuation=this.linearAttenuation,U.quadraticAttenuation=this.quadraticAttenuation,U._enableLighting=this._enableLighting,U._useNormalMaterial=this._useNormalMaterial,U._tex=this._tex,U.drawMode=this.drawMode,U._currentNormal=this._currentNormal,U.curBlendMode=this.curBlendMode,U.activeImageLight=this.activeImageLight,U.textureMode=this.textureMode,I}},{key:"pop",value:function(){var I;0<this._clipDepths.length&&this._pushPopDepth===this._clipDepths[this._clipDepths.length-1]&&this._clearClip();for(var U=arguments.length,H=new Array(U),X=0;X<U;X++)H[X]=arguments[X];(I=_(R(re.prototype),"pop",this)).call.apply(I,[this].concat(H)),this._applyStencilTestIfClipping()}},{key:"_applyStencilTestIfClipping",value:function(){var I=this.drawTarget();I._isClipApplied!==this._stencilTestOn&&(I._isClipApplied?(this.GL.enable(this.GL.STENCIL_TEST),this._stencilTestOn=!0):(this.GL.disable(this.GL.STENCIL_TEST),this._stencilTestOn=!1))}},{key:"resetMatrix",value:function(){return this.uModelMatrix.reset(),this.uViewMatrix.set(this._curCamera.cameraMatrix),this}},{key:"_getImmediateStrokeShader",value:function(){var I=this.userStrokeShader;return I&&I.isStrokeShader()?I:this._getLineShader()}},{key:"_getRetainedStrokeShader",value:function(){return this._getImmediateStrokeShader()}},{key:"_getSphereMapping",value:function(I){return this.sphereMapping||(this.sphereMapping=this._pInst.createFilterShader(W)),this.uNMatrix.inverseTranspose(this.uViewMatrix),this.uNMatrix.invert3x3(this.uNMatrix),this.sphereMapping.setUniform("uFovY",this._curCamera.cameraFOV),this.sphereMapping.setUniform("uAspect",this._curCamera.aspectRatio),this.sphereMapping.setUniform("uNewNormalMatrix",this.uNMatrix.mat3),this.sphereMapping.setUniform("uSampler",I),this.sphereMapping}},{key:"_getImmediateFillShader",value:function(){var I=this.userFillShader;if(this._useNormalMaterial&&(!I||!I.isNormalShader()))return this._getNormalShader();if(this._enableLighting){if(!I||!I.isLightShader())return this._getLightShader()}else if(this._tex){if(!I||!I.isTextureShader())return this._getLightShader()}else if(!I)return this._getImmediateModeShader();return I}},{key:"_getRetainedFillShader",value:function(){if(this._useNormalMaterial)return this._getNormalShader();var I=this.userFillShader;if(this._enableLighting){if(!I||!I.isLightShader())return this._getLightShader()}else if(this._tex){if(!I||!I.isTextureShader())return this._getLightShader()}else if(!I)return this._getColorShader();return I}},{key:"_getImmediatePointShader",value:function(){var I=this.userPointShader;return I&&I.isPointShader()?I:this._getPointShader()}},{key:"_getRetainedLineShader",value:function(){return this._getImmediateLineShader()}},{key:"baseMaterialShader",value:function(){if(this._pInst._glAttributes.perPixelLighting)return this._getLightShader();throw new Error("The material shader does not support hooks without perPixelLighting. Try turning it back on.")}},{key:"_getLightShader",value:function(){return this._defaultLightShader||(this._pInst._glAttributes.perPixelLighting?this._defaultLightShader=new l.default.Shader(this,this._webGL2CompatibilityPrefix("vert","highp")+q.phongVert,this._webGL2CompatibilityPrefix("frag","highp")+q.phongFrag,{vertex:{"void beforeVertex":"() {}","vec3 getLocalPosition":"(vec3 position) { return position; }","vec3 getWorldPosition":"(vec3 position) { return position; }","vec3 getLocalNormal":"(vec3 normal) { return normal; }","vec3 getWorldNormal":"(vec3 normal) { return normal; }","vec2 getUV":"(vec2 uv) { return uv; }","vec4 getVertexColor":"(vec4 color) { return color; }","void afterVertex":"() {}"},fragment:{"void beforeFragment":"() {}","Inputs getPixelInputs":"(Inputs inputs) { return inputs; }","vec4 combineColors":`(ColorComponents components) {
                vec4 color = vec4(0.);
                color.rgb += components.diffuse * components.baseColor;
                color.rgb += components.ambient * components.ambientColor;
                color.rgb += components.specular * components.specularColor;
                color.rgb += components.emissive;
                color.a = components.opacity;
                return color;
              }`,"vec4 getFinalColor":"(vec4 color) { return color; }","void afterFragment":"() {}"}}):this._defaultLightShader=new l.default.Shader(this,this._webGL2CompatibilityPrefix("vert","highp")+q.lightVert,this._webGL2CompatibilityPrefix("frag","highp")+q.lightTextureFrag)),this._defaultLightShader}},{key:"_getImmediateModeShader",value:function(){return this._defaultImmediateModeShader||(this._defaultImmediateModeShader=new l.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+q.immediateVert,this._webGL2CompatibilityPrefix("frag","mediump")+q.vertexColorFrag)),this._defaultImmediateModeShader}},{key:"baseNormalShader",value:function(){return this._getNormalShader()}},{key:"_getNormalShader",value:function(){return this._defaultNormalShader||(this._defaultNormalShader=new l.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+q.normalVert,this._webGL2CompatibilityPrefix("frag","mediump")+q.normalFrag,{vertex:{"void beforeVertex":"() {}","vec3 getLocalPosition":"(vec3 position) { return position; }","vec3 getWorldPosition":"(vec3 position) { return position; }","vec3 getLocalNormal":"(vec3 normal) { return normal; }","vec3 getWorldNormal":"(vec3 normal) { return normal; }","vec2 getUV":"(vec2 uv) { return uv; }","vec4 getVertexColor":"(vec4 color) { return color; }","void afterVertex":"() {}"},fragment:{"void beforeFragment":"() {}","vec4 getFinalColor":"(vec4 color) { return color; }","void afterFragment":"() {}"}})),this._defaultNormalShader}},{key:"baseColorShader",value:function(){return this._getColorShader()}},{key:"_getColorShader",value:function(){return this._defaultColorShader||(this._defaultColorShader=new l.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+q.normalVert,this._webGL2CompatibilityPrefix("frag","mediump")+q.basicFrag,{vertex:{"void beforeVertex":"() {}","vec3 getLocalPosition":"(vec3 position) { return position; }","vec3 getWorldPosition":"(vec3 position) { return position; }","vec3 getLocalNormal":"(vec3 normal) { return normal; }","vec3 getWorldNormal":"(vec3 normal) { return normal; }","vec2 getUV":"(vec2 uv) { return uv; }","vec4 getVertexColor":"(vec4 color) { return color; }","void afterVertex":"() {}"},fragment:{"void beforeFragment":"() {}","vec4 getFinalColor":"(vec4 color) { return color; }","void afterFragment":"() {}"}})),this._defaultColorShader}},{key:"pointShader",value:function(){return this._getPointShader()}},{key:"_getPointShader",value:function(){return this._defaultPointShader||(this._defaultPointShader=new l.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+q.pointVert,this._webGL2CompatibilityPrefix("frag","mediump")+q.pointFrag,{vertex:{"void beforeVertex":"() {}","vec3 getLocalPosition":"(vec3 position) { return position; }","vec3 getWorldPosition":"(vec3 position) { return position; }","float getPointSize":"(float size) { return size; }","void afterVertex":"() {}"},fragment:{"void beforeFragment":"() {}","vec4 getFinalColor":"(vec4 color) { return color; }","bool shouldDiscard":"(bool outside) { return outside; }","void afterFragment":"() {}"}})),this._defaultPointShader}},{key:"baseStrokeShader",value:function(){return this._getLineShader()}},{key:"_getLineShader",value:function(){return this._defaultLineShader||(this._defaultLineShader=new l.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+q.lineVert,this._webGL2CompatibilityPrefix("frag","mediump")+q.lineFrag,{vertex:{"void beforeVertex":"() {}","vec3 getLocalPosition":"(vec3 position) { return position; }","vec3 getWorldPosition":"(vec3 position) { return position; }","float getStrokeWeight":"(float weight) { return weight; }","vec2 getLineCenter":"(vec2 center) { return center; }","vec2 getLinePosition":"(vec2 position) { return position; }","vec4 getVertexColor":"(vec4 color) { return color; }","void afterVertex":"() {}"},fragment:{"void beforeFragment":"() {}","Inputs getPixelInputs":"(Inputs inputs) { return inputs; }","vec4 getFinalColor":"(vec4 color) { return color; }","bool shouldDiscard":"(bool outside) { return outside; }","void afterFragment":"() {}"}})),this._defaultLineShader}},{key:"_getFontShader",value:function(){return this._defaultFontShader||(this.webglVersion===u.WEBGL&&this.GL.getExtension("OES_standard_derivatives"),this._defaultFontShader=new l.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+q.fontVert,this._webGL2CompatibilityPrefix("frag","mediump")+q.fontFrag)),this._defaultFontShader}},{key:"_webGL2CompatibilityPrefix",value:function(I,U){var H="";return this.webglVersion===u.WEBGL2&&(H+=`#version 300 es
#define WEBGL2
`),I==="vert"?H+=`#define VERTEX_SHADER
`:I==="frag"&&(H+=`#define FRAGMENT_SHADER
`),U&&(H+="precision ".concat(U,` float;
`)),H}},{key:"_getEmptyTexture",value:function(){var I;return this._emptyTexture||((I=new l.default.Image(1,1)).set(0,0,255),this._emptyTexture=new l.default.Texture(this,I)),this._emptyTexture}},{key:"getTexture",value:function(I){I instanceof l.default.Framebuffer&&(I=I.color);var U=this.textures.get(I);return U||(U=new l.default.Texture(this,I),this.textures.set(I,U),U)}},{key:"getDiffusedTexture",value:function(I){var U,H,X=this;return this.diffusedTextures.get(I)!=null?this.diffusedTextures.get(I):(U=Math.floor(I.height/I.width*200),H=this._pInst.createFramebuffer({width:200,height:U,density:1}),this.diffusedShader||(this.diffusedShader=this._pInst.createShader(q.imageLightVert,q.imageLightDiffusedFrag)),H.draw(function(){X._pInst.shader(X.diffusedShader),X.diffusedShader.setUniform("environmentMap",I),X._pInst.noStroke(),X._pInst.rectMode(u.CENTER),X._pInst.noLights(),X._pInst.rect(0,0,200,U)}),this.diffusedTextures.set(I,H),H)}},{key:"getSpecularTexture",value:function(I){var U=this;if(this.specularTextures.get(I)!=null)return this.specularTextures.get(I);for(var H,X=[],ae=this._pInst.createFramebuffer({width:512,height:512,density:1}),le=Math.log(512)/Math.log(2),he=(this.specularShader||(this.specularShader=this._pInst.createShader(q.imageLightVert,q.imageLightSpecularFrag)),512);1<=he;he/=2)(function(ye){ae.resize(ye,ye);var me=1-Math.log(ye)/Math.log(2)/le;ae.draw(function(){U._pInst.shader(U.specularShader),U._pInst.clear(),U.specularShader.setUniform("environmentMap",I),U.specularShader.setUniform("roughness",me),U._pInst.noStroke(),U._pInst.noLights(),U._pInst.plane(ye,ye)}),X.push(ae.get().drawingContext.getImageData(0,0,ye,ye))})(he);return ae.remove(),H=new d.MipmapTexture(this,X,{}),this.specularTextures.set(I,H),H}},{key:"activeFramebuffer",value:function(){return this.activeFramebuffers[this.activeFramebuffers.length-1]||null}},{key:"createFramebuffer",value:function(I){return new l.default.Framebuffer(this,I)}},{key:"_setStrokeUniforms",value:function(I){I.bindShader(),I.setUniform("uUseLineColor",this._useLineColor),I.setUniform("uMaterialColor",this.curStrokeColor),I.setUniform("uStrokeWeight",this.curStrokeWeight),I.setUniform("uStrokeCap",P[this.curStrokeCap]),I.setUniform("uStrokeJoin",O[this.curStrokeJoin])}},{key:"_setFillUniforms",value:function(I){var U=this,H=(I.bindShader(),this.mixedSpecularColor=g(this.curSpecularColor),0<this._useMetalness&&(this.mixedSpecularColor=this.mixedSpecularColor.map(function(X,ae){return U.curFillColor[ae]*U._useMetalness+X*(1-U._useMetalness)})),I.setUniform("uUseVertexColor",this._useVertexColor),I.setUniform("uMaterialColor",this.curFillColor),I.setUniform("isTexture",!!this._tex),this._tex&&I.setUniform("uSampler",this._tex),I.setUniform("uTint",this._tint),I.setUniform("uHasSetAmbient",this._hasSetAmbient),I.setUniform("uAmbientMatColor",this.curAmbientColor),I.setUniform("uSpecularMatColor",this.mixedSpecularColor),I.setUniform("uEmissiveMatColor",this.curEmissiveColor),I.setUniform("uSpecular",this._useSpecularMaterial),I.setUniform("uEmissive",this._useEmissiveMaterial),I.setUniform("uShininess",this._useShininess),I.setUniform("uMetallic",this._useMetalness),this._setImageLightUniforms(I),I.setUniform("uUseLighting",this._enableLighting),this.pointLightDiffuseColors.length/3),H=(I.setUniform("uPointLightCount",H),I.setUniform("uPointLightLocation",this.pointLightPositions),I.setUniform("uPointLightDiffuseColors",this.pointLightDiffuseColors),I.setUniform("uPointLightSpecularColors",this.pointLightSpecularColors),this.directionalLightDiffuseColors.length/3),H=(I.setUniform("uDirectionalLightCount",H),I.setUniform("uLightingDirection",this.directionalLightDirections),I.setUniform("uDirectionalDiffuseColors",this.directionalLightDiffuseColors),I.setUniform("uDirectionalSpecularColors",this.directionalLightSpecularColors),this.ambientLightColors.length/3),H=(this.mixedAmbientLight=g(this.ambientLightColors),0<this._useMetalness&&(this.mixedAmbientLight=this.mixedAmbientLight.map(function(X){return X-=U._useMetalness,Math.max(0,X)})),I.setUniform("uAmbientLightCount",H),I.setUniform("uAmbientColor",this.mixedAmbientLight),this.spotLightDiffuseColors.length/3);I.setUniform("uSpotLightCount",H),I.setUniform("uSpotLightAngle",this.spotLightAngle),I.setUniform("uSpotLightConc",this.spotLightConc),I.setUniform("uSpotLightDiffuseColors",this.spotLightDiffuseColors),I.setUniform("uSpotLightSpecularColors",this.spotLightSpecularColors),I.setUniform("uSpotLightLocation",this.spotLightPositions),I.setUniform("uSpotLightDirection",this.spotLightDirections),I.setUniform("uConstantAttenuation",this.constantAttenuation),I.setUniform("uLinearAttenuation",this.linearAttenuation),I.setUniform("uQuadraticAttenuation",this.quadraticAttenuation),I.bindTextures()}},{key:"_setImageLightUniforms",value:function(I){var U;I.setUniform("uUseImageLight",this.activeImageLight!=null),this.activeImageLight&&(U=this.getDiffusedTexture(this.activeImageLight),I.setUniform("environmentMapDiffused",U),U=this.getSpecularTexture(this.activeImageLight),I.setUniform("environmentMapSpecular",U))}},{key:"_setPointUniforms",value:function(I){I.bindShader(),I.setUniform("uMaterialColor",this.curStrokeColor),I.setUniform("uPointSize",this.pointSize*this._pInst._pixelDensity)}},{key:"_bindBuffer",value:function(I,U,H,X,ae){U=U||this.GL.ARRAY_BUFFER,this.GL.bindBuffer(U,I),H!==void 0&&((I=H)instanceof l.default.DataArray?I=H.dataArray():I instanceof(X||Float32Array)||(I=new(X||Float32Array)(I)),this.GL.bufferData(U,I,ae||this.GL.STATIC_DRAW))}},{key:"_arraysEqual",value:function(I,U){return I.length===U.length&&I.every(function(H,X){return H===U[X]})}},{key:"_isTypedArray",value:function(I){return[Float32Array,Float64Array,Int16Array,Uint16Array,Uint32Array].some(function(U){return I instanceof U})}},{key:"_flatten",value:function(I){return I.flat()}},{key:"_vToNArray",value:function(I){return I.flatMap(function(U){return[U.x,U.y,U.z]})}},{key:"_bezierCoefficients",value:function(I){var U=I*I,H=1-I,X=H*H;return[X*H,3*X*I,3*H*U,U*I]}},{key:"_quadraticCoefficients",value:function(I){var U=1-I;return[U*U,2*U*I,I*I]}},{key:"_bezierToCatmull",value:function(I){return[I[1],I[1]+(I[2]-I[0])/this._curveTightness,I[2]-(I[3]-I[1])/this._curveTightness,I[2]]}},{key:"_initTessy",value:function(){var I=new y.default.GluTesselator;return I.gluTessCallback(y.default.gluEnum.GLU_TESS_VERTEX_DATA,function(U,H){var X=!0,ae=!1,le=void 0;try{for(var he,ye=U[Symbol.iterator]();!(X=(he=ye.next()).done);X=!0){var me=he.value;H.push(me)}}catch(xe){ae=!0,le=xe}finally{try{X||ye.return==null||ye.return()}finally{if(ae)throw le}}}),I.gluTessCallback(y.default.gluEnum.GLU_TESS_BEGIN,function(U){U!==y.default.primitiveType.GL_TRIANGLES&&console.log("expected TRIANGLES but got type: ".concat(U))}),I.gluTessCallback(y.default.gluEnum.GLU_TESS_ERROR,function(U){console.log("error callback"),console.log("error number: ".concat(U))}),I.gluTessCallback(y.default.gluEnum.GLU_TESS_COMBINE,function(U,H,X){for(var ae=new Array(l.default.RendererGL.prototype.tessyVertexSize).fill(0),le=0;le<X.length;le++)for(var he=0;he<ae.length;he++)X[le]!==0&&H[le]&&(ae[he]+=H[le][he]*X[le]);return ae}),I.gluTessCallback(y.default.gluEnum.GLU_TESS_EDGE_FLAG,function(U){}),I.gluTessProperty(y.default.gluEnum.GLU_TESS_WINDING_RULE,y.default.windingRule.GLU_TESS_WINDING_NONZERO),I}},{key:"_triangulate",value:function(I){var U=I[0]?I[0][2]:void 0,H=!0,X=!0,me=!1,Se=void 0;try{for(var ae,le=I[Symbol.iterator]();!(X=(ae=le.next()).done);X=!0)for(var he=ae.value,ye=0;ye<he.length;ye+=l.default.RendererGL.prototype.tessyVertexSize)if(he[ye+2]!==U){H=!1;break}}catch(Xe){me=!0,Se=Xe}finally{try{X||le.return==null||le.return()}finally{if(me)throw Se}}H?this._tessy.gluTessNormal(0,0,1):this._tessy.gluTessNormal(0,0,0);var me=[],xe=(this._tessy.gluTessBeginPolygon(me),!0),Se=!1,pe=void 0;try{for(var Te,ke=I[Symbol.iterator]();!(xe=(Te=ke.next()).done);xe=!0){var Me=Te.value;this._tessy.gluTessBeginContour();for(var Ne=0;Ne<Me.length;Ne+=l.default.RendererGL.prototype.tessyVertexSize){var Ve=Me.slice(Ne,Ne+l.default.RendererGL.prototype.tessyVertexSize);this._tessy.gluTessVertex(Ve,Ve)}this._tessy.gluTessEndContour()}}catch(Xe){Se=!0,pe=Xe}finally{try{xe||ke.return==null||ke.return()}finally{if(Se)throw pe}}return this._tessy.gluTessEndPolygon(),me}}])&&v(Q.prototype,ee),re}(l.default.Renderer),l.default.prototype._assert3d=function(ee){if(!this._renderer.isP3D)throw new Error("".concat(ee,"() is only supported in WEBGL mode. If you'd like to use 3D graphics and WebGL, see  https://p5js.org/examples/form-3d-primitives.html for more information."))},l.default.RendererGL.prototype.tessyVertexSize=12,N=l.default.RendererGL,o.default=N},{"../core/constants":272,"../core/main":283,"../core/p5.Renderer":286,"./GeometryBuilder":327,"./p5.Camera":332,"./p5.Framebuffer":334,"./p5.Matrix":336,"./p5.Shader":342,"./p5.Texture":343,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.copy-within":154,"core-js/modules/es.array.every":155,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.flat":160,"core-js/modules/es.array.flat-map":159,"core-js/modules/es.array.from":162,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.some":170,"core-js/modules/es.array.unscopables.flat":173,"core-js/modules/es.array.unscopables.flat-map":172,"core-js/modules/es.map":175,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.reflect.get":193,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.float64-array":220,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.int16-array":224,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint16-array":240,"core-js/modules/es.typed-array.uint32-array":241,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246,libtess:255,path:258}],342:[function(r,s,o){r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.array.some"),r("core-js/modules/es.function.name"),r("core-js/modules/es.object.assign"),r("core-js/modules/es.object.keys"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.split"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.array.some"),r("core-js/modules/es.function.name"),r("core-js/modules/es.object.assign"),r("core-js/modules/es.object.keys"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.split"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var a=(r=r("../core/main"))&&r.__esModule?r:{default:r};function c(u,p){return function(y){if(Array.isArray(y))return y}(u)||function(y,d){if(Symbol.iterator in Object(y)||Object.prototype.toString.call(y)==="[object Arguments]"){var f=[],b=!0,g=!1,v=void 0;try{for(var _,x=y[Symbol.iterator]();!(b=(_=x.next()).done)&&(f.push(_.value),!d||f.length!==d);b=!0);}catch(w){g=!0,v=w}finally{try{b||x.return==null||x.return()}finally{if(g)throw v}}return f}}(u,p)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function l(u,p){for(var y=0;y<p.length;y++){var d=p[y];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(u,d.key,d)}}a.default.Shader=function(){function u(d,f,b){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:{},v=this,_=u;if(!(v instanceof _))throw new TypeError("Cannot call a class as a function");this._renderer=d,this._vertSrc=f,this._fragSrc=b,this._vertShader=-1,this._fragShader=-1,this._glProgram=0,this._loadedAttributes=!1,this.attributes={},this._loadedUniforms=!1,this.uniforms={},this._bound=!1,this.samplers=[],this.hooks={uniforms:g.uniforms||{},declarations:g.declarations,helpers:g.helpers||{},vertex:g.vertex||{},fragment:g.fragment||{},modified:{vertex:g.modified&&g.modified.vertex||{},fragment:g.modified&&g.modified.fragment||{}}}}var p,y;return p=u,(y=[{key:"shaderSrc",value:function(S,f){var b,g,v,_,x,S=c(S.split("void main"),2),w=S[0],S=S[1],R="";for(b in this.hooks.uniforms)R+="uniform ".concat(b,`;
`);for(g in this.hooks.declarations&&(R+=this.hooks.declarations+`
`),this.hooks[f].declarations&&(R+=this.hooks[f].declarations+`
`),this.hooks.helpers)R+="".concat(g).concat(this.hooks.helpers[g],`
`);for(v in this.hooks[f])v!=="declarations"&&(_=(x=c(v.split(" "),2))[0],x=x[1],this.hooks.modified[f][v]&&(R+="#define AUGMENTED_HOOK_"+x+`
`),R+=_+" HOOK_"+x+this.hooks[f][v]+`
`);return w+R+"void main"+S}},{key:"version",value:function(){var d=/#version (.+)$/.exec(this.vertSrc());return d?d[1]:"100 es"}},{key:"vertSrc",value:function(){return this.shaderSrc(this._vertSrc,"vertex")}},{key:"fragSrc",value:function(){return this.shaderSrc(this._fragSrc,"fragment")}},{key:"inspectHooks",value:function(){for(var d in console.log("==== Vertex shader hooks: ===="),this.hooks.vertex)console.log((this.hooks.modified.vertex[d]?"[MODIFIED] ":"")+d+this.hooks.vertex[d]);for(var f in console.log(""),console.log("==== Fragment shader hooks: ===="),this.hooks.fragment)console.log((this.hooks.modified.fragment[f]?"[MODIFIED] ":"")+f+this.hooks.fragment[f]);for(var b in console.log(""),console.log("==== Helper functions: ===="),this.hooks.helpers)console.log(b+this.hooks.helpers[b])}},{key:"modify",value:function(d){a.default._validateParameters("p5.Shader.modify",arguments);var f,b={vertex:{},fragment:{},helpers:{}};for(f in d)f!=="declarations"&&f!=="uniforms"&&(f==="vertexDeclarations"?b.vertex.declarations=(b.vertex.declarations||"")+`
`+d[f]:f==="fragmentDeclarations"?b.fragment.declarations=(b.fragment.declarations||"")+`
`+d[f]:this.hooks.vertex[f]?b.vertex[f]=d[f]:this.hooks.fragment[f]?b.fragment[f]=d[f]:b.helpers[f]=d[f]);var g,v,_=Object.assign({},this.hooks.modified.vertex),x=Object.assign({},this.hooks.modified.fragment);for(g in b.vertex||{})g!=="declarations"&&(_[g]=!0);for(v in b.fragment||{})v!=="declarations"&&(x[v]=!0);return new a.default.Shader(this._renderer,this._vertSrc,this._fragSrc,{declarations:(this.hooks.declarations||"")+`
`+(d.declarations||""),uniforms:Object.assign({},this.hooks.uniforms,d.uniforms||{}),fragment:Object.assign({},this.hooks.fragment,b.fragment||{}),vertex:Object.assign({},this.hooks.vertex,b.vertex||{}),helpers:Object.assign({},this.hooks.helpers,b.helpers||{}),modified:{vertex:_,fragment:x}})}},{key:"init",value:function(){if(this._glProgram===0){var d,f=this._renderer.GL;if(this._vertShader=f.createShader(f.VERTEX_SHADER),f.shaderSource(this._vertShader,this.vertSrc()),f.compileShader(this._vertShader),!f.getShaderParameter(this._vertShader,f.COMPILE_STATUS))return d=f.getShaderInfoLog(this._vertShader),console.error(d),null;if(this._fragShader=f.createShader(f.FRAGMENT_SHADER),f.shaderSource(this._fragShader,this.fragSrc()),f.compileShader(this._fragShader),!f.getShaderParameter(this._fragShader,f.COMPILE_STATUS))return d=f.getShaderInfoLog(this._fragShader),console.error(d),null;this._glProgram=f.createProgram(),f.attachShader(this._glProgram,this._vertShader),f.attachShader(this._glProgram,this._fragShader),f.linkProgram(this._glProgram),f.getProgramParameter(this._glProgram,f.LINK_STATUS)||a.default._friendlyError("Snap! Error linking shader program: ".concat(f.getProgramInfoLog(this._glProgram))),this._loadAttributes(),this._loadUniforms()}return this}},{key:"setDefaultUniforms",value:function(){for(var d in this.hooks.uniforms){var f=c(d.split(" "),2)[1],d=this.hooks.uniforms[d],b=void 0;(b=d instanceof Function?d():d)!=null&&this.setUniform(f,b)}}},{key:"copyToContext",value:function(d){var f=new a.default.Shader(d._renderer,this._vertSrc,this._fragSrc);return f.ensureCompiledOnContext(d),f}},{key:"ensureCompiledOnContext",value:function(d){if(this._glProgram!==0&&this._renderer!==d._renderer)throw new Error("The shader being run is attached to a different context. Do you need to copy it to this context first with .copyToContext()?");this._glProgram===0&&(this._renderer=d._renderer,this.init())}},{key:"_loadAttributes",value:function(){if(!this._loadedAttributes){this.attributes={};for(var d=this._renderer.GL,f=d.getProgramParameter(this._glProgram,d.ACTIVE_ATTRIBUTES),b=0;b<f;++b){var g=d.getActiveAttrib(this._glProgram,b),v=g.name,_=d.getAttribLocation(this._glProgram,v),x={};x.name=v,x.location=_,x.index=b,x.type=g.type,x.size=g.size,this.attributes[v]=x}this._loadedAttributes=!0}}},{key:"_loadUniforms",value:function(){if(!this._loadedUniforms){for(var d=this._renderer.GL,f=d.getProgramParameter(this._glProgram,d.ACTIVE_UNIFORMS),b=0,g=0;g<f;++g){var v=d.getActiveUniform(this._glProgram,g),_={},x=(_.location=d.getUniformLocation(this._glProgram,v.name),_.size=v.size,v.name);1<v.size&&(x=x.substring(0,x.indexOf("[0]"))),_.name=x,_.type=v.type,_._cachedData=void 0,_.type===d.SAMPLER_2D&&(_.samplerIndex=b,b++,this.samplers.push(_)),_.isArray=1<v.size||_.type===d.FLOAT_MAT3||_.type===d.FLOAT_MAT4||_.type===d.FLOAT_VEC2||_.type===d.FLOAT_VEC3||_.type===d.FLOAT_VEC4||_.type===d.INT_VEC2||_.type===d.INT_VEC4||_.type===d.INT_VEC3,this.uniforms[x]=_}this._loadedUniforms=!0}}},{key:"compile",value:function(){}},{key:"bindShader",value:function(){this.init(),this._bound||(this.useProgram(),this._bound=!0,this._setMatrixUniforms(),this.setUniform("uViewport",this._renderer._viewport))}},{key:"unbindShader",value:function(){return this._bound&&(this.unbindTextures(),this._bound=!1),this}},{key:"bindTextures",value:function(){var d=this._renderer.GL,f=!0,b=!1,g=void 0;try{for(var v,_=this.samplers[Symbol.iterator]();!(f=(v=_.next()).done);f=!0){var x=v.value,w=x.texture;w===void 0&&(w=this._renderer._getEmptyTexture()),d.activeTexture(d.TEXTURE0+x.samplerIndex),w.bindTexture(),w.update(),d.uniform1i(x.location,x.samplerIndex)}}catch(S){b=!0,g=S}finally{try{f||_.return==null||_.return()}finally{if(b)throw g}}}},{key:"updateTextures",value:function(){var d=!0,f=!1,b=void 0;try{for(var g,v=this.samplers[Symbol.iterator]();!(d=(g=v.next()).done);d=!0){var _=g.value.texture;_&&_.update()}}catch(x){f=!0,b=x}finally{try{d||v.return==null||v.return()}finally{if(f)throw b}}}},{key:"unbindTextures",value:function(){var d=!0,f=!1,b=void 0;try{for(var g,v=this.samplers[Symbol.iterator]();!(d=(g=v.next()).done);d=!0){var _=g.value;this.setUniform(_.name,this._renderer._getEmptyTexture())}}catch(x){f=!0,b=x}finally{try{d||v.return==null||v.return()}finally{if(f)throw b}}}},{key:"_setMatrixUniforms",value:function(){var d=this._renderer.uModelMatrix,f=this._renderer.uViewMatrix,b=this._renderer.uPMatrix,g=d.copy().mult(f),v=(this._renderer.uMVMatrix=g).copy();v.mult(b),this.isStrokeShader()&&this.setUniform("uPerspective",this._renderer._curCamera.useLinePerspective?1:0),this.setUniform("uViewMatrix",f.mat4),this.setUniform("uProjectionMatrix",b.mat4),this.setUniform("uModelMatrix",d.mat4),this.setUniform("uModelViewMatrix",g.mat4),this.setUniform("uModelViewProjectionMatrix",v.mat4),this.uniforms.uNormalMatrix&&(this._renderer.uNMatrix.inverseTranspose(this._renderer.uMVMatrix),this.setUniform("uNormalMatrix",this._renderer.uNMatrix.mat3)),this.uniforms.uCameraRotation&&(this._renderer.curMatrix.inverseTranspose(this._renderer.uViewMatrix),this.setUniform("uCameraRotation",this._renderer.curMatrix.mat3))}},{key:"useProgram",value:function(){var d=this._renderer.GL;return this._renderer._curShader!==this&&(d.useProgram(this._glProgram),this._renderer._curShader=this),this}},{key:"setUniform",value:function(d,f){var b=this.uniforms[d];if(b){var g=this._renderer.GL;if(b.isArray){if(b._cachedData&&this._renderer._arraysEqual(b._cachedData,f))return;b._cachedData=f.slice(0)}else{if(b._cachedData&&b._cachedData===f)return;Array.isArray(f)?b._cachedData=f.slice(0):b._cachedData=f}var v=b.location;switch(this.useProgram(),b.type){case g.BOOL:f===!0?g.uniform1i(v,1):g.uniform1i(v,0);break;case g.INT:1<b.size?f.length&&g.uniform1iv(v,f):g.uniform1i(v,f);break;case g.FLOAT:1<b.size?f.length&&g.uniform1fv(v,f):g.uniform1f(v,f);break;case g.FLOAT_MAT3:g.uniformMatrix3fv(v,!1,f);break;case g.FLOAT_MAT4:g.uniformMatrix4fv(v,!1,f);break;case g.FLOAT_VEC2:1<b.size?f.length&&g.uniform2fv(v,f):g.uniform2f(v,f[0],f[1]);break;case g.FLOAT_VEC3:1<b.size?f.length&&g.uniform3fv(v,f):g.uniform3f(v,f[0],f[1],f[2]);break;case g.FLOAT_VEC4:1<b.size?f.length&&g.uniform4fv(v,f):g.uniform4f(v,f[0],f[1],f[2],f[3]);break;case g.INT_VEC2:1<b.size?f.length&&g.uniform2iv(v,f):g.uniform2i(v,f[0],f[1]);break;case g.INT_VEC3:1<b.size?f.length&&g.uniform3iv(v,f):g.uniform3i(v,f[0],f[1],f[2]);break;case g.INT_VEC4:1<b.size?f.length&&g.uniform4iv(v,f):g.uniform4i(v,f[0],f[1],f[2],f[3]);break;case g.SAMPLER_2D:g.activeTexture(g.TEXTURE0+b.samplerIndex),b.texture=f instanceof a.default.Texture?f:this._renderer.getTexture(f),g.uniform1i(v,b.samplerIndex),b.texture.src.gifProperties&&b.texture.src._animateGif(this._renderer._pInst)}return this}}},{key:"isLightShader",value:function(){return[this.attributes.aNormal,this.uniforms.uUseLighting,this.uniforms.uAmbientLightCount,this.uniforms.uDirectionalLightCount,this.uniforms.uPointLightCount,this.uniforms.uAmbientColor,this.uniforms.uDirectionalDiffuseColors,this.uniforms.uDirectionalSpecularColors,this.uniforms.uPointLightLocation,this.uniforms.uPointLightDiffuseColors,this.uniforms.uPointLightSpecularColors,this.uniforms.uLightingDirection,this.uniforms.uSpecular].some(function(d){return d!==void 0})}},{key:"isNormalShader",value:function(){return this.attributes.aNormal!==void 0}},{key:"isTextureShader",value:function(){return 0<this.samplers.length}},{key:"isColorShader",value:function(){return this.attributes.aVertexColor!==void 0||this.uniforms.uMaterialColor!==void 0}},{key:"isTexLightShader",value:function(){return this.isLightShader()&&this.isTextureShader()}},{key:"isStrokeShader",value:function(){return this.uniforms.uStrokeWeight!==void 0}},{key:"enableAttrib",value:function(d,f,b,g,v,_){var x;return d&&(d=d.location)!==-1&&(x=this._renderer.GL,this._renderer.registerEnabled.has(d)||(x.enableVertexAttribArray(d),this._renderer.registerEnabled.add(d)),this._renderer.GL.vertexAttribPointer(d,f,b||x.FLOAT,g||!1,v||0,_||0)),this}},{key:"disableRemainingAttributes",value:function(){var d=this,f=!0,b=!1,g=void 0;try{for(var v,_=this._renderer.registerEnabled.values()[Symbol.iterator]();!(f=(v=_.next()).done);f=!0)(function(){var x=v.value;Object.keys(d.attributes).some(function(w){return d.attributes[w].location===x})||(d._renderer.GL.disableVertexAttribArray(x),d._renderer.registerEnabled.delete(x))})()}catch(x){b=!0,g=x}finally{try{f||_.return==null||_.return()}finally{if(b)throw g}}}}])&&l(p.prototype,y),u}(),r=a.default.Shader,o.default=r},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.some":170,"core-js/modules/es.function.name":174,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],343:[function(r,s,o){function a(w){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S})(w)}function c(w){return(c=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(S){return a(S)}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":a(S)})(w)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.get-prototype-of"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.reflect.construct"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.typed-array.uint8-array"),r("core-js/modules/es.typed-array.copy-within"),r("core-js/modules/es.typed-array.every"),r("core-js/modules/es.typed-array.fill"),r("core-js/modules/es.typed-array.filter"),r("core-js/modules/es.typed-array.find"),r("core-js/modules/es.typed-array.find-index"),r("core-js/modules/es.typed-array.for-each"),r("core-js/modules/es.typed-array.includes"),r("core-js/modules/es.typed-array.index-of"),r("core-js/modules/es.typed-array.iterator"),r("core-js/modules/es.typed-array.join"),r("core-js/modules/es.typed-array.last-index-of"),r("core-js/modules/es.typed-array.map"),r("core-js/modules/es.typed-array.reduce"),r("core-js/modules/es.typed-array.reduce-right"),r("core-js/modules/es.typed-array.reverse"),r("core-js/modules/es.typed-array.set"),r("core-js/modules/es.typed-array.slice"),r("core-js/modules/es.typed-array.some"),r("core-js/modules/es.typed-array.sort"),r("core-js/modules/es.typed-array.subarray"),r("core-js/modules/es.typed-array.to-locale-string"),r("core-js/modules/es.typed-array.to-string"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.typed-array.uint8-array"),r("core-js/modules/es.typed-array.copy-within"),r("core-js/modules/es.typed-array.every"),r("core-js/modules/es.typed-array.fill"),r("core-js/modules/es.typed-array.filter"),r("core-js/modules/es.typed-array.find"),r("core-js/modules/es.typed-array.find-index"),r("core-js/modules/es.typed-array.for-each"),r("core-js/modules/es.typed-array.includes"),r("core-js/modules/es.typed-array.index-of"),r("core-js/modules/es.typed-array.iterator"),r("core-js/modules/es.typed-array.join"),r("core-js/modules/es.typed-array.last-index-of"),r("core-js/modules/es.typed-array.map"),r("core-js/modules/es.typed-array.reduce"),r("core-js/modules/es.typed-array.reduce-right"),r("core-js/modules/es.typed-array.reverse"),r("core-js/modules/es.typed-array.set"),r("core-js/modules/es.typed-array.slice"),r("core-js/modules/es.typed-array.some"),r("core-js/modules/es.typed-array.sort"),r("core-js/modules/es.typed-array.subarray"),r("core-js/modules/es.typed-array.to-locale-string"),r("core-js/modules/es.typed-array.to-string"),Object.defineProperty(o,"__esModule",{value:!0}),o.checkWebGLCapabilities=x,o.default=o.MipmapTexture=void 0;var l=(_=r("../core/main"))&&_.__esModule?_:{default:_},u=function(w){if(w&&w.__esModule)return w;if(w===null||c(w)!=="object"&&typeof w!="function")return{default:w};var S=p();if(S&&S.has(w))return S.get(w);var R,D={},A=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(R in w){var C;Object.prototype.hasOwnProperty.call(w,R)&&((C=A?Object.getOwnPropertyDescriptor(w,R):null)&&(C.get||C.set)?Object.defineProperty(D,R,C):D[R]=w[R])}return D.default=w,S&&S.set(w,D),D}(r("../core/constants"));function p(){var w;return typeof WeakMap!="function"?null:(w=new WeakMap,p=function(){return w},w)}function y(w,S){return(y=Object.setPrototypeOf||function(R,D){return R.__proto__=D,R})(w,S)}function d(w){return function(){var S,R=f(w),R=(S=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(S=f(this).constructor,Reflect.construct(R,arguments,S)):R.apply(this,arguments),this);if(!S||c(S)!=="object"&&typeof S!="function"){if(R!==void 0)return R;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return S}}function f(w){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(S){return S.__proto__||Object.getPrototypeOf(S)})(w)}function b(w,S){if(!(w instanceof S))throw new TypeError("Cannot call a class as a function")}function g(w,S){for(var R=0;R<S.length;R++){var D=S[R];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(w,D.key,D)}}function v(w,S,R){S&&g(w.prototype,S)}l.default.Texture=function(){function w(j,R,C){b(this,w),this._renderer=j;var A=this._renderer.GL,C=(C=C||{},this.src=R,this.glTex=void 0,this.glTarget=A.TEXTURE_2D,this.glFormat=C.format||A.RGBA,this.mipmaps=!1,this.glMinFilter=C.minFilter||A.LINEAR,this.glMagFilter=C.magFilter||A.LINEAR,this.glWrapS=C.wrapS||A.CLAMP_TO_EDGE,this.glWrapT=C.wrapT||A.CLAMP_TO_EDGE,this.glDataType=C.dataType||A.UNSIGNED_BYTE,x(j)),j=(this.glFormat!==A.HALF_FLOAT||C.halfFloat||(console.log("This device does not support dataType HALF_FLOAT. Falling back to FLOAT."),this.glDataType=A.FLOAT),this.glFormat!==A.HALF_FLOAT||this.glMinFilter!==A.LINEAR&&this.glMagFilter!==A.LINEAR||C.halfFloatLinear||(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===A.LINEAR&&(this.glMinFilter=A.NEAREST),this.glMagFilter===A.LINEAR&&(this.glMagFilter=A.NEAREST)),this.glFormat!==A.FLOAT||C.float||(console.log("This device does not support dataType FLOAT. Falling back to UNSIGNED_BYTE."),this.glDataType=A.UNSIGNED_BYTE),this.glFormat!==A.FLOAT||this.glMinFilter!==A.LINEAR&&this.glMagFilter!==A.LINEAR||C.floatLinear||(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===A.LINEAR&&(this.glMinFilter=A.NEAREST),this.glMagFilter===A.LINEAR&&(this.glMagFilter=A.NEAREST)),this.isSrcMediaElement=l.default.MediaElement!==void 0&&R instanceof l.default.MediaElement,this._videoPrevUpdateTime=0,this.isSrcHTMLElement=l.default.Element!==void 0&&R instanceof l.default.Element&&!(R instanceof l.default.Graphics)&&!(R instanceof l.default.Renderer),this.isSrcP5Image=R instanceof l.default.Image,this.isSrcP5Graphics=R instanceof l.default.Graphics,this.isSrcP5Renderer=R instanceof l.default.Renderer,this.isImageData=typeof ImageData<"u"&&R instanceof ImageData,this.isFramebufferTexture=R instanceof l.default.FramebufferTexture,this._getTextureDataFromSource());return this.width=j.width,this.height=j.height,this.init(j),this}return v(w,[{key:"_getTextureDataFromSource",value:function(){var S;return this.isFramebufferTexture?S=this.src.rawTexture():this.isSrcP5Image?S=this.src.canvas:this.isSrcMediaElement||this.isSrcP5Graphics||this.isSrcP5Renderer||this.isSrcHTMLElement?(this.src._ensureCanvas&&this.src._ensureCanvas(),S=this.src.canvas||this.src.elt):this.isImageData&&(S=this.src),S}},{key:"init",value:function(S){var R,D=this._renderer.GL;this.isFramebufferTexture||(this.glTex=D.createTexture()),this.glWrapS=this._renderer.textureWrapX,this.glWrapT=this._renderer.textureWrapY,this.setWrapMode(this.glWrapS,this.glWrapT),this.bindTexture(),D.texParameteri(D.TEXTURE_2D,D.TEXTURE_MAG_FILTER,this.glMagFilter),D.texParameteri(D.TEXTURE_2D,D.TEXTURE_MIN_FILTER,this.glMinFilter),this.isFramebufferTexture||(this.width===0||this.height===0||this.isSrcMediaElement&&!this.src.loadedmetadata?(R=new Uint8Array([1,1,1,1]),D.texImage2D(this.glTarget,0,D.RGBA,1,1,0,this.glFormat,this.glDataType,R)):D.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,S))}},{key:"update",value:function(){var S,R,D,A=this.src;return A.width!==0&&A.height!==0&&!this.isFramebufferTexture&&(S=this._getTextureDataFromSource(),R=!1,D=this._renderer.GL,S.width!==this.width||S.height!==this.height?(R=!0,this.width=S.width||A.width,this.height=S.height||A.height,this.isSrcP5Image?A.setModified(!1):(this.isSrcMediaElement||this.isSrcHTMLElement)&&A.setModified(!0)):this.isSrcP5Image?A.isModified()&&A.setModified(!(R=!0)):this.isSrcMediaElement?A.isModified()?A.setModified(!(R=!0)):A.loadedmetadata&&this._videoPrevUpdateTime!==A.time()&&(this._videoPrevUpdateTime=A.time(),R=!0):this.isImageData?A._dirty&&(R=!(A._dirty=!1)):R=!0,R&&(this.bindTexture(),D.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,S)),R)}},{key:"bindTexture",value:function(){return this._renderer.GL.bindTexture(this.glTarget,this.getTexture()),this}},{key:"unbindTexture",value:function(){this._renderer.GL.bindTexture(this.glTarget,null)}},{key:"getTexture",value:function(){return this.isFramebufferTexture?this.src.rawTexture():this.glTex}},{key:"setInterpolation",value:function(S,R){var D=this._renderer.GL;this.glMinFilter=this.glFilter(S),this.glMagFilter=this.glFilter(R),this.bindTexture(),D.texParameteri(D.TEXTURE_2D,D.TEXTURE_MIN_FILTER,this.glMinFilter),D.texParameteri(D.TEXTURE_2D,D.TEXTURE_MAG_FILTER,this.glMagFilter),this.unbindTexture()}},{key:"glFilter",value:function(S){var R=this._renderer.GL;return S===u.NEAREST?R.NEAREST:R.LINEAR}},{key:"setWrapMode",value:function(S,R){function D(P){return(P&P-1)==0}var A=this._renderer.GL,j=this._getTextureDataFromSource(),j=j.naturalWidth&&j.naturalHeight?(C=j.naturalWidth,j.naturalHeight):(C=this.width,this.height),C=D(C),j=D(j);S===u.REPEAT?this._renderer.webglVersion===u.WEBGL2||C&&j?this.glWrapS=A.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=A.CLAMP_TO_EDGE):S===u.MIRROR?this._renderer.webglVersion===u.WEBGL2||C&&j?this.glWrapS=A.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=A.CLAMP_TO_EDGE):this.glWrapS=A.CLAMP_TO_EDGE,R===u.REPEAT?this._renderer.webglVersion===u.WEBGL2||C&&j?this.glWrapT=A.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=A.CLAMP_TO_EDGE):R===u.MIRROR?this._renderer.webglVersion===u.WEBGL2||C&&j?this.glWrapT=A.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=A.CLAMP_TO_EDGE):this.glWrapT=A.CLAMP_TO_EDGE,this.bindTexture(),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_WRAP_S,this.glWrapS),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_WRAP_T,this.glWrapT),this.unbindTexture()}}]),w}();var _=function(w){var S=D;if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(w&&w.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),w&&y(S,w);var R=d(D);function D(A,C,j){return b(this,D),C=(A=R.call(this,A,C,j))._renderer.GL,A.glMinFilter===C.LINEAR&&(A.glMinFilter=C.LINEAR_MIPMAP_LINEAR),A}return v(D,[{key:"glFilter",value:function(A){return this._renderer.GL.LINEAR_MIPMAP_LINEAR}},{key:"_getTextureDataFromSource",value:function(){return this.src}},{key:"init",value:function(A){var C=this._renderer.GL;this.glTex=C.createTexture(),this.bindTexture();for(var j=0;j<A.length;j++)C.texImage2D(this.glTarget,j,this.glFormat,this.glFormat,this.glDataType,A[j]);this.glMinFilter=C.LINEAR_MIPMAP_LINEAR,C.texParameteri(C.TEXTURE_2D,C.TEXTURE_MAG_FILTER,this.glMagFilter),C.texParameteri(C.TEXTURE_2D,C.TEXTURE_MIN_FILTER,this.glMinFilter),this.unbindTexture()}},{key:"update",value:function(){}}]),D}(l.default.Texture);function x(A){var S=A.GL,A=A.webglVersion,R=A===u.WEBGL2?S.getExtension("EXT_color_buffer_float")&&S.getExtension("EXT_float_blend"):S.getExtension("OES_texture_float"),D=R&&S.getExtension("OES_texture_float_linear"),A=A===u.WEBGL2?S.getExtension("EXT_color_buffer_float"):S.getExtension("OES_texture_half_float");return{float:R,floatLinear:D,halfFloat:A,halfFloatLinear:A&&S.getExtension("OES_texture_half_float_linear")}}o.MipmapTexture=_,r=l.default.Texture,o.default=r},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],344:[function(r,s,o){function a(w){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S})(w)}function c(w){return(c=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(S){return a(S)}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":a(S)})(w)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.split"),r("core-js/modules/es.string.sub"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.split"),r("core-js/modules/es.string.sub"),r("core-js/modules/web.dom-collections.iterator");var l,u=(l=r("../core/main"))&&l.__esModule?l:{default:l},p=function(w){if(w&&w.__esModule)return w;if(w===null||c(w)!=="object"&&typeof w!="function")return{default:w};var S=y();if(S&&S.has(w))return S.get(w);var R,D={},A=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(R in w){var C;Object.prototype.hasOwnProperty.call(w,R)&&((C=A?Object.getOwnPropertyDescriptor(w,R):null)&&(C.get||C.set)?Object.defineProperty(D,R,C):D[R]=w[R])}return D.default=w,S&&S.set(w,D),D}(r("../core/constants"));function y(){var w;return typeof WeakMap!="function"?null:(w=new WeakMap,y=function(){return w},w)}function d(w,S){if(!(w instanceof S))throw new TypeError("Cannot call a class as a function")}function f(w,S){for(var R=0;R<S.length;R++){var D=S[R];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(w,D.key,D)}}function b(w,S,R){S&&f(w.prototype,S)}r("./p5.Shader"),r("./p5.RendererGL.Retained"),u.default.RendererGL.prototype._applyTextProperties=function(){this._setProperty("_textAscent",null),this._setProperty("_textDescent",null)},u.default.RendererGL.prototype.textWidth=function(w){return this._isOpenType()?this._textFont._textWidth(w,this._textSize):0};var g=function(){function w(S,R){d(this,w),this.width=S,this.height=R,this.infos=[]}return b(w,[{key:"findImage",value:function(S){var R,D,A=this.width*this.height;if(A<S)throw new Error("font is too complex to render in 3D");for(var C=this.infos.length-1;0<=C;--C){var j=this.infos[C];if(j.index+S<A){D=(R=j).imageData;break}}if(!R){try{D=new ImageData(this.width,this.height)}catch{var P=document.getElementsByTagName("canvas")[0],O=!P,L=(P||((P=document.createElement("canvas")).style.display="none",document.body.appendChild(P)),P.getContext("2d"));L&&(D=L.createImageData(this.width,this.height)),O&&document.body.removeChild(P)}this.infos.push(R={index:0,imageData:D})}return L=R.index,R.index+=S,D._dirty=!0,{imageData:D,index:L}}}]),w}();function v(j,S,R,D,A){var C=j.imageData.data,j=4*j.index++;C[j++]=S,C[j++]=R,C[j++]=D,C[+j]=A}var _=Math.sqrt(3),x=function(){function w(S){d(this,w),this.font=S,this.strokeImageInfos=new g(64,64),this.colDimImageInfos=new g(64,64),this.rowDimImageInfos=new g(64,64),this.colCellImageInfos=new g(64,64),this.rowCellImageInfos=new g(64,64),this.glyphInfos={}}return b(w,[{key:"getGlyphInfo",value:function(S){var R=this.glyphInfos[S.index];if(!R){var D=S.getBoundingBox(),A=D.x1,C=D.y1,j=D.x2-A,P=D.y2-C,O=S.path.commands;if(j==0||P==0||!O.length)return this.glyphInfos[S.index]={};for(var L=[],N=[],q=[],W=8;0<=W;--W)q.push([]);for(W=8;0<=W;--W)N.push([]);var Y,J,te,ee,Q=function(){function bt(gt,Tt,St,$e){d(this,bt),this.p0=gt,this.c0=Tt,this.c1=St,this.p1=$e}return b(bt,[{key:"toQuadratic",value:function(){return{x:this.p0.x,y:this.p0.y,x1:this.p1.x,y1:this.p1.y,cx:(3*(this.c0.x+this.c1.x)-(this.p0.x+this.p1.x))/4,cy:(3*(this.c0.y+this.c1.y)-(this.p0.y+this.p1.y))/4}}},{key:"quadError",value:function(){return u.default.Vector.sub(u.default.Vector.sub(this.p1,this.p0),u.default.Vector.mult(u.default.Vector.sub(this.c1,this.c0),3)).mag()/2}},{key:"split",value:function(dt){var Tt=u.default.Vector.lerp(this.p0,this.c0,dt),$e=u.default.Vector.lerp(this.c0,this.c1,dt),St=u.default.Vector.lerp(Tt,$e,dt),$e=(this.c1=u.default.Vector.lerp(this.c1,this.p1,dt),this.c0=u.default.Vector.lerp($e,this.c1,dt),u.default.Vector.lerp(St,this.c0,dt)),dt=new bt(this.p0,Tt,St,$e);return this.p0=$e,dt}},{key:"splitInflections",value:function(){var gt=u.default.Vector.sub(this.c0,this.p0),Tt=u.default.Vector.sub(u.default.Vector.sub(this.c1,this.c0),gt),St=u.default.Vector.sub(u.default.Vector.sub(u.default.Vector.sub(this.p1,this.c1),gt),u.default.Vector.mult(Tt,2)),$e=[],dt=Tt.x*St.y-Tt.y*St.x;return dt!==0&&0<=(gt=(St=gt.x*St.y-gt.y*St.x)*St-4*dt*(gt.x*Tt.y-gt.y*Tt.x))&&(dt<0&&(dt=-dt,St=-St),gt=(-St+(Tt=Math.sqrt(gt)))/(2*dt),0<(St=(-St-Tt)/(2*dt))&&St<1&&($e.push(this.split(St)),gt=1-(1-gt)/(1-St)),0<gt&&gt<1&&$e.push(this.split(gt))),$e.push(this),$e}}]),bt}(),ne=!0,re=!1,I=void 0;try{for(var U,H=O[Symbol.iterator]();!(ne=(U=H.next()).done);ne=!0){var X=U.value,ae=(X.x-A)/j,le=(X.y-C)/P;if(!Ke(Y,J,ae,le)){switch(X.type){case"M":te=ae,ee=le;break;case"L":ht(Y,J,ae,le);break;case"Q":var he=(X.x1-A)/j,ye=(X.y1-C)/P;Ve([Y,ae,he],[J,le,ye],{x:Y,y:J,cx:he,cy:ye});break;case"Z":Ke(Y,J,te,ee)?L.push({x:Y,y:J}):(ht(Y,J,te,ee),L.push({x:te,y:ee}));break;case"C":for(var me=function(ge,We,rt,St,$e,dt,Ge,de){var ge=new Q(new u.default.Vector(ge,We),new u.default.Vector(rt,St),new u.default.Vector($e,dt),new u.default.Vector(Ge,de)).splitInflections(),ce=[],we=30/_,He=!0,We=!1,rt=void 0;try{for(var Et,It=ge[Symbol.iterator]();!(He=(Et=It.next()).done);He=!0){for(var Pt=Et.value,Dt=[],Qt=void 0;!(.125<=(Qt=we/Pt.quadError()));){var Gt=Math.pow(Qt,.3333333333333333),Ft=Pt.split(Gt),Xt=Pt.split(1-Gt/(1-Gt));ce.push(Ft),Dt.push(Pt),Pt=Xt}Qt<1&&ce.push(Pt.split(.5)),ce.push(Pt),Array.prototype.push.apply(ce,Dt.reverse())}}catch(Wt){We=!0,rt=Wt}finally{try{He||It.return==null||It.return()}finally{if(We)throw rt}}return ce}(Y,J,(X.x1-A)/j,(X.y1-C)/P,(X.x2-A)/j,(X.y2-C)/P,ae,le),xe=0;xe<me.length;xe++){var Se=me[xe].toQuadratic();Ve([Se.x,Se.x1,Se.cx],[Se.y,Se.y1,Se.cy],Se)}break;default:throw new Error("unknown command type: ".concat(X.type))}Y=ae,J=le}}}catch(bt){re=!0,I=bt}finally{try{ne||H.return==null||H.return()}finally{if(re)throw I}}for(var pe=L.length,Te=this.strokeImageInfos.findImage(pe),ke=Te.index,Me=0;Me<pe;++Me){var Ne=L[Me];v(Te,Xe(Ne.x),Xe(Ne.y),Xe(Ne.cx),Xe(Ne.cy))}(R=this.glyphInfos[S.index]={glyph:S,uGlyphRect:[D.x1,-D.y1,D.x2,-D.y2],strokeImageInfo:Te,strokes:L,colInfo:jt(q,this.colDimImageInfos,this.colCellImageInfos),rowInfo:jt(N,this.rowDimImageInfos,this.rowCellImageInfos)}).uGridOffset=[R.colInfo.dimOffset,R.rowInfo.dimOffset]}return R;function Ve(bt,gt,Tt){var St=L.length;function $e(ce,we,He){for(var We=ce.length;0<We--;){var rt=ce[We];rt<we&&(we=rt),He<rt&&(He=rt)}return{min:we,max:He}}L.push(Tt);for(var Tt=$e(bt,1,0),bt=Math.max(Math.floor(9*Tt.min-.5),0),dt=Math.min(Math.ceil(9*Tt.max+.5),9),Ge=bt;Ge<dt;++Ge)q[Ge].push(St);for(var Tt=$e(gt,1,0),bt=Math.max(Math.floor(9*Tt.min-.5),0),de=Math.min(Math.ceil(9*Tt.max+.5),9),ge=bt;ge<de;++ge)N[ge].push(St)}function Xe(bt){return(bt=(Tt=255)*bt)<(gt=0)?gt:Tt<bt?Tt:bt;var gt,Tt}function ht(bt,gt,Tt,St){Ve([bt,Tt],[gt,St],{x:bt,y:gt,cx:(bt+Tt)/2,cy:(gt+St)/2})}function Ke(bt,gt,Tt,St){return Math.abs(Tt-bt)<1e-5&&Math.abs(St-gt)<1e-5}function jt(bt,gt,Tt){for(var St=bt.length,$e=gt.findImage(St),gt=$e.index,dt=0,Ge=0;Ge<St;++Ge)dt+=bt[Ge].length;for(var de=Tt.findImage(dt),ge=0;ge<St;++ge){var ce=bt[ge],we=ce.length,He=de.index;v($e,He>>7,127&He,we>>7,127&we);for(var We=0;We<we;++We){var rt=ce[We]+ke;v(de,rt>>7,127&rt,0,0)}}return{cellImageInfo:de,dimOffset:gt,dimImageInfo:$e}}}}]),w}();u.default.RendererGL.prototype._renderText=function(w,S,R,D,A){if(this._textFont&&typeof this._textFont!="string"){if(!(A<=D)&&this._doFill){if(this._isOpenType()){w.push();var A=this._doStroke,C=this.drawMode,j=(this._doStroke=!1,this.drawMode=p.TEXTURE,this._textFont.font),P=(P=this._textFont._fontInfo)||(this._textFont._fontInfo=new x(j)),R=this._textFont._handleAlignment(this,S,R,D),D=this._textSize/j.unitsPerEm,O=(this.translate(R.x,R.y,0),this.scale(D,D,1),this.GL),R=!this._defaultFontShader,L=this._getFontShader(),N=(L.init(),L.bindShader(),R&&(L.setUniform("uGridImageSize",[64,64]),L.setUniform("uCellsImageSize",[64,64]),L.setUniform("uStrokeImageSize",[64,64]),L.setUniform("uGridSize",[9,9])),this._applyColorBlend(this.curFillColor),this.retainedMode.geometry.glyph),q=(N||((D=this._textGeom=new u.default.Geometry(1,1,function(){for(var xe=0;xe<=1;xe++)for(var Se=0;Se<=1;Se++)this.vertices.push(new u.default.Vector(Se,xe,0)),this.uvs.push(Se,xe)})).computeFaces().computeNormals(),N=this.createBuffers("glyph",D)),!0),R=!1,D=void 0;try{for(var W,Y=this.retainedMode.buffers.text[Symbol.iterator]();!(q=(W=Y.next()).done);q=!0)W.value._prepareBuffer(N,L)}catch(xe){R=!0,D=xe}finally{try{q||Y.return==null||Y.return()}finally{if(R)throw D}}this._bindBuffer(N.indexBuffer,O.ELEMENT_ARRAY_BUFFER),L.setUniform("uMaterialColor",this.curFillColor),O.pixelStorei(O.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1);try{var J=0,te=null,ee=j.stringToGlyphs(S),Q=!0,ne=!1,re=void 0;try{for(var I,U=ee[Symbol.iterator]();!(Q=(I=U.next()).done);Q=!0){var H,X,ae=I.value,le=(te&&(J+=j.getKerningValue(te,ae)),P.getGlyphInfo(ae));le.uGlyphRect&&(H=le.rowInfo,X=le.colInfo,L.setUniform("uSamplerStrokes",le.strokeImageInfo.imageData),L.setUniform("uSamplerRowStrokes",H.cellImageInfo.imageData),L.setUniform("uSamplerRows",H.dimImageInfo.imageData),L.setUniform("uSamplerColStrokes",X.cellImageInfo.imageData),L.setUniform("uSamplerCols",X.dimImageInfo.imageData),L.setUniform("uGridOffset",le.uGridOffset),L.setUniform("uGlyphRect",le.uGlyphRect),L.setUniform("uGlyphOffset",J),L.bindTextures(),O.drawElements(O.TRIANGLES,6,this.GL.UNSIGNED_SHORT,0)),J+=ae.advanceWidth,te=ae}}catch(xe){ne=!0,re=xe}finally{try{Q||U.return==null||U.return()}finally{if(ne)throw re}}}finally{L.unbindShader(),this._doStroke=A,this.drawMode=C,O.pixelStorei(O.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),w.pop()}}else console.log("WEBGL: only Opentype (.otf) and Truetype (.ttf) fonts are supported");return w}}else console.log("WEBGL: you must load and set a font before drawing text. See `loadFont` and `textFont` for more details.")}},{"../core/constants":272,"../core/main":283,"./p5.RendererGL.Retained":340,"./p5.Shader":342,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/es.string.sub":208,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}]},{},[267])(267)})}(y_)),y_.exports}var VK=BK();const Eb=kb(VK);var Cb=function(){return Cb=Object.assign||function(n){for(var t,i=1,r=arguments.length;i<r;i++)for(var s in t=arguments[i])Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s]);return n},Cb.apply(this,arguments)},GK="react-p5-wrapper";function hj(n){var t;(t=n.current)===null||t===void 0||t.remove(),n.current=null}function zK(n){var t=n.sketch,i=n.children,r=function(a,c){var l={};for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&c.indexOf(u)<0&&(l[u]=a[u]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function"){var p=0;for(u=Object.getOwnPropertySymbols(a);p<u.length;p++)c.indexOf(u[p])<0&&Object.prototype.propertyIsEnumerable.call(a,u[p])&&(l[u[p]]=a[u[p]])}return l}(n,["sketch","children"]),s=Ee.createRef(),o=Ee.useRef(null);return Ee.useEffect(function(){s.current!==null&&(hj(o),o.current=function(a,c){return new Eb(a,c)}(t,s.current))},[t]),Ee.useEffect(function(){var a,c;(c=(a=o.current)===null||a===void 0?void 0:a.updateWithProps)===null||c===void 0||c.call(a,r)},[r,s]),Ee.useEffect(function(){return function(){return hj(o)}},[]),fd.createElement("div",{ref:s,className:GK},i)}var Pw=Ee.memo(function(n){return n.sketch===void 0?(console.error("[ReactP5Wrapper] The `sketch` prop is required."),null):fd.createElement(zK,Cb({},n))},function(n,t){return e3(n,t).length===0});const HK={waveType:"sine",direction:"static",angle:0,amplitude:10,frequency:10,speed:5,thickness:1,phaseOffset:0,numLines:1,distance:0,bgColor:"#ffffff",lineColor:"#FF0000",selectedPalette:"none",rotationSpeed:.02,rotationRadius:150,oscillationRange:100,groups:1,groupDistance:100},dj=()=>({...HK}),t3=({settings:n,setSettings:t})=>{const[i,r]=Ee.useState(!0),[s,o]=Ee.useState(0),a=()=>r(!0),c=()=>r(!1),l=()=>{t(dj()),o(p=>p+1),r(!1)},u=Ee.useCallback(p=>{let y=0,d=dj(),f=!0,b=-1,g=0,v=0;const _={rainbow:["#FF0000","#FF7F00","#FFFF00","#7FFF00","#00FF00","#00FF7F","#00FFFF","#007FFF","#0000FF","#7F00FF","#FF00FF","#FF007F"],pastel:["#FFD1DC","#FFABAB","#FFC3A0","#FF677D","#D4A5A5","#392F5A","#31A2AC","#61C0BF","#6B4226","#ACD8AA"]};p.setup=()=>{p.createCanvas(p.windowWidth,p.windowHeight),p.noStroke(),p.frameRate(60)},p.updateWithProps=w=>{w&&w.settings&&(d=w.settings),typeof w.running=="boolean"&&(f=w.running),typeof w.resetKey=="number"&&w.resetKey!==b&&(y=0,g=0,v=p.height/2,b=w.resetKey)};const x=()=>{if(f)switch(d.direction){case"static":v=p.height/2;break;case"up":v-=d.speed,v<-p.height&&(v+=p.height);break;case"down":v+=d.speed,v>p.height&&(v-=p.height);break;case"left":g-=d.speed,g<-p.width&&(g+=p.width);break;case"right":g+=d.speed,g>p.width&&(g-=p.width);break;case"oscillateUpDown":v=p.height/2+d.oscillationRange*p.sin(y),y+=d.speed/100;break;case"oscillateRightLeft":g=p.width/2+d.oscillationRange*p.sin(y),y+=d.speed/100;break;case"circular":{const w=y*d.rotationSpeed;g=p.width/2+d.rotationRadius*p.cos(w),v=p.height/2+d.rotationRadius*p.sin(w),y+=d.speed/100;break}}};p.draw=()=>{const w=p.width,S=p.height,R=w/2,D=S/2;p.clear(),p.background(p.color(d.bgColor)),p.strokeWeight(d.thickness),x();const A=d.selectedPalette!=="none",C=d.selectedPalette==="rainbow"?_.rainbow:_.pastel;for(let j=0;j<d.groups;j++)for(let P=0;P<d.numLines;P++){if(A){const O=C[P%C.length];p.stroke(p.color(O))}else p.stroke(p.color(d.lineColor));p.noFill(),p.beginShape();for(let O=0;O<=w;O++){const L=(O+g+d.phaseOffset*P)/d.frequency;let N=0;switch(d.waveType){case"sine":N=p.sin(L)*d.amplitude;break;case"tan":N=p.tan(L)*(d.amplitude/4);break;case"cotan":N=1/p.tan(L)*(d.amplitude/4);break;case"sawtooth":N=(L/p.PI%2-1)*d.amplitude;break;case"square":N=(p.sin(L)>=0?1:-1)*(d.amplitude/2);break;case"triangle":N=2*d.amplitude/p.PI*p.asin(p.sin(L));break}const q=v+j*d.groupDistance+P*d.distance,W=Math.cos(d.angle),Y=Math.sin(d.angle),J=(O-R)*W-N*Y+R,te=(O-R)*Y+(N+q-D)*W+D;p.vertex(J,te)}p.endShape()}},p.windowResized=()=>{p.resizeCanvas(p.windowWidth,p.windowHeight)}},[]);return V.jsxs("div",{className:"relative",children:[V.jsx(FK,{settings:n,setSettings:t,startAnimation:a,stopAnimation:c,resetAnimation:l}),V.jsx(Pw,{sketch:u,settings:n,running:i,resetKey:s})]})},WK="shape",qK=["circle","square","triangle","chevron","diamond"],YK=["static","up","down","left","right","oscillateUpDown","oscillateRightLeft","circular","3DVertical","3DHorizontal"],$K=["none","rainbow","pastel"],XK=["random","regular","checkboard"],KK=(n,t)=>({...t,shapeType:qK.includes(n.shapeType)?n.shapeType:t.shapeType,direction:YK.includes(n.direction)?n.direction:t.direction,rotationSpeed:typeof n.rotationSpeed=="number"?n.rotationSpeed:t.rotationSpeed,rotationRadius:typeof n.rotationRadius=="number"?n.rotationRadius:t.rotationRadius,oscillationRange:typeof n.oscillationRange=="number"?n.oscillationRange:t.oscillationRange,angle:typeof n.angle=="number"?n.angle:t.angle,speed:typeof n.speed=="number"?n.speed:t.speed,size:typeof n.size=="number"?n.size:t.size,numShapes:typeof n.numShapes=="number"?n.numShapes:t.numShapes,bgColor:typeof n.bgColor=="string"?n.bgColor:t.bgColor,shapeColor:typeof n.shapeColor=="string"?n.shapeColor:t.shapeColor,secondColor:typeof n.secondColor=="string"?n.secondColor:t.secondColor,palette:$K.includes(n.palette)?n.palette:t.palette,layoutSelect:XK.includes(n.layoutSelect)?n.layoutSelect:t.layoutSelect,rowOffset:typeof n.rowOffset=="number"?n.rowOffset:t.rowOffset,columnOffset:typeof n.columnOffset=="number"?n.columnOffset:t.columnOffset,rowDistance:typeof n.rowDistance=="number"?n.rowDistance:t.rowDistance,columnDistance:typeof n.columnDistance=="number"?n.columnDistance:t.columnDistance}),QK=({settings:n,setSettings:t,startAnimation:i,stopAnimation:r,resetAnimation:s})=>{const[o,a]=Ee.useState(!0),[c,l]=Ee.useState(null),u=p=>{const{name:y,value:d}=p.target;t(f=>({...f,[y]:d}))};return V.jsxs("div",{className:`fixed right-4 top-2 p-4 rounded ${o?"shadow-lg bg-transparent":""} w-60 z-50 h-full overflow-y-auto`,children:[V.jsx("button",{onClick:()=>a(p=>!p),className:"w-full bg-gray-200 text-gray-700 text-xs py-2 rounded mb-4",children:o?"Collapse Controls":"Expand Controls"}),V.jsx(Qp.Collapse,{isOpened:o,children:V.jsxs("div",{className:"space-y-4",children:[V.jsxs("div",{className:"text-xs flex space-x-2",children:[V.jsx("button",{onClick:i,className:"flex-1 bg-green-500 text-white py-2 rounded",children:"Start"}),V.jsx("button",{onClick:r,className:"flex-1 bg-red-500   text-white py-2 rounded",children:"Stop"}),V.jsx("button",{onClick:s,className:"flex-1 bg-gray-500  text-white py-2 rounded",children:"Reset"})]}),c&&V.jsx("div",{className:`p-2 rounded text-sm ${c.type==="success"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:c.message}),V.jsxs("div",{className:"space-y-1 text-xs",children:[V.jsx("label",{children:"Select Shape:"}),V.jsxs("select",{value:n.shapeType,onChange:p=>t(y=>({...y,shapeType:p.target.value})),className:"w-full border px-2 py-1 rounded",children:[V.jsx("option",{value:"circle",children:"Circle"}),V.jsx("option",{value:"square",children:"Square"}),V.jsx("option",{value:"triangle",children:"Triangle"}),V.jsx("option",{value:"chevron",children:"Chevron"}),V.jsx("option",{value:"diamond",children:"Diamond"})]})]}),V.jsxs("div",{className:"space-y-1 text-xs",children:[V.jsx("label",{children:"Direction:"}),V.jsxs("select",{value:n.direction,onChange:p=>t(y=>({...y,direction:p.target.value})),className:"w-full border text-xs px-2 py-1 rounded",children:[V.jsx("option",{value:"static",children:"Static"}),V.jsx("option",{value:"up",children:"Up"}),V.jsx("option",{value:"down",children:"Down"}),V.jsx("option",{value:"left",children:"Left"}),V.jsx("option",{value:"right",children:"Right"}),V.jsx("option",{value:"oscillateUpDown",children:"Oscillate Up/Down"}),V.jsx("option",{value:"oscillateRightLeft",children:"Oscillate L/R"}),V.jsx("option",{value:"circular",children:"Circular"}),V.jsx("option",{value:"3DVertical",children:"3D Vert."}),V.jsx("option",{value:"3DHorizontal",children:"3D Horz."})]})]}),n.direction==="circular"&&V.jsxs(V.Fragment,{children:[V.jsx(Ks,{label:"Rotation Speed",min:.01,max:1,step:.01,value:n.rotationSpeed,onChange:p=>t(y=>({...y,rotationSpeed:p}))}),V.jsx(Ks,{label:"Rotation Radius",min:10,max:500,value:n.rotationRadius,onChange:p=>t(y=>({...y,rotationRadius:p}))})]}),["oscillateUpDown","oscillateRightLeft","3DVertical","3DHorizontal"].includes(n.direction)&&V.jsx(Ks,{label:"Oscillation Range",min:0,max:window.innerWidth/4,value:n.oscillationRange,onChange:p=>t(y=>({...y,oscillationRange:p}))}),V.jsx(Ks,{label:"Angle ()",min:0,max:360,step:1,value:n.angle*180/Math.PI,onChange:p=>t(y=>({...y,angle:p*Math.PI/180}))}),V.jsx(Ks,{label:"Speed",min:1,max:20,step:1,value:n.speed,onChange:p=>t(y=>({...y,speed:p}))}),V.jsx(Ks,{label:"Size",min:20,max:200,step:1,value:n.size,onChange:p=>t(y=>({...y,size:p}))}),n.layoutSelect==="random"&&V.jsx(Ks,{label:"Number of Shapes",min:1,max:100,value:n.numShapes,onChange:p=>t(y=>({...y,numShapes:p}))}),V.jsxs("div",{className:"space-y-1 text-xs",children:[V.jsx("label",{children:"Background Color:"}),V.jsx("input",{name:"bgColor",type:"color",value:n.bgColor,onChange:u,className:"w-full h-8 p-0 border rounded"})]}),V.jsxs("div",{className:"space-y-1 text-xs",children:[V.jsx("label",{children:"Shape Color:"}),V.jsx("input",{name:"shapeColor",type:"color",value:n.shapeColor,onChange:u,className:"w-full h-8 p-0 border rounded"})]}),n.layoutSelect==="checkboard"&&V.jsxs("div",{className:"space-y-1 text-xs",children:[V.jsx("label",{children:"Second Color:"}),V.jsx("input",{name:"secondColor",type:"color",value:n.secondColor,onChange:u,className:"w-full h-8 p-0 border rounded"})]}),V.jsxs("div",{className:"space-y-1 text-xs",children:[V.jsx("label",{children:"Palette:"}),V.jsxs("select",{value:n.palette,onChange:p=>t(y=>({...y,palette:p.target.value})),className:"w-full border px-2 py-1 rounded",children:[V.jsx("option",{value:"none",children:"None"}),V.jsx("option",{value:"rainbow",children:"Rainbow"}),V.jsx("option",{value:"pastel",children:"Pastel"})]})]}),V.jsxs("div",{className:"space-y-1 text-xs",children:[V.jsx("label",{children:"Layout:"}),V.jsxs("select",{value:n.layoutSelect,onChange:p=>t(y=>({...y,layoutSelect:p.target.value})),className:"w-full border text-xs px-2 py-1 rounded",children:[V.jsx("option",{value:"random",children:"Random"}),V.jsx("option",{value:"regular",children:"Regular"}),V.jsx("option",{value:"checkboard",children:"Checkboard"})]})]}),n.layoutSelect!=="random"&&V.jsxs(V.Fragment,{children:[V.jsx(Ks,{label:"Row Offset",min:0,max:100,value:n.rowOffset,onChange:p=>t(y=>({...y,rowOffset:p}))}),V.jsx(Ks,{label:"Col Offset",min:0,max:100,value:n.columnOffset,onChange:p=>t(y=>({...y,columnOffset:p}))}),V.jsx(Ks,{label:"Row Distance",min:0,max:100,value:n.rowDistance,onChange:p=>t(y=>({...y,rowDistance:p}))}),V.jsx(Ks,{label:"Col Distance",min:0,max:100,value:n.columnDistance,onChange:p=>t(y=>({...y,columnDistance:p}))})]}),V.jsx("hr",{className:"my-2"}),V.jsx(Iy,{module:WK,settings:n,setSettings:t,mergeLoaded:KK,className:"bg-transparent"})]})})]})},fj={shapeType:"circle",numShapes:10,size:50,direction:"static",angle:0,speed:5,rotationSpeed:.02,rotationRadius:150,bgColor:"#FFFFFF",shapeColor:"#007BFF",secondColor:"#FF0000",palette:"none",rowOffset:0,columnOffset:0,rowDistance:50,columnDistance:50,layoutSelect:"random",oscillationRange:100},r3=()=>{const[n,t]=Ee.useState(fj),[i,r]=Ee.useState(!0);Ee.useEffect(()=>{},[n]);const s=Ee.useCallback(l=>{let u=[],p=0,y=0;function d(){p=Math.floor(l.height/(n.size+n.rowDistance)),y=Math.floor(l.width/(n.size+n.columnDistance))}function f(){u=[];const g=n.layoutSelect==="random"?n.numShapes:p*y,v=new Array(g);if(n.layoutSelect==="checkboard")for(let _=0;_<g;_++){const x=Math.floor(_/y),w=_%y,S=(x+w)%2===0;v[_]=l.color(S?n.shapeColor:n.secondColor)}else if(n.palette==="rainbow")for(let _=0;_<g;_++){const x=_/g*360;v[_]=l.color(x,100,100)}else if(n.palette==="pastel")for(let _=0;_<g;_++){const x=_/g*360;v[_]=l.color(x,60,80)}else for(let _=0;_<g;_++)v[_]=l.color(n.shapeColor);for(let _=0;_<g;_++)u.push(new b(l,n,_,p,y,v[_])),u.push(new b(l,n,_,p,y,v[_]))}l.setup=()=>{l.createCanvas(l.windowWidth,l.windowHeight),l.colorMode(l.HSB,360,100,100),d(),f()},l.windowResized=()=>{l.resizeCanvas(l.windowWidth,l.windowHeight),d(),f()},l.updateWithProps=g=>{g.settings&&(Object.assign(n,g.settings),d(),f()),g.isAnimating!==void 0&&(g.isAnimating?l.loop():l.noLoop())},l.draw=()=>{l.background(n.bgColor);for(const g of u)g.move(),g.display()};class b{constructor(v,_,x,w,S,R){Ui(this,"p5");Ui(this,"settings");Ui(this,"index");Ui(this,"rows");Ui(this,"cols");Ui(this,"x");Ui(this,"y");Ui(this,"angle");Ui(this,"speed");Ui(this,"fillColor");this.p5=v,this.settings=_,this.index=x,this.rows=w,this.cols=S,this.fillColor=R,this.initPosition()}initPosition(){const{layoutSelect:v,size:_,columnDistance:x,rowDistance:w,rowOffset:S,columnOffset:R}=this.settings;if(v==="random")this.x=this.p5.random(this.p5.width),this.y=this.p5.random(this.p5.height);else{const D=Math.floor(this.p5.width/(_+x));Math.floor(this.p5.height/(_+w));const A=this.index%D,C=Math.floor(this.index/D),j=_+x,P=_+w;this.x=A*j+C*S,this.y=C*P+A*R}this.angle=this.settings.angle,this.speed=this.settings.speed}move(){switch(this.settings.direction){case"up":this.y-=this.speed;break;case"down":this.y+=this.speed;break;case"left":this.x-=this.speed;break;case"right":this.x+=this.speed;break;case"oscillateUpDown":this.y+=Math.sin(this.p5.frameCount*.05)*this.settings.speed*.01*this.settings.oscillationRange;break;case"oscillateRightLeft":this.x+=Math.sin(this.p5.frameCount*.05)*this.settings.speed*.01*this.settings.oscillationRange;break;case"circular":this.x+=Math.cos(this.p5.frameCount*this.settings.rotationSpeed*.001+this.index)*this.settings.rotationRadius*.1,this.y+=Math.sin(this.p5.frameCount*this.settings.rotationSpeed*.001+this.index)*this.settings.rotationRadius*.1;break}this.x>this.p5.width&&(this.x=0),this.x<0&&(this.x=this.p5.width),this.y>this.p5.height&&(this.y=0),this.y<0&&(this.y=this.p5.height)}display(){switch(this.p5.push(),this.p5.translate(this.x,this.y),this.p5.rotate(this.angle),this.p5.fill(this.fillColor),this.settings.shapeType){case"circle":this.p5.ellipse(0,0,this.settings.size);break;case"square":this.p5.rect(0,0,this.settings.size,this.settings.size);break;case"triangle":this.p5.triangle(-this.settings.size/2,this.settings.size/2,this.settings.size/2,this.settings.size/2,0,-this.settings.size/2);break;case"chevron":this.p5.beginShape(),this.p5.vertex(-this.settings.size/2,this.settings.size/2),this.p5.vertex(0,-this.settings.size/2),this.p5.vertex(this.settings.size/2,this.settings.size/2),this.p5.vertex(this.p5.width/8,this.settings.size/2),this.p5.vertex(0,0),this.p5.vertex(-this.p5.width/8,this.settings.size/2),this.p5.endShape(this.p5.CLOSE);break;case"diamond":this.p5.beginShape(),this.p5.vertex(0,-this.settings.size/2),this.p5.vertex(this.settings.size/2,0),this.p5.vertex(0,this.settings.size/2),this.p5.vertex(-this.settings.size/2,0),this.p5.endShape(this.p5.CLOSE);break}this.p5.pop()}}},[]),o=()=>r(!0),a=()=>r(!1),c=()=>{t(fj),r(!0)};return V.jsxs("div",{className:"relative",children:[V.jsx(QK,{settings:n,setSettings:t,startAnimation:o,stopAnimation:a,resetAnimation:c}),V.jsx(Pw,{sketch:s,settings:n,isAnimating:i})]})},ZK="color",JK=({settings:n,setSettings:t,startAnimation:i,stopAnimation:r,resetAnimation:s})=>{const[o,a]=Ee.useState(!0),c=(u,p)=>({...p,colors:Array.isArray(u.colors)?u.colors:p.colors,animationStyle:u.animationStyle??p.animationStyle,duration:typeof u.duration=="number"?u.duration:p.duration,opacity:typeof u.opacity=="number"?u.opacity:p.opacity,opacityMode:u.opacityMode??p.opacityMode,opacitySpeed:typeof u.opacitySpeed=="number"?u.opacitySpeed:p.opacitySpeed,direction:u.direction??p.direction,linearAngle:typeof u.linearAngle=="number"?u.linearAngle:p.linearAngle}),l=(u,p)=>t(y=>{const d=[...y.colors];return d[u]=p,{...y,colors:d}});return V.jsxs("div",{className:`fixed right-4 top-2 p-4 rounded shadow-lg w-60 z-50 ${o?"bg-white/70":""}`,children:[V.jsx("button",{onClick:()=>a(!o),className:"mb-2 bg-gray-200 text-xs p-2 rounded w-full",children:o?"Collapse Controls":"Expand Controls"}),V.jsx(Qp.Collapse,{isOpened:o,children:V.jsxs("div",{className:"space-y-4 text-xs",children:[V.jsxs("div",{className:"flex gap-2",children:[V.jsx("button",{onClick:i,className:"bg-green-500 text-white p-2 rounded w-1/3",children:"Start"}),V.jsx("button",{onClick:r,className:"bg-red-500   text-white p-2 rounded w-1/3",children:"Stop"}),V.jsx("button",{onClick:s,className:"bg-gray-500  text-white p-2 rounded w-1/3",children:"Reset"})]}),[0,1,2,3].map(u=>V.jsxs("div",{children:[V.jsxs("label",{className:"block mb-1",children:["Color ",u+1]}),V.jsx("input",{type:"color",value:n.colors[u],onChange:p=>l(u,p.target.value),className:"w-full h-8"})]},u)),V.jsxs("div",{children:[V.jsxs("label",{className:"block mb-1",children:["Speed (duration multiplier): ",n.duration.toFixed(2)]}),V.jsx("input",{type:"range",min:0,max:5,step:.1,value:n.duration,onChange:u=>t(p=>({...p,duration:Number(u.target.value)})),className:"w-full"})]}),V.jsxs("div",{children:[V.jsx("label",{className:"block mb-1",children:"Animation Style"}),V.jsxs("select",{value:n.animationStyle,onChange:u=>t(p=>({...p,animationStyle:u.target.value})),className:"border p-2 rounded w-full",children:[V.jsx("option",{value:"sine",children:"Sine"}),V.jsx("option",{value:"linear",children:"Linear"}),V.jsx("option",{value:"circular",children:"Circular"}),V.jsx("option",{value:"fractal",children:"Fractal"})]})]}),V.jsxs("div",{children:[V.jsx("label",{className:"block mb-1",children:"Direction"}),V.jsxs("select",{value:n.direction,onChange:u=>t(p=>({...p,direction:u.target.value})),className:"border p-2 rounded w-full",children:[V.jsx("option",{value:"forward",children:"Forward"}),V.jsx("option",{value:"reverse",children:"Reverse"})]})]}),n.animationStyle==="linear"&&V.jsxs("div",{children:[V.jsxs("label",{className:"block mb-1",children:["Linear Angle (degrees): ",Math.round(n.linearAngle)]}),V.jsx("input",{type:"range",min:0,max:360,step:1,value:n.linearAngle,onChange:u=>t(p=>({...p,linearAngle:Number(u.target.value)})),className:"w-full"})]}),V.jsxs("div",{children:[V.jsxs("label",{className:"block mb-1",children:["Opacity: ",Math.round(n.opacity*100),"%"]}),V.jsx("input",{type:"range",min:0,max:100,step:1,value:Math.round(n.opacity*100),onChange:u=>t(p=>({...p,opacity:Number(u.target.value)/100})),className:"w-full"})]}),V.jsxs("div",{children:[V.jsx("label",{className:"block mb-1",children:"Opacity Mode"}),V.jsxs("select",{value:n.opacityMode,onChange:u=>t(p=>({...p,opacityMode:u.target.value})),className:"border p-2 rounded w-full",children:[V.jsx("option",{value:"constant",children:"Constant"}),V.jsx("option",{value:"pulse",children:"Pulse"})]})]}),n.opacityMode==="pulse"&&V.jsxs("div",{children:[V.jsxs("label",{className:"block mb-1",children:["Opacity Pulse Speed: ",n.opacitySpeed.toFixed(2)]}),V.jsx("input",{type:"range",min:0,max:5,step:.1,value:n.opacitySpeed,onChange:u=>t(p=>({...p,opacitySpeed:Number(u.target.value)})),className:"w-full"})]}),V.jsx("hr",{className:"my-2"}),V.jsx(Iy,{module:ZK,settings:n,setSettings:t,mergeLoaded:c,className:"bg-transparent"})]})})]})},Ab={colors:["#FF0000","#00FF00","#0000FF","#FFFF00"],animationStyle:"sine",duration:1,opacity:1,opacityMode:"constant",opacitySpeed:1,direction:"forward",linearAngle:45},pj=()=>({...Ab,colors:[...Ab.colors]}),eQ=({setCurrentAnimation:n})=>{const[t,i]=Ee.useState(pj()),[r,s]=Ee.useState(!0),[o,a]=Ee.useState(0),c=()=>s(!0),l=()=>s(!1),u=()=>{i(pj()),a(y=>y+1),s(!1)},p=Ee.useCallback(y=>{let d=0,f=Ab,b=!0,g=-1;y.setup=()=>{y.createCanvas(y.windowWidth,y.windowHeight),y.noStroke(),y.frameRate(60)},y.updateWithProps=v=>{v.settings&&(f=v.settings),typeof v.running=="boolean"&&(b=v.running),typeof v.resetKey=="number"&&v.resetKey!==g&&(d=0,g=v.resetKey)},y.draw=()=>{const v=y.width,_=y.height;y.clear();const[x,w,S,R]=f.colors.map(q=>y.color(q)),D=f.direction==="reverse"?-1:1,A=f.duration||0;let C=f.opacity;if(f.opacityMode==="pulse"){const q=(y.sin(d*(f.opacitySpeed||0))+1)*.5;C=Math.max(0,Math.min(1,f.opacity*q))}const j=Math.round(255*C),P=f.linearAngle%360*(Math.PI/180),O=Math.cos(P),L=Math.sin(P),N=v+_;for(let q=0;q<=v;q+=10)for(let W=0;W<=_;W+=10){let Y=0;switch(f.animationStyle){case"sine":Y=y.map(y.sin(d+q*.01+W*.01),-1,1,0,1);break;case"linear":{const Q=(q-v/2)*O+(W-_/2)*L,ne=(d*120*A*D%N+N)%N;Y=y.map((Q+ne+N/2)%N,0,N,0,1);break}case"circular":{const Q=v/2,ne=_/2,re=y.dist(q,W,Q,ne),I=(y.sin(d*2*A*D)+1)*.5,U=Math.min(Q,ne)*(.5+.5*I);Y=y.map(re,0,Math.max(1,U),0,1,!0);break}case"fractal":{Y=y.noise(q*.005,W*.005,d*.3*A*Math.sign(D));break}}const J=y.lerpColor(x,w,Y),te=y.lerpColor(S,R,Y),ee=y.lerpColor(J,te,Y);ee.setAlpha(j),y.fill(ee),y.rect(q,W,10,10)}b&&(d+=.01*A*D)},y.windowResized=()=>{y.resizeCanvas(y.windowWidth,y.windowHeight)}},[]);return V.jsxs("div",{className:"relative",children:[V.jsx(JK,{settings:t,setSettings:i,startAnimation:c,stopAnimation:l,resetAnimation:u}),V.jsx(Pw,{sketch:p,settings:t,running:r,resetKey:o})]})},tQ="baseline-typing",rQ=({settings:n,setSettings:t})=>{const[i,r]=Ee.useState(!0),s=(o,a)=>({bgColor:o.bgColor??a.bgColor,bgOpacity:typeof o.bgOpacity=="number"?o.bgOpacity:a.bgOpacity});return V.jsxs("div",{className:"fixed right-4 top-2 p-4 rounded shadow-lg w-60 z-50 bg-white/70",children:[V.jsx("button",{onClick:()=>r(o=>!o),className:"mb-2 bg-gray-200 text-xs p-2 rounded w-full",children:i?"Collapse Controls":"Expand Controls"}),V.jsx(Qp.Collapse,{isOpened:i,children:V.jsxs("div",{className:"space-y-3 text-xs",children:[V.jsxs("div",{children:[V.jsx("label",{className:"block mb-1",children:"Background Color"}),V.jsx("input",{type:"color",value:n.bgColor,onChange:o=>t(a=>({...a,bgColor:o.target.value})),className:"w-full h-8"})]}),V.jsxs("div",{children:[V.jsxs("label",{className:"block mb-1",children:["Background Opacity: ",Math.round(n.bgOpacity*100),"%"]}),V.jsx("input",{type:"range",min:0,max:100,step:1,value:Math.round(n.bgOpacity*100),onChange:o=>t(a=>({...a,bgOpacity:Number(o.target.value)/100})),className:"w-full"})]}),V.jsx("hr",{className:"my-2"}),V.jsx(Iy,{module:tQ,settings:n,setSettings:t,mergeLoaded:s,className:"bg-transparent"})]})})]})};function nQ(n,t=1){const i=Number.isFinite(t)?Math.max(0,Math.min(1,t)):1;if(!n||typeof n!="string")return`rgba(255, 255, 255, ${i})`;const r=n.replace("#","");let s=255,o=255,a=255;return r.length===3?(s=parseInt(r[0]+r[0],16),o=parseInt(r[1]+r[1],16),a=parseInt(r[2]+r[2],16)):r.length===6&&(s=parseInt(r.slice(0,2),16),o=parseInt(r.slice(2,4),16),a=parseInt(r.slice(4,6),16)),`rgba(${s}, ${o}, ${a}, ${i})`}const mj={bgColor:"#ffffff",bgOpacity:1},iQ=({settings:n,setSettings:t})=>{const i={bgColor:(n==null?void 0:n.bgColor)??mj.bgColor,bgOpacity:typeof(n==null?void 0:n.bgOpacity)=="number"?n.bgOpacity:mj.bgOpacity};return Ee.useEffect(()=>{const r=document.body.style.backgroundColor;return document.body.style.backgroundColor=nQ(i.bgColor,i.bgOpacity),()=>{document.body.style.backgroundColor=r}},[i.bgColor,i.bgOpacity]),V.jsx(V.Fragment,{children:V.jsx(rQ,{settings:i,setSettings:t??(()=>{})})})},Ig={backgroundColor:"blue",color:"white",border:"none",borderRadius:"5px",padding:"8px 12px",margin:"5px",cursor:"pointer",textAlign:"center",fontSize:"12px",fontWeight:"bold",transition:"background-color 0.3s ease"},sQ=({displayText:n,setDisplayText:t,style:i,buttonContainerStyle:r})=>{const s=["It is a truth universally acknowledged, that a single man in possession of a good fortune, must be in want of a wife - Jane Austen.","All happy families are alike; each unhappy family is unhappy in its own way - Leo Tolstoy.","It was the best of times, it was the worst of times, it was the age of wisdom, it was the age of foolishness - Charles Dickens.","Call me Ishmael - Herman Melville.","It was a bright cold day in April, and the clocks were striking thirteen - George Orwell.","I am an invisible man - Ralph Ellison.","The sun shone, having no alternative, on the nothing new - Samuel Beckett.","If you really want to hear about it, the first thing you'll probably want to know is where I was born - J.D. Salinger.","It was a pleasure to burn - Ray Bradbury.","You don't know about me without you have read a book by the name of The Adventures of Tom Sawyer - Mark Twain.","When he was nearly thirteen, my brother Jem got his arm badly broken at the elbow - Harper Lee.","I had the story, bit by bit, from various people, and, as generally happens in such cases, each time it was a different story - Edith Wharton.","In my younger and more vulnerable years my father gave me some advice that I've been turning over in my mind ever since - F. Scott Fitzgerald.","You better not never tell nobody but God - Alice Walker.","There was no possibility of taking a walk that day - Charlotte Bront.","The past is a foreign country; they do things differently there - L.P. Hartley.","All children, except one, grow up - J.M. Barrie.","It was love at first sight - Joseph Heller.","Into the face of the young man who sat on the terrace of the Hotel Magnifique at Cannes there crept a look of furtive shame, the shifty, hangdog look which announces that an Englishman is about to speak French - P.G. Wodehouse.","A screaming comes across the sky - Thomas Pynchon."],o=["Veni, vidi, vici - Julius Caesar.","Carpe diem - Horace.","Amor vincit omnia - Virgil.","Audere est facere - To dare is to do.","Faber est suae quisque fortunae - Every man is the artisan of his own fortune.","Alea iacta est - The die is cast - Julius Caesar.","In vino veritas - In wine, there is truth.","Si vis pacem, para bellum - If you want peace, prepare for war.","Vivere est cogitare - To live is to think - Cicero.","Ad astra per aspera - Through hardships to the stars.","Dulce et decorum est pro patria mori - It is sweet and fitting to die for one's country - Horace.","Non ducor, duco - I am not led, I lead.","Sapere aude - Dare to be wise.","Vox populi, vox Dei - The voice of the people is the voice of God.","Panem et circenses - Bread and circuses - Juvenal.","Aurora Musis amica - Dawn is a friend of the muses.","Lux et veritas - Light and truth.","O tempora, o mores! - Oh the times! Oh the customs! - Cicero.","Per aspera ad astra - Through hardships to the stars.","Veritas vos liberabit - The truth will set you free."];return V.jsxs("div",{style:{width:"max-content",padding:"1rem",backgroundColor:"white",borderRadius:"0.5rem",boxShadow:"0 4px 8px rgba(0,0,0,0.1)",...i},children:[V.jsxs("div",{style:{display:"flex",gap:"0.5rem",...r},children:[V.jsx("button",{onClick:()=>t(s[Math.floor(Math.random()*s.length)]),style:Ig,children:"Historic Passage"}),V.jsx("button",{onClick:()=>t(o[Math.floor(Math.random()*o.length)]),style:Ig,children:"Latin Text"})]}),V.jsx("div",{style:{marginTop:"0.5rem",textAlign:"center"},children:n||"Select an option to display text"})]})},n3=({placeholder:n,displayText:t,setDisplayText:i,saveKeystrokeData:r,onTypingStart:s})=>{const[o,a]=Ee.useState(""),[c,l]=Ee.useState([]),[u,p]=Ee.useState("Arial"),[y,d]=Ee.useState(16),[f,b]=Ee.useState(!1),[g,v]=Ee.useState("#000000"),[_,x]=Ee.useState("#FFFFFF"),[w,S]=Ee.useState(1),[R,D]=Ee.useState(!0),[A,C]=Ee.useState(null),[j,P]=Ee.useState(0),O=Ee.useRef([]),L=Ee.useRef(null),N=Ee.useRef(null),q=Ee.useRef(!1),W=Ee.useRef(null);Ee.useEffect(()=>{O.current=c},[c]);const Y=X=>X.replace(/\s+/g," ").trim(),J=X=>X.trim().length?X.trim().split(/\s+/):[],te=(X,ae)=>{const le=X.length,he=ae.length,ye=Array.from({length:le+1},()=>new Array(he+1).fill(0));for(let Te=0;Te<=le;Te++)ye[Te][0]=Te;for(let Te=0;Te<=he;Te++)ye[0][Te]=Te;for(let Te=1;Te<=le;Te++)for(let ke=1;ke<=he;ke++){const Me=X[Te-1]===ae[ke-1]?0:1;ye[Te][ke]=Math.min(ye[Te-1][ke]+1,ye[Te][ke-1]+1,ye[Te-1][ke-1]+Me)}const me=[];let xe=le,Se=he;for(;xe>0||Se>0;)xe>0&&Se>0&&ye[xe][Se]===ye[xe-1][Se-1]&&X[xe-1]===ae[Se-1]?(me.push({op:"match",a:X[xe-1],b:ae[Se-1],ai:xe-1,bi:Se-1}),xe--,Se--):xe>0&&Se>0&&ye[xe][Se]===ye[xe-1][Se-1]+1?(me.push({op:"sub",a:X[xe-1],b:ae[Se-1],ai:xe-1,bi:Se-1}),xe--,Se--):xe>0&&ye[xe][Se]===ye[xe-1][Se]+1?(me.push({op:"del",a:X[xe-1],ai:xe-1,bi:Se}),xe--):(me.push({op:"ins",b:ae[Se-1],ai:xe,bi:Se-1}),Se--);me.reverse();const pe={matches:me.filter(Te=>Te.op==="match").length,insertions:me.filter(Te=>Te.op==="ins").length,deletions:me.filter(Te=>Te.op==="del").length,substitutions:me.filter(Te=>Te.op==="sub").length};return{ops:me,counts:pe,distance:ye[le][he]}},ee=X=>X.length?X.reduce((ae,le)=>ae+le,0)/X.length:0,Q=X=>{if(!X.length)return 0;const ae=[...X].sort((he,ye)=>he-ye),le=Math.floor(ae.length/2);return ae.length%2?ae[le]:(ae[le-1]+ae[le])/2},ne=(X,ae)=>{if(!X.length)return 0;const le=[...X].sort((ye,me)=>ye-me),he=Math.min(le.length-1,Math.max(0,Math.ceil(ae/100*le.length)-1));return le[he]},re=X=>{if(document.activeElement!==W.current)return;const ae=Date.now();!q.current&&X.key.length===1&&(q.current=!0,s==null||s()),A===null&&C(ae),X.key==="Backspace"&&P(ye=>ye+1);const le=N.current!==null?ae-N.current:0,he=L.current!==null?ae-L.current:0;l(ye=>[...ye,{key:X.key,code:X.code,pressTime:ae,releaseTime:null,holdTime:null,lagTime:le,totalLagTime:he,altKey:X.altKey,ctrlKey:X.ctrlKey,metaKey:X.metaKey,shiftKey:X.shiftKey}]),L.current=ae},I=X=>{if(document.activeElement!==W.current)return;const ae=Date.now();l(le=>{const he=[...le];for(let ye=he.length-1;ye>=0;ye--){const me=he[ye];if(me.releaseTime===null&&me.key===X.key&&me.code===X.code){he[ye]={...me,releaseTime:ae,holdTime:ae-me.pressTime};break}}return he}),N.current=ae};Ee.useEffect(()=>{const X=le=>re(le),ae=le=>I(le);return document.addEventListener("keydown",X),document.addEventListener("keyup",ae),()=>{document.removeEventListener("keydown",X),document.removeEventListener("keyup",ae)}},[]);const U=()=>{const X=c.filter(We=>typeof We.pressTime=="number"),ae=c.filter(We=>typeof We.releaseTime=="number"&&We.releaseTime!==null),le=X.length?Math.min(...X.map(We=>We.pressTime)):A??Date.now(),he=ae.length?Math.max(...ae.map(We=>We.releaseTime)):Date.now(),ye=Math.max(0,he-le),me=ye/6e4||1e-9,xe=Array.from(o),Se=Array.from(t),pe=te(xe,Se),Te=J(o),ke=J(t),Me=te(Te,ke),Ne=Y(o),Ve=Y(t),Xe=te(Array.from(Ne),Array.from(Ve)),ht=te(J(Ne),J(Ve)).distance,Ke={};for(const We of pe.ops)if(We.op==="sub"&&We.a&&We.b){const rt=`${We.a}->${We.b}`;Ke[rt]=(Ke[rt]||0)+1}const jt=o.length/5/me,bt=o.length/me,gt=Te.length/me,Tt=Math.max(0,jt-(Me.counts.substitutions+Me.counts.insertions+Me.counts.deletions)/me),St=Math.max(0,pe.counts.matches/Math.max(Se.length,1)),$e=Math.max(0,Me.counts.matches/Math.max(ke.length,1)),dt=Math.max(0,(Array.from(Ve).length-Xe.distance)/Math.max(Array.from(Ve).length,1)),Ge=c.map(We=>We.holdTime??0).filter(We=>We>0),de=c.map(We=>We.lagTime??0).filter(We=>We>=0),ge={},ce={},we={};c.forEach(We=>{const rt=`${We.code}`;ge[rt]=ge[rt]||{count:0,meanHoldMs:0,meanLagMs:0},ge[rt].count+=1,ce[rt]=(ce[rt]||0)+(We.holdTime??0),we[rt]=(we[rt]||0)+(We.lagTime??0)}),Object.keys(ge).forEach(We=>{ge[We].meanHoldMs=ge[We].count?ce[We]/ge[We].count:0,ge[We].meanLagMs=ge[We].count?we[We]/ge[We].count:0});const He={typedText:o,targetText:t,keyData:c,analysis:{char:{ops:pe.ops,counts:pe.counts},word:{ops:Me.ops,counts:Me.counts},normalized:{typed:Ne,target:Ve,charDistance:Xe.distance,wordErrors:ht},confusionPairs:Ke},metrics:{startMs:le,endMs:he,durationMs:ye,totalKeys:c.length,backspaceCount:j,rawWpm5:jt,charWpm:bt,wordWpm:gt,netWpm5:Tt,charAccuracy:St,wordAccuracy:$e,normalizedCharAccuracy:dt,holdMs:{mean:ee(Ge),median:Q(Ge),p95:ne(Ge,95)},interKeyMs:{mean:ee(de),median:Q(de),p95:ne(de,95)},perKey:ge},ui:{font:u,fontSize:y,isBold:f,textColor:g,backgroundColor:_,backgroundOpacity:w}};r(He)},H=()=>{a(""),l([]),P(0),C(null),q.current=!1,L.current=null,N.current=null};return V.jsxs("div",{className:"relative w-full",children:[V.jsx("div",{className:"flex flex-row justify-between items-start w-full space-x-4",children:V.jsx("div",{className:"flex-1 text-xs",children:V.jsx("textarea",{ref:W,value:o,placeholder:n,onChange:X=>a(X.target.value),style:{width:"100%",height:"300px",fontFamily:u,fontSize:`${y}px`,fontWeight:f?"bold":"normal",color:g,backgroundColor:`rgba(${parseInt(_.slice(1,3),16)}, ${parseInt(_.slice(3,5),16)}, ${parseInt(_.slice(5,7),16)}, ${w})`,border:"1px solid #ccc",outline:"none",padding:"10px",borderRadius:"4px",resize:"vertical",overflowY:"scroll"}})})}),V.jsx("button",{onClick:()=>D(!R),className:"mt-3 text-xs bg-gray-100 p-2 border rounded",children:R?"Hide Text Controls":"Show Text Controls"}),V.jsx(Qp.Collapse,{isOpened:R,children:V.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-3 max-w-sm text-xs bg-white/70 p-3 border rounded shadow",children:[V.jsxs("div",{children:[V.jsx("label",{className:"block mb-1",children:"Font"}),V.jsxs("select",{value:u,onChange:X=>p(X.target.value),className:"border p-2 rounded w-full",children:[V.jsx("option",{value:"Arial",children:"Arial"}),V.jsx("option",{value:"Verdana",children:"Verdana"}),V.jsx("option",{value:"Times New Roman",children:"Times New Roman"}),V.jsx("option",{value:"Courier New",children:"Courier New"}),V.jsx("option",{value:"Georgia",children:"Georgia"})]})]}),V.jsxs("div",{children:[V.jsx("label",{className:"block mb-1",children:"Font Size"}),V.jsx("select",{value:y,onChange:X=>d(parseInt(X.target.value)),className:"border p-2 rounded w-full",children:[...Array(31)].map((X,ae)=>V.jsx("option",{value:10+ae,children:10+ae},ae))})]}),V.jsxs("label",{className:"flex items-center gap-2",children:[V.jsx("span",{children:"Bold"}),V.jsx("input",{type:"checkbox",checked:f,onChange:X=>b(X.target.checked)})]}),V.jsxs("div",{children:[V.jsx("label",{className:"block mb-1",children:"Text Color"}),V.jsx("input",{type:"color",value:g,onChange:X=>v(X.target.value),className:"w-full h-8"})]}),V.jsxs("div",{children:[V.jsx("label",{className:"block mb-1",children:"Background Color"}),V.jsx("input",{type:"color",value:_,onChange:X=>x(X.target.value),className:"w-full h-8"})]}),V.jsxs("div",{children:[V.jsx("label",{className:"block mb-1",children:"Background Opacity"}),V.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:w,onChange:X=>S(parseFloat(X.target.value)),className:"w-full"})]})]})}),V.jsxs("div",{className:"mt-3",children:[V.jsx("button",{onClick:U,style:Ig,children:"Submit"}),V.jsx("button",{onClick:H,style:{...Ig,marginLeft:"0.5rem"},children:"Reset"})]})]})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var kg={};kg.version="0.18.5";var i3=1252,aQ=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],s3=function(n){aQ.indexOf(n)!=-1&&(i3=n)};function oQ(){s3(1252)}var xp=function(n){s3(n)};function lQ(){xp(1200),oQ()}var x0=function(t){return String.fromCharCode(t)},gj=function(t){return String.fromCharCode(t)},lu,uc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function wp(n){for(var t="",i=0,r=0,s=0,o=0,a=0,c=0,l=0,u=0;u<n.length;)i=n.charCodeAt(u++),o=i>>2,r=n.charCodeAt(u++),a=(i&3)<<4|r>>4,s=n.charCodeAt(u++),c=(r&15)<<2|s>>6,l=s&63,isNaN(r)?c=l=64:isNaN(s)&&(l=64),t+=uc.charAt(o)+uc.charAt(a)+uc.charAt(c)+uc.charAt(l);return t}function jl(n){var t="",i=0,r=0,s=0,o=0,a=0,c=0,l=0;n=n.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<n.length;)o=uc.indexOf(n.charAt(u++)),a=uc.indexOf(n.charAt(u++)),i=o<<2|a>>4,t+=String.fromCharCode(i),c=uc.indexOf(n.charAt(u++)),r=(a&15)<<4|c>>2,c!==64&&(t+=String.fromCharCode(r)),l=uc.indexOf(n.charAt(u++)),s=(c&3)<<6|l,l!==64&&(t+=String.fromCharCode(s));return t}var $r=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Ml=function(){if(typeof Buffer<"u"){var n=!Buffer.from;if(!n)try{Buffer.from("foo","utf8")}catch{n=!0}return n?function(t,i){return i?new Buffer(t,i):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function ku(n){return $r?Buffer.alloc?Buffer.alloc(n):new Buffer(n):typeof Uint8Array<"u"?new Uint8Array(n):new Array(n)}function yj(n){return $r?Buffer.allocUnsafe?Buffer.allocUnsafe(n):new Buffer(n):typeof Uint8Array<"u"?new Uint8Array(n):new Array(n)}var Xa=function(t){return $r?Ml(t,"binary"):t.split("").map(function(i){return i.charCodeAt(0)&255})};function ky(n){if(typeof ArrayBuffer>"u")return Xa(n);for(var t=new ArrayBuffer(n.length),i=new Uint8Array(t),r=0;r!=n.length;++r)i[r]=n.charCodeAt(r)&255;return t}function Zp(n){if(Array.isArray(n))return n.map(function(r){return String.fromCharCode(r)}).join("");for(var t=[],i=0;i<n.length;++i)t[i]=String.fromCharCode(n[i]);return t.join("")}function cQ(n){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(n)}var qi=$r?function(n){return Buffer.concat(n.map(function(t){return Buffer.isBuffer(t)?t:Ml(t)}))}:function(n){if(typeof Uint8Array<"u"){var t=0,i=0;for(t=0;t<n.length;++t)i+=n[t].length;var r=new Uint8Array(i),s=0;for(t=0,i=0;t<n.length;i+=s,++t)if(s=n[t].length,n[t]instanceof Uint8Array)r.set(n[t],i);else{if(typeof n[t]=="string")throw"wtf";r.set(new Uint8Array(n[t]),i)}return r}return[].concat.apply([],n.map(function(o){return Array.isArray(o)?o:[].slice.call(o)}))};function uQ(n){for(var t=[],i=0,r=n.length+250,s=ku(n.length+255),o=0;o<n.length;++o){var a=n.charCodeAt(o);if(a<128)s[i++]=a;else if(a<2048)s[i++]=192|a>>6&31,s[i++]=128|a&63;else if(a>=55296&&a<57344){a=(a&1023)+64;var c=n.charCodeAt(++o)&1023;s[i++]=240|a>>8&7,s[i++]=128|a>>2&63,s[i++]=128|c>>6&15|(a&3)<<4,s[i++]=128|c&63}else s[i++]=224|a>>12&15,s[i++]=128|a>>6&63,s[i++]=128|a&63;i>r&&(t.push(s.slice(0,i)),i=0,s=ku(65535),r=65530)}return t.push(s.slice(0,i)),qi(t)}var Xf=/\u0000/g,w0=/[\u0001-\u0006]/g;function Kh(n){for(var t="",i=n.length-1;i>=0;)t+=n.charAt(i--);return t}function Ja(n,t){var i=""+n;return i.length>=t?i:Un("0",t-i.length)+i}function Dw(n,t){var i=""+n;return i.length>=t?i:Un(" ",t-i.length)+i}function Mg(n,t){var i=""+n;return i.length>=t?i:i+Un(" ",t-i.length)}function hQ(n,t){var i=""+Math.round(n);return i.length>=t?i:Un("0",t-i.length)+i}function dQ(n,t){var i=""+n;return i.length>=t?i:Un("0",t-i.length)+i}var vj=Math.pow(2,32);function kh(n,t){if(n>vj||n<-vj)return hQ(n,t);var i=Math.round(n);return dQ(i,t)}function Pg(n,t){return t=t||0,n.length>=7+t&&(n.charCodeAt(t)|32)===103&&(n.charCodeAt(t+1)|32)===101&&(n.charCodeAt(t+2)|32)===110&&(n.charCodeAt(t+3)|32)===101&&(n.charCodeAt(t+4)|32)===114&&(n.charCodeAt(t+5)|32)===97&&(n.charCodeAt(t+6)|32)===108}var _j=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],v_=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function fQ(n){return n||(n={}),n[0]="General",n[1]="0",n[2]="0.00",n[3]="#,##0",n[4]="#,##0.00",n[9]="0%",n[10]="0.00%",n[11]="0.00E+00",n[12]="# ?/?",n[13]="# ??/??",n[14]="m/d/yy",n[15]="d-mmm-yy",n[16]="d-mmm",n[17]="mmm-yy",n[18]="h:mm AM/PM",n[19]="h:mm:ss AM/PM",n[20]="h:mm",n[21]="h:mm:ss",n[22]="m/d/yy h:mm",n[37]="#,##0 ;(#,##0)",n[38]="#,##0 ;[Red](#,##0)",n[39]="#,##0.00;(#,##0.00)",n[40]="#,##0.00;[Red](#,##0.00)",n[45]="mm:ss",n[46]="[h]:mm:ss",n[47]="mmss.0",n[48]="##0.0E+0",n[49]="@",n[56]='"/ "hh""mm""ss" "',n}var Vn={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},bj={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},pQ={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Dg(n,t,i){for(var r=n<0?-1:1,s=n*r,o=0,a=1,c=0,l=1,u=0,p=0,y=Math.floor(s);u<t&&(y=Math.floor(s),c=y*a+o,p=y*u+l,!(s-y<5e-8));)s=1/(s-y),o=a,a=c,l=u,u=p;if(p>t&&(u>t?(p=l,c=o):(p=u,c=a)),!i)return[0,r*c,p];var d=Math.floor(r*c/p);return[d,r*c-d*p,p]}function S0(n,t,i){if(n>2958465||n<0)return null;var r=n|0,s=Math.floor(86400*(n-r)),o=0,a=[],c={D:r,T:s,u:86400*(n-r)-s,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(c.u)<1e-6&&(c.u=0),t&&t.date1904&&(r+=1462),c.u>.9999&&(c.u=0,++s==86400&&(c.T=s=0,++r,++c.D)),r===60)a=i?[1317,10,29]:[1900,2,29],o=3;else if(r===0)a=i?[1317,8,29]:[1900,1,0],o=6;else{r>60&&--r;var l=new Date(1900,0,1);l.setDate(l.getDate()+r-1),a=[l.getFullYear(),l.getMonth()+1,l.getDate()],o=l.getDay(),r<60&&(o=(o+6)%7),i&&(o=xQ(l,a))}return c.y=a[0],c.m=a[1],c.d=a[2],c.S=s%60,s=Math.floor(s/60),c.M=s%60,s=Math.floor(s/60),c.H=s,c.q=o,c}var a3=new Date(1899,11,31,0,0,0),mQ=a3.getTime(),gQ=new Date(1900,2,1,0,0,0);function o3(n,t){var i=n.getTime();return t?i-=1461*24*60*60*1e3:n>=gQ&&(i+=24*60*60*1e3),(i-(mQ+(n.getTimezoneOffset()-a3.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function Nw(n){return n.indexOf(".")==-1?n:n.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function yQ(n){return n.indexOf("E")==-1?n:n.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function vQ(n){var t=n<0?12:11,i=Nw(n.toFixed(12));return i.length<=t||(i=n.toPrecision(10),i.length<=t)?i:n.toExponential(5)}function _Q(n){var t=Nw(n.toFixed(11));return t.length>(n<0?12:11)||t==="0"||t==="-0"?n.toPrecision(6):t}function bQ(n){var t=Math.floor(Math.log(Math.abs(n))*Math.LOG10E),i;return t>=-4&&t<=-1?i=n.toPrecision(10+t):Math.abs(t)<=9?i=vQ(n):t===10?i=n.toFixed(10).substr(0,12):i=_Q(n),Nw(yQ(i.toUpperCase()))}function jb(n,t){switch(typeof n){case"string":return n;case"boolean":return n?"TRUE":"FALSE";case"number":return(n|0)===n?n.toString(10):bQ(n);case"undefined":return"";case"object":if(n==null)return"";if(n instanceof Date)return Sc(14,o3(n,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+n)}function xQ(n,t){t[0]-=581;var i=n.getDay();return n<60&&(i=(i+6)%7),i}function wQ(n,t,i,r){var s="",o=0,a=0,c=i.y,l,u=0;switch(n){case 98:c=i.y+543;case 121:switch(t.length){case 1:case 2:l=c%100,u=2;break;default:l=c%1e4,u=4;break}break;case 109:switch(t.length){case 1:case 2:l=i.m,u=t.length;break;case 3:return v_[i.m-1][1];case 5:return v_[i.m-1][0];default:return v_[i.m-1][2]}break;case 100:switch(t.length){case 1:case 2:l=i.d,u=t.length;break;case 3:return _j[i.q][0];default:return _j[i.q][1]}break;case 104:switch(t.length){case 1:case 2:l=1+(i.H+11)%12,u=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:l=i.H,u=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:l=i.M,u=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return i.u===0&&(t=="s"||t=="ss")?Ja(i.S,t.length):(r>=2?a=r===3?1e3:100:a=r===1?10:1,o=Math.round(a*(i.S+i.u)),o>=60*a&&(o=0),t==="s"?o===0?"0":""+o/a:(s=Ja(o,2+r),t==="ss"?s.substr(0,2):"."+s.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":l=i.D*24+i.H;break;case"[m]":case"[mm]":l=(i.D*24+i.H)*60+i.M;break;case"[s]":case"[ss]":l=((i.D*24+i.H)*60+i.M)*60+Math.round(i.S+i.u);break;default:throw"bad abstime format: "+t}u=t.length===3?1:2;break;case 101:l=c,u=1;break}var p=u>0?Ja(l,u):"";return p}function hc(n){var t=3;if(n.length<=t)return n;for(var i=n.length%t,r=n.substr(0,i);i!=n.length;i+=t)r+=(r.length>0?",":"")+n.substr(i,t);return r}var l3=/%/g;function SQ(n,t,i){var r=t.replace(l3,""),s=t.length-r.length;return ml(n,r,i*Math.pow(10,2*s))+Un("%",s)}function TQ(n,t,i){for(var r=t.length-1;t.charCodeAt(r-1)===44;)--r;return ml(n,t.substr(0,r),i/Math.pow(10,3*(t.length-r)))}function c3(n,t){var i,r=n.indexOf("E")-n.indexOf(".")-1;if(n.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+c3(n,-t);var s=n.indexOf(".");s===-1&&(s=n.indexOf("E"));var o=Math.floor(Math.log(t)*Math.LOG10E)%s;if(o<0&&(o+=s),i=(t/Math.pow(10,o)).toPrecision(r+1+(s+o)%s),i.indexOf("e")===-1){var a=Math.floor(Math.log(t)*Math.LOG10E);for(i.indexOf(".")===-1?i=i.charAt(0)+"."+i.substr(1)+"E+"+(a-i.length+o):i+="E+"+(a-o);i.substr(0,2)==="0.";)i=i.charAt(0)+i.substr(2,s)+"."+i.substr(2+s),i=i.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");i=i.replace(/\+-/,"-")}i=i.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(c,l,u,p){return l+u+p.substr(0,(s+o)%s)+"."+p.substr(o)+"E"})}else i=t.toExponential(r);return n.match(/E\+00$/)&&i.match(/e[+-]\d$/)&&(i=i.substr(0,i.length-1)+"0"+i.charAt(i.length-1)),n.match(/E\-/)&&i.match(/e\+/)&&(i=i.replace(/e\+/,"e")),i.replace("e","E")}var u3=/# (\?+)( ?)\/( ?)(\d+)/;function EQ(n,t,i){var r=parseInt(n[4],10),s=Math.round(t*r),o=Math.floor(s/r),a=s-o*r,c=r;return i+(o===0?"":""+o)+" "+(a===0?Un(" ",n[1].length+1+n[4].length):Dw(a,n[1].length)+n[2]+"/"+n[3]+Ja(c,n[4].length))}function CQ(n,t,i){return i+(t===0?"":""+t)+Un(" ",n[1].length+2+n[4].length)}var h3=/^#*0*\.([0#]+)/,d3=/\).*[0#]/,f3=/\(###\) ###\\?-####/;function vs(n){for(var t="",i,r=0;r!=n.length;++r)switch(i=n.charCodeAt(r)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(i)}return t}function xj(n,t){var i=Math.pow(10,t);return""+Math.round(n*i)/i}function wj(n,t){var i=n-Math.floor(n),r=Math.pow(10,t);return t<(""+Math.round(i*r)).length?0:Math.round(i*r)}function AQ(n,t){return t<(""+Math.round((n-Math.floor(n))*Math.pow(10,t))).length?1:0}function jQ(n){return n<2147483647&&n>-2147483648?""+(n>=0?n|0:n-1|0):""+Math.floor(n)}function wa(n,t,i){if(n.charCodeAt(0)===40&&!t.match(d3)){var r=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return i>=0?wa("n",r,i):"("+wa("n",r,-i)+")"}if(t.charCodeAt(t.length-1)===44)return TQ(n,t,i);if(t.indexOf("%")!==-1)return SQ(n,t,i);if(t.indexOf("E")!==-1)return c3(t,i);if(t.charCodeAt(0)===36)return"$"+wa(n,t.substr(t.charAt(1)==" "?2:1),i);var s,o,a,c,l=Math.abs(i),u=i<0?"-":"";if(t.match(/^00+$/))return u+kh(l,t.length);if(t.match(/^[#?]+$/))return s=kh(i,0),s==="0"&&(s=""),s.length>t.length?s:vs(t.substr(0,t.length-s.length))+s;if(o=t.match(u3))return EQ(o,l,u);if(t.match(/^#+0+$/))return u+kh(l,t.length-t.indexOf("0"));if(o=t.match(h3))return s=xj(i,o[1].length).replace(/^([^\.]+)$/,"$1."+vs(o[1])).replace(/\.$/,"."+vs(o[1])).replace(/\.(\d*)$/,function(b,g){return"."+g+Un("0",vs(o[1]).length-g.length)}),t.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),o=t.match(/^(0*)\.(#*)$/))return u+xj(l,o[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,o[1].length?"0.":".");if(o=t.match(/^#{1,3},##0(\.?)$/))return u+hc(kh(l,0));if(o=t.match(/^#,##0\.([#0]*0)$/))return i<0?"-"+wa(n,t,-i):hc(""+(Math.floor(i)+AQ(i,o[1].length)))+"."+Ja(wj(i,o[1].length),o[1].length);if(o=t.match(/^#,#*,#0/))return wa(n,t.replace(/^#,#*,/,""),i);if(o=t.match(/^([0#]+)(\\?-([0#]+))+$/))return s=Kh(wa(n,t.replace(/[\\-]/g,""),i)),a=0,Kh(Kh(t.replace(/\\/g,"")).replace(/[0#]/g,function(b){return a<s.length?s.charAt(a++):b==="0"?"0":""}));if(t.match(f3))return s=wa(n,"##########",i),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var p="";if(o=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(o[4].length,7),c=Dg(l,Math.pow(10,a)-1,!1),s=""+u,p=ml("n",o[1],c[1]),p.charAt(p.length-1)==" "&&(p=p.substr(0,p.length-1)+"0"),s+=p+o[2]+"/"+o[3],p=Mg(c[2],a),p.length<o[4].length&&(p=vs(o[4].substr(o[4].length-p.length))+p),s+=p,s;if(o=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(o[1].length,o[4].length),7),c=Dg(l,Math.pow(10,a)-1,!0),u+(c[0]||(c[1]?"":"0"))+" "+(c[1]?Dw(c[1],a)+o[2]+"/"+o[3]+Mg(c[2],a):Un(" ",2*a+1+o[2].length+o[3].length));if(o=t.match(/^[#0?]+$/))return s=kh(i,0),t.length<=s.length?s:vs(t.substr(0,t.length-s.length))+s;if(o=t.match(/^([#0?]+)\.([#0]+)$/)){s=""+i.toFixed(Math.min(o[2].length,10)).replace(/([^0])0+$/,"$1"),a=s.indexOf(".");var y=t.indexOf(".")-a,d=t.length-s.length-y;return vs(t.substr(0,y)+s+t.substr(t.length-d))}if(o=t.match(/^00,000\.([#0]*0)$/))return a=wj(i,o[1].length),i<0?"-"+wa(n,t,-i):hc(jQ(i)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(b){return"00,"+(b.length<3?Ja(0,3-b.length):"")+b})+"."+Ja(a,o[1].length);switch(t){case"###,##0.00":return wa(n,"#,##0.00",i);case"###,###":case"##,###":case"#,###":var f=hc(kh(l,0));return f!=="0"?u+f:"";case"###,###.00":return wa(n,"###,##0.00",i).replace(/^0\./,".");case"#,###.00":return wa(n,"#,##0.00",i).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function RQ(n,t,i){for(var r=t.length-1;t.charCodeAt(r-1)===44;)--r;return ml(n,t.substr(0,r),i/Math.pow(10,3*(t.length-r)))}function OQ(n,t,i){var r=t.replace(l3,""),s=t.length-r.length;return ml(n,r,i*Math.pow(10,2*s))+Un("%",s)}function p3(n,t){var i,r=n.indexOf("E")-n.indexOf(".")-1;if(n.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+p3(n,-t);var s=n.indexOf(".");s===-1&&(s=n.indexOf("E"));var o=Math.floor(Math.log(t)*Math.LOG10E)%s;if(o<0&&(o+=s),i=(t/Math.pow(10,o)).toPrecision(r+1+(s+o)%s),!i.match(/[Ee]/)){var a=Math.floor(Math.log(t)*Math.LOG10E);i.indexOf(".")===-1?i=i.charAt(0)+"."+i.substr(1)+"E+"+(a-i.length+o):i+="E+"+(a-o),i=i.replace(/\+-/,"-")}i=i.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(c,l,u,p){return l+u+p.substr(0,(s+o)%s)+"."+p.substr(o)+"E"})}else i=t.toExponential(r);return n.match(/E\+00$/)&&i.match(/e[+-]\d$/)&&(i=i.substr(0,i.length-1)+"0"+i.charAt(i.length-1)),n.match(/E\-/)&&i.match(/e\+/)&&(i=i.replace(/e\+/,"e")),i.replace("e","E")}function po(n,t,i){if(n.charCodeAt(0)===40&&!t.match(d3)){var r=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return i>=0?po("n",r,i):"("+po("n",r,-i)+")"}if(t.charCodeAt(t.length-1)===44)return RQ(n,t,i);if(t.indexOf("%")!==-1)return OQ(n,t,i);if(t.indexOf("E")!==-1)return p3(t,i);if(t.charCodeAt(0)===36)return"$"+po(n,t.substr(t.charAt(1)==" "?2:1),i);var s,o,a,c,l=Math.abs(i),u=i<0?"-":"";if(t.match(/^00+$/))return u+Ja(l,t.length);if(t.match(/^[#?]+$/))return s=""+i,i===0&&(s=""),s.length>t.length?s:vs(t.substr(0,t.length-s.length))+s;if(o=t.match(u3))return CQ(o,l,u);if(t.match(/^#+0+$/))return u+Ja(l,t.length-t.indexOf("0"));if(o=t.match(h3))return s=(""+i).replace(/^([^\.]+)$/,"$1."+vs(o[1])).replace(/\.$/,"."+vs(o[1])),s=s.replace(/\.(\d*)$/,function(b,g){return"."+g+Un("0",vs(o[1]).length-g.length)}),t.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),o=t.match(/^(0*)\.(#*)$/))return u+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,o[1].length?"0.":".");if(o=t.match(/^#{1,3},##0(\.?)$/))return u+hc(""+l);if(o=t.match(/^#,##0\.([#0]*0)$/))return i<0?"-"+po(n,t,-i):hc(""+i)+"."+Un("0",o[1].length);if(o=t.match(/^#,#*,#0/))return po(n,t.replace(/^#,#*,/,""),i);if(o=t.match(/^([0#]+)(\\?-([0#]+))+$/))return s=Kh(po(n,t.replace(/[\\-]/g,""),i)),a=0,Kh(Kh(t.replace(/\\/g,"")).replace(/[0#]/g,function(b){return a<s.length?s.charAt(a++):b==="0"?"0":""}));if(t.match(f3))return s=po(n,"##########",i),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var p="";if(o=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(o[4].length,7),c=Dg(l,Math.pow(10,a)-1,!1),s=""+u,p=ml("n",o[1],c[1]),p.charAt(p.length-1)==" "&&(p=p.substr(0,p.length-1)+"0"),s+=p+o[2]+"/"+o[3],p=Mg(c[2],a),p.length<o[4].length&&(p=vs(o[4].substr(o[4].length-p.length))+p),s+=p,s;if(o=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(o[1].length,o[4].length),7),c=Dg(l,Math.pow(10,a)-1,!0),u+(c[0]||(c[1]?"":"0"))+" "+(c[1]?Dw(c[1],a)+o[2]+"/"+o[3]+Mg(c[2],a):Un(" ",2*a+1+o[2].length+o[3].length));if(o=t.match(/^[#0?]+$/))return s=""+i,t.length<=s.length?s:vs(t.substr(0,t.length-s.length))+s;if(o=t.match(/^([#0]+)\.([#0]+)$/)){s=""+i.toFixed(Math.min(o[2].length,10)).replace(/([^0])0+$/,"$1"),a=s.indexOf(".");var y=t.indexOf(".")-a,d=t.length-s.length-y;return vs(t.substr(0,y)+s+t.substr(t.length-d))}if(o=t.match(/^00,000\.([#0]*0)$/))return i<0?"-"+po(n,t,-i):hc(""+i).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(b){return"00,"+(b.length<3?Ja(0,3-b.length):"")+b})+"."+Ja(0,o[1].length);switch(t){case"###,###":case"##,###":case"#,###":var f=hc(""+l);return f!=="0"?u+f:"";default:if(t.match(/\.[0#?]*$/))return po(n,t.slice(0,t.lastIndexOf(".")),i)+vs(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function ml(n,t,i){return(i|0)===i?po(n,t,i):wa(n,t,i)}function IQ(n){for(var t=[],i=!1,r=0,s=0;r<n.length;++r)switch(n.charCodeAt(r)){case 34:i=!i;break;case 95:case 42:case 92:++r;break;case 59:t[t.length]=n.substr(s,r-s),s=r+1}if(t[t.length]=n.substr(s),i===!0)throw new Error("Format |"+n+"| unterminated string ");return t}var m3=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function g3(n){for(var t=0,i="",r="";t<n.length;)switch(i=n.charAt(t)){case"G":Pg(n,t)&&(t+=6),t++;break;case'"':for(;n.charCodeAt(++t)!==34&&t<n.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(n.charAt(t+1)==="1"||n.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(n.substr(t,3).toUpperCase()==="A/P"||n.substr(t,5).toUpperCase()==="AM/PM"||n.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(r=i;n.charAt(t++)!=="]"&&t<n.length;)r+=n.charAt(t);if(r.match(m3))return!0;break;case".":case"0":case"#":for(;t<n.length&&("0#?.,E+-%".indexOf(i=n.charAt(++t))>-1||i=="\\"&&n.charAt(t+1)=="-"&&"0#".indexOf(n.charAt(t+2))>-1););break;case"?":for(;n.charAt(++t)===i;);break;case"*":++t,(n.charAt(t)==" "||n.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<n.length&&"0123456789".indexOf(n.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function kQ(n,t,i,r){for(var s=[],o="",a=0,c="",l="t",u,p,y,d="H";a<n.length;)switch(c=n.charAt(a)){case"G":if(!Pg(n,a))throw new Error("unrecognized character "+c+" in "+n);s[s.length]={t:"G",v:"General"},a+=7;break;case'"':for(o="";(y=n.charCodeAt(++a))!==34&&a<n.length;)o+=String.fromCharCode(y);s[s.length]={t:"t",v:o},++a;break;case"\\":var f=n.charAt(++a),b=f==="("||f===")"?f:"t";s[s.length]={t:b,v:f},++a;break;case"_":s[s.length]={t:"t",v:" "},a+=2;break;case"@":s[s.length]={t:"T",v:t},++a;break;case"B":case"b":if(n.charAt(a+1)==="1"||n.charAt(a+1)==="2"){if(u==null&&(u=S0(t,i,n.charAt(a+1)==="2"),u==null))return"";s[s.length]={t:"X",v:n.substr(a,2)},l=c,a+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":c=c.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||u==null&&(u=S0(t,i),u==null))return"";for(o=c;++a<n.length&&n.charAt(a).toLowerCase()===c;)o+=c;c==="m"&&l.toLowerCase()==="h"&&(c="M"),c==="h"&&(c=d),s[s.length]={t:c,v:o},l=c;break;case"A":case"a":case"":var g={t:c,v:c};if(u==null&&(u=S0(t,i)),n.substr(a,3).toUpperCase()==="A/P"?(u!=null&&(g.v=u.H>=12?"P":"A"),g.t="T",d="h",a+=3):n.substr(a,5).toUpperCase()==="AM/PM"?(u!=null&&(g.v=u.H>=12?"PM":"AM"),g.t="T",a+=5,d="h"):n.substr(a,5).toUpperCase()==="/"?(u!=null&&(g.v=u.H>=12?"":""),g.t="T",a+=5,d="h"):(g.t="t",++a),u==null&&g.t==="T")return"";s[s.length]=g,l=c;break;case"[":for(o=c;n.charAt(a++)!=="]"&&a<n.length;)o+=n.charAt(a);if(o.slice(-1)!=="]")throw'unterminated "[" block: |'+o+"|";if(o.match(m3)){if(u==null&&(u=S0(t,i),u==null))return"";s[s.length]={t:"Z",v:o.toLowerCase()},l=o.charAt(1)}else o.indexOf("$")>-1&&(o=(o.match(/\$([^-\[\]]*)/)||[])[1]||"$",g3(n)||(s[s.length]={t:"t",v:o}));break;case".":if(u!=null){for(o=c;++a<n.length&&(c=n.charAt(a))==="0";)o+=c;s[s.length]={t:"s",v:o};break}case"0":case"#":for(o=c;++a<n.length&&"0#?.,E+-%".indexOf(c=n.charAt(a))>-1;)o+=c;s[s.length]={t:"n",v:o};break;case"?":for(o=c;n.charAt(++a)===c;)o+=c;s[s.length]={t:c,v:o},l=c;break;case"*":++a,(n.charAt(a)==" "||n.charAt(a)=="*")&&++a;break;case"(":case")":s[s.length]={t:r===1?"t":c,v:c},++a;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(o=c;a<n.length&&"0123456789".indexOf(n.charAt(++a))>-1;)o+=n.charAt(a);s[s.length]={t:"D",v:o};break;case" ":s[s.length]={t:c,v:c},++a;break;case"$":s[s.length]={t:"t",v:"$"},++a;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(c)===-1)throw new Error("unrecognized character "+c+" in "+n);s[s.length]={t:"t",v:c},++a;break}var v=0,_=0,x;for(a=s.length-1,l="t";a>=0;--a)switch(s[a].t){case"h":case"H":s[a].t=d,l="h",v<1&&(v=1);break;case"s":(x=s[a].v.match(/\.0+$/))&&(_=Math.max(_,x[0].length-1)),v<3&&(v=3);case"d":case"y":case"M":case"e":l=s[a].t;break;case"m":l==="s"&&(s[a].t="M",v<2&&(v=2));break;case"X":break;case"Z":v<1&&s[a].v.match(/[Hh]/)&&(v=1),v<2&&s[a].v.match(/[Mm]/)&&(v=2),v<3&&s[a].v.match(/[Ss]/)&&(v=3)}switch(v){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var w="",S;for(a=0;a<s.length;++a)switch(s[a].t){case"t":case"T":case" ":case"D":break;case"X":s[a].v="",s[a].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":s[a].v=wQ(s[a].t.charCodeAt(0),s[a].v,u,_),s[a].t="t";break;case"n":case"?":for(S=a+1;s[S]!=null&&((c=s[S].t)==="?"||c==="D"||(c===" "||c==="t")&&s[S+1]!=null&&(s[S+1].t==="?"||s[S+1].t==="t"&&s[S+1].v==="/")||s[a].t==="("&&(c===" "||c==="n"||c===")")||c==="t"&&(s[S].v==="/"||s[S].v===" "&&s[S+1]!=null&&s[S+1].t=="?"));)s[a].v+=s[S].v,s[S]={v:"",t:";"},++S;w+=s[a].v,a=S-1;break;case"G":s[a].t="t",s[a].v=jb(t,i);break}var R="",D,A;if(w.length>0){w.charCodeAt(0)==40?(D=t<0&&w.charCodeAt(0)===45?-t:t,A=ml("n",w,D)):(D=t<0&&r>1?-t:t,A=ml("n",w,D),D<0&&s[0]&&s[0].t=="t"&&(A=A.substr(1),s[0].v="-"+s[0].v)),S=A.length-1;var C=s.length;for(a=0;a<s.length;++a)if(s[a]!=null&&s[a].t!="t"&&s[a].v.indexOf(".")>-1){C=a;break}var j=s.length;if(C===s.length&&A.indexOf("E")===-1){for(a=s.length-1;a>=0;--a)s[a]==null||"n?".indexOf(s[a].t)===-1||(S>=s[a].v.length-1?(S-=s[a].v.length,s[a].v=A.substr(S+1,s[a].v.length)):S<0?s[a].v="":(s[a].v=A.substr(0,S+1),S=-1),s[a].t="t",j=a);S>=0&&j<s.length&&(s[j].v=A.substr(0,S+1)+s[j].v)}else if(C!==s.length&&A.indexOf("E")===-1){for(S=A.indexOf(".")-1,a=C;a>=0;--a)if(!(s[a]==null||"n?".indexOf(s[a].t)===-1)){for(p=s[a].v.indexOf(".")>-1&&a===C?s[a].v.indexOf(".")-1:s[a].v.length-1,R=s[a].v.substr(p+1);p>=0;--p)S>=0&&(s[a].v.charAt(p)==="0"||s[a].v.charAt(p)==="#")&&(R=A.charAt(S--)+R);s[a].v=R,s[a].t="t",j=a}for(S>=0&&j<s.length&&(s[j].v=A.substr(0,S+1)+s[j].v),S=A.indexOf(".")+1,a=C;a<s.length;++a)if(!(s[a]==null||"n?(".indexOf(s[a].t)===-1&&a!==C)){for(p=s[a].v.indexOf(".")>-1&&a===C?s[a].v.indexOf(".")+1:0,R=s[a].v.substr(0,p);p<s[a].v.length;++p)S<A.length&&(R+=A.charAt(S++));s[a].v=R,s[a].t="t",j=a}}}for(a=0;a<s.length;++a)s[a]!=null&&"n?".indexOf(s[a].t)>-1&&(D=r>1&&t<0&&a>0&&s[a-1].v==="-"?-t:t,s[a].v=ml(s[a].t,s[a].v,D),s[a].t="t");var P="";for(a=0;a!==s.length;++a)s[a]!=null&&(P+=s[a].v);return P}var Sj=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function Tj(n,t){if(t==null)return!1;var i=parseFloat(t[2]);switch(t[1]){case"=":if(n==i)return!0;break;case">":if(n>i)return!0;break;case"<":if(n<i)return!0;break;case"<>":if(n!=i)return!0;break;case">=":if(n>=i)return!0;break;case"<=":if(n<=i)return!0;break}return!1}function MQ(n,t){var i=IQ(n),r=i.length,s=i[r-1].indexOf("@");if(r<4&&s>-1&&--r,i.length>4)throw new Error("cannot find right format for |"+i.join("|")+"|");if(typeof t!="number")return[4,i.length===4||s>-1?i[i.length-1]:"@"];switch(i.length){case 1:i=s>-1?["General","General","General",i[0]]:[i[0],i[0],i[0],"@"];break;case 2:i=s>-1?[i[0],i[0],i[0],i[1]]:[i[0],i[1],i[0],"@"];break;case 3:i=s>-1?[i[0],i[1],i[0],i[2]]:[i[0],i[1],i[2],"@"];break}var o=t>0?i[0]:t<0?i[1]:i[2];if(i[0].indexOf("[")===-1&&i[1].indexOf("[")===-1)return[r,o];if(i[0].match(/\[[=<>]/)!=null||i[1].match(/\[[=<>]/)!=null){var a=i[0].match(Sj),c=i[1].match(Sj);return Tj(t,a)?[r,i[0]]:Tj(t,c)?[r,i[1]]:[r,i[a!=null&&c!=null?2:1]]}return[r,o]}function Sc(n,t,i){i==null&&(i={});var r="";switch(typeof n){case"string":n=="m/d/yy"&&i.dateNF?r=i.dateNF:r=n;break;case"number":n==14&&i.dateNF?r=i.dateNF:r=(i.table!=null?i.table:Vn)[n],r==null&&(r=i.table&&i.table[bj[n]]||Vn[bj[n]]),r==null&&(r=pQ[n]||"General");break}if(Pg(r,0))return jb(t,i);t instanceof Date&&(t=o3(t,i.date1904));var s=MQ(r,t);if(Pg(s[1]))return jb(t,i);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return kQ(s[1],t,i,s[0])}function y3(n,t){if(typeof t!="number"){t=+t||-1;for(var i=0;i<392;++i){if(Vn[i]==null){t<0&&(t=i);continue}if(Vn[i]==n){t=i;break}}t<0&&(t=391)}return Vn[t]=n,t}function My(n){for(var t=0;t!=392;++t)n[t]!==void 0&&y3(n[t],t)}function Py(){Vn=fQ()}var v3=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function PQ(n){var t=typeof n=="number"?Vn[n]:n;return t=t.replace(v3,"(\\d+)"),new RegExp("^"+t+"$")}function DQ(n,t,i){var r=-1,s=-1,o=-1,a=-1,c=-1,l=-1;(t.match(v3)||[]).forEach(function(y,d){var f=parseInt(i[d+1],10);switch(y.toLowerCase().charAt(0)){case"y":r=f;break;case"d":o=f;break;case"h":a=f;break;case"s":l=f;break;case"m":a>=0?c=f:s=f;break}}),l>=0&&c==-1&&s>=0&&(c=s,s=-1);var u=(""+(r>=0?r:new Date().getFullYear())).slice(-4)+"-"+("00"+(s>=1?s:1)).slice(-2)+"-"+("00"+(o>=1?o:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var p=("00"+(a>=0?a:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return a==-1&&c==-1&&l==-1?u:r==-1&&s==-1&&o==-1?p:u+"T"+p}var NQ=function(){var n={};n.version="1.2.0";function t(){for(var A=0,C=new Array(256),j=0;j!=256;++j)A=j,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,C[j]=A;return typeof Int32Array<"u"?new Int32Array(C):C}var i=t();function r(A){var C=0,j=0,P=0,O=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(P=0;P!=256;++P)O[P]=A[P];for(P=0;P!=256;++P)for(j=A[P],C=256+P;C<4096;C+=256)j=O[C]=j>>>8^A[j&255];var L=[];for(P=1;P!=16;++P)L[P-1]=typeof Int32Array<"u"?O.subarray(P*256,P*256+256):O.slice(P*256,P*256+256);return L}var s=r(i),o=s[0],a=s[1],c=s[2],l=s[3],u=s[4],p=s[5],y=s[6],d=s[7],f=s[8],b=s[9],g=s[10],v=s[11],_=s[12],x=s[13],w=s[14];function S(A,C){for(var j=C^-1,P=0,O=A.length;P<O;)j=j>>>8^i[(j^A.charCodeAt(P++))&255];return~j}function R(A,C){for(var j=C^-1,P=A.length-15,O=0;O<P;)j=w[A[O++]^j&255]^x[A[O++]^j>>8&255]^_[A[O++]^j>>16&255]^v[A[O++]^j>>>24]^g[A[O++]]^b[A[O++]]^f[A[O++]]^d[A[O++]]^y[A[O++]]^p[A[O++]]^u[A[O++]]^l[A[O++]]^c[A[O++]]^a[A[O++]]^o[A[O++]]^i[A[O++]];for(P+=15;O<P;)j=j>>>8^i[(j^A[O++])&255];return~j}function D(A,C){for(var j=C^-1,P=0,O=A.length,L=0,N=0;P<O;)L=A.charCodeAt(P++),L<128?j=j>>>8^i[(j^L)&255]:L<2048?(j=j>>>8^i[(j^(192|L>>6&31))&255],j=j>>>8^i[(j^(128|L&63))&255]):L>=55296&&L<57344?(L=(L&1023)+64,N=A.charCodeAt(P++)&1023,j=j>>>8^i[(j^(240|L>>8&7))&255],j=j>>>8^i[(j^(128|L>>2&63))&255],j=j>>>8^i[(j^(128|N>>6&15|(L&3)<<4))&255],j=j>>>8^i[(j^(128|N&63))&255]):(j=j>>>8^i[(j^(224|L>>12&15))&255],j=j>>>8^i[(j^(128|L>>6&63))&255],j=j>>>8^i[(j^(128|L&63))&255]);return~j}return n.table=i,n.bstr=S,n.buf=R,n.str=D,n}(),dn=function(){var t={};t.version="1.2.1";function i(_e,Pe){for(var Ae=_e.split("/"),Ie=Pe.split("/"),De=0,Le=0,ot=Math.min(Ae.length,Ie.length);De<ot;++De){if(Le=Ae[De].length-Ie[De].length)return Le;if(Ae[De]!=Ie[De])return Ae[De]<Ie[De]?-1:1}return Ae.length-Ie.length}function r(_e){if(_e.charAt(_e.length-1)=="/")return _e.slice(0,-1).indexOf("/")===-1?_e:r(_e.slice(0,-1));var Pe=_e.lastIndexOf("/");return Pe===-1?_e:_e.slice(0,Pe+1)}function s(_e){if(_e.charAt(_e.length-1)=="/")return s(_e.slice(0,-1));var Pe=_e.lastIndexOf("/");return Pe===-1?_e:_e.slice(Pe+1)}function o(_e,Pe){typeof Pe=="string"&&(Pe=new Date(Pe));var Ae=Pe.getHours();Ae=Ae<<6|Pe.getMinutes(),Ae=Ae<<5|Pe.getSeconds()>>>1,_e.write_shift(2,Ae);var Ie=Pe.getFullYear()-1980;Ie=Ie<<4|Pe.getMonth()+1,Ie=Ie<<5|Pe.getDate(),_e.write_shift(2,Ie)}function a(_e){var Pe=_e.read_shift(2)&65535,Ae=_e.read_shift(2)&65535,Ie=new Date,De=Ae&31;Ae>>>=5;var Le=Ae&15;Ae>>>=4,Ie.setMilliseconds(0),Ie.setFullYear(Ae+1980),Ie.setMonth(Le-1),Ie.setDate(De);var ot=Pe&31;Pe>>>=5;var be=Pe&63;return Pe>>>=6,Ie.setHours(Pe),Ie.setMinutes(be),Ie.setSeconds(ot<<1),Ie}function c(_e){Zs(_e,0);for(var Pe={},Ae=0;_e.l<=_e.length-4;){var Ie=_e.read_shift(2),De=_e.read_shift(2),Le=_e.l+De,ot={};switch(Ie){case 21589:Ae=_e.read_shift(1),Ae&1&&(ot.mtime=_e.read_shift(4)),De>5&&(Ae&2&&(ot.atime=_e.read_shift(4)),Ae&4&&(ot.ctime=_e.read_shift(4))),ot.mtime&&(ot.mt=new Date(ot.mtime*1e3));break}_e.l=Le,Pe[Ie]=ot}return Pe}var l;function u(){return l||(l={})}function p(_e,Pe){if(_e[0]==80&&_e[1]==75)return Pt(_e,Pe);if((_e[0]|32)==109&&(_e[1]|32)==105)return Jr(_e,Pe);if(_e.length<512)throw new Error("CFB file size "+_e.length+" < 512");var Ae=3,Ie=512,De=0,Le=0,ot=0,be=0,Fe=0,qe=[],Be=_e.slice(0,512);Zs(Be,0);var ft=y(Be);switch(Ae=ft[0],Ae){case 3:Ie=512;break;case 4:Ie=4096;break;case 0:if(ft[1]==0)return Pt(_e,Pe);default:throw new Error("Major Version: Expected 3 or 4 saw "+Ae)}Ie!==512&&(Be=_e.slice(0,Ie),Zs(Be,28));var Qe=_e.slice(0,Ie);d(Be,Ae);var At=Be.read_shift(4,"i");if(Ae===3&&At!==0)throw new Error("# Directory Sectors: Expected 0 saw "+At);Be.l+=4,ot=Be.read_shift(4,"i"),Be.l+=4,Be.chk("00100000","Mini Stream Cutoff Size: "),be=Be.read_shift(4,"i"),De=Be.read_shift(4,"i"),Fe=Be.read_shift(4,"i"),Le=Be.read_shift(4,"i");for(var nt=-1,mt=0;mt<109&&(nt=Be.read_shift(4,"i"),!(nt<0));++mt)qe[mt]=nt;var vt=f(_e,Ie);v(Fe,Le,vt,Ie,qe);var ir=x(vt,ot,qe,Ie);ir[ot].name="!Directory",De>0&&be!==N&&(ir[be].name="!MiniFAT"),ir[qe[0]].name="!FAT",ir.fat_addrs=qe,ir.ssz=Ie;var Zt={},nr=[],br=[],Qn=[];w(ot,ir,vt,nr,De,Zt,br,be),b(br,Qn,nr),nr.shift();var wn={FileIndex:br,FullPaths:Qn};return Pe&&Pe.raw&&(wn.raw={header:Qe,sectors:vt}),wn}function y(_e){if(_e[_e.l]==80&&_e[_e.l+1]==75)return[0,0];_e.chk(q,"Header Signature: "),_e.l+=16;var Pe=_e.read_shift(2,"u");return[_e.read_shift(2,"u"),Pe]}function d(_e,Pe){var Ae=9;switch(_e.l+=2,Ae=_e.read_shift(2)){case 9:if(Pe!=3)throw new Error("Sector Shift: Expected 9 saw "+Ae);break;case 12:if(Pe!=4)throw new Error("Sector Shift: Expected 12 saw "+Ae);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+Ae)}_e.chk("0600","Mini Sector Shift: "),_e.chk("000000000000","Reserved: ")}function f(_e,Pe){for(var Ae=Math.ceil(_e.length/Pe)-1,Ie=[],De=1;De<Ae;++De)Ie[De-1]=_e.slice(De*Pe,(De+1)*Pe);return Ie[Ae-1]=_e.slice(Ae*Pe),Ie}function b(_e,Pe,Ae){for(var Ie=0,De=0,Le=0,ot=0,be=0,Fe=Ae.length,qe=[],Be=[];Ie<Fe;++Ie)qe[Ie]=Be[Ie]=Ie,Pe[Ie]=Ae[Ie];for(;be<Be.length;++be)Ie=Be[be],De=_e[Ie].L,Le=_e[Ie].R,ot=_e[Ie].C,qe[Ie]===Ie&&(De!==-1&&qe[De]!==De&&(qe[Ie]=qe[De]),Le!==-1&&qe[Le]!==Le&&(qe[Ie]=qe[Le])),ot!==-1&&(qe[ot]=Ie),De!==-1&&Ie!=qe[Ie]&&(qe[De]=qe[Ie],Be.lastIndexOf(De)<be&&Be.push(De)),Le!==-1&&Ie!=qe[Ie]&&(qe[Le]=qe[Ie],Be.lastIndexOf(Le)<be&&Be.push(Le));for(Ie=1;Ie<Fe;++Ie)qe[Ie]===Ie&&(Le!==-1&&qe[Le]!==Le?qe[Ie]=qe[Le]:De!==-1&&qe[De]!==De&&(qe[Ie]=qe[De]));for(Ie=1;Ie<Fe;++Ie)if(_e[Ie].type!==0){if(be=Ie,be!=qe[be])do be=qe[be],Pe[Ie]=Pe[be]+"/"+Pe[Ie];while(be!==0&&qe[be]!==-1&&be!=qe[be]);qe[Ie]=-1}for(Pe[0]+="/",Ie=1;Ie<Fe;++Ie)_e[Ie].type!==2&&(Pe[Ie]+="/")}function g(_e,Pe,Ae){for(var Ie=_e.start,De=_e.size,Le=[],ot=Ie;Ae&&De>0&&ot>=0;)Le.push(Pe.slice(ot*L,ot*L+L)),De-=L,ot=cu(Ae,ot*4);return Le.length===0?yt(0):qi(Le).slice(0,_e.size)}function v(_e,Pe,Ae,Ie,De){var Le=N;if(_e===N){if(Pe!==0)throw new Error("DIFAT chain shorter than expected")}else if(_e!==-1){var ot=Ae[_e],be=(Ie>>>2)-1;if(!ot)return;for(var Fe=0;Fe<be&&(Le=cu(ot,Fe*4))!==N;++Fe)De.push(Le);v(cu(ot,Ie-4),Pe-1,Ae,Ie,De)}}function _(_e,Pe,Ae,Ie,De){var Le=[],ot=[];De||(De=[]);var be=Ie-1,Fe=0,qe=0;for(Fe=Pe;Fe>=0;){De[Fe]=!0,Le[Le.length]=Fe,ot.push(_e[Fe]);var Be=Ae[Math.floor(Fe*4/Ie)];if(qe=Fe*4&be,Ie<4+qe)throw new Error("FAT boundary crossed: "+Fe+" 4 "+Ie);if(!_e[Be])break;Fe=cu(_e[Be],qe)}return{nodes:Le,data:kj([ot])}}function x(_e,Pe,Ae,Ie){var De=_e.length,Le=[],ot=[],be=[],Fe=[],qe=Ie-1,Be=0,ft=0,Qe=0,At=0;for(Be=0;Be<De;++Be)if(be=[],Qe=Be+Pe,Qe>=De&&(Qe-=De),!ot[Qe]){Fe=[];var nt=[];for(ft=Qe;ft>=0;){nt[ft]=!0,ot[ft]=!0,be[be.length]=ft,Fe.push(_e[ft]);var mt=Ae[Math.floor(ft*4/Ie)];if(At=ft*4&qe,Ie<4+At)throw new Error("FAT boundary crossed: "+ft+" 4 "+Ie);if(!_e[mt]||(ft=cu(_e[mt],At),nt[ft]))break}Le[Qe]={nodes:be,data:kj([Fe])}}return Le}function w(_e,Pe,Ae,Ie,De,Le,ot,be){for(var Fe=0,qe=Ie.length?2:0,Be=Pe[_e].data,ft=0,Qe=0,At;ft<Be.length;ft+=128){var nt=Be.slice(ft,ft+128);Zs(nt,64),Qe=nt.read_shift(2),At=Vw(nt,0,Qe-qe),Ie.push(At);var mt={name:At,type:nt.read_shift(1),color:nt.read_shift(1),L:nt.read_shift(4,"i"),R:nt.read_shift(4,"i"),C:nt.read_shift(4,"i"),clsid:nt.read_shift(16),state:nt.read_shift(4,"i"),start:0,size:0},vt=nt.read_shift(2)+nt.read_shift(2)+nt.read_shift(2)+nt.read_shift(2);vt!==0&&(mt.ct=S(nt,nt.l-8));var ir=nt.read_shift(2)+nt.read_shift(2)+nt.read_shift(2)+nt.read_shift(2);ir!==0&&(mt.mt=S(nt,nt.l-8)),mt.start=nt.read_shift(4,"i"),mt.size=nt.read_shift(4,"i"),mt.size<0&&mt.start<0&&(mt.size=mt.type=0,mt.start=N,mt.name=""),mt.type===5?(Fe=mt.start,De>0&&Fe!==N&&(Pe[Fe].name="!StreamData")):mt.size>=4096?(mt.storage="fat",Pe[mt.start]===void 0&&(Pe[mt.start]=_(Ae,mt.start,Pe.fat_addrs,Pe.ssz)),Pe[mt.start].name=mt.name,mt.content=Pe[mt.start].data.slice(0,mt.size)):(mt.storage="minifat",mt.size<0?mt.size=0:Fe!==N&&mt.start!==N&&Pe[Fe]&&(mt.content=g(mt,Pe[Fe].data,(Pe[be]||{}).data))),mt.content&&Zs(mt.content,0),Le[At]=mt,ot.push(mt)}}function S(_e,Pe){return new Date((ea(_e,Pe+4)/1e7*Math.pow(2,32)+ea(_e,Pe)/1e7-11644473600)*1e3)}function R(_e,Pe){return u(),p(l.readFileSync(_e),Pe)}function D(_e,Pe){var Ae=Pe&&Pe.type;switch(Ae||$r&&Buffer.isBuffer(_e)&&(Ae="buffer"),Ae||"base64"){case"file":return R(_e,Pe);case"base64":return p(Xa(jl(_e)),Pe);case"binary":return p(Xa(_e),Pe)}return p(_e,Pe)}function A(_e,Pe){var Ae=Pe||{},Ie=Ae.root||"Root Entry";if(_e.FullPaths||(_e.FullPaths=[]),_e.FileIndex||(_e.FileIndex=[]),_e.FullPaths.length!==_e.FileIndex.length)throw new Error("inconsistent CFB structure");_e.FullPaths.length===0&&(_e.FullPaths[0]=Ie+"/",_e.FileIndex[0]={name:Ie,type:5}),Ae.CLSID&&(_e.FileIndex[0].clsid=Ae.CLSID),C(_e)}function C(_e){var Pe="Sh33tJ5";if(!dn.find(_e,"/"+Pe)){var Ae=yt(4);Ae[0]=55,Ae[1]=Ae[3]=50,Ae[2]=54,_e.FileIndex.push({name:Pe,type:2,content:Ae,size:4,L:69,R:69,C:69}),_e.FullPaths.push(_e.FullPaths[0]+Pe),j(_e)}}function j(_e,Pe){A(_e);for(var Ae=!1,Ie=!1,De=_e.FullPaths.length-1;De>=0;--De){var Le=_e.FileIndex[De];switch(Le.type){case 0:Ie?Ae=!0:(_e.FileIndex.pop(),_e.FullPaths.pop());break;case 1:case 2:case 5:Ie=!0,isNaN(Le.R*Le.L*Le.C)&&(Ae=!0),Le.R>-1&&Le.L>-1&&Le.R==Le.L&&(Ae=!0);break;default:Ae=!0;break}}if(!(!Ae&&!Pe)){var ot=new Date(1987,1,19),be=0,Fe=Object.create?Object.create(null):{},qe=[];for(De=0;De<_e.FullPaths.length;++De)Fe[_e.FullPaths[De]]=!0,_e.FileIndex[De].type!==0&&qe.push([_e.FullPaths[De],_e.FileIndex[De]]);for(De=0;De<qe.length;++De){var Be=r(qe[De][0]);Ie=Fe[Be],Ie||(qe.push([Be,{name:s(Be).replace("/",""),type:1,clsid:Y,ct:ot,mt:ot,content:null}]),Fe[Be]=!0)}for(qe.sort(function(At,nt){return i(At[0],nt[0])}),_e.FullPaths=[],_e.FileIndex=[],De=0;De<qe.length;++De)_e.FullPaths[De]=qe[De][0],_e.FileIndex[De]=qe[De][1];for(De=0;De<qe.length;++De){var ft=_e.FileIndex[De],Qe=_e.FullPaths[De];if(ft.name=s(Qe).replace("/",""),ft.L=ft.R=ft.C=-(ft.color=1),ft.size=ft.content?ft.content.length:0,ft.start=0,ft.clsid=ft.clsid||Y,De===0)ft.C=qe.length>1?1:-1,ft.size=0,ft.type=5;else if(Qe.slice(-1)=="/"){for(be=De+1;be<qe.length&&r(_e.FullPaths[be])!=Qe;++be);for(ft.C=be>=qe.length?-1:be,be=De+1;be<qe.length&&r(_e.FullPaths[be])!=r(Qe);++be);ft.R=be>=qe.length?-1:be,ft.type=1}else r(_e.FullPaths[De+1]||"")==r(Qe)&&(ft.R=De+1),ft.type=2}}}function P(_e,Pe){var Ae=Pe||{};if(Ae.fileType=="mad")return rr(_e,Ae);switch(j(_e),Ae.fileType){case"zip":return Qt(_e,Ae)}var Ie=function(At){for(var nt=0,mt=0,vt=0;vt<At.FileIndex.length;++vt){var ir=At.FileIndex[vt];if(ir.content){var Zt=ir.content.length;Zt>0&&(Zt<4096?nt+=Zt+63>>6:mt+=Zt+511>>9)}}for(var nr=At.FullPaths.length+3>>2,br=nt+7>>3,Qn=nt+127>>7,wn=br+mt+nr+Qn,jn=wn+127>>7,mn=jn<=109?0:Math.ceil((jn-109)/127);wn+jn+mn+127>>7>jn;)mn=++jn<=109?0:Math.ceil((jn-109)/127);var Hn=[1,mn,jn,Qn,nr,mt,nt,0];return At.FileIndex[0].size=nt<<6,Hn[7]=(At.FileIndex[0].start=Hn[0]+Hn[1]+Hn[2]+Hn[3]+Hn[4]+Hn[5])+(Hn[6]+7>>3),Hn}(_e),De=yt(Ie[7]<<9),Le=0,ot=0;{for(Le=0;Le<8;++Le)De.write_shift(1,W[Le]);for(Le=0;Le<8;++Le)De.write_shift(2,0);for(De.write_shift(2,62),De.write_shift(2,3),De.write_shift(2,65534),De.write_shift(2,9),De.write_shift(2,6),Le=0;Le<3;++Le)De.write_shift(2,0);for(De.write_shift(4,0),De.write_shift(4,Ie[2]),De.write_shift(4,Ie[0]+Ie[1]+Ie[2]+Ie[3]-1),De.write_shift(4,0),De.write_shift(4,4096),De.write_shift(4,Ie[3]?Ie[0]+Ie[1]+Ie[2]-1:N),De.write_shift(4,Ie[3]),De.write_shift(-4,Ie[1]?Ie[0]-1:N),De.write_shift(4,Ie[1]),Le=0;Le<109;++Le)De.write_shift(-4,Le<Ie[2]?Ie[1]+Le:-1)}if(Ie[1])for(ot=0;ot<Ie[1];++ot){for(;Le<236+ot*127;++Le)De.write_shift(-4,Le<Ie[2]?Ie[1]+Le:-1);De.write_shift(-4,ot===Ie[1]-1?N:ot+1)}var be=function(At){for(ot+=At;Le<ot-1;++Le)De.write_shift(-4,Le+1);At&&(++Le,De.write_shift(-4,N))};for(ot=Le=0,ot+=Ie[1];Le<ot;++Le)De.write_shift(-4,J.DIFSECT);for(ot+=Ie[2];Le<ot;++Le)De.write_shift(-4,J.FATSECT);be(Ie[3]),be(Ie[4]);for(var Fe=0,qe=0,Be=_e.FileIndex[0];Fe<_e.FileIndex.length;++Fe)Be=_e.FileIndex[Fe],Be.content&&(qe=Be.content.length,!(qe<4096)&&(Be.start=ot,be(qe+511>>9)));for(be(Ie[6]+7>>3);De.l&511;)De.write_shift(-4,J.ENDOFCHAIN);for(ot=Le=0,Fe=0;Fe<_e.FileIndex.length;++Fe)Be=_e.FileIndex[Fe],Be.content&&(qe=Be.content.length,!(!qe||qe>=4096)&&(Be.start=ot,be(qe+63>>6)));for(;De.l&511;)De.write_shift(-4,J.ENDOFCHAIN);for(Le=0;Le<Ie[4]<<2;++Le){var ft=_e.FullPaths[Le];if(!ft||ft.length===0){for(Fe=0;Fe<17;++Fe)De.write_shift(4,0);for(Fe=0;Fe<3;++Fe)De.write_shift(4,-1);for(Fe=0;Fe<12;++Fe)De.write_shift(4,0);continue}Be=_e.FileIndex[Le],Le===0&&(Be.start=Be.size?Be.start-1:N);var Qe=Le===0&&Ae.root||Be.name;if(qe=2*(Qe.length+1),De.write_shift(64,Qe,"utf16le"),De.write_shift(2,qe),De.write_shift(1,Be.type),De.write_shift(1,Be.color),De.write_shift(-4,Be.L),De.write_shift(-4,Be.R),De.write_shift(-4,Be.C),Be.clsid)De.write_shift(16,Be.clsid,"hex");else for(Fe=0;Fe<4;++Fe)De.write_shift(4,0);De.write_shift(4,Be.state||0),De.write_shift(4,0),De.write_shift(4,0),De.write_shift(4,0),De.write_shift(4,0),De.write_shift(4,Be.start),De.write_shift(4,Be.size),De.write_shift(4,0)}for(Le=1;Le<_e.FileIndex.length;++Le)if(Be=_e.FileIndex[Le],Be.size>=4096)if(De.l=Be.start+1<<9,$r&&Buffer.isBuffer(Be.content))Be.content.copy(De,De.l,0,Be.size),De.l+=Be.size+511&-512;else{for(Fe=0;Fe<Be.size;++Fe)De.write_shift(1,Be.content[Fe]);for(;Fe&511;++Fe)De.write_shift(1,0)}for(Le=1;Le<_e.FileIndex.length;++Le)if(Be=_e.FileIndex[Le],Be.size>0&&Be.size<4096)if($r&&Buffer.isBuffer(Be.content))Be.content.copy(De,De.l,0,Be.size),De.l+=Be.size+63&-64;else{for(Fe=0;Fe<Be.size;++Fe)De.write_shift(1,Be.content[Fe]);for(;Fe&63;++Fe)De.write_shift(1,0)}if($r)De.l=De.length;else for(;De.l<De.length;)De.write_shift(1,0);return De}function O(_e,Pe){var Ae=_e.FullPaths.map(function(Fe){return Fe.toUpperCase()}),Ie=Ae.map(function(Fe){var qe=Fe.split("/");return qe[qe.length-(Fe.slice(-1)=="/"?2:1)]}),De=!1;Pe.charCodeAt(0)===47?(De=!0,Pe=Ae[0].slice(0,-1)+Pe):De=Pe.indexOf("/")!==-1;var Le=Pe.toUpperCase(),ot=De===!0?Ae.indexOf(Le):Ie.indexOf(Le);if(ot!==-1)return _e.FileIndex[ot];var be=!Le.match(w0);for(Le=Le.replace(Xf,""),be&&(Le=Le.replace(w0,"!")),ot=0;ot<Ae.length;++ot)if((be?Ae[ot].replace(w0,"!"):Ae[ot]).replace(Xf,"")==Le||(be?Ie[ot].replace(w0,"!"):Ie[ot]).replace(Xf,"")==Le)return _e.FileIndex[ot];return null}var L=64,N=-2,q="d0cf11e0a1b11ae1",W=[208,207,17,224,161,177,26,225],Y="00000000000000000000000000000000",J={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:N,FREESECT:-1,HEADER_SIGNATURE:q,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:Y,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function te(_e,Pe,Ae){u();var Ie=P(_e,Ae);l.writeFileSync(Pe,Ie)}function ee(_e){for(var Pe=new Array(_e.length),Ae=0;Ae<_e.length;++Ae)Pe[Ae]=String.fromCharCode(_e[Ae]);return Pe.join("")}function Q(_e,Pe){var Ae=P(_e,Pe);switch(Pe&&Pe.type||"buffer"){case"file":return u(),l.writeFileSync(Pe.filename,Ae),Ae;case"binary":return typeof Ae=="string"?Ae:ee(Ae);case"base64":return wp(typeof Ae=="string"?Ae:ee(Ae));case"buffer":if($r)return Buffer.isBuffer(Ae)?Ae:Ml(Ae);case"array":return typeof Ae=="string"?Xa(Ae):Ae}return Ae}var ne;function re(_e){try{var Pe=_e.InflateRaw,Ae=new Pe;if(Ae._processChunk(new Uint8Array([3,0]),Ae._finishFlushFlag),Ae.bytesRead)ne=_e;else throw new Error("zlib does not expose bytesRead")}catch(Ie){console.error("cannot use native zlib: "+(Ie.message||Ie))}}function I(_e,Pe){if(!ne)return Et(_e,Pe);var Ae=ne.InflateRaw,Ie=new Ae,De=Ie._processChunk(_e.slice(_e.l),Ie._finishFlushFlag);return _e.l+=Ie.bytesRead,De}function U(_e){return ne?ne.deflateRawSync(_e):Ge(_e)}var H=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],X=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],ae=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function le(_e){var Pe=(_e<<1|_e<<11)&139536|(_e<<5|_e<<15)&558144;return(Pe>>16|Pe>>8|Pe)&255}for(var he=typeof Uint8Array<"u",ye=he?new Uint8Array(256):[],me=0;me<256;++me)ye[me]=le(me);function xe(_e,Pe){var Ae=ye[_e&255];return Pe<=8?Ae>>>8-Pe:(Ae=Ae<<8|ye[_e>>8&255],Pe<=16?Ae>>>16-Pe:(Ae=Ae<<8|ye[_e>>16&255],Ae>>>24-Pe))}function Se(_e,Pe){var Ae=Pe&7,Ie=Pe>>>3;return(_e[Ie]|(Ae<=6?0:_e[Ie+1]<<8))>>>Ae&3}function pe(_e,Pe){var Ae=Pe&7,Ie=Pe>>>3;return(_e[Ie]|(Ae<=5?0:_e[Ie+1]<<8))>>>Ae&7}function Te(_e,Pe){var Ae=Pe&7,Ie=Pe>>>3;return(_e[Ie]|(Ae<=4?0:_e[Ie+1]<<8))>>>Ae&15}function ke(_e,Pe){var Ae=Pe&7,Ie=Pe>>>3;return(_e[Ie]|(Ae<=3?0:_e[Ie+1]<<8))>>>Ae&31}function Me(_e,Pe){var Ae=Pe&7,Ie=Pe>>>3;return(_e[Ie]|(Ae<=1?0:_e[Ie+1]<<8))>>>Ae&127}function Ne(_e,Pe,Ae){var Ie=Pe&7,De=Pe>>>3,Le=(1<<Ae)-1,ot=_e[De]>>>Ie;return Ae<8-Ie||(ot|=_e[De+1]<<8-Ie,Ae<16-Ie)||(ot|=_e[De+2]<<16-Ie,Ae<24-Ie)||(ot|=_e[De+3]<<24-Ie),ot&Le}function Ve(_e,Pe,Ae){var Ie=Pe&7,De=Pe>>>3;return Ie<=5?_e[De]|=(Ae&7)<<Ie:(_e[De]|=Ae<<Ie&255,_e[De+1]=(Ae&7)>>8-Ie),Pe+3}function Xe(_e,Pe,Ae){var Ie=Pe&7,De=Pe>>>3;return Ae=(Ae&1)<<Ie,_e[De]|=Ae,Pe+1}function ht(_e,Pe,Ae){var Ie=Pe&7,De=Pe>>>3;return Ae<<=Ie,_e[De]|=Ae&255,Ae>>>=8,_e[De+1]=Ae,Pe+8}function Ke(_e,Pe,Ae){var Ie=Pe&7,De=Pe>>>3;return Ae<<=Ie,_e[De]|=Ae&255,Ae>>>=8,_e[De+1]=Ae&255,_e[De+2]=Ae>>>8,Pe+16}function jt(_e,Pe){var Ae=_e.length,Ie=2*Ae>Pe?2*Ae:Pe+5,De=0;if(Ae>=Pe)return _e;if($r){var Le=yj(Ie);if(_e.copy)_e.copy(Le);else for(;De<_e.length;++De)Le[De]=_e[De];return Le}else if(he){var ot=new Uint8Array(Ie);if(ot.set)ot.set(_e);else for(;De<Ae;++De)ot[De]=_e[De];return ot}return _e.length=Ie,_e}function bt(_e){for(var Pe=new Array(_e),Ae=0;Ae<_e;++Ae)Pe[Ae]=0;return Pe}function gt(_e,Pe,Ae){var Ie=1,De=0,Le=0,ot=0,be=0,Fe=_e.length,qe=he?new Uint16Array(32):bt(32);for(Le=0;Le<32;++Le)qe[Le]=0;for(Le=Fe;Le<Ae;++Le)_e[Le]=0;Fe=_e.length;var Be=he?new Uint16Array(Fe):bt(Fe);for(Le=0;Le<Fe;++Le)qe[De=_e[Le]]++,Ie<De&&(Ie=De),Be[Le]=0;for(qe[0]=0,Le=1;Le<=Ie;++Le)qe[Le+16]=be=be+qe[Le-1]<<1;for(Le=0;Le<Fe;++Le)be=_e[Le],be!=0&&(Be[Le]=qe[be+16]++);var ft=0;for(Le=0;Le<Fe;++Le)if(ft=_e[Le],ft!=0)for(be=xe(Be[Le],Ie)>>Ie-ft,ot=(1<<Ie+4-ft)-1;ot>=0;--ot)Pe[be|ot<<ft]=ft&15|Le<<4;return Ie}var Tt=he?new Uint16Array(512):bt(512),St=he?new Uint16Array(32):bt(32);if(!he){for(var $e=0;$e<512;++$e)Tt[$e]=0;for($e=0;$e<32;++$e)St[$e]=0}(function(){for(var _e=[],Pe=0;Pe<32;Pe++)_e.push(5);gt(_e,St,32);var Ae=[];for(Pe=0;Pe<=143;Pe++)Ae.push(8);for(;Pe<=255;Pe++)Ae.push(9);for(;Pe<=279;Pe++)Ae.push(7);for(;Pe<=287;Pe++)Ae.push(8);gt(Ae,Tt,288)})();var dt=function(){for(var Pe=he?new Uint8Array(32768):[],Ae=0,Ie=0;Ae<ae.length-1;++Ae)for(;Ie<ae[Ae+1];++Ie)Pe[Ie]=Ae;for(;Ie<32768;++Ie)Pe[Ie]=29;var De=he?new Uint8Array(259):[];for(Ae=0,Ie=0;Ae<X.length-1;++Ae)for(;Ie<X[Ae+1];++Ie)De[Ie]=Ae;function Le(be,Fe){for(var qe=0;qe<be.length;){var Be=Math.min(65535,be.length-qe),ft=qe+Be==be.length;for(Fe.write_shift(1,+ft),Fe.write_shift(2,Be),Fe.write_shift(2,~Be&65535);Be-- >0;)Fe[Fe.l++]=be[qe++]}return Fe.l}function ot(be,Fe){for(var qe=0,Be=0,ft=he?new Uint16Array(32768):[];Be<be.length;){var Qe=Math.min(65535,be.length-Be);if(Qe<10){for(qe=Ve(Fe,qe,+(Be+Qe==be.length)),qe&7&&(qe+=8-(qe&7)),Fe.l=qe/8|0,Fe.write_shift(2,Qe),Fe.write_shift(2,~Qe&65535);Qe-- >0;)Fe[Fe.l++]=be[Be++];qe=Fe.l*8;continue}qe=Ve(Fe,qe,+(Be+Qe==be.length)+2);for(var At=0;Qe-- >0;){var nt=be[Be];At=(At<<5^nt)&32767;var mt=-1,vt=0;if((mt=ft[At])&&(mt|=Be&-32768,mt>Be&&(mt-=32768),mt<Be))for(;be[mt+vt]==be[Be+vt]&&vt<250;)++vt;if(vt>2){nt=De[vt],nt<=22?qe=ht(Fe,qe,ye[nt+1]>>1)-1:(ht(Fe,qe,3),qe+=5,ht(Fe,qe,ye[nt-23]>>5),qe+=3);var ir=nt<8?0:nt-4>>2;ir>0&&(Ke(Fe,qe,vt-X[nt]),qe+=ir),nt=Pe[Be-mt],qe=ht(Fe,qe,ye[nt]>>3),qe-=3;var Zt=nt<4?0:nt-2>>1;Zt>0&&(Ke(Fe,qe,Be-mt-ae[nt]),qe+=Zt);for(var nr=0;nr<vt;++nr)ft[At]=Be&32767,At=(At<<5^be[Be])&32767,++Be;Qe-=vt-1}else nt<=143?nt=nt+48:qe=Xe(Fe,qe,1),qe=ht(Fe,qe,ye[nt]),ft[At]=Be&32767,++Be}qe=ht(Fe,qe,0)-1}return Fe.l=(qe+7)/8|0,Fe.l}return function(Fe,qe){return Fe.length<8?Le(Fe,qe):ot(Fe,qe)}}();function Ge(_e){var Pe=yt(50+Math.floor(_e.length*1.1)),Ae=dt(_e,Pe);return Pe.slice(0,Ae)}var de=he?new Uint16Array(32768):bt(32768),ge=he?new Uint16Array(32768):bt(32768),ce=he?new Uint16Array(128):bt(128),we=1,He=1;function We(_e,Pe){var Ae=ke(_e,Pe)+257;Pe+=5;var Ie=ke(_e,Pe)+1;Pe+=5;var De=Te(_e,Pe)+4;Pe+=4;for(var Le=0,ot=he?new Uint8Array(19):bt(19),be=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Fe=1,qe=he?new Uint8Array(8):bt(8),Be=he?new Uint8Array(8):bt(8),ft=ot.length,Qe=0;Qe<De;++Qe)ot[H[Qe]]=Le=pe(_e,Pe),Fe<Le&&(Fe=Le),qe[Le]++,Pe+=3;var At=0;for(qe[0]=0,Qe=1;Qe<=Fe;++Qe)Be[Qe]=At=At+qe[Qe-1]<<1;for(Qe=0;Qe<ft;++Qe)(At=ot[Qe])!=0&&(be[Qe]=Be[At]++);var nt=0;for(Qe=0;Qe<ft;++Qe)if(nt=ot[Qe],nt!=0){At=ye[be[Qe]]>>8-nt;for(var mt=(1<<7-nt)-1;mt>=0;--mt)ce[At|mt<<nt]=nt&7|Qe<<3}var vt=[];for(Fe=1;vt.length<Ae+Ie;)switch(At=ce[Me(_e,Pe)],Pe+=At&7,At>>>=3){case 16:for(Le=3+Se(_e,Pe),Pe+=2,At=vt[vt.length-1];Le-- >0;)vt.push(At);break;case 17:for(Le=3+pe(_e,Pe),Pe+=3;Le-- >0;)vt.push(0);break;case 18:for(Le=11+Me(_e,Pe),Pe+=7;Le-- >0;)vt.push(0);break;default:vt.push(At),Fe<At&&(Fe=At);break}var ir=vt.slice(0,Ae),Zt=vt.slice(Ae);for(Qe=Ae;Qe<286;++Qe)ir[Qe]=0;for(Qe=Ie;Qe<30;++Qe)Zt[Qe]=0;return we=gt(ir,de,286),He=gt(Zt,ge,30),Pe}function rt(_e,Pe){if(_e[0]==3&&!(_e[1]&3))return[ku(Pe),2];for(var Ae=0,Ie=0,De=yj(Pe||1<<18),Le=0,ot=De.length>>>0,be=0,Fe=0;!(Ie&1);){if(Ie=pe(_e,Ae),Ae+=3,Ie>>>1)Ie>>1==1?(be=9,Fe=5):(Ae=We(_e,Ae),be=we,Fe=He);else{Ae&7&&(Ae+=8-(Ae&7));var qe=_e[Ae>>>3]|_e[(Ae>>>3)+1]<<8;if(Ae+=32,qe>0)for(!Pe&&ot<Le+qe&&(De=jt(De,Le+qe),ot=De.length);qe-- >0;)De[Le++]=_e[Ae>>>3],Ae+=8;continue}for(;;){!Pe&&ot<Le+32767&&(De=jt(De,Le+32767),ot=De.length);var Be=Ne(_e,Ae,be),ft=Ie>>>1==1?Tt[Be]:de[Be];if(Ae+=ft&15,ft>>>=4,!(ft>>>8&255))De[Le++]=ft;else{if(ft==256)break;ft-=257;var Qe=ft<8?0:ft-4>>2;Qe>5&&(Qe=0);var At=Le+X[ft];Qe>0&&(At+=Ne(_e,Ae,Qe),Ae+=Qe),Be=Ne(_e,Ae,Fe),ft=Ie>>>1==1?St[Be]:ge[Be],Ae+=ft&15,ft>>>=4;var nt=ft<4?0:ft-2>>1,mt=ae[ft];for(nt>0&&(mt+=Ne(_e,Ae,nt),Ae+=nt),!Pe&&ot<At&&(De=jt(De,At+100),ot=De.length);Le<At;)De[Le]=De[Le-mt],++Le}}}return Pe?[De,Ae+7>>>3]:[De.slice(0,Le),Ae+7>>>3]}function Et(_e,Pe){var Ae=_e.slice(_e.l||0),Ie=rt(Ae,Pe);return _e.l+=Ie[1],Ie[0]}function It(_e,Pe){if(_e)typeof console<"u"&&console.error(Pe);else throw new Error(Pe)}function Pt(_e,Pe){var Ae=_e;Zs(Ae,0);var Ie=[],De=[],Le={FileIndex:Ie,FullPaths:De};A(Le,{root:Pe.root});for(var ot=Ae.length-4;(Ae[ot]!=80||Ae[ot+1]!=75||Ae[ot+2]!=5||Ae[ot+3]!=6)&&ot>=0;)--ot;Ae.l=ot+4,Ae.l+=4;var be=Ae.read_shift(2);Ae.l+=6;var Fe=Ae.read_shift(4);for(Ae.l=Fe,ot=0;ot<be;++ot){Ae.l+=20;var qe=Ae.read_shift(4),Be=Ae.read_shift(4),ft=Ae.read_shift(2),Qe=Ae.read_shift(2),At=Ae.read_shift(2);Ae.l+=8;var nt=Ae.read_shift(4),mt=c(Ae.slice(Ae.l+ft,Ae.l+ft+Qe));Ae.l+=ft+Qe+At;var vt=Ae.l;Ae.l=nt+4,Dt(Ae,qe,Be,Le,mt),Ae.l=vt}return Le}function Dt(_e,Pe,Ae,Ie,De){_e.l+=2;var Le=_e.read_shift(2),ot=_e.read_shift(2),be=a(_e);if(Le&8257)throw new Error("Unsupported ZIP encryption");for(var Fe=_e.read_shift(4),qe=_e.read_shift(4),Be=_e.read_shift(4),ft=_e.read_shift(2),Qe=_e.read_shift(2),At="",nt=0;nt<ft;++nt)At+=String.fromCharCode(_e[_e.l++]);if(Qe){var mt=c(_e.slice(_e.l,_e.l+Qe));(mt[21589]||{}).mt&&(be=mt[21589].mt),((De||{})[21589]||{}).mt&&(be=De[21589].mt)}_e.l+=Qe;var vt=_e.slice(_e.l,_e.l+qe);switch(ot){case 8:vt=I(_e,Be);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+ot)}var ir=!1;Le&8&&(Fe=_e.read_shift(4),Fe==134695760&&(Fe=_e.read_shift(4),ir=!0),qe=_e.read_shift(4),Be=_e.read_shift(4)),qe!=Pe&&It(ir,"Bad compressed size: "+Pe+" != "+qe),Be!=Ae&&It(ir,"Bad uncompressed size: "+Ae+" != "+Be),hr(Ie,At,vt,{unsafe:!0,mt:be})}function Qt(_e,Pe){var Ae=Pe||{},Ie=[],De=[],Le=yt(1),ot=Ae.compression?8:0,be=0,Fe=0,qe=0,Be=0,ft=0,Qe=_e.FullPaths[0],At=Qe,nt=_e.FileIndex[0],mt=[],vt=0;for(Fe=1;Fe<_e.FullPaths.length;++Fe)if(At=_e.FullPaths[Fe].slice(Qe.length),nt=_e.FileIndex[Fe],!(!nt.size||!nt.content||At=="Sh33tJ5")){var ir=Be,Zt=yt(At.length);for(qe=0;qe<At.length;++qe)Zt.write_shift(1,At.charCodeAt(qe)&127);Zt=Zt.slice(0,Zt.l),mt[ft]=NQ.buf(nt.content,0);var nr=nt.content;ot==8&&(nr=U(nr)),Le=yt(30),Le.write_shift(4,67324752),Le.write_shift(2,20),Le.write_shift(2,be),Le.write_shift(2,ot),nt.mt?o(Le,nt.mt):Le.write_shift(4,0),Le.write_shift(-4,mt[ft]),Le.write_shift(4,nr.length),Le.write_shift(4,nt.content.length),Le.write_shift(2,Zt.length),Le.write_shift(2,0),Be+=Le.length,Ie.push(Le),Be+=Zt.length,Ie.push(Zt),Be+=nr.length,Ie.push(nr),Le=yt(46),Le.write_shift(4,33639248),Le.write_shift(2,0),Le.write_shift(2,20),Le.write_shift(2,be),Le.write_shift(2,ot),Le.write_shift(4,0),Le.write_shift(-4,mt[ft]),Le.write_shift(4,nr.length),Le.write_shift(4,nt.content.length),Le.write_shift(2,Zt.length),Le.write_shift(2,0),Le.write_shift(2,0),Le.write_shift(2,0),Le.write_shift(2,0),Le.write_shift(4,0),Le.write_shift(4,ir),vt+=Le.l,De.push(Le),vt+=Zt.length,De.push(Zt),++ft}return Le=yt(22),Le.write_shift(4,101010256),Le.write_shift(2,0),Le.write_shift(2,0),Le.write_shift(2,ft),Le.write_shift(2,ft),Le.write_shift(4,vt),Le.write_shift(4,Be),Le.write_shift(2,0),qi([qi(Ie),qi(De),Le])}var Gt={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Ft(_e,Pe){if(_e.ctype)return _e.ctype;var Ae=_e.name||"",Ie=Ae.match(/\.([^\.]+)$/);return Ie&&Gt[Ie[1]]||Pe&&(Ie=(Ae=Pe).match(/[\.\\]([^\.\\])+$/),Ie&&Gt[Ie[1]])?Gt[Ie[1]]:"application/octet-stream"}function Xt(_e){for(var Pe=wp(_e),Ae=[],Ie=0;Ie<Pe.length;Ie+=76)Ae.push(Pe.slice(Ie,Ie+76));return Ae.join(`\r
`)+`\r
`}function Wt(_e){var Pe=_e.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(qe){var Be=qe.charCodeAt(0).toString(16).toUpperCase();return"="+(Be.length==1?"0"+Be:Be)});Pe=Pe.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),Pe.charAt(0)==`
`&&(Pe="=0D"+Pe.slice(1)),Pe=Pe.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var Ae=[],Ie=Pe.split(`\r
`),De=0;De<Ie.length;++De){var Le=Ie[De];if(Le.length==0){Ae.push("");continue}for(var ot=0;ot<Le.length;){var be=76,Fe=Le.slice(ot,ot+be);Fe.charAt(be-1)=="="?be--:Fe.charAt(be-2)=="="?be-=2:Fe.charAt(be-3)=="="&&(be-=3),Fe=Le.slice(ot,ot+be),ot+=be,ot<Le.length&&(Fe+="="),Ae.push(Fe)}}return Ae.join(`\r
`)}function Mr(_e){for(var Pe=[],Ae=0;Ae<_e.length;++Ae){for(var Ie=_e[Ae];Ae<=_e.length&&Ie.charAt(Ie.length-1)=="=";)Ie=Ie.slice(0,Ie.length-1)+_e[++Ae];Pe.push(Ie)}for(var De=0;De<Pe.length;++De)Pe[De]=Pe[De].replace(/[=][0-9A-Fa-f]{2}/g,function(Le){return String.fromCharCode(parseInt(Le.slice(1),16))});return Xa(Pe.join(`\r
`))}function pn(_e,Pe,Ae){for(var Ie="",De="",Le="",ot,be=0;be<10;++be){var Fe=Pe[be];if(!Fe||Fe.match(/^\s*$/))break;var qe=Fe.match(/^(.*?):\s*([^\s].*)$/);if(qe)switch(qe[1].toLowerCase()){case"content-location":Ie=qe[2].trim();break;case"content-type":Le=qe[2].trim();break;case"content-transfer-encoding":De=qe[2].trim();break}}switch(++be,De.toLowerCase()){case"base64":ot=Xa(jl(Pe.slice(be).join("")));break;case"quoted-printable":ot=Mr(Pe.slice(be));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+De)}var Be=hr(_e,Ie.slice(Ae.length),ot,{unsafe:!0});Le&&(Be.ctype=Le)}function Jr(_e,Pe){if(ee(_e.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var Ae=Pe&&Pe.root||"",Ie=($r&&Buffer.isBuffer(_e)?_e.toString("binary"):ee(_e)).split(`\r
`),De=0,Le="";for(De=0;De<Ie.length;++De)if(Le=Ie[De],!!/^Content-Location:/i.test(Le)&&(Le=Le.slice(Le.indexOf("file")),Ae||(Ae=Le.slice(0,Le.lastIndexOf("/")+1)),Le.slice(0,Ae.length)!=Ae))for(;Ae.length>0&&(Ae=Ae.slice(0,Ae.length-1),Ae=Ae.slice(0,Ae.lastIndexOf("/")+1),Le.slice(0,Ae.length)!=Ae););var ot=(Ie[1]||"").match(/boundary="(.*?)"/);if(!ot)throw new Error("MAD cannot find boundary");var be="--"+(ot[1]||""),Fe=[],qe=[],Be={FileIndex:Fe,FullPaths:qe};A(Be);var ft,Qe=0;for(De=0;De<Ie.length;++De){var At=Ie[De];At!==be&&At!==be+"--"||(Qe++&&pn(Be,Ie.slice(ft,De),Ae),ft=De)}return Be}function rr(_e,Pe){var Ae=Pe||{},Ie=Ae.boundary||"SheetJS";Ie="------="+Ie;for(var De=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+Ie.slice(2)+'"',"","",""],Le=_e.FullPaths[0],ot=Le,be=_e.FileIndex[0],Fe=1;Fe<_e.FullPaths.length;++Fe)if(ot=_e.FullPaths[Fe].slice(Le.length),be=_e.FileIndex[Fe],!(!be.size||!be.content||ot=="Sh33tJ5")){ot=ot.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(vt){return"_x"+vt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(vt){return"_u"+vt.charCodeAt(0).toString(16)+"_"});for(var qe=be.content,Be=$r&&Buffer.isBuffer(qe)?qe.toString("binary"):ee(qe),ft=0,Qe=Math.min(1024,Be.length),At=0,nt=0;nt<=Qe;++nt)(At=Be.charCodeAt(nt))>=32&&At<128&&++ft;var mt=ft>=Qe*4/5;De.push(Ie),De.push("Content-Location: "+(Ae.root||"file:///C:/SheetJS/")+ot),De.push("Content-Transfer-Encoding: "+(mt?"quoted-printable":"base64")),De.push("Content-Type: "+Ft(be,ot)),De.push(""),De.push(mt?Wt(Be):Xt(Be))}return De.push(Ie+`--\r
`),De.join(`\r
`)}function Fr(_e){var Pe={};return A(Pe,_e),Pe}function hr(_e,Pe,Ae,Ie){var De=Ie&&Ie.unsafe;De||A(_e);var Le=!De&&dn.find(_e,Pe);if(!Le){var ot=_e.FullPaths[0];Pe.slice(0,ot.length)==ot?ot=Pe:(ot.slice(-1)!="/"&&(ot+="/"),ot=(ot+Pe).replace("//","/")),Le={name:s(Pe),type:2},_e.FileIndex.push(Le),_e.FullPaths.push(ot),De||dn.utils.cfb_gc(_e)}return Le.content=Ae,Le.size=Ae?Ae.length:0,Ie&&(Ie.CLSID&&(Le.clsid=Ie.CLSID),Ie.mt&&(Le.mt=Ie.mt),Ie.ct&&(Le.ct=Ie.ct)),Le}function on(_e,Pe){A(_e);var Ae=dn.find(_e,Pe);if(Ae){for(var Ie=0;Ie<_e.FileIndex.length;++Ie)if(_e.FileIndex[Ie]==Ae)return _e.FileIndex.splice(Ie,1),_e.FullPaths.splice(Ie,1),!0}return!1}function xn(_e,Pe,Ae){A(_e);var Ie=dn.find(_e,Pe);if(Ie){for(var De=0;De<_e.FileIndex.length;++De)if(_e.FileIndex[De]==Ie)return _e.FileIndex[De].name=s(Ae),_e.FullPaths[De]=Ae,!0}return!1}function jr(_e){j(_e,!0)}return t.find=O,t.read=D,t.parse=p,t.write=Q,t.writeFile=te,t.utils={cfb_new:Fr,cfb_add:hr,cfb_del:on,cfb_mov:xn,cfb_gc:jr,ReadShift:Qf,CheckField:N3,prep_blob:Zs,bconcat:qi,use_zlib:re,_deflateRaw:Ge,_inflateRaw:Et,consts:J},t}();function LQ(n){return typeof n=="string"?ky(n):Array.isArray(n)?cQ(n):n}function Jp(n,t,i){if(typeof Deno<"u"){if(i&&typeof t=="string")switch(i){case"utf8":t=new TextEncoder(i).encode(t);break;case"binary":t=ky(t);break;default:throw new Error("Unsupported encoding "+i)}return Deno.writeFileSync(n,t)}var r=i=="utf8"?Tp(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(r,n);if(typeof Blob<"u"){var s=new Blob([LQ(r)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(s,n);if(typeof saveAs<"u")return saveAs(s,n);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var o=URL.createObjectURL(s);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(o)},6e4),chrome.downloads.download({url:o,filename:n,saveAs:!0});var a=document.createElement("a");if(a.download!=null)return a.download=n,a.href=o,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(o)},6e4),o}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var c=File(n);return c.open("w"),c.encoding="binary",Array.isArray(t)&&(t=Zp(t)),c.write(t),c.close(),t}catch(l){if(!l.message||!l.message.match(/onstruct/))throw l}throw new Error("cannot save file "+n)}function Qi(n){for(var t=Object.keys(n),i=[],r=0;r<t.length;++r)Object.prototype.hasOwnProperty.call(n,t[r])&&i.push(t[r]);return i}function Ej(n,t){for(var i=[],r=Qi(n),s=0;s!==r.length;++s)i[n[r[s]][t]]==null&&(i[n[r[s]][t]]=r[s]);return i}function Lw(n){for(var t=[],i=Qi(n),r=0;r!==i.length;++r)t[n[i[r]]]=i[r];return t}function Dy(n){for(var t=[],i=Qi(n),r=0;r!==i.length;++r)t[n[i[r]]]=parseInt(i[r],10);return t}function FQ(n){for(var t=[],i=Qi(n),r=0;r!==i.length;++r)t[n[i[r]]]==null&&(t[n[i[r]]]=[]),t[n[i[r]]].push(i[r]);return t}var Ng=new Date(1899,11,30,0,0,0);function Us(n,t){var i=n.getTime(),r=Ng.getTime()+(n.getTimezoneOffset()-Ng.getTimezoneOffset())*6e4;return(i-r)/(24*60*60*1e3)}var _3=new Date,UQ=Ng.getTime()+(_3.getTimezoneOffset()-Ng.getTimezoneOffset())*6e4,Cj=_3.getTimezoneOffset();function b3(n){var t=new Date;return t.setTime(n*24*60*60*1e3+UQ),t.getTimezoneOffset()!==Cj&&t.setTime(t.getTime()+(t.getTimezoneOffset()-Cj)*6e4),t}var Aj=new Date("2017-02-19T19:06:09.000Z"),x3=isNaN(Aj.getFullYear())?new Date("2/19/17"):Aj,BQ=x3.getFullYear()==2017;function Ss(n,t){var i=new Date(n);if(BQ)return t>0?i.setTime(i.getTime()+i.getTimezoneOffset()*60*1e3):t<0&&i.setTime(i.getTime()-i.getTimezoneOffset()*60*1e3),i;if(n instanceof Date)return n;if(x3.getFullYear()==1917&&!isNaN(i.getFullYear())){var r=i.getFullYear();return n.indexOf(""+r)>-1||i.setFullYear(i.getFullYear()+100),i}var s=n.match(/\d+/g)||["2017","2","19","0","0","0"],o=new Date(+s[0],+s[1]-1,+s[2],+s[3]||0,+s[4]||0,+s[5]||0);return n.indexOf("Z")>-1&&(o=new Date(o.getTime()-o.getTimezoneOffset()*60*1e3)),o}function Ny(n,t){if($r&&Buffer.isBuffer(n))return n.toString("binary");if(typeof TextDecoder<"u")try{var i={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(n)&&(n=new Uint8Array(n)),new TextDecoder("latin1").decode(n).replace(/[]/g,function(o){return i[o]||o})}catch{}for(var r=[],s=0;s!=n.length;++s)r.push(String.fromCharCode(n[s]));return r.join("")}function Bs(n){if(typeof JSON<"u"&&!Array.isArray(n))return JSON.parse(JSON.stringify(n));if(typeof n!="object"||n==null)return n;if(n instanceof Date)return new Date(n.getTime());var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=Bs(n[i]));return t}function Un(n,t){for(var i="";i.length<t;)i+=n;return i}function gl(n){var t=Number(n);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(n))return t;var i=1,r=n.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return i*=100,""});return!isNaN(t=Number(r))||(r=r.replace(/[(](.*)[)]/,function(s,o){return i=-i,o}),!isNaN(t=Number(r)))?t/i:t}var VQ=["january","february","march","april","may","june","july","august","september","october","november","december"];function Sp(n){var t=new Date(n),i=new Date(NaN),r=t.getYear(),s=t.getMonth(),o=t.getDate();if(isNaN(o))return i;var a=n.toLowerCase();if(a.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(a=a.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),a.length>3&&VQ.indexOf(a)==-1)return i}else if(a.match(/[a-z]/))return i;return r<0||r>8099?i:(s>0||o>1)&&r!=101?t:n.match(/[^-0-9:,\/\\]/)?i:t}function vr(n,t,i){if(n.FullPaths){if(typeof i=="string"){var r;return $r?r=Ml(i):r=uQ(i),dn.utils.cfb_add(n,t,r)}dn.utils.cfb_add(n,t,i)}else n.file(t,i)}function Fw(){return dn.utils.cfb_new()}var pi=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,GQ={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},Uw=Lw(GQ),Bw=/[&<>'"]/g,zQ=/[\u0000-\u0008\u000b-\u001f]/g;function nn(n){var t=n+"";return t.replace(Bw,function(i){return Uw[i]}).replace(zQ,function(i){return"_x"+("000"+i.charCodeAt(0).toString(16)).slice(-4)+"_"})}function jj(n){return nn(n).replace(/ /g,"_x0020_")}var w3=/[\u0000-\u001f]/g;function HQ(n){var t=n+"";return t.replace(Bw,function(i){return Uw[i]}).replace(/\n/g,"<br/>").replace(w3,function(i){return"&#x"+("000"+i.charCodeAt(0).toString(16)).slice(-4)+";"})}function WQ(n){var t=n+"";return t.replace(Bw,function(i){return Uw[i]}).replace(w3,function(i){return"&#x"+i.charCodeAt(0).toString(16).toUpperCase()+";"})}function qQ(n){return n.replace(/(\r\n|[\r\n])/g,"&#10;")}function YQ(n){switch(n){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function __(n){for(var t="",i=0,r=0,s=0,o=0,a=0,c=0;i<n.length;){if(r=n.charCodeAt(i++),r<128){t+=String.fromCharCode(r);continue}if(s=n.charCodeAt(i++),r>191&&r<224){a=(r&31)<<6,a|=s&63,t+=String.fromCharCode(a);continue}if(o=n.charCodeAt(i++),r<240){t+=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63);continue}a=n.charCodeAt(i++),c=((r&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536,t+=String.fromCharCode(55296+(c>>>10&1023)),t+=String.fromCharCode(56320+(c&1023))}return t}function Rj(n){var t=ku(2*n.length),i,r,s=1,o=0,a=0,c;for(r=0;r<n.length;r+=s)s=1,(c=n.charCodeAt(r))<128?i=c:c<224?(i=(c&31)*64+(n.charCodeAt(r+1)&63),s=2):c<240?(i=(c&15)*4096+(n.charCodeAt(r+1)&63)*64+(n.charCodeAt(r+2)&63),s=3):(s=4,i=(c&7)*262144+(n.charCodeAt(r+1)&63)*4096+(n.charCodeAt(r+2)&63)*64+(n.charCodeAt(r+3)&63),i-=65536,a=55296+(i>>>10&1023),i=56320+(i&1023)),a!==0&&(t[o++]=a&255,t[o++]=a>>>8,a=0),t[o++]=i%256,t[o++]=i>>>8;return t.slice(0,o).toString("ucs2")}function Oj(n){return Ml(n,"binary").toString("utf8")}var T0="foo bar baz",Kf=$r&&(Oj(T0)==__(T0)&&Oj||Rj(T0)==__(T0)&&Rj)||__,Tp=$r?function(n){return Ml(n,"utf8").toString("binary")}:function(n){for(var t=[],i=0,r=0,s=0;i<n.length;)switch(r=n.charCodeAt(i++),!0){case r<128:t.push(String.fromCharCode(r));break;case r<2048:t.push(String.fromCharCode(192+(r>>6))),t.push(String.fromCharCode(128+(r&63)));break;case(r>=55296&&r<57344):r-=55296,s=n.charCodeAt(i++)-56320+(r<<10),t.push(String.fromCharCode(240+(s>>18&7))),t.push(String.fromCharCode(144+(s>>12&63))),t.push(String.fromCharCode(128+(s>>6&63))),t.push(String.fromCharCode(128+(s&63)));break;default:t.push(String.fromCharCode(224+(r>>12))),t.push(String.fromCharCode(128+(r>>6&63))),t.push(String.fromCharCode(128+(r&63)))}return t.join("")},$Q=function(){var n=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(i){for(var r=i.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),s=0;s<n.length;++s)r=r.replace(n[s][0],n[s][1]);return r}}(),S3=/(^\s|\s$|\n)/;function Yi(n,t){return"<"+n+(t.match(S3)?' xml:space="preserve"':"")+">"+t+"</"+n+">"}function Ep(n){return Qi(n).map(function(t){return" "+t+'="'+n[t]+'"'}).join("")}function Nt(n,t,i){return"<"+n+(i!=null?Ep(i):"")+(t!=null?(t.match(S3)?' xml:space="preserve"':"")+">"+t+"</"+n:"/")+">"}function Rb(n,t){try{return n.toISOString().replace(/\.\d*/,"")}catch(i){if(t)throw i}return""}function XQ(n,t){switch(typeof n){case"string":var i=Nt("vt:lpwstr",nn(n));return i=i.replace(/&quot;/g,"_x0022_"),i;case"number":return Nt((n|0)==n?"vt:i4":"vt:r8",nn(String(n)));case"boolean":return Nt("vt:bool",n?"true":"false")}if(n instanceof Date)return Nt("vt:filetime",Rb(n));throw new Error("Unable to serialize "+n)}var Ii={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Ad=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Js={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function KQ(n,t){for(var i=1-2*(n[t+7]>>>7),r=((n[t+7]&127)<<4)+(n[t+6]>>>4&15),s=n[t+6]&15,o=5;o>=0;--o)s=s*256+n[t+o];return r==2047?s==0?i*(1/0):NaN:(r==0?r=-1022:(r-=1023,s+=Math.pow(2,52)),i*Math.pow(2,r-52)*s)}function QQ(n,t,i){var r=(t<0||1/t==-1/0?1:0)<<7,s=0,o=0,a=r?-t:t;isFinite(a)?a==0?s=o=0:(s=Math.floor(Math.log(a)/Math.LN2),o=a*Math.pow(2,52-s),s<=-1023&&(!isFinite(o)||o<Math.pow(2,52))?s=-1022:(o-=Math.pow(2,52),s+=1023)):(s=2047,o=isNaN(t)?26985:0);for(var c=0;c<=5;++c,o/=256)n[i+c]=o&255;n[i+6]=(s&15)<<4|o&15,n[i+7]=s>>4|r}var Ij=function(n){for(var t=[],i=10240,r=0;r<n[0].length;++r)if(n[0][r])for(var s=0,o=n[0][r].length;s<o;s+=i)t.push.apply(t,n[0][r].slice(s,s+i));return t},kj=$r?function(n){return n[0].length>0&&Buffer.isBuffer(n[0][0])?Buffer.concat(n[0].map(function(t){return Buffer.isBuffer(t)?t:Ml(t)})):Ij(n)}:Ij,Mj=function(n,t,i){for(var r=[],s=t;s<i;s+=2)r.push(String.fromCharCode(Lf(n,s)));return r.join("").replace(Xf,"")},Vw=$r?function(n,t,i){return Buffer.isBuffer(n)?n.toString("utf16le",t,i).replace(Xf,""):Mj(n,t,i)}:Mj,Pj=function(n,t,i){for(var r=[],s=t;s<t+i;++s)r.push(("0"+n[s].toString(16)).slice(-2));return r.join("")},T3=$r?function(n,t,i){return Buffer.isBuffer(n)?n.toString("hex",t,t+i):Pj(n,t,i)}:Pj,Dj=function(n,t,i){for(var r=[],s=t;s<i;s++)r.push(String.fromCharCode(Bh(n,s)));return r.join("")},em=$r?function(t,i,r){return Buffer.isBuffer(t)?t.toString("utf8",i,r):Dj(t,i,r)}:Dj,E3=function(n,t){var i=ea(n,t);return i>0?em(n,t+4,t+4+i-1):""},C3=E3,A3=function(n,t){var i=ea(n,t);return i>0?em(n,t+4,t+4+i-1):""},j3=A3,R3=function(n,t){var i=2*ea(n,t);return i>0?em(n,t+4,t+4+i-1):""},O3=R3,I3=function(t,i){var r=ea(t,i);return r>0?Vw(t,i+4,i+4+r):""},k3=I3,M3=function(n,t){var i=ea(n,t);return i>0?em(n,t+4,t+4+i):""},P3=M3,D3=function(n,t){return KQ(n,t)},Lg=D3,Gw=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};$r&&(C3=function(t,i){if(!Buffer.isBuffer(t))return E3(t,i);var r=t.readUInt32LE(i);return r>0?t.toString("utf8",i+4,i+4+r-1):""},j3=function(t,i){if(!Buffer.isBuffer(t))return A3(t,i);var r=t.readUInt32LE(i);return r>0?t.toString("utf8",i+4,i+4+r-1):""},O3=function(t,i){if(!Buffer.isBuffer(t))return R3(t,i);var r=2*t.readUInt32LE(i);return t.toString("utf16le",i+4,i+4+r-1)},k3=function(t,i){if(!Buffer.isBuffer(t))return I3(t,i);var r=t.readUInt32LE(i);return t.toString("utf16le",i+4,i+4+r)},P3=function(t,i){if(!Buffer.isBuffer(t))return M3(t,i);var r=t.readUInt32LE(i);return t.toString("utf8",i+4,i+4+r)},Lg=function(t,i){return Buffer.isBuffer(t)?t.readDoubleLE(i):D3(t,i)},Gw=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var Bh=function(n,t){return n[t]},Lf=function(n,t){return n[t+1]*256+n[t]},ZQ=function(n,t){var i=n[t+1]*256+n[t];return i<32768?i:(65535-i+1)*-1},ea=function(n,t){return n[t+3]*(1<<24)+(n[t+2]<<16)+(n[t+1]<<8)+n[t]},cu=function(n,t){return n[t+3]<<24|n[t+2]<<16|n[t+1]<<8|n[t]},JQ=function(n,t){return n[t]<<24|n[t+1]<<16|n[t+2]<<8|n[t+3]};function Qf(n,t){var i="",r,s,o=[],a,c,l,u;switch(t){case"dbcs":if(u=this.l,$r&&Buffer.isBuffer(this))i=this.slice(this.l,this.l+2*n).toString("utf16le");else for(l=0;l<n;++l)i+=String.fromCharCode(Lf(this,u)),u+=2;n*=2;break;case"utf8":i=em(this,this.l,this.l+n);break;case"utf16le":n*=2,i=Vw(this,this.l,this.l+n);break;case"wstr":return Qf.call(this,n,"dbcs");case"lpstr-ansi":i=C3(this,this.l),n=4+ea(this,this.l);break;case"lpstr-cp":i=j3(this,this.l),n=4+ea(this,this.l);break;case"lpwstr":i=O3(this,this.l),n=4+2*ea(this,this.l);break;case"lpp4":n=4+ea(this,this.l),i=k3(this,this.l),n&2&&(n+=2);break;case"8lpp4":n=4+ea(this,this.l),i=P3(this,this.l),n&3&&(n+=4-(n&3));break;case"cstr":for(n=0,i="";(a=Bh(this,this.l+n++))!==0;)o.push(x0(a));i=o.join("");break;case"_wstr":for(n=0,i="";(a=Lf(this,this.l+n))!==0;)o.push(x0(a)),n+=2;n+=2,i=o.join("");break;case"dbcs-cont":for(i="",u=this.l,l=0;l<n;++l){if(this.lens&&this.lens.indexOf(u)!==-1)return a=Bh(this,u),this.l=u+1,c=Qf.call(this,n-l,a?"dbcs-cont":"sbcs-cont"),o.join("")+c;o.push(x0(Lf(this,u))),u+=2}i=o.join(""),n*=2;break;case"cpstr":case"sbcs-cont":for(i="",u=this.l,l=0;l!=n;++l){if(this.lens&&this.lens.indexOf(u)!==-1)return a=Bh(this,u),this.l=u+1,c=Qf.call(this,n-l,a?"dbcs-cont":"sbcs-cont"),o.join("")+c;o.push(x0(Bh(this,u))),u+=1}i=o.join("");break;default:switch(n){case 1:return r=Bh(this,this.l),this.l++,r;case 2:return r=(t==="i"?ZQ:Lf)(this,this.l),this.l+=2,r;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(r=(n>0?cu:JQ)(this,this.l),this.l+=4,r):(s=ea(this,this.l),this.l+=4,s);case 8:case-8:if(t==="f")return n==8?s=Lg(this,this.l):s=Lg([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,s;n=8;case 16:i=T3(this,this.l,n);break}}return this.l+=n,i}var eZ=function(n,t,i){n[i]=t&255,n[i+1]=t>>>8&255,n[i+2]=t>>>16&255,n[i+3]=t>>>24&255},tZ=function(n,t,i){n[i]=t&255,n[i+1]=t>>8&255,n[i+2]=t>>16&255,n[i+3]=t>>24&255},rZ=function(n,t,i){n[i]=t&255,n[i+1]=t>>>8&255};function nZ(n,t,i){var r=0,s=0;if(i==="dbcs"){for(s=0;s!=t.length;++s)rZ(this,t.charCodeAt(s),this.l+2*s);r=2*t.length}else if(i==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),s=0;s!=t.length;++s)this[this.l+s]=t.charCodeAt(s)&255;r=t.length}else if(i==="hex"){for(;s<n;++s)this[this.l++]=parseInt(t.slice(2*s,2*s+2),16)||0;return this}else if(i==="utf16le"){var o=Math.min(this.l+n,this.length);for(s=0;s<Math.min(t.length,n);++s){var a=t.charCodeAt(s);this[this.l++]=a&255,this[this.l++]=a>>8}for(;this.l<o;)this[this.l++]=0;return this}else switch(n){case 1:r=1,this[this.l]=t&255;break;case 2:r=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:r=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:r=4,eZ(this,t,this.l);break;case 8:if(r=8,i==="f"){QQ(this,t,this.l);break}case 16:break;case-4:r=4,tZ(this,t,this.l);break}return this.l+=r,this}function N3(n,t){var i=T3(this,this.l,n.length>>1);if(i!==n)throw new Error(t+"Expected "+n+" saw "+i);this.l+=n.length>>1}function Zs(n,t){n.l=t,n.read_shift=Qf,n.chk=N3,n.write_shift=nZ}function Oo(n,t){n.l+=t}function yt(n){var t=ku(n);return Zs(t,0),t}function Ns(){var n=[],t=$r?256:2048,i=function(u){var p=yt(u);return Zs(p,0),p},r=i(t),s=function(){r&&(r.length>r.l&&(r=r.slice(0,r.l),r.l=r.length),r.length>0&&n.push(r),r=null)},o=function(u){return r&&u<r.length-r.l?r:(s(),r=i(Math.max(u+1,t)))},a=function(){return s(),qi(n)},c=function(u){s(),r=u,r.l==null&&(r.l=r.length),o(t)};return{next:o,push:c,end:a,_bufs:n}}function Rt(n,t,i,r){var s=+t,o;if(!isNaN(s)){r||(r=Kne[s].p||(i||[]).length||0),o=1+(s>=128?1:0)+1,r>=128&&++o,r>=16384&&++o,r>=2097152&&++o;var a=n.next(o);s<=127?a.write_shift(1,s):(a.write_shift(1,(s&127)+128),a.write_shift(1,s>>7));for(var c=0;c!=4;++c)if(r>=128)a.write_shift(1,(r&127)+128),r>>=7;else{a.write_shift(1,r);break}r>0&&Gw(i)&&n.push(i)}}function Zf(n,t,i){var r=Bs(n);if(t.s?(r.cRel&&(r.c+=t.s.c),r.rRel&&(r.r+=t.s.r)):(r.cRel&&(r.c+=t.c),r.rRel&&(r.r+=t.r)),!i||i.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function Nj(n,t,i){var r=Bs(n);return r.s=Zf(r.s,t.s,i),r.e=Zf(r.e,t.s,i),r}function Jf(n,t){if(n.cRel&&n.c<0)for(n=Bs(n);n.c<0;)n.c+=t>8?16384:256;if(n.rRel&&n.r<0)for(n=Bs(n);n.r<0;)n.r+=t>8?1048576:t>5?65536:16384;var i=an(n);return!n.cRel&&n.cRel!=null&&(i=aZ(i)),!n.rRel&&n.rRel!=null&&(i=iZ(i)),i}function b_(n,t){return n.s.r==0&&!n.s.rRel&&n.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!n.e.rRel?(n.s.cRel?"":"$")+cs(n.s.c)+":"+(n.e.cRel?"":"$")+cs(n.e.c):n.s.c==0&&!n.s.cRel&&n.e.c==(t.biff>=12?16383:255)&&!n.e.cRel?(n.s.rRel?"":"$")+Xi(n.s.r)+":"+(n.e.rRel?"":"$")+Xi(n.e.r):Jf(n.s,t.biff)+":"+Jf(n.e,t.biff)}function zw(n){return parseInt(sZ(n),10)-1}function Xi(n){return""+(n+1)}function iZ(n){return n.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function sZ(n){return n.replace(/\$(\d+)$/,"$1")}function Hw(n){for(var t=oZ(n),i=0,r=0;r!==t.length;++r)i=26*i+t.charCodeAt(r)-64;return i-1}function cs(n){if(n<0)throw new Error("invalid column "+n);var t="";for(++n;n;n=Math.floor((n-1)/26))t=String.fromCharCode((n-1)%26+65)+t;return t}function aZ(n){return n.replace(/^([A-Z])/,"$$$1")}function oZ(n){return n.replace(/^\$([A-Z])/,"$1")}function lZ(n){return n.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function ki(n){for(var t=0,i=0,r=0;r<n.length;++r){var s=n.charCodeAt(r);s>=48&&s<=57?t=10*t+(s-48):s>=65&&s<=90&&(i=26*i+(s-64))}return{c:i-1,r:t-1}}function an(n){for(var t=n.c+1,i="";t;t=(t-1)/26|0)i=String.fromCharCode((t-1)%26+65)+i;return i+(n.r+1)}function aa(n){var t=n.indexOf(":");return t==-1?{s:ki(n),e:ki(n)}:{s:ki(n.slice(0,t)),e:ki(n.slice(t+1))}}function hi(n,t){return typeof t>"u"||typeof t=="number"?hi(n.s,n.e):(typeof n!="string"&&(n=an(n)),typeof t!="string"&&(t=an(t)),n==t?n:n+":"+t)}function An(n){var t={s:{c:0,r:0},e:{c:0,r:0}},i=0,r=0,s=0,o=n.length;for(i=0;r<o&&!((s=n.charCodeAt(r)-64)<1||s>26);++r)i=26*i+s;for(t.s.c=--i,i=0;r<o&&!((s=n.charCodeAt(r)-48)<0||s>9);++r)i=10*i+s;if(t.s.r=--i,r===o||s!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++r,i=0;r!=o&&!((s=n.charCodeAt(r)-64)<1||s>26);++r)i=26*i+s;for(t.e.c=--i,i=0;r!=o&&!((s=n.charCodeAt(r)-48)<0||s>9);++r)i=10*i+s;return t.e.r=--i,t}function Lj(n,t){var i=n.t=="d"&&t instanceof Date;if(n.z!=null)try{return n.w=Sc(n.z,i?Us(t):t)}catch{}try{return n.w=Sc((n.XF||{}).numFmtId||(i?14:0),i?Us(t):t)}catch{return""+t}}function Rl(n,t,i){return n==null||n.t==null||n.t=="z"?"":n.w!==void 0?n.w:(n.t=="d"&&!n.z&&i&&i.dateNF&&(n.z=i.dateNF),n.t=="e"?tm[n.v]||n.v:t==null?Lj(n,n.v):Lj(n,t))}function Wu(n,t){var i=t&&t.sheet?t.sheet:"Sheet1",r={};return r[i]=n,{SheetNames:[i],Sheets:r}}function L3(n,t,i){var r=i||{},s=n?Array.isArray(n):r.dense,o=n||(s?[]:{}),a=0,c=0;if(o&&r.origin!=null){if(typeof r.origin=="number")a=r.origin;else{var l=typeof r.origin=="string"?ki(r.origin):r.origin;a=l.r,c=l.c}o["!ref"]||(o["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(o["!ref"]){var p=An(o["!ref"]);u.s.c=p.s.c,u.s.r=p.s.r,u.e.c=Math.max(u.e.c,p.e.c),u.e.r=Math.max(u.e.r,p.e.r),a==-1&&(u.e.r=a=p.e.r+1)}for(var y=0;y!=t.length;++y)if(t[y]){if(!Array.isArray(t[y]))throw new Error("aoa_to_sheet expects an array of arrays");for(var d=0;d!=t[y].length;++d)if(!(typeof t[y][d]>"u")){var f={v:t[y][d]},b=a+y,g=c+d;if(u.s.r>b&&(u.s.r=b),u.s.c>g&&(u.s.c=g),u.e.r<b&&(u.e.r=b),u.e.c<g&&(u.e.c=g),t[y][d]&&typeof t[y][d]=="object"&&!Array.isArray(t[y][d])&&!(t[y][d]instanceof Date))f=t[y][d];else if(Array.isArray(f.v)&&(f.f=t[y][d][1],f.v=f.v[0]),f.v===null)if(f.f)f.t="n";else if(r.nullError)f.t="e",f.v=0;else if(r.sheetStubs)f.t="z";else continue;else typeof f.v=="number"?f.t="n":typeof f.v=="boolean"?f.t="b":f.v instanceof Date?(f.z=r.dateNF||Vn[14],r.cellDates?(f.t="d",f.w=Sc(f.z,Us(f.v))):(f.t="n",f.v=Us(f.v),f.w=Sc(f.z,f.v))):f.t="s";if(s)o[b]||(o[b]=[]),o[b][g]&&o[b][g].z&&(f.z=o[b][g].z),o[b][g]=f;else{var v=an({c:g,r:b});o[v]&&o[v].z&&(f.z=o[v].z),o[v]=f}}}return u.s.c<1e7&&(o["!ref"]=hi(u)),o}function jd(n,t){return L3(null,n,t)}function cZ(n){return n.read_shift(4,"i")}function to(n,t){return t||(t=yt(4)),t.write_shift(4,n),t}function us(n){var t=n.read_shift(4);return t===0?"":n.read_shift(t,"dbcs")}function Mi(n,t){var i=!1;return t==null&&(i=!0,t=yt(4+2*n.length)),t.write_shift(4,n.length),n.length>0&&t.write_shift(0,n,"dbcs"),i?t.slice(0,t.l):t}function uZ(n){return{ich:n.read_shift(2),ifnt:n.read_shift(2)}}function hZ(n,t){return t||(t=yt(4)),t.write_shift(2,0),t.write_shift(2,0),t}function Ww(n,t){var i=n.l,r=n.read_shift(1),s=us(n),o=[],a={t:s,h:s};if(r&1){for(var c=n.read_shift(4),l=0;l!=c;++l)o.push(uZ(n));a.r=o}else a.r=[{ich:0,ifnt:0}];return n.l=i+t,a}function dZ(n,t){var i=!1;return t==null&&(i=!0,t=yt(15+4*n.t.length)),t.write_shift(1,0),Mi(n.t,t),i?t.slice(0,t.l):t}var fZ=Ww;function pZ(n,t){var i=!1;return t==null&&(i=!0,t=yt(23+4*n.t.length)),t.write_shift(1,1),Mi(n.t,t),t.write_shift(4,1),hZ({ich:0,ifnt:0},t),i?t.slice(0,t.l):t}function ka(n){var t=n.read_shift(4),i=n.read_shift(2);return i+=n.read_shift(1)<<16,n.l++,{c:t,iStyleRef:i}}function qu(n,t){return t==null&&(t=yt(8)),t.write_shift(-4,n.c),t.write_shift(3,n.iStyleRef||n.s),t.write_shift(1,0),t}function Yu(n){var t=n.read_shift(2);return t+=n.read_shift(1)<<16,n.l++,{c:-1,iStyleRef:t}}function $u(n,t){return t==null&&(t=yt(4)),t.write_shift(3,n.iStyleRef||n.s),t.write_shift(1,0),t}var mZ=us,F3=Mi;function qw(n){var t=n.read_shift(4);return t===0||t===4294967295?"":n.read_shift(t,"dbcs")}function Fg(n,t){var i=!1;return t==null&&(i=!0,t=yt(127)),t.write_shift(4,n.length>0?n.length:4294967295),n.length>0&&t.write_shift(0,n,"dbcs"),i?t.slice(0,t.l):t}var gZ=us,Ob=qw,Yw=Fg;function U3(n){var t=n.slice(n.l,n.l+4),i=t[0]&1,r=t[0]&2;n.l+=4;var s=r===0?Lg([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):cu(t,0)>>2;return i?s/100:s}function B3(n,t){t==null&&(t=yt(4));var i=0,r=0,s=n*100;if(n==(n|0)&&n>=-(1<<29)&&n<1<<29?r=1:s==(s|0)&&s>=-(1<<29)&&s<1<<29&&(r=1,i=1),r)t.write_shift(-4,((i?s:n)<<2)+(i+2));else throw new Error("unsupported RkNumber "+n)}function V3(n){var t={s:{},e:{}};return t.s.r=n.read_shift(4),t.e.r=n.read_shift(4),t.s.c=n.read_shift(4),t.e.c=n.read_shift(4),t}function yZ(n,t){return t||(t=yt(16)),t.write_shift(4,n.s.r),t.write_shift(4,n.e.r),t.write_shift(4,n.s.c),t.write_shift(4,n.e.c),t}var Xu=V3,Rd=yZ;function Od(n){if(n.length-n.l<8)throw"XLS Xnum Buffer underflow";return n.read_shift(8,"f")}function Mu(n,t){return(t||yt(8)).write_shift(8,n,"f")}function vZ(n){var t={},i=n.read_shift(1),r=i>>>1,s=n.read_shift(1),o=n.read_shift(2,"i"),a=n.read_shift(1),c=n.read_shift(1),l=n.read_shift(1);switch(n.l++,r){case 0:t.auto=1;break;case 1:t.index=s;var u=AZ[s];u&&(t.rgb=$j(u));break;case 2:t.rgb=$j([a,c,l]);break;case 3:t.theme=s;break}return o!=0&&(t.tint=o>0?o/32767:o/32768),t}function Ug(n,t){if(t||(t=yt(8)),!n||n.auto)return t.write_shift(4,0),t.write_shift(4,0),t;n.index!=null?(t.write_shift(1,2),t.write_shift(1,n.index)):n.theme!=null?(t.write_shift(1,6),t.write_shift(1,n.theme)):(t.write_shift(1,5),t.write_shift(1,0));var i=n.tint||0;if(i>0?i*=32767:i<0&&(i*=32768),t.write_shift(2,i),!n.rgb||n.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var r=n.rgb||"FFFFFF";typeof r=="number"&&(r=("000000"+r.toString(16)).slice(-6)),t.write_shift(1,parseInt(r.slice(0,2),16)),t.write_shift(1,parseInt(r.slice(2,4),16)),t.write_shift(1,parseInt(r.slice(4,6),16)),t.write_shift(1,255)}return t}function _Z(n){var t=n.read_shift(1);n.l++;var i={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return i}function bZ(n,t){t||(t=yt(2));var i=(n.italic?2:0)|(n.strike?8:0)|(n.outline?16:0)|(n.shadow?32:0)|(n.condense?64:0)|(n.extend?128:0);return t.write_shift(1,i),t.write_shift(1,0),t}var G3=2,Qs=3,E0=11,Bg=19,C0=64,xZ=65,wZ=71,SZ=4108,TZ=4126,Vi=80,Fj={1:{n:"CodePage",t:G3},2:{n:"Category",t:Vi},3:{n:"PresentationFormat",t:Vi},4:{n:"ByteCount",t:Qs},5:{n:"LineCount",t:Qs},6:{n:"ParagraphCount",t:Qs},7:{n:"SlideCount",t:Qs},8:{n:"NoteCount",t:Qs},9:{n:"HiddenCount",t:Qs},10:{n:"MultimediaClipCount",t:Qs},11:{n:"ScaleCrop",t:E0},12:{n:"HeadingPairs",t:SZ},13:{n:"TitlesOfParts",t:TZ},14:{n:"Manager",t:Vi},15:{n:"Company",t:Vi},16:{n:"LinksUpToDate",t:E0},17:{n:"CharacterCount",t:Qs},19:{n:"SharedDoc",t:E0},22:{n:"HyperlinksChanged",t:E0},23:{n:"AppVersion",t:Qs,p:"version"},24:{n:"DigSig",t:xZ},26:{n:"ContentType",t:Vi},27:{n:"ContentStatus",t:Vi},28:{n:"Language",t:Vi},29:{n:"Version",t:Vi},255:{},2147483648:{n:"Locale",t:Bg},2147483651:{n:"Behavior",t:Bg},1919054434:{}},Uj={1:{n:"CodePage",t:G3},2:{n:"Title",t:Vi},3:{n:"Subject",t:Vi},4:{n:"Author",t:Vi},5:{n:"Keywords",t:Vi},6:{n:"Comments",t:Vi},7:{n:"Template",t:Vi},8:{n:"LastAuthor",t:Vi},9:{n:"RevNumber",t:Vi},10:{n:"EditTime",t:C0},11:{n:"LastPrinted",t:C0},12:{n:"CreatedDate",t:C0},13:{n:"ModifiedDate",t:C0},14:{n:"PageCount",t:Qs},15:{n:"WordCount",t:Qs},16:{n:"CharCount",t:Qs},17:{n:"Thumbnail",t:wZ},18:{n:"Application",t:Vi},19:{n:"DocSecurity",t:Qs},255:{},2147483648:{n:"Locale",t:Bg},2147483651:{n:"Behavior",t:Bg},1919054434:{}};function EZ(n){return n.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var CZ=EZ([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),AZ=Bs(CZ),tm={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},jZ={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},A0={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function z3(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function H3(n,t){var i=FQ(jZ),r=[],s;r[r.length]=pi,r[r.length]=Nt("Types",null,{xmlns:Ii.CT,"xmlns:xsd":Ii.xsd,"xmlns:xsi":Ii.xsi}),r=r.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(l){return Nt("Default",null,{Extension:l[0],ContentType:l[1]})}));var o=function(l){n[l]&&n[l].length>0&&(s=n[l][0],r[r.length]=Nt("Override",null,{PartName:(s[0]=="/"?"":"/")+s,ContentType:A0[l][t.bookType]||A0[l].xlsx}))},a=function(l){(n[l]||[]).forEach(function(u){r[r.length]=Nt("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:A0[l][t.bookType]||A0[l].xlsx})})},c=function(l){(n[l]||[]).forEach(function(u){r[r.length]=Nt("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:i[l][0]})})};return o("workbooks"),a("sheets"),a("charts"),c("themes"),["strs","styles"].forEach(o),["coreprops","extprops","custprops"].forEach(c),c("vba"),c("comments"),c("threadedcomments"),c("drawings"),a("metadata"),c("people"),r.length>2&&(r[r.length]="</Types>",r[1]=r[1].replace("/>",">")),r.join("")}var Gr={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function W3(n){var t=n.lastIndexOf("/");return n.slice(0,t+1)+"_rels/"+n.slice(t+1)+".rels"}function Qh(n){var t=[pi,Nt("Relationships",null,{xmlns:Ii.RELS})];return Qi(n["!id"]).forEach(function(i){t[t.length]=Nt("Relationship",null,n["!id"][i])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function rn(n,t,i,r,s,o){if(s||(s={}),n["!id"]||(n["!id"]={}),n["!idx"]||(n["!idx"]=1),t<0)for(t=n["!idx"];n["!id"]["rId"+t];++t);if(n["!idx"]=t+1,s.Id="rId"+t,s.Type=r,s.Target=i,[Gr.HLINK,Gr.XPATH,Gr.XMISS].indexOf(s.Type)>-1&&(s.TargetMode="External"),n["!id"][s.Id])throw new Error("Cannot rewrite rId "+t);return n["!id"][s.Id]=s,n[("/"+s.Target).replace("//","/")]=s,t}function RZ(n){var t=[pi];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var i=0;i<n.length;++i)t.push('  <manifest:file-entry manifest:full-path="'+n[i][0]+'" manifest:media-type="'+n[i][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function Bj(n,t,i){return['  <rdf:Description rdf:about="'+n+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(i||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function OZ(n,t){return['  <rdf:Description rdf:about="'+n+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function IZ(n){var t=[pi];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var i=0;i!=n.length;++i)t.push(Bj(n[i][0],n[i][1])),t.push(OZ("",n[i][0]));return t.push(Bj("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function q3(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+kg.version+"</meta:generator></office:meta></office:document-meta>"}var bu=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function x_(n,t,i,r,s){s[n]!=null||t==null||t===""||(s[n]=t,t=nn(t),r[r.length]=i?Nt(n,t,i):Yi(n,t))}function Y3(n,t){var i=t||{},r=[pi,Nt("cp:coreProperties",null,{"xmlns:cp":Ii.CORE_PROPS,"xmlns:dc":Ii.dc,"xmlns:dcterms":Ii.dcterms,"xmlns:dcmitype":Ii.dcmitype,"xmlns:xsi":Ii.xsi})],s={};if(!n&&!i.Props)return r.join("");n&&(n.CreatedDate!=null&&x_("dcterms:created",typeof n.CreatedDate=="string"?n.CreatedDate:Rb(n.CreatedDate,i.WTF),{"xsi:type":"dcterms:W3CDTF"},r,s),n.ModifiedDate!=null&&x_("dcterms:modified",typeof n.ModifiedDate=="string"?n.ModifiedDate:Rb(n.ModifiedDate,i.WTF),{"xsi:type":"dcterms:W3CDTF"},r,s));for(var o=0;o!=bu.length;++o){var a=bu[o],c=i.Props&&i.Props[a[1]]!=null?i.Props[a[1]]:n?n[a[1]]:null;c===!0?c="1":c===!1?c="0":typeof c=="number"&&(c=String(c)),c!=null&&x_(a[0],c,null,r,s)}return r.length>2&&(r[r.length]="</cp:coreProperties>",r[1]=r[1].replace("/>",">")),r.join("")}var Zh=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],$3=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function X3(n){var t=[],i=Nt;return n||(n={}),n.Application="SheetJS",t[t.length]=pi,t[t.length]=Nt("Properties",null,{xmlns:Ii.EXT_PROPS,"xmlns:vt":Ii.vt}),Zh.forEach(function(r){if(n[r[1]]!==void 0){var s;switch(r[2]){case"string":s=nn(String(n[r[1]]));break;case"bool":s=n[r[1]]?"true":"false";break}s!==void 0&&(t[t.length]=i(r[0],s))}}),t[t.length]=i("HeadingPairs",i("vt:vector",i("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+i("vt:variant",i("vt:i4",String(n.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=i("TitlesOfParts",i("vt:vector",n.SheetNames.map(function(r){return"<vt:lpstr>"+nn(r)+"</vt:lpstr>"}).join(""),{size:n.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}function K3(n){var t=[pi,Nt("Properties",null,{xmlns:Ii.CUST_PROPS,"xmlns:vt":Ii.vt})];if(!n)return t.join("");var i=1;return Qi(n).forEach(function(s){++i,t[t.length]=Nt("property",XQ(n[s]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:i,name:nn(s)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var Vj={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function kZ(n,t){var i=[];return Qi(Vj).map(function(r){for(var s=0;s<bu.length;++s)if(bu[s][1]==r)return bu[s];for(s=0;s<Zh.length;++s)if(Zh[s][1]==r)return Zh[s];throw r}).forEach(function(r){if(n[r[1]]!=null){var s=t&&t.Props&&t.Props[r[1]]!=null?t.Props[r[1]]:n[r[1]];switch(r[2]){case"date":s=new Date(s).toISOString().replace(/\.\d*Z/,"Z");break}typeof s=="number"?s=String(s):s===!0||s===!1?s=s?"1":"0":s instanceof Date&&(s=new Date(s).toISOString().replace(/\.\d*Z/,"")),i.push(Yi(Vj[r[1]]||r[1],s))}}),Nt("DocumentProperties",i.join(""),{xmlns:Js.o})}function MZ(n,t){var i=["Worksheets","SheetNames"],r="CustomDocumentProperties",s=[];return n&&Qi(n).forEach(function(o){if(Object.prototype.hasOwnProperty.call(n,o)){for(var a=0;a<bu.length;++a)if(o==bu[a][1])return;for(a=0;a<Zh.length;++a)if(o==Zh[a][1])return;for(a=0;a<i.length;++a)if(o==i[a])return;var c=n[o],l="string";typeof c=="number"?(l="float",c=String(c)):c===!0||c===!1?(l="boolean",c=c?"1":"0"):c=String(c),s.push(Nt(jj(o),c,{"dt:dt":l}))}}),t&&Qi(t).forEach(function(o){if(Object.prototype.hasOwnProperty.call(t,o)&&!(n&&Object.prototype.hasOwnProperty.call(n,o))){var a=t[o],c="string";typeof a=="number"?(c="float",a=String(a)):a===!0||a===!1?(c="boolean",a=a?"1":"0"):a instanceof Date?(c="dateTime.tz",a=a.toISOString()):a=String(a),s.push(Nt(jj(o),a,{"dt:dt":c}))}}),"<"+r+' xmlns="'+Js.o+'">'+s.join("")+"</"+r+">"}function PZ(n){var t=typeof n=="string"?new Date(Date.parse(n)):n,i=t.getTime()/1e3+11644473600,r=i%Math.pow(2,32),s=(i-r)/Math.pow(2,32);r*=1e7,s*=1e7;var o=r/Math.pow(2,32)|0;o>0&&(r=r%Math.pow(2,32),s+=o);var a=yt(8);return a.write_shift(4,r),a.write_shift(4,s),a}function Gj(n,t){var i=yt(4),r=yt(4);switch(i.write_shift(4,n==80?31:n),n){case 3:r.write_shift(-4,t);break;case 5:r=yt(8),r.write_shift(8,t,"f");break;case 11:r.write_shift(4,t?1:0);break;case 64:r=PZ(t);break;case 31:case 80:for(r=yt(4+2*(t.length+1)+(t.length%2?0:2)),r.write_shift(4,t.length+1),r.write_shift(0,t,"dbcs");r.l!=r.length;)r.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+n+" "+t)}return qi([i,r])}var Q3=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function DZ(n){switch(typeof n){case"boolean":return 11;case"number":return(n|0)==n?3:5;case"string":return 31;case"object":if(n instanceof Date)return 64;break}return-1}function zj(n,t,i){var r=yt(8),s=[],o=[],a=8,c=0,l=yt(8),u=yt(8);if(l.write_shift(4,2),l.write_shift(4,1200),u.write_shift(4,1),o.push(l),s.push(u),a+=8+l.length,!t){u=yt(8),u.write_shift(4,0),s.unshift(u);var p=[yt(4)];for(p[0].write_shift(4,n.length),c=0;c<n.length;++c){var y=n[c][0];for(l=yt(8+2*(y.length+1)+(y.length%2?0:2)),l.write_shift(4,c+2),l.write_shift(4,y.length+1),l.write_shift(0,y,"dbcs");l.l!=l.length;)l.write_shift(1,0);p.push(l)}l=qi(p),o.unshift(l),a+=8+l.length}for(c=0;c<n.length;++c)if(!(t&&!t[n[c][0]])&&!(Q3.indexOf(n[c][0])>-1||$3.indexOf(n[c][0])>-1)&&n[c][1]!=null){var d=n[c][1],f=0;if(t){f=+t[n[c][0]];var b=i[f];if(b.p=="version"&&typeof d=="string"){var g=d.split(".");d=(+g[0]<<16)+(+g[1]||0)}l=Gj(b.t,d)}else{var v=DZ(d);v==-1&&(v=31,d=String(d)),l=Gj(v,d)}o.push(l),u=yt(8),u.write_shift(4,t?f:2+c),s.push(u),a+=8+l.length}var _=8*(o.length+1);for(c=0;c<o.length;++c)s[c].write_shift(4,_),_+=o[c].length;return r.write_shift(4,a),r.write_shift(4,o.length),qi([r].concat(s).concat(o))}function Hj(n,t,i,r,s,o){var a=yt(s?68:48),c=[a];a.write_shift(2,65534),a.write_shift(2,0),a.write_shift(4,842412599),a.write_shift(16,dn.utils.consts.HEADER_CLSID,"hex"),a.write_shift(4,s?2:1),a.write_shift(16,t,"hex"),a.write_shift(4,s?68:48);var l=zj(n,i,r);if(c.push(l),s){var u=zj(s,null,null);a.write_shift(16,o,"hex"),a.write_shift(4,68+l.length),c.push(u)}return qi(c)}function NZ(n,t){t||(t=yt(n));for(var i=0;i<n;++i)t.write_shift(1,0);return t}function LZ(n,t){return n.read_shift(t)===1}function _s(n,t){return t||(t=yt(2)),t.write_shift(2,+!!n),t}function Z3(n){return n.read_shift(2,"u")}function Ta(n,t){return t||(t=yt(2)),t.write_shift(2,n),t}function J3(n,t,i){return i||(i=yt(2)),i.write_shift(1,t=="e"?+n:+!!n),i.write_shift(1,t=="e"?1:0),i}function eP(n,t,i){var r=n.read_shift(i&&i.biff>=12?2:1),s="sbcs-cont";if(i&&i.biff>=8,!i||i.biff==8){var o=n.read_shift(1);o&&(s="dbcs-cont")}else i.biff==12&&(s="wstr");i.biff>=2&&i.biff<=5&&(s="cpstr");var a=r?n.read_shift(r,s):"";return a}function FZ(n){var t=n.t||"",i=yt(3);i.write_shift(2,t.length),i.write_shift(1,1);var r=yt(2*t.length);r.write_shift(2*t.length,t,"utf16le");var s=[i,r];return qi(s)}function UZ(n,t,i){var r;if(i){if(i.biff>=2&&i.biff<=5)return n.read_shift(t,"cpstr");if(i.biff>=12)return n.read_shift(t,"dbcs-cont")}var s=n.read_shift(1);return s===0?r=n.read_shift(t,"sbcs-cont"):r=n.read_shift(t,"dbcs-cont"),r}function BZ(n,t,i){var r=n.read_shift(i&&i.biff==2?1:2);return r===0?(n.l++,""):UZ(n,r,i)}function VZ(n,t,i){if(i.biff>5)return BZ(n,t,i);var r=n.read_shift(1);return r===0?(n.l++,""):n.read_shift(r,i.biff<=4||!n.lens?"cpstr":"sbcs-cont")}function tP(n,t,i){return i||(i=yt(3+2*n.length)),i.write_shift(2,n.length),i.write_shift(1,1),i.write_shift(31,n,"utf16le"),i}function Wj(n,t){t||(t=yt(6+n.length*2)),t.write_shift(4,1+n.length);for(var i=0;i<n.length;++i)t.write_shift(2,n.charCodeAt(i));return t.write_shift(2,0),t}function GZ(n){var t=yt(512),i=0,r=n.Target;r.slice(0,7)=="file://"&&(r=r.slice(7));var s=r.indexOf("#"),o=s>-1?31:23;switch(r.charAt(0)){case"#":o=28;break;case".":o&=-3;break}t.write_shift(4,2),t.write_shift(4,o);var a=[8,6815827,6619237,4849780,83];for(i=0;i<a.length;++i)t.write_shift(4,a[i]);if(o==28)r=r.slice(1),Wj(r,t);else if(o&2){for(a="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<a.length;++i)t.write_shift(1,parseInt(a[i],16));var c=s>-1?r.slice(0,s):r;for(t.write_shift(4,2*(c.length+1)),i=0;i<c.length;++i)t.write_shift(2,c.charCodeAt(i));t.write_shift(2,0),o&8&&Wj(s>-1?r.slice(s+1):"",t)}else{for(a="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),i=0;i<a.length;++i)t.write_shift(1,parseInt(a[i],16));for(var l=0;r.slice(l*3,l*3+3)=="../"||r.slice(l*3,l*3+3)=="..\\";)++l;for(t.write_shift(2,l),t.write_shift(4,r.length-3*l+1),i=0;i<r.length-3*l;++i)t.write_shift(1,r.charCodeAt(i+3*l)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),i=0;i<6;++i)t.write_shift(4,0)}return t.slice(0,t.l)}function Pu(n,t,i,r){return r||(r=yt(6)),r.write_shift(2,n),r.write_shift(2,t),r.write_shift(2,i||0),r}function zZ(n,t,i){var r=i.biff>8?4:2,s=n.read_shift(r),o=n.read_shift(r,"i"),a=n.read_shift(r,"i");return[s,o,a]}function HZ(n){var t=n.read_shift(2),i=n.read_shift(2),r=n.read_shift(2),s=n.read_shift(2);return{s:{c:r,r:t},e:{c:s,r:i}}}function rP(n,t){return t||(t=yt(8)),t.write_shift(2,n.s.r),t.write_shift(2,n.e.r),t.write_shift(2,n.s.c),t.write_shift(2,n.e.c),t}function $w(n,t,i){var r=1536,s=16;switch(i.bookType){case"biff8":break;case"biff5":r=1280,s=8;break;case"biff4":r=4,s=6;break;case"biff3":r=3,s=6;break;case"biff2":r=2,s=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var o=yt(s);return o.write_shift(2,r),o.write_shift(2,t),s>4&&o.write_shift(2,29282),s>6&&o.write_shift(2,1997),s>8&&(o.write_shift(2,49161),o.write_shift(2,1),o.write_shift(2,1798),o.write_shift(2,0)),o}function WZ(n,t){var i=!t||t.biff==8,r=yt(i?112:54);for(r.write_shift(t.biff==8?2:1,7),i&&r.write_shift(1,0),r.write_shift(4,859007059),r.write_shift(4,5458548|(i?0:536870912));r.l<r.length;)r.write_shift(1,i?0:32);return r}function qZ(n,t){var i=!t||t.biff>=8?2:1,r=yt(8+i*n.name.length);r.write_shift(4,n.pos),r.write_shift(1,n.hs||0),r.write_shift(1,n.dt),r.write_shift(1,n.name.length),t.biff>=8&&r.write_shift(1,1),r.write_shift(i*n.name.length,n.name,t.biff<8?"sbcs":"utf16le");var s=r.slice(0,r.l);return s.l=r.l,s}function YZ(n,t){var i=yt(8);i.write_shift(4,n.Count),i.write_shift(4,n.Unique);for(var r=[],s=0;s<n.length;++s)r[s]=FZ(n[s]);var o=qi([i].concat(r));return o.parts=[i.length].concat(r.map(function(a){return a.length})),o}function $Z(){var n=yt(18);return n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,29280),n.write_shift(2,17600),n.write_shift(2,56),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,1),n.write_shift(2,500),n}function XZ(n){var t=yt(18),i=1718;return n&&n.RTL&&(i|=64),t.write_shift(2,i),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function KZ(n,t){var i=n.name||"Arial",r=t&&t.biff==5,s=r?15+i.length:16+2*i.length,o=yt(s);return o.write_shift(2,(n.sz||12)*20),o.write_shift(4,0),o.write_shift(2,400),o.write_shift(4,0),o.write_shift(2,0),o.write_shift(1,i.length),r||o.write_shift(1,1),o.write_shift((r?1:2)*i.length,i,r?"sbcs":"utf16le"),o}function QZ(n,t,i,r){var s=yt(10);return Pu(n,t,r,s),s.write_shift(4,i),s}function ZZ(n,t,i,r,s){var o=!s||s.biff==8,a=yt(8+ +o+(1+o)*i.length);return Pu(n,t,r,a),a.write_shift(2,i.length),o&&a.write_shift(1,1),a.write_shift((1+o)*i.length,i,o?"utf16le":"sbcs"),a}function JZ(n,t,i,r){var s=i&&i.biff==5;r||(r=yt(s?3+t.length:5+2*t.length)),r.write_shift(2,n),r.write_shift(s?1:2,t.length),s||r.write_shift(1,1),r.write_shift((s?1:2)*t.length,t,s?"sbcs":"utf16le");var o=r.length>r.l?r.slice(0,r.l):r;return o.l==null&&(o.l=o.length),o}function eJ(n,t){var i=t.biff==8||!t.biff?4:2,r=yt(2*i+6);return r.write_shift(i,n.s.r),r.write_shift(i,n.e.r+1),r.write_shift(2,n.s.c),r.write_shift(2,n.e.c+1),r.write_shift(2,0),r}function qj(n,t,i,r){var s=i&&i.biff==5;r||(r=yt(s?16:20)),r.write_shift(2,0),n.style?(r.write_shift(2,n.numFmtId||0),r.write_shift(2,65524)):(r.write_shift(2,n.numFmtId||0),r.write_shift(2,t<<4));var o=0;return n.numFmtId>0&&s&&(o|=1024),r.write_shift(4,o),r.write_shift(4,0),s||r.write_shift(4,0),r.write_shift(2,0),r}function tJ(n){var t=yt(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function rJ(n,t,i,r,s,o){var a=yt(8);return Pu(n,t,r,a),J3(i,o,a),a}function nJ(n,t,i,r){var s=yt(14);return Pu(n,t,r,s),Mu(i,s),s}function iJ(n,t,i){if(i.biff<8)return sJ(n,t,i);for(var r=[],s=n.l+t,o=n.read_shift(i.biff>8?4:2);o--!==0;)r.push(zZ(n,i.biff>8?12:6,i));if(n.l!=s)throw new Error("Bad ExternSheet: "+n.l+" != "+s);return r}function sJ(n,t,i){n[n.l+1]==3&&n[n.l]++;var r=eP(n,t,i);return r.charCodeAt(0)==3?r.slice(1):r}function aJ(n){var t=yt(2+n.length*8);t.write_shift(2,n.length);for(var i=0;i<n.length;++i)rP(n[i],t);return t}function oJ(n){var t=yt(24),i=ki(n[0]);t.write_shift(2,i.r),t.write_shift(2,i.r),t.write_shift(2,i.c),t.write_shift(2,i.c);for(var r="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),s=0;s<16;++s)t.write_shift(1,parseInt(r[s],16));return qi([t,GZ(n[1])])}function lJ(n){var t=n[1].Tooltip,i=yt(10+2*(t.length+1));i.write_shift(2,2048);var r=ki(n[0]);i.write_shift(2,r.r),i.write_shift(2,r.r),i.write_shift(2,r.c),i.write_shift(2,r.c);for(var s=0;s<t.length;++s)i.write_shift(2,t.charCodeAt(s));return i.write_shift(2,0),i}function cJ(n){return n||(n=yt(4)),n.write_shift(2,1),n.write_shift(2,1),n}function uJ(n,t,i){if(!i.cellStyles)return Oo(n,t);var r=i&&i.biff>=12?4:2,s=n.read_shift(r),o=n.read_shift(r),a=n.read_shift(r),c=n.read_shift(r),l=n.read_shift(2);r==2&&(n.l+=2);var u={s,e:o,w:a,ixfe:c,flags:l};return(i.biff>=5||!i.biff)&&(u.level=l>>8&7),u}function hJ(n,t){var i=yt(12);i.write_shift(2,t),i.write_shift(2,t),i.write_shift(2,n.width*256),i.write_shift(2,0);var r=0;return n.hidden&&(r|=1),i.write_shift(1,r),r=n.level||0,i.write_shift(1,r),i.write_shift(2,0),i}function dJ(n){for(var t=yt(2*n),i=0;i<n;++i)t.write_shift(2,i+1);return t}function fJ(n,t,i){var r=yt(15);return nm(r,n,t),r.write_shift(8,i,"f"),r}function pJ(n,t,i){var r=yt(9);return nm(r,n,t),r.write_shift(2,i),r}var mJ=function(){var n={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=Lw({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function i(c,l){var u=[],p=ku(1);switch(l.type){case"base64":p=Xa(jl(c));break;case"binary":p=Xa(c);break;case"buffer":case"array":p=c;break}Zs(p,0);var y=p.read_shift(1),d=!!(y&136),f=!1,b=!1;switch(y){case 2:break;case 3:break;case 48:f=!0,d=!0;break;case 49:f=!0,d=!0;break;case 131:break;case 139:break;case 140:b=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+y.toString(16))}var g=0,v=521;y==2&&(g=p.read_shift(2)),p.l+=3,y!=2&&(g=p.read_shift(4)),g>1048576&&(g=1e6),y!=2&&(v=p.read_shift(2));var _=p.read_shift(2),x=l.codepage||1252;y!=2&&(p.l+=16,p.read_shift(1),p[p.l]!==0&&(x=n[p[p.l]]),p.l+=1,p.l+=2),b&&(p.l+=36);for(var w=[],S={},R=Math.min(p.length,y==2?521:v-10-(f?264:0)),D=b?32:11;p.l<R&&p[p.l]!=13;)switch(S={},S.name=lu.utils.decode(x,p.slice(p.l,p.l+D)).replace(/[\u0000\r\n].*$/g,""),p.l+=D,S.type=String.fromCharCode(p.read_shift(1)),y!=2&&!b&&(S.offset=p.read_shift(4)),S.len=p.read_shift(1),y==2&&(S.offset=p.read_shift(2)),S.dec=p.read_shift(1),S.name.length&&w.push(S),y!=2&&(p.l+=b?13:14),S.type){case"B":(!f||S.len!=8)&&l.WTF&&console.log("Skipping "+S.name+":"+S.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+S.name+":"+S.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+S.type)}if(p[p.l]!==13&&(p.l=v-1),p.read_shift(1)!==13)throw new Error("DBF Terminator not found "+p.l+" "+p[p.l]);p.l=v;var A=0,C=0;for(u[0]=[],C=0;C!=w.length;++C)u[0][C]=w[C].name;for(;g-- >0;){if(p[p.l]===42){p.l+=_;continue}for(++p.l,u[++A]=[],C=0,C=0;C!=w.length;++C){var j=p.slice(p.l,p.l+w[C].len);p.l+=w[C].len,Zs(j,0);var P=lu.utils.decode(x,j);switch(w[C].type){case"C":P.trim().length&&(u[A][C]=P.replace(/\s+$/,""));break;case"D":P.length===8?u[A][C]=new Date(+P.slice(0,4),+P.slice(4,6)-1,+P.slice(6,8)):u[A][C]=P;break;case"F":u[A][C]=parseFloat(P.trim());break;case"+":case"I":u[A][C]=b?j.read_shift(-4,"i")^2147483648:j.read_shift(4,"i");break;case"L":switch(P.trim().toUpperCase()){case"Y":case"T":u[A][C]=!0;break;case"N":case"F":u[A][C]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+P+"|")}break;case"M":if(!d)throw new Error("DBF Unexpected MEMO for type "+y.toString(16));u[A][C]="##MEMO##"+(b?parseInt(P.trim(),10):j.read_shift(4));break;case"N":P=P.replace(/\u0000/g,"").trim(),P&&P!="."&&(u[A][C]=+P||0);break;case"@":u[A][C]=new Date(j.read_shift(-8,"f")-621356832e5);break;case"T":u[A][C]=new Date((j.read_shift(4)-2440588)*864e5+j.read_shift(4));break;case"Y":u[A][C]=j.read_shift(4,"i")/1e4+j.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[A][C]=-j.read_shift(-8,"f");break;case"B":if(f&&w[C].len==8){u[A][C]=j.read_shift(8,"f");break}case"G":case"P":j.l+=w[C].len;break;case"0":if(w[C].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+w[C].type)}}}if(y!=2&&p.l<p.length&&p[p.l++]!=26)throw new Error("DBF EOF Marker missing "+(p.l-1)+" of "+p.length+" "+p[p.l-1].toString(16));return l&&l.sheetRows&&(u=u.slice(0,l.sheetRows)),l.DBF=w,u}function r(c,l){var u=l||{};u.dateNF||(u.dateNF="yyyymmdd");var p=jd(i(c,u),u);return p["!cols"]=u.DBF.map(function(y){return{wch:y.len,DBF:y}}),delete u.DBF,p}function s(c,l){try{return Wu(r(c,l),l)}catch(u){if(l&&l.WTF)throw u}return{SheetNames:[],Sheets:{}}}var o={B:8,C:250,L:1,D:8,"?":0,"":0};function a(c,l){var u=l||{};if(+u.codepage>=0&&xp(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var p=Ns(),y=Wg(c,{header:1,raw:!0,cellDates:!0}),d=y[0],f=y.slice(1),b=c["!cols"]||[],g=0,v=0,_=0,x=1;for(g=0;g<d.length;++g){if(((b[g]||{}).DBF||{}).name){d[g]=b[g].DBF.name,++_;continue}if(d[g]!=null){if(++_,typeof d[g]=="number"&&(d[g]=d[g].toString(10)),typeof d[g]!="string")throw new Error("DBF Invalid column name "+d[g]+" |"+typeof d[g]+"|");if(d.indexOf(d[g])!==g){for(v=0;v<1024;++v)if(d.indexOf(d[g]+"_"+v)==-1){d[g]+="_"+v;break}}}}var w=An(c["!ref"]),S=[],R=[],D=[];for(g=0;g<=w.e.c-w.s.c;++g){var A="",C="",j=0,P=[];for(v=0;v<f.length;++v)f[v][g]!=null&&P.push(f[v][g]);if(P.length==0||d[g]==null){S[g]="?";continue}for(v=0;v<P.length;++v){switch(typeof P[v]){case"number":C="B";break;case"string":C="C";break;case"boolean":C="L";break;case"object":C=P[v]instanceof Date?"D":"C";break;default:C="C"}j=Math.max(j,String(P[v]).length),A=A&&A!=C?"C":C}j>250&&(j=250),C=((b[g]||{}).DBF||{}).type,C=="C"&&b[g].DBF.len>j&&(j=b[g].DBF.len),A=="B"&&C=="N"&&(A="N",D[g]=b[g].DBF.dec,j=b[g].DBF.len),R[g]=A=="C"||C=="N"?j:o[A]||0,x+=R[g],S[g]=A}var O=p.next(32);for(O.write_shift(4,318902576),O.write_shift(4,f.length),O.write_shift(2,296+32*_),O.write_shift(2,x),g=0;g<4;++g)O.write_shift(4,0);for(O.write_shift(4,0|(+t[i3]||3)<<8),g=0,v=0;g<d.length;++g)if(d[g]!=null){var L=p.next(32),N=(d[g].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);L.write_shift(1,N,"sbcs"),L.write_shift(1,S[g]=="?"?"C":S[g],"sbcs"),L.write_shift(4,v),L.write_shift(1,R[g]||o[S[g]]||0),L.write_shift(1,D[g]||0),L.write_shift(1,2),L.write_shift(4,0),L.write_shift(1,0),L.write_shift(4,0),L.write_shift(4,0),v+=R[g]||o[S[g]]||0}var q=p.next(264);for(q.write_shift(4,13),g=0;g<65;++g)q.write_shift(4,0);for(g=0;g<f.length;++g){var W=p.next(x);for(W.write_shift(1,0),v=0;v<d.length;++v)if(d[v]!=null)switch(S[v]){case"L":W.write_shift(1,f[g][v]==null?63:f[g][v]?84:70);break;case"B":W.write_shift(8,f[g][v]||0,"f");break;case"N":var Y="0";for(typeof f[g][v]=="number"&&(Y=f[g][v].toFixed(D[v]||0)),_=0;_<R[v]-Y.length;++_)W.write_shift(1,32);W.write_shift(1,Y,"sbcs");break;case"D":f[g][v]?(W.write_shift(4,("0000"+f[g][v].getFullYear()).slice(-4),"sbcs"),W.write_shift(2,("00"+(f[g][v].getMonth()+1)).slice(-2),"sbcs"),W.write_shift(2,("00"+f[g][v].getDate()).slice(-2),"sbcs")):W.write_shift(8,"00000000","sbcs");break;case"C":var J=String(f[g][v]!=null?f[g][v]:"").slice(0,R[v]);for(W.write_shift(1,J,"sbcs"),_=0;_<R[v]-J.length;++_)W.write_shift(1,32);break}}return p.next(1).write_shift(1,26),p.end()}return{to_workbook:s,to_sheet:r,from_sheet:a}}(),gJ=function(){var n={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Qi(n).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),i=function(d,f){var b=n[f];return typeof b=="number"?gj(b):b},r=function(d,f,b){var g=f.charCodeAt(0)-32<<4|b.charCodeAt(0)-48;return g==59?d:gj(g)};n["|"]=254;function s(d,f){switch(f.type){case"base64":return o(jl(d),f);case"binary":return o(d,f);case"buffer":return o($r&&Buffer.isBuffer(d)?d.toString("binary"):Zp(d),f);case"array":return o(Ny(d),f)}throw new Error("Unrecognized type "+f.type)}function o(d,f){var b=d.split(/[\n\r]+/),g=-1,v=-1,_=0,x=0,w=[],S=[],R=null,D={},A=[],C=[],j=[],P=0,O;for(+f.codepage>=0&&xp(+f.codepage);_!==b.length;++_){P=0;var L=b[_].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(t,i),N=L.replace(/;;/g,"\0").split(";").map(function(H){return H.replace(/\u0000/g,";")}),q=N[0],W;if(L.length>0)switch(q){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":N[1].charAt(0)=="P"&&S.push(L.slice(3).replace(/;;/g,";"));break;case"C":var Y=!1,J=!1,te=!1,ee=!1,Q=-1,ne=-1;for(x=1;x<N.length;++x)switch(N[x].charAt(0)){case"A":break;case"X":v=parseInt(N[x].slice(1))-1,J=!0;break;case"Y":for(g=parseInt(N[x].slice(1))-1,J||(v=0),O=w.length;O<=g;++O)w[O]=[];break;case"K":W=N[x].slice(1),W.charAt(0)==='"'?W=W.slice(1,W.length-1):W==="TRUE"?W=!0:W==="FALSE"?W=!1:isNaN(gl(W))?isNaN(Sp(W).getDate())||(W=Ss(W)):(W=gl(W),R!==null&&g3(R)&&(W=b3(W))),Y=!0;break;case"E":ee=!0;var re=pee(N[x].slice(1),{r:g,c:v});w[g][v]=[w[g][v],re];break;case"S":te=!0,w[g][v]=[w[g][v],"S5S"];break;case"G":break;case"R":Q=parseInt(N[x].slice(1))-1;break;case"C":ne=parseInt(N[x].slice(1))-1;break;default:if(f&&f.WTF)throw new Error("SYLK bad record "+L)}if(Y&&(w[g][v]&&w[g][v].length==2?w[g][v][0]=W:w[g][v]=W,R=null),te){if(ee)throw new Error("SYLK shared formula cannot have own formula");var I=Q>-1&&w[Q][ne];if(!I||!I[1])throw new Error("SYLK shared formula cannot find base");w[g][v][1]=mee(I[1],{r:g-Q,c:v-ne})}break;case"F":var U=0;for(x=1;x<N.length;++x)switch(N[x].charAt(0)){case"X":v=parseInt(N[x].slice(1))-1,++U;break;case"Y":for(g=parseInt(N[x].slice(1))-1,O=w.length;O<=g;++O)w[O]=[];break;case"M":P=parseInt(N[x].slice(1))/20;break;case"F":break;case"G":break;case"P":R=S[parseInt(N[x].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(j=N[x].slice(1).split(" "),O=parseInt(j[0],10);O<=parseInt(j[1],10);++O)P=parseInt(j[2],10),C[O-1]=P===0?{hidden:!0}:{wch:P},Xw(C[O-1]);break;case"C":v=parseInt(N[x].slice(1))-1,C[v]||(C[v]={});break;case"R":g=parseInt(N[x].slice(1))-1,A[g]||(A[g]={}),P>0?(A[g].hpt=P,A[g].hpx=oP(P)):P===0&&(A[g].hidden=!0);break;default:if(f&&f.WTF)throw new Error("SYLK bad record "+L)}U<1&&(R=null);break;default:if(f&&f.WTF)throw new Error("SYLK bad record "+L)}}return A.length>0&&(D["!rows"]=A),C.length>0&&(D["!cols"]=C),f&&f.sheetRows&&(w=w.slice(0,f.sheetRows)),[w,D]}function a(d,f){var b=s(d,f),g=b[0],v=b[1],_=jd(g,f);return Qi(v).forEach(function(x){_[x]=v[x]}),_}function c(d,f){return Wu(a(d,f),f)}function l(d,f,b,g){var v="C;Y"+(b+1)+";X"+(g+1)+";K";switch(d.t){case"n":v+=d.v||0,d.f&&!d.F&&(v+=";E"+Qw(d.f,{r:b,c:g}));break;case"b":v+=d.v?"TRUE":"FALSE";break;case"e":v+=d.w||d.v;break;case"d":v+='"'+(d.w||d.v)+'"';break;case"s":v+='"'+d.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return v}function u(d,f){f.forEach(function(b,g){var v="F;W"+(g+1)+" "+(g+1)+" ";b.hidden?v+="0":(typeof b.width=="number"&&!b.wpx&&(b.wpx=Vg(b.width)),typeof b.wpx=="number"&&!b.wch&&(b.wch=Gg(b.wpx)),typeof b.wch=="number"&&(v+=Math.round(b.wch))),v.charAt(v.length-1)!=" "&&d.push(v)})}function p(d,f){f.forEach(function(b,g){var v="F;";b.hidden?v+="M0;":b.hpt?v+="M"+20*b.hpt+";":b.hpx&&(v+="M"+20*zg(b.hpx)+";"),v.length>2&&d.push(v+"R"+(g+1))})}function y(d,f){var b=["ID;PWXL;N;E"],g=[],v=An(d["!ref"]),_,x=Array.isArray(d),w=`\r
`;b.push("P;PGeneral"),b.push("F;P0;DG0G8;M255"),d["!cols"]&&u(b,d["!cols"]),d["!rows"]&&p(b,d["!rows"]),b.push("B;Y"+(v.e.r-v.s.r+1)+";X"+(v.e.c-v.s.c+1)+";D"+[v.s.c,v.s.r,v.e.c,v.e.r].join(" "));for(var S=v.s.r;S<=v.e.r;++S)for(var R=v.s.c;R<=v.e.c;++R){var D=an({r:S,c:R});_=x?(d[S]||[])[R]:d[D],!(!_||_.v==null&&(!_.f||_.F))&&g.push(l(_,d,S,R))}return b.join(w)+w+g.join(w)+w+"E"+w}return{to_workbook:c,to_sheet:a,from_sheet:y}}(),yJ=function(){function n(o,a){switch(a.type){case"base64":return t(jl(o),a);case"binary":return t(o,a);case"buffer":return t($r&&Buffer.isBuffer(o)?o.toString("binary"):Zp(o),a);case"array":return t(Ny(o),a)}throw new Error("Unrecognized type "+a.type)}function t(o,a){for(var c=o.split(`
`),l=-1,u=-1,p=0,y=[];p!==c.length;++p){if(c[p].trim()==="BOT"){y[++l]=[],u=0;continue}if(!(l<0)){var d=c[p].trim().split(","),f=d[0],b=d[1];++p;for(var g=c[p]||"";(g.match(/["]/g)||[]).length&1&&p<c.length-1;)g+=`
`+c[++p];switch(g=g.trim(),+f){case-1:if(g==="BOT"){y[++l]=[],u=0;continue}else if(g!=="EOD")throw new Error("Unrecognized DIF special command "+g);break;case 0:g==="TRUE"?y[l][u]=!0:g==="FALSE"?y[l][u]=!1:isNaN(gl(b))?isNaN(Sp(b).getDate())?y[l][u]=b:y[l][u]=Ss(b):y[l][u]=gl(b),++u;break;case 1:g=g.slice(1,g.length-1),g=g.replace(/""/g,'"'),g&&g.match(/^=".*"$/)&&(g=g.slice(2,-1)),y[l][u++]=g!==""?g:null;break}if(g==="EOD")break}}return a&&a.sheetRows&&(y=y.slice(0,a.sheetRows)),y}function i(o,a){return jd(n(o,a),a)}function r(o,a){return Wu(i(o,a),a)}var s=function(){var o=function(l,u,p,y,d){l.push(u),l.push(p+","+y),l.push('"'+d.replace(/"/g,'""')+'"')},a=function(l,u,p,y){l.push(u+","+p),l.push(u==1?'"'+y.replace(/"/g,'""')+'"':y)};return function(l){var u=[],p=An(l["!ref"]),y,d=Array.isArray(l);o(u,"TABLE",0,1,"sheetjs"),o(u,"VECTORS",0,p.e.r-p.s.r+1,""),o(u,"TUPLES",0,p.e.c-p.s.c+1,""),o(u,"DATA",0,0,"");for(var f=p.s.r;f<=p.e.r;++f){a(u,-1,0,"BOT");for(var b=p.s.c;b<=p.e.c;++b){var g=an({r:f,c:b});if(y=d?(l[f]||[])[b]:l[g],!y){a(u,1,0,"");continue}switch(y.t){case"n":var v=y.w;!v&&y.v!=null&&(v=y.v),v==null?y.f&&!y.F?a(u,1,0,"="+y.f):a(u,1,0,""):a(u,0,v,"V");break;case"b":a(u,0,y.v?1:0,y.v?"TRUE":"FALSE");break;case"s":a(u,1,0,isNaN(y.v)?y.v:'="'+y.v+'"');break;case"d":y.w||(y.w=Sc(y.z||Vn[14],Us(Ss(y.v)))),a(u,0,y.w,"V");break;default:a(u,1,0,"")}}}a(u,-1,0,"EOD");var _=`\r
`,x=u.join(_);return x}}();return{to_workbook:r,to_sheet:i,from_sheet:s}}(),nP=function(){function n(y){return y.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(y){return y.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function i(y,d){for(var f=y.split(`
`),b=-1,g=-1,v=0,_=[];v!==f.length;++v){var x=f[v].trim().split(":");if(x[0]==="cell"){var w=ki(x[1]);if(_.length<=w.r)for(b=_.length;b<=w.r;++b)_[b]||(_[b]=[]);switch(b=w.r,g=w.c,x[2]){case"t":_[b][g]=n(x[3]);break;case"v":_[b][g]=+x[3];break;case"vtf":var S=x[x.length-1];case"vtc":switch(x[3]){case"nl":_[b][g]=!!+x[4];break;default:_[b][g]=+x[4];break}x[2]=="vtf"&&(_[b][g]=[_[b][g],S])}}}return d&&d.sheetRows&&(_=_.slice(0,d.sheetRows)),_}function r(y,d){return jd(i(y,d),d)}function s(y,d){return Wu(r(y,d),d)}var o=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),a=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,c=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function u(y){if(!y||!y["!ref"])return"";for(var d=[],f=[],b,g="",v=aa(y["!ref"]),_=Array.isArray(y),x=v.s.r;x<=v.e.r;++x)for(var w=v.s.c;w<=v.e.c;++w)if(g=an({r:x,c:w}),b=_?(y[x]||[])[w]:y[g],!(!b||b.v==null||b.t==="z")){switch(f=["cell",g,"t"],b.t){case"s":case"str":f.push(t(b.v));break;case"n":b.f?(f[2]="vtf",f[3]="n",f[4]=b.v,f[5]=t(b.f)):(f[2]="v",f[3]=b.v);break;case"b":f[2]="vt"+(b.f?"f":"c"),f[3]="nl",f[4]=b.v?"1":"0",f[5]=t(b.f||(b.v?"TRUE":"FALSE"));break;case"d":var S=Us(Ss(b.v));f[2]="vtc",f[3]="nd",f[4]=""+S,f[5]=b.w||Sc(b.z||Vn[14],S);break;case"e":continue}d.push(f.join(":"))}return d.push("sheet:c:"+(v.e.c-v.s.c+1)+":r:"+(v.e.r-v.s.r+1)+":tvf:1"),d.push("valueformat:1:text-wiki"),d.join(`
`)}function p(y){return[o,a,c,a,u(y),l].join(`
`)}return{to_workbook:s,to_sheet:r,from_sheet:p}}(),vJ=function(){function n(p,y,d,f,b){b.raw?y[d][f]=p:p===""||(p==="TRUE"?y[d][f]=!0:p==="FALSE"?y[d][f]=!1:isNaN(gl(p))?isNaN(Sp(p).getDate())?y[d][f]=p:y[d][f]=Ss(p):y[d][f]=gl(p))}function t(p,y){var d=y||{},f=[];if(!p||p.length===0)return f;for(var b=p.split(/[\r\n]/),g=b.length-1;g>=0&&b[g].length===0;)--g;for(var v=10,_=0,x=0;x<=g;++x)_=b[x].indexOf(" "),_==-1?_=b[x].length:_++,v=Math.max(v,_);for(x=0;x<=g;++x){f[x]=[];var w=0;for(n(b[x].slice(0,v).trim(),f,x,w,d),w=1;w<=(b[x].length-v)/10+1;++w)n(b[x].slice(v+(w-1)*10,v+w*10).trim(),f,x,w,d)}return d.sheetRows&&(f=f.slice(0,d.sheetRows)),f}var i={44:",",9:"	",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function s(p){for(var y={},d=!1,f=0,b=0;f<p.length;++f)(b=p.charCodeAt(f))==34?d=!d:!d&&b in i&&(y[b]=(y[b]||0)+1);b=[];for(f in y)Object.prototype.hasOwnProperty.call(y,f)&&b.push([y[f],f]);if(!b.length){y=r;for(f in y)Object.prototype.hasOwnProperty.call(y,f)&&b.push([y[f],f])}return b.sort(function(g,v){return g[0]-v[0]||r[g[1]]-r[v[1]]}),i[b.pop()[1]]||44}function o(p,y){var d=y||{},f="",b=d.dense?[]:{},g={s:{c:0,r:0},e:{c:0,r:0}};p.slice(0,4)=="sep="?p.charCodeAt(5)==13&&p.charCodeAt(6)==10?(f=p.charAt(4),p=p.slice(7)):p.charCodeAt(5)==13||p.charCodeAt(5)==10?(f=p.charAt(4),p=p.slice(6)):f=s(p.slice(0,1024)):d&&d.FS?f=d.FS:f=s(p.slice(0,1024));var v=0,_=0,x=0,w=0,S=0,R=f.charCodeAt(0),D=!1,A=0,C=p.charCodeAt(0);p=p.replace(/\r\n/mg,`
`);var j=d.dateNF!=null?PQ(d.dateNF):null;function P(){var O=p.slice(w,S),L={};if(O.charAt(0)=='"'&&O.charAt(O.length-1)=='"'&&(O=O.slice(1,-1).replace(/""/g,'"')),O.length===0)L.t="z";else if(d.raw)L.t="s",L.v=O;else if(O.trim().length===0)L.t="s",L.v=O;else if(O.charCodeAt(0)==61)O.charCodeAt(1)==34&&O.charCodeAt(O.length-1)==34?(L.t="s",L.v=O.slice(2,-1).replace(/""/g,'"')):gee(O)?(L.t="n",L.f=O.slice(1)):(L.t="s",L.v=O);else if(O=="TRUE")L.t="b",L.v=!0;else if(O=="FALSE")L.t="b",L.v=!1;else if(!isNaN(x=gl(O)))L.t="n",d.cellText!==!1&&(L.w=O),L.v=x;else if(!isNaN(Sp(O).getDate())||j&&O.match(j)){L.z=d.dateNF||Vn[14];var N=0;j&&O.match(j)&&(O=DQ(O,d.dateNF,O.match(j)||[]),N=1),d.cellDates?(L.t="d",L.v=Ss(O,N)):(L.t="n",L.v=Us(Ss(O,N))),d.cellText!==!1&&(L.w=Sc(L.z,L.v instanceof Date?Us(L.v):L.v)),d.cellNF||delete L.z}else L.t="s",L.v=O;if(L.t=="z"||(d.dense?(b[v]||(b[v]=[]),b[v][_]=L):b[an({c:_,r:v})]=L),w=S+1,C=p.charCodeAt(w),g.e.c<_&&(g.e.c=_),g.e.r<v&&(g.e.r=v),A==R)++_;else if(_=0,++v,d.sheetRows&&d.sheetRows<=v)return!0}e:for(;S<p.length;++S)switch(A=p.charCodeAt(S)){case 34:C===34&&(D=!D);break;case R:case 10:case 13:if(!D&&P())break e;break}return S-w>0&&P(),b["!ref"]=hi(g),b}function a(p,y){return!(y&&y.PRN)||y.FS||p.slice(0,4)=="sep="||p.indexOf("	")>=0||p.indexOf(",")>=0||p.indexOf(";")>=0?o(p,y):jd(t(p,y),y)}function c(p,y){var d="",f=y.type=="string"?[0,0,0,0]:Oie(p,y);switch(y.type){case"base64":d=jl(p);break;case"binary":d=p;break;case"buffer":y.codepage==65001?d=p.toString("utf8"):y.codepage&&typeof lu<"u"?d=lu.utils.decode(y.codepage,p):d=$r&&Buffer.isBuffer(p)?p.toString("binary"):Zp(p);break;case"array":d=Ny(p);break;case"string":d=p;break;default:throw new Error("Unrecognized type "+y.type)}return f[0]==239&&f[1]==187&&f[2]==191?d=Kf(d.slice(3)):y.type!="string"&&y.type!="buffer"&&y.codepage==65001?d=Kf(d):y.type=="binary"&&typeof lu<"u"&&y.codepage&&(d=lu.utils.decode(y.codepage,lu.utils.encode(28591,d))),d.slice(0,19)=="socialcalc:version:"?nP.to_sheet(y.type=="string"?d:Kf(d),y):a(d,y)}function l(p,y){return Wu(c(p,y),y)}function u(p){for(var y=[],d=An(p["!ref"]),f,b=Array.isArray(p),g=d.s.r;g<=d.e.r;++g){for(var v=[],_=d.s.c;_<=d.e.c;++_){var x=an({r:g,c:_});if(f=b?(p[g]||[])[_]:p[x],!f||f.v==null){v.push("          ");continue}for(var w=(f.w||(Rl(f),f.w)||"").slice(0,10);w.length<10;)w+=" ";v.push(w+(_===0?" ":""))}y.push(v.join(""))}return y.join(`
`)}return{to_workbook:l,to_sheet:c,from_sheet:u}}(),Yj=function(){function n(re,I,U){if(re){Zs(re,re.l||0);for(var H=U.Enum||Q;re.l<re.length;){var X=re.read_shift(2),ae=H[X]||H[65535],le=re.read_shift(2),he=re.l+le,ye=ae.f&&ae.f(re,le,U);if(re.l=he,I(ye,ae,X))return}}}function t(re,I){switch(I.type){case"base64":return i(Xa(jl(re)),I);case"binary":return i(Xa(re),I);case"buffer":case"array":return i(re,I)}throw"Unsupported type "+I.type}function i(re,I){if(!re)return re;var U=I||{},H=U.dense?[]:{},X="Sheet1",ae="",le=0,he={},ye=[],me=[],xe={s:{r:0,c:0},e:{r:0,c:0}},Se=U.sheetRows||0;if(re[2]==0&&(re[3]==8||re[3]==9)&&re.length>=16&&re[14]==5&&re[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(re[2]==2)U.Enum=Q,n(re,function(Me,Ne,Ve){switch(Ve){case 0:U.vers=Me,Me>=4096&&(U.qpro=!0);break;case 6:xe=Me;break;case 204:Me&&(ae=Me);break;case 222:ae=Me;break;case 15:case 51:U.qpro||(Me[1].v=Me[1].v.slice(1));case 13:case 14:case 16:Ve==14&&(Me[2]&112)==112&&(Me[2]&15)>1&&(Me[2]&15)<15&&(Me[1].z=U.dateNF||Vn[14],U.cellDates&&(Me[1].t="d",Me[1].v=b3(Me[1].v))),U.qpro&&Me[3]>le&&(H["!ref"]=hi(xe),he[X]=H,ye.push(X),H=U.dense?[]:{},xe={s:{r:0,c:0},e:{r:0,c:0}},le=Me[3],X=ae||"Sheet"+(le+1),ae="");var Xe=U.dense?(H[Me[0].r]||[])[Me[0].c]:H[an(Me[0])];if(Xe){Xe.t=Me[1].t,Xe.v=Me[1].v,Me[1].z!=null&&(Xe.z=Me[1].z),Me[1].f!=null&&(Xe.f=Me[1].f);break}U.dense?(H[Me[0].r]||(H[Me[0].r]=[]),H[Me[0].r][Me[0].c]=Me[1]):H[an(Me[0])]=Me[1];break}},U);else if(re[2]==26||re[2]==14)U.Enum=ne,re[2]==14&&(U.qpro=!0,re.l=0),n(re,function(Me,Ne,Ve){switch(Ve){case 204:X=Me;break;case 22:Me[1].v=Me[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Me[3]>le&&(H["!ref"]=hi(xe),he[X]=H,ye.push(X),H=U.dense?[]:{},xe={s:{r:0,c:0},e:{r:0,c:0}},le=Me[3],X="Sheet"+(le+1)),Se>0&&Me[0].r>=Se)break;U.dense?(H[Me[0].r]||(H[Me[0].r]=[]),H[Me[0].r][Me[0].c]=Me[1]):H[an(Me[0])]=Me[1],xe.e.c<Me[0].c&&(xe.e.c=Me[0].c),xe.e.r<Me[0].r&&(xe.e.r=Me[0].r);break;case 27:Me[14e3]&&(me[Me[14e3][0]]=Me[14e3][1]);break;case 1537:me[Me[0]]=Me[1],Me[0]==le&&(X=Me[1]);break}},U);else throw new Error("Unrecognized LOTUS BOF "+re[2]);if(H["!ref"]=hi(xe),he[ae||X]=H,ye.push(ae||X),!me.length)return{SheetNames:ye,Sheets:he};for(var pe={},Te=[],ke=0;ke<me.length;++ke)he[ye[ke]]?(Te.push(me[ke]||ye[ke]),pe[me[ke]]=he[me[ke]]||he[ye[ke]]):(Te.push(me[ke]),pe[me[ke]]={"!ref":"A1"});return{SheetNames:Te,Sheets:pe}}function r(re,I){var U=I||{};if(+U.codepage>=0&&xp(+U.codepage),U.type=="string")throw new Error("Cannot write WK1 to JS string");var H=Ns(),X=An(re["!ref"]),ae=Array.isArray(re),le=[];Lt(H,0,o(1030)),Lt(H,6,l(X));for(var he=Math.min(X.e.r,8191),ye=X.s.r;ye<=he;++ye)for(var me=Xi(ye),xe=X.s.c;xe<=X.e.c;++xe){ye===X.s.r&&(le[xe]=cs(xe));var Se=le[xe]+me,pe=ae?(re[ye]||[])[xe]:re[Se];if(!(!pe||pe.t=="z"))if(pe.t=="n")(pe.v|0)==pe.v&&pe.v>=-32768&&pe.v<=32767?Lt(H,13,f(ye,xe,pe.v)):Lt(H,14,g(ye,xe,pe.v));else{var Te=Rl(pe);Lt(H,15,y(ye,xe,Te.slice(0,239)))}}return Lt(H,1),H.end()}function s(re,I){var U=I||{};if(+U.codepage>=0&&xp(+U.codepage),U.type=="string")throw new Error("Cannot write WK3 to JS string");var H=Ns();Lt(H,0,a(re));for(var X=0,ae=0;X<re.SheetNames.length;++X)(re.Sheets[re.SheetNames[X]]||{})["!ref"]&&Lt(H,27,ee(re.SheetNames[X],ae++));var le=0;for(X=0;X<re.SheetNames.length;++X){var he=re.Sheets[re.SheetNames[X]];if(!(!he||!he["!ref"])){for(var ye=An(he["!ref"]),me=Array.isArray(he),xe=[],Se=Math.min(ye.e.r,8191),pe=ye.s.r;pe<=Se;++pe)for(var Te=Xi(pe),ke=ye.s.c;ke<=ye.e.c;++ke){pe===ye.s.r&&(xe[ke]=cs(ke));var Me=xe[ke]+Te,Ne=me?(he[pe]||[])[ke]:he[Me];if(!(!Ne||Ne.t=="z"))if(Ne.t=="n")Lt(H,23,P(pe,ke,le,Ne.v));else{var Ve=Rl(Ne);Lt(H,22,A(pe,ke,le,Ve.slice(0,239)))}}++le}}return Lt(H,1),H.end()}function o(re){var I=yt(2);return I.write_shift(2,re),I}function a(re){var I=yt(26);I.write_shift(2,4096),I.write_shift(2,4),I.write_shift(4,0);for(var U=0,H=0,X=0,ae=0;ae<re.SheetNames.length;++ae){var le=re.SheetNames[ae],he=re.Sheets[le];if(!(!he||!he["!ref"])){++X;var ye=aa(he["!ref"]);U<ye.e.r&&(U=ye.e.r),H<ye.e.c&&(H=ye.e.c)}}return U>8191&&(U=8191),I.write_shift(2,U),I.write_shift(1,X),I.write_shift(1,H),I.write_shift(2,0),I.write_shift(2,0),I.write_shift(1,1),I.write_shift(1,2),I.write_shift(4,0),I.write_shift(4,0),I}function c(re,I,U){var H={s:{c:0,r:0},e:{c:0,r:0}};return I==8&&U.qpro?(H.s.c=re.read_shift(1),re.l++,H.s.r=re.read_shift(2),H.e.c=re.read_shift(1),re.l++,H.e.r=re.read_shift(2),H):(H.s.c=re.read_shift(2),H.s.r=re.read_shift(2),I==12&&U.qpro&&(re.l+=2),H.e.c=re.read_shift(2),H.e.r=re.read_shift(2),I==12&&U.qpro&&(re.l+=2),H.s.c==65535&&(H.s.c=H.e.c=H.s.r=H.e.r=0),H)}function l(re){var I=yt(8);return I.write_shift(2,re.s.c),I.write_shift(2,re.s.r),I.write_shift(2,re.e.c),I.write_shift(2,re.e.r),I}function u(re,I,U){var H=[{c:0,r:0},{t:"n",v:0},0,0];return U.qpro&&U.vers!=20768?(H[0].c=re.read_shift(1),H[3]=re.read_shift(1),H[0].r=re.read_shift(2),re.l+=2):(H[2]=re.read_shift(1),H[0].c=re.read_shift(2),H[0].r=re.read_shift(2)),H}function p(re,I,U){var H=re.l+I,X=u(re,I,U);if(X[1].t="s",U.vers==20768){re.l++;var ae=re.read_shift(1);return X[1].v=re.read_shift(ae,"utf8"),X}return U.qpro&&re.l++,X[1].v=re.read_shift(H-re.l,"cstr"),X}function y(re,I,U){var H=yt(7+U.length);H.write_shift(1,255),H.write_shift(2,I),H.write_shift(2,re),H.write_shift(1,39);for(var X=0;X<H.length;++X){var ae=U.charCodeAt(X);H.write_shift(1,ae>=128?95:ae)}return H.write_shift(1,0),H}function d(re,I,U){var H=u(re,I,U);return H[1].v=re.read_shift(2,"i"),H}function f(re,I,U){var H=yt(7);return H.write_shift(1,255),H.write_shift(2,I),H.write_shift(2,re),H.write_shift(2,U,"i"),H}function b(re,I,U){var H=u(re,I,U);return H[1].v=re.read_shift(8,"f"),H}function g(re,I,U){var H=yt(13);return H.write_shift(1,255),H.write_shift(2,I),H.write_shift(2,re),H.write_shift(8,U,"f"),H}function v(re,I,U){var H=re.l+I,X=u(re,I,U);if(X[1].v=re.read_shift(8,"f"),U.qpro)re.l=H;else{var ae=re.read_shift(2);S(re.slice(re.l,re.l+ae),X),re.l+=ae}return X}function _(re,I,U){var H=I&32768;return I&=-32769,I=(H?re:0)+(I>=8192?I-16384:I),(H?"":"$")+(U?cs(I):Xi(I))}var x={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},w=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function S(re,I){Zs(re,0);for(var U=[],H=0,X="",ae="",le="",he="";re.l<re.length;){var ye=re[re.l++];switch(ye){case 0:U.push(re.read_shift(8,"f"));break;case 1:ae=_(I[0].c,re.read_shift(2),!0),X=_(I[0].r,re.read_shift(2),!1),U.push(ae+X);break;case 2:{var me=_(I[0].c,re.read_shift(2),!0),xe=_(I[0].r,re.read_shift(2),!1);ae=_(I[0].c,re.read_shift(2),!0),X=_(I[0].r,re.read_shift(2),!1),U.push(me+xe+":"+ae+X)}break;case 3:if(re.l<re.length){console.error("WK1 premature formula end");return}break;case 4:U.push("("+U.pop()+")");break;case 5:U.push(re.read_shift(2));break;case 6:{for(var Se="";ye=re[re.l++];)Se+=String.fromCharCode(ye);U.push('"'+Se.replace(/"/g,'""')+'"')}break;case 8:U.push("-"+U.pop());break;case 23:U.push("+"+U.pop());break;case 22:U.push("NOT("+U.pop()+")");break;case 20:case 21:he=U.pop(),le=U.pop(),U.push(["AND","OR"][ye-20]+"("+le+","+he+")");break;default:if(ye<32&&w[ye])he=U.pop(),le=U.pop(),U.push(le+w[ye]+he);else if(x[ye]){if(H=x[ye][1],H==69&&(H=re[re.l++]),H>U.length){console.error("WK1 bad formula parse 0x"+ye.toString(16)+":|"+U.join("|")+"|");return}var pe=U.slice(-H);U.length-=H,U.push(x[ye][0]+"("+pe.join(",")+")")}else return ye<=7?console.error("WK1 invalid opcode "+ye.toString(16)):ye<=24?console.error("WK1 unsupported op "+ye.toString(16)):ye<=30?console.error("WK1 invalid opcode "+ye.toString(16)):ye<=115?console.error("WK1 unsupported function opcode "+ye.toString(16)):console.error("WK1 unrecognized opcode "+ye.toString(16))}}U.length==1?I[1].f=""+U[0]:console.error("WK1 bad formula parse |"+U.join("|")+"|")}function R(re){var I=[{c:0,r:0},{t:"n",v:0},0];return I[0].r=re.read_shift(2),I[3]=re[re.l++],I[0].c=re[re.l++],I}function D(re,I){var U=R(re);return U[1].t="s",U[1].v=re.read_shift(I-4,"cstr"),U}function A(re,I,U,H){var X=yt(6+H.length);X.write_shift(2,re),X.write_shift(1,U),X.write_shift(1,I),X.write_shift(1,39);for(var ae=0;ae<H.length;++ae){var le=H.charCodeAt(ae);X.write_shift(1,le>=128?95:le)}return X.write_shift(1,0),X}function C(re,I){var U=R(re);U[1].v=re.read_shift(2);var H=U[1].v>>1;if(U[1].v&1)switch(H&7){case 0:H=(H>>3)*5e3;break;case 1:H=(H>>3)*500;break;case 2:H=(H>>3)/20;break;case 3:H=(H>>3)/200;break;case 4:H=(H>>3)/2e3;break;case 5:H=(H>>3)/2e4;break;case 6:H=(H>>3)/16;break;case 7:H=(H>>3)/64;break}return U[1].v=H,U}function j(re,I){var U=R(re),H=re.read_shift(4),X=re.read_shift(4),ae=re.read_shift(2);if(ae==65535)return H===0&&X===3221225472?(U[1].t="e",U[1].v=15):H===0&&X===3489660928?(U[1].t="e",U[1].v=42):U[1].v=0,U;var le=ae&32768;return ae=(ae&32767)-16446,U[1].v=(1-le*2)*(X*Math.pow(2,ae+32)+H*Math.pow(2,ae)),U}function P(re,I,U,H){var X=yt(14);if(X.write_shift(2,re),X.write_shift(1,U),X.write_shift(1,I),H==0)return X.write_shift(4,0),X.write_shift(4,0),X.write_shift(2,65535),X;var ae=0,le=0,he=0,ye=0;return H<0&&(ae=1,H=-H),le=Math.log2(H)|0,H/=Math.pow(2,le-31),ye=H>>>0,ye&2147483648||(H/=2,++le,ye=H>>>0),H-=ye,ye|=2147483648,ye>>>=0,H*=Math.pow(2,32),he=H>>>0,X.write_shift(4,he),X.write_shift(4,ye),le+=16383+(ae?32768:0),X.write_shift(2,le),X}function O(re,I){var U=j(re);return re.l+=I-14,U}function L(re,I){var U=R(re),H=re.read_shift(4);return U[1].v=H>>6,U}function N(re,I){var U=R(re),H=re.read_shift(8,"f");return U[1].v=H,U}function q(re,I){var U=N(re);return re.l+=I-10,U}function W(re,I){return re[re.l+I-1]==0?re.read_shift(I,"cstr"):""}function Y(re,I){var U=re[re.l++];U>I-1&&(U=I-1);for(var H="";H.length<U;)H+=String.fromCharCode(re[re.l++]);return H}function J(re,I,U){if(!(!U.qpro||I<21)){var H=re.read_shift(1);re.l+=17,re.l+=1,re.l+=2;var X=re.read_shift(I-21,"cstr");return[H,X]}}function te(re,I){for(var U={},H=re.l+I;re.l<H;){var X=re.read_shift(2);if(X==14e3){for(U[X]=[0,""],U[X][0]=re.read_shift(2);re[re.l];)U[X][1]+=String.fromCharCode(re[re.l]),re.l++;re.l++}}return U}function ee(re,I){var U=yt(5+re.length);U.write_shift(2,14e3),U.write_shift(2,I);for(var H=0;H<re.length;++H){var X=re.charCodeAt(H);U[U.l++]=X>127?95:X}return U[U.l++]=0,U}var Q={0:{n:"BOF",f:Z3},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:c},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:d},14:{n:"NUMBER",f:b},15:{n:"LABEL",f:p},16:{n:"FORMULA",f:v},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:p},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:W},222:{n:"SHEETNAMELP",f:Y},65535:{n:""}},ne={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:D},23:{n:"NUMBER17",f:j},24:{n:"NUMBER18",f:C},25:{n:"FORMULA19",f:O},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:te},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:L},38:{n:"??"},39:{n:"NUMBER27",f:N},40:{n:"FORMULA28",f:q},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:W},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:J},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:r,book_to_wk3:s,to_workbook:t}}(),_J=/^\s|\s$|[\t\n\r]/;function iP(n,t){if(!t.bookSST)return"";var i=[pi];i[i.length]=Nt("sst",null,{xmlns:Ad[0],count:n.Count,uniqueCount:n.Unique});for(var r=0;r!=n.length;++r)if(n[r]!=null){var s=n[r],o="<si>";s.r?o+=s.r:(o+="<t",s.t||(s.t=""),s.t.match(_J)&&(o+=' xml:space="preserve"'),o+=">"+nn(s.t)+"</t>"),o+="</si>",i[i.length]=o}return i.length>2&&(i[i.length]="</sst>",i[1]=i[1].replace("/>",">")),i.join("")}function bJ(n){return[n.read_shift(4),n.read_shift(4)]}function xJ(n,t){return t||(t=yt(8)),t.write_shift(4,n.Count),t.write_shift(4,n.Unique),t}var wJ=dZ;function SJ(n){var t=Ns();Rt(t,159,xJ(n));for(var i=0;i<n.length;++i)Rt(t,19,wJ(n[i]));return Rt(t,160),t.end()}function TJ(n){for(var t=[],i=n.split(""),r=0;r<i.length;++r)t[r]=i[r].charCodeAt(0);return t}function sP(n){var t=0,i,r=TJ(n),s=r.length+1,o,a,c,l,u;for(i=ku(s),i[0]=r.length,o=1;o!=s;++o)i[o]=r[o-1];for(o=s-1;o>=0;--o)a=i[o],c=t&16384?1:0,l=t<<1&32767,u=c|l,t=u^a;return t^52811}var EJ=function(){function n(s,o){switch(o.type){case"base64":return t(jl(s),o);case"binary":return t(s,o);case"buffer":return t($r&&Buffer.isBuffer(s)?s.toString("binary"):Zp(s),o);case"array":return t(Ny(s),o)}throw new Error("Unrecognized type "+o.type)}function t(s,o){var a=o||{},c=a.dense?[]:{},l=s.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(p,y){Array.isArray(c)&&(c[y]=[]);for(var d=/\\\w+\b/g,f=0,b,g=-1;b=d.exec(p);){switch(b[0]){case"\\cell":var v=p.slice(f,d.lastIndex-b[0].length);if(v[0]==" "&&(v=v.slice(1)),++g,v.length){var _={v,t:"s"};Array.isArray(c)?c[y][g]=_:c[an({r:y,c:g})]=_}break}f=d.lastIndex}g>u.e.c&&(u.e.c=g)}),c["!ref"]=hi(u),c}function i(s,o){return Wu(n(s,o),o)}function r(s){for(var o=["{\\rtf1\\ansi"],a=An(s["!ref"]),c,l=Array.isArray(s),u=a.s.r;u<=a.e.r;++u){o.push("\\trowd\\trautofit1");for(var p=a.s.c;p<=a.e.c;++p)o.push("\\cellx"+(p+1));for(o.push("\\pard\\intbl"),p=a.s.c;p<=a.e.c;++p){var y=an({r:u,c:p});c=l?(s[u]||[])[p]:s[y],!(!c||c.v==null&&(!c.f||c.F))&&(o.push(" "+(c.w||(Rl(c),c.w))),o.push("\\cell"))}o.push("\\pard\\intbl\\row")}return o.join("")+"}"}return{to_workbook:i,to_sheet:n,from_sheet:r}}();function $j(n){for(var t=0,i=1;t!=3;++t)i=i*256+(n[t]>255?255:n[t]<0?0:n[t]);return i.toString(16).toUpperCase().slice(1)}var CJ=6,yl=CJ;function Vg(n){return Math.floor((n+Math.round(128/yl)/256)*yl)}function Gg(n){return Math.floor((n-5)/yl*100+.5)/100}function Ib(n){return Math.round((n*yl+5)/yl*256)/256}function Xw(n){n.width?(n.wpx=Vg(n.width),n.wch=Gg(n.wpx),n.MDW=yl):n.wpx?(n.wch=Gg(n.wpx),n.width=Ib(n.wch),n.MDW=yl):typeof n.wch=="number"&&(n.width=Ib(n.wch),n.wpx=Vg(n.width),n.MDW=yl),n.customWidth&&delete n.customWidth}var AJ=96,aP=AJ;function zg(n){return n*96/aP}function oP(n){return n*aP/96}function jJ(n){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(i){for(var r=i[0];r<=i[1];++r)n[r]!=null&&(t[t.length]=Nt("numFmt",null,{numFmtId:r,formatCode:nn(n[r])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=Nt("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function RJ(n){var t=[];return t[t.length]=Nt("cellXfs",null),n.forEach(function(i){t[t.length]=Nt("xf",null,i)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=Nt("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function lP(n,t){var i=[pi,Nt("styleSheet",null,{xmlns:Ad[0],"xmlns:vt":Ii.vt})],r;return n.SSF&&(r=jJ(n.SSF))!=null&&(i[i.length]=r),i[i.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',i[i.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',i[i.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',i[i.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(r=RJ(t.cellXfs))&&(i[i.length]=r),i[i.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',i[i.length]='<dxfs count="0"/>',i[i.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',i.length>2&&(i[i.length]="</styleSheet>",i[1]=i[1].replace("/>",">")),i.join("")}function OJ(n,t){var i=n.read_shift(2),r=us(n);return[i,r]}function IJ(n,t,i){i||(i=yt(6+4*t.length)),i.write_shift(2,n),Mi(t,i);var r=i.length>i.l?i.slice(0,i.l):i;return i.l==null&&(i.l=i.length),r}function kJ(n,t,i){var r={};r.sz=n.read_shift(2)/20;var s=_Z(n);s.fItalic&&(r.italic=1),s.fCondense&&(r.condense=1),s.fExtend&&(r.extend=1),s.fShadow&&(r.shadow=1),s.fOutline&&(r.outline=1),s.fStrikeout&&(r.strike=1);var o=n.read_shift(2);switch(o===700&&(r.bold=1),n.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript";break}var a=n.read_shift(1);a!=0&&(r.underline=a);var c=n.read_shift(1);c>0&&(r.family=c);var l=n.read_shift(1);switch(l>0&&(r.charset=l),n.l++,r.color=vZ(n),n.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor";break}return r.name=us(n),r}function MJ(n,t){t||(t=yt(25+4*32)),t.write_shift(2,n.sz*20),bZ(n,t),t.write_shift(2,n.bold?700:400);var i=0;n.vertAlign=="superscript"?i=1:n.vertAlign=="subscript"&&(i=2),t.write_shift(2,i),t.write_shift(1,n.underline||0),t.write_shift(1,n.family||0),t.write_shift(1,n.charset||0),t.write_shift(1,0),Ug(n.color,t);var r=0;return n.scheme=="major"&&(r=1),n.scheme=="minor"&&(r=2),t.write_shift(1,r),Mi(n.name,t),t.length>t.l?t.slice(0,t.l):t}var PJ=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],w_,DJ=Oo;function Xj(n,t){t||(t=yt(4*3+8*7+16*1)),w_||(w_=Lw(PJ));var i=w_[n.patternType];i==null&&(i=40),t.write_shift(4,i);var r=0;if(i!=40)for(Ug({auto:1},t),Ug({auto:1},t);r<12;++r)t.write_shift(4,0);else{for(;r<4;++r)t.write_shift(4,0);for(;r<12;++r)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function NJ(n,t){var i=n.l+t,r=n.read_shift(2),s=n.read_shift(2);return n.l=i,{ixfe:r,numFmtId:s}}function cP(n,t,i){i||(i=yt(16)),i.write_shift(2,t||0),i.write_shift(2,n.numFmtId||0),i.write_shift(2,0),i.write_shift(2,0),i.write_shift(2,0),i.write_shift(1,0),i.write_shift(1,0);var r=0;return i.write_shift(1,r),i.write_shift(1,0),i.write_shift(1,0),i.write_shift(1,0),i}function jf(n,t){return t||(t=yt(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var LJ=Oo;function FJ(n,t){return t||(t=yt(51)),t.write_shift(1,0),jf(null,t),jf(null,t),jf(null,t),jf(null,t),jf(null,t),t.length>t.l?t.slice(0,t.l):t}function UJ(n,t){return t||(t=yt(12+4*10)),t.write_shift(4,n.xfId),t.write_shift(2,1),t.write_shift(1,+n.builtinId),t.write_shift(1,0),Fg(n.name||"",t),t.length>t.l?t.slice(0,t.l):t}function BJ(n,t,i){var r=yt(2052);return r.write_shift(4,n),Fg(t,r),Fg(i,r),r.length>r.l?r.slice(0,r.l):r}function VJ(n,t){if(t){var i=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var s=r[0];s<=r[1];++s)t[s]!=null&&++i}),i!=0&&(Rt(n,615,to(i)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var s=r[0];s<=r[1];++s)t[s]!=null&&Rt(n,44,IJ(s,t[s]))}),Rt(n,616))}}function GJ(n){var t=1;Rt(n,611,to(t)),Rt(n,43,MJ({sz:12,color:{theme:1},name:"Calibri",family:2,scheme:"minor"})),Rt(n,612)}function zJ(n){var t=2;Rt(n,603,to(t)),Rt(n,45,Xj({patternType:"none"})),Rt(n,45,Xj({patternType:"gray125"})),Rt(n,604)}function HJ(n){var t=1;Rt(n,613,to(t)),Rt(n,46,FJ()),Rt(n,614)}function WJ(n){var t=1;Rt(n,626,to(t)),Rt(n,47,cP({numFmtId:0,fontId:0,fillId:0,borderId:0},65535)),Rt(n,627)}function qJ(n,t){Rt(n,617,to(t.length)),t.forEach(function(i){Rt(n,47,cP(i,0))}),Rt(n,618)}function YJ(n){var t=1;Rt(n,619,to(t)),Rt(n,48,UJ({xfId:0,builtinId:0,name:"Normal"})),Rt(n,620)}function $J(n){var t=0;Rt(n,505,to(t)),Rt(n,506)}function XJ(n){var t=0;Rt(n,508,BJ(t,"TableStyleMedium9","PivotStyleMedium4")),Rt(n,509)}function KJ(n,t){var i=Ns();return Rt(i,278),VJ(i,n.SSF),GJ(i),zJ(i),HJ(i),WJ(i),qJ(i,t.cellXfs),YJ(i),$J(i),XJ(i),Rt(i,279),i.end()}function uP(n,t){if(t&&t.themeXLSX)return t.themeXLSX;if(n&&typeof n.raw=="string")return n.raw;var i=[pi];return i[i.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',i[i.length]="<a:themeElements>",i[i.length]='<a:clrScheme name="Office">',i[i.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',i[i.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',i[i.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',i[i.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',i[i.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',i[i.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',i[i.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',i[i.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',i[i.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',i[i.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',i[i.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',i[i.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',i[i.length]="</a:clrScheme>",i[i.length]='<a:fontScheme name="Office">',i[i.length]="<a:majorFont>",i[i.length]='<a:latin typeface="Cambria"/>',i[i.length]='<a:ea typeface=""/>',i[i.length]='<a:cs typeface=""/>',i[i.length]='<a:font script="Jpan" typeface=" "/>',i[i.length]='<a:font script="Hang" typeface=" "/>',i[i.length]='<a:font script="Hans" typeface=""/>',i[i.length]='<a:font script="Hant" typeface=""/>',i[i.length]='<a:font script="Arab" typeface="Times New Roman"/>',i[i.length]='<a:font script="Hebr" typeface="Times New Roman"/>',i[i.length]='<a:font script="Thai" typeface="Tahoma"/>',i[i.length]='<a:font script="Ethi" typeface="Nyala"/>',i[i.length]='<a:font script="Beng" typeface="Vrinda"/>',i[i.length]='<a:font script="Gujr" typeface="Shruti"/>',i[i.length]='<a:font script="Khmr" typeface="MoolBoran"/>',i[i.length]='<a:font script="Knda" typeface="Tunga"/>',i[i.length]='<a:font script="Guru" typeface="Raavi"/>',i[i.length]='<a:font script="Cans" typeface="Euphemia"/>',i[i.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',i[i.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',i[i.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',i[i.length]='<a:font script="Thaa" typeface="MV Boli"/>',i[i.length]='<a:font script="Deva" typeface="Mangal"/>',i[i.length]='<a:font script="Telu" typeface="Gautami"/>',i[i.length]='<a:font script="Taml" typeface="Latha"/>',i[i.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',i[i.length]='<a:font script="Orya" typeface="Kalinga"/>',i[i.length]='<a:font script="Mlym" typeface="Kartika"/>',i[i.length]='<a:font script="Laoo" typeface="DokChampa"/>',i[i.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',i[i.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',i[i.length]='<a:font script="Viet" typeface="Times New Roman"/>',i[i.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',i[i.length]='<a:font script="Geor" typeface="Sylfaen"/>',i[i.length]="</a:majorFont>",i[i.length]="<a:minorFont>",i[i.length]='<a:latin typeface="Calibri"/>',i[i.length]='<a:ea typeface=""/>',i[i.length]='<a:cs typeface=""/>',i[i.length]='<a:font script="Jpan" typeface=" "/>',i[i.length]='<a:font script="Hang" typeface=" "/>',i[i.length]='<a:font script="Hans" typeface=""/>',i[i.length]='<a:font script="Hant" typeface=""/>',i[i.length]='<a:font script="Arab" typeface="Arial"/>',i[i.length]='<a:font script="Hebr" typeface="Arial"/>',i[i.length]='<a:font script="Thai" typeface="Tahoma"/>',i[i.length]='<a:font script="Ethi" typeface="Nyala"/>',i[i.length]='<a:font script="Beng" typeface="Vrinda"/>',i[i.length]='<a:font script="Gujr" typeface="Shruti"/>',i[i.length]='<a:font script="Khmr" typeface="DaunPenh"/>',i[i.length]='<a:font script="Knda" typeface="Tunga"/>',i[i.length]='<a:font script="Guru" typeface="Raavi"/>',i[i.length]='<a:font script="Cans" typeface="Euphemia"/>',i[i.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',i[i.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',i[i.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',i[i.length]='<a:font script="Thaa" typeface="MV Boli"/>',i[i.length]='<a:font script="Deva" typeface="Mangal"/>',i[i.length]='<a:font script="Telu" typeface="Gautami"/>',i[i.length]='<a:font script="Taml" typeface="Latha"/>',i[i.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',i[i.length]='<a:font script="Orya" typeface="Kalinga"/>',i[i.length]='<a:font script="Mlym" typeface="Kartika"/>',i[i.length]='<a:font script="Laoo" typeface="DokChampa"/>',i[i.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',i[i.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',i[i.length]='<a:font script="Viet" typeface="Arial"/>',i[i.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',i[i.length]='<a:font script="Geor" typeface="Sylfaen"/>',i[i.length]="</a:minorFont>",i[i.length]="</a:fontScheme>",i[i.length]='<a:fmtScheme name="Office">',i[i.length]="<a:fillStyleLst>",i[i.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',i[i.length]='<a:gradFill rotWithShape="1">',i[i.length]="<a:gsLst>",i[i.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',i[i.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',i[i.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',i[i.length]="</a:gsLst>",i[i.length]='<a:lin ang="16200000" scaled="1"/>',i[i.length]="</a:gradFill>",i[i.length]='<a:gradFill rotWithShape="1">',i[i.length]="<a:gsLst>",i[i.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',i[i.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',i[i.length]="</a:gsLst>",i[i.length]='<a:lin ang="16200000" scaled="0"/>',i[i.length]="</a:gradFill>",i[i.length]="</a:fillStyleLst>",i[i.length]="<a:lnStyleLst>",i[i.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',i[i.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',i[i.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',i[i.length]="</a:lnStyleLst>",i[i.length]="<a:effectStyleLst>",i[i.length]="<a:effectStyle>",i[i.length]="<a:effectLst>",i[i.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',i[i.length]="</a:effectLst>",i[i.length]="</a:effectStyle>",i[i.length]="<a:effectStyle>",i[i.length]="<a:effectLst>",i[i.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',i[i.length]="</a:effectLst>",i[i.length]="</a:effectStyle>",i[i.length]="<a:effectStyle>",i[i.length]="<a:effectLst>",i[i.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',i[i.length]="</a:effectLst>",i[i.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',i[i.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',i[i.length]="</a:effectStyle>",i[i.length]="</a:effectStyleLst>",i[i.length]="<a:bgFillStyleLst>",i[i.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',i[i.length]='<a:gradFill rotWithShape="1">',i[i.length]="<a:gsLst>",i[i.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',i[i.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',i[i.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',i[i.length]="</a:gsLst>",i[i.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',i[i.length]="</a:gradFill>",i[i.length]='<a:gradFill rotWithShape="1">',i[i.length]="<a:gsLst>",i[i.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',i[i.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',i[i.length]="</a:gsLst>",i[i.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',i[i.length]="</a:gradFill>",i[i.length]="</a:bgFillStyleLst>",i[i.length]="</a:fmtScheme>",i[i.length]="</a:themeElements>",i[i.length]="<a:objectDefaults>",i[i.length]="<a:spDef>",i[i.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',i[i.length]="</a:spDef>",i[i.length]="<a:lnDef>",i[i.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',i[i.length]="</a:lnDef>",i[i.length]="</a:objectDefaults>",i[i.length]="<a:extraClrSchemeLst/>",i[i.length]="</a:theme>",i.join("")}function QJ(n,t){return{flags:n.read_shift(4),version:n.read_shift(4),name:us(n)}}function ZJ(n){var t=yt(12+2*n.name.length);return t.write_shift(4,n.flags),t.write_shift(4,n.version),Mi(n.name,t),t.slice(0,t.l)}function JJ(n){for(var t=[],i=n.read_shift(4);i-- >0;)t.push([n.read_shift(4),n.read_shift(4)]);return t}function eee(n){var t=yt(4+8*n.length);t.write_shift(4,n.length);for(var i=0;i<n.length;++i)t.write_shift(4,n[i][0]),t.write_shift(4,n[i][1]);return t}function tee(n,t){var i=yt(8+2*t.length);return i.write_shift(4,n),Mi(t,i),i.slice(0,i.l)}function ree(n){return n.l+=4,n.read_shift(4)!=0}function nee(n,t){var i=yt(8);return i.write_shift(4,n),i.write_shift(4,1),i}function iee(){var n=Ns();return Rt(n,332),Rt(n,334,to(1)),Rt(n,335,ZJ({name:"XLDAPR",version:12e4,flags:3496657072})),Rt(n,336),Rt(n,339,tee(1,"XLDAPR")),Rt(n,52),Rt(n,35,to(514)),Rt(n,4096,to(0)),Rt(n,4097,Ta(1)),Rt(n,36),Rt(n,53),Rt(n,340),Rt(n,337,nee(1)),Rt(n,51,eee([[1,0]])),Rt(n,338),Rt(n,333),n.end()}function hP(){var n=[pi];return n.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),n.join("")}function see(n){var t={};t.i=n.read_shift(4);var i={};i.r=n.read_shift(4),i.c=n.read_shift(4),t.r=an(i);var r=n.read_shift(1);return r&2&&(t.l="1"),r&8&&(t.a="1"),t}var Gh=1024;function dP(n,t){for(var i=[21600,21600],r=["m0,0l0",i[1],i[0],i[1],i[0],"0xe"].join(","),s=[Nt("xml",null,{"xmlns:v":Js.v,"xmlns:o":Js.o,"xmlns:x":Js.x,"xmlns:mv":Js.mv}).replace(/\/>/,">"),Nt("o:shapelayout",Nt("o:idmap",null,{"v:ext":"edit",data:n}),{"v:ext":"edit"}),Nt("v:shapetype",[Nt("v:stroke",null,{joinstyle:"miter"}),Nt("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:i.join(","),path:r})];Gh<n*1e3;)Gh+=1e3;return t.forEach(function(o){var a=ki(o[0]),c={color2:"#BEFF82",type:"gradient"};c.type=="gradient"&&(c.angle="-180");var l=c.type=="gradient"?Nt("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,u=Nt("v:fill",l,c),p={on:"t",obscured:"t"};++Gh,s=s.concat(["<v:shape"+Ep({id:"_x0000_s"+Gh,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(o[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",u,Nt("v:shadow",null,p),Nt("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Yi("x:Anchor",[a.c+1,0,a.r+1,0,a.c+3,20,a.r+5,20].join(",")),Yi("x:AutoFill","False"),Yi("x:Row",String(a.r)),Yi("x:Column",String(a.c)),o[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),s.push("</xml>"),s.join("")}function fP(n){var t=[pi,Nt("comments",null,{xmlns:Ad[0]})],i=[];return t.push("<authors>"),n.forEach(function(r){r[1].forEach(function(s){var o=nn(s.a);i.indexOf(o)==-1&&(i.push(o),t.push("<author>"+o+"</author>")),s.T&&s.ID&&i.indexOf("tc="+s.ID)==-1&&(i.push("tc="+s.ID),t.push("<author>tc="+s.ID+"</author>"))})}),i.length==0&&(i.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),n.forEach(function(r){var s=0,o=[];if(r[1][0]&&r[1][0].T&&r[1][0].ID?s=i.indexOf("tc="+r[1][0].ID):r[1].forEach(function(l){l.a&&(s=i.indexOf(nn(l.a))),o.push(l.t||"")}),t.push('<comment ref="'+r[0]+'" authorId="'+s+'"><text>'),o.length<=1)t.push(Yi("t",nn(o[0]||"")));else{for(var a=`Comment:
    `+o[0]+`
`,c=1;c<o.length;++c)a+=`Reply:
    `+o[c]+`
`;t.push(Yi("t",nn(a)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function aee(n,t,i){var r=[pi,Nt("ThreadedComments",null,{xmlns:Ii.TCMNT}).replace(/[\/]>/,">")];return n.forEach(function(s){var o="";(s[1]||[]).forEach(function(a,c){if(!a.T){delete a.ID;return}a.a&&t.indexOf(a.a)==-1&&t.push(a.a);var l={ref:s[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+i.tcid++).slice(-12)+"}"};c==0?o=l.id:l.parentId=o,a.ID=l.id,a.a&&(l.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(a.a)).slice(-12)+"}"),r.push(Nt("threadedComment",Yi("text",a.t||""),l))})}),r.push("</ThreadedComments>"),r.join("")}function oee(n){var t=[pi,Nt("personList",null,{xmlns:Ii.TCMNT,"xmlns:x":Ad[0]}).replace(/[\/]>/,">")];return n.forEach(function(i,r){t.push(Nt("person",null,{displayName:i,id:"{54EE7950-7262-4200-6969-"+("000000000000"+r).slice(-12)+"}",userId:i,providerId:"None"}))}),t.push("</personList>"),t.join("")}function lee(n){var t={};t.iauthor=n.read_shift(4);var i=Xu(n);return t.rfx=i.s,t.ref=an(i.s),n.l+=16,t}function cee(n,t){return t==null&&(t=yt(36)),t.write_shift(4,n[1].iauthor),Rd(n[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var uee=us;function hee(n){return Mi(n.slice(0,54))}function dee(n){var t=Ns(),i=[];return Rt(t,628),Rt(t,630),n.forEach(function(r){r[1].forEach(function(s){i.indexOf(s.a)>-1||(i.push(s.a.slice(0,54)),Rt(t,632,hee(s.a)))})}),Rt(t,631),Rt(t,633),n.forEach(function(r){r[1].forEach(function(s){s.iauthor=i.indexOf(s.a);var o={s:ki(r[0]),e:ki(r[0])};Rt(t,635,cee([o,s])),s.t&&s.t.length>0&&Rt(t,637,pZ(s)),Rt(t,636),delete s.iauthor})}),Rt(t,634),Rt(t,629),t.end()}function fee(n,t){t.FullPaths.forEach(function(i,r){if(r!=0){var s=i.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");s.slice(-1)!=="/"&&dn.utils.cfb_add(n,s,t.FileIndex[r].content)}})}var pP=["xlsb","xlsm","xlam","biff8","xla"],pee=function(){var n=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function i(r,s,o,a){var c=!1,l=!1;o.length==0?l=!0:o.charAt(0)=="["&&(l=!0,o=o.slice(1,-1)),a.length==0?c=!0:a.charAt(0)=="["&&(c=!0,a=a.slice(1,-1));var u=o.length>0?parseInt(o,10)|0:0,p=a.length>0?parseInt(a,10)|0:0;return c?p+=t.c:--p,l?u+=t.r:--u,s+(c?"":"$")+cs(p)+(l?"":"$")+Xi(u)}return function(s,o){return t=o,s.replace(n,i)}}(),Kw=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,Qw=function(){return function(t,i){return t.replace(Kw,function(r,s,o,a,c,l){var u=Hw(a)-(o?0:i.c),p=zw(l)-(c?0:i.r),y=p==0?"":c?p+1:"["+p+"]",d=u==0?"":o?u+1:"["+u+"]";return s+"R"+y+"C"+d})}}();function mee(n,t){return n.replace(Kw,function(i,r,s,o,a,c){return r+(s=="$"?s+o:cs(Hw(o)+t.c))+(a=="$"?a+c:Xi(zw(c)+t.r))})}function gee(n){return n.length!=1}function ii(n){n.l+=1}function Tc(n,t){var i=n.read_shift(2);return[i&16383,i>>14&1,i>>15&1]}function mP(n,t,i){var r=2;if(i){if(i.biff>=2&&i.biff<=5)return gP(n);i.biff==12&&(r=4)}var s=n.read_shift(r),o=n.read_shift(r),a=Tc(n),c=Tc(n);return{s:{r:s,c:a[0],cRel:a[1],rRel:a[2]},e:{r:o,c:c[0],cRel:c[1],rRel:c[2]}}}function gP(n){var t=Tc(n),i=Tc(n),r=n.read_shift(1),s=n.read_shift(1);return{s:{r:t[0],c:r,cRel:t[1],rRel:t[2]},e:{r:i[0],c:s,cRel:i[1],rRel:i[2]}}}function yee(n,t,i){if(i.biff<8)return gP(n);var r=n.read_shift(i.biff==12?4:2),s=n.read_shift(i.biff==12?4:2),o=Tc(n),a=Tc(n);return{s:{r,c:o[0],cRel:o[1],rRel:o[2]},e:{r:s,c:a[0],cRel:a[1],rRel:a[2]}}}function yP(n,t,i){if(i&&i.biff>=2&&i.biff<=5)return vee(n);var r=n.read_shift(i&&i.biff==12?4:2),s=Tc(n);return{r,c:s[0],cRel:s[1],rRel:s[2]}}function vee(n){var t=Tc(n),i=n.read_shift(1);return{r:t[0],c:i,cRel:t[1],rRel:t[2]}}function _ee(n){var t=n.read_shift(2),i=n.read_shift(2);return{r:t,c:i&255,fQuoted:!!(i&16384),cRel:i>>15,rRel:i>>15}}function bee(n,t,i){var r=i&&i.biff?i.biff:8;if(r>=2&&r<=5)return xee(n);var s=n.read_shift(r>=12?4:2),o=n.read_shift(2),a=(o&16384)>>14,c=(o&32768)>>15;if(o&=16383,c==1)for(;s>524287;)s-=1048576;if(a==1)for(;o>8191;)o=o-16384;return{r:s,c:o,cRel:a,rRel:c}}function xee(n){var t=n.read_shift(2),i=n.read_shift(1),r=(t&32768)>>15,s=(t&16384)>>14;return t&=16383,r==1&&t>=8192&&(t=t-16384),s==1&&i>=128&&(i=i-256),{r:t,c:i,cRel:s,rRel:r}}function wee(n,t,i){var r=(n[n.l++]&96)>>5,s=mP(n,i.biff>=2&&i.biff<=5?6:8,i);return[r,s]}function See(n,t,i){var r=(n[n.l++]&96)>>5,s=n.read_shift(2,"i"),o=8;if(i)switch(i.biff){case 5:n.l+=12,o=6;break;case 12:o=12;break}var a=mP(n,o,i);return[r,s,a]}function Tee(n,t,i){var r=(n[n.l++]&96)>>5;return n.l+=i&&i.biff>8?12:i.biff<8?6:8,[r]}function Eee(n,t,i){var r=(n[n.l++]&96)>>5,s=n.read_shift(2),o=8;if(i)switch(i.biff){case 5:n.l+=12,o=6;break;case 12:o=12;break}return n.l+=o,[r,s]}function Cee(n,t,i){var r=(n[n.l++]&96)>>5,s=yee(n,t-1,i);return[r,s]}function Aee(n,t,i){var r=(n[n.l++]&96)>>5;return n.l+=i.biff==2?6:i.biff==12?14:7,[r]}function Kj(n){var t=n[n.l+1]&1,i=1;return n.l+=4,[t,i]}function jee(n,t,i){n.l+=2;for(var r=n.read_shift(i&&i.biff==2?1:2),s=[],o=0;o<=r;++o)s.push(n.read_shift(i&&i.biff==2?1:2));return s}function Ree(n,t,i){var r=n[n.l+1]&255?1:0;return n.l+=2,[r,n.read_shift(i&&i.biff==2?1:2)]}function Oee(n,t,i){var r=n[n.l+1]&255?1:0;return n.l+=2,[r,n.read_shift(i&&i.biff==2?1:2)]}function Iee(n){var t=n[n.l+1]&255?1:0;return n.l+=2,[t,n.read_shift(2)]}function kee(n,t,i){var r=n[n.l+1]&255?1:0;return n.l+=i&&i.biff==2?3:4,[r]}function vP(n){var t=n.read_shift(1),i=n.read_shift(1);return[t,i]}function Mee(n){return n.read_shift(2),vP(n)}function Pee(n){return n.read_shift(2),vP(n)}function Dee(n,t,i){var r=(n[n.l]&96)>>5;n.l+=1;var s=yP(n,0,i);return[r,s]}function Nee(n,t,i){var r=(n[n.l]&96)>>5;n.l+=1;var s=bee(n,0,i);return[r,s]}function Lee(n,t,i){var r=(n[n.l]&96)>>5;n.l+=1;var s=n.read_shift(2);i&&i.biff==5&&(n.l+=12);var o=yP(n,0,i);return[r,s,o]}function Fee(n,t,i){var r=(n[n.l]&96)>>5;n.l+=1;var s=n.read_shift(i&&i.biff<=3?1:2);return[Fte[s],xP[s],r]}function Uee(n,t,i){var r=n[n.l++],s=n.read_shift(1),o=i&&i.biff<=3?[r==88?-1:0,n.read_shift(1)]:Bee(n);return[s,(o[0]===0?xP:Lte)[o[1]]]}function Bee(n){return[n[n.l+1]>>7,n.read_shift(2)&32767]}function Vee(n,t,i){n.l+=i&&i.biff==2?3:4}function Gee(n,t,i){if(n.l++,i&&i.biff==12)return[n.read_shift(4,"i"),0];var r=n.read_shift(2),s=n.read_shift(i&&i.biff==2?1:2);return[r,s]}function zee(n){return n.l++,tm[n.read_shift(1)]}function Hee(n){return n.l++,n.read_shift(2)}function Wee(n){return n.l++,n.read_shift(1)!==0}function qee(n){return n.l++,Od(n)}function Yee(n,t,i){return n.l++,eP(n,t-1,i)}function $ee(n,t){var i=[n.read_shift(1)];if(t==12)switch(i[0]){case 2:i[0]=4;break;case 4:i[0]=16;break;case 0:i[0]=1;break;case 1:i[0]=2;break}switch(i[0]){case 4:i[1]=LZ(n,1)?"TRUE":"FALSE",t!=12&&(n.l+=7);break;case 37:case 16:i[1]=tm[n[n.l]],n.l+=t==12?4:8;break;case 0:n.l+=8;break;case 1:i[1]=Od(n);break;case 2:i[1]=VZ(n,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+i[0])}return i}function Xee(n,t,i){for(var r=n.read_shift(i.biff==12?4:2),s=[],o=0;o!=r;++o)s.push((i.biff==12?Xu:HZ)(n));return s}function Kee(n,t,i){var r=0,s=0;i.biff==12?(r=n.read_shift(4),s=n.read_shift(4)):(s=1+n.read_shift(1),r=1+n.read_shift(2)),i.biff>=2&&i.biff<8&&(--r,--s==0&&(s=256));for(var o=0,a=[];o!=r&&(a[o]=[]);++o)for(var c=0;c!=s;++c)a[o][c]=$ee(n,i.biff);return a}function Qee(n,t,i){var r=n.read_shift(1)>>>5&3,s=!i||i.biff>=8?4:2,o=n.read_shift(s);switch(i.biff){case 2:n.l+=5;break;case 3:case 4:n.l+=8;break;case 5:n.l+=12;break}return[r,0,o]}function Zee(n,t,i){if(i.biff==5)return Jee(n);var r=n.read_shift(1)>>>5&3,s=n.read_shift(2),o=n.read_shift(4);return[r,s,o]}function Jee(n){var t=n.read_shift(1)>>>5&3,i=n.read_shift(2,"i");n.l+=8;var r=n.read_shift(2);return n.l+=12,[t,i,r]}function ete(n,t,i){var r=n.read_shift(1)>>>5&3;n.l+=i&&i.biff==2?3:4;var s=n.read_shift(i&&i.biff==2?1:2);return[r,s]}function tte(n,t,i){var r=n.read_shift(1)>>>5&3,s=n.read_shift(i&&i.biff==2?1:2);return[r,s]}function rte(n,t,i){var r=n.read_shift(1)>>>5&3;return n.l+=4,i.biff<8&&n.l--,i.biff==12&&(n.l+=2),[r]}function nte(n,t,i){var r=(n[n.l++]&96)>>5,s=n.read_shift(2),o=4;if(i)switch(i.biff){case 5:o=15;break;case 12:o=6;break}return n.l+=o,[r,s]}var ite=Oo,ste=Oo,ate=Oo;function rm(n,t,i){return n.l+=2,[_ee(n)]}function Zw(n){return n.l+=6,[]}var ote=rm,lte=Zw,cte=Zw,ute=rm;function _P(n){return n.l+=2,[Z3(n),n.read_shift(2)&1]}var hte=rm,dte=_P,fte=Zw,pte=rm,mte=rm,gte=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function yte(n){n.l+=2;var t=n.read_shift(2),i=n.read_shift(2),r=n.read_shift(4),s=n.read_shift(2),o=n.read_shift(2),a=gte[i>>2&31];return{ixti:t,coltype:i&3,rt:a,idx:r,c:s,C:o}}function vte(n){return n.l+=2,[n.read_shift(4)]}function _te(n,t,i){return n.l+=5,n.l+=2,n.l+=i.biff==2?1:4,["PTGSHEET"]}function bte(n,t,i){return n.l+=i.biff==2?4:5,["PTGENDSHEET"]}function xte(n){var t=n.read_shift(1)>>>5&3,i=n.read_shift(2);return[t,i]}function wte(n){var t=n.read_shift(1)>>>5&3,i=n.read_shift(2);return[t,i]}function Ste(n){return n.l+=4,[0,0]}var Qj={1:{n:"PtgExp",f:Gee},2:{n:"PtgTbl",f:ate},3:{n:"PtgAdd",f:ii},4:{n:"PtgSub",f:ii},5:{n:"PtgMul",f:ii},6:{n:"PtgDiv",f:ii},7:{n:"PtgPower",f:ii},8:{n:"PtgConcat",f:ii},9:{n:"PtgLt",f:ii},10:{n:"PtgLe",f:ii},11:{n:"PtgEq",f:ii},12:{n:"PtgGe",f:ii},13:{n:"PtgGt",f:ii},14:{n:"PtgNe",f:ii},15:{n:"PtgIsect",f:ii},16:{n:"PtgUnion",f:ii},17:{n:"PtgRange",f:ii},18:{n:"PtgUplus",f:ii},19:{n:"PtgUminus",f:ii},20:{n:"PtgPercent",f:ii},21:{n:"PtgParen",f:ii},22:{n:"PtgMissArg",f:ii},23:{n:"PtgStr",f:Yee},26:{n:"PtgSheet",f:_te},27:{n:"PtgEndSheet",f:bte},28:{n:"PtgErr",f:zee},29:{n:"PtgBool",f:Wee},30:{n:"PtgInt",f:Hee},31:{n:"PtgNum",f:qee},32:{n:"PtgArray",f:Aee},33:{n:"PtgFunc",f:Fee},34:{n:"PtgFuncVar",f:Uee},35:{n:"PtgName",f:Qee},36:{n:"PtgRef",f:Dee},37:{n:"PtgArea",f:wee},38:{n:"PtgMemArea",f:ete},39:{n:"PtgMemErr",f:ite},40:{n:"PtgMemNoMem",f:ste},41:{n:"PtgMemFunc",f:tte},42:{n:"PtgRefErr",f:rte},43:{n:"PtgAreaErr",f:Tee},44:{n:"PtgRefN",f:Nee},45:{n:"PtgAreaN",f:Cee},46:{n:"PtgMemAreaN",f:xte},47:{n:"PtgMemNoMemN",f:wte},57:{n:"PtgNameX",f:Zee},58:{n:"PtgRef3d",f:Lee},59:{n:"PtgArea3d",f:See},60:{n:"PtgRefErr3d",f:nte},61:{n:"PtgAreaErr3d",f:Eee},255:{}},Tte={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},Ete={1:{n:"PtgElfLel",f:_P},2:{n:"PtgElfRw",f:pte},3:{n:"PtgElfCol",f:ote},6:{n:"PtgElfRwV",f:mte},7:{n:"PtgElfColV",f:ute},10:{n:"PtgElfRadical",f:hte},11:{n:"PtgElfRadicalS",f:fte},13:{n:"PtgElfColS",f:lte},15:{n:"PtgElfColSV",f:cte},16:{n:"PtgElfRadicalLel",f:dte},25:{n:"PtgList",f:yte},29:{n:"PtgSxName",f:vte},255:{}},Cte={0:{n:"PtgAttrNoop",f:Ste},1:{n:"PtgAttrSemi",f:kee},2:{n:"PtgAttrIf",f:Oee},4:{n:"PtgAttrChoose",f:jee},8:{n:"PtgAttrGoto",f:Ree},16:{n:"PtgAttrSum",f:Vee},32:{n:"PtgAttrBaxcel",f:Kj},33:{n:"PtgAttrBaxcel",f:Kj},64:{n:"PtgAttrSpace",f:Mee},65:{n:"PtgAttrSpaceSemi",f:Pee},128:{n:"PtgAttrIfError",f:Iee},255:{}};function Ate(n,t,i,r){if(r.biff<8)return Oo(n,t);for(var s=n.l+t,o=[],a=0;a!==i.length;++a)switch(i[a][0]){case"PtgArray":i[a][1]=Kee(n,0,r),o.push(i[a][1]);break;case"PtgMemArea":i[a][2]=Xee(n,i[a][1],r),o.push(i[a][2]);break;case"PtgExp":r&&r.biff==12&&(i[a][1][1]=n.read_shift(4),o.push(i[a][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+i[a][0]}return t=s-n.l,t!==0&&o.push(Oo(n,t)),o}function jte(n,t,i){for(var r=n.l+t,s,o,a=[];r!=n.l;)t=r-n.l,o=n[n.l],s=Qj[o]||Qj[Tte[o]],(o===24||o===25)&&(s=(o===24?Ete:Cte)[n[n.l+1]]),!s||!s.f?Oo(n,t):a.push([s.n,s.f(n,t,i)]);return a}function Rte(n){for(var t=[],i=0;i<n.length;++i){for(var r=n[i],s=[],o=0;o<r.length;++o){var a=r[o];if(a)switch(a[0]){case 2:s.push('"'+a[1].replace(/"/g,'""')+'"');break;default:s.push(a[1])}else s.push("")}t.push(s.join(","))}return t.join(";")}var Ote={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function Ite(n,t){if(!n&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(n)?"'"+n+"'":n}function bP(n,t,i){if(!n)return"SH33TJSERR0";if(i.biff>8&&(!n.XTI||!n.XTI[t]))return n.SheetNames[t];if(!n.XTI)return"SH33TJSERR6";var r=n.XTI[t];if(i.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":n.XTI[t-1];if(!r)return"SH33TJSERR1";var s="";if(i.biff>8)switch(n[r[0]][0]){case 357:return s=r[1]==-1?"#REF":n.SheetNames[r[1]],r[1]==r[2]?s:s+":"+n.SheetNames[r[2]];case 358:return i.SID!=null?n.SheetNames[i.SID]:"SH33TJSSAME"+n[r[0]][0];case 355:default:return"SH33TJSSRC"+n[r[0]][0]}switch(n[r[0]][0][0]){case 1025:return s=r[1]==-1?"#REF":n.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?s:s+":"+n.SheetNames[r[2]];case 14849:return n[r[0]].slice(1).map(function(o){return o.Name}).join(";;");default:return n[r[0]][0][3]?(s=r[1]==-1?"#REF":n[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?s:s+":"+n[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function Zj(n,t,i){var r=bP(n,t,i);return r=="#REF"?r:Ite(r,i)}function dd(n,t,i,r,s){var o=s&&s.biff||8,a={s:{c:0,r:0},e:{c:0,r:0}},c=[],l,u,p,y=0,d=0,f,b="";if(!n[0]||!n[0][0])return"";for(var g=-1,v="",_=0,x=n[0].length;_<x;++_){var w=n[0][_];switch(w[0]){case"PtgUminus":c.push("-"+c.pop());break;case"PtgUplus":c.push("+"+c.pop());break;case"PtgPercent":c.push(c.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=c.pop(),u=c.pop(),g>=0){switch(n[0][g][1][0]){case 0:v=Un(" ",n[0][g][1][1]);break;case 1:v=Un("\r",n[0][g][1][1]);break;default:if(v="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+n[0][g][1][0])}u=u+v,g=-1}c.push(u+Ote[w[0]]+l);break;case"PtgIsect":l=c.pop(),u=c.pop(),c.push(u+" "+l);break;case"PtgUnion":l=c.pop(),u=c.pop(),c.push(u+","+l);break;case"PtgRange":l=c.pop(),u=c.pop(),c.push(u+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":p=Zf(w[1][1],a,s),c.push(Jf(p,o));break;case"PtgRefN":p=i?Zf(w[1][1],i,s):w[1][1],c.push(Jf(p,o));break;case"PtgRef3d":y=w[1][1],p=Zf(w[1][2],a,s),b=Zj(r,y,s),c.push(b+"!"+Jf(p,o));break;case"PtgFunc":case"PtgFuncVar":var S=w[1][0],R=w[1][1];S||(S=0),S&=127;var D=S==0?[]:c.slice(-S);c.length-=S,R==="User"&&(R=D.shift()),c.push(R+"("+D.join(",")+")");break;case"PtgBool":c.push(w[1]?"TRUE":"FALSE");break;case"PtgInt":c.push(w[1]);break;case"PtgNum":c.push(String(w[1]));break;case"PtgStr":c.push('"'+w[1].replace(/"/g,'""')+'"');break;case"PtgErr":c.push(w[1]);break;case"PtgAreaN":f=Nj(w[1][1],i?{s:i}:a,s),c.push(b_(f,s));break;case"PtgArea":f=Nj(w[1][1],a,s),c.push(b_(f,s));break;case"PtgArea3d":y=w[1][1],f=w[1][2],b=Zj(r,y,s),c.push(b+"!"+b_(f,s));break;case"PtgAttrSum":c.push("SUM("+c.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":d=w[1][2];var A=(r.names||[])[d-1]||(r[0]||[])[d],C=A?A.Name:"SH33TJSNAME"+String(d);C&&C.slice(0,6)=="_xlfn."&&!s.xlfn&&(C=C.slice(6)),c.push(C);break;case"PtgNameX":var j=w[1][1];d=w[1][2];var P;if(s.biff<=5)j<0&&(j=-j),r[j]&&(P=r[j][d]);else{var O="";if(((r[j]||[])[0]||[])[0]==14849||(((r[j]||[])[0]||[])[0]==1025?r[j][d]&&r[j][d].itab>0&&(O=r.SheetNames[r[j][d].itab-1]+"!"):O=r.SheetNames[d-1]+"!"),r[j]&&r[j][d])O+=r[j][d].Name;else if(r[0]&&r[0][d])O+=r[0][d].Name;else{var L=(bP(r,j,s)||"").split(";;");L[d-1]?O=L[d-1]:O+="SH33TJSERRX"}c.push(O);break}P||(P={Name:"SH33TJSERRY"}),c.push(P.Name);break;case"PtgParen":var N="(",q=")";if(g>=0){switch(v="",n[0][g][1][0]){case 2:N=Un(" ",n[0][g][1][1])+N;break;case 3:N=Un("\r",n[0][g][1][1])+N;break;case 4:q=Un(" ",n[0][g][1][1])+q;break;case 5:q=Un("\r",n[0][g][1][1])+q;break;default:if(s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+n[0][g][1][0])}g=-1}c.push(N+c.pop()+q);break;case"PtgRefErr":c.push("#REF!");break;case"PtgRefErr3d":c.push("#REF!");break;case"PtgExp":p={c:w[1][1],r:w[1][0]};var W={c:i.c,r:i.r};if(r.sharedf[an(p)]){var Y=r.sharedf[an(p)];c.push(dd(Y,a,W,r,s))}else{var J=!1;for(l=0;l!=r.arrayf.length;++l)if(u=r.arrayf[l],!(p.c<u[0].s.c||p.c>u[0].e.c)&&!(p.r<u[0].s.r||p.r>u[0].e.r)){c.push(dd(u[1],a,W,r,s)),J=!0;break}J||c.push(w[1])}break;case"PtgArray":c.push("{"+Rte(w[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":g=_;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":c.push("");break;case"PtgAreaErr":c.push("#REF!");break;case"PtgAreaErr3d":c.push("#REF!");break;case"PtgList":c.push("Table"+w[1].idx+"[#"+w[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(w));default:throw new Error("Unrecognized Formula Token: "+String(w))}var te=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(s.biff!=3&&g>=0&&te.indexOf(n[0][_][0])==-1){w=n[0][g];var ee=!0;switch(w[1][0]){case 4:ee=!1;case 0:v=Un(" ",w[1][1]);break;case 5:ee=!1;case 1:v=Un("\r",w[1][1]);break;default:if(v="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+w[1][0])}c.push((ee?v:"")+c.pop()+(ee?"":v)),g=-1}}if(c.length>1&&s.WTF)throw new Error("bad formula stack");return c[0]}function kte(n){if(n==null){var t=yt(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof n=="number")return Mu(n);return Mu(0)}function Mte(n,t,i,r,s){var o=Pu(t,i,s),a=kte(n.v),c=yt(6),l=33;c.write_shift(2,l),c.write_shift(4,0);for(var u=yt(n.bf.length),p=0;p<n.bf.length;++p)u[p]=n.bf[p];var y=qi([o,a,c,u]);return y}function Ly(n,t,i){var r=n.read_shift(4),s=jte(n,r,i),o=n.read_shift(4),a=o>0?Ate(n,o,s,i):null;return[s,a]}var Pte=Ly,Fy=Ly,Dte=Ly,Nte=Ly,Lte={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},xP={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},Fte={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function Ute(n){var t="of:="+n.replace(Kw,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function Bte(n){return n.replace(/\./,"!")}var ep=typeof Map<"u";function Jw(n,t,i){var r=0,s=n.length;if(i){if(ep?i.has(t):Object.prototype.hasOwnProperty.call(i,t)){for(var o=ep?i.get(t):i[t];r<o.length;++r)if(n[o[r]].t===t)return n.Count++,o[r]}}else for(;r<s;++r)if(n[r].t===t)return n.Count++,r;return n[s]={t},n.Count++,n.Unique++,i&&(ep?(i.has(t)||i.set(t,[]),i.get(t).push(s)):(Object.prototype.hasOwnProperty.call(i,t)||(i[t]=[]),i[t].push(s))),s}function Uy(n,t){var i={min:n+1,max:n+1},r=-1;return t.MDW&&(yl=t.MDW),t.width!=null?i.customWidth=1:t.wpx!=null?r=Gg(t.wpx):t.wch!=null&&(r=t.wch),r>-1?(i.width=Ib(r),i.customWidth=1):t.width!=null&&(i.width=t.width),t.hidden&&(i.hidden=!0),t.level!=null&&(i.outlineLevel=i.level=t.level),i}function wP(n,t){if(n){var i=[.7,.7,.75,.75,.3,.3];n.left==null&&(n.left=i[0]),n.right==null&&(n.right=i[1]),n.top==null&&(n.top=i[2]),n.bottom==null&&(n.bottom=i[3]),n.header==null&&(n.header=i[4]),n.footer==null&&(n.footer=i[5])}}function Oc(n,t,i){var r=i.revssf[t.z!=null?t.z:"General"],s=60,o=n.length;if(r==null&&i.ssf){for(;s<392;++s)if(i.ssf[s]==null){y3(t.z,s),i.ssf[s]=t.z,i.revssf[t.z]=r=s;break}}for(s=0;s!=o;++s)if(n[s].numFmtId===r)return s;return n[o]={numFmtId:r,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},o}function Vte(n,t,i){if(n&&n["!ref"]){var r=An(n["!ref"]);if(r.e.c<r.s.c||r.e.r<r.s.r)throw new Error("Bad range ("+i+"): "+n["!ref"])}}function Gte(n){if(n.length===0)return"";for(var t='<mergeCells count="'+n.length+'">',i=0;i!=n.length;++i)t+='<mergeCell ref="'+hi(n[i])+'"/>';return t+"</mergeCells>"}function zte(n,t,i,r,s){var o=!1,a={},c=null;if(r.bookType!=="xlsx"&&t.vbaraw){var l=t.SheetNames[i];try{t.Workbook&&(l=t.Workbook.Sheets[i].CodeName||l)}catch{}o=!0,a.codeName=Tp(nn(l))}if(n&&n["!outline"]){var u={summaryBelow:1,summaryRight:1};n["!outline"].above&&(u.summaryBelow=0),n["!outline"].left&&(u.summaryRight=0),c=(c||"")+Nt("outlinePr",null,u)}!o&&!c||(s[s.length]=Nt("sheetPr",c,a))}var Hte=["objects","scenarios","selectLockedCells","selectUnlockedCells"],Wte=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function qte(n){var t={sheet:1};return Hte.forEach(function(i){n[i]!=null&&n[i]&&(t[i]="1")}),Wte.forEach(function(i){n[i]!=null&&!n[i]&&(t[i]="0")}),n.password&&(t.password=sP(n.password).toString(16).toUpperCase()),Nt("sheetProtection",null,t)}function Yte(n){return wP(n),Nt("pageMargins",null,n)}function $te(n,t){for(var i=["<cols>"],r,s=0;s!=t.length;++s)(r=t[s])&&(i[i.length]=Nt("col",null,Uy(s,r)));return i[i.length]="</cols>",i.join("")}function Xte(n,t,i,r){var s=typeof n.ref=="string"?n.ref:hi(n.ref);i.Workbook||(i.Workbook={Sheets:[]}),i.Workbook.Names||(i.Workbook.Names=[]);var o=i.Workbook.Names,a=aa(s);a.s.r==a.e.r&&(a.e.r=aa(t["!ref"]).e.r,s=hi(a));for(var c=0;c<o.length;++c){var l=o[c];if(l.Name=="_xlnm._FilterDatabase"&&l.Sheet==r){l.Ref="'"+i.SheetNames[r]+"'!"+s;break}}return c==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+i.SheetNames[r]+"'!"+s}),Nt("autoFilter",null,{ref:s})}function Kte(n,t,i,r){var s={workbookViewId:"0"};return(((r||{}).Workbook||{}).Views||[])[0]&&(s.rightToLeft=r.Workbook.Views[0].RTL?"1":"0"),Nt("sheetViews",Nt("sheetView",null,s),{})}function Qte(n,t,i,r){if(n.c&&i["!comments"].push([t,n.c]),n.v===void 0&&typeof n.f!="string"||n.t==="z"&&!n.f)return"";var s="",o=n.t,a=n.v;if(n.t!=="z")switch(n.t){case"b":s=n.v?"1":"0";break;case"n":s=""+n.v;break;case"e":s=tm[n.v];break;case"d":r&&r.cellDates?s=Ss(n.v,-1).toISOString():(n=Bs(n),n.t="n",s=""+(n.v=Us(Ss(n.v)))),typeof n.z>"u"&&(n.z=Vn[14]);break;default:s=n.v;break}var c=Yi("v",nn(s)),l={r:t},u=Oc(r.cellXfs,n,r);switch(u!==0&&(l.s=u),n.t){case"n":break;case"d":l.t="d";break;case"b":l.t="b";break;case"e":l.t="e";break;case"z":break;default:if(n.v==null){delete n.t;break}if(n.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(r&&r.bookSST){c=Yi("v",""+Jw(r.Strings,n.v,r.revStrings)),l.t="s";break}l.t="str";break}if(n.t!=o&&(n.t=o,n.v=a),typeof n.f=="string"&&n.f){var p=n.F&&n.F.slice(0,t.length)==t?{t:"array",ref:n.F}:null;c=Nt("f",nn(n.f),p)+(n.v!=null?c:"")}return n.l&&i["!links"].push([t,n.l]),n.D&&(l.cm=1),Nt("c",c,l)}function Zte(n,t,i,r){var s=[],o=[],a=An(n["!ref"]),c="",l,u="",p=[],y=0,d=0,f=n["!rows"],b=Array.isArray(n),g={r:u},v,_=-1;for(d=a.s.c;d<=a.e.c;++d)p[d]=cs(d);for(y=a.s.r;y<=a.e.r;++y){for(o=[],u=Xi(y),d=a.s.c;d<=a.e.c;++d){l=p[d]+u;var x=b?(n[y]||[])[d]:n[l];x!==void 0&&(c=Qte(x,l,n,t))!=null&&o.push(c)}(o.length>0||f&&f[y])&&(g={r:u},f&&f[y]&&(v=f[y],v.hidden&&(g.hidden=1),_=-1,v.hpx?_=zg(v.hpx):v.hpt&&(_=v.hpt),_>-1&&(g.ht=_,g.customHeight=1),v.level&&(g.outlineLevel=v.level)),s[s.length]=Nt("row",o.join(""),g))}if(f)for(;y<f.length;++y)f&&f[y]&&(g={r:y+1},v=f[y],v.hidden&&(g.hidden=1),_=-1,v.hpx?_=zg(v.hpx):v.hpt&&(_=v.hpt),_>-1&&(g.ht=_,g.customHeight=1),v.level&&(g.outlineLevel=v.level),s[s.length]=Nt("row","",g));return s.join("")}function SP(n,t,i,r){var s=[pi,Nt("worksheet",null,{xmlns:Ad[0],"xmlns:r":Ii.r})],o=i.SheetNames[n],a=0,c="",l=i.Sheets[o];l==null&&(l={});var u=l["!ref"]||"A1",p=An(u);if(p.e.c>16383||p.e.r>1048575){if(t.WTF)throw new Error("Range "+u+" exceeds format limit A1:XFD1048576");p.e.c=Math.min(p.e.c,16383),p.e.r=Math.min(p.e.c,1048575),u=hi(p)}r||(r={}),l["!comments"]=[];var y=[];zte(l,i,n,t,s),s[s.length]=Nt("dimension",null,{ref:u}),s[s.length]=Kte(l,t,n,i),t.sheetFormat&&(s[s.length]=Nt("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),l["!cols"]!=null&&l["!cols"].length>0&&(s[s.length]=$te(l,l["!cols"])),s[a=s.length]="<sheetData/>",l["!links"]=[],l["!ref"]!=null&&(c=Zte(l,t),c.length>0&&(s[s.length]=c)),s.length>a+1&&(s[s.length]="</sheetData>",s[a]=s[a].replace("/>",">")),l["!protect"]&&(s[s.length]=qte(l["!protect"])),l["!autofilter"]!=null&&(s[s.length]=Xte(l["!autofilter"],l,i,n)),l["!merges"]!=null&&l["!merges"].length>0&&(s[s.length]=Gte(l["!merges"]));var d=-1,f,b=-1;return l["!links"].length>0&&(s[s.length]="<hyperlinks>",l["!links"].forEach(function(g){g[1].Target&&(f={ref:g[0]},g[1].Target.charAt(0)!="#"&&(b=rn(r,-1,nn(g[1].Target).replace(/#.*$/,""),Gr.HLINK),f["r:id"]="rId"+b),(d=g[1].Target.indexOf("#"))>-1&&(f.location=nn(g[1].Target.slice(d+1))),g[1].Tooltip&&(f.tooltip=nn(g[1].Tooltip)),s[s.length]=Nt("hyperlink",null,f))}),s[s.length]="</hyperlinks>"),delete l["!links"],l["!margins"]!=null&&(s[s.length]=Yte(l["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(s[s.length]=Yi("ignoredErrors",Nt("ignoredError",null,{numberStoredAsText:1,sqref:u}))),y.length>0&&(b=rn(r,-1,"../drawings/drawing"+(n+1)+".xml",Gr.DRAW),s[s.length]=Nt("drawing",null,{"r:id":"rId"+b}),l["!drawing"]=y),l["!comments"].length>0&&(b=rn(r,-1,"../drawings/vmlDrawing"+(n+1)+".vml",Gr.VML),s[s.length]=Nt("legacyDrawing",null,{"r:id":"rId"+b}),l["!legacy"]=b),s.length>1&&(s[s.length]="</worksheet>",s[1]=s[1].replace("/>",">")),s.join("")}function Jte(n,t){var i={},r=n.l+t;i.r=n.read_shift(4),n.l+=4;var s=n.read_shift(2);n.l+=1;var o=n.read_shift(1);return n.l=r,o&7&&(i.level=o&7),o&16&&(i.hidden=!0),o&32&&(i.hpt=s/20),i}function ere(n,t,i){var r=yt(145),s=(i["!rows"]||[])[n]||{};r.write_shift(4,n),r.write_shift(4,0);var o=320;s.hpx?o=zg(s.hpx)*20:s.hpt&&(o=s.hpt*20),r.write_shift(2,o),r.write_shift(1,0);var a=0;s.level&&(a|=s.level),s.hidden&&(a|=16),(s.hpx||s.hpt)&&(a|=32),r.write_shift(1,a),r.write_shift(1,0);var c=0,l=r.l;r.l+=4;for(var u={r:n,c:0},p=0;p<16;++p)if(!(t.s.c>p+1<<10||t.e.c<p<<10)){for(var y=-1,d=-1,f=p<<10;f<p+1<<10;++f){u.c=f;var b=Array.isArray(i)?(i[u.r]||[])[u.c]:i[an(u)];b&&(y<0&&(y=f),d=f)}y<0||(++c,r.write_shift(4,y),r.write_shift(4,d))}var g=r.l;return r.l=l,r.write_shift(4,c),r.l=g,r.length>r.l?r.slice(0,r.l):r}function tre(n,t,i,r){var s=ere(r,i,t);(s.length>17||(t["!rows"]||[])[r])&&Rt(n,0,s)}var rre=Xu,nre=Rd;function ire(){}function sre(n,t){var i={},r=n[n.l];return++n.l,i.above=!(r&64),i.left=!(r&128),n.l+=18,i.name=mZ(n),i}function are(n,t,i){i==null&&(i=yt(84+4*n.length));var r=192;t&&(t.above&&(r&=-65),t.left&&(r&=-129)),i.write_shift(1,r);for(var s=1;s<3;++s)i.write_shift(1,0);return Ug({auto:1},i),i.write_shift(-4,-1),i.write_shift(-4,-1),F3(n,i),i.slice(0,i.l)}function ore(n){var t=ka(n);return[t]}function lre(n,t,i){return i==null&&(i=yt(8)),qu(t,i)}function cre(n){var t=Yu(n);return[t]}function ure(n,t,i){return i==null&&(i=yt(4)),$u(t,i)}function hre(n){var t=ka(n),i=n.read_shift(1);return[t,i,"b"]}function dre(n,t,i){return i==null&&(i=yt(9)),qu(t,i),i.write_shift(1,n.v?1:0),i}function fre(n){var t=Yu(n),i=n.read_shift(1);return[t,i,"b"]}function pre(n,t,i){return i==null&&(i=yt(5)),$u(t,i),i.write_shift(1,n.v?1:0),i}function mre(n){var t=ka(n),i=n.read_shift(1);return[t,i,"e"]}function gre(n,t,i){return i==null&&(i=yt(9)),qu(t,i),i.write_shift(1,n.v),i}function yre(n){var t=Yu(n),i=n.read_shift(1);return[t,i,"e"]}function vre(n,t,i){return i==null&&(i=yt(8)),$u(t,i),i.write_shift(1,n.v),i.write_shift(2,0),i.write_shift(1,0),i}function _re(n){var t=ka(n),i=n.read_shift(4);return[t,i,"s"]}function bre(n,t,i){return i==null&&(i=yt(12)),qu(t,i),i.write_shift(4,t.v),i}function xre(n){var t=Yu(n),i=n.read_shift(4);return[t,i,"s"]}function wre(n,t,i){return i==null&&(i=yt(8)),$u(t,i),i.write_shift(4,t.v),i}function Sre(n){var t=ka(n),i=Od(n);return[t,i,"n"]}function Tre(n,t,i){return i==null&&(i=yt(16)),qu(t,i),Mu(n.v,i),i}function Ere(n){var t=Yu(n),i=Od(n);return[t,i,"n"]}function Cre(n,t,i){return i==null&&(i=yt(12)),$u(t,i),Mu(n.v,i),i}function Are(n){var t=ka(n),i=U3(n);return[t,i,"n"]}function jre(n,t,i){return i==null&&(i=yt(12)),qu(t,i),B3(n.v,i),i}function Rre(n){var t=Yu(n),i=U3(n);return[t,i,"n"]}function Ore(n,t,i){return i==null&&(i=yt(8)),$u(t,i),B3(n.v,i),i}function Ire(n){var t=ka(n),i=Ww(n);return[t,i,"is"]}function kre(n){var t=ka(n),i=us(n);return[t,i,"str"]}function Mre(n,t,i){return i==null&&(i=yt(12+4*n.v.length)),qu(t,i),Mi(n.v,i),i.length>i.l?i.slice(0,i.l):i}function Pre(n){var t=Yu(n),i=us(n);return[t,i,"str"]}function Dre(n,t,i){return i==null&&(i=yt(8+4*n.v.length)),$u(t,i),Mi(n.v,i),i.length>i.l?i.slice(0,i.l):i}function Nre(n,t,i){var r=n.l+t,s=ka(n);s.r=i["!row"];var o=n.read_shift(1),a=[s,o,"b"];if(i.cellFormula){n.l+=2;var c=Fy(n,r-n.l,i);a[3]=dd(c,null,s,i.supbooks,i)}else n.l=r;return a}function Lre(n,t,i){var r=n.l+t,s=ka(n);s.r=i["!row"];var o=n.read_shift(1),a=[s,o,"e"];if(i.cellFormula){n.l+=2;var c=Fy(n,r-n.l,i);a[3]=dd(c,null,s,i.supbooks,i)}else n.l=r;return a}function Fre(n,t,i){var r=n.l+t,s=ka(n);s.r=i["!row"];var o=Od(n),a=[s,o,"n"];if(i.cellFormula){n.l+=2;var c=Fy(n,r-n.l,i);a[3]=dd(c,null,s,i.supbooks,i)}else n.l=r;return a}function Ure(n,t,i){var r=n.l+t,s=ka(n);s.r=i["!row"];var o=us(n),a=[s,o,"str"];if(i.cellFormula){n.l+=2;var c=Fy(n,r-n.l,i);a[3]=dd(c,null,s,i.supbooks,i)}else n.l=r;return a}var Bre=Xu,Vre=Rd;function Gre(n,t){return t==null&&(t=yt(4)),t.write_shift(4,n),t}function zre(n,t){var i=n.l+t,r=Xu(n),s=qw(n),o=us(n),a=us(n),c=us(n);n.l=i;var l={rfx:r,relId:s,loc:o,display:c};return a&&(l.Tooltip=a),l}function Hre(n,t){var i=yt(50+4*(n[1].Target.length+(n[1].Tooltip||"").length));Rd({s:ki(n[0]),e:ki(n[0])},i),Yw("rId"+t,i);var r=n[1].Target.indexOf("#"),s=r==-1?"":n[1].Target.slice(r+1);return Mi(s||"",i),Mi(n[1].Tooltip||"",i),Mi("",i),i.slice(0,i.l)}function Wre(){}function qre(n,t,i){var r=n.l+t,s=V3(n),o=n.read_shift(1),a=[s];if(a[2]=o,i.cellFormula){var c=Pte(n,r-n.l,i);a[1]=c}else n.l=r;return a}function Yre(n,t,i){var r=n.l+t,s=Xu(n),o=[s];if(i.cellFormula){var a=Nte(n,r-n.l,i);o[1]=a,n.l=r}else n.l=r;return o}function $re(n,t,i){i==null&&(i=yt(18));var r=Uy(n,t);i.write_shift(-4,n),i.write_shift(-4,n),i.write_shift(4,(r.width||10)*256),i.write_shift(4,0);var s=0;return t.hidden&&(s|=1),typeof r.width=="number"&&(s|=2),t.level&&(s|=t.level<<8),i.write_shift(2,s),i}var TP=["left","right","top","bottom","header","footer"];function Xre(n){var t={};return TP.forEach(function(i){t[i]=Od(n)}),t}function Kre(n,t){return t==null&&(t=yt(6*8)),wP(n),TP.forEach(function(i){Mu(n[i],t)}),t}function Qre(n){var t=n.read_shift(2);return n.l+=28,{RTL:t&32}}function Zre(n,t,i){i==null&&(i=yt(30));var r=924;return(((t||{}).Views||[])[0]||{}).RTL&&(r|=32),i.write_shift(2,r),i.write_shift(4,0),i.write_shift(4,0),i.write_shift(4,0),i.write_shift(1,0),i.write_shift(1,0),i.write_shift(2,0),i.write_shift(2,100),i.write_shift(2,0),i.write_shift(2,0),i.write_shift(2,0),i.write_shift(4,0),i}function Jre(n){var t=yt(24);return t.write_shift(4,4),t.write_shift(4,1),Rd(n,t),t}function ene(n,t){return t==null&&(t=yt(16*4+2)),t.write_shift(2,n.password?sP(n.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(i){i[1]?t.write_shift(4,n[i[0]]!=null&&!n[i[0]]?1:0):t.write_shift(4,n[i[0]]!=null&&n[i[0]]?0:1)}),t}function tne(){}function rne(){}function nne(n,t,i,r,s,o,a){if(t.v===void 0)return!1;var c="";switch(t.t){case"b":c=t.v?"1":"0";break;case"d":t=Bs(t),t.z=t.z||Vn[14],t.v=Us(Ss(t.v)),t.t="n";break;case"n":case"e":c=""+t.v;break;default:c=t.v;break}var l={r:i,c:r};switch(l.s=Oc(s.cellXfs,t,s),t.l&&o["!links"].push([an(l),t.l]),t.c&&o["!comments"].push([an(l),t.c]),t.t){case"s":case"str":return s.bookSST?(c=Jw(s.Strings,t.v,s.revStrings),l.t="s",l.v=c,a?Rt(n,18,wre(t,l)):Rt(n,7,bre(t,l))):(l.t="str",a?Rt(n,17,Dre(t,l)):Rt(n,6,Mre(t,l))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?a?Rt(n,13,Ore(t,l)):Rt(n,2,jre(t,l)):a?Rt(n,16,Cre(t,l)):Rt(n,5,Tre(t,l)),!0;case"b":return l.t="b",a?Rt(n,15,pre(t,l)):Rt(n,4,dre(t,l)),!0;case"e":return l.t="e",a?Rt(n,14,vre(t,l)):Rt(n,3,gre(t,l)),!0}return a?Rt(n,12,ure(t,l)):Rt(n,1,lre(t,l)),!0}function ine(n,t,i,r){var s=An(t["!ref"]||"A1"),o,a="",c=[];Rt(n,145);var l=Array.isArray(t),u=s.e.r;t["!rows"]&&(u=Math.max(s.e.r,t["!rows"].length-1));for(var p=s.s.r;p<=u;++p){a=Xi(p),tre(n,t,s,p);var y=!1;if(p<=s.e.r)for(var d=s.s.c;d<=s.e.c;++d){p===s.s.r&&(c[d]=cs(d)),o=c[d]+a;var f=l?(t[p]||[])[d]:t[o];if(!f){y=!1;continue}y=nne(n,f,p,d,r,t,y)}}Rt(n,146)}function sne(n,t){!t||!t["!merges"]||(Rt(n,177,Gre(t["!merges"].length)),t["!merges"].forEach(function(i){Rt(n,176,Vre(i))}),Rt(n,178))}function ane(n,t){!t||!t["!cols"]||(Rt(n,390),t["!cols"].forEach(function(i,r){i&&Rt(n,60,$re(r,i))}),Rt(n,391))}function one(n,t){!t||!t["!ref"]||(Rt(n,648),Rt(n,649,Jre(An(t["!ref"]))),Rt(n,650))}function lne(n,t,i){t["!links"].forEach(function(r){if(r[1].Target){var s=rn(i,-1,r[1].Target.replace(/#.*$/,""),Gr.HLINK);Rt(n,494,Hre(r,s))}}),delete t["!links"]}function cne(n,t,i,r){if(t["!comments"].length>0){var s=rn(r,-1,"../drawings/vmlDrawing"+(i+1)+".vml",Gr.VML);Rt(n,551,Yw("rId"+s)),t["!legacy"]=s}}function une(n,t,i,r){if(t["!autofilter"]){var s=t["!autofilter"],o=typeof s.ref=="string"?s.ref:hi(s.ref);i.Workbook||(i.Workbook={Sheets:[]}),i.Workbook.Names||(i.Workbook.Names=[]);var a=i.Workbook.Names,c=aa(o);c.s.r==c.e.r&&(c.e.r=aa(t["!ref"]).e.r,o=hi(c));for(var l=0;l<a.length;++l){var u=a[l];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==r){u.Ref="'"+i.SheetNames[r]+"'!"+o;break}}l==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+i.SheetNames[r]+"'!"+o}),Rt(n,161,Rd(An(o))),Rt(n,162)}}function hne(n,t,i){Rt(n,133),Rt(n,137,Zre(t,i)),Rt(n,138),Rt(n,134)}function dne(n,t){t["!protect"]&&Rt(n,535,ene(t["!protect"]))}function fne(n,t,i,r){var s=Ns(),o=i.SheetNames[n],a=i.Sheets[o]||{},c=o;try{i&&i.Workbook&&(c=i.Workbook.Sheets[n].CodeName||c)}catch{}var l=An(a["!ref"]||"A1");if(l.e.c>16383||l.e.r>1048575){if(t.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");l.e.c=Math.min(l.e.c,16383),l.e.r=Math.min(l.e.c,1048575)}return a["!links"]=[],a["!comments"]=[],Rt(s,129),(i.vbaraw||a["!outline"])&&Rt(s,147,are(c,a["!outline"])),Rt(s,148,nre(l)),hne(s,a,i.Workbook),ane(s,a),ine(s,a,n,t),dne(s,a),une(s,a,i,n),sne(s,a),lne(s,a,r),a["!margins"]&&Rt(s,476,Kre(a["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&one(s,a),cne(s,a,n,r),Rt(s,130),s.end()}function pne(n,t){n.l+=10;var i=us(n);return{name:i}}var mne=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function gne(n){return!n.Workbook||!n.Workbook.WBProps?"false":YQ(n.Workbook.WBProps.date1904)?"true":"false"}var yne="][*?/\\".split("");function EP(n,t){if(n.length>31)throw new Error("Sheet names cannot exceed 31 chars");var i=!0;return yne.forEach(function(r){if(n.indexOf(r)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),i}function vne(n,t,i){n.forEach(function(r,s){EP(r);for(var o=0;o<s;++o)if(r==n[o])throw new Error("Duplicate Sheet Name: "+r);if(i){var a=t&&t[s]&&t[s].CodeName||r;if(a.charCodeAt(0)==95&&a.length>22)throw new Error("Bad Code Name: Worksheet"+a)}})}function _ne(n){if(!n||!n.SheetNames||!n.Sheets)throw new Error("Invalid Workbook");if(!n.SheetNames.length)throw new Error("Workbook is empty");var t=n.Workbook&&n.Workbook.Sheets||[];vne(n.SheetNames,t,!!n.vbaraw);for(var i=0;i<n.SheetNames.length;++i)Vte(n.Sheets[n.SheetNames[i]],n.SheetNames[i],i)}function CP(n){var t=[pi];t[t.length]=Nt("workbook",null,{xmlns:Ad[0],"xmlns:r":Ii.r});var i=n.Workbook&&(n.Workbook.Names||[]).length>0,r={codeName:"ThisWorkbook"};n.Workbook&&n.Workbook.WBProps&&(mne.forEach(function(c){n.Workbook.WBProps[c[0]]!=null&&n.Workbook.WBProps[c[0]]!=c[1]&&(r[c[0]]=n.Workbook.WBProps[c[0]])}),n.Workbook.WBProps.CodeName&&(r.codeName=n.Workbook.WBProps.CodeName,delete r.CodeName)),t[t.length]=Nt("workbookPr",null,r);var s=n.Workbook&&n.Workbook.Sheets||[],o=0;if(s&&s[0]&&s[0].Hidden){for(t[t.length]="<bookViews>",o=0;o!=n.SheetNames.length&&!(!s[o]||!s[o].Hidden);++o);o==n.SheetNames.length&&(o=0),t[t.length]='<workbookView firstSheet="'+o+'" activeTab="'+o+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",o=0;o!=n.SheetNames.length;++o){var a={name:nn(n.SheetNames[o].slice(0,31))};if(a.sheetId=""+(o+1),a["r:id"]="rId"+(o+1),s[o])switch(s[o].Hidden){case 1:a.state="hidden";break;case 2:a.state="veryHidden";break}t[t.length]=Nt("sheet",null,a)}return t[t.length]="</sheets>",i&&(t[t.length]="<definedNames>",n.Workbook&&n.Workbook.Names&&n.Workbook.Names.forEach(function(c){var l={name:c.Name};c.Comment&&(l.comment=c.Comment),c.Sheet!=null&&(l.localSheetId=""+c.Sheet),c.Hidden&&(l.hidden="1"),c.Ref&&(t[t.length]=Nt("definedName",nn(c.Ref),l))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function bne(n,t){var i={};return i.Hidden=n.read_shift(4),i.iTabID=n.read_shift(4),i.strRelID=Ob(n),i.name=us(n),i}function xne(n,t){return t||(t=yt(127)),t.write_shift(4,n.Hidden),t.write_shift(4,n.iTabID),Yw(n.strRelID,t),Mi(n.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function wne(n,t){var i={},r=n.read_shift(4);i.defaultThemeVersion=n.read_shift(4);var s=t>8?us(n):"";return s.length>0&&(i.CodeName=s),i.autoCompressPictures=!!(r&65536),i.backupFile=!!(r&64),i.checkCompatibility=!!(r&4096),i.date1904=!!(r&1),i.filterPrivacy=!!(r&8),i.hidePivotFieldList=!!(r&1024),i.promptedSolutions=!!(r&16),i.publishItems=!!(r&2048),i.refreshAllConnections=!!(r&262144),i.saveExternalLinkValues=!!(r&128),i.showBorderUnselectedTables=!!(r&4),i.showInkAnnotation=!!(r&32),i.showObjects=["all","placeholders","none"][r>>13&3],i.showPivotChartFilter=!!(r&32768),i.updateLinks=["userSet","never","always"][r>>8&3],i}function Sne(n,t){t||(t=yt(72));var i=0;return n&&n.filterPrivacy&&(i|=8),t.write_shift(4,i),t.write_shift(4,0),F3(n&&n.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function Tne(n,t,i){var r=n.l+t;n.l+=4,n.l+=1;var s=n.read_shift(4),o=gZ(n),a=Dte(n,0,i),c=qw(n);n.l=r;var l={Name:o,Ptg:a};return s<268435455&&(l.Sheet=s),c&&(l.Comment=c),l}function Ene(n,t){Rt(n,143);for(var i=0;i!=t.SheetNames.length;++i){var r=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[i]&&t.Workbook.Sheets[i].Hidden||0,s={Hidden:r,iTabID:i+1,strRelID:"rId"+(i+1),name:t.SheetNames[i]};Rt(n,156,xne(s))}Rt(n,144)}function Cne(n,t){t||(t=yt(127));for(var i=0;i!=4;++i)t.write_shift(4,0);return Mi("SheetJS",t),Mi(kg.version,t),Mi(kg.version,t),Mi("7262",t),t.length>t.l?t.slice(0,t.l):t}function Ane(n,t){t||(t=yt(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,n),t.write_shift(4,n);var i=120;return t.write_shift(1,i),t.length>t.l?t.slice(0,t.l):t}function jne(n,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var i=t.Workbook.Sheets,r=0,s=-1,o=-1;r<i.length;++r)!i[r]||!i[r].Hidden&&s==-1?s=r:i[r].Hidden==1&&o==-1&&(o=r);o>s||(Rt(n,135),Rt(n,158,Ane(s)),Rt(n,136))}}function Rne(n,t){var i=Ns();return Rt(i,131),Rt(i,128,Cne()),Rt(i,153,Sne(n.Workbook&&n.Workbook.WBProps||null)),jne(i,n),Ene(i,n),Rt(i,132),i.end()}function One(n,t,i){return(t.slice(-4)===".bin"?Rne:CP)(n)}function Ine(n,t,i,r,s){return(t.slice(-4)===".bin"?fne:SP)(n,i,r,s)}function kne(n,t,i){return(t.slice(-4)===".bin"?KJ:lP)(n,i)}function Mne(n,t,i){return(t.slice(-4)===".bin"?SJ:iP)(n,i)}function Pne(n,t,i){return(t.slice(-4)===".bin"?dee:fP)(n)}function Dne(n){return(n.slice(-4)===".bin"?iee:hP)()}function Nne(n,t){var i=[];return n.Props&&i.push(kZ(n.Props,t)),n.Custprops&&i.push(MZ(n.Props,n.Custprops)),i.join("")}function Lne(){return""}function Fne(n,t){var i=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(r,s){var o=[];o.push(Nt("NumberFormat",null,{"ss:Format":nn(Vn[r.numFmtId])}));var a={"ss:ID":"s"+(21+s)};i.push(Nt("Style",o.join(""),a))}),Nt("Styles",i.join(""))}function AP(n){return Nt("NamedRange",null,{"ss:Name":n.Name,"ss:RefersTo":"="+Qw(n.Ref,{r:0,c:0})})}function Une(n){if(!((n||{}).Workbook||{}).Names)return"";for(var t=n.Workbook.Names,i=[],r=0;r<t.length;++r){var s=t[r];s.Sheet==null&&(s.Name.match(/^_xlfn\./)||i.push(AP(s)))}return Nt("Names",i.join(""))}function Bne(n,t,i,r){if(!n||!((r||{}).Workbook||{}).Names)return"";for(var s=r.Workbook.Names,o=[],a=0;a<s.length;++a){var c=s[a];c.Sheet==i&&(c.Name.match(/^_xlfn\./)||o.push(AP(c)))}return o.join("")}function Vne(n,t,i,r){if(!n)return"";var s=[];if(n["!margins"]&&(s.push("<PageSetup>"),n["!margins"].header&&s.push(Nt("Header",null,{"x:Margin":n["!margins"].header})),n["!margins"].footer&&s.push(Nt("Footer",null,{"x:Margin":n["!margins"].footer})),s.push(Nt("PageMargins",null,{"x:Bottom":n["!margins"].bottom||"0.75","x:Left":n["!margins"].left||"0.7","x:Right":n["!margins"].right||"0.7","x:Top":n["!margins"].top||"0.75"})),s.push("</PageSetup>")),r&&r.Workbook&&r.Workbook.Sheets&&r.Workbook.Sheets[i])if(r.Workbook.Sheets[i].Hidden)s.push(Nt("Visible",r.Workbook.Sheets[i].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var o=0;o<i&&!(r.Workbook.Sheets[o]&&!r.Workbook.Sheets[o].Hidden);++o);o==i&&s.push("<Selected/>")}return((((r||{}).Workbook||{}).Views||[])[0]||{}).RTL&&s.push("<DisplayRightToLeft/>"),n["!protect"]&&(s.push(Yi("ProtectContents","True")),n["!protect"].objects&&s.push(Yi("ProtectObjects","True")),n["!protect"].scenarios&&s.push(Yi("ProtectScenarios","True")),n["!protect"].selectLockedCells!=null&&!n["!protect"].selectLockedCells?s.push(Yi("EnableSelection","NoSelection")):n["!protect"].selectUnlockedCells!=null&&!n["!protect"].selectUnlockedCells&&s.push(Yi("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(a){n["!protect"][a[0]]&&s.push("<"+a[1]+"/>")})),s.length==0?"":Nt("WorksheetOptions",s.join(""),{xmlns:Js.x})}function Gne(n){return n.map(function(t){var i=qQ(t.t||""),r=Nt("ss:Data",i,{xmlns:"http://www.w3.org/TR/REC-html40"});return Nt("Comment",r,{"ss:Author":t.a})}).join("")}function zne(n,t,i,r,s,o,a){if(!n||n.v==null&&n.f==null)return"";var c={};if(n.f&&(c["ss:Formula"]="="+nn(Qw(n.f,a))),n.F&&n.F.slice(0,t.length)==t){var l=ki(n.F.slice(t.length+1));c["ss:ArrayRange"]="RC:R"+(l.r==a.r?"":"["+(l.r-a.r)+"]")+"C"+(l.c==a.c?"":"["+(l.c-a.c)+"]")}if(n.l&&n.l.Target&&(c["ss:HRef"]=nn(n.l.Target),n.l.Tooltip&&(c["x:HRefScreenTip"]=nn(n.l.Tooltip))),i["!merges"])for(var u=i["!merges"],p=0;p!=u.length;++p)u[p].s.c!=a.c||u[p].s.r!=a.r||(u[p].e.c>u[p].s.c&&(c["ss:MergeAcross"]=u[p].e.c-u[p].s.c),u[p].e.r>u[p].s.r&&(c["ss:MergeDown"]=u[p].e.r-u[p].s.r));var y="",d="";switch(n.t){case"z":if(!r.sheetStubs)return"";break;case"n":y="Number",d=String(n.v);break;case"b":y="Boolean",d=n.v?"1":"0";break;case"e":y="Error",d=tm[n.v];break;case"d":y="DateTime",d=new Date(n.v).toISOString(),n.z==null&&(n.z=n.z||Vn[14]);break;case"s":y="String",d=WQ(n.v||"");break}var f=Oc(r.cellXfs,n,r);c["ss:StyleID"]="s"+(21+f),c["ss:Index"]=a.c+1;var b=n.v!=null?d:"",g=n.t=="z"?"":'<Data ss:Type="'+y+'">'+b+"</Data>";return(n.c||[]).length>0&&(g+=Gne(n.c)),Nt("Cell",g,c)}function Hne(n,t){var i='<Row ss:Index="'+(n+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=oP(t.hpt)),t.hpx&&(i+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(i+=' ss:Hidden="1"')),i+">"}function Wne(n,t,i,r){if(!n["!ref"])return"";var s=An(n["!ref"]),o=n["!merges"]||[],a=0,c=[];n["!cols"]&&n["!cols"].forEach(function(v,_){Xw(v);var x=!!v.width,w=Uy(_,v),S={"ss:Index":_+1};x&&(S["ss:Width"]=Vg(w.width)),v.hidden&&(S["ss:Hidden"]="1"),c.push(Nt("Column",null,S))});for(var l=Array.isArray(n),u=s.s.r;u<=s.e.r;++u){for(var p=[Hne(u,(n["!rows"]||[])[u])],y=s.s.c;y<=s.e.c;++y){var d=!1;for(a=0;a!=o.length;++a)if(!(o[a].s.c>y)&&!(o[a].s.r>u)&&!(o[a].e.c<y)&&!(o[a].e.r<u)){(o[a].s.c!=y||o[a].s.r!=u)&&(d=!0);break}if(!d){var f={r:u,c:y},b=an(f),g=l?(n[u]||[])[y]:n[b];p.push(zne(g,b,n,t,i,r,f))}}p.push("</Row>"),p.length>2&&c.push(p.join(""))}return c.join("")}function qne(n,t,i){var r=[],s=i.SheetNames[n],o=i.Sheets[s],a=o?Bne(o,t,n,i):"";return a.length>0&&r.push("<Names>"+a+"</Names>"),a=o?Wne(o,t,n,i):"",a.length>0&&r.push("<Table>"+a+"</Table>"),r.push(Vne(o,t,n,i)),r.join("")}function Yne(n,t){t||(t={}),n.SSF||(n.SSF=Bs(Vn)),n.SSF&&(Py(),My(n.SSF),t.revssf=Dy(n.SSF),t.revssf[n.SSF[65535]]=0,t.ssf=n.SSF,t.cellXfs=[],Oc(t.cellXfs,{},{revssf:{General:0}}));var i=[];i.push(Nne(n,t)),i.push(Lne()),i.push(""),i.push("");for(var r=0;r<n.SheetNames.length;++r)i.push(Nt("Worksheet",qne(r,t,n),{"ss:Name":nn(n.SheetNames[r])}));return i[2]=Fne(n,t),i[3]=Une(n),pi+Nt("Workbook",i.join(""),{xmlns:Js.ss,"xmlns:o":Js.o,"xmlns:x":Js.x,"xmlns:ss":Js.ss,"xmlns:dt":Js.dt,"xmlns:html":Js.html})}var S_={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function $ne(n,t){var i=[],r=[],s=[],o=0,a,c=Ej(Fj,"n"),l=Ej(Uj,"n");if(n.Props)for(a=Qi(n.Props),o=0;o<a.length;++o)(Object.prototype.hasOwnProperty.call(c,a[o])?i:Object.prototype.hasOwnProperty.call(l,a[o])?r:s).push([a[o],n.Props[a[o]]]);if(n.Custprops)for(a=Qi(n.Custprops),o=0;o<a.length;++o)Object.prototype.hasOwnProperty.call(n.Props||{},a[o])||(Object.prototype.hasOwnProperty.call(c,a[o])?i:Object.prototype.hasOwnProperty.call(l,a[o])?r:s).push([a[o],n.Custprops[a[o]]]);var u=[];for(o=0;o<s.length;++o)Q3.indexOf(s[o][0])>-1||$3.indexOf(s[o][0])>-1||s[o][1]!=null&&u.push(s[o]);r.length&&dn.utils.cfb_add(t,"/SummaryInformation",Hj(r,S_.SI,l,Uj)),(i.length||u.length)&&dn.utils.cfb_add(t,"/DocumentSummaryInformation",Hj(i,S_.DSI,c,Fj,u.length?u:null,S_.UDI))}function Xne(n,t){var i=t||{},r=dn.utils.cfb_new({root:"R"}),s="/Workbook";switch(i.bookType||"xls"){case"xls":i.bookType="biff8";case"xla":i.bookType||(i.bookType="xla");case"biff8":s="/Workbook",i.biff=8;break;case"biff5":s="/Book",i.biff=5;break;default:throw new Error("invalid type "+i.bookType+" for XLS CFB")}return dn.utils.cfb_add(r,s,jP(n,i)),i.biff==8&&(n.Props||n.Custprops)&&$ne(n,r),i.biff==8&&n.vbaraw&&fee(r,dn.read(n.vbaraw,{type:typeof n.vbaraw=="string"?"binary":"buffer"})),r}var Kne={0:{f:Jte},1:{f:ore},2:{f:Are},3:{f:mre},4:{f:hre},5:{f:Sre},6:{f:kre},7:{f:_re},8:{f:Ure},9:{f:Fre},10:{f:Nre},11:{f:Lre},12:{f:cre},13:{f:Rre},14:{f:yre},15:{f:fre},16:{f:Ere},17:{f:Pre},18:{f:xre},19:{f:Ww},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:Tne},40:{},42:{},43:{f:kJ},44:{f:OJ},45:{f:DJ},46:{f:LJ},47:{f:NJ},48:{},49:{f:cZ},50:{},51:{f:JJ},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:uJ},62:{f:Ire},63:{f:see},64:{f:tne},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Oo,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:Qre},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:sre},148:{f:rre,p:16},151:{f:Wre},152:{},153:{f:wne},154:{},155:{},156:{f:bne},157:{},158:{},159:{T:1,f:bJ},160:{T:-1},161:{T:1,f:Xu},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:Bre},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:QJ},336:{T:-1},337:{f:ree,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:Ob},357:{},358:{},359:{},360:{T:1},361:{},362:{f:iJ},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:qre},427:{f:Yre},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:Xre},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:ire},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:zre},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:Ob},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:uee},633:{T:1},634:{T:-1},635:{T:1,f:lee},636:{T:-1},637:{f:fZ},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:pne},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:rne},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function Lt(n,t,i,r){var s=t;if(!isNaN(s)){var o=r||(i||[]).length||0,a=n.next(4);a.write_shift(2,s),a.write_shift(2,o),o>0&&Gw(i)&&n.push(i)}}function Qne(n,t,i,r){var s=(i||[]).length||0;if(s<=8224)return Lt(n,t,i,s);var o=t;if(!isNaN(o)){for(var a=i.parts||[],c=0,l=0,u=0;u+(a[c]||8224)<=8224;)u+=a[c]||8224,c++;var p=n.next(4);for(p.write_shift(2,o),p.write_shift(2,u),n.push(i.slice(l,l+u)),l+=u;l<s;){for(p=n.next(4),p.write_shift(2,60),u=0;u+(a[c]||8224)<=8224;)u+=a[c]||8224,c++;p.write_shift(2,u),n.push(i.slice(l,l+u)),l+=u}}}function nm(n,t,i){return n||(n=yt(7)),n.write_shift(2,t),n.write_shift(2,i),n.write_shift(2,0),n.write_shift(1,0),n}function Zne(n,t,i,r){var s=yt(9);return nm(s,n,t),J3(i,r||"b",s),s}function Jne(n,t,i){var r=yt(8+2*i.length);return nm(r,n,t),r.write_shift(1,i.length),r.write_shift(i.length,i,"sbcs"),r.l<r.length?r.slice(0,r.l):r}function eie(n,t,i,r){if(t.v!=null)switch(t.t){case"d":case"n":var s=t.t=="d"?Us(Ss(t.v)):t.v;s==(s|0)&&s>=0&&s<65536?Lt(n,2,pJ(i,r,s)):Lt(n,3,fJ(i,r,s));return;case"b":case"e":Lt(n,5,Zne(i,r,t.v,t.t));return;case"s":case"str":Lt(n,4,Jne(i,r,(t.v||"").slice(0,255)));return}Lt(n,1,nm(null,i,r))}function tie(n,t,i,r){var s=Array.isArray(t),o=An(t["!ref"]||"A1"),a,c="",l=[];if(o.e.c>255||o.e.r>16383){if(r.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");o.e.c=Math.min(o.e.c,255),o.e.r=Math.min(o.e.c,16383),a=hi(o)}for(var u=o.s.r;u<=o.e.r;++u){c=Xi(u);for(var p=o.s.c;p<=o.e.c;++p){u===o.s.r&&(l[p]=cs(p)),a=l[p]+c;var y=s?(t[u]||[])[p]:t[a];y&&eie(n,y,u,p)}}}function rie(n,t){for(var i=t||{},r=Ns(),s=0,o=0;o<n.SheetNames.length;++o)n.SheetNames[o]==i.sheet&&(s=o);if(s==0&&i.sheet&&n.SheetNames[0]!=i.sheet)throw new Error("Sheet not found: "+i.sheet);return Lt(r,i.biff==4?1033:i.biff==3?521:9,$w(n,16,i)),tie(r,n.Sheets[n.SheetNames[s]],s,i),Lt(r,10),r.end()}function nie(n,t,i){Lt(n,49,KZ({sz:12,color:{theme:1},name:"Arial",family:2,scheme:"minor"},i))}function iie(n,t,i){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var s=r[0];s<=r[1];++s)t[s]!=null&&Lt(n,1054,JZ(s,t[s],i))})}function sie(n,t){var i=yt(19);i.write_shift(4,2151),i.write_shift(4,0),i.write_shift(4,0),i.write_shift(2,3),i.write_shift(1,1),i.write_shift(4,0),Lt(n,2151,i),i=yt(39),i.write_shift(4,2152),i.write_shift(4,0),i.write_shift(4,0),i.write_shift(2,3),i.write_shift(1,0),i.write_shift(4,0),i.write_shift(2,1),i.write_shift(4,4),i.write_shift(2,0),rP(An(t["!ref"]||"A1"),i),i.write_shift(4,4),Lt(n,2152,i)}function aie(n,t){for(var i=0;i<16;++i)Lt(n,224,qj({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(r){Lt(n,224,qj(r,0,t))})}function oie(n,t){for(var i=0;i<t["!links"].length;++i){var r=t["!links"][i];Lt(n,440,oJ(r)),r[1].Tooltip&&Lt(n,2048,lJ(r))}delete t["!links"]}function lie(n,t){if(t){var i=0;t.forEach(function(r,s){++i<=256&&r&&Lt(n,125,hJ(Uy(s,r),s))})}}function cie(n,t,i,r,s){var o=16+Oc(s.cellXfs,t,s);if(t.v==null&&!t.bf){Lt(n,513,Pu(i,r,o));return}if(t.bf)Lt(n,6,Mte(t,i,r,s,o));else switch(t.t){case"d":case"n":var a=t.t=="d"?Us(Ss(t.v)):t.v;Lt(n,515,nJ(i,r,a,o));break;case"b":case"e":Lt(n,517,rJ(i,r,t.v,o,s,t.t));break;case"s":case"str":if(s.bookSST){var c=Jw(s.Strings,t.v,s.revStrings);Lt(n,253,QZ(i,r,c,o))}else Lt(n,516,ZZ(i,r,(t.v||"").slice(0,255),o,s));break;default:Lt(n,513,Pu(i,r,o))}}function uie(n,t,i){var r=Ns(),s=i.SheetNames[n],o=i.Sheets[s]||{},a=(i||{}).Workbook||{},c=(a.Sheets||[])[n]||{},l=Array.isArray(o),u=t.biff==8,p,y="",d=[],f=An(o["!ref"]||"A1"),b=u?65536:16384;if(f.e.c>255||f.e.r>=b){if(t.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:IV16384");f.e.c=Math.min(f.e.c,255),f.e.r=Math.min(f.e.c,b-1)}Lt(r,2057,$w(i,16,t)),Lt(r,13,Ta(1)),Lt(r,12,Ta(100)),Lt(r,15,_s(!0)),Lt(r,17,_s(!1)),Lt(r,16,Mu(.001)),Lt(r,95,_s(!0)),Lt(r,42,_s(!1)),Lt(r,43,_s(!1)),Lt(r,130,Ta(1)),Lt(r,128,tJ()),Lt(r,131,_s(!1)),Lt(r,132,_s(!1)),u&&lie(r,o["!cols"]),Lt(r,512,eJ(f,t)),u&&(o["!links"]=[]);for(var g=f.s.r;g<=f.e.r;++g){y=Xi(g);for(var v=f.s.c;v<=f.e.c;++v){g===f.s.r&&(d[v]=cs(v)),p=d[v]+y;var _=l?(o[g]||[])[v]:o[p];_&&(cie(r,_,g,v,t),u&&_.l&&o["!links"].push([p,_.l]))}}var x=c.CodeName||c.name||s;return u&&Lt(r,574,XZ((a.Views||[])[0])),u&&(o["!merges"]||[]).length&&Lt(r,229,aJ(o["!merges"])),u&&oie(r,o),Lt(r,442,tP(x)),u&&sie(r,o),Lt(r,10),r.end()}function hie(n,t,i){var r=Ns(),s=(n||{}).Workbook||{},o=s.Sheets||[],a=s.WBProps||{},c=i.biff==8,l=i.biff==5;if(Lt(r,2057,$w(n,5,i)),i.bookType=="xla"&&Lt(r,135),Lt(r,225,c?Ta(1200):null),Lt(r,193,NZ(2)),l&&Lt(r,191),l&&Lt(r,192),Lt(r,226),Lt(r,92,WZ("SheetJS",i)),Lt(r,66,Ta(c?1200:1252)),c&&Lt(r,353,Ta(0)),c&&Lt(r,448),Lt(r,317,dJ(n.SheetNames.length)),c&&n.vbaraw&&Lt(r,211),c&&n.vbaraw){var u=a.CodeName||"ThisWorkbook";Lt(r,442,tP(u))}Lt(r,156,Ta(17)),Lt(r,25,_s(!1)),Lt(r,18,_s(!1)),Lt(r,19,Ta(0)),c&&Lt(r,431,_s(!1)),c&&Lt(r,444,Ta(0)),Lt(r,61,$Z()),Lt(r,64,_s(!1)),Lt(r,141,Ta(0)),Lt(r,34,_s(gne(n)=="true")),Lt(r,14,_s(!0)),c&&Lt(r,439,_s(!1)),Lt(r,218,Ta(0)),nie(r,n,i),iie(r,n.SSF,i),aie(r,i),c&&Lt(r,352,_s(!1));var p=r.end(),y=Ns();c&&Lt(y,140,cJ()),c&&i.Strings&&Qne(y,252,YZ(i.Strings)),Lt(y,10);var d=y.end(),f=Ns(),b=0,g=0;for(g=0;g<n.SheetNames.length;++g)b+=(c?12:11)+(c?2:1)*n.SheetNames[g].length;var v=p.length+b+d.length;for(g=0;g<n.SheetNames.length;++g){var _=o[g]||{};Lt(f,133,qZ({pos:v,hs:_.Hidden||0,dt:0,name:n.SheetNames[g]},i)),v+=t[g].length}var x=f.end();if(b!=x.length)throw new Error("BS8 "+b+" != "+x.length);var w=[];return p.length&&w.push(p),x.length&&w.push(x),d.length&&w.push(d),qi(w)}function die(n,t){var i=t||{},r=[];n&&!n.SSF&&(n.SSF=Bs(Vn)),n&&n.SSF&&(Py(),My(n.SSF),i.revssf=Dy(n.SSF),i.revssf[n.SSF[65535]]=0,i.ssf=n.SSF),i.Strings=[],i.Strings.Count=0,i.Strings.Unique=0,e2(i),i.cellXfs=[],Oc(i.cellXfs,{},{revssf:{General:0}}),n.Props||(n.Props={});for(var s=0;s<n.SheetNames.length;++s)r[r.length]=uie(s,i,n);return r.unshift(hie(n,r,i)),qi(r)}function jP(n,t){for(var i=0;i<=n.SheetNames.length;++i){var r=n.Sheets[n.SheetNames[i]];if(!(!r||!r["!ref"])){var s=aa(r["!ref"]);s.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+n.SheetNames[i]+"' extends beyond column IV (255).  Data may be lost.")}}var o=t||{};switch(o.biff||2){case 8:case 5:return die(n,t);case 4:case 3:case 2:return rie(n,t)}throw new Error("invalid type "+o.bookType+" for BIFF")}function fie(n,t,i,r){for(var s=n["!merges"]||[],o=[],a=t.s.c;a<=t.e.c;++a){for(var c=0,l=0,u=0;u<s.length;++u)if(!(s[u].s.r>i||s[u].s.c>a)&&!(s[u].e.r<i||s[u].e.c<a)){if(s[u].s.r<i||s[u].s.c<a){c=-1;break}c=s[u].e.r-s[u].s.r+1,l=s[u].e.c-s[u].s.c+1;break}if(!(c<0)){var p=an({r:i,c:a}),y=r.dense?(n[i]||[])[a]:n[p],d=y&&y.v!=null&&(y.h||HQ(y.w||(Rl(y),y.w)||""))||"",f={};c>1&&(f.rowspan=c),l>1&&(f.colspan=l),r.editable?d='<span contenteditable="true">'+d+"</span>":y&&(f["data-t"]=y&&y.t||"z",y.v!=null&&(f["data-v"]=y.v),y.z!=null&&(f["data-z"]=y.z),y.l&&(y.l.Target||"#").charAt(0)!="#"&&(d='<a href="'+y.l.Target+'">'+d+"</a>")),f.id=(r.id||"sjs")+"-"+p,o.push(Nt("td",d,f))}}var b="<tr>";return b+o.join("")+"</tr>"}var pie='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',mie="</body></html>";function gie(n,t,i){var r=[];return r.join("")+"<table"+(i&&i.id?' id="'+i.id+'"':"")+">"}function RP(n,t){var i=t||{},r=i.header!=null?i.header:pie,s=i.footer!=null?i.footer:mie,o=[r],a=aa(n["!ref"]);i.dense=Array.isArray(n),o.push(gie(n,a,i));for(var c=a.s.r;c<=a.e.r;++c)o.push(fie(n,a,c,i));return o.push("</table>"+s),o.join("")}function OP(n,t,i){var r=i||{},s=0,o=0;if(r.origin!=null)if(typeof r.origin=="number")s=r.origin;else{var a=typeof r.origin=="string"?ki(r.origin):r.origin;s=a.r,o=a.c}var c=t.getElementsByTagName("tr"),l=Math.min(r.sheetRows||1e7,c.length),u={s:{r:0,c:0},e:{r:s,c:o}};if(n["!ref"]){var p=aa(n["!ref"]);u.s.r=Math.min(u.s.r,p.s.r),u.s.c=Math.min(u.s.c,p.s.c),u.e.r=Math.max(u.e.r,p.e.r),u.e.c=Math.max(u.e.c,p.e.c),s==-1&&(u.e.r=s=p.e.r+1)}var y=[],d=0,f=n["!rows"]||(n["!rows"]=[]),b=0,g=0,v=0,_=0,x=0,w=0;for(n["!cols"]||(n["!cols"]=[]);b<c.length&&g<l;++b){var S=c[b];if(Jj(S)){if(r.display)continue;f[g]={hidden:!0}}var R=S.children;for(v=_=0;v<R.length;++v){var D=R[v];if(!(r.display&&Jj(D))){var A=D.hasAttribute("data-v")?D.getAttribute("data-v"):D.hasAttribute("v")?D.getAttribute("v"):$Q(D.innerHTML),C=D.getAttribute("data-z")||D.getAttribute("z");for(d=0;d<y.length;++d){var j=y[d];j.s.c==_+o&&j.s.r<g+s&&g+s<=j.e.r&&(_=j.e.c+1-o,d=-1)}w=+D.getAttribute("colspan")||1,((x=+D.getAttribute("rowspan")||1)>1||w>1)&&y.push({s:{r:g+s,c:_+o},e:{r:g+s+(x||1)-1,c:_+o+(w||1)-1}});var P={t:"s",v:A},O=D.getAttribute("data-t")||D.getAttribute("t")||"";A!=null&&(A.length==0?P.t=O||"z":r.raw||A.trim().length==0||O=="s"||(A==="TRUE"?P={t:"b",v:!0}:A==="FALSE"?P={t:"b",v:!1}:isNaN(gl(A))?isNaN(Sp(A).getDate())||(P={t:"d",v:Ss(A)},r.cellDates||(P={t:"n",v:Us(P.v)}),P.z=r.dateNF||Vn[14]):P={t:"n",v:gl(A)})),P.z===void 0&&C!=null&&(P.z=C);var L="",N=D.getElementsByTagName("A");if(N&&N.length)for(var q=0;q<N.length&&!(N[q].hasAttribute("href")&&(L=N[q].getAttribute("href"),L.charAt(0)!="#"));++q);L&&L.charAt(0)!="#"&&(P.l={Target:L}),r.dense?(n[g+s]||(n[g+s]=[]),n[g+s][_+o]=P):n[an({c:_+o,r:g+s})]=P,u.e.c<_+o&&(u.e.c=_+o),_+=w}}++g}return y.length&&(n["!merges"]=(n["!merges"]||[]).concat(y)),u.e.r=Math.max(u.e.r,g-1+s),n["!ref"]=hi(u),g>=l&&(n["!fullref"]=hi((u.e.r=c.length-b+g-1+s,u))),n}function IP(n,t){var i=t||{},r=i.dense?[]:{};return OP(r,n,t)}function yie(n,t){return Wu(IP(n,t),t)}function Jj(n){var t="",i=vie(n);return i&&(t=i(n).getPropertyValue("display")),t||(t=n.style&&n.style.display),t==="none"}function vie(n){return n.ownerDocument.defaultView&&typeof n.ownerDocument.defaultView.getComputedStyle=="function"?n.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var _ie=function(){var n=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+Ep({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+n+"</office:document-styles>";return function(){return pi+t}}(),eR=function(){var n=function(o){return nn(o).replace(/  +/g,function(a){return'<text:s text:c="'+a.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,i=`          <table:covered-table-cell/>
`,r=function(o,a,c){var l=[];l.push('      <table:table table:name="'+nn(a.SheetNames[c])+`" table:style-name="ta1">
`);var u=0,p=0,y=aa(o["!ref"]||"A1"),d=o["!merges"]||[],f=0,b=Array.isArray(o);if(o["!cols"])for(p=0;p<=y.e.c;++p)l.push("        <table:table-column"+(o["!cols"][p]?' table:style-name="co'+o["!cols"][p].ods+'"':"")+`></table:table-column>
`);var g="",v=o["!rows"]||[];for(u=0;u<y.s.r;++u)g=v[u]?' table:style-name="ro'+v[u].ods+'"':"",l.push("        <table:table-row"+g+`></table:table-row>
`);for(;u<=y.e.r;++u){for(g=v[u]?' table:style-name="ro'+v[u].ods+'"':"",l.push("        <table:table-row"+g+`>
`),p=0;p<y.s.c;++p)l.push(t);for(;p<=y.e.c;++p){var _=!1,x={},w="";for(f=0;f!=d.length;++f)if(!(d[f].s.c>p)&&!(d[f].s.r>u)&&!(d[f].e.c<p)&&!(d[f].e.r<u)){(d[f].s.c!=p||d[f].s.r!=u)&&(_=!0),x["table:number-columns-spanned"]=d[f].e.c-d[f].s.c+1,x["table:number-rows-spanned"]=d[f].e.r-d[f].s.r+1;break}if(_){l.push(i);continue}var S=an({r:u,c:p}),R=b?(o[u]||[])[p]:o[S];if(R&&R.f&&(x["table:formula"]=nn(Ute(R.f)),R.F&&R.F.slice(0,S.length)==S)){var D=aa(R.F);x["table:number-matrix-columns-spanned"]=D.e.c-D.s.c+1,x["table:number-matrix-rows-spanned"]=D.e.r-D.s.r+1}if(!R){l.push(t);continue}switch(R.t){case"b":w=R.v?"TRUE":"FALSE",x["office:value-type"]="boolean",x["office:boolean-value"]=R.v?"true":"false";break;case"n":w=R.w||String(R.v||0),x["office:value-type"]="float",x["office:value"]=R.v||0;break;case"s":case"str":w=R.v==null?"":R.v,x["office:value-type"]="string";break;case"d":w=R.w||Ss(R.v).toISOString(),x["office:value-type"]="date",x["office:date-value"]=Ss(R.v).toISOString(),x["table:style-name"]="ce1";break;default:l.push(t);continue}var A=n(w);if(R.l&&R.l.Target){var C=R.l.Target;C=C.charAt(0)=="#"?"#"+Bte(C.slice(1)):C,C.charAt(0)!="#"&&!C.match(/^\w+:/)&&(C="../"+C),A=Nt("text:a",A,{"xlink:href":C.replace(/&/g,"&amp;")})}l.push("          "+Nt("table:table-cell",Nt("text:p",A,{}),x)+`
`)}l.push(`        </table:table-row>
`)}return l.push(`      </table:table>
`),l.join("")},s=function(o,a){o.push(` <office:automatic-styles>
`),o.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),o.push(`   <number:month number:style="long"/>
`),o.push(`   <number:text>/</number:text>
`),o.push(`   <number:day number:style="long"/>
`),o.push(`   <number:text>/</number:text>
`),o.push(`   <number:year/>
`),o.push(`  </number:date-style>
`);var c=0;a.SheetNames.map(function(u){return a.Sheets[u]}).forEach(function(u){if(u&&u["!cols"]){for(var p=0;p<u["!cols"].length;++p)if(u["!cols"][p]){var y=u["!cols"][p];if(y.width==null&&y.wpx==null&&y.wch==null)continue;Xw(y),y.ods=c;var d=u["!cols"][p].wpx+"px";o.push('  <style:style style:name="co'+c+`" style:family="table-column">
`),o.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+d+`"/>
`),o.push(`  </style:style>
`),++c}}});var l=0;a.SheetNames.map(function(u){return a.Sheets[u]}).forEach(function(u){if(u&&u["!rows"]){for(var p=0;p<u["!rows"].length;++p)if(u["!rows"][p]){u["!rows"][p].ods=l;var y=u["!rows"][p].hpx+"px";o.push('  <style:style style:name="ro'+l+`" style:family="table-row">
`),o.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+y+`"/>
`),o.push(`  </style:style>
`),++l}}}),o.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),o.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),o.push(`  </style:style>
`),o.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),o.push(` </office:automatic-styles>
`)};return function(a,c){var l=[pi],u=Ep({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),p=Ep({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});c.bookType=="fods"?(l.push("<office:document"+u+p+`>
`),l.push(q3().replace(/office:document-meta/g,"office:meta"))):l.push("<office:document-content"+u+`>
`),s(l,a),l.push(`  <office:body>
`),l.push(`    <office:spreadsheet>
`);for(var y=0;y!=a.SheetNames.length;++y)l.push(r(a.Sheets[a.SheetNames[y]],a,y));return l.push(`    </office:spreadsheet>
`),l.push(`  </office:body>
`),c.bookType=="fods"?l.push("</office:document>"):l.push("</office:document-content>"),l.join("")}}();function kP(n,t){if(t.bookType=="fods")return eR(n,t);var i=Fw(),r="",s=[],o=[];return r="mimetype",vr(i,r,"application/vnd.oasis.opendocument.spreadsheet"),r="content.xml",vr(i,r,eR(n,t)),s.push([r,"text/xml"]),o.push([r,"ContentFile"]),r="styles.xml",vr(i,r,_ie(n,t)),s.push([r,"text/xml"]),o.push([r,"StylesFile"]),r="meta.xml",vr(i,r,pi+q3()),s.push([r,"text/xml"]),o.push([r,"MetadataFile"]),r="manifest.rdf",vr(i,r,IZ(o)),s.push([r,"application/rdf+xml"]),r="META-INF/manifest.xml",vr(i,r,RZ(s)),i}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Hg(n){return new DataView(n.buffer,n.byteOffset,n.byteLength)}function bie(n){return typeof TextEncoder<"u"?new TextEncoder().encode(n):Xa(Tp(n))}function xie(n,t){e:for(var i=0;i<=n.length-t.length;++i){for(var r=0;r<t.length;++r)if(n[i+r]!=t[r])continue e;return!0}return!1}function Ec(n){var t=n.reduce(function(s,o){return s+o.length},0),i=new Uint8Array(t),r=0;return n.forEach(function(s){i.set(s,r),r+=s.length}),i}function wie(n,t,i){var r=Math.floor(i==0?0:Math.LOG10E*Math.log(Math.abs(i)))+6176-20,s=i/Math.pow(10,r-6176);n[t+15]|=r>>7,n[t+14]|=(r&127)<<1;for(var o=0;s>=1;++o,s/=256)n[t+o]=s&255;n[t+15]|=i>=0?0:128}function Cp(n,t){var i=t?t[0]:0,r=n[i]&127;e:if(n[i++]>=128&&(r|=(n[i]&127)<<7,n[i++]<128||(r|=(n[i]&127)<<14,n[i++]<128)||(r|=(n[i]&127)<<21,n[i++]<128)||(r+=(n[i]&127)*Math.pow(2,28),++i,n[i++]<128)||(r+=(n[i]&127)*Math.pow(2,35),++i,n[i++]<128)||(r+=(n[i]&127)*Math.pow(2,42),++i,n[i++]<128)))break e;return t&&(t[0]=i),r}function tn(n){var t=new Uint8Array(7);t[0]=n&127;var i=1;e:if(n>127){if(t[i-1]|=128,t[i]=n>>7&127,++i,n<=16383||(t[i-1]|=128,t[i]=n>>14&127,++i,n<=2097151)||(t[i-1]|=128,t[i]=n>>21&127,++i,n<=268435455)||(t[i-1]|=128,t[i]=n/256>>>21&127,++i,n<=34359738367)||(t[i-1]|=128,t[i]=n/65536>>>21&127,++i,n<=4398046511103))break e;t[i-1]|=128,t[i]=n/16777216>>>21&127,++i}return t.slice(0,i)}function Jh(n){var t=0,i=n[t]&127;e:if(n[t++]>=128){if(i|=(n[t]&127)<<7,n[t++]<128||(i|=(n[t]&127)<<14,n[t++]<128)||(i|=(n[t]&127)<<21,n[t++]<128))break e;i|=(n[t]&127)<<28}return i}function bi(n){for(var t=[],i=[0];i[0]<n.length;){var r=i[0],s=Cp(n,i),o=s&7;s=Math.floor(s/8);var a=0,c;if(s==0)break;switch(o){case 0:{for(var l=i[0];n[i[0]++]>=128;);c=n.slice(l,i[0])}break;case 5:a=4,c=n.slice(i[0],i[0]+a),i[0]+=a;break;case 1:a=8,c=n.slice(i[0],i[0]+a),i[0]+=a;break;case 2:a=Cp(n,i),c=n.slice(i[0],i[0]+a),i[0]+=a;break;case 3:case 4:default:throw new Error("PB Type ".concat(o," for Field ").concat(s," at offset ").concat(r))}var u={data:c,type:o};t[s]==null?t[s]=[u]:t[s].push(u)}return t}function Bi(n){var t=[];return n.forEach(function(i,r){i.forEach(function(s){s.data&&(t.push(tn(r*8+s.type)),s.type==2&&t.push(tn(s.data.length)),t.push(s.data))})}),Ec(t)}function Wa(n){for(var t,i=[],r=[0];r[0]<n.length;){var s=Cp(n,r),o=bi(n.slice(r[0],r[0]+s));r[0]+=s;var a={id:Jh(o[1][0].data),messages:[]};o[2].forEach(function(c){var l=bi(c.data),u=Jh(l[3][0].data);a.messages.push({meta:l,data:n.slice(r[0],r[0]+u)}),r[0]+=u}),(t=o[3])!=null&&t[0]&&(a.merge=Jh(o[3][0].data)>>>0>0),i.push(a)}return i}function Mh(n){var t=[];return n.forEach(function(i){var r=[];r[1]=[{data:tn(i.id),type:0}],r[2]=[],i.merge!=null&&(r[3]=[{data:tn(+!!i.merge),type:0}]);var s=[];i.messages.forEach(function(a){s.push(a.data),a.meta[3]=[{type:0,data:tn(a.data.length)}],r[2].push({data:Bi(a.meta),type:2})});var o=Bi(r);t.push(tn(o.length)),t.push(o),s.forEach(function(a){return t.push(a)})}),Ec(t)}function Sie(n,t){if(n!=0)throw new Error("Unexpected Snappy chunk type ".concat(n));for(var i=[0],r=Cp(t,i),s=[];i[0]<t.length;){var o=t[i[0]]&3;if(o==0){var a=t[i[0]++]>>2;if(a<60)++a;else{var c=a-59;a=t[i[0]],c>1&&(a|=t[i[0]+1]<<8),c>2&&(a|=t[i[0]+2]<<16),c>3&&(a|=t[i[0]+3]<<24),a>>>=0,a++,i[0]+=c}s.push(t.slice(i[0],i[0]+a)),i[0]+=a;continue}else{var l=0,u=0;if(o==1?(u=(t[i[0]]>>2&7)+4,l=(t[i[0]++]&224)<<3,l|=t[i[0]++]):(u=(t[i[0]++]>>2)+1,o==2?(l=t[i[0]]|t[i[0]+1]<<8,i[0]+=2):(l=(t[i[0]]|t[i[0]+1]<<8|t[i[0]+2]<<16|t[i[0]+3]<<24)>>>0,i[0]+=4)),s=[Ec(s)],l==0)throw new Error("Invalid offset 0");if(l>s[0].length)throw new Error("Invalid offset beyond length");if(u>=l)for(s.push(s[0].slice(-l)),u-=l;u>=s[s.length-1].length;)s.push(s[s.length-1]),u-=s[s.length-1].length;s.push(s[0].slice(-l,-l+u))}}var p=Ec(s);if(p.length!=r)throw new Error("Unexpected length: ".concat(p.length," != ").concat(r));return p}function qa(n){for(var t=[],i=0;i<n.length;){var r=n[i++],s=n[i]|n[i+1]<<8|n[i+2]<<16;i+=3,t.push(Sie(r,n.slice(i,i+s))),i+=s}if(i!==n.length)throw new Error("data is not a valid framed stream!");return Ec(t)}function Ph(n){for(var t=[],i=0;i<n.length;){var r=Math.min(n.length-i,268435455),s=new Uint8Array(4);t.push(s);var o=tn(r),a=o.length;t.push(o),r<=60?(a++,t.push(new Uint8Array([r-1<<2]))):r<=256?(a+=2,t.push(new Uint8Array([240,r-1&255]))):r<=65536?(a+=3,t.push(new Uint8Array([244,r-1&255,r-1>>8&255]))):r<=16777216?(a+=4,t.push(new Uint8Array([248,r-1&255,r-1>>8&255,r-1>>16&255]))):r<=4294967296&&(a+=5,t.push(new Uint8Array([252,r-1&255,r-1>>8&255,r-1>>16&255,r-1>>>24&255]))),t.push(n.slice(i,i+r)),a+=r,s[0]=0,s[1]=a&255,s[2]=a>>8&255,s[3]=a>>16&255,i+=r}return Ec(t)}function T_(n,t){var i=new Uint8Array(32),r=Hg(i),s=12,o=0;switch(i[0]=5,n.t){case"n":i[1]=2,wie(i,s,n.v),o|=1,s+=16;break;case"b":i[1]=6,r.setFloat64(s,n.v?1:0,!0),o|=2,s+=8;break;case"s":if(t.indexOf(n.v)==-1)throw new Error("Value ".concat(n.v," missing from SST!"));i[1]=3,r.setUint32(s,t.indexOf(n.v),!0),o|=8,s+=4;break;default:throw"unsupported cell type "+n.t}return r.setUint32(8,o,!0),i.slice(0,s)}function E_(n,t){var i=new Uint8Array(32),r=Hg(i),s=12,o=0;switch(i[0]=3,n.t){case"n":i[2]=2,r.setFloat64(s,n.v,!0),o|=32,s+=8;break;case"b":i[2]=6,r.setFloat64(s,n.v?1:0,!0),o|=32,s+=8;break;case"s":if(t.indexOf(n.v)==-1)throw new Error("Value ".concat(n.v," missing from SST!"));i[2]=3,r.setUint32(s,t.indexOf(n.v),!0),o|=16,s+=4;break;default:throw"unsupported cell type "+n.t}return r.setUint32(4,o,!0),i.slice(0,s)}function ac(n){var t=bi(n);return Cp(t[1][0].data)}function Tie(n,t,i){var r,s,o,a;if(!((r=n[6])!=null&&r[0])||!((s=n[7])!=null&&s[0]))throw"Mutation only works on post-BNC storages!";var c=((a=(o=n[8])==null?void 0:o[0])==null?void 0:a.data)&&Jh(n[8][0].data)>0||!1;if(c)throw"Math only works with normal offsets";for(var l=0,u=Hg(n[7][0].data),p=0,y=[],d=Hg(n[4][0].data),f=0,b=[],g=0;g<t.length;++g){if(t[g]==null){u.setUint16(g*2,65535,!0),d.setUint16(g*2,65535);continue}u.setUint16(g*2,p,!0),d.setUint16(g*2,f,!0);var v,_;switch(typeof t[g]){case"string":v=T_({t:"s",v:t[g]},i),_=E_({t:"s",v:t[g]},i);break;case"number":v=T_({t:"n",v:t[g]},i),_=E_({t:"n",v:t[g]},i);break;case"boolean":v=T_({t:"b",v:t[g]},i),_=E_({t:"b",v:t[g]},i);break;default:throw new Error("Unsupported value "+t[g])}y.push(v),p+=v.length,b.push(_),f+=_.length,++l}for(n[2][0].data=tn(l);g<n[7][0].data.length/2;++g)u.setUint16(g*2,65535,!0),d.setUint16(g*2,65535,!0);return n[6][0].data=Ec(y),n[3][0].data=Ec(b),l}function Eie(n,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var i=n.Sheets[n.SheetNames[0]];n.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var r=aa(i["!ref"]);r.s.r=r.s.c=0;var s=!1;r.e.c>9&&(s=!0,r.e.c=9),r.e.r>49&&(s=!0,r.e.r=49),s&&console.error("The Numbers writer is currently limited to ".concat(hi(r)));var o=Wg(i,{range:r,header:1}),a=["~Sh33tJ5~"];o.forEach(function(I){return I.forEach(function(U){typeof U=="string"&&a.push(U)})});var c={},l=[],u=dn.read(t.numbers,{type:"base64"});u.FileIndex.map(function(I,U){return[I,u.FullPaths[U]]}).forEach(function(I){var U=I[0],H=I[1];if(U.type==2&&U.name.match(/\.iwa/)){var X=U.content,ae=qa(X),le=Wa(ae);le.forEach(function(he){l.push(he.id),c[he.id]={deps:[],location:H,type:Jh(he.messages[0].meta[1][0].data)}})}}),l.sort(function(I,U){return I-U});var p=l.filter(function(I){return I>1}).map(function(I){return[I,tn(I)]});u.FileIndex.map(function(I,U){return[I,u.FullPaths[U]]}).forEach(function(I){var U=I[0];if(I[1],!!U.name.match(/\.iwa/)){var H=Wa(qa(U.content));H.forEach(function(X){X.messages.forEach(function(ae){p.forEach(function(le){X.messages.some(function(he){return Jh(he.meta[1][0].data)!=11006&&xie(he.data,le[1])})&&c[le[0]].deps.push(X.id)})})})}});for(var y=dn.find(u,c[1].location),d=Wa(qa(y.content)),f,b=0;b<d.length;++b){var g=d[b];g.id==1&&(f=g)}var v=ac(bi(f.messages[0].data)[1][0].data);for(y=dn.find(u,c[v].location),d=Wa(qa(y.content)),b=0;b<d.length;++b)g=d[b],g.id==v&&(f=g);for(v=ac(bi(f.messages[0].data)[2][0].data),y=dn.find(u,c[v].location),d=Wa(qa(y.content)),b=0;b<d.length;++b)g=d[b],g.id==v&&(f=g);for(v=ac(bi(f.messages[0].data)[2][0].data),y=dn.find(u,c[v].location),d=Wa(qa(y.content)),b=0;b<d.length;++b)g=d[b],g.id==v&&(f=g);var _=bi(f.messages[0].data);{_[6][0].data=tn(r.e.r+1),_[7][0].data=tn(r.e.c+1);var x=ac(_[46][0].data),w=dn.find(u,c[x].location),S=Wa(qa(w.content));{for(var R=0;R<S.length&&S[R].id!=x;++R);if(S[R].id!=x)throw"Bad ColumnRowUIDMapArchive";var D=bi(S[R].messages[0].data);D[1]=[],D[2]=[],D[3]=[];for(var A=0;A<=r.e.c;++A){var C=[];C[1]=C[2]=[{type:0,data:tn(A+420690)}],D[1].push({type:2,data:Bi(C)}),D[2].push({type:0,data:tn(A)}),D[3].push({type:0,data:tn(A)})}D[4]=[],D[5]=[],D[6]=[];for(var j=0;j<=r.e.r;++j)C=[],C[1]=C[2]=[{type:0,data:tn(j+726270)}],D[4].push({type:2,data:Bi(C)}),D[5].push({type:0,data:tn(j)}),D[6].push({type:0,data:tn(j)});S[R].messages[0].data=Bi(D)}w.content=Ph(Mh(S)),w.size=w.content.length,delete _[46];var P=bi(_[4][0].data);{P[7][0].data=tn(r.e.r+1);var O=bi(P[1][0].data),L=ac(O[2][0].data);w=dn.find(u,c[L].location),S=Wa(qa(w.content));{if(S[0].id!=L)throw"Bad HeaderStorageBucket";var N=bi(S[0].messages[0].data);for(j=0;j<o.length;++j){var q=bi(N[2][0].data);q[1][0].data=tn(j),q[4][0].data=tn(o[j].length),N[2][j]={type:N[2][0].type,data:Bi(q)}}S[0].messages[0].data=Bi(N)}w.content=Ph(Mh(S)),w.size=w.content.length;var W=ac(P[2][0].data);w=dn.find(u,c[W].location),S=Wa(qa(w.content));{if(S[0].id!=W)throw"Bad HeaderStorageBucket";for(N=bi(S[0].messages[0].data),A=0;A<=r.e.c;++A)q=bi(N[2][0].data),q[1][0].data=tn(A),q[4][0].data=tn(r.e.r+1),N[2][A]={type:N[2][0].type,data:Bi(q)};S[0].messages[0].data=Bi(N)}w.content=Ph(Mh(S)),w.size=w.content.length;var Y=ac(P[4][0].data);(function(){for(var I=dn.find(u,c[Y].location),U=Wa(qa(I.content)),H,X=0;X<U.length;++X){var ae=U[X];ae.id==Y&&(H=ae)}var le=bi(H.messages[0].data);{le[3]=[];var he=[];a.forEach(function(xe,Se){he[1]=[{type:0,data:tn(Se)}],he[2]=[{type:0,data:tn(1)}],he[3]=[{type:2,data:bie(xe)}],le[3].push({type:2,data:Bi(he)})})}H.messages[0].data=Bi(le);var ye=Mh(U),me=Ph(ye);I.content=me,I.size=I.content.length})();var J=bi(P[3][0].data);{var te=J[1][0];delete J[2];var ee=bi(te.data);{var Q=ac(ee[2][0].data);(function(){for(var I=dn.find(u,c[Q].location),U=Wa(qa(I.content)),H,X=0;X<U.length;++X){var ae=U[X];ae.id==Q&&(H=ae)}var le=bi(H.messages[0].data);{delete le[6],delete J[7];var he=new Uint8Array(le[5][0].data);le[5]=[];for(var ye=0,me=0;me<=r.e.r;++me){var xe=bi(he);ye+=Tie(xe,o[me],a),xe[1][0].data=tn(me),le[5].push({data:Bi(xe),type:2})}le[1]=[{type:0,data:tn(r.e.c+1)}],le[2]=[{type:0,data:tn(r.e.r+1)}],le[3]=[{type:0,data:tn(ye)}],le[4]=[{type:0,data:tn(r.e.r+1)}]}H.messages[0].data=Bi(le);var Se=Mh(U),pe=Ph(Se);I.content=pe,I.size=I.content.length})()}te.data=Bi(ee)}P[3][0].data=Bi(J)}_[4][0].data=Bi(P)}f.messages[0].data=Bi(_);var ne=Mh(d),re=Ph(ne);return y.content=re,y.size=y.content.length,u}function Cie(n){return function(i){for(var r=0;r!=n.length;++r){var s=n[r];i[s[0]]===void 0&&(i[s[0]]=s[1]),s[2]==="n"&&(i[s[0]]=Number(i[s[0]]))}}}function e2(n){Cie([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(n)}function Aie(n,t){return t.bookType=="ods"?kP(n,t):t.bookType=="numbers"?Eie(n,t):t.bookType=="xlsb"?jie(n,t):Rie(n,t)}function jie(n,t){Gh=1024,n&&!n.SSF&&(n.SSF=Bs(Vn)),n&&n.SSF&&(Py(),My(n.SSF),t.revssf=Dy(n.SSF),t.revssf[n.SSF[65535]]=0,t.ssf=n.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,ep?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var i=t.bookType=="xlsb"?"bin":"xml",r=pP.indexOf(t.bookType)>-1,s=z3();e2(t=t||{});var o=Fw(),a="",c=0;if(t.cellXfs=[],Oc(t.cellXfs,{},{revssf:{General:0}}),n.Props||(n.Props={}),a="docProps/core.xml",vr(o,a,Y3(n.Props,t)),s.coreprops.push(a),rn(t.rels,2,a,Gr.CORE_PROPS),a="docProps/app.xml",!(n.Props&&n.Props.SheetNames))if(!n.Workbook||!n.Workbook.Sheets)n.Props.SheetNames=n.SheetNames;else{for(var l=[],u=0;u<n.SheetNames.length;++u)(n.Workbook.Sheets[u]||{}).Hidden!=2&&l.push(n.SheetNames[u]);n.Props.SheetNames=l}for(n.Props.Worksheets=n.Props.SheetNames.length,vr(o,a,X3(n.Props)),s.extprops.push(a),rn(t.rels,3,a,Gr.EXT_PROPS),n.Custprops!==n.Props&&Qi(n.Custprops||{}).length>0&&(a="docProps/custom.xml",vr(o,a,K3(n.Custprops)),s.custprops.push(a),rn(t.rels,4,a,Gr.CUST_PROPS)),c=1;c<=n.SheetNames.length;++c){var p={"!id":{}},y=n.Sheets[n.SheetNames[c-1]],d=(y||{})["!type"]||"sheet";switch(d){case"chart":default:a="xl/worksheets/sheet"+c+"."+i,vr(o,a,Ine(c-1,a,t,n,p)),s.sheets.push(a),rn(t.wbrels,-1,"worksheets/sheet"+c+"."+i,Gr.WS[0])}if(y){var f=y["!comments"],b=!1,g="";f&&f.length>0&&(g="xl/comments"+c+"."+i,vr(o,g,Pne(f,g)),s.comments.push(g),rn(p,-1,"../comments"+c+"."+i,Gr.CMNT),b=!0),y["!legacy"]&&b&&vr(o,"xl/drawings/vmlDrawing"+c+".vml",dP(c,y["!comments"])),delete y["!comments"],delete y["!legacy"]}p["!id"].rId1&&vr(o,W3(a),Qh(p))}return t.Strings!=null&&t.Strings.length>0&&(a="xl/sharedStrings."+i,vr(o,a,Mne(t.Strings,a,t)),s.strs.push(a),rn(t.wbrels,-1,"sharedStrings."+i,Gr.SST)),a="xl/workbook."+i,vr(o,a,One(n,a)),s.workbooks.push(a),rn(t.rels,1,a,Gr.WB),a="xl/theme/theme1.xml",vr(o,a,uP(n.Themes,t)),s.themes.push(a),rn(t.wbrels,-1,"theme/theme1.xml",Gr.THEME),a="xl/styles."+i,vr(o,a,kne(n,a,t)),s.styles.push(a),rn(t.wbrels,-1,"styles."+i,Gr.STY),n.vbaraw&&r&&(a="xl/vbaProject.bin",vr(o,a,n.vbaraw),s.vba.push(a),rn(t.wbrels,-1,"vbaProject.bin",Gr.VBA)),a="xl/metadata."+i,vr(o,a,Dne(a)),s.metadata.push(a),rn(t.wbrels,-1,"metadata."+i,Gr.XLMETA),vr(o,"[Content_Types].xml",H3(s,t)),vr(o,"_rels/.rels",Qh(t.rels)),vr(o,"xl/_rels/workbook."+i+".rels",Qh(t.wbrels)),delete t.revssf,delete t.ssf,o}function Rie(n,t){Gh=1024,n&&!n.SSF&&(n.SSF=Bs(Vn)),n&&n.SSF&&(Py(),My(n.SSF),t.revssf=Dy(n.SSF),t.revssf[n.SSF[65535]]=0,t.ssf=n.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,ep?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var i="xml",r=pP.indexOf(t.bookType)>-1,s=z3();e2(t=t||{});var o=Fw(),a="",c=0;if(t.cellXfs=[],Oc(t.cellXfs,{},{revssf:{General:0}}),n.Props||(n.Props={}),a="docProps/core.xml",vr(o,a,Y3(n.Props,t)),s.coreprops.push(a),rn(t.rels,2,a,Gr.CORE_PROPS),a="docProps/app.xml",!(n.Props&&n.Props.SheetNames))if(!n.Workbook||!n.Workbook.Sheets)n.Props.SheetNames=n.SheetNames;else{for(var l=[],u=0;u<n.SheetNames.length;++u)(n.Workbook.Sheets[u]||{}).Hidden!=2&&l.push(n.SheetNames[u]);n.Props.SheetNames=l}n.Props.Worksheets=n.Props.SheetNames.length,vr(o,a,X3(n.Props)),s.extprops.push(a),rn(t.rels,3,a,Gr.EXT_PROPS),n.Custprops!==n.Props&&Qi(n.Custprops||{}).length>0&&(a="docProps/custom.xml",vr(o,a,K3(n.Custprops)),s.custprops.push(a),rn(t.rels,4,a,Gr.CUST_PROPS));var p=["SheetJ5"];for(t.tcid=0,c=1;c<=n.SheetNames.length;++c){var y={"!id":{}},d=n.Sheets[n.SheetNames[c-1]],f=(d||{})["!type"]||"sheet";switch(f){case"chart":default:a="xl/worksheets/sheet"+c+"."+i,vr(o,a,SP(c-1,t,n,y)),s.sheets.push(a),rn(t.wbrels,-1,"worksheets/sheet"+c+"."+i,Gr.WS[0])}if(d){var b=d["!comments"],g=!1,v="";if(b&&b.length>0){var _=!1;b.forEach(function(x){x[1].forEach(function(w){w.T==!0&&(_=!0)})}),_&&(v="xl/threadedComments/threadedComment"+c+"."+i,vr(o,v,aee(b,p,t)),s.threadedcomments.push(v),rn(y,-1,"../threadedComments/threadedComment"+c+"."+i,Gr.TCMNT)),v="xl/comments"+c+"."+i,vr(o,v,fP(b)),s.comments.push(v),rn(y,-1,"../comments"+c+"."+i,Gr.CMNT),g=!0}d["!legacy"]&&g&&vr(o,"xl/drawings/vmlDrawing"+c+".vml",dP(c,d["!comments"])),delete d["!comments"],delete d["!legacy"]}y["!id"].rId1&&vr(o,W3(a),Qh(y))}return t.Strings!=null&&t.Strings.length>0&&(a="xl/sharedStrings."+i,vr(o,a,iP(t.Strings,t)),s.strs.push(a),rn(t.wbrels,-1,"sharedStrings."+i,Gr.SST)),a="xl/workbook."+i,vr(o,a,CP(n)),s.workbooks.push(a),rn(t.rels,1,a,Gr.WB),a="xl/theme/theme1.xml",vr(o,a,uP(n.Themes,t)),s.themes.push(a),rn(t.wbrels,-1,"theme/theme1.xml",Gr.THEME),a="xl/styles."+i,vr(o,a,lP(n,t)),s.styles.push(a),rn(t.wbrels,-1,"styles."+i,Gr.STY),n.vbaraw&&r&&(a="xl/vbaProject.bin",vr(o,a,n.vbaraw),s.vba.push(a),rn(t.wbrels,-1,"vbaProject.bin",Gr.VBA)),a="xl/metadata."+i,vr(o,a,hP()),s.metadata.push(a),rn(t.wbrels,-1,"metadata."+i,Gr.XLMETA),p.length>1&&(a="xl/persons/person.xml",vr(o,a,oee(p)),s.people.push(a),rn(t.wbrels,-1,"persons/person.xml",Gr.PEOPLE)),vr(o,"[Content_Types].xml",H3(s,t)),vr(o,"_rels/.rels",Qh(t.rels)),vr(o,"xl/_rels/workbook."+i+".rels",Qh(t.wbrels)),delete t.revssf,delete t.ssf,o}function Oie(n,t){var i="";switch((t||{}).type||"base64"){case"buffer":return[n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7]];case"base64":i=jl(n.slice(0,12));break;case"binary":i=n;break;case"array":return[n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[i.charCodeAt(0),i.charCodeAt(1),i.charCodeAt(2),i.charCodeAt(3),i.charCodeAt(4),i.charCodeAt(5),i.charCodeAt(6),i.charCodeAt(7)]}function MP(n,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return Jp(t.file,dn.write(n,{type:$r?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return dn.write(n,t)}function Iie(n,t){var i=Bs(t||{}),r=Aie(n,i);return kie(r,i)}function kie(n,t){var i={},r=$r?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(i.compression="DEFLATE"),t.password)i.type=r;else switch(t.type){case"base64":i.type="base64";break;case"binary":i.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":i.type=r;break;default:throw new Error("Unrecognized type "+t.type)}var s=n.FullPaths?dn.write(n,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[i.type]||i.type,compression:!!t.compression}):n.generate(i);if(typeof Deno<"u"&&typeof s=="string"){if(t.type=="binary"||t.type=="base64")return s;s=new Uint8Array(ky(s))}return t.password&&typeof encrypt_agile<"u"?MP(encrypt_agile(s,t.password),t):t.type==="file"?Jp(t.file,s):t.type=="string"?Kf(s):s}function Mie(n,t){var i=t||{},r=Xne(n,i);return MP(r,i)}function mo(n,t,i){i||(i="");var r=i+n;switch(t.type){case"base64":return wp(Tp(r));case"binary":return Tp(r);case"string":return n;case"file":return Jp(t.file,r,"utf8");case"buffer":return $r?Ml(r,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(r):mo(r,{type:"binary"}).split("").map(function(s){return s.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function Pie(n,t){switch(t.type){case"base64":return wp(n);case"binary":return n;case"string":return n;case"file":return Jp(t.file,n,"binary");case"buffer":return $r?Ml(n,"binary"):n.split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function j0(n,t){switch(t.type){case"string":case"base64":case"binary":for(var i="",r=0;r<n.length;++r)i+=String.fromCharCode(n[r]);return t.type=="base64"?wp(i):t.type=="string"?Kf(i):i;case"file":return Jp(t.file,n);case"buffer":return n;default:throw new Error("Unrecognized type "+t.type)}}function PP(n,t){lQ(),_ne(n);var i=Bs(t||{});if(i.cellStyles&&(i.cellNF=!0,i.sheetStubs=!0),i.type=="array"){i.type="binary";var r=PP(n,i);return i.type="array",ky(r)}var s=0;if(i.sheet&&(typeof i.sheet=="number"?s=i.sheet:s=n.SheetNames.indexOf(i.sheet),!n.SheetNames[s]))throw new Error("Sheet not found: "+i.sheet+" : "+typeof i.sheet);switch(i.bookType||"xlsb"){case"xml":case"xlml":return mo(Yne(n,i),i);case"slk":case"sylk":return mo(gJ.from_sheet(n.Sheets[n.SheetNames[s]],i),i);case"htm":case"html":return mo(RP(n.Sheets[n.SheetNames[s]],i),i);case"txt":return Pie(DP(n.Sheets[n.SheetNames[s]],i),i);case"csv":return mo(t2(n.Sheets[n.SheetNames[s]],i),i,"\uFEFF");case"dif":return mo(yJ.from_sheet(n.Sheets[n.SheetNames[s]],i),i);case"dbf":return j0(mJ.from_sheet(n.Sheets[n.SheetNames[s]],i),i);case"prn":return mo(vJ.from_sheet(n.Sheets[n.SheetNames[s]],i),i);case"rtf":return mo(EJ.from_sheet(n.Sheets[n.SheetNames[s]],i),i);case"eth":return mo(nP.from_sheet(n.Sheets[n.SheetNames[s]],i),i);case"fods":return mo(kP(n,i),i);case"wk1":return j0(Yj.sheet_to_wk1(n.Sheets[n.SheetNames[s]],i),i);case"wk3":return j0(Yj.book_to_wk3(n,i),i);case"biff2":i.biff||(i.biff=2);case"biff3":i.biff||(i.biff=3);case"biff4":return i.biff||(i.biff=4),j0(jP(n,i),i);case"biff5":i.biff||(i.biff=5);case"biff8":case"xla":case"xls":return i.biff||(i.biff=8),Mie(n,i);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return Iie(n,i);default:throw new Error("Unrecognized bookType |"+i.bookType+"|")}}function Die(n,t,i,r,s,o,a,c){var l=Xi(i),u=c.defval,p=c.raw||!Object.prototype.hasOwnProperty.call(c,"raw"),y=!0,d=s===1?[]:{};if(s!==1)if(Object.defineProperty)try{Object.defineProperty(d,"__rowNum__",{value:i,enumerable:!1})}catch{d.__rowNum__=i}else d.__rowNum__=i;if(!a||n[i])for(var f=t.s.c;f<=t.e.c;++f){var b=a?n[i][f]:n[r[f]+l];if(b===void 0||b.t===void 0){if(u===void 0)continue;o[f]!=null&&(d[o[f]]=u);continue}var g=b.v;switch(b.t){case"z":if(g==null)break;continue;case"e":g=g==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+b.t)}if(o[f]!=null){if(g==null)if(b.t=="e"&&g===null)d[o[f]]=null;else if(u!==void 0)d[o[f]]=u;else if(p&&g===null)d[o[f]]=null;else continue;else d[o[f]]=p&&(b.t!=="n"||b.t==="n"&&c.rawNumbers!==!1)?g:Rl(b,g,c);g!=null&&(y=!1)}}return{row:d,isempty:y}}function Wg(n,t){if(n==null||n["!ref"]==null)return[];var i={t:"n",v:0},r=0,s=1,o=[],a=0,c="",l={s:{r:0,c:0},e:{r:0,c:0}},u=t||{},p=u.range!=null?u.range:n["!ref"];switch(u.header===1?r=1:u.header==="A"?r=2:Array.isArray(u.header)?r=3:u.header==null&&(r=0),typeof p){case"string":l=An(p);break;case"number":l=An(n["!ref"]),l.s.r=p;break;default:l=p}r>0&&(s=0);var y=Xi(l.s.r),d=[],f=[],b=0,g=0,v=Array.isArray(n),_=l.s.r,x=0,w={};v&&!n[_]&&(n[_]=[]);var S=u.skipHidden&&n["!cols"]||[],R=u.skipHidden&&n["!rows"]||[];for(x=l.s.c;x<=l.e.c;++x)if(!(S[x]||{}).hidden)switch(d[x]=cs(x),i=v?n[_][x]:n[d[x]+y],r){case 1:o[x]=x-l.s.c;break;case 2:o[x]=d[x];break;case 3:o[x]=u.header[x-l.s.c];break;default:if(i==null&&(i={w:"__EMPTY",t:"s"}),c=a=Rl(i,null,u),g=w[a]||0,!g)w[a]=1;else{do c=a+"_"+g++;while(w[c]);w[a]=g,w[c]=1}o[x]=c}for(_=l.s.r+s;_<=l.e.r;++_)if(!(R[_]||{}).hidden){var D=Die(n,l,_,d,r,o,v,u);(D.isempty===!1||(r===1?u.blankrows!==!1:u.blankrows))&&(f[b++]=D.row)}return f.length=b,f}var tR=/"/g;function Nie(n,t,i,r,s,o,a,c){for(var l=!0,u=[],p="",y=Xi(i),d=t.s.c;d<=t.e.c;++d)if(r[d]){var f=c.dense?(n[i]||[])[d]:n[r[d]+y];if(f==null)p="";else if(f.v!=null){l=!1,p=""+(c.rawNumbers&&f.t=="n"?f.v:Rl(f,null,c));for(var b=0,g=0;b!==p.length;++b)if((g=p.charCodeAt(b))===s||g===o||g===34||c.forceQuotes){p='"'+p.replace(tR,'""')+'"';break}p=="ID"&&(p='"ID"')}else f.f!=null&&!f.F?(l=!1,p="="+f.f,p.indexOf(",")>=0&&(p='"'+p.replace(tR,'""')+'"')):p="";u.push(p)}return c.blankrows===!1&&l?null:u.join(a)}function t2(n,t){var i=[],r=t??{};if(n==null||n["!ref"]==null)return"";var s=An(n["!ref"]),o=r.FS!==void 0?r.FS:",",a=o.charCodeAt(0),c=r.RS!==void 0?r.RS:`
`,l=c.charCodeAt(0),u=new RegExp((o=="|"?"\\|":o)+"+$"),p="",y=[];r.dense=Array.isArray(n);for(var d=r.skipHidden&&n["!cols"]||[],f=r.skipHidden&&n["!rows"]||[],b=s.s.c;b<=s.e.c;++b)(d[b]||{}).hidden||(y[b]=cs(b));for(var g=0,v=s.s.r;v<=s.e.r;++v)(f[v]||{}).hidden||(p=Nie(n,s,v,y,a,l,o,r),p!=null&&(r.strip&&(p=p.replace(u,"")),(p||r.blankrows!==!1)&&i.push((g++?c:"")+p)));return delete r.dense,i.join("")}function DP(n,t){t||(t={}),t.FS="	",t.RS=`
`;var i=t2(n,t);return i}function Lie(n){var t="",i,r="";if(n==null||n["!ref"]==null)return[];var s=An(n["!ref"]),o="",a=[],c,l=[],u=Array.isArray(n);for(c=s.s.c;c<=s.e.c;++c)a[c]=cs(c);for(var p=s.s.r;p<=s.e.r;++p)for(o=Xi(p),c=s.s.c;c<=s.e.c;++c)if(t=a[c]+o,i=u?(n[p]||[])[c]:n[t],r="",i!==void 0){if(i.F!=null){if(t=i.F,!i.f)continue;r=i.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(i.f!=null)r=i.f;else{if(i.t=="z")continue;if(i.t=="n"&&i.v!=null)r=""+i.v;else if(i.t=="b")r=i.v?"TRUE":"FALSE";else if(i.w!==void 0)r="'"+i.w;else{if(i.v===void 0)continue;i.t=="s"?r="'"+i.v:r=""+i.v}}l[l.length]=t+"="+r}return l}function NP(n,t,i){var r=i||{},s=+!r.skipHeader,o=n||{},a=0,c=0;if(o&&r.origin!=null)if(typeof r.origin=="number")a=r.origin;else{var l=typeof r.origin=="string"?ki(r.origin):r.origin;a=l.r,c=l.c}var u,p={s:{c:0,r:0},e:{c,r:a+t.length-1+s}};if(o["!ref"]){var y=An(o["!ref"]);p.e.c=Math.max(p.e.c,y.e.c),p.e.r=Math.max(p.e.r,y.e.r),a==-1&&(a=y.e.r+1,p.e.r=a+t.length-1+s)}else a==-1&&(a=0,p.e.r=t.length-1+s);var d=r.header||[],f=0;t.forEach(function(g,v){Qi(g).forEach(function(_){(f=d.indexOf(_))==-1&&(d[f=d.length]=_);var x=g[_],w="z",S="",R=an({c:c+f,r:a+v+s});u=Ap(o,R),x&&typeof x=="object"&&!(x instanceof Date)?o[R]=x:(typeof x=="number"?w="n":typeof x=="boolean"?w="b":typeof x=="string"?w="s":x instanceof Date?(w="d",r.cellDates||(w="n",x=Us(x)),S=r.dateNF||Vn[14]):x===null&&r.nullError&&(w="e",x=0),u?(u.t=w,u.v=x,delete u.w,delete u.R,S&&(u.z=S)):o[R]=u={t:w,v:x},S&&(u.z=S))})}),p.e.c=Math.max(p.e.c,c+d.length-1);var b=Xi(a);if(s)for(f=0;f<d.length;++f)o[cs(f+c)+b]={t:"s",v:d[f]};return o["!ref"]=hi(p),o}function Fie(n,t){return NP(null,n,t)}function Ap(n,t,i){if(typeof t=="string"){if(Array.isArray(n)){var r=ki(t);return n[r.r]||(n[r.r]=[]),n[r.r][r.c]||(n[r.r][r.c]={t:"z"})}return n[t]||(n[t]={t:"z"})}return typeof t!="number"?Ap(n,an(t)):Ap(n,an({r:t,c:i||0}))}function Uie(n,t){if(typeof t=="number"){if(t>=0&&n.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var i=n.SheetNames.indexOf(t);if(i>-1)return i;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function Bie(){return{SheetNames:[],Sheets:{}}}function Vie(n,t,i,r){var s=1;if(!i)for(;s<=65535&&n.SheetNames.indexOf(i="Sheet"+s)!=-1;++s,i=void 0);if(!i||n.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&n.SheetNames.indexOf(i)>=0){var o=i.match(/(^.*?)(\d+)$/);s=o&&+o[2]||0;var a=o&&o[1]||i;for(++s;s<=65535&&n.SheetNames.indexOf(i=a+s)!=-1;++s);}if(EP(i),n.SheetNames.indexOf(i)>=0)throw new Error("Worksheet with name |"+i+"| already exists!");return n.SheetNames.push(i),n.Sheets[i]=t,i}function Gie(n,t,i){n.Workbook||(n.Workbook={}),n.Workbook.Sheets||(n.Workbook.Sheets=[]);var r=Uie(n,t);switch(n.Workbook.Sheets[r]||(n.Workbook.Sheets[r]={}),i){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+i)}n.Workbook.Sheets[r].Hidden=i}function zie(n,t){return n.z=t,n}function LP(n,t,i){return t?(n.l={Target:t},i&&(n.l.Tooltip=i)):delete n.l,n}function Hie(n,t,i){return LP(n,"#"+t,i)}function Wie(n,t,i){n.c||(n.c=[]),n.c.push({t,a:i||"SheetJS"})}function qie(n,t,i,r){for(var s=typeof t!="string"?t:An(t),o=typeof t=="string"?t:hi(t),a=s.s.r;a<=s.e.r;++a)for(var c=s.s.c;c<=s.e.c;++c){var l=Ap(n,a,c);l.t="n",l.F=o,delete l.v,a==s.s.r&&c==s.s.c&&(l.f=i,r&&(l.D=!0))}return n}var Xs={encode_col:cs,encode_row:Xi,encode_cell:an,encode_range:hi,decode_col:Hw,decode_row:zw,split_cell:lZ,decode_cell:ki,decode_range:aa,format_cell:Rl,sheet_add_aoa:L3,sheet_add_json:NP,sheet_add_dom:OP,aoa_to_sheet:jd,json_to_sheet:Fie,table_to_sheet:IP,table_to_book:yie,sheet_to_csv:t2,sheet_to_txt:DP,sheet_to_json:Wg,sheet_to_html:RP,sheet_to_formulae:Lie,sheet_to_row_object_array:Wg,sheet_get_cell:Ap,book_new:Bie,book_append_sheet:Vie,book_set_sheet_visibility:Gie,cell_set_number_format:zie,cell_set_hyperlink:LP,cell_set_internal_link:Hie,cell_add_comment:Wie,sheet_set_array_formula:qie,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const rR=n=>Object.prototype.toString.call(n)==="[object Object]",Yie=(n,t="")=>{const i=[],r=(s,o)=>{if(Array.isArray(s)){i.push({key:o,value:JSON.stringify(s)});return}if(!rR(s)){i.push({key:o,value:s});return}for(const a of Object.keys(s)){const c=o?`${o}.${a}`:a,l=s[a];rR(l)?r(l,c):Array.isArray(l)?i.push({key:c,value:JSON.stringify(l)}):i.push({key:c,value:l})}};return r(n,t),i},$ie=n=>Object.entries(n||{}).map(([t,i])=>({key:t,count:i.count,meanHoldMs:i.meanHoldMs,meanLagMs:i.meanLagMs})),nR=n=>(n||[]).map((t,i)=>({index:i,op:t.op,a:t.a??"",b:t.b??"",ai:t.ai,bi:t.bi})),R0={baselinetyping:{bgColor:"#ffffff",bgOpacity:1},color:{colors:["#FF0000","#00FF00","#0000FF","#FFFF00"],animationStyle:"sine",duration:1,opacity:1,opacityMode:"constant",opacitySpeed:1,direction:"forward",linearAngle:45},multifunction:{waveType:"sine",direction:"static",angle:0,amplitude:10,frequency:10,speed:5,thickness:1,phaseOffset:0,numLines:1,distance:0,bgColor:"#ffffff",lineColor:"#FF0000",selectedPalette:"none",rotationSpeed:.02,rotationRadius:150,oscillationRange:100,groups:1,groupDistance:100},shape:{shapeType:"circle",direction:"static",rotationSpeed:.2,rotationRadius:120,oscillationRange:120,angle:0,speed:5,size:60,numShapes:20,bgColor:"#000000",shapeColor:"#ffffff",secondColor:"#ff00ff",palette:"none",layoutSelect:"random",rowOffset:0,columnOffset:0,rowDistance:40,columnDistance:40}},Xie=()=>{const{currentUser:n}=Rc(),[t,i]=Ee.useState("multifunction"),r=Ee.useRef("multifunction"),s=w=>{r.current=w,i(w)},[o,a]=Ee.useState({multifunction:{...R0.multifunction},baselinetyping:{...R0.baselinetyping},shape:{...R0.shape},color:{...R0.color}}),c=Ee.useRef(o);Ee.useEffect(()=>{c.current=o},[o]);const l=Ee.useCallback(w=>{const S=r.current;a(R=>{const D=R[S]??{},A=typeof w=="function"?w(D):w;return{...R,[S]:A}})},[]),[u,p]=Ee.useState(null);Ee.useEffect(()=>{if(!u)return;const w=setTimeout(()=>p(null),3e3);return()=>clearTimeout(w)},[u]);const[y,d]=Ee.useState(()=>Date.now()),[f,b]=Ee.useState(null),g=Ee.useCallback(()=>{const w=r.current,S=c.current[w]??{};b({tab:w,settings:JSON.parse(JSON.stringify(S)),startedAt:new Date().toISOString()})},[]),[v,_]=Ee.useState(""),x=async w=>{var P,O,L,N,q,W,Y;const S=n==null?void 0:n.uid;if(!S){p({message:"You must be logged in to save (no UID).",type:"error"});return}const R=new Date,D=`${R.toISOString().replace(/[:.]/g,"-")}-${Math.random().toString(36).slice(2,8)}`,A=r.current,C=JSON.parse(JSON.stringify(c.current[A]??{})),j={userId:S,sessionId:D,animationTab:A,animationAtStart:f??null,animationAtSubmit:{tab:A,settings:C,submittedAt:R.toISOString()},settingsSnapshot:C,targetText:w.targetText||v||"",typedText:w.typedText||"",keyData:w.keyData||[],analysis:w.analysis??null,metrics:w.metrics??null,ui:w.ui??void 0,timestamp:R.toISOString(),localDateTime:R.toLocaleString(),schemaVersion:1};try{const J=`users/${S}/keystroke-data/sessions/${D}`,te=`${J}/${D}.json`,ee=JSON.stringify(j,null,2);await Ya(bs(xs,te),new Blob([ee],{type:"application/json"}));const Q=Xs.book_new(),ne=Yie({userId:j.userId,sessionId:j.sessionId,animationTab:j.animationTab,animationAtStart:j.animationAtStart,animationAtSubmit:j.animationAtSubmit,targetText:j.targetText,typedText:j.typedText,metrics:j.metrics,ui:j.ui??{},timestamp:j.timestamp,localDateTime:j.localDateTime,schemaVersion:j.schemaVersion});Xs.book_append_sheet(Q,Xs.json_to_sheet(ne),"Summary"),Xs.book_append_sheet(Q,Xs.json_to_sheet([{name:"targetText",value:j.targetText??""},{name:"typedText",value:j.typedText??""}]),"Texts");const re=(j.keyData||[]).map((Se,pe)=>({index:pe,key:Se.key,pressTime:Se.pressTime,releaseTime:Se.releaseTime??"",holdTime:Se.holdTime??"",lagTime:Se.lagTime,totalLagTime:Se.totalLagTime}));Xs.book_append_sheet(Q,Xs.json_to_sheet(re),"KeyEvents");const I=$ie(((P=j.metrics)==null?void 0:P.perKey)||{});I.length&&Xs.book_append_sheet(Q,Xs.json_to_sheet(I),"PerKey");const U=nR(((L=(O=j.analysis)==null?void 0:O.char)==null?void 0:L.ops)||[]);U.length&&Xs.book_append_sheet(Q,Xs.json_to_sheet(U),"CharOps");const H=nR(((q=(N=j.analysis)==null?void 0:N.word)==null?void 0:q.ops)||[]);H.length&&Xs.book_append_sheet(Q,Xs.json_to_sheet(H),"WordOps");const X=PP(Q,{bookType:"xlsx",type:"array"}),ae=new Blob([X],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),le=`${J}/${D}.xlsx`;await Ya(bs(xs,le),ae);const he=ou.unparse(ne);await Ya(bs(xs,`${J}/${D}.session_flat.csv`),new Blob([he],{type:"text/csv;charset=utf-8;"}));const ye=ou.unparse(re);if(await Ya(bs(xs,`${J}/${D}.key_events.csv`),new Blob([ye],{type:"text/csv;charset=utf-8;"})),I.length){const Se=ou.unparse(I);await Ya(bs(xs,`${J}/${D}.per_key.csv`),new Blob([Se],{type:"text/csv;charset=utf-8;"}))}if(U.length){const Se=ou.unparse(U);await Ya(bs(xs,`${J}/${D}.char_ops.csv`),new Blob([Se],{type:"text/csv;charset=utf-8;"}))}if(H.length){const Se=ou.unparse(H);await Ya(bs(xs,`${J}/${D}.word_ops.csv`),new Blob([Se],{type:"text/csv;charset=utf-8;"}))}const me=ee.length,xe={json:te,xlsx:le,csv:{flat:`${J}/${D}.session_flat.csv`,keyEvents:`${J}/${D}.key_events.csv`,perKey:`${J}/${D}.per_key.csv`,charOps:`${J}/${D}.char_ops.csv`,wordOps:`${J}/${D}.word_ops.csv`}};me<9e5?await mp(Ra(Ds,`users/${S}/keystroke-data`),{...j,storagePaths:xe}):await mp(Ra(Ds,`users/${S}/keystroke-data`),{userId:S,sessionId:D,animationTab:j.animationTab,animationAtStart:j.animationAtStart,animationAtSubmit:j.animationAtSubmit,targetText:j.targetText,typedText:j.typedText,metrics:j.metrics,approxKeyCount:(j.keyData||[]).length,timestamp:j.timestamp,localDateTime:j.localDateTime,schemaVersion:j.schemaVersion,storagePaths:xe}),await jz(Cz(oW,`users/${S}/keystroke-data/${D}`),{status:"submitted",animationTab:j.animationTab,targetLength:((W=j.targetText)==null?void 0:W.length)??0,typedLength:((Y=j.typedText)==null?void 0:Y.length)??0,wordCount:(j.typedText||"").trim().split(/\s+/).filter(Boolean).length,createdAt:Bz(),clientTs:j.timestamp,storageJsonPath:te,storageXlsxPath:le}),p({message:"Saved JSON + XLSX + CSVs; Firestore & RTDB updated ",type:"success"}),b(null),d(Date.now())}catch(J){console.error("Save error:",J),p({message:`Error saving data: ${(J==null?void 0:J.code)||""} ${(J==null?void 0:J.message)||String(J)}`,type:"error"})}};return V.jsxs("div",{className:"relative w-full",children:[V.jsxs("div",{className:"flex justify-center text-sm text-gray-600 rounded p-2 mb-4 w-full",children:[V.jsx(Cd,{}),V.jsx("button",{onClick:()=>s("baselinetyping"),className:`p-2 mx-2 ${t==="baselinetyping"?"bg-blue-500 text-white rounded":"bg-gray-200"}`,children:"Baseline Typing"}),V.jsx("button",{onClick:()=>s("multifunction"),className:`p-2 mx-2 ${t==="multifunction"?"bg-blue-500 text-white rounded":"bg-gray-200"}`,children:"Multifunction Animation"}),V.jsx("button",{onClick:()=>s("shape"),className:`p-2 mx-2 ${t==="shape"?"bg-blue-500 text-white rounded":"bg-gray-200"}`,children:"Shape Animation"}),V.jsx("button",{onClick:()=>s("color"),className:`p-2 mx-2 ${t==="color"?"bg-blue-500 text-white rounded":"bg-gray-200"}`,children:"Color Animation"})]}),t==="baselinetyping"&&V.jsx(iQ,{settings:o.baselinetyping,setSettings:l}),t==="multifunction"&&V.jsx(t3,{settings:o.multifunction,setSettings:l}),t==="shape"&&V.jsx(r3,{settings:o.shape,setSettings:l}),t==="color"&&V.jsx(eQ,{settings:o.color,setSettings:l}),V.jsx("div",{className:"relative w-full ml-52 mt-[22vh]",children:V.jsxs("div",{className:"w-full max-w-9xl",children:[V.jsx(n3,{placeholder:"Type here",displayText:v,setDisplayText:_,saveKeystrokeData:x,onTypingStart:g},y),V.jsx("div",{className:"w-full max-w-9xl mt-4",children:V.jsx(sQ,{displayText:v,setDisplayText:_})}),u&&V.jsx("div",{className:"mt-3",children:V.jsx("div",{className:`inline-block text-white text-xs px-4 py-2 rounded shadow ${u.type==="error"?"bg-red-500":"bg-green-500"}`,children:u.message})})]})})]})};function Kie(){const[n]=gL(),t=ds(),[i,r]=Ee.useState({text:"Verifying your email",type:"info"});return Ee.useEffect(()=>{const s=n.get("oobCode"),o=n.get("mode");(async()=>{try{if(!s||o!=="verifyEmail"){r({text:"Invalid verification link.",type:"error"});return}await i6(Sr,s),await n6(Sr,s),Sr.currentUser&&await Qg(Sr.currentUser),r({text:"Email verified! You can log in now.",type:"success"}),setTimeout(()=>t("/login"),1200)}catch(a){r({text:`Try verifying again. ${(a==null?void 0:a.code)||""} ${(a==null?void 0:a.message)||""}`,type:"error"})}})()},[n,t]),V.jsx("div",{className:"max-w-md mx-auto mt-10 space-y-4",children:V.jsx(On,{message:i.text,type:i.type})})}const O0=[{name:"testerId",label:"Tester ID",type:"input",inputType:"text",placeholder:"caltech-alias or initials",validate:[sr]},{name:"email",label:"Email (optional)",type:"input",inputType:"email",validate:[]},{name:"sessionLabel",label:"Session Label",type:"input",inputType:"text",placeholder:"e.g., debug run #1"},{name:"consent",label:"Consent to store anonymized data",type:"select",options:["Yes","No"],validate:[sr]},{name:"uiClarity",label:"UI clarity",type:"select",options:["1","2","3","4","5"],validate:[sr]},{name:"performanceSmoothness",label:"Performance smoothness",type:"select",options:["1","2","3","4","5"],validate:[sr]},{name:"difficultyCalibration",label:"Difficulty calibration",type:"select",options:["1","2","3","4","5"],validate:[sr]},{name:"overall",label:"Overall",type:"select",options:["1","2","3","4","5"],validate:[sr]},{name:"deviceType",label:"Device type",type:"select",options:["Laptop","Desktop","Tablet","Phone"],validate:[sr]},{name:"os",label:"OS",type:"input",inputType:"text",validate:[sr]},{name:"browser",label:"Browser",type:"input",inputType:"text",validate:[sr]},{name:"screen",label:"Screen",type:"input",inputType:"text",placeholder:"e.g., 2560x1440 @ 2x",validate:[sr]},{name:"connection",label:"Connection",type:"select",options:["WiFi","Ethernet","Cellular"]},{name:"inputMethod",label:"Input method",type:"select",options:["Builtin laptop keyboard","External USB keyboard","Bluetooth keyboard","Onscreen keyboard"]},{name:"keyboardLayout",label:"Keyboard layout",type:"select",options:["US QWERTY","UK","DVORAK","COLEMAK","Other"]},{name:"distanceFromScreenCm",label:"Distance from screen (cm)",type:"input",inputType:"number",placeholder:"e.g., 60"},{name:"posture",label:"Posture / seating",type:"select",options:["Desk chair","Standing desk","Couch/bed","Other"]},{name:"therapyMode",label:"Therapy mode",type:"select",options:["Baseline","Stabilization"]},{name:"movingBackground",label:"Moving background",type:"select",options:["On","Off"],validate:[sr]},{name:"backgroundPattern",label:"Background pattern",type:"select",options:["Stripes","Dots","Grid","Image/Video","Solid color","Other"]},{name:"backgroundDirection",label:"Background direction",type:"select",options:["Left  Right","Up  Down","Diagonal","None/Static"]},{name:"backgroundSpeed",label:"Background speed",type:"select",options:["Very slow","Slow","Medium","Fast","Very fast"]},{name:"fontSizePx",label:"Font size (px)",type:"input",inputType:"number",placeholder:"e.g., 20"},{name:"contrastLevel",label:"Contrast level",type:"select",options:["Low","Medium","High"]},{name:"theme",label:"Color theme",type:"select",options:["Light","Dark","High contrast"]},{name:"tremorMode",label:"Tremor mode",type:"select",options:["Stabilization","Baseline","N/A"],validate:[sr]},{name:"stabilizationStrength",label:"Stabilization strength (0100)",type:"input",inputType:"number",placeholder:"e.g., 60"},{name:"smoothingWindowMs",label:"Smoothing window (ms)",type:"input",inputType:"number",placeholder:"e.g., 150"},{name:"estimatedLatencyMs",label:"Estimated latency (ms)",type:"input",inputType:"number",placeholder:"e.g., 25"},{name:"typingTask",label:"Typing task",type:"select",options:["Copy provided text","Free typing","Random words","Numbers/symbols"]},{name:"textDifficulty",label:"Text difficulty",type:"select",options:["Simple","Intermediate","Complex"]},{name:"sessionDurationMin",label:"Session duration (min)",type:"input",inputType:"number",placeholder:"e.g., 10"},{name:"tremorBefore",label:"Tremor severity BEFORE (010)",type:"select",options:["0","1","2","3","4","5","6","7","8","9","10"]},{name:"tremorAfter",label:"Tremor severity AFTER (010)",type:"select",options:["0","1","2","3","4","5","6","7","8","9","10"]},{name:"fatigueLevel",label:"Fatigue (010)",type:"select",options:["0","1","2","3","4","5","6","7","8","9","10"]},{name:"painLevel",label:"Pain/discomfort (010)",type:"select",options:["0","1","2","3","4","5","6","7","8","9","10"]},{name:"nauseaLevel",label:"Motion sickness / nausea (010)",type:"select",options:["0","1","2","3","4","5","6","7","8","9","10"]},{name:"visionStrain",label:"Eye strain (010)",type:"select",options:["0","1","2","3","4","5","6","7","8","9","10"]},{name:"biggestPainPoint",label:"Biggest pain point",type:"textareascroll",placeholder:"What slowed you down the most?"},{name:"mostHelpfulSetting",label:"Most helpful therapy setting",type:"textareascroll"},{name:"unexpectedBehavior",label:"Any unexpected behaviors or glitches?",type:"textareascroll"},{name:"reproSteps",label:"If a bug occurred, how can we reproduce it?",type:"textareascroll"},{name:"improvementIdeas",label:"Top improvement ideas",type:"textareascroll"},{name:"wouldRecommend",label:"Would you recommend others test this build?",type:"select",options:["Yes","Maybe","No"]},{name:"followUpOk",label:"OK to follow up via email?",type:"select",options:["Yes","No"]}],Qie=()=>{const n=ds(),{currentUser:t}=Rc(),[i,r]=Ee.useState({}),[s,o]=Ee.useState({}),[a,c]=Ee.useState(null),l=y=>{const{name:d,value:f}=y.target;r(g=>({...g,[d]:f}));const b=O0.find(g=>g.name===d);if(b&&b.validate){const g=b.validate.map(v=>v(f,i)).flat();o(v=>({...v,[d]:g}))}else o(g=>({...g,[d]:[]}));c(null)},u=()=>{const y={};let d=!1;return O0.forEach(f=>{const b=i[f.name];if(f.validate){const g=f.validate.map(v=>v(b,i)).flat();g.length>0&&(y[f.name]=g,d=!0)}}),o(y),!d},p=async y=>{if(y.preventDefault(),!u()){c({message:"Please fill all required fields.",type:"error"});return}try{const d=new Date,f=d.toLocaleString(),b={...i,userId:(t==null?void 0:t.uid)||"anonymous",timestamp:d.toISOString(),localDateTime:f},g=Tl(Ra(Ds,`users/${(t==null?void 0:t.uid)||"anonymous"}/progress-feedback`));await Gu(g,b);const _=Object.keys(b).map(w=>{const S=b[w],R=Array.isArray(S)?S.join(";"):S,D=String(R).replaceAll(`
`," ").replaceAll("\r"," ").replace(/,/g,";");return`${w},${D}`}).join(`
`),x=bs(xs,`users/${(t==null?void 0:t.uid)||"anonymous"}/progress-feedback/${d.toISOString()}.csv`);await py(x,_),c({message:"Feedback submitted successfully.",type:"success"}),setTimeout(()=>n("/thank-you",{state:{type:"progress-feedback"}}),1500)}catch(d){console.error("Error submitting progress feedback:",d),c({message:"Error submitting data. Please try again.",type:"error"})}};return V.jsxs(Kn,{bgColor:"bg-blue-50",children:[V.jsx("h2",{className:"text-3xl font-bold mb-4 text-center",children:"Debug Feedback & Progress"}),V.jsx(Cd,{}),V.jsxs("form",{onSubmit:p,children:[V.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-24",children:O0.filter(y=>y.type!=="textareascroll").map(y=>y.type==="input"?V.jsx(oi,{label:y.label,name:y.name,type:y.inputType,value:i[y.name]||"",onChange:l,placeholder:y.placeholder,errors:s[y.name]},y.name):y.type==="select"?V.jsx(Sa,{label:y.label,name:y.name,value:i[y.name]||"",onChange:l,options:y.options,errors:s[y.name]},y.name):y.type==="multiSelect"?V.jsx("div",{},y.name):null)}),V.jsxs("div",{className:"mt-4",children:[V.jsx("h3",{className:"text-xl font-bold mb-4",children:"Additional Information"}),O0.filter(y=>y.type==="textareascroll").map(y=>V.jsx(ol,{label:y.label,name:y.name,value:i[y.name]||"",onChange:l,errors:s[y.name]},y.name))]}),a&&V.jsx(On,{message:a.message,type:a.type}),V.jsx("div",{className:"flex justify-between items-center mt-4",children:V.jsx(Xn,{type:"submit",className:"w-full bg-blue-500 hover:bg-blue-700 border border-blue-700",children:"Submit"})})]})]})},Zie=()=>V.jsxs("div",{className:"text-justify",children:[V.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Clinical Trial Disclaimer and Acknowledgment of Risk"}),V.jsx("p",{children:"Welcome to our clinical trial aimed at stabilizing Parkinson's disease and other tremor disorders through innovative visual therapy. Our approach involves altering background textures and movements to potentially reduce tremor severity. This therapeutic intervention is designed to be engaging and enjoyable for participants, resembling a game-like experience."}),V.jsx("h3",{className:"text-xl font-semibold mt-4",children:"Purpose and Scope"}),V.jsx("p",{children:"The purpose of this clinical trial is to evaluate the effectiveness of visual therapy in stabilizing tremors in individuals with Parkinson's disease and other tremor disorders. Participants will be exposed to various visual stimuli that may help reduce the severity of their tremors."}),V.jsx("h3",{className:"text-xl font-semibold mt-4",children:"Potential Risks and Discomforts"}),V.jsx("p",{children:"While the therapy is designed to be safe and enjoyable, there are potential risks and discomforts that participants should be aware of:"}),V.jsxs("ul",{className:"list-disc list-inside ml-4",children:[V.jsx("li",{children:"Exposure to visual stimuli may trigger migraines in susceptible individuals."}),V.jsx("li",{children:"Participants with a history of epilepsy or other seizure disorders may be at risk of experiencing seizures due to visual stimuli."}),V.jsx("li",{children:"Other unforeseen risks associated with visual therapy and exposure to dynamic background textures."})]}),V.jsx("p",{children:"Participants are encouraged to report any discomfort or adverse reactions to the study staff immediately."}),V.jsx("h3",{className:"text-xl font-semibold mt-4",children:"Confidentiality and Privacy"}),V.jsx("p",{children:"We are committed to protecting the privacy and confidentiality of all participants. All data collected during this study will be stored securely and only accessible to authorized personnel. Personal information will not be shared with any third parties without your explicit consent, except as required by law. This study is compliant with the Health Insurance Portability and Accountability Act (HIPAA) regulations to ensure the confidentiality and security of your health information."}),V.jsx("h3",{className:"text-xl font-semibold mt-4",children:"Voluntary Participation"}),V.jsx("p",{children:"Your participation in this clinical trial is entirely voluntary. You may withdraw from the study at any time without any penalty or loss of benefits to which you are otherwise entitled. If you decide to withdraw, please inform the study staff immediately."}),V.jsx("h3",{className:"text-xl font-semibold mt-4",children:"Acknowledgment of Understanding and Consent"}),V.jsx("p",{children:"By signing this form, you acknowledge that you have read and understood the information provided above, including the potential risks and discomforts associated with participating in this study. You agree to participate in this clinical trial and consent to the collection and use of your data as described."}),V.jsx("p",{children:"If you have any questions or concerns about this study or your rights as a participant, please contact the study staff at [Contact Information]."})]}),Jie=()=>{const n=ds(),[t,i]=Ee.useState(!1),[r,s]=Ee.useState(""),[o,a]=Ee.useState(""),c=p=>{i(p.target.checked)},l=p=>{s(p.target.value)},u=async p=>{if(p.preventDefault(),!t||r.trim()===""){a("Please acknowledge the disclaimer and provide your signature.");return}try{await mp(Ra(Ds,"disclaimers"),{acknowledged:t,signature:r,timestamp:new Date}),a(""),setTimeout(()=>{n("/thank-you",{state:{type:"disclaimer"}})},2e3)}catch(y){console.error("Error submitting disclaimer:",y),a("Error submitting disclaimer. Please try again.")}};return V.jsxs(Yg,{children:[V.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Disclaimer"}),V.jsx(Zie,{}),V.jsxs("form",{onSubmit:u,className:"mt-4",children:[V.jsx("div",{className:"mb-4",children:V.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[V.jsx("input",{type:"checkbox",checked:t,onChange:c,className:"mr-2"}),"I acknowledge that I have read and understood the disclaimer."]})}),V.jsx("div",{className:"mb-4",children:V.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Signature",V.jsx("input",{type:"text",value:r,onChange:l,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Enter your signature"})]})}),o&&V.jsx(On,{message:o,type:"error"}),V.jsx(Xn,{type:"submit",className:"w-full bg-blue-500 hover:bg-blue-700 border border-blue-700",children:"Submit"})]})]})},ese=()=>V.jsx(Kn,{children:V.jsx(Jie,{})});class tse extends Ee.Component{constructor(i){super(i);Ui(this,"myRef",fd.createRef());Ui(this,"myP5",null);Ui(this,"Sketch",i=>{const{patternType:r,patterns:s}=this.props;i.setup=()=>{i.createCanvas(i.windowWidth,i.windowHeight),i.angleMode(i.DEGREES)},i.windowResized=()=>{i.resizeCanvas(i.windowWidth,i.windowHeight)},i.draw=()=>{switch(i.clear(),i.background(0,0,0,0),r){case"sineWave":this.drawSineWaves(i,s.sineWave);break;case"chevrons":this.drawChevrons(i,s.chevrons);break;case"checkerboard":this.drawCheckerboard(i,s.checkerboard);break;default:i.text("Select a pattern",i.width/2,i.height/2)}}});Ui(this,"drawSineWaves",(i,{translateSpeed:r,amplitude:s,frequency:o,rotation:a,duplicates:c})=>{i.translate(i.width/2,i.height/2),i.rotate(a);for(let l=0;l<c;l++){i.beginShape();for(let u=-i.width/2;u<i.width/2;u++){const p=s*i.sin(o*(u+i.frameCount));i.vertex(u,p)}i.endShape()}});Ui(this,"drawChevrons",(i,r)=>{});Ui(this,"drawCheckerboard",(i,r)=>{})}componentDidMount(){this.myP5=new Eb(this.Sketch,this.myRef.current)}componentDidUpdate(){var i;(i=this.myP5)==null||i.remove(),this.myP5=new Eb(this.Sketch,this.myRef.current)}componentWillUnmount(){var i;(i=this.myP5)==null||i.remove()}render(){const{inputValue:i,setInputValue:r,keystrokes:s,setKeystrokes:o,displayText:a,setDisplayText:c}=this.props;return V.jsxs("div",{ref:this.myRef,children:[this.props.children,V.jsx(n3,{displayText:a,setDisplayText:c,inputValue:i,setInputValue:r,keystrokes:s,setKeystrokes:o,placeholder:"Type here..."})]})}}const rse=()=>V.jsx(Kn,{children:V.jsx(Yg,{children:V.jsxs("div",{className:"container mx-auto px-4 py-8",children:[V.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Privacy Policy"}),V.jsx("p",{className:"mb-4",children:'This Privacy Policy explains how [Your App Name] ("we", "us", "our") collects, uses, and discloses your personal data when you use our application or website.'}),V.jsx("h2",{className:"text-2xl font-semibold mt-6 mb-2",children:"1. Information We Collect"}),V.jsx("p",{className:"mb-4",children:"We collect the following types of information:"}),V.jsxs("ul",{className:"list-disc ml-6",children:[V.jsxs("li",{children:[V.jsx("strong",{children:"Personal Information:"})," This includes your name, email address, phone number, and other data that you provide directly to us when you create an account."]}),V.jsxs("li",{children:[V.jsx("strong",{children:"Usage Data:"})," We collect data on how you use the app, such as your browsing activity, preferences, and interactions with the app's features."]}),V.jsxs("li",{children:[V.jsx("strong",{children:"Cookies:"})," We use cookies and similar technologies to track your activity on our app and hold certain information."]})]}),V.jsx("h2",{className:"text-2xl font-semibold mt-6 mb-2",children:"2. How We Use Your Data"}),V.jsx("p",{className:"mb-4",children:"We use your personal data for the following purposes:"}),V.jsxs("ul",{className:"list-disc ml-6",children:[V.jsx("li",{children:"To provide and maintain our service, including user authentication and account management."}),V.jsx("li",{children:"To personalize your experience by remembering your preferences and providing tailored content."}),V.jsx("li",{children:"To send you promotional and marketing communications with your consent."})]}),V.jsx("h2",{className:"text-2xl font-semibold mt-6 mb-2",children:"3. Sharing Your Data"}),V.jsx("p",{className:"mb-4",children:"We do not share your personal information with third parties, except:"}),V.jsxs("ul",{className:"list-disc ml-6",children:[V.jsx("li",{children:"If required by law or in response to a valid legal request."}),V.jsx("li",{children:"With third-party services for analytics, marketing, and hosting our application (e.g., Google Analytics, Firebase, etc.)."})]}),V.jsx("h2",{className:"text-2xl font-semibold mt-6 mb-2",children:"4. Data Retention"}),V.jsx("p",{className:"mb-4",children:"We will retain your personal data for as long as necessary to provide the service and fulfill the purposes outlined in this policy. You can request the deletion of your data at any time (see Data Deletion section)."}),V.jsx("h2",{className:"text-2xl font-semibold mt-6 mb-2",children:"5. Security of Your Data"}),V.jsx("p",{className:"mb-4",children:"We are committed to securing your personal data and use industry-standard methods to protect it. However, no method of transmission over the internet is completely secure."}),V.jsx("h2",{className:"text-2xl font-semibold mt-6 mb-2",children:"6. Changes to This Policy"}),V.jsx("p",{className:"mb-4",children:"We may update our Privacy Policy from time to time. We will notify you of any changes by posting the new policy on this page."}),V.jsx("h2",{className:"text-2xl font-semibold mt-6 mb-2",children:"7. Contact Us"}),V.jsx("p",{className:"mb-4",children:"If you have any questions about this Privacy Policy, please contact us at [Your Contact Email]."})]})})}),nse=()=>V.jsx(Kn,{children:V.jsx(Yg,{children:V.jsxs("div",{className:"container mx-auto px-4 py-8",children:[V.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Data Deletion Policy"}),V.jsx("p",{className:"mb-4",children:'This Data Deletion Policy outlines how you can request the deletion of your personal data from [Your App Name] ("we", "us", "our").'}),V.jsx("h2",{className:"text-2xl font-semibold mt-6 mb-2",children:"1. Right to Request Data Deletion"}),V.jsx("p",{className:"mb-4",children:"You have the right to request the deletion of your personal data at any time. This includes any information that you have provided to us during registration, profile updates, or any other interaction with our service."}),V.jsx("h2",{className:"text-2xl font-semibold mt-6 mb-2",children:"2. How to Request Data Deletion"}),V.jsx("p",{className:"mb-4",children:'To request the deletion of your personal data, please contact us via email at [Your Contact Email] with the subject line "Data Deletion Request". In your email, include:'}),V.jsxs("ul",{className:"list-disc ml-6",children:[V.jsx("li",{children:"Your full name"}),V.jsx("li",{children:"Your email address associated with the account"}),V.jsx("li",{children:"Any other relevant information that will help us locate your data"})]}),V.jsx("h2",{className:"text-2xl font-semibold mt-6 mb-2",children:"3. Processing Your Request"}),V.jsx("p",{className:"mb-4",children:"Once we receive your data deletion request, we will take the necessary steps to delete your personal data from our systems within 30 days. You will receive a confirmation email once your data has been deleted."}),V.jsx("h2",{className:"text-2xl font-semibold mt-6 mb-2",children:"4. Exceptions"}),V.jsx("p",{className:"mb-4",children:"In some cases, we may be required to retain certain information for legal, security, or operational reasons. For example, we may need to retain data to comply with financial regulations or to resolve disputes."}),V.jsx("h2",{className:"text-2xl font-semibold mt-6 mb-2",children:"5. Contact Us"}),V.jsx("p",{className:"mb-4",children:"If you have any questions about this Data Deletion Policy or need assistance with your request, please contact us at [Your Contact Email]."})]})})}),ise=()=>V.jsx(Kn,{children:V.jsx(Yg,{children:V.jsxs("div",{className:"p-8",children:[V.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Terms of Service"}),V.jsx("p",{className:"mb-4",children:"Welcome to our application. By accessing or using our services, you agree to be bound by the following terms and conditions. Please read them carefully."}),V.jsx("h2",{className:"text-2xl font-bold mt-6 mb-2",children:"1. Acceptance of Terms"}),V.jsx("p",{className:"mb-4",children:'By using our application, you agree to comply with and be legally bound by the terms and conditions of these Terms of Service ("Terms"). These Terms apply to all visitors, users, and others who access or use the service.'}),V.jsx("h2",{className:"text-2xl font-bold mt-6 mb-2",children:"2. Modifications"}),V.jsx("p",{className:"mb-4",children:"We reserve the right, at our sole discretion, to modify or replace these Terms at any time. If a revision is material, we will notify you by email or via a notice on our service prior to the changes taking effect. What constitutes a material change will be determined at our sole discretion."}),V.jsx("h2",{className:"text-2xl font-bold mt-6 mb-2",children:"3. User Responsibilities"}),V.jsx("p",{className:"mb-4",children:"You are responsible for safeguarding the password that you use to access the service and for any activities or actions under your password. You agree not to disclose your password to any third party. You must notify us immediately upon becoming aware of any breach of security or unauthorized use of your account."}),V.jsx("h2",{className:"text-2xl font-bold mt-6 mb-2",children:"4. Prohibited Activities"}),V.jsx("p",{className:"mb-4",children:"You agree not to engage in any of the following prohibited activities:"}),V.jsxs("ul",{className:"list-disc list-inside mb-4",children:[V.jsx("li",{children:"Copying, distributing, or disclosing any part of the service in any medium."}),V.jsx("li",{children:'Using any automated system, including but not limited to "robots," "spiders," or "offline readers" to access the service.'}),V.jsx("li",{children:"Transmitting spam, chain letters, or other unsolicited email."}),V.jsx("li",{children:"Attempting to interfere with the servers or networks connected to the service."})]}),V.jsx("h2",{className:"text-2xl font-bold mt-6 mb-2",children:"5. Termination"}),V.jsx("p",{className:"mb-4",children:"We may terminate or suspend access to our service immediately, without prior notice or liability, for any reason whatsoever, including without limitation if you breach the Terms. All provisions of the Terms which by their nature should survive termination shall survive termination, including, without limitation, ownership provisions, warranty disclaimers, indemnity, and limitations of liability."}),V.jsx("h2",{className:"text-2xl font-bold mt-6 mb-2",children:"6. Limitation of Liability"}),V.jsx("p",{className:"mb-4",children:"In no event shall our company, nor its directors, employees, partners, agents, suppliers, or affiliates, be liable for any indirect, incidental, special, consequential, or punitive damages, including without limitation, loss of profits, data, use, goodwill, or other intangible losses, resulting from (i) your use or inability to use the service; (ii) any unauthorized access to or use of our servers and/or any personal information stored therein."}),V.jsx("h2",{className:"text-2xl font-bold mt-6 mb-2",children:"7. Governing Law"}),V.jsx("p",{className:"mb-4",children:"These Terms shall be governed and construed in accordance with the laws of the country in which we operate, without regard to its conflict of law provisions."}),V.jsx("h2",{className:"text-2xl font-bold mt-6 mb-2",children:"8. Contact Us"}),V.jsxs("p",{className:"mb-4",children:["If you have any questions about these Terms, please contact us at ",V.jsx("strong",{children:"support@yourapp.com"}),"."]})]})})});class FP extends fd.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,i){console.error("ErrorBoundary caught an error:",t,i)}render(){var t;return this.state.hasError?V.jsxs("div",{className:"max-w-md mx-auto p-4 text-center",children:[V.jsx("h2",{className:"text-2xl font-bold mb-4 text-red-500",children:"Something went wrong."}),V.jsx("p",{className:"text-gray-700",children:((t=this.state.error)==null?void 0:t.message)||"An unexpected error occurred."})]}):this.props.children}}const sse=()=>V.jsxs("div",{className:"max-w-3xl mx-auto bg-teal-100 p-6 rounded-lg shadow-md border border-gray-300",children:[V.jsx("h1",{className:"text-4xl font-bold text-center mb-6",children:"StableHand Typing Clinical Trial  EndUser Guide"}),V.jsx("p",{children:"Welcome to StableHands Clinical Trial Dashboard! This stepbystep guide will walk you through everything you need to knowfrom creating your account and logging in, to completing each module (Disclaimer, Background, Demographics, Interviews, Therapy, Progress Notes)."}),V.jsx("h2",{children:"1. Create Your Account & Verify Email"}),V.jsxs("ol",{children:[V.jsxs("li",{children:[V.jsx("strong",{children:"Visit:"})," ",V.jsx("a",{href:"https://stablehand-typing.web.app",target:"_blank",rel:"noopener noreferrer",children:"https://stablehand-typing.web.app"})]}),V.jsxs("li",{children:[V.jsx("strong",{children:"Click Register"})," and fill in:",V.jsxs("ul",{children:[V.jsx("li",{children:"Email, Password, Confirm Password"}),V.jsx("li",{children:"(Optional) Check Enable phone as 2nd factor and enter your mobile number to enroll SMSbased 2FA"})]})]}),V.jsx("li",{children:"Submit  Youll see Verification email sent."}),V.jsx("li",{children:"Open your email and click the link to verify your address."}),V.jsx("li",{children:"If you enabled phone 2FA, youll then be prompted to send and enter an SMS code before you can finish registration."})]}),V.jsx("h2",{children:"2. Log In"}),V.jsxs("ol",{children:[V.jsxs("li",{children:[V.jsx("strong",{children:"Email/Password:"})," enter your credentials, then click Login."]}),V.jsxs("li",{children:[V.jsx("strong",{children:"ThirdParty:"})," choose Login with Google, Facebook, etc., then follow the popup."]}),V.jsxs("li",{children:[V.jsx("strong",{children:"Forgot password?"})," Click Reset Password, type your email, then check your inbox for the reset link."]})]}),V.jsx("h2",{children:"3. Welcome Page & Navigation"}),V.jsx("p",{children:"Once logged in, youll land on the Welcome page. Youll see tiles for each section:"}),V.jsxs("table",{className:"table-auto border-collapse border border-gray-300",children:[V.jsx("thead",{children:V.jsxs("tr",{children:[V.jsx("th",{className:"border border-gray-300 px-2 py-1",children:"Section"}),V.jsx("th",{className:"border border-gray-300 px-2 py-1",children:"Purpose"})]})}),V.jsxs("tbody",{children:[V.jsxs("tr",{children:[V.jsx("td",{className:"border border-gray-300 px-2 py-1",children:"Disclaimer"}),V.jsx("td",{className:"border border-gray-300 px-2 py-1",children:"Read & accept the studys terms before proceeding."})]}),V.jsxs("tr",{children:[V.jsx("td",{className:"border border-gray-300 px-2 py-1",children:"Background"}),V.jsx("td",{className:"border border-gray-300 px-2 py-1",children:"Answer general background questions (education, work)."})]}),V.jsxs("tr",{children:[V.jsx("td",{className:"border border-gray-300 px-2 py-1",children:"Demographics"}),V.jsx("td",{className:"border border-gray-300 px-2 py-1",children:"Enter personal details (age, gender, etc.)."})]}),V.jsxs("tr",{children:[V.jsx("td",{className:"border border-gray-300 px-2 py-1",children:"Medical Interview"}),V.jsx("td",{className:"border border-gray-300 px-2 py-1",children:"Share your medical history and current health info."})]}),V.jsxs("tr",{children:[V.jsx("td",{className:"border border-gray-300 px-2 py-1",children:"Parkinson Interview (PDQ39)"}),V.jsx("td",{className:"border border-gray-300 px-2 py-1",children:"Complete the standard PDQ39 questionnaire."})]}),V.jsxs("tr",{children:[V.jsx("td",{className:"border border-gray-300 px-2 py-1",children:"Therapy"}),V.jsx("td",{className:"border border-gray-300 px-2 py-1",children:"Perform typing tasks on different backgrounds."})]}),V.jsxs("tr",{children:[V.jsx("td",{className:"border border-gray-300 px-2 py-1",children:"Progress Notes"}),V.jsx("td",{className:"border border-gray-300 px-2 py-1",children:"Add notes about your performance and observations."})]})]})]}),V.jsx("h2",{children:"4. Completing the Disclaimer"}),V.jsxs("ol",{children:[V.jsx("li",{children:"Read the study consent text carefully."}),V.jsx("li",{children:"Click the I Agree button at the bottom."}),V.jsx("li",{children:"Youll be automatically returned to the Welcome page."})]}),V.jsx("h2",{children:"5. Background & Demographics"}),V.jsxs("p",{children:[V.jsx("strong",{children:"Background:"})," fill out fields like Highest Education, Profession, etc."]}),V.jsxs("p",{children:[V.jsx("strong",{children:"Demographics:"})," enter your name, date of birth, gender, ethnicity, income bracket, etc."]}),V.jsx("p",{children:"All fields marked with a * are required. Inline error messages will appear if you leave something blank or mistype."}),V.jsx("h2",{children:"6. Medical & Parkinson Interviews"}),V.jsxs("ol",{children:[V.jsx("li",{children:"Medical Interview: answer questions about past illnesses, medications, allergies, and family history."}),V.jsx("li",{children:"Parkinson Interview (PDQ39): rate how Parkinsons affects you over the last month (mobility, daily activities, emotions)."}),V.jsx("li",{children:"Use the Next / Back buttons at the bottom to navigate between pages."})]}),V.jsx("h2",{children:"7. Therapy (Typing Tasks)"}),V.jsxs("ol",{children:[V.jsxs("li",{children:[V.jsx("strong",{children:"Select a Background"}),"use the dropdown or color picker on the left."]}),V.jsxs("li",{children:[V.jsx("strong",{children:"Start Typing"}),"a text passage appears; retype it as accurately and quickly as you can."]}),V.jsxs("li",{children:[V.jsx("strong",{children:"Submit"}),"click Submit when finished; your typing speed, accuracy, and keystrokes are recorded."]}),V.jsx("li",{children:"Feel free to switch backgrounds between passages to see which yields your best performance."})]}),V.jsx("h2",{children:"8. Progress Notes"}),V.jsx("p",{children:"After your typing tasks, jot down any observations in Progress Notesfor example, how you felt, any fatigue or discomfort, or environmental distractions."}),V.jsx("h2",{children:"9. Logging Out"}),V.jsxs("ol",{children:[V.jsx("li",{children:"Click your profile icon (top right)."}),V.jsx("li",{children:"Choose Sign Out."}),V.jsx("li",{children:"You can log back in anytime; youll return to where you left off."})]}),V.jsx("h2",{children:"Tips & Troubleshooting"}),V.jsxs("ul",{children:[V.jsxs("li",{children:[V.jsx("strong",{children:"Email not arriving?"})," Check your Spam folder or click Resend verification on the Registration page."]}),V.jsxs("li",{children:[V.jsx("strong",{children:"SMS code delayed?"})," Wait a minute, then click Resend SMS."]}),V.jsxs("li",{children:[V.jsx("strong",{children:"Form wont submit?"})," Look for red inline error messages identifying the problem."]}),V.jsxs("li",{children:[V.jsx("strong",{children:"Need help?"})," Use the Help link in the footer or open a GitHub Issue in the ",V.jsx("a",{href:"https://github.com/drorafreedom/StableHand-Typing",target:"_blank",rel:"noopener noreferrer",children:"repo"}),"."]})]})]}),ase=()=>V.jsx(Kn,{bgColor:"bg-teal-500",children:V.jsx(sse,{})}),ose=({onClick:n})=>V.jsx("button",{onClick:n,className:"absolute top-2 left-2 z-50 p-1 focus:outline-none",children:V.jsx("img",{src:W4,alt:"Toggle sidebar",className:"w-8 h-8"})}),Dh=["Yes","No"],Nh=["1","2","3","4","5","6","7"],lse=["Laptop","Desktop","Tablet","Phone"],cse=["Builtin laptop keyboard","External USB keyboard","Bluetooth keyboard","Onscreen keyboard"],use=["US QWERTY","UK","DVORAK","COLEMAK","Other"],hse=["Desk chair","Standing desk","Couch/bed","Other"],dse=["WiFi","Ethernet","Cellular"],C_=["Sine","Tan","Cotan","Sawtooth","Square","Triangle"],iR=["Static","Up","Down","Left","Right","Oscillate Up/Down","Oscillate Left/Right","Circular"],fse=["Circle","Square","Triangle","Chevron","Diamond"],pse=["Random","Regular Grid","Checkboard"],mse=["None (single color)","Rainbow","Pastel"],gse=["Sine","Linear","Circular","Fractal"],yse=["Copy provided text","Free typing","Timed 60sec test","Numbers & symbols"],vse=["Simple","Intermediate","Complex"],_se=[{id:"session",title:"Session & Consent",fields:[{label:"Tester ID",name:"testerId",type:"input",inputType:"text",placeholder:"caltechalias or initials",validate:[sr]},{label:"Email (optional)",name:"email",type:"input",inputType:"email"},{label:"Date of Birth",name:"dob",type:"input",inputType:"date",validate:[xw]},{label:"Consent to store anonymized data",name:"consent",type:"select",options:Dh,validate:[sr]},{label:"Session Label",name:"sessionLabel",type:"input",inputType:"text",placeholder:"e.g., debug run #1"}]},{id:"environment",title:"Environment & Hardware",fields:[{label:"Device type",name:"deviceType",type:"select",options:lse,validate:[sr]},{label:"OS",name:"os",type:"input",inputType:"text",validate:[sr]},{label:"Browser",name:"browser",type:"input",inputType:"text",validate:[sr]},{label:"Screen (e.g., 2560x1440 @ 2x)",name:"screen",type:"input",inputType:"text",validate:[sr]},{label:"Connection",name:"connection",type:"select",options:dse},{label:"Input method",name:"inputMethod",type:"select",options:cse},{label:"Keyboard layout",name:"keyboardLayout",type:"select",options:use},{label:"Distance from screen (cm)",name:"distanceFromScreenCm",type:"input",inputType:"number",placeholder:"e.g., 60"},{label:"Posture / seating",name:"posture",type:"select",options:hse},{label:"High refresh display?",name:"highRefresh",type:"select",options:["Yes (120Hz)","No","Unsure"]}]},{id:"global",title:"Global Usability & Performance",description:"Overall impressions regardless of animation type",fields:[{label:"Clarity of motion (17)",name:"clarityMotion",type:"select",options:Nh,validate:[sr]},{label:"Visual comfort for 60s (17)",name:"visualComfort",type:"select",options:Nh,validate:[sr]},{label:"Responsiveness of controls (17)",name:"controlResponsiveness",type:"select",options:Nh,validate:[sr]},{label:"Performance issues",name:"performanceIssues",type:"multiSelect",options:["Frame drops","Input lag","Stutter on resize","Color banding","None"]},{label:"Bug report",name:"bugReport",type:"textareascroll",placeholder:"What broke or felt wrong?"}]},{id:"waves",title:"Waves / Equations",description:"Only complete if you used the wave/equation animation",fields:[{label:"Wave types tested",name:"waveTypesTested",type:"multiSelect",options:C_},{label:"Directions tested",name:"waveDirectionsTested",type:"multiSelect",options:iR},{label:"Parameters explored",name:"waveParamsExplored",type:"multiSelect",options:["Angle","Amplitude","Frequency","Speed","Thickness/Stroke","Phase offset","#Lines","Line distances","Group count","Group distance","Colors/Palette"]},{label:"Easiest to type over",name:"waveEasiest",type:"select",options:C_},{label:"Most distracting",name:"waveMostDistracting",type:"select",options:C_},{label:"Uncomfortable settings (notes)",name:"waveUncomfortable",type:"textareascroll",placeholder:"e.g., frequency > 200, thickness < 2"},{label:"Suggested defaults",name:"waveSuggestedDefaults",type:"textareascroll"}]},{id:"shapes",title:"Shapes",description:"Only complete if you used the shape animation",fields:[{label:"Shapes tested",name:"shapeTypesTested",type:"multiSelect",options:fse},{label:"Layout tested",name:"shapeLayoutsTested",type:"multiSelect",options:pse},{label:"Palette tested",name:"shapePalettesTested",type:"multiSelect",options:mse},{label:"Direction tested",name:"shapeDirectionsTested",type:"multiSelect",options:iR},{label:"Grid tuning tried",name:"shapeGridTuning",type:"multiSelect",options:["Row distance","Column distance","Row offset","Column offset","Size","#Shapes (Random)"]},{label:"Best balance: visibility vs. distraction (notes)",name:"shapeBestBalance",type:"textareascroll"},{label:"Aliasing/jagged edges seen?",name:"shapeAliasing",type:"select",options:Dh},{label:"Edge wrapping behaved correctly?",name:"shapeWrapping",type:"select",options:Dh}]},{id:"color",title:"Color Field",description:"Only complete if you used the colorfield animation",fields:[{label:"Styles tested",name:"colorStylesTested",type:"multiSelect",options:gse},{label:"Gradient smoothness (17)",name:"colorSmoothness",type:"select",options:Nh},{label:"Typing visibility against background (17)",name:"colorTextVisibility",type:"select",options:Nh},{label:"Color clashes noticed (notes)",name:"colorClashes",type:"textareascroll"},{label:"Duration felt",name:"colorDurationFelt",type:"select",options:["Too fast","OK","Too slow"]}]},{id:"typing",title:"Typing Task & Stabilization",fields:[{label:"Task attempted",name:"typingTask",type:"multiSelect",options:yse},{label:"Text difficulty",name:"textDifficulty",type:"select",options:vse},{label:"Session duration (min)",name:"sessionDurationMin",type:"input",inputType:"number",placeholder:"e.g., 10",validate:[gu]},{label:"WPM (if known)",name:"typingWPM",type:"input",inputType:"number",placeholder:"auto or manual",validate:[gu]},{label:"Error rate % (if known)",name:"typingErrorRate",type:"input",inputType:"number",placeholder:"auto or manual",validate:[gu]},{label:"Perceived stabilization vs blank background (17)",name:"stabilizationPerceived",type:"select",options:Nh},{label:"When did errors spike? (notes)",name:"errorSpikeNotes",type:"textareascroll",placeholder:"e.g., oscillation range > 150, speed > 10"},{label:"Background that best supported accuracy",name:"bestBackground",type:"select",options:["Waves","Shapes","Color field"]}]},{id:"presets",title:"Presets & Data Flow",fields:[{label:"Preset flows tested",name:"presetFlowsTested",type:"multiSelect",options:["Save preset","Load preset","Overwrite preset","Export CSV"]},{label:"Loaded preset fully restored visuals?",name:"presetRestored",type:"select",options:Dh},{label:"If not, what diverged?",name:"presetDivergedNotes",type:"textareascroll"},{label:"Control labels confusing?",name:"labelsConfusing",type:"textareascroll"}]},{id:"accessibility",title:"Accessibility & Safety",fields:[{label:"Motion sensitivity triggered?",name:"motionSensitivity",type:"select",options:Dh},{label:"Would use a reducedmotion mode",name:"preferReducedMotion",type:"select",options:Dh},{label:"Preferred colorblindsafe palette",name:"colorblindPalette",type:"multiSelect",options:["Deuteranopiasafe","Protanopiasafe","Tritanopiasafe","Highcontrast","None"]}]},{id:"notes",title:"Additional Notes",fields:[{label:"Anything else we should know?",name:"additionalNotes",type:"textareascroll"}]}];function bse(n){return String(n??"").replaceAll(`
`," ").replaceAll("\r"," ").replace(/,/g,";")}function xse(n){return Array.isArray(n)?n.length===0?[]:typeof n[0]=="string"?n:n.map(t=>t.value):[]}const wse=()=>{const{currentUser:n}=Rc(),[t,i]=Ee.useState({}),[r,s]=Ee.useState({}),[o,a]=Ee.useState(null);Ee.useEffect(()=>{var w,S,R,D,A;const d=Math.round(window.devicePixelRatio*10)/10,f=`${window.screen.width}x${window.screen.height} @ ${d}x`,b=navigator.userAgent||"",g=((w=navigator.userAgentData)==null?void 0:w.platform)||navigator.platform||"",v=(R=(S=navigator.userAgentData)==null?void 0:S.brands)==null?void 0:R.map(C=>`${C.brand} ${C.version}`).join(", "),_=g||(((D=/Windows|Mac|Linux|Android|iOS/i.exec(b))==null?void 0:D[0])??"Unknown"),x=v||(((A=/Chrome|Edg|Firefox|Safari/i.exec(b))==null?void 0:A[0])??"Unknown");i(C=>({...C,os:C.os||_,browser:C.browser||x,screen:C.screen||f}))},[]);const c=d=>{const{name:f,value:b}=d.target;i(g=>({...g,[f]:b})),s(g=>({...g,[f]:[]})),a(null)},l=(d,f)=>{const b=xse(d);i(g=>({...g,[f]:b})),s(g=>({...g,[f]:[]})),a(null)},u=t.animationType||"",p=_se.filter(d=>["waves","shapes","color"].includes(d.id)?d.id===u||u==="":!0);async function y(d){d.preventDefault();try{const f=new Date,b=(n==null?void 0:n.uid)||"anonymous",g=computeAgeFromDOB(String(t.dob||"")),v=toAgeRange(g),_={...t,userId:b,timestamp:f.toISOString(),localDateTime:f.toLocaleString(),ageAtSession:g,ageRange:v},x=Ra(Ds,`users/${b}/therapy-feedback`),w=Tl(x);await Gu(w,_);const R=Object.keys(_).map(A=>{const C=_[A],j=Array.isArray(C)?C.join(";"):C;return`${A},${bse(j)}`}).join(`
`),D=bs(xs,`users/${b}/therapy-feedback/${f.toISOString()}.csv`);await py(D,R),a({type:"success",text:"Thanks! Your feedback was saved."})}catch(f){console.error(f),a({type:"error",text:(f==null?void 0:f.message)||"Error submitting data."})}}return V.jsx(Kn,{children:V.jsx("div",{className:"min-h-screen w-full flex justify-center bg-gray-50 py-8 px-4",children:V.jsxs("form",{onSubmit:y,className:"w-full max-w-5xl bg-white border border-gray-200 rounded-2xl shadow p-6 md:p-10 space-y-10",children:[V.jsxs("header",{className:"space-y-1",children:[V.jsx("h1",{className:"text-2xl md:text-3xl font-semibold tracking-tight",children:"Therapy Feedback"}),V.jsx("p",{className:"text-sm text-gray-600",children:"Answer what you used and how it felt. Sections appear based on the animation type."}),V.jsx(Cd,{})]}),o&&V.jsx(On,{type:o.type,message:o.text}),p.map(d=>V.jsxs("section",{className:"space-y-4",children:[V.jsx("h2",{className:"text-lg font-medium",children:d.title}),d.description&&V.jsx("p",{className:"text-sm text-gray-600",children:d.description}),V.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:d.fields.map(f=>{const b=t[f.name];return f.type==="input"?V.jsx(oi,{label:f.label,name:f.name,type:f.inputType,value:b||"",onChange:c,placeholder:f.placeholder,errors:r[f.name]},f.name):f.type==="select"?V.jsx(Sa,{label:f.label,name:f.name,value:b||"",onChange:c,options:f.options,errors:r[f.name]},f.name):f.type==="multiSelect"?V.jsx(Oy,{label:f.label,name:f.name,value:b||[],onChange:g=>l(g,f.name),options:f.options,errors:r[f.name]},f.name):f.type==="textareascroll"?V.jsx(ol,{label:f.label,name:f.name,value:b||"",onChange:c,errors:r[f.name]},f.name):null})})]},d.id)),V.jsx(Xn,{type:"submit",children:"Submit"})]})})})},Sse=()=>{const n=Cc(),[t,i]=Ee.useState(!1),r=n.pathname==="/therapy";Ee.useEffect(()=>{const o=JSON.parse(localStorage.getItem("visitedPages")||"[]");o.includes(n.pathname)||(o.push(n.pathname),localStorage.setItem("visitedPages",JSON.stringify(o)))},[n]);const s=()=>{i(o=>!o)};return V.jsxs("div",{className:"flex flex-col min-h-screen",children:[V.jsx(BX,{isVisible:t,toggleSidebar:s}),r?V.jsx(ose,{onClick:s}):V.jsx(FX,{toggleSidebar:s}),V.jsx("div",{className:"flex flex-col flex-grow w-full p-4 ml-0",children:V.jsxs(iL,{children:[V.jsx(hn,{path:"/",element:V.jsx(vL,{})}),V.jsx(hn,{path:"/login",element:V.jsx(_X,{})}),V.jsx(hn,{path:"/register",element:V.jsx(SX,{})}),V.jsx(hn,{path:"/reset-password",element:V.jsx(TX,{})}),V.jsx(hn,{path:"/logout",element:V.jsx(NX,{})}),V.jsx(hn,{path:"/stablehand-welcome",element:V.jsx(WX,{})}),V.jsx(hn,{path:"/thank-you",element:V.jsx(zX,{})}),V.jsx(hn,{path:"/contact",element:V.jsx(qX,{})}),V.jsx(hn,{path:"/background",element:V.jsx(YX,{})}),V.jsx(hn,{path:"/demographics",element:V.jsx(sK,{})}),V.jsx(hn,{path:"/medical-interview",element:V.jsx(pK,{})}),V.jsx(hn,{path:"/parkinson-interview",element:V.jsx(vK,{})}),V.jsx(hn,{path:"/therapy",element:V.jsx(Xie,{})}),V.jsx(hn,{path:"/progress-notes",element:V.jsx(AK,{})}),V.jsx(hn,{path:"/setting",element:V.jsx(_K,{})}),V.jsx(hn,{path:"/account",element:V.jsx(bK,{})}),V.jsx(hn,{path:"/disclaimer",element:V.jsx(ese,{})}),V.jsx(hn,{path:"/multifuncion-animation",element:V.jsx(t3,{})}),V.jsx(hn,{path:"/shape-animation",element:V.jsx(r3,{})}),V.jsx(hn,{path:"/background-animation",element:V.jsx(tse,{})}),V.jsx(hn,{path:"/privacy-policy",element:V.jsx(rse,{})}),V.jsx(hn,{path:"/data-deletion-instructions",element:V.jsx(nse,{})}),V.jsx(hn,{path:"/terms-of-service",element:V.jsx(ise,{})}),V.jsx(hn,{path:"/enduserguide",element:V.jsx(ase,{})}),V.jsx(hn,{path:"/verify-email-finish",element:V.jsx(Kie,{})}),V.jsx(hn,{path:"/feedbackandprogress-notes",element:V.jsx(Qie,{})}),V.jsx(hn,{path:"/therapyfeedback-notes",element:V.jsx(wse,{})})]})}),!r&&V.jsx(GX,{})]})},Tse=()=>V.jsx(FP,{children:V.jsx(dL,{children:V.jsx($4,{children:V.jsx(Sse,{})})})});function Ese(){const n=document.getElementById("root");n?fN.createRoot(n).render(V.jsx(fd.StrictMode,{children:V.jsx(FP,{children:V.jsx($4,{children:V.jsx(Tse,{})})})})):console.error("Root element not found")}Ese();
